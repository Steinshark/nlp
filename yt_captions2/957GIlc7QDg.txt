all right so i made this tweet earlier called null has to be close to a trillion dollar mistake and we even got the man brendan icon here given some information about this entire situation so i i wanted to see from his perspective we i have a whole trail of tweets we're gonna follow a whole trail of tweets here that are just about the trillion dollar mistake that is null that made it all in there okay you know what i mean fantastic so first off love this why brenda dyke why can someone please explain to me why why is this true um let's go brendan brandon's coming deep in this one null undefined foreman equivalence class under js double equals and js uh negative zero and positive zero form an equivalence class as well for triple equals as well as for double equals but not object dot is what what okay hold on hold on hold on hold on hold on so you're telling me if i go const a equals zero times negative one okay and cons to b equals zero if i go a equals b we're good a equals b we're good but if you go object dot is a b i mean i guess i can't argue with it but i mean okay uh thank you brendan brendan for this delicious piece of information the primal question is why both undefined and null see twitter right here uh why javanol and primitives infected mocha okay okay okay so we got we got more we got more on this thread okay oh we got we got a whole thread going on here as well uh so i guess let's see let's go let's go here first are you ready comment to one of my blog posts it's reasonable to argue that null is an object but the elaborate insults are not okay [laughter] what what why why why why why why in the world do people get so dang triggered on the internet okay how does this happen chat youtube for this one time why why do you get so triggered someone's like well it's reasonable to actually have null as an object because if you think about it and all is pointing to something but it's just the zero pointer so if you really think about it it could be an object and the guy's like your mother was born in the early of 20th century and she was born to some peasants of the french land and we all know that the people of frat and it's just like dude that's way too elaborate first off why is this happening second off why are you getting triggered okay let me just tell you something about javascript if you go into javascript thinking it's already a problem okay javascript's not for thinking okay javascripts for ejaculating code at high speed and it mostly works except for the build system javascript would be a great language if there's a single tool that wasn't horse or an environment or anything else anyways all right js was supposed to interconnect with java including object refs that could be null blame java yet again beautiful interesting so at the time it was all deliberate decision not something that happened accidentally which came later on right how do you describe the motivation for null type of null equals objects makes sense and was not an accident but intentional mistake not bug uh later with the disjoint types null and object and ecmascript specs type of null didn't make sense anymore null uh predates type of which later came in later which came later 1996. imagine that with java interop thanks to nick thompson's work on live connect and netscape 3. damn is this twitch chat no this is youtube chat this is a youtube live one okay we do it like once a week uh i say type of null equals object was a mistake because code that condition guards must null test before dereferencing but in java object types are nullable hmm so as with this chronology of all things themselves the motivation for null predates the motivation for type up that's why i'm talking about null and its presence in java java was to be the big brother language to javascript hence the name okay java's larger brother if i didn't have make it look like java as an order from management and i had more time hard to unconfound these two casual factors or causal factors i thought they're casual these casual factors these causal factors then i would have preferred a self like everything's an object approach no boolean number string rappers no undefined null psi this is a good question serious question though what has stopped you from building that language since then having uh say having to work for a living doing stuff let's go what's prevented you from working on javascript working for a living do having a job uh let's see having to work for a living doing stuff like mozilla firefox standards restart from 2004 on including ekma in 2005 firefox os brave kind of busy for good reasons also self exists already paid project a la dart uh nice work if you can get it requires google deep pockets yeah okay now that that is fantastic all right we're gonna keep on going a little bit more okay so we got some here here so this must be the article by dr uh uh axel oh man his name someone gave somebody the first name of axel like how can i compete with this i was born with like a bland hebrew name and this man's coming out as axel what do you do with that okay let me guess he probably stars an 80s cop drama sitcoms it's ridiculous okay ridiculous isn't it wait am i just super wait hold on am i just super dyslexic no it's axel uh it's supposed to be alex no i'm gonna definitely go with its axel okay it's clearly axel no one would just misspell their name on their own website okay he's clearly he is intentionally named axel okay what is your name none of your business get the hell out of here we're trying to get them get them on names okay by the way the likes are still weak okay we're at 742 likes with 957 concurrent viewers okay so get on it people all right all right let's keep on going with a little bit longer okay so the history of type of null updated 10 years ago uh let's see i take a look at the c code of type up to better explain why type of null represents uh results in object in javascript type of null is object which incorrectly suggests that null is an object it isn't it's a primitive value consult my blog post on categorizing values for details this is a bug and one that unfortunately cannot be fixed because it would break existing code let's explore the history of this bug the type of null bug is a remnant from the first version of javascript in the uh in this version values are stored in 32-bit units which consisted of small type tag one to three bits and the actual data of the value the type tags were stored in the lower bits of the units yep and let's see there were five of them object int double string boolean that is the lowest bit in e let's see was either one then the type tag uh was the only one bit long okay okay okay or uh it was a zero and then the type tag was three bits in length okay okay okay okay okay uh two values were special undefined js val void was an injured okay negative two to the thirty classic classic and null js value null was the machine code null pointer or all zeros think about it think about that okay so that makes perfect sense i guess but is that a bug it should now be obvious why type of thought that null was an object it examined the type tag and the type tag said objects the following engines code for type of okay so this old code doesn't really matter at this point the steps performed are the buff cozy at one the engine checks the first whether the value is undefined okay next it checks two whether the value has an object tag if it additionally is either callable or internal property class marks it as a function then v is a function otherwise it is an object this result is produced by type of null the subsequent checks are for number string boolean yep so okay so let's see okay see we see the void if it is object oh i love the fact that they had to be like is it a function or is it an object look at that look at that look at someone wrote this code i want you to just look at this and realize that someone woke up one morning and said i'm gonna write me some code and this is what came out of the code think about that for a second this is what came out of it disgusting um but hilarious at the same time uh this is the language you work in all right so this is actually pretty cool so that that's what led to this big talk right here about like no no you were wrong apparently people gave him some really let's see if we can see this um let's see uh hey axel see his name's axel i told you it's not his name's axel foley okay stars and cop dramas i thought there's some elaborate insults i'm looking for a sweet elaborate insult okay there's no elaborate insult which is exceptionally disappointing i was hoping to see who is that wait is that tom that could have been tom all right but we kept on going we keep on going uh okay which we've already done this one uh all right uh let's see okay yeah yeah yeah yeah yeah yeah yeah i love that one let's see okay here we go we're gonna we're gonna keep on going if you designed the js from scratch today what decisions would you make differently counter factual alert but see this one if not typed language obvious stuff shorter function keyword when nil only no undefined and null no primitives versus reference types java trash option run time with uh match expression expression language okay so effectively he just wanted to create i mean brendan he wanted to he originally wanted to create something like scheme right he wanted it to be a functional language to begin with correct i like function rust the script it could have been rest the script uh i would have uh i don't i would not want to see nil either i would i would actually not to say that i would like because if you're if you're gonna do match expressions right if you're going to do match expressions if you're going to do pattern matching you should jump into options right options and results beautiful what's nil well nil is just null or undefined nil is zero nil is nothing nil is zero it's literally just zero let's see back in the day like scheme it mainly meant first class functions and dynamic types not sure unsure about that one okay is there anything i think we have a little bit more uh we have a little bit more which is we have this little we have this little little thing we're gonna pull out right here so i don't know how loud this is going to be so hold on but i've come to learn now that i'm all right here we go but i've come to learn now that i'm aging is that like whenever you're designing a program like there's things that you think might be cute to add in you always regret those if they are if they are unnecessary and simply cute like don't do them uh but i've come to i do agree index.js is just the worst oh this is funny i don't know why this is in here but this is fantastic let's go all right and then we've already read through all this having to work okay cool so this is it this is the story of how null became a thing i'm a little bit shocked at that it did this right that null that null made it all the way in because of management i think this just goes to show that even a bad language can be made worse by bad management exists in the name this type of object