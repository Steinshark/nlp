all right mato is going to tell us a little story right here about how aws fooled the devs and sabotaged the industry one way or another we are all tied to amazon google or microsoft or github or whatever okay that are investing in some of our technologies and providing funds in various ways okay i'm not saying it's it's a direct thing okay but they have their own cloud products okay and they are pushing this down okay now the surge of serverless and a lot of other pay by uh millisecond thing okay pid by consume okay has made absolutely damaging for those companies to invest even one dime in performance okay love that take i can't tell you how many times i've seen someone have serverless code and they're just like oh i don't care how it performs you know why cuz it's serverless it'll just go up it it'll just go down nobody cares it's just going to go up it's just going to go down it's just like oh dear goodness okay because here's the deal is that i know a lot of people don't care about performance but there is something about caring about your code in a deep way that if you don't have a thorough caring for it including the performance side i just think you write worse code i just think you're just not in it to win it you're just simply in it to make it done and then after a while that just leads to the worst choices okay you make you do design by twitter choices i want to see you getting after it i want to see you actually making some good decisions here okay oh fascinating oh my god i've never heard this take i mean duh it makes sense the incentive yeah it's like we don't need your stuff to be slow we don't need it to be fast yeah exactly yeah we are paying us for compute you pay for more resources okay look look even i even even a hotter take than that okay please oh my god all all the hot takes we agree we are going so aws is going has gone so good length in trying to frame the narrative that to get more more of your money because you know you know no js is you know is a synchronous can run multiple request at the same time with great speed right i love mato matta is awesome but i do not believe that take continue on right right despite what despite what people who write ruby or python might tell you okay yeah okay got him got him okay no j this just in no js is better than ruby i am totally on your team that no. js is probably better than ruby can we get an amen can we get an amen in the chat i believe it i believe it okay i'm not going to say anything negative about python though okay because python you can dip you can dip that little python in the se just dip that little python right into se and all of a sudden it gets fast okay so i'm just not going to i'm not going to dunk on the python all right amen and chut so again ruby and python runs one request at the time okay and uh uh we is that true that can't be true python has i i would be just shook if that was the case right like i would assume d jango is some sort of they just have some threads right and they have some set of real threads green threads and they just run it in the identical way right python is well python is single thread i mean so is node node is no different yeah they have ayio yeah i've used ayio before jeno you run with celery which does threading okay i hate the names that python comes up with you know just use jeno with celery duh you're just like what the hell did you just say to me boy boy why what the hell did you just say to my face hole and it's just like dude duh everybody knows about celery and d jango combination you use a little bit of hugo on the side you're just like dude i hate everything you have to say but okay so this is obviously i don't think i think he's saying the default option is one at a time giving mato because matteo is very very smart and so i'd be shocked if he was saying that he thinks uh python is purely uh uh single-threaded he obviously knows it's not purely single threaded because he obviously knows a lot about these kind of things it's just that they don't have an async primitive like javascript does right javascript you have asyn a8 it's very easy to do the multiprocessing correctly you know what i mean i'm not saying it's it's it's good i'm just saying it's easy to do the multi-processing of requests easily python is purely single-threaded i mean javascript is purely single threaded with the great manager python has async too okay i didn't know that it has async does it have like does it have a weight and async and all that i honestly i never use python i python is the language in which i wish in which i wish i knew better but i have no desire to learn it better it's kind of like you know it's kind of like when someone says i'm going to go learn a language and you're just like ah yeah i'd love to learn a language but i don't really actually care that's python this is great i love ruby i love python i don't i'm just yeah yeah no nobody's poo pooing on those communities but there's just a lot of poo pooing on node which i uh uh right here i will poo poo on ruby okay uh line me up set them up i will gladly knock him down i will poo poo all over i don't like you can do the same thing with those languages by the way you can run event based computation on ruby and python it doesn't matter okay it's the same logic okay so you have languages that are capable of running multiple requests a lot of them actually thousands on the same process most of our apps literally take some data from a database and send it out by the way if you are running react you cannot do a th000 requests per second like even the most simple react you you're going to be struggling getting a th000 requests per second okay you do a little server render of a of a quick body little di a couple divs in there not going to happen it's just not going to happen sorry server side rendering react just it ain't fast it ain't speedy okay it's not going to be speedy and that's okay you don't you don't you don't use react to go fast you use react to talk about it on tech twitter we all we all know that okay uh okay i know i onreact all the time i'm going to say one nice thing about react react is attempting to continuously improve developer experience and they're trying very hard to do a good job okay so when one database qu is running i can definitely send another one down the line because i'm not you know my cpu and memory are basically idling there i'm trying i tried so nodejs made a huge splash because it was a synchronous and it was able to handle thousand of concurrent request from a single tiny node process even a tiny raspberry pi can run hundreds of concurrent request on most things okay that that is if you're doing nothing right like i do think you need to qualify what what does it mean to run all these requests um you can run sure you can run thousands of requests if your endpoint just as a sleep timeout right a one second sleep uh but what does it mean to actually do something if you're doing any significant work in node that is where you actually start to fall apart right that is where things really start to fall apart and every time you add in promise per request it really genuinely slows down the system a huge amount uh i'm not just blowing not just blowing smoke here's a profile of an application we will be making faster on frontend masters by the way by the way uh and look at this most of the time you'll notice is spent in idle why are we idling yet when i add more requests our whole thing slows down more it's because the async stuff is actually terribly slow in node uh there's a whole thread on twit twatters why it is but uh you can't just simply keep inserting more and more asynchronicity into your node application assuming it's going to get faster bu bu bu bu aws convinced everybody that running more than one request at a time per process was wrong and you know they have you pay per second even when that cpu is idle this is iws lambda i mean he's absolutely right that has always been the craziest thing about serverless is that why i mean i get the idea but the i but the the just the the sheer notion of one request per process blows my mind right like the entire efficiency of node is is the fact that you can run a like request through a like with a bunch of asynchronous or a concurrency to it where even a pretty layman programmer can do it pretty successfully like that's like the selling point of node is that it's simple is that it's not hard we actually made a serverless lambda which waited for a database to respond that was stupid of us yes that is it's the zero start uh off cost that sold everyone yeah yeah the layman yeah i mean real real talk node has done great things for the programming community i don't want to crap on or shall i say javascript v8 but also node because node makes it accessible where people can build entire stacks in one language and learn how things work all the way up it's usually not one request per process i it would be crazy but that's kind of the thought process you have to go through you're not thinking about scaling out something to live long term you're thinking about just making it live a single request cycle which is very very different so if you use a ws lamb that you're paying even if your cpu is literally doing nothing and everybody is believing in this massive lie essentially that is a better model it's better for them so i will in defense of serverless or shall i say lambas or any of these things is that you also get the ability if you write your program in such a way you also get the ability to just kind of like move it anywhere it needs to be and this is where all that edge computing and everything this whole notion comes from is that you can be able to go to any region and run it which does i mean it it can be better and to write that type of infrastructure to have multi-regional support and all this kind of crap is actually really really difficult and it it's not like you can just just you can't just simply do it with one person also building the ui so there is an obvious cost benefit to creating an application that uses these tools because you don't have to hire somebody to actually run all of your infrastructure so there is like a real win there right there is definitely a real win fly iio yeah exactly like fly iio shuttle rs like these are all companies that are trying to do the same thing even for sell for sell's doing the exact same thing where they're just trying to make you uh like forget about infrastructure and hey you will pay more but you like you don't pay more because you don't have to hire someone because your idea doesn't really even have uh fruition yet right it's just barely starting so it is good to to think about that uh in defense of serverless you also have the ability to burn through investors money faster yeah i don't know if that's actually true right like real talk is that actually true let's just say that you have two devs building an application okay that's it we're whipping it out i actually want to hear that i actually do want to hear this uh kaji okay hold we're bringing you up you're getting on the big board def defend this one defend your argument right here because i want to hear why it's time we're doing this we're doing this live we're doing a little you know i want i want i want to know know i want to know about your thought process here i'll wait i i'm fine waiting i'm waiting i'm waiting for you aws gives you like 100k uh free credit to young startup did you just wait hold on are you agreeing with me now then the startup uh starts building a pipeline that is going to burn that in months okay okay okay i see what you're saying they play the long game okay okay so let's let's go through this again in defense of serverless you have the ability to burn through your investor's money faster with hype a s gives you 100k of free credits to a young startup then the startup starts building a pipeline that is going to burn that in months um i mean first off you're you're making the the greatest logical fallacy right off the rip which is that startups have users okay we don't have users okay we go from one user to two users to four users over the course of multiple months showing doubling in user growth all right double and then you double again then you double again in okay it's about growth it's not about any absolute position we don't talk about absolutes around here okay it's all about relative positioning second off is this actually true i mean obviously aws wants to give you these free little bits because they want you to use them because they know that if they can get you on it and you build an infrastructure around it you will end up having to start using them without the credits you're absolutely right on that but i do want you to think about the other side of things for just a quick second okay like let's let's just be real for a quick second here while i'm in white light mode this is emotionally painful let's uh hold this is me trying to explain the difference between a 303 and a 302 if you don't know the difference you are weak um all right this is really painful so let's go like this let's go into where where is dark mode dude i never remember where i swear dark mode is right here okay stop moving all right so this is how i kind of think about it is that you have something like two devs uh both both obviously doing full stack uh htm x because you you built a good startup okay and so this is going to cost you something like you know if you do all the benefits depending on how competitive your your pay is the fully loaded stuff you also have to have management software all these different things that adhere to government 6% social security tax blah blah blah blah so let's just say you're paying them 100k each cuz this is a startup and these are the founding devs and you're trying to pay each other so that way you can you know not die so really your fully loaded cost is going to be something like double that so it's going to be about 400k now if you were to be like hey i don't want to have to use uh server lless because i don't want to have to pay a lot of money in the end we're going to have to hire a non-f founding engineer and we need to be able to pay him competitively therefore you're going to have to have one infra like dev right that's actually doing all these things and that is going to cost all of a sudden a lot more because they're not getting all the stalks up here your payment is in stalks right you're betting on the company down here maybe less ston right maybe this person wants much less ston again fully loaded cost care all that crap that goes with it cost more right and so they get less sts right but this is very important to understand is that will your aws cost something like 300,000 a year to begin with in your company that doesn't even have any actual users my my guess is no it won't so do i think that start that startups should use serverless i actually think it's a pretty good starting point but you want to build your application in such a way that when you need to actually go off of startup or out of startup mode you can right you don't want to build it in such a way that is just like fully relying on every last piece uh i am a big fan of managed databases that's why why i love tel uh i'm a big fan of certain aspects of this cuz i think they're really really good but you got to be careful on exactly what you use um you got to set limits you got to set alerts you got to do all the things smart so you don't accidentally wake up to $100,000 spent in a single night because you actually did a recursive aws call you know what i mean you got to be a bit smart uh but serverless has heavy lock in uh it doesn't it doesn't right it just it really a some part of it is going to have to be how you write your code if you write your code like it it's going to be a single request p uh a single process per request and you just ejaculate code in there and you build everything around this notion of having zero state always and every connection has to be built up for the first time ever yeah you're going to have problems transferring that into a full process maybe don't build it that way maybe think about things in a slightly longer term fashion okay it's you know it you need to know the trade-offs lambdas are great at low volume because they scale to zero and start very fast in generically schem of thing try running a lot of lambas lambdas and then check your aws bill okay this is going to be you're going to be hit pretty heavily down if if you if you have a lot of lambda calls because or even worse you know that there is a massive amount of limit of how many lambdas you can spawn on a single aws account i know if you know this but oh i didn't know that i didn't know that either how many can you have simultaneous i think by default is i think 256 oh the old the the old two to the eight who doesn't like a little two to the8 limitations i think that is completely reasonable to make it a power of two this also isn't true is it not true 256 by the way i think it is a th per account okay it's a th000 per account it's closer to 10k to 100k 2 to the 8 100k 1,000 it sounds like all of you are are telling me different things checked uh checked that but it is a th000 per lambda okay so it's a th000 420 16.5 five lambdas that's probably the most accurate one am i at an auction you are at an auction you can under 256 concurrent requests on the default account you need to raise it okay so did you guys check to see that a default account because i mean he's talking about the very first entry into aws it can be raised okay yeah i know but that's that's that's good to know right it's good to know that you have a default of some lower value if you planned on scaling hard and all of a sudden you get hit with a like uh the correct answer is i don't know yes that is the correct answer but real talk like if you didn't know that there's this hard limit that exists somewhere and you all of a sudden like drop your stuff on some sort of you know whatever it is product hunt whatever and you just get absolutely limited on how many requests you can make for a moment like that could be that won't reflect well right it's it's good it prevents dos a cost attack that's good i mean dos that that i mean the limit is important i i understand that uh the only hard limit i know about aws is the number of t3 instances you can have that's not great yeah oh wow and if you run out okay then they start getting cute wow and in the same time you can you know oh wait a sec i i can spawn 10,000 lambdas okay wait a second i can run 10,000 concr request on a single uh machine on fargate and it's significantly better performance and but very interesting they don't ship scale to zero on fargate sorry you know i'm just calling out the ws bad market strategy to to sabotage the industry but that's the to make more money which is great for them i i mean i honestly i do i do ag i i do like everything he had to say even if the numbers were slightly inaccurate based on what chat's saying that doesn't bother me right uh those kind of notions where like hey i like mat ta but this isn't true i mean there is a lot of things that are true about what he's trying to say which is like when you build your infrastructure around a very specific thing like this it can cost a lot of money how many articles have we read in which people simply get off some aws lambda calls and they reduce their monthly uh burn by like $30,000 a month we've done several of these it almost exclusively involves elixir sometimes i feel like i'm uh kind of a little bit like elixir envious because i don't know elixir and every time i hear about elixir it's always with someone making a really great server and maybe i'm wrong could i be the person that's wrong no the kids are the ones out of touch um and so maybe elixir is a great thing to learn i don't know i don't know uh sometimes you have to exaggerate uh to make them see the point yeah so that's what i damn kids that's what i'm trying to like think about get out of here that's right night sh dude was so ready for you get him out of here get that elixir shill out of here but real talk like just something i've been thinking more and more about which is you know what is the cost of these things is it actually worth it is tech twitter really steering people in the right directions because at the end of the day when you get past phase zero to phase one is all of this things that you've built worth it how many stories do we have to read where the company's literally spending hundreds of thousands of dollars a year because they just they they went all in on a specific technology and now the specific technology is really expensive i don't know it's just a good thing to know it's a good thing to think about and it is something that we should probably you know you you should be a little bit you should be a little bit more careful about because it is totally not you know you got to be careful and so i i want to live in that way where i think about things a little bit more and i don't just promote something because it's easy do you know what i mean the name is the prim ofy