those of you who watch wan show will know this already, but i bought a warehouse. the plan is to turn this place into a badminton center slash lan gaming area. but as you can see, given the state of things, we're not going to be doing that anytime soon. but i want to play games with my friends now! so i did the only sensible thing and said, screw it! we're hosting a lan party at my house instead. naturally, i told the wife that we're doing it to prototype some gear that we want to use for the real thing, which smoothed things over a little bit. that is until i invited the entire company and their significant others and their friends. working out to a total of nearly 100 people on the rsvp. but before we get there, we have got some problems to solve. how are we going to power that many pcs? where are we going to put them? is this wimpy air conditioning going to keep up with it all? oh my gosh, this is where my furniture is. at least they tarped it. am i going to be married by the end of all this? future me probably knows the answers to all of that. ubiquiti was crazy enough to sponsor this entire thing after already sponsoring the whale lan at ltx 2023. we are talking 10 gig networking to every seat with easy planning in the unified design center and blazing fast wi-fi 6e throughout the entire house. that helps, right? fast wi-fi. it's good. let's have a lan party! let's go! let's have a lan party! let's go! what are you standing around cheering for? let's go! i'm not moving. the time is now 10:20, which leaves us with... ah, it can be a little late. let's say, uh, six hours before the lan show. that should be fine. you have to shoot another video, too. orders, captain. i thought you were in charge. i am in charge. okay, good. what do we do? i don't know. ask jake. god. okay, you two go into the garage and put feet on the tables. you two come here, clean this sh** up. you got the plans on your phone, just follow that. you got to bring tables and chairs in here. two more of you, kevin, brian, you're in that room. let's go. we got more rooms. i'm still not sure exactly what's going on. oh, oh my gosh. did you guys hit something already? it's been one minute. do you want feet protector on these? no, these are fine. all right, if your floors get ruined, i take no responsibility. oh, no, we all know that'll be colton. bro. we're putting 12 tables in the garage? that's the floor plan. you know, it's not heated in here, right? we're gonna need someone to take the ram board and the masking tape and kind of make sure that any doorways or things that are going to get hit along that route are going to be okay. are you excited? i am a little stressed. i'm excited to play games. i'm not excited to clean up. wait, this is where they put the furniture from the living room? they know we're piling this room up with tables too, right? no, it's not getting piled too bad. there's like three tables. three tables? because there's power constraints. ah. which is probably something we should talk about. the lower garage, it has two circuits. we need eight. well, how are we going to do that? you are not doing that. he wanted to pull the electric car charger off the wall, disconnect it, hook it up to a power distribution box. oh, no, no, that's not what we're doing. oh my gosh, what is happening right now? is this actual work? yeah, please don't hurt yourself. i wish i was doing that. this is your plan? yeah, you see what that says right there? yeah, yeah, you got a shill for infinite cables. i get it. but where are you going to pull this from? a few places. upstairs garage, that has one circuit. that brings us to three of our eight. there's like three right inside this door for some reason. and the rest we're going to pull from the theater room. what, the theater room? well, the theater room has like six 15 amp circuits, because it's set up for all the audio stuff. right, and it's set up in case i ever wanted to put in a samsung the wall. yes. but it's a very small room, so we can only fit a couple tables in there. the rest of the power we're going to pull over here. now, because of the distance, we can't just use any extension cord. you have to make sure you get ones that are rated for 15 amps, and at 100 feet, it's pretty heavy. now, the reason for that is conductors, pretty much regardless of how good they are, have some amount of resistance. and the further you go, the greater the resistance. now, they can combat this by making the conductors thicker, which is what they did in this case, but you just have to make sure that you buy one that can handle that full 15 amps. what you want me to do? i have your perfectly organized circuit map up. it's not quite perfect because these aren't labeled, but at least in here, it says these three are one circuit. those three are one circuit. nice. two circuits in here and the one plug on north wall. i mean, this is not a tripping hazard, right? no. where are we going to put your sack? it's quite large and fuzzy. yeah. i'm starting to seriously wonder if this was a good idea. people are going to put all this stuff back, right? let's go get the tablecloths. wow. we're going to be that classy? yeah. we don't want to scratch your walls, linus. i mean, i thought this looked great as it was. no, we have tablecloths. no, no. i did that on purpose. you're not a tablecloth, silly. oh, guys, that can go. anyone want it? anyone? who wants a media console? who's taking it? colin's taking it. colin's taking it. we got a taker. let's go. yeah. these noctua fans alone are worth like 40 canadian dollars. what a deal. this is a pretty good strategy. you can get rid of a lot of old crap. i know. anyone want a colton? colin didn't know that he was taking that home. he thought he was just taking it outside. what? english isn't his first language. i thought you guys said we got tablecloths. these are just square garbage bags. you took pictures of things? no, he didn't. i asked him. he's like, nah, bro. i will remember where everything goes. how close does it have to be to the original? you have security cameras everywhere in your f***ing house. there is 30 fps of photos. look, it's the first time colton had a bright idea. back to the switch that you threw at me for a second. we've got four 10 gig down links. we've got a 10 gig up link. this is one gig. it's four port 10 gig. one gig is just for poe power. if you want power with poe. why on earth would we use these? we're going to need so many of them. we're only using one of these. it's just for the spot right there in the lan room since there's two systems there. oh. the rest of them are going to be set up with these. the enterprise xg24, which is 24 ports of 10 gig and two 25 gig ports, which we actually are going to make use of. seriously, we're going to run fiber back to the mechanical room? just for a couple of them. where do we put it? this switch is going to be for pretty much this entire room. so we want to go somewhere a little bit more central. i was kind of thinking on the floor over here. on the floor? i mean, we could put it on the table. floor is probably good, actually, if we're going to have cables snaked all over here. yeah, because we're going to have to tape cables. good call. yeah, okay. conveniently, my network room is already ubiquited up the butt, so all we have to do is link it. you've brought a lot of gear here, and you also brought sean, who's our network admin guy. what are we doing? deperfecting your perfectly organized rack. oh, yeah. oh, 100%, baby. it's happening today. do you have any idea how many hours i spent on this? well, we're going to make it great. that's what sean's here for. starting with this, a dream machine se. it's really not that different than what you have. you have a dream machine pro. the main things are it has a 2.5 gig wan here. it has poe, so if you just have a couple cameras, this is a good one for you, but we needed two matching ones so we can show off shadow mode, which is like a high availability setup for dream machines, sort of. it's like a warm spare. we got to swap this in. i already downloaded the config from that one, so in theory, we unplug that and put this in, and it will just be exactly the same. nothing will break, in theory. do you have any idea how many times this man has told me that? well, it's usually what i say before you go completely off script and just start unplugging s*** deflection. i have no idea what i just unplugged. it was not very effective. this is an aggregation pro. it's meant to be like a proper core switch, like the central part of your network. it's 10 gig on all of these and then four 25s. okay. so this is going to be your new core switch in your rack, and all of your other switches will link off of this, and then the steam cache that we have for the event will link off of this, and so will some of the tables with some fiber. now, this thing is legit because we're planning to get a lot more use out of it than just this lan. once the badminton center is up and running, this is going to just live there, so we can just unroll everything, host the lan event, roll it all back up, and be back to badminton. do you recognize this thing? yeah, this is our old router. yeah. the old pfsense box. is it fast enough? yeah. so lan cache, the open-source project that people use for caching games at lan parties, so it caches like steam, battle.net, origin. windows updates too, i think. windows updates is a huge one. at ltx, that was 25% of the traffic in the lan. doesn't surprise me. it runs on nginx, which is an open-source web server that is stupid efficient, like half the internet probably runs on nginx. i've tested this particular box at 50 gig off of the cache, and we still weren't hitting 100% cpu. what do we got for drives in here? oh my god. open it up. i don't need to. i can already see you took the kioxias. no, it makes it much better once you see the rest of it. oh my gosh, you put four u.2 drives in here? yeah. the problem is this server is pcie gen 3, so you're losing a lot of performance off of these drives. yeah, i think they'll be fine. that's why i put four. yeah, these are the 7tb kioxia cd6s. still really awesome drives. we just have like 24 of them and don't really have a use for them, so this is a great one. the way to hook them up, oh my god, there's two mini sas hd ports here, yeah? yeah. they're sata or pcie, yeah? yeah. they're sata by default. it's not a bios setting, it's a jumper. no way. and it's on like page 48 of the manual. the jumper is like right under here, a physical jumper. and then you just added an 8x card to handle the other two. yeah, this is an 8x to dual m.2 that is bifurcated in the bios. luckily, this thing has bifurcation. that's a server board, that was a likely thing. yeah, and then there's m.2 to mini sas hd, mini sas hd to u.2, and it just barely fits, man. these get hot, so i had to move the fan that was here, that's usually for an extra nic, to be there for the drives. they're spaced a little bit with velcro, gets a little warm, but it also rips. and the integrated four 10 gig ports mean we can combine them for 40 gig out of this thing. it's pretty awesome, and it's so small. yeah. we got to decide where we're putting stuff. we know one of the routers is going in place of this one. yeah. the other one is just for that shadow mode thing. it's still early access, so i don't think you're going to want to deploy that in your house. put it up top. i'm thinking we just put it up there. yep, sold. so during the lan party, if there's a problem, we have that. cache. these magnetic cable management things are great. i use them for everything. check this out. not only do i hold cables in place with them, i use these ones to hold this door open. see, look. is yvonne working from home? she's not going to have internet for like a minute. it's probably fine. yolo. how many ltt merch items do you think i'm going to be cleaning up from my house after this lan that don't have people's names on them? these guys working on the important stuff. tp distribution squad. did we plan to put anyone on the stage here? no. okay. so theoretically, we could get a couch and put it here and people could use the projector. maybe. actually, no, not really. there's going to be people's computers here. hey, okay. nah, forget it. i can always count on you to tell me what's up. one thing i didn't realize is that while we're doing the wan show today, i thought we were doing it at the studio. turns out we're doing it here, which might not be that bad because... i'm already set up for streaming right here. andy, andy, be luke. we can make that work, right? yeah, this is perfect for lan show. lan show. yeah. nice. we just need dan. oh, we just need dan to help set. hey, speak of the devil. um, we decided how we're doing wan show. come, come, come, come. hey, that looks pretty good. easy. you know, i think things are kind of coming together. the family room looks great. dining room? not that. wow. we're seating a lot of people in here. heck yeah. ten? yep. the living room is going to be where it's happening, man. this is awesome. so we're just going to send it, eh? what else do we ever do? this is fair. all right. yeah, there you go. oh, it came out. cool. my favorite way to remove cage nuts. these are rack studs. if you're not familiar, they're little nylon, well, cage nut replacements. they make them in individual ones, which is what's in use for most of the rack, but they make these awesome ones called the duo, and it's specifically designed for 1u stuff. they're so easy. you just put it in, and it's a little easier when you don't have a bunch of stuff to and fro, but boom. and then once you put the piece of equipment in, you just spin these little nylon nuts on. bob's your uncle. they're super strong. anything that you could use cage nuts for, you can totally use these for. i have been asked if the network is down. correct. i will pass that along. tis booting back up. is someone coordinating the food order? i'm coordinating the food order. i just sent it. my wi-fi's down. i switched ios. i don't know how a hotspot works on an iphone. everyone just left for lunch, and while i could just sit here and eat the rest of my mountain of greek salad and load games onto my computer, i realized, you know what would be way more useful? if i figure out how to use the sono speaker setup as a pa system. i've wanted to do this basically since i installed it, and i just keep not getting around to it. now i got an excuse. you can see why we do videos here, right? but on the play store, i found an app called sonos talk intercom for sonos with 4.2 stars and 10,000 plus downloads. let's give it a shot. welcome to linus lan 2023, or should i say linus lan only ever, because we are never doing this again. welcome to linus lan 2023, or should i say linus lan only ever, because we are never doing this again. i think just the one in this room will probably be fine. i think just the one in this room will probably be fine. fast forward about an hour and some lunch, and our network setup is almost done, at least on this side. you can see there's nothing plugged in here yet. all the upstream is not done yet, but we do at least have the core switch in here, and the rest of the switch is properly uplinked to it. so the internet comes in from our dream machine into our core switch, and then we have two 10 gig links there, there, and there to each of the other switches. so those are all going to have 20 gig lacp links, and then our steam cache, wonderful 40 gig. you can see all four of them right there. we've clearly gone past necessary signage all the way to whatever this is, but we are making real progress as well. the basement room is totally set up for networking and power. the garage has gone from unpleasant and bare to still pretty unpleasant, but not bare. just hope you don't end up with the seat because you're going to be right next to the cat pee contaminated beanbag filling. i gotta throw that away. and dan has done whatever this is. okay, we got net data running here, so we can see if the cache is running. i am on wi-fi, so like this is probably not going to be the most amazing speeds. i'm getting 250 down, megabit, and i can see it on the cache, which means the cache is indeed working. the dream machine did actually plug in and adopt everything again like it was nothing, which is great. on the very off chance that there was some issue with the fiber, i wanted to have some internet, so i brought our little like backup lte puck, and we'll plug that into the dream machine, which does have failover support, so in theory it would automatically failover. this will not get used, but i'm going to plug it in anyways. now let's talk shadow mode, which is the new warm spare high availability thing that they've got going. it's really simple to cable. you basically just take a port off of your lan side on your dream machine that you have as your primary, and you plug that in to the wan port on the backup dream machine. that's all you have to do to cable it. then you go into the unified dashboard and configure shadow mode, selecting the backup dream machine as the backup, and if you do have a failure, it's not quite there yet where it will automatically failover. what you'll have to do is re-cable it ever so slightly, so you would take your lan side and plug it into the backup one, and you would take your wan, your proper wan, and plug it into the backup one, because what it's doing is keeping the config on the backup dream machine the exact same as the active one, so if there was a big failure, all you have to do is a couple simple steps to move some cables around. if you had a proper separate management network, you could actually do this all with vlans and not actually have to move any switches or have a tech on hand all the time, but in the long term, the goal is for them to have a kind of like op shadow mode that would be proper full high availability, where everything would be wired up, and if something went down, it would detect it and be like, ah, time to pull in the backup one. it's coming eventually, but in the meantime, this is what we got, and it's a hell of a lot better than nothing. we've got our core in, our lan cache is working, our minisforum is presumably working, everything's wired up. i guess all we have to do now is wire up all of that. i think in the background, people have been running ethernet cables from the switches. i peeked my head in after lunch, but we do need to run the uplinks. fortunately, when we did the renos, we ran cat 6a and 10gig to everywhere in linus's house, so anyone that's upstairs is just going to run off the existing wires that are patched in here already. we just have to kind of configure the ports, but for the downstairs, since it's a lot closer and kind of because we can, i have this super cool armored single mode fiber from infinite cables that we're just going to like run through the halls and connect the downstairs main switches at 25 gig, and actually we have enough ports that we could just run it at 50 gig, which is silly, but we're going to do it anyways with the help of these guys from flexoptics. what's even cooler about flexoptics transceivers is that they're universal. unless you specify when you're buying it, it won't have any programming when you get it. instead, you need their flexbox, which is a transceiver programmer. you plug it in and then you can configure it to be recognized as a transceiver from any number of companies. they even have it down to like specific model numbers from certain companies, and while ubiquiti products don't care what vendor or model of transceiver you're using, as long as it's generally compatible, some companies do. like if you have a cisco switch, you can like set it to any number of different cisco ones. i mean, we'll still use the ubiquiti one that's on here, because why not? but in theory, i could program it to the cisco one and it would just work. maybe i'll just do that. once it's programmed, you just take your transceiver, plug your single fiber into it, because it's by die. plug it into the switch. the other side's not connected, so it's not going to work, but it will soon. hey, uh, there's no ethernet in the living room. oh, we can solve that pretty easily. yeah, we just got to run us one of the spools up into the office. yeah, well, i don't know where the spools are, so that's not very helpful. oh, they're in the garage. they were. we got all the fiber spools already. is that one of the holes? i think that one, and then that one. oh, it's literally right here. oh yeah. yeah. they didn't hire me because i'm smart. they hired me because i plan events. for funsies, i decided to have a look at how our energy consumption has increased since we started setting up. oh, i forgot. we installed that during the solar, right? we are already up by about 30 percent, and we haven't even powered on any people's computers yet. now, here's the thing. we talked about all the different circuits and running extension cords everywhere. we are pretty sure we're not going to blow any of these breakers, but what we don't know is if we're going to blow the main service to the house. i've only got 200 amps, which, wait, is it 200 or 100? i can't remember. 200 amps. that should be fine. so you're telling me, don't dry my clothes, don't charge my car. oh, certainly don't charge the car. though, of course, the biggest star of the lan party is definitely going to be the most analog game there. super chexx hockey. let's go. come at me, bro. oh, dang. got all the controllers charged up so we can do up to eight players on pc, or i think we've got five switch pro controllers. and it's amazing how quickly one of dan's setups can go from spaghetti cables everywhere to spaghetti cables just in most places. i think we're pretty much ready, right? here, if i sat here, would that? oh, no, that's definitely not right. well, we'll figure it out. who brings two monitors to a lan? chase, did you not tell people they can only have one monitor? i couldn't help noticing that this is a really weird setup and has a bunch of stuff we didn't talk about. why are there thunderbolt nics in here? for the minisforum. and what does that do? if you want to have a game server or it runs the smb shares, people can share files. it was one of those things where, like, i could run it on your nas, but then i'd have to ask you to, like, get access to it. and it was easier to just bring the minisforum. but it couldn't run on the steam cache. it could. it's just running docker. but i like to just have the cache be its own thing. really? he just really likes that little minisforum box and wanted an excuse to use it. the cpu in this thing is almost as powerful as two 2690v4s. right. why do we need a pikvm? for the minisforum. oh, just so that you can remotely access it if you need to change anything. which actually came in handy because i screwed something up with the firewall on it. what game servers are we planning to run? counter-strike? there's a couple, like, weird lan windows games that chase brought up and they only run on windows. ok, cool. so there's a windows vm. oh, are we going to have a dedicated halo ce server? we can? we should. is it better that way? oh, yeah. ok, well, yeah. so there's no host advantage. we'll go do that after. ok. look, the fiber is all done. so we've got 50 gig to the switch out here, which is silly. we don't have ethernet in the family room like we thought. so we've got 25 gig up there and 25 gig to the lower garage. nice. and then the rest of it is all uplinked through the existing switches. each of these have 20 gig. but every individual seat has 10. that's the big thing. i think we might actually be ok for power. we're only at about nine kilowatt hours in the last hour. oh, this only updates every hour, though. we're gonna have to see how this goes. can you not? i already told you you could only have one monitor. we have like a 300 watt power budget per person. things are going great out here. i see you guys are the cold gang. any particular reason you chose the garage? because it's going to get hot. why are you also running furmark? nobody wants to go in here. oh, it's because it's the family room. they thought it was reserved for family, which would also explain why the living room is full of all the people who are the life of the party. you guys have so much energy. they try. nobody in the theater yet because our camera operator right there and chase, who's helping organize things, have already staked their claims here. but this looks freaking awesome. you brought an imac to a lan party? yes, but it was super easy to bring just like this. that's not the problem. i can game here like play league of legends, for example. yeah, it's all the games that are supported on mac, like league of legends and league of legends. i don't need more. i just finished wan show and came downstairs. it is an absolute madhouse in here and it's like this in basically every area that we set up. we had a few people rsvp and not show up, but then we also had some random show up and we really did end up with we think about 80 people. obviously, the cooling is okay. other than that, i think right now the ac is running and also the heating is running. no, no, no. i flipped the breakers off in the ac because we were worried that we were going to run out of power. i see. so speaking of which, what we haven't addressed yet is the power. how's the power doing? we're drawing 17 kilowatts. the highest i've seen it go is like 19 and a half, which sounds scary, but we're actually okay because it's a 200 amp 240 volt service, technically because there's two phases, right? so we can really load that to 80%, which is 160 amps, but that's still like 35 kilowatts. like we're fine. so we could fill like the upstairs next time. in theory. do 120 people. assuming that everything is on the right phases, evenly split up, which it probably mostly is. sick! i was worried about the ac freezing outside because it's so cold. that makes sense. you know what? with the windows open anyway, it's fine. it's fine. they actually had the bay open in the garage and everyone was happy with it other than steven chew, who was sitting right next to the open bay. so i closed it. but yeah, i mean, power's fine. oh yeah. okay. six, 700 megabytes a second. even at ltx with like 500 seats, the peak we saw was like 15 gig. well, the thing is the faster your connection is, the less likely it is to become congested because you download a game so fast that you're on it and off it. and people are pretty good about downloading games. and you usually run out of cpu on an individual client. so most people can push like two gig or something like that. maybe. my 13900k was at like 70% usage and i'm going 250 megabytes a second. yeah. sick! i figure now that there's like a hundred people in the building is a good time to test the wifi. so the ap's over there. we've got lots of people in here. 200, 300, 600, 700, 800, 900. the upload is not going to be as good. i don't know what it is about these new iphones, but i feel like the antenna is not that great because even when i'm at my house and i'm like right next to my ap, i get like maybe 500 up on 6e. on a laptop, you'll get above gig, but look at that. one, almost a thousand down. of course, as cool as all of this is, it is just the pre-show for what whale lan's are going to be like at the badminton center. i just want to shout out ubiquity for sponsoring this video, providing all the networking gear that they did. also infinite cables. yes, we will talk about infinite cables, jake. oh, and also flex optics for providing some of these transceivers. we are going to be taking all this stuff, ripping it out of my house, obviously, packing it over to the lan center and getting some sick events going over there. i hope to see you guys there. if you guys enjoyed this video, oh, maybe go check out the one where we roasted people's rigs at whale lan 2023. it was amazing. some of them were so dumb, but cool. there's pee in the water. there's pee in the water. oh.