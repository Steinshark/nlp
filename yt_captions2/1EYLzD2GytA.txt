- there it is. i have a problem. i just updated the bios on my work station and ever since i did it's been (fingers snaps)
randomly shutting off, just while i'm not doing anything. and while normally
that's the sort of thing that i would troubleshoot myself, i have another problem and that, is that if i don't
leave to start my vacation in the next three minutes my wife is going to absolutely murder me. so, we're gonna call in the cavalry here. dialing a for anthony. hey, anthony. - uh, hello? - (laughs) can you fix something for me? - maybe. - okay, cool. my computer is
turning off and i gotta go. (fingers snap) - (sighs) man, i just
got back from vacation and i'm already doing tech support. well, hey, why not come along for the ride and i'll show you my
method for troubleshooting barely any information to go off of. right after this
information from a sponsor. - thanks to hulkman for
sponsoring this video, hulkman's alpha 85s helps
you instantly jumpstart your dead car battery
with no aid required. even it up to minus 40 degrees fahrenheit, learn more at lmg.gg/hulkman. (soft music) (upbeat music) - linus tells me that he updated the bios in order to upgrade to windows 11 and the computer has been
shutting off randomly, ever since. doesn't matter what he's
doing, even absolutely nothing. let's see if we can track down the issue. now, the first rule of thumb when doing any kind of troubleshooting, always check the most
basic solutions first. so, we'll start with the wall power and mm-hmm, actually,
he's got a ups down here and i don't think anything
else has been turning off randomly like the tv still got power from what he told me. so that's probably not
going to be our problem. that leaves us to the cables, which well, i'm gonna have a hard time getting in under there. and you're not gonna be
able to see that either because not only is it kinda dark, but the tv is also covering it all up, but it looks like the 810,
12 volt connector looks like it's okay, actually,
there's multiple there. and they both look like
they're down all the way. and the 24 pin atx connector
is also pretty solid there. so i don't think that's
our problem either. now the system has a threadripper cpu, and sometimes over torquing, the retention mechanism can
flatten out the sockets pins so the cpu is not making contact, which can make for a no power on, but that doesn't match the
description of the issue where it's happening, even
when the system is idle. and besides that, i don't think
i'm going to be able to open this thing up without some help. and i'd really rather not do that. for now, we'll fire it up and
move on maybe we'll hit lucky. first, we'll open up a
system monitoring tool like hwinfo and see what our temperatures and voltages look like. and we'll also load up task manager to see if any processes are running wild and check to make sure that
there's nothing weird showing up in the start-up items. cpu usage looks okay to me right now. we're at 3% with only a few things actually, being used right
now, you've got a lvs running and i guess linux is doing
some idle mining, which is fine as long as you are not specifically
using your gpu for that. as for the temperatures, they look okay, they're a little high, but at the same time, we've
got a gpu doing idle mining on a closed loop like this. it's not really a closed loop, but like it's sharing the
cooling between the cpu and gpu. and the cpu is currently
idling around in the 40s, 50s, or 60s, depending
on what's happening. normally depending on
the cpu, the enclosure and the cooling you have on your system, it'll usually hover around
30 or 40 somewhere in there. as it is right now, i'm not
concerned about the thermals at all, that seems perfectly fine to me. yeah. that's not even all that hot. the hotspot temperature is in the 60s. so, this cooling set up
is definitely enough. we'll have to find something else that might be the cause of the problem. we'll keep these tools open for now so we can keep monitoring
it as we use the computer. that way, if anything does happen, we can kinda be tipped off about it before it inevitably shuts down. before we move on, we
should look at the voltages. now, something to bear in mind about software reported cpu voltages is that they're not always correct. they can change more quickly
than the update on screen. so take them with some salt. it's also worth remembering
that cpu core voltage, will go higher or lower
depending on the core clocks and what the cpu is doing. thanks to load-line calibration, a feature that tries to
keep the cpu from under or overshooting its
voltage range and crashing or potentially taking damage over time. this throws a lot of people for a loop, because even if you set the
voltage manually in the bios, it's not guaranteed you're
gonna get that voltage under any circumstances. now this is an overclock
threadripper 3000. so, i can't really expect
any specific voltage range, but i think usually if
it's in a low power state, you can go from 0.6 all
the way up to around 1.4 or more volts, depending on the load. and while nothing stands
out to me right now, this is one of the potential culprits for a random blue screen or power offs. so it's worth keeping an eye on. next, time to see what
windows recorded last time the pc unexpectedly powered
off using event viewer. this is built into windows, just right, click on the start button and go up to event viewer here. or you can access it by typing
this on the command prompt if you're ever really stuck. this particular version
how you event viewer has been around since windows 2000. it is basically unchanged,
even in windows 11. we'll head over to windows
logs and then system. now, buddy fault, this is
sorted by date and time. so we'll scroll down to the
last time we know it happened and see what window sees. now, i actually already
see some things here. so that's interesting, but you can actually tell
when windows was shut down, big gap in time, followed
by three event log items when the service is restarted. and if there was a blue screen, you'll see some bug check items
labeled as critical as well. you can use these items to see
the blue screens error code, which you can then use to
narrow things down via google. this pc isn't blue screening so we don't have any bug checks. well, let us see what else is happening at the time it went down. and it looks like we have a
bunch of acpi events here. these are related to power management and that's interesting. remember what i said
about voltages earlier. we might have just found
some evidence for it. and by the way, you'll notice
that there are a lot of items in the event log just in general. so how do i know that what i'm looking at is what
i'm supposed to look at? well, informational stuff
like these things here are usually not that
useful unless you're trying to track down something very specific. and if you've been fixing
windows pcs for long enough, you'll know that some of
these distributed calm things are usually just there on a fresh install and they're entirely benign. if you do want to know what exactly these are referring to though, you can copy the string of letters and numbers and search it online or if you're feeling
adventurous, in the registry. this particular one is
for immersive shell, not exactly exciting or
relevant to what we're doing, but, knowing how to do this can be useful for tracking down misbehaving,
drivers and services. and just knowing about it
will help you if a scammer ever tries to convince
you, windows is broken by showing you these errors. it's a pretty common trap. coming back to our main issue. we've got a candidate for the problem, but we should also check
the application log to see if anything
weird is going on there. this is where things like app crashes go. and while these don't usually coincide with windows issues, if something
specific keeps happening at the same time as a recurring problem, it could be related. no, it doesn't look like there's any patterns showing up here. so we can rule this out for now. the security logs aren't usually relevant on single user pcs, but they can show you
when you've logged in, when you've used stored
credentials and so on. useful if you suspect you've been hacked or if there's a problem
with windows log on, but it's not what we're after. set up on the other hand are
related to windows updates and a failed or broken windows update can sometimes do what
we're seeing all the... usually with a reboot instead
of a shutdown as expected. as expected most of this
is unremarkable information about which updates have
been installed when? but a broken update or
windows update service will show errors here. for now our best lead is the
power management situation. buddy fault, modern cpu's
will enter a low power state when they're not in use called c states. not to be confused with
s states like sleeper or hibernation. these are like the
performance oriented p states. you might already be
familiar with in the form of turbo boost, where the cpu
will ramp up its performance in response to load. c states are just in
the opposite direction. then depending on the state, the system might turn
off some parts of the cpu or pack inactive cores to significantly reduce power consumption and the voltage supply to the
cores and therefore the cpu. you can see where i'm
going with this, right? but this is a desktop pc
so idle power consumption isn't a major concern. therefore, let's try and
turning off, c states. to do that we will restart into the bios and to do that, first i
need to stop all of these logging programs and restart the system. oh, i probably shouldn't have done that while linux was still like doing stuff, but oh, well (keyboard key clicking) this is how you get into the bios usually. (keyboard keys clicking) sometimes you can get into it with f2 and you can get into it
through windows as well if you hold shift while
clicking on restart, then using the advanced options function to select uefi firmware settings, but we didn't do that. and so i have to match delete. (keyboard keys clicking) from here we're gonna look for c states. now some bioses like aces, lets
you use the search function, which we will use. but sometimes you'll find
it in like cpu configuration under advanced or
sometimes you'll find it in like a power management configuration. for now we'll just hit f9
to do search and do c state. (keyboard keys clicking) and this is enabled, sometimes
you'll see two of them, one for global c state
control and one for c1e or enhanced halt. if we had that here, we
would disable it as well. for now, let's go ahead
and disable c states. it's a... f10 doesn't
work from here, okay. so f10 to save and reset
that's pretty normal and okay. if f10 doesn't work on your
bios for save and reset, you can just go to the exit screen and it'll ask you if
you wanna save, usually. now that we've rebooted, how can we know that this worked? we can't, we can't really test
for a random power off event, so we'll just need to wait. i'll let it go for a few days and then we'll come back to it. now thankfully,
(air swooshing) i've got my water bottle from lttstore.com to keep my drink cold until then. i'll just add a little bit
of ice every now and then. all right, let's take a look. it's still powered on, that's a good sign. let's see the event log. pixel refresher, i do not care about you. i wanna see windows, i don't
see any of those acpi events. that's a good sign. that's really good. i think we're good. this was happening multiple
times per day before, and it's been a few days now
and it's still chugging along. i think it's safe to call this one fixed. as for why the problem started
happening in the first place. well, power management has always been and always will be a
little bit of black magic. a little tweak to how
power management works in a bios update, silicon degradation, or even just the silicon
lottery can affect how stable power
management features will be for a given system. speaking of which get subscribed because we finally have our
last guide you'll ever need for how to build a pc coming up and if you liked this
video, you'll love that one. it's the longest video we've ever done, except for the, yule log.
(fire rattling) back to power management though. it's usually fine for laptops because of how tightly integrated the cpu and the logic board are. but not so much for desktops
with modular components and longer traces. many power management
features are in fact disabled by default on a desktop, particularly anything
to do with pci express. in my experience, it's
almost never a good idea to enable these on a desktop, unless you're doing it specifically to see if it does work for your hardware. c states are usually okay, but there's a reason you'll
see many threads about them on forums going back many, many years . in this case, whatever it was, it seems like it was just dumb luck, but it's fixed now. and hopefully, you'll
come away from this video, not only knowing that
c states can be flaky, but also a little more about how to dig in and find out what a
problem might actually be. and linus will come back from vacation and i'll still have a job. and hey, you'll also
know a little bit more about our sponsor pulseway. thanks to pulseway for
sponsoring today's video. pulseway, let's use centrally
manage all your desktops, servers, network devices, and cloud infrastructure in one place. you'll be the first person to
know when a user has an issue or when there's a problem
with your it environment. you'll have out of the box
commands to take actions such as killing processes,
resetting user passwords, running powershell
commands, backing up files and even remote control. with powerful auto remediation tools, pulseway can automatically
resolve critical ifd failures like low disk space, high cpu, and even restart your services. the patching engine will
prevent vulnerabilities by checking for updates for
both your operating system and third-party applications and run those updates for you
on a schedule that you define. and the best part is that
you can do all of that from the mobile app or from the desktop. try it for free today at pulseway.com or through our link below. thanks for watching guys.
this one's a bit different. so why not check out linus's new rack? it's also a bit different
and a whole lot of fun.