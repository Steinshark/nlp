i like to think we take a very professional approach to our network infrastructure around here are you joking which is to say that i really hope that nobody in there or up there or around there really really needs internet because jake and i are about to yolo zero preparation make and install a brand new router that should be able to help us take full advantage of a greater than 10 gigabit internet connection that we're going to be upgrading to down the road what are we i thought we were no oh we didn't have 10 gig before you lied to everyone did i yeah well we had 10 gig well now we have 10 gig everywhere neat and we also have this sponsor privacy.com privacy.com lets you shop online with virtual credit cards that offer way more security and control than convention ones click the link in the description and get five dollars to spend on your first purchase when you sign up [music] are we just getting right into this i think so because i don't know anything about it i didn't even know that we were getting a new router until i walked down to logistics and i was like oh what's this box from supermicro and they were like oh that's the new router and i'm sitting here going well hold on a second since when does super micro make routers and then you were like since like a long time ago our existing router is a super micro box actually i didn't know that yeah this is basically the same box just the more strong okay but do we even need a faster more strong router um questionable but ours is like sky lake it's like kind of old now holy crap is it mine i know it's old man man how much power does that thing draw probably a good amount i mean this one i don't think is going to draw nothing that's your benchmark what the hell this thing has how many power supplies in it um i'm pretty sure these are 800 watt power supply shut up yes 800 watt max 800 watt power supplies what the hell are you planning to do with this thing go go fast ah man i'm so excited to kill everyone's internet shortly hey we're not going to kill their internet are we going to kill everyone no their internet oh to kill their internet no no no no we got this oh our current router okay which is oh where the hell is it yeah that's right it's mounted at the back oh god good luck i might end up just selfie filming this on my phone brandon not gonna lie i don't think you're gonna use why is there a cpu pillow in there i was sitting there from lttstore.com i was it was not planted i was actually sitting back there you gonna selfie cam it yeah i'm gonna selfie canvas all right okay yo what's up all right we're going back into the depths of the server room ah the cable management back here used to be better back when i did it what do you think and then a lot worse when i did it we actually used both sides of our rack and the reason for that is that we used to have so much storage in the front just so many storage servers that there wasn't enough room to have all of our switching in the front so we moved all of it to the back it's only patch panels in the front so here's all of our switches both poe and otherwise for our fiber stations as well yeah there we go as well as our rj45 stations and then if we go a little bit uh yes right in the middle of all of it hiding in there we've got our super micro pf sense box the power for this thing i think actually comes out the front oh no it doesn't oh crap i gotta take the side off the cabinet bloody hell nothing is ever easy ah yes there it is you can see it's really shallow compared to even to our network switches and that was by design because we knew we were gonna have other things in the front of the rack and they could interfere with it if it was really long i just need to oh my god seriously we should move it hey it is way at the back we're even would it be easier to go power cable is at the very other end i can't even point at it let alone get my arm in there i have an idea you have an idea you say we could we could climb the server rack yes i like it good idea jake okay well he's doing it i was gonna say we could move one of the patch panels in the front and then just get at it from the front no i got this he's got it oh that's a pro oh my god it's so hot in here uh no it does not have a redundant power supply that one doesn't it does not so i will be cutting out internet do you think it'll be like a while internet for a while it'll take a couple minutes a couple minutes do you think they need internet though i think it's this one so we're gonna find out real quick styles here i have no idea what i just unplugged everything here is still powered that's not it dude what is going on here what the heck what just happened what did you just unplug lights are out it's this one whatever this one is oh wait what what are you pulling on oh i see it i see it okay it's out okay where's my thing real quick oh my god where's the where's the thing i don't tell her holy sh well i'm so sorry entire company of people that are trying to work this is the most expensive power test we've ever done so we got our little power meter thing we want to know how much more efficient the new one is so we got to test the old one it might not be more efficient what what do you mean it might not be more efficient i thought that's the whole it's technically a higher tdp cpu what are you talking well why do we even need it then well because why not it's got 25 gigs so if we did upgrade down the road ah and our old one is so old it's like five years old now okay how do we turn it on now did you actually break it i don't know it's not turning on here plug it back into normal power for a second let's just take a gander okay hold on here this is so not why are we even doing this right now because i want to know the power consumption savings okay yeah that works so what's is this thing not working it doesn't have a screen light up okay go get the basic one oh my god get the basic one boop i'm not so sorry entire time here catch catch oh gosh all right let's go back and start working on the new server for the time being then we can come back and check the power consumption after this was supposed to be a very short side quest okay i got the old server pulled up here i think it's this one right here nice it might not be the exact one because this is silver but it's the same spec zeon d 21 46 here look this up on arc one of the cool things about the xeon d-class processors that was one of the reasons that we ultimately went with a pf sense box rather than a purpose-built router was that these zeon d chips had this like encryption all right i can't look it up oh my god this is why can't you look it up linus well the site can't be reached so it could be that intel arc is down yeah that's the problem what's the other options uh well it could be that your wi-fi install is not working correctly anything else really bad luck yeah anyway they have hardware accelerated encryption and what i had thought at the time was that this would allow for a very fast remote access when i'm off site to dump footage or do whatever else but unfortunately whether it's an open vpn software limitation it's probably an open vpn thing probably an openvpn thing we were never really able to take advantage of that but we do have a new solution to that which doesn't require this which raises the question zero tier why exactly are we using a pf sense box anymore anyway rather than a purpose-built router um because pss is great actually what we should use if we were going like crazy high speed say we had 100 gigabit internet we might actually have to use a switch that has routing capabilities built in because when you get to that level of performance like pf sense you can't even think about doing that speed right and the reason for that is that pfsense uses a general purpose x86 cpu just like any other server from super micro would in fact there's no reason that we couldn't use this particular server as a virtualization server or as a storage server it would just kind of suck in those roles it's not really designed for it whereas a high-end router from the likes of someone like a cisco is actually using an asic that is specifically designed for network switching yeah the other thing is you can use a server that has no business being a router or computer that has no business being a router with pf pfcents in fact for our lan party we used a dual 32 core amd epic box to run pfsense because that's what i had lying around pfsense is based on freebsd which means that the hardware compatibility is actually excellent both with modern components and even very old components so turning your old computer into a file server and then your old old ancient computer into a pfsense router is totally viable as long as power isn't super expensive where you're from did they completely pre-build this forest do you even have any work to do well what is this ram here i feel like we should upgrade the ram i mean we don't what is this ram here those are like some ddr one apps looking like this no it's a 64 gig 3200 that's a nice stick of ram right there oh oh i thought these were individual long ram packages no so i just didn't even recognize it at all that's a 64 gig dim right there brother we're working on it dan well jake unplugged the thing oh i'm sorry thank you you should have i didn't unplug anything what are we gonna call this thing new pf sense sure yeah new pf sense i'm gonna call it pf sets two we do have a small problem though before we can build it i have to sign out this memory and they need internet is it is it working send them a photo backup nice eight gigs 3200 i checked our current router presently has 32 gigs only d2796nt it's 121 tdp let's see did we get a lot more course for that yeah i think so i think it's a 12 core it's a 20 core oh is this right now we're going from eight to 20 cores i also want to put an optane ssd in here what do you mean there are there's a 660p in there already yeah i want to go up five 12 gigs 660p i want octane i would actually like to put two drives now this is interesting if you take off the cooler you can see this is one of intel's bga style xeon cpus so these are not intended to be inserted into a socket they're intended to be soldered directly to the motherboard for use in appliances that are not really intended to be upgraded like say for example routers like this one okay to be clear pitch me the reason i asked for this yeah because i still can't understand that we were gonna go maybe 20 gig and i was like yo we're gonna need a bigger router because the other one's only 10 gig this guy has dual 25 gig on it which is pretty cool obviously that's not the case anymore yeah it was really expensive so i i ki washed it so we did upgrade we went from 5.5 gig wan to 10 gig full so we actually get proper 10 gig now which is nice too everything i should explain i wasn't lying okay we had 5.5 gig to the internet in general and then the additional four and a half gig we did have a 10 gig link was to vanix the vancouver internet exchange which probably is where the bulk of our traffic is coming through anyway you download anything on steam you download a windows update oh i'm pretty damn sure there's not that many things connected to it like if you look at the vancouver internet exchange like total traffic they're total traffic peaks at like 80 gigabytes connected through vanex it's small amazon okay i know google's through there participate doesn't necessarily mean that all the traffic is going through cloud fires there i don't think it was actually that misleading to say that we had a 10 gig internet connection wow that's a big chip that's like lga 1700 well dga 1700 yeah i know it's wild to me that it's just soldered directly to the board it is fcbga2579 but the thing is i'm not even mad about it because this is not the kind of device that would ever get a cpu upgrade within the reasonable service life of it you deploy this you freaking forget about it it fails you rip it out you put in another one that's just how these customers work yeah are you sure you don't want to put another drive in here i would kind of like to do redundant drives i'm kind of surprised there isn't two m.2s in here i want to put optane in it i think there's a 119 right there no i don't want to use the 118. 64. what do you need storage for in a router well if we do like statistics or something how much you're going to need look brother 64 games have been sitting here for four sticks let's go look at what our current box is using if it's like less than 30 gigs we can use those the okay the drive on there right now is 26 gigs formatted so a 64 is he's double it's double he wins all right shout out silverstone by the way if there's some random and you need it silverstone probably makes it so we got redundant discs we got redundant power supplies now that's a big upgrade and we saw why that's so important you never know when some rogue is gonna sneak into your server room and unplug your shiz i have no idea what i just unplugged yeah you never know you never know the reason that i wanted to use these is actually because they're very very unlikely to fail in this application compared to nand flash which wears out quickly as you write to it and erase it and then rewrite to it optane is more dram like in that you can write to it many many more times before you are likely to experience a failure so yes they're super low capacity they're not great performance these particular drives i think only link at pcie gen 3x2 but we don't need the performance i just want the resiliency to know that if we never upgrade this thing again which we probably wouldn't need to 20 cores and a router this will still be running 10 years 15 years from now we've upgraded to quad channel memory we've upgraded to dual drives dual redundant drives we have put on thermal grizzly thermal compound and we are ready to close it up now this is not a 25 gig fiber module oh it should negotiate no problem this takes these 25 gig capable sfp plus ports and plug that in there and it converts them to whatever we want so in our case it's 10 gig rj45 but we could also go to fiber add up to 25 gig if we wanted to run to well somewhere fiber 250 oh and just trunk them yeah yeah but how would you get it out of there yeah well you could remove one of our redundant drives and then put a really fast network card in there i set zfs to a mirror and selected both of the disks and it's installing now one of these needed large i bet there's something new uh well that's for later jake to figure out yeah screw that guy i'm gonna go check the power consumption of our current box oh man we're so close so close to nice power consumption man we're gonna save like nothing it's only 68 watts two 10 gig 225 gig wow that's awesome yeah i think our current one is 210 sfps and then ten rj45s truthfully there's not really much of a benefit to that unless we had multiple wan connections um because realistically you would just set up your switch with vlans if you wanted to have separate you know isolated networks behind your router which we do but hey it's there yeah you know yeah hey right the default is going to be a weird ip do you have a well look we're in the right spot right now um this thing it's kids today right they don't finish sentences correct oh my god it's micro usb jesus christ well you have a two and a half gig one yeah isn't that cool oh whoa it's just a module yeah oh but it's thick well yeah wow that is cute oh what took you so long jake geez some of us just find patch cables so much faster than other people it's in very nice now we could configure all of this from scratch but that would be really stupid because a it would take a long time and b the odds of making a mistake when you're configuring your router especially when you have a setup that's as complex as ours is very high and i'm not saying that our setup is like exterior complex but it's complex enough that you can make a mistake there are a few things that we're going to have to change even once we restore from our old configuration and that's the identity of our network interfaces because they're going to have names like i x no zero yeah they'll be like ixl one they might even line up honestly the only thing that won't line up is probably the 25 gig but i'm just gonna they'll line up look enough it's fine interface mismatch detected please resolve the mismatch oh that's so cool wow just as part of the import process yeah wow is there a 25 gig one not showing i mean we could just use 10 gig for now what do we care let's just use the 10 gig ports they're fiber we need to media convert i do have a way we could do this though um what we can do very smart hack is we can take our sfp module put it in one of the switches that has an sfp port in its own vlan like an untagged vlan and then you just put it back into here rj45 and it just passes the traffic over it it's not stupid they do it actually all the time okay something we didn't quite explain properly before the reason this matters is that our incoming internet connection is fiber so we wouldn't even be using an rg45 converter we would going to be going straight into these ports and pfsense at least in its current iteration doesn't appear to have drivers for it so this is our wind this is our lan uh we'll have to like patch the sfp through the switch like i said before but i already set up the vlan so we're like theoretically we just plop this in and we're good to go i mean all the vlans are broken but those are for non-essential stuff i can fix that later yeah i couldn't help noticing that it's not super accessible yeah some idiot put it not at the top i didn't have a choice okay but to be fair this one's not on rail so it's not no we could pull it out move these two down put it at the top there it goes oh you did it i pressed the power button okay well here so let's we have to be very oh god damn it and now it's unplugged well good um cool sorry everyone hope you didn't need internet i'm gonna do this very carefully as if this gets damaged then we're so the vlan is set in that port cool it lit up it's compatible that's very good sign all right i moved our fiber which was plugged in here on our old router over to this switch and these two ports are configured as an untagged vlan so it's just going to act as basically a media converter to convert this fiber into an rj45 that we can plug into the new router okay so this boy needs to come out now just comes out and then i'm thinking we move these down and put it at the top no i don't know we should because this is just loose and then this one just needs to be unbolted and it'll just fall oh my god it's worth it it's worth it oh god be careful with the fiber eh yeah yeah that's actually just uh it's fine just [music] we break that we have no internet uh actually i can totally just patch it it's fine okay holy that's been in that spot for like five years cool four years the warm boy okay really yes yes yes yes yes oh my god i'm never gonna no they're not they don't have internet well yeah but i mean they're like on yeah but that's just the wifi one oh boy there's two sitting on top of this well yeah it's pretty saggy i got my hand in there now okay sorry brandon yeah hope you weren't trying to film or anything ow okay just go just go just keep going i'm going i'm going i'm going it only kind of hurts ah that was actually not that bad oh thank god now the pf sense can just go on top oh i'm so happy so much better i've been wanting to do this for like literally six years you're doing great brandon thanks oh we got to do the redundant power ah problem for later just a second yeah later jake can deal with that okay screw that okay wow this one's quite a lot deeper than the old one yeah it's sick oh god oh my god be careful don't hit the sprinkler well i don't want to yeah what am i guiding again absolute cast from the back you got to make sure it doesn't run over any cables like the fiber yeah i see the fiber the fiber is good it's sticking in the hole yeah i'm working hard and fast it's stuck uh keep going you're fine it's stuck oh you're good keep going i'm pushing on it and it's not ah what was that ah it's just the fans there we go okay we need a patch cable okay let's go see if it's working what are the odds wait we haven't plugged in the management port yet well that is providing our dhcp so the management doesn't exactly work when the dhcp is off i got it i just have to reboot that ubiquity switch again for wi-fi yeah oh i'm up holy crap gotta love pf sounds am i right just like that wikipedia black death flag right there lttstore.com early reviews of the backpack are in and it's flipping awesome good quality bag it finally happened what happened we did a network infrastructure thing that actually only had the scheduled amount of downtime well except when you unplugged it just check the plan yeah yeah yeah yeah yeah minor details jake minor details we took a config imported it and it just worked we're just ignoring all those you're not going to do a victory lab we're ignoring all the vlans that aren't on right now that's later jake's problem yeah screw that guy oh okay so you're gonna run fast.com and i'm going to run this one honestly it's you can't take this stuff seriously because basically we're going to be limited by the speed of the host of the speed test well they used to be they use multiple servers now it's pretty fast actually yeah okay i'm running okay i'm now running too yeah it said we got to 5.6 gigabyte okay and that's exactly what we're rated for to the internet at large then isn't it yeah well theoretically they told me it has been upgraded now but i can't seem to get anything faster than 5.5 gig i think there's a little tweaking that needs to be done well so we got up to 5.6 gigabit yep how's our cpu usage ram usage zero percent cpu four percent ram we're we're using 700 megs of storage did we just build the most overkill router well they're kind of hot actually 56 degrees it's been a few days and we've had the opportunity to do a bit more research into the issues we were having with our intel 25 gigabit nick in pfsense it turns out that while the nick in question and intel e823c wasn't released yesterday driver's fur were only added to freebsd the operating system that pfsense is based on back in march of this year linux has had support since early 2020. unfortunately the current release of pfsense that's version 2.6 and the upcoming 2.7 are still running freebsd 12.3 which does not include the new drivers that left us with a couple of options either we continue using a network switch to convert the incoming sfp fiber signal into an rj45 ethernet connection that pfsensk actually has drivers for we install a compatible nic like a melanox connectx series or we find a different operating system this is where opensense came into play it's a fork of pfsense that's also based on freebsd but the open source team at open sense is typically a lot faster when it comes to updates meaning the latest version of it does include drivers for our 25 gig nick now the process of converting over was fairly easy since many of the configuration options and a lot of the user interface is very familiar i mean it is a fork after all we went ahead and reinstalled the old router running pfsense in the meantime and then manually copied over the configuration now the hardest part would have been manually copying our 100 plus static dhcp reservations but i found a cool script on github that can automatically convert from pfsense to opensense or even the other way around performance was as you'd expect basically the same but it does have a few aces up its sleeve compared to psense including faster updates like i mentioned before an arguably more user-friendly interface and there's a lot more available plug-ins for adding in additional functionality now it's not to say that psense is bad we've been using it for years with pretty much no issues and there's still a larger community behind it so if you need support or tutorials you may be better off sticking with pfsense but in the last few weeks since we've switched to opensense it's been nothing but great so i wouldn't hesitate to check it out if you're looking to build your own router or you're currently on pfsense and you want to try something else just like you should try this segway to our sponsor don't worry you don't have a choice this is the segway nord security if you keep up with the tech news you know that hackers are always looking for new ways to compromise everything from tech giant servers to grandma's computer thankfully nord securities protection package is there to help protect your files devices and personal data online like nordpass a password manager that helps you generate unique passwords across your devices and browsers or nord locker a powerful file encryption and sharing service that's a great alternative to google drive cyber crime is everywhere these days so make sure you're taking precautions when you surf the web right now you can get one month for free on all of nord products when you go to nordsecurity.com linus that's 30 days for you to see all the ways that nord can help protect you online risk free so what are you waiting for head to northsecurity.com linus or click the link in the description below if you guys enjoyed this oh okay sure yes oh my god that's so flat okay come on you didn't even participate perfectly i don't want it to hurt come on you got this if you guys enjoyed this video maybe check it out enter look at the elbow okay there you go maybe check out the first time i did a pf sense build i managed to kill i think was that the first one the second one the third fourth or fifth yeah i don't know it was the one where i kept uh tightening the thing and it turns out it wasn't quite compatible with the bracket thing and so it would over tighten and like break the traces in the board it was bad like he knows how to use computers i mostly do