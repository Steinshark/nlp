this is just too exciting okay i'm very excited about this the ftx trial day four the fraud was in the code please tell me they literally had plans in html that's all i want that's all i want in life is somehow not only can you hack nasa and the government apparently with html but it literally is going to be like we we planned our fraud and we used html 5 diversion control our thoughts in a nice markdown experience uh the jury got a taste of co review as they examined a falsified insurance fund and the infamous ftx alam research back door um yeah all i know is ftx is completely screwed up so this will be exciting all right we got our first glance at the ftx code base on friday the prosecution brought out github screenshots as they questioned cooperating witnesses witness gary way this can't be real dude screenshots of github what is the world we are living in oh my goodness this can't happen this cannot be real it cannot be actually real the former cto of fdx who at various times was responsible for the code bases powering both fdx and alam research wang has pled guilty to four charges damn not only has he plad guilty to four charges but they're bringing him out and making him do code reviews i mean code reviews themselves is like imagine imagine if you had to do a code review in front of everybody cruel and unusual punish punishment i know backdoor wang over here is just he is testifying against sam i know that he's testifying against sam but he still he has all those charges man damn although there is some risk of confus confusing the jury while presenting them with code really i'm not even convinced people that know how to code can read code okay let alone now you're going to just a jury of your peers okay okay uh prosecutors had wang steep through what the code is doing in a way that seemed pretty clear to me it probably helped that ftxs engineers wrote decently clean code with descriptive variable names and concise functions and chose very human readable language python committing fraud with good clean code clean code commit fraud note to self if you're going to write code to do fraud make it messy and unreadable to reduce the chances it'll later be put in front of a jury as evidence if you can bring out a piece of code at a screenshot they actually sound like they're pretty good uh engineers i'm not going to lie to you they this actually sounds like really good engineering right like if you could take a picture of python code and people could tell that it was fraud that's crazy much of the conversation revolved around the allow negative flag that was introduced to the ftx codebase on august 4st 2019 wang testified that sam bankman freed had asked him and nishad singh the former ft x engineering director who had also pled guilty uh to add the flag github screenshots show singh made a code change to add the column in the code base or in the database and adding logic to exempt accounts with the flag from checks that would otherwise determine if they had in sufficient funds to withdraw all right let's read this if not account allow negative if not allow negative so only positive if balance available ignoring collateral if ignore collateral else balance available is less than zero bad request there's an if statement inside my if statement i don't read a lot of python okay i don't read like a ton of python but i didn't realize if statements could have baby baby if statements i assume this is just a turner it's just is this just turnery yo dog yo dog the real crime is on the else absolutely the real crime is on the else okay a later changed by wang himself also exempted accounts with the flag from ever being liquidated liquidating equals margin account fraction maintenance requirement blah blah decimal times this and not allow negative oof okay obviously rule of thumb rule of thumb everybody if you're going to commit fraud at least get some low-level intern that works there for like two months to go and do this change but backd door wang over here made the changes himself i'm just saying if you're going to commit fraud at least do it well okay if you're going to commit fraud at least do something about it this is ridiculous prosecutors i mean you're telling me the cto of ftx is just dropping code changes in the python for just regular oldfashioned stuff prosecutors took this opportunity to point out that practically the same day this change was being made at bank bankman freed's uh direction bankman freed was out on twitter claiming that alam's accounts is just like everyone else's how are you going to resolve the conflict of interest of running your own uh derivative exchange and actively trading against the market at the same time people complain that crypto hayes trades against the market yet ftx in your shop is out there alam is liquidity provider on ftx but their account is just like everyone else's alam incentives is just for ftx to do as well as possible by far uh the dominant factor is helping to make the trading experience as good as possible i guess we're just supposed to believe you won't get preferential treatment let's go bitsh if allow fraud do yep um this is fantastic dude this age this age like a fine glass of milk uh all right backd door wang testified that this allow negative flag was a special privilege given only to alam research's trading accounts and a database screenshot also showed the effectively unlimited line of credit that alam research could dip into i know this is going to be difficult for a lot of people in chat but first off some people work with with with white theme okay i know that's going to be hard but probably the more offensive thing going on here is that someone is raw dogging squeal i know this is going to be hard but we're going to look at some sque this is not an omm okay this is just squealing we're just raw dogging a bit of squeal okay i know i know select id user id m let's see min imf maker fee taker fee liquidity uh back stop provider borrow can withdraw below borrow allow negative can trade futures use ftt collateral ignore imf factors free fee voucher charge interest on negative usd spot margin enabled spot margin lending enabled account type from accounts where user id uh equals this off and id equals 9 maker fee is negative they get paid to make things did you try to scroll the image i did try to shut up i did try to scroll the image okay look at the borrow column all right all right hold on user let's see bor take take a borrow that's a big number that borrow is a big ass number okay that borrow right there that's a that's a that's a number right there okay i'm not sure what number that's supposed to look like it looks oddly like a power of two that's been multiplied by a million it honestly looks like 2 to 16 time a million okay strange strange i think if i wanted to see anything i think something that would have been really cool to see is give me all accounts with allow negative to be true and if it only came back with one account to me that would be super damning uh anyways back door wang explained that the alama had not started out with such a high credit limit but that periodically the trading firm had run into issues placing trades because they didn't have enough collateral and sam bankman freed kept asking him to increase their credit limit to prevent it from happening according to w uh the limit was originally set to a few million dollars but it was then increased to 1 billion and then after that they ran up against the limit too uh gosh if you're running up to a credit limit on a billion what the hell are you doing uh bankman freed asked him to set it to a number so large that they wouldn't likely hit the limit at that point wang set it around uh to 65 billion dude that's crazy finally prosecutors questioned wang about fx's insurance fund which was ostensibly supposed to protect both ftx and its customers from trades that went badly even more quickly than exchanges uh risk engine could account for ftx published the fund supposed balance on their website and bragged widely about its existence including the testimony to us congress however according to backdoor wang the number shown on the website was falsified oh i see i see judo yeah because crypto had this nice long just falling knife experience so they probably started opening up positions are extremely high leverage and attempt to catch up with their losses making longside trades in a bare cycle could be could be no please don't spam please don't spam the chat with backd door wang okay uh i don't know what a uh attorney usa uh is the number real wang no so it's a fake number yes i love lawyering is the number real no is the number fake yes like what's the other option here was the real number higher or lower than the fake number lower all right the code snippet shown to the jury demonstrated how nashad singh wrote some code that would update the insurance fund amount by adding it to the daily trading volume multiplied by a randomish number around 7500 and dividing it by a billion get change all right current session session query some trade size by price okay size price filter created app time delta one day scaler or decimal return ft2 uh numpy random uh normal distribution 7 uh 7500 with a 3,000 standard deviation is that what that's supposed to be is the normal distribution random supposed to be 7500 as the the the tit and then 3,000 as the standard is that what that's supposed to be by the way doing a random number distribution doing a random number normal distribution in every single arttic or every single language but python is impossibly hard you realize how much code i had to add to reggie to get a normal distribution random number very very annoying look at that it's literally just making up a random distribution to do this that's pretty damning one could possibly explain a way an inaccurate number say one that was hardcoded to the website never changed to reflect the true fund balance by saying that they had correctly represented it at one point in time absolutely this is a great argument and forgot to change it but it's really hard to come up with a good explanation for why the fund was being incremented by a random fluctuating number on a normal distribution that was no way tied to any actual account balance beside the obvious that ftx was trying to present a falsified but convincing number to customers that would be fraud damn cotton python in 4k you know what i'm not sure what's worse having screenshots and doing code reviews in a court or doing that but with python oh man feels bad just just python just so much english going on in this jury code reviewing elsewhere in the code it it's possible to observe that the amount of ftt in the fund was actually represented by a hard-coded value in the user interface and was not pulling from external data sources to get a real number let's see insurance database fund all right classes use styles and insurance oh look at this it's like a little bit of a look at that little thing it's a little bit of j little look at this jsx okay i knew it jsx is evil okay why haven't you understood this yet okay jsx representing fraud right here i've been telling you this for how long how long have i been telling you this here we go let's see size usd size let's see coin size format blah blah format this much okay last updated that's just a that's just a number the real crime is that header five that's pretty crime j s x equals ftx yeah not fraud let's see uh this wasn't highlighted uh to jurors though probably because the randomized number is far more damning as prosecutors continued to question uh backdoor wang he explained that there was uh repetitive incidents in which ftx suffered losses that exceeded the real smaller amounts of assets that had been set aside in the insurance fund one such example was in 2021 when a trader was able to exploit a bug in ftxs margin system that allowed them to take out massive positions in mobile coin can we all just take a moment before we continue can we just take a moment and just remember the fact that people literally thought they were going to make money other than the people who created it off a coin called mobile coin anyways they eventually liquidated and ftx suffered a loss of several hundred million dos according to uh backdoor wang he had a coin of the day of the day thing in 2017 yes okay so i wasn't crazy coin point of the day yeah prosecutors haven't mentioned it but sam bankman freed would go on to testify under oath in front of us congress in may 2022 that the insurance fund has paid out uh a net total of 9.5 million in the preceding three years and that single biggest daily uh draw down from ftx dcom insurance fund was 4.7 million they did however play a clip from the odd lots podcast in which sam bankman freed lied to the interviewer matt lavine saying that ftx risk management engine was so good that they had never had a day where there's more money that we lost in blowouts to revenue that we made from just trading fees and back door wang mentioned back door wang went on to testify that mobile coin losses and the other similar losses that exceeded the amounts available in the insurance fund were taken on by alam that is alam took over the account's position in collateral effectively absorbing its own loss wang said that uh bankman freed res uh reasoned that fx's balance sheets are more public than alam's uh balance sheets that investors have access to fx's finances but not alam's uh finances i lived right off of alam by the way i was really close to that impressive if true not true though unfortunately uh income taxation is unconstitutional uh indeed just the previous day we uh heard testimony from paradigm venture capitalist matt hung uh during which balance sheets were shown to the jury that showed 63 million in estimated treading expenses and 63 million in estimated other expenses all of 2021 clearly emitting the several hundred million dollar lost due to the mobile coin incident imagine losing several hundreds of millions of dollars damn the defense team only briefly questioned back door wang before the court session ended but began by suggesting to the jury that he might be saying what the government wants to hear in hopes of receiving a lighter sentence he faces a maximum of 50 years in prison but will likely receive a substantially shorter or even no no no custodial sentence due to his cooperation they also tried to offer an alternative explanation for the allowed negative flag that alam was in charge of doing conversions from us dollars to stable coins and for a brief period in this transaction they needed to borrow the funds from ftx before returning them to in stable coin form why they would need a 65 billion ceiling to do so however was not addressed and seemed likely to come up in redirect when the court resumes on tuesday in tuesday uh tuesday will bring some testimony of caroline ellison former alam research ceo and on andof girlfriend to sam bankman freed she is also she is expected to be a star witness in this case and the defense team has already teased their blame caroline defense uh opening statements didn't they also didn't sam also say that she couldn't have any stock wasn't that also like another big point of contention is that she also had no stock and she was ceo pump and dump confirmed blame caroline i know admittedly i may not be the best judge of this coming from the software world okay and number two uh some have wondered why back door wang chose such a seemingly arbitrary number as 65 my best guess is that he meant to round to 65.5 uh 65535 power of two baby power of two note in the transpose 5 and three picking a number 65535 because it was meaningful in computer science as the largest possible value of an unsensed 16 bit number let's go that's just a guess though i can't think of anything better that's literally my guess as well let's go molly oh molly you're the best dude this was good did he just say back door wng i have said back door wng many times know okay so i'm going to say something that's probably a bit controversial are you guys ready for this i think that the youtubers that promoted ftx did a pretty shitty thing there's a lot of big youtubers that were talking about it that was an absolute zero that was a kelvin kelvin zero take lukewarm take just like your iq that was by far the greatest burn of my lifetime okay hey just i don't know if you just saw there just finn but i just got destroyed okay i just got destroyed the name is lukewarm by qen