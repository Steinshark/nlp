today we're going to be learning how we can create an image capture in python so we're going to be able to generate a captcha just by providing text to our script and right now we have my channel name as the target so if i run this and run this again it will always generate a captcha with that text but of course you can randomize that or pass in your own string to make some custom captures and i'm going to enter something else off screen so now it's going to say subscribe instead of indently and as you can see each time we run the script we're going to get a new capture generated so that's what we're going to be making in this lesson and to get started create a new empty script and open up the terminal because we need to install a package called captcha and i already have this installed so i'm just going to close the terminal and the first thing i'm going to do is import from captcha dot image the image capture and i'm also going to import from io the bytes io type but now let's move on to actually creating the script that generates the captcha so here i'm going to create a function called main and all it does is execute code so that will return none and we're going to provide the text that we want to create a capture with and here i'm just going to type in hello so that's the text that we'll be using for the captcha and i'm defining this as a constant for now because it's much easier to debug when you have something stable but nothing is stopping you from inserting a random string here or even using the input method to get some user input but first let's create a captcha which is going to be of type image capture and here we're going to type in image capture and now we can specify some parameters so we have the option to define a width which i will set to 400 then a height which i will set to 220 and we also have the option to define the fonts and this is something you need to research on your own i don't know what system fonts you have but on mac there's a big chance you have these installed already and some of the default fonts that come on macbook are sf pro we have these sf fonts so i'm just going to insert some more and inside here you can insert as many fonts as you want and they're going to be used randomly in your captcha so if you really want to randomize your captcha you can use a lot of fonts here and i'm going to paste in two more so now i have sf pro sf compact sf pro display ultra light italic and neon eon which is the only custom font i installed on my system then we also have something called font sizes so you can specify what kind of random font sizes you want your image capture generator to use so here i'm going to pass in 40 70 and 100 and if you're using a code editor it is going to give you a warning and it's going to say that you used an unexpected type it expected a tuple of type integer but got a tuple of type int instead and i'm almost certain that the developer of this package made a mistake with the type annotation that they were supposed to use because it does not make sense that it was only expecting a tuple of one integer it just doesn't make sense you could just pass in an integer so inside there you can pass some sort of iterable with numbers and it's going to randomly use those in your captcha and to suppress these kinds of warnings in most code editors you can just type in noka which stands for no quality assurance although i might recommend also adding a comment to why you suppress that warning so you can remember later why you did that so now that we specified what we wanted it to look like we can actually generate this captcha and to do so we're going to type in captcha dot write and for the characters we're going to insert the text and then as the output file i'm just going to create something called captcha.png and all that's left for us to do is to run this so we can check if name is equal to main we will run main now when we run this it's not going to tell us anything in the console but if we open up the current folder where we have the script where we executed this function we're going to have an image inside here and this is called capture image just as i named it over here in the output and if we tap on that we should get the captcha now in pycharm you can just drag this and drop it anywhere you want on the same screen and you'll have a small preview window which i found very useful for playing around with this script i'm actually going to make this very small and maybe leave it right here in the right hand corner so that we can play a bit around with this for example i'm going to change this to indently and i'm going to rerun the script and in the bottom right hand corner you should see that the captcha has updated but what about the bytes io why did i tell you to import that if we didn't use it well we actually are going to be using it because there's something else we can do with this capture generator and that is generate our images in the form of bytes so that you can upload it to your website in a much more efficient manner for example right here we just wrote it as apng but we can also grab the data from this captcha so we can say data of type bytes io is equal to the captcha dot generate and we're going to pass in the text once again and this will generate the same captcha in the form of bytes io and we can actually try to open it by creating an image variable which is going to be of type image and that actually comes from the pillow library so we need to import this name import this name from pillow i believe it is this one here so at the top you should now have an import that says from pill import image since we need to use that functionality and here we'll take image dot open and we can pass in those bytes so we can say okay we want to pass in that data and now let's show that image so show the image with the title of let's say sample captcha and just for now i'm going to comment out the capture.right so this capture image here is not going to update because now we're using a new system we're getting that capture in the form of bytes and we're passing in those bytes to image.open provided by the pillow library anyway let's run this script and see what happens and what you should notice is that it's going to take you to your main screen and it's going to open up the image that we specified in the form of bytes so this is quite important to know for your website otherwise if you're playing around with it using capture.write is perfectly fine i mean you can rerun this over and over and over and it's always going to generate a new captcha in your preview window and you can change this text to whatever you want such as james and the next time you run this you'll see that james will be generated with all the fonts that we specified in many different forms and sizes if we were to change one of these font sizes to 10 we're going to have a really hard time reading some of the letters as you can see the a here is illegible no one will ever see that so try to make your captures legible use some random fonts so that robots have a harder time to decipher it and just have fun with this program i mean i think the hardest part for you will be finding the fonts that you want to use for your captcha anyway that just about covers everything i wanted to share with you in this video so as always thanks for watching and i'll see you in the next video