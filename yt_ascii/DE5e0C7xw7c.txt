we're members of the digital technology group here in the computer laboratory and we work on a whole range of computer science and engineering problems and most of the projects involve smartphones in some way and there's a little gang of us who are also quite keen on drones and we have hexacopters and quadcopters and and fixing aircraft and sometime last year we decided we try and collide these worlds together and we would see if we could make a fully autonomous drone aircraft with a smartphone as the pure source of all guidance control navigation compute and everything else so i'll show you captain bez which is the name of our app that can fly a fix swing aircraft this is our graphical user interface and as you can see it looks like a normal artificial horizon indicator that you'd seen in aircraft so the phone contains everything that you need in order to control an aircraft so we've got acceler monitors gyroscope barometer compass there's gps there's plenty of computational power there's multiple radios the phone can work out its role pitch and your and we can then use that to control an aircraft in order to fly straight in level or turn onto a certain bank and go to a certain gps waypoint and so on pitching is when you're rocking backwards and forwards like this rolling is when you're tipping to the sides like this and your is what would normally be your compass heading so it's your your your magnetic compass heading the phone can detect all of those aspects the trick is then how we pass information to the plane itself in order to fly there are multiple ways we can pass information out of the smartphone but the one we decided to go for was the headphone jack so this horrible horrible buzzing noise you can hear that's the music that flies the plane so we chose to pipe control messages straight down the headphone jack what you can hear there is the control messages so normally the kind of thing that comes down a headphone jack is some music some beautiful combination of signs and cosine waves that some symphony or some rck music or whatever you're listening to the messages that go down electrical cables to control servos which are these little motors that turn the control surfaces of the wing they're very very simple electrical signals that look like this they're just square waves that are of a certain periodicity and in order to determine how far you want this thing to turn you send either very narrow pses or very broad pores and depending on whether you're spending narrow or broad the motor either turns a little bit or it turns a lot so the horrible buzzing you can hear coming from the phone is the audio representation of these square waves and so that's all we needed to do to f the plane there's a left and right headphone jack and we have left and right control services so we only need two channels of control to fly a delta wi glider like this and all of the gubbins we've got in here we've got a normal receiver so that i can fly the plane manually to a safe height that's what this guy is doing this is a a buddy box this little blue guy that allows me to switch between myself flying the air aircraft and the smartphone flying the aircraft so that's a little safety feature so i can always take back control and this board here is just an amplifier board buzz can't scream loudly enough to fly the aircraft you want to get one volt across the headphone jack and we need three to five volts to make these servos turn so this little board here is a multiplexer board that allows us to both step up the volume but it also allows us to multiplex extra channels so normally this would just be left and right and we'd only have two channels of control for the aircraft and that's actually all we're using at the moment but we bu a board that allows us to turn the two channels we get out of the smartphone into four channels of control we do that by being a little bit more clever with our square waves so normally you'd be sending these pulses between n and 1 volt but what we realized we could do is send some square wave pulses at half a volt and a whole separate family going the other way so we're sending a very complicated signal which an opamp on board our multi le ab board can unpick these two and it can have this one stepped up between 0 and 1 volts and it could take this bottom one which is also just going n and a half a volt and step that up between n and one volts as well so we end up kind of dividing each channel into two and splitting them up so only two channels coming out of the smartphone but with an even more complicated square wave going on and this board of opamps we can unpick four channels so that would mean in the future we could have the motor control being controlled by the smartphone and a fourth channel as well so we could move to a quad cop to say we could have four channels of control for the four props on a quadcopter which would be quite cool so at the moment the the motor just runs just continuously does it and then so for safety reasons i always maintain control of the motor even when buzz is flying the plane and mostly buzz just glides the plane unless we're having him do acrobatics like loop loops in which case i will maintain full throttle but when he doesn't need to be on full throttle i pull it back but we do have the capability to allow him to take control of the motor himself it's just a safety thing we haven't done that and he doesn't need to cuz he glides very well so we take him up to a safe height i so i can fly the plane with this controller we take him up to a safe height i then flick this switch and captain bur is running on a smartphone underneath the aircraft we mount a cover underneath to protect the phone and when i'm not flying the plane captain buzzes so as you can see at the moment captain buz is set to try to maintain straight and level flight so as i rock the plane to a strong angle like this the smartphone has detected that it's on a very strong roll and has commanded that it needs this wing to drop and this wing to come back up and that's why that control surface is very high and as the aircraft does roll back the two control surfaces will come to the same level there's still a little bit bit of a lag we reckon about 100 milliseconds of lag but this was the biggest challenge when we first started doing this project the lag was 250 milliseconds and that meant that this aircraft wallowed around the sky like a pregnant duck it didn't really fly like a fighter jet it's much more responsive now and it's much more responsive now because olle one of the phd students here in the lab did some impressive work on reducing the latency and understanding where the latency is coming from why is this different to what people are doing with remote control aircraft anyway so anyone can buy copters and and drones that have some level of autonomy they either maintain a safe bank angle or they return home back to the gps fix if they lose the radio link and things like this so there's all of these levels of autonomy that you can buy off the shelf but the computers on board that do those tasks are very very simple and they just do those simple tasks very very well very very quickly but they can't be expanded to all sorts of of new core stuff so one of the reasons we thought we would see if you could do all of this with a smartphone was not just because it's quite cool to just strap a pair of wings onto a smartphone and throw it out the window and and have your smartphone fly around but it was to look at all of the next things you could do once we've done this first layer which is just get the thing flying sensibly between gps waypoints unstably so we can make use of the cameras underneath we could do a navigation system based on optical flow of the scenery passing underneath as opposed to based on the gps coordinates there's a huge amount of processing power and there's lots of radio communication capability that we can tap into next and we can do some quite cool things to demonstrate the utility of smartphone based drones so for example in the real aviation world there are systems called tcas and adsb that it to do with understanding where aircraft are and preventing collisions so one of those systems is based on radioing your gps position around to the aircraft which is trivial to do when you've got gps on board and the cellular network or wi-fi or bluetooth another one is much simpler system which is literally just proximity based and the aircraft is warned that there's another aircraft on a collision course with it and of course with wi-fi and bluetooth in smartphones again it's trivial these these these smartphones have this aura around them they have their wi-fi bubble and their bluetooth bubble and we could trivially have a bunch of drones flying around the sky that are all turning away from any other bluetooth or wi-fi source or we could easily make this go and find wi-fi and bluetooth sources so it could fly over a region and map out where all the wi-fi are and so we're really interested in some of the cool stuff we can do next now that we solved the problem of just getting the smartphone to fly itself we'd like to thank squarespace for sponsoring this episode of computer file you can get building your website today go to squarespace.com computer file and there's a chance to get 10% off so check out their website they're trusted by millions and they're used by some of the world's most respected brands so get over to squarespace.com computer file start building today you don't even need to put your credit card details in and some of you computer files might want to check out the developers area developers. squarespace.com thanks once again to them for sponsoring this computer file video