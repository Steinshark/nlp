hi everyone before we start today i just want to make a couple of really quick announcements the first one is i've started a discord channel for the vfx community on this youtube channel recently my channel started to gain some popularity and definitely off the back of the iron man video i had a lot of private messages on social media asking for feedback and how to do things etc so i've created the discord channel with the hope that people will join it and they'll be interested in sharing their work so they can get feedback from lots of people not just me there's lots of really talented people that watch my youtube videos so i'm hoping a few of them are going to join the discord channel as well and we'll have a small pool of experts that people can ask for advice and feedback on their work from so the link for that is going to be in the description so make sure you check that out the second one is slightly more controversial i've created a patreon people have been suggesting i make a patreon in the comments for a while it's always something that i've shied away from because i don't want to charge people from the stuff that i make you know it's a youtube channel the idea of that is that it's free but as i said a minute ago my channel's gained a lot of popularity recently and especially off the back of the iron man video lots of people have been asking for the project files for my videos and so i thought this would be a really good way to utilize that i'm not going to put any exclusive content on patreon or anything like videos that aren't going to be on my youtube channel it's literally just going to be if people want to download the project files from the videos then i'll make them available for a couple of dollars and you can get your hands on them and make your own stuff or see how i did it etc so if you're interested in joining the discord or you want to support the channel hopefully there's some cool options there for you guys to get involved in but on with the video let's make some pirate ships step number one commandeer yourself a pirate ship model preferably something that is free on the internet models you download often have a very funky scale so make sure you set this to the actual correct dimensions next you want to text your pirate ship the one that i downloaded came with unwrapped uvs which is really handy because it means that i have to do it myself for a bit of fun i put my youtube logo on the sale and the skull and crossbones flag if you want to make some funky pirate sales that have holes in them like this get some sort of default texture that works for the sail i think i found a parchment texture like paper and then that goes into the principle shader and then i also use the normal map to make it a little bit bumpy and have that texture then i used a mix shader to combine that with a transparent bsdf and use the factor as a noise texture that i crunch down to make it look like a few holes in the sails this way the white areas will be opaque and the black areas will become the holes now you want to separate the sails from the rest of the mesh go into edit mode press l on the sail switch select connected vertices and then press p and choose to separate by loose parts now the sails are all independent objects now go into edit mode and select all the vertices where the sail should be pinned to something like the mast or the ropes these points won't move and the rest of the sail will have the cloth sim applied to it which will blow in the wind once they're selected add a new vertex group call it whatever you want and then press assign which will assign those vertices to that vertex group then add a cloth simulation onto the sails then under shape set the pin group to be the vertex group we created now if you hit play the sail should sag slightly which means the cloth simulation is working and if you add some wind turn up the strength and move it around a bit you can see this working properly to add some variety i added a keyframe to the strength and rotation of the wind then in the graph editor i added a noise modifier which will add some random variation to both of those things once you've got it how you like bake the cloth simulation and then parent all of the sails to the main ship now let's make some water i did this using the ocean modifier on a plane so create a plane scale it up to be a more reasonable size and then add an ocean modifier the settings you choose for this will vary depending on what kind of water you're recreating i was creating a river so there's not really any waves it's more like high frequency ripples on the surface to make this kind of water i turned the scale and the choppiness right down so it was much more subtle to make the detail a lot smaller i turned up the tiling to about 10 and then made it a lot smaller which scaled down the frequency of the noise at the moment you can see a lot of the repeating patterns but from the camera angle and once it's composited you're going to lose most of it so it's fine it's important to look at your actual footage and make a note of what way the water is flowing so you can mimic that with the ocean modifier to make the water move add a keyframe on time then go forward a few frames and change it to a different value and add a second keyframe then in the timeline select both of those keyframes press shift e and change it to linear extrapolation this just means it'll carry on forever at that speed changing the spacing between those two keyframes will change how quickly the water moves now we want to make the water actually interact with the ship so go to the physics settings add a dynamic paint modifier and select add canvas and then change the surface type from paint to waves then select the ship add another dynamic paint modifier and set this one to be a brush now if you hit play and move the ship around it will actually influence the water play around with the settings a bit to change the strength of the waves and how much they fall off these are my final settings so you can see i didn't actually change that much it was kind of good to go out the box the nice thing about this is the cg waves actually interact with the side of the ship which makes it merge really well with the live action footage now let's make some canon smoke this is actually really easy and it looks really cool set the 3d cursor to where the end of one of the canons is add an ico sphere and delete half of it scale it around in the z axis a bit and then in edit mode duplicate it a few times and move it around scale it up and down to add some variety then add a displaced modifier and add a new texture and in the texture settings set it to clouds then change the strength of the modifier to your liking and change the texture coordinates from local to global so that when you move it it will displace in world space add a keyframe for location and scale then go back a few frames and scale it down into the end of the cannon and add another keyframe now add a quick smoke effect onto this and scale the domain up so it has plenty of space on the emitter turn on initial velocity and set the source to something quite high like 15 or 20. with the domain selected turn up the resolution divisions to something a bit higher like 100 and then on the ico sphere add a few keyframes for surface emission so it starts on zero it goes up to 0.4 a couple of frames later and then about four frames later it's back to zero with the domain selected again turn on adaptive domain and then turn on dissolve and set it to something like 50 and then hit bake so you can see what it looks like when it's baked have a quick look see if you like how it's turned out and if it's all looking good turn up the resolution to something like 300 and then rebake it this is what my final sim with all of the cannons looks like for shading the smoke i went super simple and just used the principled volume shader i turned the density up to something like 65 so it's a lot thicker and also set the smoke color to be a bit darker because canon smoke tends to be fairly black okay so now we're ready to render i've got five render layers in total the first one is the pirate ship with the river set to be a hold out so the bottom of the ship is cut off by the water the second one is for the water and it has the pirate ship and the smoke simulations set to be indirect only which means that they will cast reflections but they won't show up in this render i've got two different ones for the smoke sims one is the cannons and one is the explosion that happens later on the shore for the cannon smoke i set the ship collection to be a holdout so that the ship geometry would actually cut out parts of the smoke you can see here the ropes are occluding the background smoke and then my last render layer is a utility pass this has cryptomats in it so i can isolate different parts of the ship and compositing and it's also got a position pass which is this weird gradient thing you're looking at i'm going to use this in compositing to light up the ship a bit when the cannons fire the compositing was really straightforward i started off with the background footage obviously and then i added a couple of 2d elements that i had a little bit of painting to add some damage to the background it's mostly just some smoke and fire assets that i had from action vfx because there's no reason to really sim all of this stuff because it's so far away then on top of that i added the water i did a little bit of grading to it just to make it match the live action water a little bit better i also did a luma key on the highlights on the live action water and then used that alpha to grade the cg water up a little bit just to add the highlights back on top and then to merge it with the live action i just did a really feathered mask so the cg water would slowly blend into the live action then the ship goes on top of that again this just has a couple of really simple grades to match the color a little bit and i raised the black point quite a lot because the background footage is log you can see here i used the cryptomats to isolate the sails and made them a little bit less contrasty because i thought the render was a bit funky then i used the position pass to grade the side of the ship to add some light interaction when the cannons go off the position part is like a gradient of loads of colours and each colour kind of represents a point in 3d space on the geometry so you can color pick it and it gives you this circle that you can then change the radius of and you'll have basically a mask on the geometry so i set that onto the canons and then use that to do an animated grade to brighten that side of the ship up a bit for a few frames then the canon smoke goes on top of that really simple didn't even really do anything to the render i just graded it down a little bit and then i made the cannonballs in 2d originally i did this in 3d with some geometry but the motion blur was so much that they basically became invisible so i just made a gray circle and transformed in 2d because i had a bit more control over the motion blur this way once it's composited you hardly see it you just kind of get this sense of something gray moving across the screen really quickly and then i put that second smoke sim on the shore which is where the cannonballs hit and then just added a little piece to resistance which is the camera shake when that hits as well and that ladies and gentlemen is how i put a pirate ship in the river thames hope you thought this was really cool if you enjoyed consider subscribing check out the description for the discord link like i said earlier and suggest what you'd like to see next in the comments as well thanks very much for watching and i'll see you next time