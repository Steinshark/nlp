- i promised my wife that we were not going to do it this way, but i don't see her. so here's the thing, every single project we've ever done with like multiple gamers, and one cpu, or multiple video editors and one cpu, has had one thing in common, it was kind of janky. good enough to make a
video about it for sure, but not good enough to deploy day to day. well today, that all changes. both the hardware and software side of virtualization have come a long way in
the last couple of years, to the point where we have individual cpus with 32 or even 64 cores, and nvidia dropped the artificial lock on their consumer geforce gpus, that prevented them
from running inside a vm without some hackery nonsense, not to mention stability issues. so here's what we're gonna do, we are gonna build a single op machine that is gonna power all
five of the gaming stations in the lan room over there. so that my entire family can sit down, and game together without
anybody even realizing that they're all running on the same box. - [jake] we hope - we hope. yeah, jake's here's, sup jake? he's holding the script. - [jake] it should be fine. - kind of adlibbed it a bit. oh, just like i adlibbed
this segue to our sponsor! - smartdeploy now powered by pdq.com. with smartdeploy, it
professionals can leverage box, dropbox, google drive or onedrive to re-image windows pcs from the cloud. grab your free smartdeployed licenses worth over $500 at smartdeploy.com/linus. (upbeat music) - to fill you guys in, here's what the lan
center's gonna look like. each of our five stations
is wired up for power. oh, that's not power. sorry, here's the power. this one is a cat6 a cable connected to an rj45 connector. so that can be used for up
to 10 gigabit networking. and then down here, we've got om4 multimode
fiber with an lc connector, and we can use this a
number of different ways. the way we are gonna use it is for usb, but we could actually do up
to 100 gigabit networking on this thing and that's today, assuming that we don't see any kind of future evolutions of the standard. the coolest thing though,
is this box up here, which is actually more of
an access box\poll station. so you can see this runs
through conduit in the walls and would allow us to run
different cables in the future. also contains this bad boy, this is a fiber optic
displayport 1.4 cable. that means that over this
single cable that runs 50 feet away to the mechanical room, we could do 4k 120hz to a display. and this will all go
back to that motherboard i was holding at the beginning. i know all of that is unnecessary. we could have just as easily
put the gaming computers in the room right next to the monitors. but the idea was that by using
these long distance cables, we could remove all the
heat and all the noise and just dump it all here
in the mechanical room. - except it's kind of weird to just have five, like full size. i mean, that's kind of small, but let's say five full size atx towers just chilling in here. so we're like, "let's throw
it in the rack," right? - yeah. but then we realized,
well, now hold on a second, just to get a gpu in here
without running like. - sideways gps or anything like that. - yeah. freaking like blowing metron fans and making a ton of noise, you're gonna end up with
every one of these chassis being at least this big. and all of a sudden what,
well hold on a second. five of these, we're gonna take up the
whole freaking rack. so i'm sorry, wife. there was simply no other
way than to consolidate all. - definitely couldn't
have just gotten another hot pink wreck. - no, couldn't have done. i mean, we probably could have done that. - you don't want to make this one jealous. - jake, is that a crypto binding rack? - well, yes, yes it is. now we don't know what the
final system is gonna look like. - [linus] hopefully not like that. - yeah. this would not be ideal. this would not fit in the rack. instead, we're just using it
to see if the actual concept of having our five gpus works well and works stable enough that
you can actually deploy it. - cause even though, yeah, like i said, it's gotten a lot better than
it has been over the years. - we also haven't tried it. - we haven't tried it on
this particular motherboard, but these particular gpus and you can run into some weirdness. okay, what's the model
of this epyc in here? - it's a 75f3, f for frequency. - and what's special about this bad boy, is it's 280 watt tdp, 32 cores and boost frequency of
up to four gigahertz. and as for ram, okay, well, you don't get the
same kind of crazy specs that you might on the desktop side - or rgb, - just because you're running server ram doesn't mean you need to go slow. this micron 3,200 mega
transfer per second ddr4 is flipping fast and more importantly, we've got a total of 256 gigabytes of it. so that means we should be able to put. - 36 gigs in machine or something? - yeah. six cores to each machine. - yeah. - and 32 gigs of ram to each machine. - easy, yeah. - easy. - i mean, we could give the kids 16 and use the rest for something else. - that's true. so one of the greatest things about epyc is how many pcie lanes are running off of that cpu. it's 128. that means that each
of these 60 text slots is actually running at full pcie 4.0 x16 not that with an asterisk. so i think there's a couple of them... - [jake] there's one. - one okay. - there's one that like
switches with some twos or something like that. - these are oculink, these are pcie. - yeah. - these m.2 will they share, but they're pcie and then
these are sata, right? - [jake] yeah. they're like.. - they break out. - [jake] yeah. - but you still got
that's another eight lanes right over there, there's fricking insane. okay, when i saw these, i
just about crapped my pants, but sonnet has a new usbc card. - okay. isn't that amazing? each of these two ports is powered by a dedicated controller, here on this board that appears to be using an m.2 connector. - [jake] yeah. to split so they must have
some kind of pcie switch or bridge chip on here
or something like that. so you can take the 16x lane and get, i guess, anywhere from, that's weird actually. it's a 16x interface here and then they've got only a 4x. - well, if you look at the board too, like it doesn't really look like the rest of the pins are connected. - okay, this is an 8x board. and then they've just got it taking up a full 16x slot
just for lulls, apparently. anyway, the reason we need these are that you can pass through
an individual usb device or usb port to a vm, but the better way to do it without compromising on performance, is to pass through an entire controller. so this way each one of our vms is gonna get its own controller. that way we can have full
hot plug capabilities and full performance, if for
whatever reason they're doing, i don't know, homework or
a media project on there or something, they wanna
ingest some footage. - yeah. it's kind of like... - boom, you know, a regular computer
with just a usb port. you can just use it just like that. - exactly. and once you've
got display port and usb, you can kind of connect to anything. do you have a particular
layout plan for this? - sort of, i played with it a bit and there is a way that
makes it work better, otherwise known as there's
only one way to do it. and if you don't do it
this way, it won't all fit. - okay, and do you remember? thanks jake. for the kids, we've got rtx 3060s. these are actually the ones
that are left over or returned from the verified actual gamer drop. and we just tested to make sure they work. cause they are returns. - should be fine.
- nop. - okay, sure. anyway, the point is we only
got a handful of them back and so it wasn't enough for us to have any meaningful amount of
stock to do a drop again. but we didn't wanna just turn around and sell them individually and like profit off the
scalper prices or whatever. so they've kind of just
been sitting there. anyway, now we're gonna
use them. so there you go. three 3060s, and then for me in yvonne, we're stepping up for two 38 dtis cause like, you know, we're the parents, we get the good stuff. we'll probably swap these
out when we do the final... - i think the intention long term would be to water cool them. so we might end up with reference cards just to make that a little bit easier. - right, yeah. - do you remember when an
ax1600i was like excessive? - like stupid. - you could run four gpus on it now you're like you could run two maybe like can you even run
two 3090s on an ax1600i? - yeah, yeah. - yeah but it's still like,
"ooh, you're getting there." - it's fine, it's fine. - so for five we needed
more than one power supply. i wanted to use the 2,000
watt power supply we have, cause you do have 208 volt in the rack. - oh that's right. but we don't have an extension
cord to get that power from there to here. - right. and we're
doing the tests out here rather than running everything
through the walls today. - yeah. - we wanna know if it actually works. - instead rather than one
ax1600i, we have two nerd. i got a little power supply jumper, these things are sick. you just plug it into your motherboard and it's got a little like pig tail with two connections just
to jump the power supply. so when you hit the button, they both turn on at the same time. you don't have to do this, you could put a paperclip
in the second power supply and it would just be on all the time. but it doesn't really
feel right, you know. - yeah, that doesn't feel right at all. - oh, one thing we didn't mention we're running unraid so our operating system
runs off of a usb stick like it's the stone age, lime tech. if you guys are watching, definitely do wanna be able to run unraid off of a real drive at
some point. thank you. - can i turn this on now? - whoa, hold on a second
there by, oh you just. - gotta plug ios that's vga, that stuff works live, it's fine. - yeah. well, no, i
just, it's not the point. - i just gonna... - do you know which... - turning it on? - woo. - which one's manages
which one's 10 gig? yeah. - hey look. it's booting - it's booting? - yeah.
- oh good. - look at that. - why do these server boards
ever take a long time to boot? - well, they have to wait
for the ipmi to boot up. i was having a panic attack this morning. it was booting up, you see this monitor down here? the main monitor was only
showing pcie bus enumeration, which means like it's checking
for the graphics cards. but it also means that it's
gone to the graphics card to display the output. but i had set in the bios before to just use the vga
port on the motherboard. - right. so just ignored you. - yeah - cause it's a server board
doing server board things. - and i was like, oh god,
this computer's not working. oh my god, the shoot's gonna be a sham. oh my god, they're already on their way. oh my god, oh my god. and then the internet stopped working. it was a stressful morning, but it works. - yeah. oh what... - can we talk about the fact that we just hooked up like
five gpus on pcie risers with two usb because that's
seven cards into the system. it just turned right on. the only thing i changed in the bio was that setting that it ignored, so. - that's insane. - it's a lot of learn here. - previous projects like this, we're talking multiple days just to get the computer to turn on with everything plugged in. - i see for storage, we've gone with. - one, it's. - a single one terabyte ssd. we could do way better
than that in the future. we could set up some kind of array or. - actually you have a zfs pool. - yeah, do they have
zfs pool supported yet? - no, i don't think so. - add pool. what is this add pool? - that's just to add, you can
have multiple cash pools now, which is kind of cool, but. - okay, that's neat. they are apparently working on zfs so that would be amazing. - you can also do it with
like a third party plugin. - hey, look at that, nice. - i wonder which gpu that is. - quick start mining doge coin. - so this is a 3060? - 3060, okay. - let's see. does it work? oh yeah, she works good. - yeah, that looks great. - [jake] i have two screens. okay. let's try gpu two then. - can i get you chair jake? - no. - i'm gonna get a chair and he's gonna just refuse to sit on it, because he's stubborn cause now he said that
he doesn't need a chair. so i'm gonna put this
right here, you watch. - hey, let's though, hagrid. - world's more comfortable, he's not gonna sit in it. - you and your chair can
just go (beep) yourself. - ah, ah, yeah. - yeah, yeah. that's what i thought. - we got i. hey nice. so that's two for two. - that's a 3080 dti. isn't it insane how easy this is? you used to have to fight like error 43. cause they were trying to
detect that you were in a vm. like just. - yeah. - for lack of a better
word go (beep) yourself. - the video. - yeah. - i mean they're doing it better now. there's still things they
could do way better though. - yeah. - let's see. i'm gonna boot up. i'm booting up another vm. don't touch it. - look at that. hey, hey, hey - i'm not touching. - hey. hey.
- okay. i believe you - look, look. - okay. oh my god. - hey look, look. - it's like when a small child like goes to the bathroom by themself. - no, no, but i want
you to watch me do it. - hey linus i had a really
nice poop this morning. - i'm glad to hear it, jake. i really am pleased for you. - it was one long. hey look, hey linus, look. - oh my god, yes. - look, look. it's working. - yay job. - yay. - okay. - how about for real though? - cool, that it's working. - there's four of them. okay. - what about number five? - how sure are you that it's this boy? - it's this boy because the
fans are still spinning. - no, i meant how do you know
it's this boy that's working, but yeah. okay, sure. so they it's running, it's silent mode. so the fans are actually completely off on all the ones that
are working correctly. - well, this is in. - brother, what? the power
supplies are still on. - they are. - yes. - i don't know, the other fans are off. - the power supplies though. - oh, yeah. but the power supplies, they like power, they need power. it's right in the name. - it, has stops working because of that, not my fault. oh wait, what slot is that? is that second from the bottom? - yes. - oh. - oh. - we might have to move
the jumper, it might be in. - right. under t mode. - yeah. - okay. well that's fine. that's doable. is it a jumper? or is it a bio setting? - it's a jumper. - really? - yeah. - oh what year is it? has for rock crack. - there's two jumpers for it. they should both be on the left. what are the odds that this just works? i just wanna, i'm gonna say right now full disclosure. i did not test this with five gps before i just assumed it would work. - freaking guy. - i tested it with two
and it worked so well. and i did check that
all the pcie slots work except those ones, so. - yeah, okay. - oh boy. - what's up? what's up? - i'm setting the last vm. - okay. - i'm gonna start the rest of them. - okay. are you gonna full yolo
and start them all at once? - yeah. that's what i'm doing right now. - nice. - it's literally happening as we speak. oh, oh there's three. there's four, there's five. woo. - i'm actually really surprised. - yeah. so easy. and the cool thing is
i can access them all on the vnc still. - man, this is hardly even a video cause everything's going so smoothly. i need to create some drama. oh no, jake's chair failed. - you mean your chair failed? - oh yeah. right, no. okay, it's a good chair. this quality chair, aluminum chair. once you're going fast enough. downloading games on steam
is actually pretty demanding. we are sucking back. what does this work out to? 26% of this 32 core processor. and i think only two of them are actually downloading right now. lasting two fa code. sorry, we needed five
freaking accounts with cs:go. - we still don't know if you want cs:go. - no, no. she has cs:go. i told you she's got cs:go. - okay, cool. she doesn't have cs:go. - she doesn't have cs:go. not a different game then,
i don't even care anymore. - yeah, just it doesn't
have to be the same game. - yeah, whatever. cod modern warfare 2. - halo - halo inifitive. yeah. heck yeah. - let's do it. okay, but hey. oh my goodness, look at these cpu's going. there's your halo? infinite download boys. does that happen to be vm number two? - i mean, i guess it probably is. i mean, there's no way it's not. - what speed is it managing to do? - 129 megabytes a second. - okay, that's not bad. - i think steam uses z
standard compression now. so pretty quick. - wow, we're gonna need more chos dude. - we are. i can actually see that, it's not running amazing. all things considered and mind you, all of these are running bots, which is pretty cpu intensive,
but still pretty damn good. - it's running. - honestly, if we switched the
storage to something faster, it would actually probably
make the performance better. - i suspect storage is a
big, big problem right now. oh, interesting. this one is seeing up to 200 fps now. - that one in the bottom
right is just like. - 30, 40, 50. this one's all over the place. it's going up to like 250 and then dropping down
to i saw it as low as 50. and that happened to
correspond with a peak and download speed over here. we are almost definitely
just storage limited. and i bet when we throw
better storage in here, it's just gonna resolve it. - i mean the cpu usage
is pretty high right now. it's like doing a lot of stuff. - that's true, but it's not that bad. i think. i don't think that's it. you wanna make a friendly wager lunch? - no. - all right, it was worth a shot. i like free lunch. hello, hello infinite,
are you gonna launch? - hello buddy. hello buddy? hey, there we go. wait, and it's gone. - god damn it. we should
have just bought cs:go. - okay. we got our fifth
game launch, we just need. - i mean that pretty much confirms it. we got five, mostly working
gaming computer stations. - yeah. we've just got some
storage issues to figure out, get all of the five optics, actually connected to monitors
and put desks in there and everything. - there's probably some
optimization to be done. - but that's it, single
machine five gaming stations. i think this is probably
good enough for prime time. - this is the easiest
virtualization setup i've ever done. - and this is the easiest
segue i've ever done. to our sponsor, pulseway. do you ever find yourself needing to remotely manage your network devices from a less than convenient location? like when you're dropping
your kids off at school or in line for lunch? pulseway can help. with pulseway's all in one platform you can centrally manage all
of your desktops, servers and network devices, making
it management easier. they have desktop and mobile apps, so you'll be the first one
to know when things go wrong, wherever you might be and you can run scripts, build automation workflows, remote control into any system, reset user passwords, or even set up custom notifications for windows, macos or linux. plus, thanks to their auto
remediation technology and fully customizable end user portal, you'll have more time for
the things that you love while pulseway takes care of the rest. and the best part, you can do all of it on the go wherever you are. so what are you waiting for? try it for free today through the link down below and secure a limited time, 20% off offer. if you guys enjoyed this video, why don't you go check out the original two gamers, one cpu. - with luke. - mine and luke's minds were absolutely blown.