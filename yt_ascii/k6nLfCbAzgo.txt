hey everyone, not a typical numberphile video for obvious reasons. ben sparks, who ironically is the person who lives closest to me, he's only about 40 miles, uhhhh, i think he's that way, but he's at home at the moment. so am i, but we're gonna have a talk via technology hopefully. and what are we talking about ben? what are we gonna try and discuss? i think there's a lot of videos and chat out there about how mathematicians are modeling the spread of the covid-19 virus. and it's kind of like this sort of halcyon days for mathematical modellers. despite it being a horrible circumstance, everybody is queuing up to ask the mathematicians' opinion on what's going to happen next. and i guess it's a shout out, mathematical modelling is what helps us predict what happens in the world, in general. what i wanted to show you was a way of using one of the standard models of disease spread on a free piece of software that people can just try themselves and see that the modelling that people are doing to predict this is, it's kind of accessible. - i see you've got the honorary brown paper - needs must, we've got to do something properly numberphile i actually don't have any physical brown paper that i could find so i had to, you know, get a screen grab of brown paper and put it in geogebra which i'm going to use to show you a model of a disease spread. um, i hope - - and is that is an image taken from an actual numberphile brown paper?
- an actual numberphile brown paper, yeah i mean, spared no expense here. so, i'm gonna try and build you a mathematical file in this program called geogebra which anyone can try and follow along with, the program's free. so grab it if you want to try it. the three variables i'm going to use i've written on the screen already, um, just checking you can see that all right i've got "s" for "susceptible", meaning a bunch of people that are possibly able to get a disease; "i" for "infected", people who have got the disease, and "r" for recovered by which i mean are not infected anymore. to be honest, that doesn't necessarily mean recovered, right? they may be dead, which means they're not gonna be infectious anymore and that's the sad truth of modelling diseases like this, is that there are two ways out: you recover or you don't, but either way you stop infecting people. i'm gonna use "r" for "recovered", some people call it "removed", but i will forget to say that word,  so i'm going to use "recovered" as long as you know what i mean and we're gonna build up, like all good mathematical models, some sort of simple, almost nalve assumptions of how diseases spread and follow the mathematical consequences of those simple things just to make a prediction, and actually geogebra will do the lifting, the heavy lifting, for us. so, happy for me. let's start chatting maths. okay, i'm gonna set up a population of size 1, this sounds a little bit confusing, and i'm typing into the top thing here n equals 1 which means i'm using like my entire population to mean like 100% so zero to one measures some fraction of the population and the whole population is size 1. you can do these models with a large number, but it- everything just scales so i'm just gonna go with between 0 and 1, which is why my graph is 0 and 1 about here on the screen. i'm also gonna set up some initial setup. so presumably there are some infected people in my population otherwise, you've got to be asking why you'd be doing the model so i'm gonna start some values of infected, and susceptible and recovered, and the infected i'm going to call "istart", not meaning me starting, i mean the number of infected people at the start of this, i'm going to call 1%, which is 0.01 and everyone else is therefore susceptible. so those susceptible people at the start is gonna be n, the total number of people, take away "istart" and that gives us 99% susceptible. that's because no one of this stage has recovered so "rstart" is 0. and those are like my initial conditions for a model. it all looks a bit cryptic. i'm basically programming in maths. i'm gonna set up 2, 3 more variables in fact which we'll use in a minute and it'll feel a bit arcane until you realise why, but i'm gonna use sliders for this, so there's a slider tool here. i'm just gonna put it here. this slider is gonna represent how quickly this disease gets transmitted. like, the infection rate. so i'm making a slider. it won't do anything yet, but you can see i can change this number it's gonna be something to do with how quickly it infects people, and i get another slider for how quickly people recover from this disease. which is gonna be smaller, 'cause it takes a while to recover from diseases. otherwise, they usually don't really register in any model. - what are the units of time here ben? - it doesn't actually matter. so we could pick a unit and run with it, let's say days, but i'm not necessarily gonna have the numbers right to model this in days, but then, if you change the unit of time you'd just have to change these parameters to reflect that. and we can do some- because they're on sliders we can do the playing around with it later on to see if we can change the units. 
- (brady: okay, and at the moment, they're called a and b?) - a and b, yeah i can give them different names if you like.
- (brady: just to really help me remember what they are) - well, yeah, let's rename it. let's call this transmission, just call it transm. all coding has to have horrible names right, but i still want to type in really long names all the time. let's call it recov so i've got a transmission rate and recovery rate. and i'm gonna use them to build some naive models. one more parameter i need, which is how long i'm gonna let the model run for. you'll see why this is useful later i'm gonna call this the max time. i'm gonna go up to about 20 for now. okay, good, now we're into the real maths. what i'm gonna do is set up three what they call "differential equations", which sounds scarier than it should but these are equations which tell us the sort of "naive" assumptions we're going to make about these three numbers. what i want to know in the end is: what these numbers are over time how many susceptible? how many are infected? and how many are recovered? but what i can't tell you is straight away what those numbers are. i can guess though at how quickly they're going to change depending on various things, so i'm going to write down three equations, which tell me about the rate of change of these things. the first one is called "s' " i'm gonna call it "s' " and that is sort of mathematical code for if you were gonna write it longhand, maybe "ds/dt" if you know any calculus, that's the derivative of s with respect to time but in everyday language it's the rate of change of the number of susceptible people - how quickly it's changing. and it's gonna depend on time so this bit looks technical, but i'm typing in a bunch of variables the rate of change of susceptible people depends on time and the number of susceptibles and the number of infecteds and the number of recovereds. all of these things might affect that but in practice and here, this is the first time we actually get some maths written on the screen: the rate of change of susceptibles is negative because the number of susceptible people will go down because they're getting infected. does that bit make sense? - and we're working on this assumption that once you've been infected, if you've recovered or died you can't get it again? - yeah. we are assuming in this particular model of disease that once you've infected and recovered you are now sort of immune in some sense so you don't become susceptible again. the thing is that if you've got loads of susceptible people and a few infected people, at first anyway, the susceptible people go down so what i'm expecting here is a negative rate of change, which is why i've wrote a negative sign at the top of the screen there. and it's going to depend on three things. one is the parameter "a" which i've called transm now transm. the transmission rate, and that will also depend on how many people are susceptible. so if there's lots of susceptible people you can imagine we're gonna lose them to the infections quite quickly and also depend on how many infected people there are. so this is relatively simple there's a number, the transmission rate, multiplied by the susceptible people multiplied by the infected people and it's negative because the susceptible people are going down. they're gonna turn into infected people so there's my first equation. it's a differential equation. it's a rate equation - that's what it means by a differential equation. we need to do two more for the other two variables and it's not too bad so i'm gonna go with i next. i' is gonna depend on the same four possibilities here but this time, the first bit's obvious because if people were susceptible, and that's what this first equation we typed in was capturing, they're going to become infected next. so anything that's gone away from susceptible has become infected so it's exactly the same as what i just wrote down but this time positive. so you can see it's the same thing: transmission rate times s times i but this time it's not got a negative sign because the infected people are going up, presumably, if they're moving from susceptible to infected however, i hope we are aware that some people can recover? and so that will cause the number infecteds to go down so i need a negative bit and this is where the recovery bit comes in. i've call it recov, is that right? and that will depend on how many people are infected. the more people that are infected the more people that can recover, obviously at a certain rate so that's got the i number in there as well - i notice you're not attaching any, like, weightings or anything to these, to these numbers
- no - it all seems like a really one-to-one...
- well, there are two weightings. the two weightings are these precise numbers: transm - transmission rate - and recovery rate. so there are weightings, but i'm trying to keep the model simple so there's like this - at the moment it's 3.2. and that'll affect how many people are going to move from susceptible to infected and the recovery rate is going to affect how many people move from infected to recovered. so those are the weightings if you like, but they're the only parameters. and this is the thing with models - you start simple and you realise that even simple models can capture behavior and then you upgrade the models, which will be a whole week's course instead of a single video let's do one more equation, which is the r'. the rate of change of recovered people so the same four variables in here and this time it's a simple end again because anyone who's infected and now recovered is going to move into this category so it's precisely the term i just had at the end of the infected rate but this time positive so the recov multiplied by the number of infected. so actually there are only two terms in this: there's the negative version in the susceptible to infected one then again, so negative there and positive there and then the effective one you've got in the negative people that's recovering from infected to recovered. so again sums up to negative there and positive there so that was that. that was the hard bit and that's the modeling bit that's what mathematicians get paid for to come up with these models. to be honest, they're not rocket science. they're, sensible guesses at how things might behave. solving these equations is a different matter; before we do that i'm just going to change the color so we can keep track of this. so susceptible we made blue, infected we had a sort of browny-red and recovered let's go with green. is that all right? can you see those colours okay? - ben's colourblind by the way people, which is why he's asking me all the time. 
- [both]: *laugh* brady: he got no idea - i , ihad a long chat with brady about: is that actually red? anyway, we're gonna go with this. we've got a browny-red infected colour, which is, you know, maybe suitable. so if you want to solve differential equations, then you need to go and study some serious maths and i'm not here to teach you to solve differential equations. what's nice about mathematicians is that they have programmed computers to do numerical solutions just like a calculator can solve equations for you, geogebra here can solve differential equations. so i'm gonna type in here is a command called "nsolve" in fact there it is, "nsolveode" the ode stands for ordinary differential equation, mathematicians are as bad as everyone else at coming up with acronyms that no one recognises, but ordinary differential equation in this case is system of three differential equations, and this command is just gonna spit out the solution. so this is the exciting bit you just get to type it in and it should do all the work for us. first of all, i need a list of derivatives and that's the three things i just typed in these are rate equations or derivatives. in geogebra we need curly brackets for a list so it's s' i called it, and then i' and then r', close that list it asks for the initial x-coordinate and on our scale x-axis is time so we're gonna start at time zero. and we will a list of initial y-coordinates, or in this case the initial values of our three functions and those are the things i set up at the very beginning. so let's go in the same order sstart - the number of people starting susceptible and then istart, i think i did that order, and then rstart finally, i need a final x-coordinate and this is why i set up a max time thing, because it's gonna tell me how long to go on the simulation for now. now it's already done something. that's my command that's the sort of magic of using a piece of software to solve an equation for you if i hit return, it has done three things which look kind of down here. they don't look very complete yet but can you see that one of them's going down, one of them's going up and one's going up a little bit more slowly? they're all black. we'll sort out the colours because geogebra doesn't do the colours for us, i wish it did frankly for my own colour vision deficiency but i can also increase the time it, it carries on, so you can see this is the important bit. when i crank up the time you see how these things develop over time. and actually it'd be much nicer to see this with colour so let's rewind that and put some colours on the first one it solved is s, so let's rename that to be s and make it excitingly blue. i don't know why blue is exciting. the next one is our browny-red, rename that to be infected and finally we've got recovered and that was a green can i click? yeah. and finally let's just make them nice and thick. and now we can see - i could even just animate this and right-click and animate it and you see what happens to the numbers of susceptible, infected, and recovered over time. this might be worth guessing what you think will happen, but let's just click go. and so what i hope you're seeing is, this red graph has been in the news a lot - this bump of infected people - which does tail off again - but it's nice that geogebra is just doing this for us (brady: you're going back in time now.) - ben: yeah. i've got to change of properties of the number here to stop it oscillating but yeah, you can go and tinker with this yourself that's what it starts with. the number of susceptible people goes down infecteds goes up and people do start recovering enough of for the infecteds to jump off. but it's how high that bump is that's really what's causing all the headlines at the moment 'cause if that bump of infected people - the red bump. that's when the number of infected people is at its highest, the red bump is at its peak.
- yeah and according to this model which is going between zero and 100% like almost 80% of the population got it at once. and that's obviously if you project that to our nhs, that's a problem. which is what - we've just started this week of lockdown in the uk i mean it's unprecedented because they're trying to stop this bump from dominating the entirety of all hospital intensive care beds. but now we've done it, and this is the nice thing about doing a model, is that we can change these parameters so i said this- 
- we can flatten the curve!
- we can flatten the curve, we can squash the bubble, whatever you want to call it and there are two ways according to our model, right? let's crank up the time so we've got enough model we can decrease the transmission rate which means like stop people from talking to each other social distancing, all that stuff. and if i start knocking that down, if i just kind of animate that down you can see what's happening to the model there. 
- (brady: as you lower the transmission rate that red bump gets lower) - gets lower, yeah 
- (brady: and that means there are fewer people all needing the hospital at once?) - exactly. we're squashing the bubble a bit, flattening the curve and that's kind of what we're trying to do at the moment. and you can see that this model lets us try and see how much you have to do that and you see that eventually if you reduce this rate hugely not only do you flatten the curve, you also stop everyone from getting the disease in the long run. we can crank up the maximum time. i may go off the edge of our pre-arranged paper here, but let's just see what happens. i crank up time and see what we see here. so this is settled down now and not everyone has the disease so maybe 10% this blue line susceptibles, there's still 10% people susceptible in the long run but they've never got the disease and that, is kind of what we're praying for because some people won't survive this disease and if we can stop at least like maybe 10% of the most vulnerable from getting it, that would be great. you see why reducing the transmission rate doesn't just squash the curve it also reduces the number people actually getting the disease in the long run - and of course a vaccine may be developed  in the interim in which case the susceptible people can be made susceptible... - absolutely, you can take them out of the equation entirely if you vaccinate them. i mean you can also increase the recovery rate if you crank up the way the people recover you can see that increasing that flattens the curve as well but that's much harder to do. the nhs is doing that, they're trying to keep people healthy and recover quickly in hospital but in practice we know that it takes at least a week or so to get over this thing and sometimes a lot longer - there aren't treatments or cures that can really help us move that slider very much. - exactly, yeah. we'll do our level best obviously in the nhs but we can't control it very well and what you might have heard some people talking about on the sort of chat shows about modelling this stuff is something called r_0 which is the sort of rate of infection is actually a comparison of these two numbers so it's one divided by the other. if i do transmission divided by recov that number - let's just crank it onto the screen there (brady: we should call it r_0 for the sake of, - ) yeah, let's call r_0, that sounds sensible, you know. it's confusing calling it r_0 sometimes because it might also refer to the rstart which was...but anyway, this is r_0 meaning some sort of reproduction rate and you can see that, umm we think the r_0 for the covid-19 is about three, perhaps? and it's kind of like a ratio of these two things, but this is possibly a good model for our disease we're looking at now - and obviously we haven't sorted out the units of time, but even - maybe it's about right. the number of days might spike in about two weeks from when things start off i'm not doing a full analysis, but you can see that even in a free piece of software with three basic differential equations it solves it for you and you can begin to get a predicting model that tells us what's going to happen in the future - ben, the transmission rate, like, you're moving it like a slider, it's like almost like an abstraction you can just play with.
- yeah, yep - how do the modellers go change that number based on things like "we're going to close the cinemas", "we're going to close the schools, we're going to stop people, we're going to keep people in their house for two weeks or three weeks." how do those real-world interactions turn into a number? well, this is where there's a lot of argument out there in the press right? this is guesswork. we don't know what the transmission rate and recovery times are, they're not written in the back of a textbook. all we can do is estimate them from the data we get from say, china, who've been dealing with it longer than the rest of the world, which is why the data from china is super valuable and also why we need to know whether we can trust it. so you go and get data from china and then maybe italy and then maybe iran and then you ask serious questions about whether that data is reliable, to build your models on. and then you start saying "well if we social isolate maybe we can reduce this by a certain amount", and you have to look at other studies that have been done to see how much certain actions will reduce that. but it is guesswork, this is why having a model is super important because you can't do the guesswork live, and wait to see if everyone dies because that's just not how things should run. - one thing that was absolutely clear though is no matter what happened, whenever you slid the transmission down, the red bump flattened. 
- yeah, and it flattens a lot. - even if we don't know how much it's flattening, it does flatten it. - absolutely. and the more we can flatten it the better. the actual details of exactly what numbers we need to keep our society safe is guesswork from everybody which is why, i mean, the government has got a difficult job - and everybody is going to be second guessing them, including experts and including the experts that they're relying on for their information. but it's important stuff and for once you've got a listen to the mathematicians because they're the only ones with the access to this model to predict what will happen - oh, and numberphile viewers now can make their own model. - and numberphile videos, 'cause they're all going to be making their own model so there is a file i made earlier which i'll, umm - this file here, which i just put a little animation on so you can see these numbers tracking over time. and this one i have left it as a and b but people can make their own and come up with their own labels on this and actually i think realizing that the model is within their own grasp is - certainly it's kind of useful for me. i'm a mathematician but i have to go and dig up my knowledge on these things and think, "ah, how do i program this?" and it turns out to be not that hard particularly if the computer will do the grunt work of solving the things for you. - ben, as a math guy, as you've been following this pandemic as it unfolds and the way it's been covered in the media and social media and things like that - how have you felt about the way that lay people are grasping the mathematics? and how well do you think it's being explained? - i think it's hard to explain well, because like all maths it needs a bit of a run-up. even in this description i've been talking about differential equations. if you're not sure what a rate of change or what differentiation is, then that run-up needs to happen to make you comfortable with the rest of the explanation. but the number of people who have been talking about exponential growth, logarithmic scales which most numberphile viewers will be familiar with, it turns out they're desperately important to discuss the sort of epidemics that we're seeing. so it's been fascinating and sobering to realise sometimes in our mathematical world we think we live in these abstract things, but this is desperately important in a very real-life way. so that's both exciting for me as a maths educator, like people realise this is important, and sobering because it does seem to be the crises when we notice that it's important. when everything is running normally, we don't really notice that these models are important. - so in the video description for this video, i'm going to put some links to some files from ben, more stuff that you can tweak and play around with. i'm also going to link to some other youtube videos that have been made by other creators that are really good about what's going on with the coronavirus and the pandemic. but ben, i want you to stay inside and go and wash your hands. 
- you too, brady. [preview of next video]: a test, and you get that letter in the mail saying "you have tested positive for this disease." if you get that letter, if you're anything like me, your stomach falls into your feet and you start to worry. a question that mathematics can help us answer is, how worried do you really need to be? maybe very worried, maybe not at all.