maybe the basics of the quote-unquote youtube algorithm what is the youtube algorithm look at to make recommendation for what to watch next was from a machine learning perspective or when you search for a particular term how does it know what to show you next because it seems to at least for me do an incredible job both well that's kind of you to say it didn't used to do a very good job but it's gotten better over the years even even i observed that it's improved quite a bit those are two different situations like when you search for something youtube uses the best technology we can get from google to make sure that that the youtube search system finds what someone's looking for and of course the very first things that one thinks about is okay well does the word occur in the title for instance you know but there but there are much more sophisticated things where we're mostly trying to do some syntactic match or or maybe a semantic match based on words that we can add to the document itself for instance you know maybe is is this video watched a lot after this query right that's something that we can observe and then as a result make sure that that that document would be retrieved for that query now when you talk about what kind of videos would be recommended to watch next that's something again we've been working on for many years and probably the first the first real attempt to do that well was to use collaborative filtering so you can describe what collaborative filtering is sure it's just basically what we do is we observe which videos get watched close together by the same person and if you observe that and if you can imagine creating a graph where the videos that get watched close together by the most people are sort of very close to one another in this graph and videos that don't frequently get watch close too close together by the same person or the same people are far apart then you end up with this graph that we call the related graph that basically represents videos that are very similar or related in some way and what's amazing about that is that it puts all the videos that are in the same language together for instance and we didn't even have to think about language it just does it yeah i didn't it puts all the videos that are about sports together and it puts most of the music videos together and it puts all of these sorts of videos together just because that's sort of the way the people using youtube behave so that already cleans up a lot of the problem it takes care of the lowest hanging fruit which happens to be a huge one of just managing these millions of videos that's right i remember a few years ago i was talking to someone who was trying to propose that we do a research project concerning people who who are bilingual and this person was making this proposal based on the idea that youtube could not possibly be good at recommending videos well to people who are bilingual and so she was telling me about this and i said well can you give me an example of what problem do you think we have on youtube with the recommendations and so she said well i'm a researcher in in the us and and when i'm looking for academic topics i want to look i want to see them in english and so she searched for one found a video and then looked at the watch next suggestions and they were all in in english and so she said oh i see youtube must think that i speak only english and so she said now i'm actually originally from turkey and sometimes when i'm cooking let's say i want to make some baklava i really like to watch that are in turkish and so she search for a video about making the baklava and then and then selected it it was in turkish and the watch next recommendations were in turkish and she just couldn't believe how this was possible and and how is it that you know that i speak both these two languages and put all the videos together and it's just as a sort of an outcome of this related graph that's created through collaborative filtering so for me one of my huge interest is just human psychology right and and that's such a powerful platform on which to utilize human psychology to discover what people individual people want to watch next but it's also be just fascinating to me you know i've google search has ability to look at your own history and i've done that before just just what i've searched three years for many many years and it's fascinating picture of who i am actually and i don't think anyone's ever summarized that i personally would love that a summary of who i am as a person on the internet to me because i think it reveals i i think it puts a mirror to me or to others you know that's actually quite revealing and interesting you know just maybe in the number of it's a joke but not really is the number of cat videos i've watched videos of people falling you know it's the stuff that's absurd that kind of stuff it's really interesting and of course it's really good for the machine learning aspect to do to show to figure out what to show next but it's interesting hey have you just as a tangent played it wrong with the idea of giving a map to people sort of as opposed to just using this information to show us next showing them here are the clusters you've loved over the years kind of thing well we do provide the history of all the videos that you've watched yes so you can definitely search through that and and look through it and search through it to see what it is that you've been watching on youtube we have actually in various times experimented with this sort of cluster idea finding ways to demonstrate or show people what topics they've been interested in or what what clusters they've watched from it's interesting that you bring this up because in some sense the the way the recommendation system of youtube sees a user is exactly as the history of all the videos they've watched on youtube and so you can think of yourself or any user on youtube as kind of like a dna strand of all your videos right that sort of represents you you can also think of it as maybe a vector in the space of all the videos on youtube and so you know now once you think of it as a vector in the space of all the videos on youtube then you can start to say okay well you know which videos which which other vectors are close to me and to my vector and and that's one of the ways that we generate some diverse recommendations is because you're like okay well you know these these people seem to be closed with respect to the videos they've watched on youtube but you know here's a topic or a video that one of them has watched and enjoyed but the other one hasn't that could be an opportunity to make a good recommendation i can tell you i mean i know they asked for things that are impossible but i would love to cluster then human beings like i would love to know who has similar trajectories as me you probably would want to hang out alright there's a social aspect there like actually finding some of the most fascinating people i find out in youtube but have like no followers and i start following them and they create incredible content and you know and on that topic i just love to ask there's some videos just blow my mind in terms of quality and depth and just in every regard are amazing videos and they have like 57 views okay how do you get videos of quality to be seen by many eyes so the measure of quality is it just something yeah how do you know that something is good well i mean i think it pens initially on what sort of video we're talking about so in the realm of let's say you mentioned politics and news in that realm you know quality news or quality journalism relies on having a journalism department right like you you have to have actual journalists and fact-checkers and people like that and so in that situation and in others maybe science or in medicine quality has a lot to do with the authoritative 'no sand the credibility and the expertise of the people who make the video now if you're thinking about the other end of the spectrum you know what is the highest quality prank video for what is the highest quality minecraft video yeah right that might be the one that people enjoy watching the most and watch to the end or it might be the one that when we ask people the next day after they watched it were they satisfied with it and so we in in especially in the realm of entertainment have been trying to get at better and better measures of quality or satisfaction or enrichment since i came to youtube and we started with well you know the first approximation is the one that gets more views but but you know we both know that things can get a lot of views and not really be that high quality especially if people are clicking on something and then immediately realizing that it's not that great and abandoning it and that's why we move from views to thinking about the amount of time people spend watching it what the premise that like you know in some sense the time that someone spends watching a video is related to the value that they get from that video it may not be perfectly related but it has something to say about how much value they get but even that's not good enough right because i myself have spent time clicking through channels on television late at night and ended up watching under siege too for some reason i don't know and if you were to ask me the next day are you glad that you watched that show on tv last night i'd say yeah i wish i would have gotten to bed and read a book or almost anything else really and so that's why some people got the idea a few years ago to try to survey users afterwards and so so we get feedback data from those surveys and then use that in the machine learning system to try to not just predict what you're gonna click on right now what you might watch for a while but what when we ask you tomorrow you'll give four or five stars too so just to summarize what are the signals from a machine learning perspective these can provide cement she's just clicking on the video views the time watch maybe the relative time watched the clicking liked and disliked on the video maybe commenting on the video and those things all of those things and then though the one that wasn't actually quite aware of even though i might have engaged in it is a survey afterwards which is a brilliant idea is there other signals all right i mean that's already a really rich space of signals to learn from is there something else well you mentioned commenting also sharing the video if you if you think it's worthy to be shared with someone else you know within youtube or outside of youtube as well either let's see you mentioned like dislike yeah like and dislike how important is that it's very important right we want it it's predictive of satisfaction but it's not it's not perfectly predictive subscribe if you subscribe to the channel of the person who made the video then that also is a piece of information at signals satisfaction although over the years we've learned that people have a wide range of attitudes about what it means to subscribe we would ask some users who didn't subscribe very much why but they watched a lot from a few channels we'd say well why didn't you subscribe and they would say why i can't afford to pay for anything and you know we tried to let them understand like actually doesn't cost anything it's free it just helps us know that you are very interested in this creator but then we've asked other people who subscribed to many things and and don't really watch any of the videos from those channels and we say well why did you subscribe to this if you weren't really interested in any more videos from that channel and they might tell us why just you know i thought the person did a great job and i just want to kind of give him a high five okay yeah and so yeah that's where i i said i actually subscribe to channels where i just this person is amazing i like this person but then i like this person i really want to support them that that's how i click subscribe right even though i may never actually want to click on their videos when they're releasing it i just love what they're doing and it's maybe outside of my interest area and so on which is probably the wrong way to use the subscribe button but i just want to say congrats this is a great work well so you have to deal with all the space of people that see the subscribe button it's totally different that's right and so you know we we can't just close our eyes and say sorry you're using it wrong you know and we're not gonna pay attention to what you've done we need to embrace all the ways in which all the different people in the world use the subscribe button or the like in the dislike button so in terms of signals of machine learning using for the search and for the recommendation you've mentioned title so like metadata like text data that people provide description and title and maybe keywords so maybe you can speak to the value of those things in search and also this incredible fascinating area of the content itself so the video content itself trying to understand what's happening in the video so youtube would release a data set that you know in the in the machine learning and computer vision world this is just an exciting space how much is that currently how much he playing with that currently how much is your the future of being able to analyze the content of the video itself well we have been working on that also since i came to youtube analyzing the content analyzing the content on video right and what i can tell you is that our ability to do it well is still somewhat crude we can we can tell if it's a music video we can tell if it's a sports video we can probably tell you that people are playing soccer we probably can't tell whether it's manchester united or my daughter's soccer team so these things are kind of difficult and and using them we can use them in some ways so for instance we use that kind of information to understand and inform these clusters that i talked about and also maybe to add some words like soccer for instance to the video if if it doesn't occur in the title or the description which is remarkable that often it doesn't i one of the things that i ask creators to do is is please help us out with the title in the description for instance we were a a few years ago having a live stream of some competition for world of warcraft on youtube and it was a very important competition but if you typed world of warcraft in search you wouldn't find it well the warcraft wasn't in the title world of warcraft wasn't in the title it was match four seven eight you know a team versus b team and we'll the warcraft wasn't the title just like come on being literal being literal on the internet is actually very uncool which is the problem oh is that right well i mean in some sense well some of the greatest videos i mean there's a humor to just being indirect being witty and so on and actually being you know machine learning algorithms want you to be you know literal right you just want to say what's in the thing be very very simple and in in some sense that gets away from wit and humor so you have to play with both right so but you're saying that for now sort of the content of the title the kind of the description the actual text is is one of the best ways to for the for the algorithm to find your video and put them in the right cluster that's right and and i would go further and say that if you want people human beings to select your video in search then it helps to have let's say world of warcraft in the title because why would a person's you know if they're looking at a bunch they type world of warcraft and they have a bunch of videos all of whom say world of warcraft except the one that you uploaded well even the person is gonna think maybe this isn't some house search made a mistake this isn't really about world of warcraft so it's important not just for the machine learning systems but also for the people who might be looking for this sort of thing they get a clue that it's what they're looking for by seeing that same thing prominently in the title of the video okay let me push back on that so i think from the algorithmic perspective yes but if they typed in world of warcraft and saw a video that with the title simply winning and and and the thumbnail has like a sad orc or something i don't know right like i think that's much it's iraq it gets your curiosity up and then if they could trust that the algorithm was smart enough to figure out somehow that this is indeed a world of warcraft video that would have created the most beautiful experience i i think in terms of just the wit and the humor and the curiosity that we human beings actually have but you're saying i mean realistically speaking is really hard for the algorithm to figure out that the content of that video will be a world of warcraft it and you have to accept that some people are gonna skip it yeah right i mean and so you're right the people who don't skip it and select it are gonna be delighted yeah but other people's i might say but yeah this is not what i was looking for and making stuff discoverable i think is what you're really working on and hoping so yeah so from your perspective to put stuff in the description and remember the collaborative filtering part of the system it starts by the same user watching videos together right so the way that they're probably going to do that is by searching for them that's a fascinating aspect it's like ant colonies that's how they find stuff is so i mean you would agree for collaborative filtering in general is one curious ant one curious user essential so just a person who is more willing to click on random videos and sort of explore these cluster spaces in your sense how many people are just like watching the same thing over and over and over and over and how many are just like the explorers i just kind of like click on stuff and then help help the other ant and the ants colony discover the cool stuff you have a sense of that i really don't think i have a sense for yeah ok relative sizes of those groups but i but i would say that you know people come to youtube with some certain amount of intent and as long as they to the extent to which they they try to satisfy that intent that certainly helps our systems right because our systems rely on on kind of a faithful amount of behavior the right like and there are people who try to trick us right there are people and machines that try to associate videos together that really don't belong together but they're trying to get that association made because it's profitable for them and so we have to always be resilient to that sort of attempt at gaming the system so speaking to that there's a lot of people that in a positive way perhaps i don't know i i don't like it but like to gain want to try to gain the system to get more attention everybody creators in a positive sense want to get attention right so how do you how do you work in this space when people create more and more sort of click baby titles and thumbnails sort of veritasium derek has made a video it basically describes that it seems what works is to create a high quality video really good video where people would want to watch and wants to click on it but have clicked btw titles and thumbnails to click on it in the first place and he's saying i'm embracing this back from just gonna keep doing it and i hope you forgive me for doing it and you will enjoy my videos once you click on them so and what sons do you see this kind of clickbait style attempt to manipulate to get people in the door to manipulate the algorithm or play with the algorithm of game the algorithm i think that that you can look at it as an attempt to game the algorithm but even if you were to take the algorithm out of it and just say okay well all these videos happen to be lined up which the algorithm didn't make any decision about which one to put at the top or the bottom but they're all lined up there which one are the people gonna choose and and i'll tell you the same thing that i told derek is you know i have a bookshelf and they have two kinds of books on them science books i have my math books from when i was a student and they all look identical except for the titles on the covers they're all yellow they're all from springer and they're every single one of them the cover is totally the same yes right yeah on the other hand i have other more pop science type books and they all have very interesting covers right and they have provocative titles and things like that i mean i wouldn't say that they're clickbait ii because they are indeed good books and i don't think that they cross any line but but you know the that's just a decision you have to make right like the people who who write classical recursion theory by pure od freddie it was fine with the yellow title and the and nothing more whereas i think other people who who wrote a more popular type book understand that they need to have a compelling cover and a compelling title and and you know i don't think there's anything really wrong with that we do we do take steps to make sure that there is a line that you don't cross and if you go too far maybe your thumbnail is especially racy or or you know it's all with too many exclamation points we observe that users are kind of you know sometimes offended by that and so so for the users who were offended by that we will then depress or suppress those videos and which reminds me that there's also another signal where users can say i don't know if was recently added but i really enjoy it just saying i don't i didn't something like i i don't want to see this video anymore or something like like this is a like there's certain videos just cut me the wrong way like just just jump out at music i don't wanna i don't want this and it feels really good to clean that out to be like i don't that's not that's not for me i don't know i think that might have been recently added by this that's also a really strong signal yes absolutely right we don't want to make a recommendation that people are unhappy with and that makes me that particular one makes me feel good as a user in general and as a machine learning person because i feel like i'm helping the algorithm my interaction on youtube don't always feel like i'm helping the algorithm like i'm not reminded of that fact like for example tesla and otto pollan you know on musk create a feeling for their customers for people their own test is that they're helping the algorithm of tesla v like they're all like a really proud they're helping nicely learn i think youtube doesn't always remind people that you're helping the algorithm get smarter and for me i love that idea like we're all collaboratively like wikipedia gives that sense they were all together creating a beautiful thing youtube is doesn't always remind me of that that's this conversation is right any of that but well that's a good tip we should keep that fact in mind when we design these features well i i'm not sure i i really thought about it that way but that's a very interesting perspective it's an interesting question of personalization that i feel like when i click like on a video i'm just improving my experience it would be great you would make me personally people are different but make me feel great if i was helping also youtube's algorithm broadly say something you know saying like there's a that i don't know if that's human nature but you want the products you love and i certainly love youtube like you want to help it get smarter and smarter smarter because there's some kind of coupling between our lives together being better if if youtube was better than i will my life will be better and that's that kind of reasoning i'm not sure what that is and i'm not sure how many people share that feeling that could be just a machine learning feeling but not at that point how much personalization is there in terms of next video recommendations so is it kind of all really boiling down to a clustering like you find in ears clusters to me and so on and that kind of thing or just how much is processed is me the individual completely it's very very personalized so your experience will be quite a bit different from anybody else's who's watching that same video at least when they're logged in and the reason is is that we found that that users often want two different kinds of things when they're watching a video sometimes they want to keep watching more on that topic or more in that genre and other times they just are done and they're ready to move on to something else and so the question is well what is this something else and one of the first things one can imagine is well maybe something else is the latest video from some channel to which you've subscribed and that's going to be very different from for you than it is for me right and and even if it's not something that you subscribe to it's something that you watch a lot and again that'll be very different on a person-by-person basis and so even the watch next as well as the home page of course is quite personalized so what we met some of the signals but what a success look like what a success look like in terms of the algorithm of creating a great long-term experience for a user or put another way if you look at the videos i've watched this month how do you know the algorithm succeeded for me i think first of all if you come back and watch more youtube then that's one indication that you found some value from it so just the number of hours is a powerful indicator well i mean not the hours themselves but the fact that you returned on another day so that's probably the most simple indicator people don't come back to things that they don't find value in right there's a lot of other things that they could do but like i said i mean ideally we would like everybody to feel that youtube enriches their lives and that every video they watched is the best one they've ever watched since they've started watching youtube and so that's why we survey them and ask them like is this one to five stars and so our version of success is every time someone takes that survey they say it's five stars and if we ask them is this the best video you've ever seen on youtube they say yes every single time so it's hard to imagine that we would actually achieve that maybe asymptotically we would get there but but that would be what we think success is it's funny have recently said somewhere i don't know maybe tweeted but that ray dalio has this video on the economic machine i forget what it's called but it's a 30-minute video and i said it's the the greatest video i've ever watched i need you it's like i watched the whole thing and my mind was blown is a very crisp clean description of how the at least the american economic system works it's a beautiful video and i was just i wanted to click on something to say this is the best thing this is the best thing ever please let me i can't believe i discovered it i mean the the views and the likes reflect its quality but i was almost upset that i haven't found it earlier and wanted to find other things like it i don't think i've ever felt that this is the best video ever that was that and to me the ultimate utopia the best experiences were every single video where i don't see any of the videos i regret in every single video i watch is one that actually helps me grow helps me enjoy life be happy and so on well so that's that's that's a heck of that's that's one of the most beautiful and ambitious i think machine learning tasks so you've mentioned kind of the the youtube algorithm isn't you know e equals mc squared is that's a single equation it's it's potentially sort of more than a million lines of code sort of is it more akin to what autonomous successful autonomous vehicles today are which is they're just basically patches on top of patches of heuristics and human experts really tuning the algorithm and have some machine learning modules or is it becoming more and more a giant machine learning system with humans just doing a little bit of tweaking here and there what's your sense first of all do you even have a sense of what is the youtube algorithm at this point and whichever however much you do have a sense what does it look like well we don't usually think about it as the algorithm because it's a bunch of systems that work on different services the other thing that i think people don't understand is that what you might refer to as the youtube algorithm from outside of youtube is actually a you know a bunch of code and machine learning systems and heuristics but that's married with the behavior of all the people who come to youtube every day so the people part of the code accession exactly right like if there were no people who came to youtube tomorrow then there the algorithm wouldn't work anymore right right so that's a critical part of the algorithm and so when people talk about well the algorithm does this the algorithm does that it's sometimes hard to understand well you know it could be the the viewers are doing that and the algorithm is mostly just keeping track of what the viewers do and then reacting to those things in in sort of more fine-grain situations and i and i think that this is the way that the recommendation system and the search system and and probably many machine learning systems evolve is you know you start trying to solve a problem and the first way to solve a problem is often with a simple heuristic right and and you know you want to say what are the videos we're gonna recommend well how about the most popular ones hayden that's where you start and and over time you collect some data and you refine your situations so that you're making less heuristics and you're you're building a system that can actually learn what to do in different situations based on some observations of those situations in the past and and you keep chipping away at these heuristics over time and so i think that just like with diversity you know i think the first diversity measure we took was okay not more than three videos in a row from the same channel right it's a pretty simple heuristic to encourage diversity but it worked right you needs to see four or five six videos in a row from the same channel and over time we try to chip away at that and make it more fine-grain and and basically have it remove the heuristics in favor of something that can react to individuals and individual situations so how do you you mentioned you know we we know that something worked how do you get a sense when decisions are the kind of a be testing that this idea was a good one this was not so good what's how do you measure that and across which time scale across how many users that kind of that kind of thing well you mentioned that a b experiments and so just about every single change we make to youtube we do it only after we've run a a b experiment and so in those experiments which run from one week two months we measure hundreds literally hundreds of different variables and and measure changes with confidence intervals in all of them because we really are trying to get a sense for ultimately does this improve the experience for viewers that's the question we're trying to answer and an experiment is one way because we can see certain things go up and down so for instance if we notice then the experiment people are dismissing videos less frequently or they're saying that they're more satisfied they're giving more videos five stars after they watch them then those would be indications of that the experiment is successful that it's improving the situation for viewers but we can also look at other things like we might do user studies where we invite some people in and ask them like what do you think about this what do you think about that how do you feel about this and other various kinds of user research but ultimately before we launch something we're gonna want to run an experiment so we get a sense for what the impact is going to be not just to the viewers but also to the different channels and all of them you