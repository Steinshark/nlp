hello this video is going to be covering how i did the effects from my recent thaw video before we get started quick self plug all of the project files from this video and all my other videos are on patreon so if you would like to download them for a dollar you can get your hands on all the assets and the blender files etc that i make for all of my videos there's three shots in the video and i approach them all slightly differently so there's three different techniques for doing the lightning in all of them the first one is actually just some 2d lightning i used a nuke plugin that does lightning you can do the same sort of thing in after effects it's nothing super exciting so there's not really much point me going into too much detail about how i did it but essentially the lightning looks like this it's just using this gizmo called x tesla which is one that you can get online for nuke so this was the easiest of the three this was just obviously some 2d animated lightning the next shot which is the horizontal one is kind of a combination of 2d and 3d let's jump into blender and have a look so this is what it looks like in the blender scene let me just turn off the hair for the photo scan so this plays back a bit better so essentially the first thing i did for this shot is just set up the camera and everything and then once i had some geometry and the scene laid out i animated the photo scan first so i got a little rig for this and i just animated it this whole shot is obviously in slow motion i just animated some kind of slow movement of the arms and the legs to make sure that it wasn't just completely static in the air and then from there i started to put in the lightning the way this is done is mostly just with modifiers and a little bit of the shader editor as well to animate them each of these bolts of lightning is just a long string of vertices so if i go on one of them and i turn off the modifiers you can see this is what it actually looks like to do this i just added a cube like this and then you can go into edit mode go into vertex selection by pressing one and then if you press m and do merge at center it creates a single vertice which you can see here and then all i did to create the lines is just press e to extrude it out like this and then you can select both of them and right click and just press subdivide and do that lots of times which gives you a nice long subdivided row of vertices then from here we want to randomize the location of all of the vertices along the line and the easiest way to do that i found is just to use the displace modifier so i add a displaced modifier add a new texture i'm just going to use the one i made before it's called lightning displace and then to create the animation i added this empty up here that i've just animated to very slowly move and then the movement of this empty is controlling the animation of the noise which is on all the curves of the lightning so i can set the coordinates in the displaced modifier to be object and then set the object to be lightning control which is the name of the empty and then i changed the direction of this to zed which i found just gave me the best result you can just kind of play around with all of them and see which one goes in the direction you want now i press play you can see that the lightning is moving slowly which looks cool it's a little bit too strong as you can see these ones are a lot more subtle let me just turn these modifiers back on so what i did is turn the strength down until i get a bit more of a realistic shape to the lightning and then to make it a bit smoother like these ones all i did is add a subdivision surface modifier that's going to give it some extra geometry as you can see if i turn it on and off it just kind of smooths out all of the really pointy bits of the lightning then next we want to give it some actual thickness so it will actually render instead of just being a line of vertices so to do that add a skin modifier and that will make it super thick like this and then to change the size of this you go into edit mode so press tab and then select all of the vertices and then with them all selected press ctrl a and just move your mouse and it lets you scale the normals down basically so i just did this until it seemed like it was about the right size and then i added a second subdivision surface modifier after this because the way the skin modifier works it basically makes it like a cube shape around all of the vertices as you can see it's super flat so adding a second subdivision surface modifier will actually smooth it out so that's how we made the geometry for the lightning then the next step after that is making it actually animate with the character like this so as you can see it starts off with the lightning being smaller at the back and then as the shot goes on the lightning actually continues to move with the photo scan like it's sticking to it as you can see the geometry is actually much longer than it appears to be in the shot the bolts of lightning go right the way through the photo scan and finish in front whereas if i look at it in render view they don't ever go through the geometry of me they're always just trailing behind the object so we jump into the shader editor we can see what it's doing it's nothing mega complicated as you can see the main part of the effect is obviously coming from an emission shader which is just giving the lightning the actual light so that makes it look like this then after the emission shader i'm using a mix shader to combine it with a transparent bsdf node and what the transparency node is doing is cutting off the bits of the lightning that i don't want so with these nodes over here i'm essentially feeding it a mask that tells it which bits of the lightning i want to see and which bits i don't the way to make the mask is using a gradient texture so i'll demonstrate how this works now first of all obviously add a gradient texture so basically the gradient texture just gives you a black to white mask going across your entire scene and then you can use things like a mapping node and the texture coordinates node to dictate the direction of the mask the shape etc so in this case i use the texture coordinates node which i'll just take another one down here and i use the camera to go into the vector input on the gradient texture node what this means is that the black and white mask will be displayed from the camera's perspective so basically wherever your camera is in the scene the mask will be controlled from this point of view then what you can do is add a mapping node which is this one here plug this in and then using this mapping node you can see if i change the x value it will actually control the length of the lightning so this is the geometry of the photo scan that i have here it's currently set to a holdout so let me turn that off so you can actually see it all i did from here is go to the first frame and then change the position of the gradient so that the lightning was behind the photo scan then hover over it with your mouse and press i to add a keyframe and then go to the end and change the location of the gradient again so the lightning catches up with the character and add another keyframe you might find you have to add a few but basically i just went through for the whole shot and just made sure that the lightning was always animated to stay behind the photo scan and then like i said the output of that mask goes into the factor of this mix shader so it's telling blender to put the emission shader on these white bits and the black parts of the mask over here on the lightning that we can't see are the bits that should get the transparent shader so they'll be invisible in the render then for the render setup i rendered one render pass which was the photo scan on its own with the animation i then rendered a second one which was the lightning on its own and it had the photo scan set as a holdout and then lastly i also rendered a reflections pass which looks like this this is a really simple effect i just put a massive plane here for the geometry of the building in the shot and then i put a shader on it that's just a really reflective completely black material as you can see here i've turned the roughness right down so this basically turns itself into a black mirror i also disconnected the hdri from the world setting so there's no world lighting otherwise that would also be reflected in this i plug it in you can see otherwise you'd get all of this stuff reflecting too so take out the hdri and i just put a light up here just off screen it's in a place where you can't see it in the reflection but it's simulating the light from the overcast sky in the shot which is then giving some light to the photo scan if i hide this you'll see that the photo scan basically disappears because i've turned off the hdri so there's no world lighting so it needs something just to give it a bit of a kick so it actually shows up in the render and obviously you can see the lightning bolts because they have an emission so they're actually casting light themselves so that's the third render pass and i use this in compositing to put it in all of the reflections of the windows which i'll show now so we jump into nuke go into shot two none of the nuke scripts for these shots are anything particularly crazy so it starts off with the stuff i showed in the breakdown to make it a bit darker it's pretty much just an exposure node to make it a lot darker so it's kind of night-timey and then i also keep the sky did a bit of roto so that i could use that to make the sky darker when i shot this it was kind of like just getting dark so the sky was still quite light but i wanted to feel stormier so there is some actual detail in the sky and i wanted to get some of that detail out of the clouds next up i wanted to put a load of lighting interaction from the lightning on various things in the shot and the cool thing about the fact that i shot it when it was still light is i have all of this detail in the exposure whereas if i shot this properly at night time i'd have to artificially boost the exposure on all the bits that i wanted to light up but because i have this original lit up footage i can essentially take this and then i can make a load of masks and reveal this lit up footage essentially back on top of the darker footage so i did a bit of everything i did some keying and then i did some masks to kind of pick out arrows the building bits of the bushes and then some bits of the lamp posts and the bits on the bins as well here so this is the final alpha that i used to reveal the lit up footage back on top of the darker footage and it looks something like this so that's before that's after as you can see we get some nice highlights on the bins over here there's like a general lift in the exposure around the bits on the building here it also reveals a lot of the darker details in the balconies which is quite cool i did some masks on the edges of the bushes so that i could make it feel like the light was kind of wrapping around the bushes and then i also put some light interaction on this lamppost as you can see here then i put in the first layer of cg which is the reflections going in the windows this is what that render pass looks like on its own to make the lightning look even cooler once it was out of blender i used a noise texture and a distort node in nuke to make it even more electric-y because that's even a word electrical and then i put some glow on it as well and then i just use a mask to only make that happen on the lightning so obviously i don't want to be distorting my body so that gives that kind of effect next i cut it out so that it's only in the windows and then i just tracked that into the shot so that's without that's with then obviously we have the actual lightning in the foreground again this is what it looked like out of blender and then i just enhanced it a bit in nuke with another noise texture and a distort node a bit of a grade to make it a bit punchier and then make it glow as well and then that goes on top there and then finally we have the photo scan of me i made the eyes emissive on the photo scan in blender which means that i could separate out the emission pass and do this cool little volume raised trick where using the emission pass i can put a volume emission behind them and it gives these kind of volumetric rays coming out of the eyes so i did a combination of making them glow and then also doing the volume thing and then making them a bit blue and that's kind of like the cherry on top for the thor look of the photo scan which i thought was quite cool so that's the final look for that shot and then finally we're on to the most complicated of the three shots this was the one with the landing as you can see this is what it looks like in blender it doesn't play back very well so there's quite a lot going on the lightning in this shot was done with geometry nodes and i'm going to put a link to the tutorial in the description that i watched to learn how to do this because i didn't really come up with this effect on my own i'm not going to go through it step by step in this video because obviously that video already covers it and also it takes about half an hour to talk about how to set it up so this would be a very long video so if you want to know how to do it exactly go and watch that but essentially the setup for it looks something like this it might look a little bit daunting but it's actually not too crazy all it's really doing is taking the geometry of the photo scan and scattering a load of points all over it then using some of the geometry nodes you can draw a line from those points and tell it to snap to the nearest object which in this case i set as the floor then basically you end up with a load of straight lines that are pinging off of the photo scan and touching the floor there's some different math nodes that you can use to tell it how far away it should get before they disconnect the lightning doesn't actually attach to the floor until i get quite close to the ground here and that's controlled just with a few sliders and things and then finally similar to what i'm doing in nuke in 2d you can use some 3d noise textures to randomly displace the look of the lightning so the curves turn into these electrical arcs instead of just being straight lines obviously so that's how that works then when it comes to rendering again similar to the last one i rendered one with the lightning on its own and the photo scan of me is a holdout again so it's cutting out any of the lightning that's going through it then i rendered the photo scan on its own as well which looks like that obviously it has some hair if i turn this back on you currently see it in the viewport it's very strange seeing myself with no hair then i also rendered some extra passes to do some lighting interaction with the floor so we did a oh i say we i did a shadow pass which looks like that this is just to get the lighting interaction and the contact shadows with my feet on the floor and then this is the lighting interaction one which for some reason is rendering wrong i don't know why that's not working but anyway all it was was a plane on the floor and then everything else set to indirect only which then cast some light on it and then i just screened that on top of everything in nuke so like i showed in the breakdown again similar to the last one make the shot darker make the sky darker that's the shadow pass that's the lighting pass so this is what it comes out of blender looking like it's the same technique as the reflections it's just a slightly reflective floor that's set to completely black and i turn off the hdri and then i set all the lightning bolts and everything to render as indirect only which means they don't show up in this render but you can see them in the reflections so you end up with this on its own which that can then be plused or screened over the footage which gives you this lighting interaction here i also did a bit of a key on the floor so that it wasn't just completely screened over everything and you get a bit of a difference in the way it interacts with the ground then on top of that goes the photo scan with the lightning it comes out looking like that originally did a bit of grading onto it just to make it a bit darker match the plate same sort of trick with the volume rays and stuff on the on the eyes you can't see it quite so much on this frame because it's motion blur and then we also have the lightning because this was distorted in 3d using the noise i didn't do any of the distortion in nuke this time this was all just completely driven by the blender render so that gets some glow i made it a bit blue and that goes on top of the photo scan and then that goes on there and then the extra thing that sold this shot which was quite cool was i did a bit of an animation on the entire shot overall in terms of lighting so it starts off quite dark and then as i hit the floor there's this brief moment where there's a really bright flash that lights the shot up massively like this and then it kind of animates back down to being a bit darker again once the lightning cools down and then just like the first shot i also did the same sort of thing with all of the lens dirt which really helps to sell the interaction like it's a really bright light source that's kind of flaring out the camera so that looks something like that and that is the final shot of the video so there we go like i said it's kind of a different approach to doing all three of the shots my reason for doing that was just i thought that different approaches would work better for the different situations as they were all quite different shots i think it turned out really well this is the first time i've really done some 3d lightning and blender that i thought actually looked quite good until recently it was very tough to get something that looked realistic so hopefully that was helpful if you're looking to do something similar yourself thanks very much for watching and i'll see you next time [music] you