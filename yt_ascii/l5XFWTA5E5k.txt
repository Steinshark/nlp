live view feels faster with a delay loading indicator okay too fast there's a recipe about making your live view app feel faster you can also make your app faster by running it on fly i ooh advertisement by fly i o you know the easiest way to make it faster based on the article we're currently writing is you just load it right here man i wish i had a i wish i was sponsored right now this would have been such a great moment for a sponsorship live view is already fast couple that with hosting it on fly i o where the server can be physically or physically closer to your users and you're already got a great experience however the default setup for a new live view application displays the top bar progress indicator across the top page making the whole page feel like it's not ready here's a quick tip to making it this so much better okay problem by default live view ships with the top bar to visually show that okay you've already stated this come on the problem is that when you see a progress bar my brain tells me the page isn't ready yet even if the progress bar only takes 100 milliseconds to quickly flash across the top my brain still says the page isn't ready yet absolutely i get that i get that i you know that little bar does drive me nuts i'm totally on that the page is fully rendered and could start let's see and i can start using the page but it feels like i can't just because there's a quick flash of a progress bar on top why not just get rid of the progress display altogether well it's actually really helpful for those times when a page is taking longer to load for a user in those situations we want to let the user know yep google does this it's still super annoying so if we let's see so if it's worth keeping the progress display is there a way to make the top bar only display when it's actually needs to can it only show if it's taking more time to set up the page okay cool oh look at this luckily jose valib shared this tip jose if you don't know he may know a thing or two about elixir there's a story by shy ryan here where one of his co-workers rejected a pr by jose it's a great story anyways live view installation guide however if you're like me you already have a live view project that doesn't have this change unfortunately it's easy to do right now it's less than five minutes i made a change to deployed my app and now the live view page feels so much more responsive giga chat didn't like it let's look at how to add this existing app all right here we go in the projects app.js file might look like this okay so here's what you normally do i've never really used live view i've never really used phoenix i've never really used elixir so you know let's see replace that code with something like this okay here we go here's what we should have all right awesome top bar config colors this thing right here top bar scheduled undefined add event listener load start if top or not scheduled schedule it for a 120 milliseconds add event listener stop clear timeout this one this one hide oh clever okay so it's just like a little bit of javascript that's all you got to do you just simply are if it's not there you schedule it to happen if it is there you do that you only showed after a certain amount of time it's pretty clever right this is actually a pretty clever little thing to do basically it only shows the top bar at all if it's taking longer than 120 milliseconds all right let's look at this for a second okay see how fast that feels doesn't that just feel slower isn't that just the strangest thing doesn't that just feel really slow how does this feel it's identical yet it feels so dang slow it's like what look at that guy why does that feel so much faster it's the same thing why that's odd the difference i know it's because i mean well it it just goes to show i say this phrase quite frequently quite frequently which is perceptions nine tenths of the law right which is in so many situations no matter how fast you're moving i worked at this company a long time ago called workiva and we are working on their very first version of the product that they use everywhere now so i built like the foundation for it and it was a displayer for like their application new html5 all javascript all that kind of stuff and so one of the hard parts about that is that it was a complete rewrite of the application that was 10 years old and so it was extremely hard a lot of edge cases this was javascript over 10 years ago okay grunt was just coming out at that point think about it we only just started having some defined process i built the grunt build procedures i built the zooming in zooming out with your fingers on the ipad yes we wrote it in javascript effectively i shortcuted i took all the matrix of calculations and just simply removed all the zeros and just made it an inline formula all that kind of stuff to make everything work and i remember that it was we were making incredible progress we are committing like thousands of lines of code a day it was awesome and yet management upper management was like why isn't this going faster and my boss at the time was defending us and this is like actually it's moving much faster than you realize the reason why it's the reason why is because of all these reasons and then he came back and told me is that sometimes it's not about how fast you move it's about how fast you're perceived to move and that matters way way more so plan what you're doing in such a way that you can always show progress even if it's the simplest things and so what one thing i really took away from that is that whenever you're doing show and tells whenever you're doing something plan a couple small items to show amazing progress even if they're half baked even if they're small even if they're not like really meaningful you just want to show various progress steps so that way you can focus on the main thing but you need something to kind of show basically something's happening basically consulting so i don't know it was a really interesting thing for me because i've always just kind of defaulted to doing that now so whenever i'm doing a refactor i also have some basic kind of things i like to do like okay i know that people really wanted like this feature it's gonna take like 20 minutes it's super low priority but i'm gonna do it just so i can mention it just so i can show the dang thing because really what i want to focus on is this newer lower memory approach because my servers keep falling over due to out of memory blah blah that's going to take two weeks of really hard thought but i just simply need to do a couple things to show people i'm moving right it's just a weird it's a weird place to be and this is like this is the most palpable version of it this is what you this is what you're doing it feels slow and it sucks and people think it's slower this is the same thing but people think it's fast why perception and that is it the beauty of the solution is that my brain now has no progress bar movement making it feel like it's not ready the funny thing is that the page rendered and displayed to the user even if it takes 100 milliseconds to set up the websocket and receive the page's loading stop event as a visitor i just have been presented with a whole new page it takes only a moment for my brain to adjust an orient self to the new page additionally it takes a moment to move my mouse or my finger to actually interact with the page exactly by the time i actually react it's fully loaded and ready for me this change makes it feel instantaneous only it's only perception but perception is what makes it feel slow or fast if the page takes more time to set up the top progress is displaying letting the user know most of the time though the user will never see it awesome this is great this is flyo this is a really incredible article i actually thought this article is going to be pretty doo-doo to begin with i'm not gonna lie to you i thought it was just like one big like hey here's a super cool very specific tip but it's like a super broad tip that you can use anywhere absolutely love this love it love it love it love it the name is the primagen