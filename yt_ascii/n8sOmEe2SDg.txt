all right so there's a tool i've been using that i really really really like i've been using it non-stop and i wanted to take a moment and show you guys just how cool this tool is now here's the thing is that i got excited enough about this tool that i told my wife about it and i was like wife wifey wifey i d this's this tool that i really like i'm very excited about and she couldn't understand me she couldn't understand the fact that i could get this excited about text manipulation tools but i tried to tell her hey some people's love love language just happens to be text manipulation and this is because she doesn't deal with mongod db queries all day okay you know what it's like dealing with mongod db queries all day they're just the pain pain everywhere anyway so the tool is called the j jq stands for json query you can shorten it up to jquery if you would like to i think that's probably fine i don't think anyone's using that one that's what it's been known as for a long time but if you're not if you don't know what jq is you're missing out and if you do know what jq is you're probably still missing out okay no don't confuse it with jake wei jake wei the famous actor well not that like not super famous but still famous enough to be to be known don't confuse it with that either so i want to show you some cool things you can do with jq so first off i have this really large file called big it has effectively a th000 entries 5,000 entries into it 4,999 not really sure how that works but i have a bunch of entries in there if i just want to make them from small to big you just you know you just pipe it into jq so if i just say jq big it will then take that and do something fantastic with it now look at how nice and big that all is and now we have it all nicely printed you can also compact them make them nice and tiny that's fantastic you can take it you can actually just select out specific things let's say i just grab all the ids if you provide a-r you actually can grab out the ids without all like the stringification and everything on there so if you wanted to use it for something else that's pretty dang that's pretty dang cool but hey by the way we haven't done anything yet with jq okay we've done nothing with jq yet it gets significantly better all right slow down chat you shouldn't be this horny yet we haven't even got we haven't even got to the good parts all right so let's go like this i'm going to take jq and i'm going to create a custom object with id actually what what were the other ones i forgot already what what what do we have okay we have id logs title values okay so i'm going to go like this i'm going to go id is id and log are going to be logs right that's it i'm going to create a smaller object out of it now look at this i just stripped out and created a whole new object they don't even have to be named the same thing right i can create this thing as fu and a bar right so i just created a new object on the fly now hold on it gets hold on hold on it gets even better look at this now notice that sometimes my bar is empty right it's null and sometimes it's not null it has an object in here that means i can do something like this i can go select select logs in which the length is greater than zero and then you got to you know pipe in the file now those are all ones that have log that exists that have a longer that have something in it how many is that i can select out and only get the ones that i want that actually have logs you can also use has has is another one right so i can go i can take logs and go like has logs like long as it has the key logs only print out those ones it still gets better it still gets better i can select and go like this value look at values right here i have a b and c i can go values. a plus values. b is greater than one and look at that these are the only ones in which a plus b are greater than one i've just selected out of all those 5,000 items and did did that so let's make it small i'm going to compact it so they're all line by line that means i've now cut my list in half half of my list i went from 4,99 down to this so that means i can do even look what watch this one watch this one notice that i have these names like tender feelings and these funny these funny little titles like that i can actually create different titles if i would like to right or these aors okay so look at this nice little air i have right here i have go is actually better tender feelings right i have these funny ones so what i can do is i can actually take this and go like this select errors in which the length is greater than zero so there is an errors value and any item from within there contains let's go like this let's go wife because i know that a bunch of you arch users you probably don't even know what that stuff is but there we go so we're actually going to search inside of here for wife when i hit enter there's none none of them have wife in there there's none just like just like your life but if i go tender the one we just got done seeing tender you'll see that all of these have tender in there tender feelings tender feelings tender feelings tender feelings so i'm able to search through the arrays vector and be able to grab things out of that savage absolutely there's only 74 out of the four out of the 5,000 that had that and so like jq is pretty cool you can type in all these pretty awesome things prime discovers sql like queering yeah but you get to do it with your you get to do you get to do it right here in your land line on a bunch of a jesson you know how great that is but it gets so much better it gets so much better are you ready for this one so i have a file i i this one's just small look at this so it's like a big file full of these right i'm in a big file watch this i can highlight one of these lines hit colon you'll see that i'll get a little range selector here and go like this bang j whoopsies bang bang jq it dem minified it for me which means i can go- c remidy it i can go percent percent bang or i can just really go bang jq or it is it's percent it's percent you can go percent bang jq and you can maximize the entire file okay that's pretty cool right that's pretty cool hold on though remember all the other things we could do with jq you know what i want to select out only the ones that has errors with a length greater than zero there we go all of these are the ones with errors right so that's pretty cool you know like okay okay you know i can i let let me let me re let me reify those ones let me rem minify so now we're only down to five what happened if i want to grab the ones out of here in which values a plus values b plus values c are greater than 1.5 all right there's only one log left that actually has that so we just went from 100 logs down to one log by just doing some simple query inside the editor and so now i can kind of goof around with this thing if i'm just looking for stuff it's pretty cool re a reason to use vin there we go we're back to 100 now jq is out of this world why percent bang percent bang means the entire file so percent bang just simply means take the entire files contents and pipe it into this program so jq remember jq can work with cat so i can go small cat jq errors right and there you go not a lot of errors were selected right so i can pipe things into it so when i go percent bang i'm piping the entire file into jq then jq is doing all that stuff and then the output goes back into vim using jq has been one of the most useful things i've done in a long time the amount of stuff that i have to do where i'm trying to figure out how to select out data how to be able to do like to be able to get things like like to take an error array that's deeply nested somewhere within a json object and then to be able to do a string contains on those arrays to find only the srs that are the ones that i'm looking for like that saves so much time so much of my time is spent looking through data and going through things ex like extensively and jq just makes the jeton or jmal for short much much much better so if you don't know jq it is so it is so dang easy and the best part is is it's super super easy to use with chad chippity i that's actually how i learned jq just go in here and say something along the lines of you know i have a structure like you know foo that's a you know one item two items right and say and i would like let's see and i have a file full of these full of these full of these and i want to use jq to select out uh let's see data with length length of fu greater than five how do i do that wait for it wait for it look at that beauty that's perfectly correct by the way just so you know like look at that it can teach you right away and then you just start learning some of the syntax anyways i really like this i really like jq the name is the primagen