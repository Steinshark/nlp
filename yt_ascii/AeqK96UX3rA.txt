so brady, my good friend eric angelini, who lives in brussels, he came up with the following operation. this is an operation, you can take a number and you can transform it. if you start off with 123, if you look at the first two digits, it says 12. you're allowed to half that. divide it by 2 and you would get 63. that's a legal operation, take a sub number and divide it by 2 if it's even, or you could double the number. you could also take the 2 and you could double it, and you'd get 143. or you could double the 3 and you'd get 126. or you could double the 23 and you would get 146. or you could double the 1 and you would get 223. so those are examples of things you can do. let's take something like 20218, there's a nice big number. you can focus your attention on any sub number in there. so for instance if we look at that 2, that's an even number we can divide it by 2. and that would give us 10218 now we have a choice, and in fact i call this choix de brussels, it's brussels choice, because in honour of eric. you could also take the 202 and divide it by 2, and you would get 10118. and you can do any substring. if it's even you can either divide it by 2, or double it, in place. if it's odd, you can just double it.
- (brady: and you can choose that and it's completely arbitrary where you attack, right?) yes, you're free to choose, but you have a target because you're trying to get back down to 1. (brady: that's the game?) 
- that's the game, get to - or conversely, because this is a symmetric operation, if you can go from x to y you can equally well go from y to x. every - these operations are reversible. 
- (brady: and what, are we iterating here are we? we're going in steps?) yes. oh but i want to show you one more example here because this is the surprise. this is the joke. from 20218, if i pick that 8 and double it, we get 202116. that 8 has become 16 in place, i'm keeping the 2021 but i'm doubling the 8. and we get 202116 or i could take that' and divide it by 2 and we would get 2029. and we've shortened the length by one digit. it's not difficult to prove that if you start with a number n, what you get by this operation is at most 10n. and at least n over 10. you can find examples which gets you arbitrarily close to n over ten. so there's a wide range of numbers. okay, so -  
- (brady: that rule's with one step, obviously?) 
- that's with one step, yes. and then the question is if you start off with a random number how long will it take to get to 1? is it even possible to always get to 1? (brady: is it? you know, i don't - i want to know.)
- yes. well, 
- (brady: show me an example of getting to 1.)
- okay, yes. well, so let me go the other way around and let's go from 1, and see what we can get, because it's symmetric. from 1 we can go to 2, in fact we can only go to 2. from 2 we can go to 4, from 4 we can go to 8, from 8 we can go to 16, from 16 we can go to 112. this is the crucial step. we double that 6 and we get 112. from 112 we can divide by 2 and go to 56, from 56 we can divide by 2 and go to 28. from 28 we can divide that 8 by 2 and go to 24, then bingo! 12, 6, 3. 3 is hard to get to from 1, but you can do it. and it took one, two, three, four, five, six, seven, eight, nine, ten, eleven steps to go from 1 to 3. and if you want to have some fun figure out how to go from 1 to 7 say, or 9 or 73. 
- (brady: oh, you completely changed the game on me) (then, i thought this whole game was going to be about taking arbitrary numbers and getting down to 1.)
- it is. but i'm reversing it - 
- (brady: now you've just built a new game where you go up - )
-  you go, oh you start it, but these steps are reversible. well, all right, we start at 3, how do we get to 1? we double it we get 6, double it again 12, double it again we get 24, double the 4 - 28. double it again 56, 100 - ah now at 112 we can divide that 12 by 2 and get 6 so it goes to 16 and then 8, 4, 2, 1.
- (brady: if i give you any number can we always get to 1?) yes, so that's a very good question and the answer is no. look at all the numbers in the world. all the positive integers in the world. there are two kinds - those that end in 0 or 5, and they're all connected, and those that don't end in 0 or 5 and they're all connected. so i can get from 1 to 73, and i can get from 1 to 74, but i can't get from 1 to 10, or 1 to 90 or 95 because they end in a 5. if the last digit was a 0 or a 5 that doesn't change under these operations. (brady: so that will never get to 1 because i - it will always end with a 0 or a 5?)
- yes. (brady: okay)
- and let me prove that you can always get to 1 if it doesn't end in a 0 or a 5. all right suppose that's not true. look at the smallest number that cannot get to 1. let's call it k. k never gets to 1, no matter how clever we - how hard we try. and k doesn't end in 0 or 5, that's the claim. suppose you could get from k to a smaller number, then that would be a counter example because if you get from k to say l, and l is less than k, l would be a smaller number that you could not get to 1 from. because this - the operation is reversible. so every number that you can get from k must be bigger than k. so that means look at the digits of k. we can't have a 6 because if we did we'd have it, and we'd get a smaller number, from k. 
- (brady: because you could get to 3?) yeah, we'd halve that number, halve the 6 digit and we get the 3 and that would be smaller than k. so every digit of k must be odd, okay? and what's more, it can't be 3. there can't be a 3 digit in k because we could do this to it and get it down to 1. and that would be a smaller number. this chain takes you from 3 to 1. this chain takes you from 2 to 1. i didn't show you how to go from 7. okay, when we got to 28, i could go to 14 by halving the whole number and halving it again to 7. so 7 via 7, 14, 28, 56; 7 goes to 1. and what about 9? if i could do 9, i will have done all the digits, the single digits except 5 and 0. and 5 and 0 you can't do, we can't handle them. so, how do i get to 9?' would be good. so from 14 i can double the 4 and get'. i can halve the' and get 9. so 9 is connected to 1. so all the numbers between 1 and 9 are joined to 1 except 5 and 0. 
- (brady: so k can't have a 1, a 2, a 3, a 4 - )
- it could have, it could be, it could have a 1. it could be all 1s. or it could have a 5 in the middle of it. k could be maybe 1151. that's, so far i haven't ruled that out because you can't get from 5 to 1. so all the digits of k are 1s and 5s. okay, so if there was a 5 in the interior of it, well it would have to be followed by a 1. from 51 we can go to 52, double the 1. we can go to 26 and 26 is less than 51. so we've got a - reached a smaller number. 
- (brady: so could the 5 be followed by another 5?
- yes it did, but the last 5 must be followed by a 1. so this argument works. just look at the the right-most 5 and we get a smaller number. what about a number that's all 1? k, so the argument so far has shown that k must be all 1s. well, all right. look at the last two 1s. double it, make it a 12. halve it, make it a 6. so we've changed 11 to a 6, we've got a smaller number - contradiction. so k does not exist. so every number not ending in a 0 or a 5 can get to 1. and conversely because these operations are symmetric, we can go from 1 to any number not ending in 0 and 5. now, what about the other numbers? the numbers that do end in 0 or 5? well, the they're all connected, maybe if i switch to red and show you that. we can get from 90 to 10 because whatever this number is we can get from 117930, we can get to 10. proof? this number doesn't end in 0 or 5, therefore we can get to 1 from it. so we get to 10, and then we get to 5. so the other class of numbers are all connected. we use the first argument to get everything down to 10.
- (brady: but never the twain shall meet.)
- never the twin shall meet. there are two, two connected components. okay, so the question is, if you start with a big number how many steps is it going to take to get down to 1? assuming it ends - it doesn't end in 0 or 5. there are two parts to that. one is to look at what's the biggest number you can get from 1 in k steps? and the answer is, basically you can use the greedy algorithm. in one step all we can do is go to 2. in two steps all you can do is get to 4, and then 8, and then 16. from 16 the biggest - one two, three four - the biggest thing you can get is 112 by doubling the 6. the rule is if you want to get the biggest number you look for a digit which is bigger than 5 and as far to the right as possible and you double that. if it's a 6 you go from that 6 all the way to the end and you double that string. and that's the biggest child, the biggest number you can get in, in that step. from 16 it's pretty clear the best you can do is double the 6 in place and we get 112, one-twelve, which we read, which is a hundred and twelve. all we can do is double the whole number so we get 224. from 224 all we can do is double it. and we get 448. and when we double the 8 we get 4416. and now we've got a 6, so we get 44112, this is doing the greedy algorithm. it's possible that we could get a bigger number by not being greedy, but being more devious, and taking a more circuitous route and after a certain number of steps, getting a bigger number than we would get from this. so now there's no digit bigger than 5, so we just double it. and we get eight, eight, two, two, four. finally, here, we have digits that are bigger than 5. and we look for the right most one of them and that's the 8, which is furthest to the right. and we double the number starting at that 8 all the way to the end. so what we get is the 816448. now, again, we have numbers that are 6 or higher and we look for the rightmost one which is the final 8. means we just double that 8 in place and we get 8164416, the 8 becomes a 16. we've lengthened the number by one digit and we've done this in the optimal way. if we had doubled the number from the 6 onwards we'd get a smaller number because that 6 would become a 12 and the number would begin 811. by keeping the 6, and just doubling the final 8, we keep the start 816. so this is bigger than doing anything else. let's keep going. again we look for the rightmost digit which is bigger than or equal to 6 and that's, that 6 at the end. again we look for the rightmost digit that's 6 or higher and we double from there all the way to the end. again, look for the the rightmost digit, which is 6 or more and that's this 8, so we double from there to the end. so that's going to give us - i want to keep 81128 and now we double this and we get 16448. and in a minute we'll see a pattern. let's go one more step. we just double the 8 and we get 81128164416. there's a 6 at the end, let's double that. 8112816441, the 6 becomes a 12. and now we can see the pattern. that number is the same as this number. and in one, two, three, four steps; what has happened is we took that number and we put a prefix in front of it, 8112. (brady: oh, yeah) so from this point on there's a simple rule for the biggest number you can get using n steps starting at 1. and it grows, by every four steps, it grows by putting 8112 in front of it. which is like multiplying it by adding four digits at the end. if the number is bigger than this then we know we can't get to it by going in, by taking - one, two, three, four, five, six, seven, eight, nine, ten, eleven, twelve - if a number is bigger than this we need more than twelve steps to get to it. so this gives us a lower bound on how many steps we need to get to n. we know that we can get down, from skipping 5, we can get from any digit, 1 through 9, we can get down to 1 in at most eleven steps. you may remember that it took me eleven steps to get from 1 to 3 or from 3 to 1. so this is eleven steps, in fact any number between 1 and 99, not ending in 0 or 5, gets down to 1 in at most twelve steps. so if we start off with some huge number, and we want to get to 1, we look at the first two digits and we apply at most 12 steps and change the - whatever it is - we change it to a 1. i should also say that we can get from any number that ends in 0 or 5, we can get down to 5 in at most twelve steps, the same thing. in short, any two digit number we can reduce to either 1 or 5 in at most twelve steps. so say we have some huge number, we want to get to 1, we just whittle away. we look at the top two digits and map them to either 1 or 5 and we repeat that. and each time we do that it's taking, it's costing us at most twelve steps. so roughly speaking 12 times the number of digits in the number is an upper bound on how far we have, how many steps we need to take to get down to 1. now when i was younger, i was taught not to play with matches like these, but i think we can make an exception for today's episode sponsor, brilliant. now have a look at this, can you see the fifth square in this arrangement? can you make four squares here by removing five matches? these are just examples of the sorts of puzzles you're gonna find on brilliant. and there are loads of great courses too, like the ones you're seeing on screen now. these are pretty elaborate courses with lots of steps to go through, they're fun, interactive and elegantly designed by people who really know their stuff. to find out more go to brilliant.org/numberphile where you can peruse all this stuff. and using that /numberphile will also line you up for 20% off brilliant's premium subscription which unlocks all the good stuff. and remember always be careful and thoughtful with matches, real ones and mathematical ones.