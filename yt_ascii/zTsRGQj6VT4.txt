we're gonna go gambling. we're creating a- let's call it a fictional casino and we're playing a game with a 50/50 chance of winning. okay, so we're doing roulette -
red or black so there's no zero, so it is actually a 50/50 chance red or black. what we're going to look at is something called the martingale strategy. every time you lose a bet you double down on the next bet; and therefore eventually
you will win - is the idea.
- (brad: what do you mean by) (double down?) so if you bet one pound and lose then you bet again and you would bet two pounds; and then if you lost again then you go four pounds; if you lose you go eight pounds. so you double the last bet you made. provided you have pretty much unlimited money you will eventually win. a win is: come out of our fictional casino with more money than i went in. (you want to make a profit.)
- exactly we're making a profit.
- (should we say we're) (always betting on red?) (or black or-?)
- i think- i'm tempted to go black. so i write with a black pen. i think if i was given the choice i would- i would i'd like a- i'm going for black over red i think. (okay so we're betting on black.)
- betting on black. and we're going to keep going; you think about well when is the first time i lose? so if i lose at step k i've had my bet at step 1, and i bet one pound, and
then i must have lost because we're assuming we're going to keep going until this number k. then at step 2 i bet two pounds. then step three - again we're assuming i've lost at step 2 - i double my bet so this is now going to be four pounds. step 4 is going to be double that, eight pounds, and this carries on.
- (if you win your money gets) (doubled?)
- if i win my money will be doubled, yes, it's a 50/50 game such that whatever i bet- like in, exactly like roulette. we don't have a zero but the rules otherwise are the same. if i bet on black, which is what we're doing, if it lands on black i double my money. (because that zero is how 
casino is insured.) the zero- exactly. you know this way. 
the zero is how- casinos know this and this is why they have zero, because it's never a 50/50 chance. but our mathematically fair casino gives us a true 50/50 chance. at step k then we can figure out how
much we would be betting because there's a pattern here. so at step 1 i bet one pounds, step 2 two pounds, step 3 four pounds. so what's happening with our bets is these are increasing powers of 2. so this is times 2, times 2, times 2. so the actual formula is going to be 2 to the power of k minus 1. so we can just check this: so at step 1, so k is 1; 2 to the power of 0 is 1. step 2 k is 2, 2 to the power 1 is 2; 2 squared is 4, 2 cubed is 8 so at step k we have just bet 2 to the k minus 1 pounds. if i then lose at step k my total loss so far is the sum of all of these bets; so 1 plus 2 plus 4 plus 8 all the way up to 2 to the k minus 1. we can write this as the sum from j equals 0 to k minus 1 of 2 power j. so 2 to the 0 is 1 then plus 2 to the 1 is 2 plus 2 squared is 4. so this is a shorthand way of writing out this sum. and this is what we call a geometric series; we have a formula for the sum of a geometric series so we can plug it in. it's the 
first term, which is 1, multiplied by 1 minus the next term in the sequence. so it ends at 2 to the k minus 1 so if we were to go to the next step that would be 2 to the k; and then we divide by 1 minus the common ratio between the terms. so what we're multiplying by at each step, so divided by 1 minus 2. so you tidy this up and this is 2 to the k minus 1. so this is the total amount of money i have lost when i lose my bet at step k. so in the next step i'm going to bet 2 to the k pounds - i'm going to win hopefully and then that covers my losses with one pound to spare. so after all of this effort, after losing at some step if i follow the martingale strategy i will eventually win - we hope - before i run out of money, that's a whole other question, and i will win one pound. so we're not exactly- like it's good, it's a profit, but it's it's not like- we want more than a pound don't we really? like you don't really go to a casino to make a pound. (but if you scaled it to 10 pounds or a) (million pounds as) (as your- like your multiple) (you you're guaranteed to
win a million pounds!) yeah, so so to win a million pounds you've got to go through this strategy one million times, winning one pound each time. (or just make that a million pound bet;) (a two million pound bet; a four million) (pound bet, all the way to a two) (to the minus 1 times a million-)
- we could also do that yeah. so we
could also change the amount we bet at the beginning and then that would be- the amount that you your initial stake is the amount that you'll win through this strategy. so this strategy is going to win you, through this process, we're going to win a pound each time. now, there are problems with this. there is a reason that this is not a foolproof gambling strategy. first of all most games aren't 50/50; if we're doing roulette there's a zero which is green, so it's not red or black, so you've not actually got a 50/50 chance. and that kind of really alters what's what's happening.
- (in some casinos there) (are two zeros) yes zero and double zero, exactly yeah, so they're even- they're even stingier those odds. the other thing is casinos have maximum bet limits. in most casinos you can't walk in and just drop a million pounds, like they're gonna be like no there's a maximum bet limit here. and even if you start really low and you keep losing this will grow really quickly. this is exponential growth which we know a lot about these days. and this will grow really quickly and it will actually reach a million a lot faster than you realise.
- (so if red comes up) (lots of times in a row - ?)
- yeah you're going to reach the maximum betting limit in an actual casino and then you're screwed, you've then lost like a million pounds, you've not got a chance to get your money back. because that's the key; if this fails you've lost 2 to the power k minus 1 pounds which is a lot of money if k is like 10 or something, like, so it can really really ramp up. (just for the sake of clarity too tom, i) (would imagine) (it doesn't really matter what you're) (placing the bets on, red or black?) (like you don't really have to be betting) (on the colour you lost on?)
- no no no exactly. every time, because it's an equal chance of each one coming up, you you can switch. you could maybe go red, black, red, black, red, it doesn't matter because the probability will always be a half and and it will always be the same. (so you don't have to bet on what you) (lost on, you just have to- you just 
have to bet) (again.)
- just have to bet again, yes exactly, you can bet on anything - in the 50/50 situation. another issue, nobody in the world has unlimited money. it might feel like some people do but there is a number where the maximum amount
any individual could bet. that's our bank balance, n pounds. if at any point we need to bet more money than we have we're screwed. not only can we not win our one pounds we've literally lost 
everything that we own. so we really don't want this to happen. (does your previous winnings) (become part of that
pot you can dig into?) no so so the the 100 pound limit here is the- like that's my pot. so even if i start to win, maybe i've won 50 in a row and now i in theory have 150, but what we're saying here is that 50 i've won that that's in a separate pot. that's in like a- that's in your money box, that goes in the bank you cannot touch that. we've said here that we're losing at step k and in the next step we would have to bet 2 to the power k. so if i have to bet 2 to the k pounds; if this is ever bigger than my n pounds, game over. sad face, that's it.
- (you're bankrupt) we all cry. so we can't have this happen. now what you can figure out is how does this tell you about k? because k remember is the number of losses that were allowed. so we can start to plug some numbers in here and think about, well if i go in with 100 pounds how many losses am i allowed before i lost all my hundred quid? you just rearrange this slightly so we can say 2 to the k is equal to n, just to make things a bit easier, so obviously if we go a little bit above this then we fail so let's look at the boundary case of when they're equal. so then you take log to the base 2 of both sides and what that does is tell you this to be our value of k. now this is quite hard to interpret because we don't really have any numbers, so let's put some numbers in. so if i come in with n being 100 pounds. so if we 
start with 100 pounds you're allowed seven losses, it's not too bad. but it might seem unlikely, i'm not gonna lose seven times in a row, you would be amazed how common it is to lose seven times in a row. like there's loads of really nice studies done on this at how bad we are as humans at thinking 'oh i'll never be that unlucky'. it's really easy to lose 
seven times in a row. (seven reds in a row and 
you're- you're out?) if we're betting black yeah. and then if you went up to say a thousand pounds then you will get about 10 losses. so even though you've ten times your initial stake you only get an extra three losses. and this kind of pattern continues, it starts to come down. so if you had 10,000 pounds then you've got 14 losses and if you even went all the way up to brady's idea of a million pounds you've got 20 losses. you get twice as many losses from 10 to 20 going from a thousand to a million pounds. no matter how much your money goes up this starts to slow down quite drastically. (and still this is only going to win you) (one pound!)
- this is to still win one pound, yeah, this is just to win one pound. we have this relationship then between the number of losses and the money that we've put in. so what we can do then is say, right well, it's a 50/50 game so what is the probability that i lose k times in a row? well if i lose once that's a half, then if i lose again that's a half; these are independent events it doesn't matter what happened in the previous one. so it's literally just a half to the power k. so if i've lost k times it's a half to the power k. this is actually 1 over 2 to the k. and we have this relationship up here between 2 to the k and the amount of money we start with, n. so the probability that i lose k times in a row and lose all of my money and all of my belongings is 1 divided by the amount of money i have in the first place. so perhaps as expected the richer i am the less likely it is that i lose all of my money. and we have this really nice probability given in terms of the amount of 
money we start with. so if this is the probability that i lose k times in a row, and lose all of my fortune, then the probability that i win - which here is winning one pounds - is 1 minus this because the total probability has to always be 1. so the probability that i win one pound using this strategy is 1 minus 1 over n. and as n increases this number goes really small so the probability is really close to 1. (if you tom walk into the casino with a) (hundred pounds in
your back pocket, which) (i think is conceivable-)
- okay yeah let's go with that. (and you play this strategy; how) (likely is it you're gonna walk out with) (your one pound profit?) so if i put in, for n equals 100, then the probability i win one pounds is going to be 1 minus 1 over 100, so that's going to be 99 out of 100. so there's a 99% chance that i win a pound but, and this is the key thing, there's a 1% chance - really small - that i lose 100 quid. i really don't want to lose 100 quid to have even- because i'm only doing it to win a pound, is it worth? so it's only a 1% chance yes but is it worth that 1% chance that i lose my hundred quid just to win a pound? if we do this properly, i want to double the money i start with. so we need to win one pound 100 times in a row. so we need to go through this whole strategy, with our probability of 1 minus 1 over n, but we need to do it 100 times in a row and so i'm going to need more paper. the probability of winning one pound is 1 minus 1 over n. so the probability of winning 100 times in a row, which means winning 100 pounds, is just- well i need to win the first one, then i need to win the second one, so that's just multiply the probability together, then i win the third - so it's actually just this to the power of a hundred. if i wanted to win 100 times in a row it's this probability to a higher and higher power. we're using the example here of me
and my hundred pounds if i just wanted the probability of doubling my money, for any n, then it's going to just be 1 minus 1 over n. each time i win one pound i've got to win n times so it's 1 minus 1 over n to the power n. what is going on here? so let's put in some numbers. if n is a hundred we plug this into our formula, so it's gonna be 1 minus 1 over 100 to the power 100, and that comes out to be 0.366, so if we put that as a percent it's going to be 36.6%. so a little bit over a third chance of me going in with my 100 pounds and doubling my money through this martingale doubling strategy. 
- (so this is a long night?) this is a very long night
yeah. because that's- i've literally got to win 
100 times in a row. so i have to employ this strategy 100 times- and and hope that none of them- if i ever get a long enough losing streak to run out of money that's it i've lost my 100 pounds. so i really do need to go back and redo the same thing 100 times. but if i do that i then got 36.6% chance of doubling my money through this strategy. suppose i'm a little bit more of a high roller and i go for a thousand pounds, the value is 0.368. so if i have a little bit more money i get an increase, 0.2%. still starting with one dollar bet so i can never bet anything more than a thousand, that's like all i'm prepared
to put forward into this situation. and then if i was to really go big and start and say, well, you know what i've got a million pounds of capital - i wish - then the value here is also 0.368. 36.8%. so something's happening. this is this is- as a mathematician this is where you get your joy, you sort of- you start thinking about these fictional casinos, these probability problems, and then you start to spot patterns - what the hell's going on? what we're really doing here, as n is increasing, is you've got like a contest between these two numbers. because as n gets bigger and bigger this value in the bracket gets closer to 1 because you're taking away a smaller smaller number. but as n gets bigger you're taking a number less than 1 to a larger and larger power. and when you have numbers less than 1 to any power, so say a half squared, it gets smaller. so any number less than one raised to any power, positive whole number power, is going to get smaller and smaller. so this is always less than 1 and we're raising it to a 
bigger and bigger power. so it's- there's like a competition because you're taking away smaller pieces but you're multiplying it by itself more and more times. and that's why you get this limit, it's an actual limiting process, the two balance out and eventually reach this constant. and the constant, and this is my favorite bit about this whole problem, if you take n to infinity and do a proper limiting process on 1 minus 1 over n to the n this is 1 over e - euler's number, the 
natural rate of growth; the number tattooed on my arm. it's- it appears everywhere right? anything you're doing with growth; it seems anything with interest, gambling money, it's always e. so here it's 1 over e. so the big conclusion is if i have a fixed amount of money, n pounds, i'm willing to try and double using the martingale strategy, no matter how much money i have the absolute best chance i have of doubling my money is about 37%, or 1 over e. and there's nothing i can do about that. if i get more and more money i still have the same chance, 36.8% chance, of winning in this method. so some of you may have spotted this earlier or may realised what's going on here. and you have to think, well, we're playing a 50/50 game, like we're literally playing roulette red or black. so we can go 
through all of this and have, you know, the world's longest stint in a casino trying to double a million pounds and do a million iterations of the martingale strategy but i'm never going to get more than a 36.8% chance of doubling my money. so why don't i just put everything on black on the first spin? because then i've got a 50% chance of actually doubling my money. so the moral of the story i think is gambling strategies are 
all good and fun but they're always gonna break down for many reasons; one of which is you don't have an infinite amount of money. so even though we can in theory win one pound every time, if you let time be long enough you're never actually going to to double your money or your your expected value really does shrink to zero. so the martingale strategy in theory looks great, if you do it with sensible numbers saying i want to double my money, literally you're better off just putting it all on black and hoping for the best. if you'd like to see even more numberphile videos with tom crawford, well we've got a playlist. there's a link on the screen and down in the video description. ..because there's more competition to eat those rabbits.
- also tom will be appearing very soon on the numberphile podcast so keep an ear out for that. thank you also to numberphile's patreon supporters. we have a list of the whole list of supporters, i'll include a link to that in the video description; but a few of them are also listed here on the screen you can see their names at the moment. special thanks to them. if you'd like to help us out go to 
patreon.com/numberphile. we really appreciate it but we also appreciate everyone who just takes the time to watch and like and share these videos, and that includes you. yes you, i'm talking to you specifically.