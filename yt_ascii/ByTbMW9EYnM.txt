hello ladies and gentlemen happy new year welcome back to the channel this is my first video talking to the camera since christmas so i hope you all had a lovely christmas or a happy holiday if you don't celebrate christmas today i am getting around to recording the long-awaited tutorial for the hulk videos but just before we start like i showed at the end of the actual hulk video for the first time ever i've put all of the project files from this video on patreon there are all of the blender files with all the animations and the simulations there's nuke scripts for all the compositing there's custom hdri's that i took on the locations where i shot the film so for one dollar you can get all of the assets from the videos like the rigged hulk model and the hdris that i took and then in the next tier up for four dollars you can get all of the project files for every single shot check it out if you're interested it really helps me continue making these videos and hope you enjoy let's get on with the video so i think the first thing to do before we start looking at specific shots is to quickly show the actual hulk master file that i'd created before any of the shots started i didn't make the actual model i think it's originally from cg trader where is it here we go it's this one here it's by a user called meet romani i don't know if this is the original later but i assume so it does say that this model is rigged but when i downloaded the fbx it didn't have one so i just made one myself but it was really simple and i'm going to show you how to do that now i used the rigor fight add-on to generate this rig it's really useful i've never used it before to this extent where you actually generate all of the custom ik shapes and everything i have used it before for lots of my videos but usually what i do is just go to armature add the human meta rig and then i literally just put this into position and line it up with all of the joints and stuff and then i'll do the automatic weight parenting to this armature without generating the rig itself and then i just use that so i'll animate it like this for this video what i did which i should have done in the past for all of my videos because it's so much better is you come down to the bone controls you can press generate rig and what that will do it takes a couple of minutes to think about it so i'm not going to press it is it will turn this basic armature into this completely customized rig with all of the custom shapes and everything it's super intuitive to use i never used it before but i figured it out pretty much instantly it's got a full ik system so when you move the hips around the legs and hands stay in the same place these arrows on the legs and arms are like the pole targets so when you rotate them it rotates the shoulders and the knees and stuff the thing that i found most useful is the foot has these foot controls so as well as just moving the foot like this you also have control over the roll of the heel and as you can see as i'm moving that it stays perfectly flat on the floor so that's all the rigging it was pretty straightforward i didn't have to do any custom weight painting or anything it just worked another thing i did is i upres the model and the textures a bit the model itself is really good but it's quite low poly so i added a subdivision surface modifier with just one level and applied it so that everything was a bit smoother and then i also upres the textures to do that i bought them into nuke and i used a node called the tvi scale in nuke there is now an ai upscale which will probably do a slightly better job the tvi scale is basically the old-fashioned way of doing this so the textures came in as one cape which is alright but not super high resolution what the tvi scale node does is it doubles the resolution of anything you plug into it so i stacked two of these on top of each other and generated a 4k version of the image textures this is what it looks like now when they flick between the before and after you can see it's not exactly adding detail because that's not how this works but it's just getting rid of the pixelated edges on all of the fine lines so in some of the shots where the model is quite close to the camera these textures should hold up a little bit better and then as well as that to add some extra detail i added three hair particle systems onto the model i did one for the arms one for the chest hair and one for the beard because i wanted it to make it look like my beard in real life and if i go into rendered view you can see what these look like the hair really helps to add some extra detail especially on the arms and you can see it in some of the close-ups as well as adding some detail onto the surface it also changes the silhouette because you can kind of see the hair catching the light on the edge this is the shader that i built for the skin again the textures that came with it were pretty good but they needed a lot of work to get it to look a bit more photo realistic so if i zoom into the skin and get quite close you can see that this still really holds up quite well to fake the look of the pores i used a vironoi texture of voronoi however you say it and i'm using this going into a bump map as well as some of the other normal maps and stuff that came with it for the veins and i'm using that same texture also going into the roughness and multiplying that over the top of the roughness map that came with the model too so those two things combined give this really nice high frequency detail to the skin i also added some sub is scattering into the principled shader so i put a lamp here you'll be able to see it working the red glow that you can see coming through the ear here is the subsurface scattering where the light is penetrating the mesh and illuminating it from the inside that really helps as well in some of the close-up shots to make it feel more realistic so this is like the master blender file that i used and then i linked this into all of the shots so this was the fully made asset that was ready to go to be animated so let's talk about some shots all of the shots up until you see the cgr are done pretty much all in too deep so it's just compositing magic so let's jump on this one first shot seven this is the blend file as you can see i've just cut off the arms i didn't need the rest of the body and it just made it a little bit lighter to compute and render if i go into the camera view go into wireframe you can see i've got the footage set up as the background and then all i did is use the rig that i made to animate the hulk on top i didn't do any object tracking or anything for this it's just animated by hand it's a fairly straightforward shot the ik system made it really easy to add the kind of high frequency wobbling of the arm so it didn't feel like it was too static and what i mean by that is that i can take the torso and move it like this and because the hand is an ik it stays in place so over the course of the shot i animated the torso to move around a bit which makes the forearm wobble around a bit as well makes it feel a bit more connected to my body in terms of rendering it was really straightforward there's just two passes out of this i rendered the hulk arm obviously which looks like this and then i also rendered a shadow pass which is just for putting on the floor so there's some shadow interaction so let's have a look at the comp there's nothing super complicated going on as you can see it's a fairly small script starting off at the top we have the footage then we made sure to film a clean plate so i had some floor without anything on it i had to extend it slightly so i just did a little bit of rotor paint to clone a bit of the tiles over here so i had some more room around the edge of the frame and then this gets tracked into place into the shot so that's removing my arm and the top bit of my torso and shoulders then i've got a couple of grade nodes here that adding some green skin onto my neck and face this was all just done completely in 2d using some rotor shapes i just rotowed my head which looks like this and then i used a second mask that has a fractal blur on it which kind of distorts it using a noise texture and i use this to creep across my face and reveal the green over the course of the shot so it looks like this so this shape is used as a mask on the original shape which is the rotor of my head so as you can see the texture just grows across it then i use the alpha to grade my skin so by the end of the shot you can see that my head and my neck are pretty much completely green that's before and after then i have the cg shadow pass from blender this is what the alpha looks like and then i'm using a color correct node here to take a little bit of the contrast out to the floor i like to do this in two phases instead of just making it darker because removing the contrast takes out a lot of the specular highlights so it's kind of a cheap 2d way of removing all of the reflections from the floor and then i have a grade node that's actually doing the majority of the shadow effect making it darker next up we have the cg holcomb this is what it looks like fully a comps but if i turn off all of the color corrections and stuff it looks like this originally i found this shot quite difficult to match the lighting and everything so i did lots of iterations which i'll show in a second first of all i shuffled out the glossy direct pass and i just removed some of the spec from the fingernails up here because they were really hot in the render so i'm just using a grade node to knock them back quite a bit then there's just some general color correction and exposure tweaks removing a little bit of contrast so it matched the footage better and i also added a shadow here just using a rotor shape so it felt like there was a shadow from my body on the cg arm which obviously they would be in real life then i put my torso back on top i did this just by keying the blue of my shirt because it's quite a punchy blue color so it worked out quite well this is the key and then i just inverted it so i have just my torso and then i did a bit of a warp effect on this which i don't know if people will have noticed or not because it's quite subtle but i'm using a spline warp and if i show it basically around here my torso starts to get a bit bigger and it feels like it's expanding so you can sort of see it there my shoulder suddenly gets quite a bit bigger the way i did this is like i said using a spline warp node in nuke this is pretty much the same as the puppet warp tool in after effects so you can use the pins here to put them into your footage and then you can drag these points around to warp your image essentially so i have a few keyframes throughout the shot that are just making my shoulders and my arm a bit bigger and when you combine all of those things you get this effect like i mentioned before i did loads of iterations of this so this is my version six of the comp if i show you my v1 you're probably quite shocked at how far it came on this was the first version and this is using the model of the hulk before i did any of the stuff to improve it so this is unsubdivided this is with the low res textures and it also doesn't have the hair system on the arms which i think really helps sell it in so this is again before and after there's an enormous change there you can see how much difference adding the varonoi texture for the skin made as well you get all of these really nice specular highlights all over it so that's shot seven and then in the following shot we go into full-blown cg hulk which is this one so this is shot eight as you can see the obvious things happening here are there's a rigid body simulation of the door smashing and in the final render there's lots of compositing with the shadow pass and stuff to make this look nice i'm not a very good animator so i struggled a bit at the beginning when i was trying to animate this shot it's quite a complicated animation to have the character stumbling out and then bouncing off the wall so what i ended up doing and what lots of professional animators do all the time is i shot some reference so if i go into my footage folder down here i filmed this which is basically me acting out the animation that i wanted it's not perfect and obviously the hulk is a lot bigger and heavier than me i tried to act a little bit heavier than i actually am but it's a very good basis to see sort of where your feet land and how much your arms react with the wall when you're pushing off of it so i bought this into blender and just kind of went through to the key poses and blocked out the timings of the positions and it really helped me to get the animation looking a lot more realistic so if anyone is trying to do the same thing i highly recommend shooting some animation reference the background footage is live action so this is actually filmed in the corridor in my flats i 3d tracked the shot and then i just built some very basic geometry for the corridor it's really easy to do this once you have the 3d track working because you can just add an object into your scene and then you can just expand the model from here so you can say okay the ceiling is this high and it goes back this far into the corridor there's a loop cut here and here and then the door goes in here and very quickly you can build a model of the corridor the model is serving two purposes it's a collision mesh for the rigid body simulation of the door and it's also the shadow catcher for rendering the shadow pass when i made the door i took a few photos of the door at the front of my flat and then projected those textures onto the front and side of it to give this nice detail so we've got this one i painted off the door handle and the number mostly so i didn't have to make models of them as well and then this is a photo of me holding the door open with my foot that i have a fire safety thing that closes the door automatically so i was really struggling to get a photo of the side of the door but i use this bit to project onto the side so that i had all the angles covered and then what i did once that was textured is i ran it through the rigid body simulation so just very quickly how to do that if you don't know is i made something that's roughly the shape of a door like this i put it here but let's just do it off the side so we can actually see then what you want to do is subdivide it a few times so that the cell fracture add-on has some geo to work with and then what i did is i used the grease pencil to draw a custom crack onto the door so you can do that just by holding d and clicking and dragging with your mouse and i made this kind of crack just like this doesn't have to be super accurate so all of these lines should in some way inform the cell fracture of how to work so i add the cell fracture add-on you can set the point source to annotation pencil which means the grease pencil lines that we've drawn here i set the source limit quite low because i just wanted a few big chunks so let's go for something like 16. i put a little bit of noise into it just to add some randomness i set the recursive shutter to random as well so we get some different size pieces and then if we press ok you can see it shatters the door i must have done a few more pieces because this one doesn't look particularly shattered but that's fine and then from here what you can do is select all of them come up to object rigid body add active and then in the rigid body settings come down to the bottom and i turned on deactivation and start deactivated which means they won't start simulating until something hits them and then over here the thing that hits them is this cylinder i just animated to smack into them this is also a rigid body i set this one to passive and turned on animated so it knows that it's not meant to be simulating it's just something to affect the original body simulation and then i just animated this like a battering ram to knock into the door and as you can see it sends all of the pieces flying i also did a secondary simulation that's just a load of particles coming out of this emitter and i just wanted these to kind of simulate some splinters and sawdust and stuff coming out the door and then they all just land on the floor and settle to make the model look a bit more interesting i kind of made these like fractured bits of wood texture so i modeled some extra bits of geo just sticking out the side of the big chunks of the door and these have got a different wood texture on them so they're like the inside of the door and then i parented them to the big chunks so they move with them like this and that just helps to make it look like the door was kind of snapped in half in terms of rendering for this shot i rendered three passes we have the hulk on its own again like the last one this is the compositor off to the side then i render the shadow pass which is just using the scene geometry set to a shadow catcher for all of the interaction with the walls on the floor and this also has the shadows from the debris in it and then thirdly i have a debris pass which is just the splinters and the bits of the door to get the lighting to look good i projected a frame of the background footage onto the set geo so that it kind of has the general tones of the environment and that bounce light will bounce back onto the hulk and influence the lighting and then i can see where all the lights are in the ceiling so i added some area lights up there just to get the lighting to look correct and from the right direction and the compositing of this shot again it was pretty straightforward i started off with the footage then i did some tracking marker removal so i just used some transform masks to get rid of all the tracking markers then i put some cracks on the wall where the hulk comes out and smacks into it so it adds some damage to do this i just bought the camera in from blender so i have the 3d camera and i also have the geometry for the set which looks like this and then i just projected those textures onto the geometry and rendered that out in 3d which gives me these nicely tracked into the shot then we have the shadow pass again i'm doing the little contrast trick by using a color correct node to take some contrast out and then dropping the gain to make it darker i also put a little bit more warmth and red into the shadows just to match the tones of the room then we have the debris layer these didn't really need any comp work i just made them a bit warmer i think and changed the brightness ever so slightly so this is all the color correction tweaks and stuff i did to them a little bit of defocus as they're slightly out of focus on the floor and then the hulk goes on top again not loads of comp work this is what it's like just out of blender and then this is with all the color corrections i shuffled out the glossy direct pass and just made it a tiny bit brighter so that those highlights ping a bit more on the skin then there's a slight exposure lift just to get it to match the shot a bit better a good trick i learned from the lead at work a few years ago for getting colors of cg to match live action a bit better is you can take the background footage blur it by about 400 pixels or whatever it is 200 in this case and then screen this over the top of the cg just really subtly so i've set the value in the mix node to be .03 so it's just a 3 mix if i turn it on and off you can see it's just introducing some of the cream tones from the wall into the shadows and stuff on the hulk it feels a little bit like adding fake bounce lights i also have a hue correct on here which is taking a little bit of the saturation out of the greens and yellows in his skin i found the outer blender they were a little bit nuclear so i look at it over the footage without this it's quite a subtle change but you can see here he's very saturated so what the hue correct allows you to do is take out saturation just for certain colors so here i've taken some points on the green and yellow and just lowered them slightly and that's just reducing a little bit of the saturation from his skin tones which i think looks a lot more photo realistic then again a little bit defocus and there's a tiny bit of light wrap on here as well because there's a couple of points where he crosses over some of the lights on the ceiling like here so the light wrap is just introducing that back into the silhouette which works quite well and that is how that shot was done this is one of my favorites i think the door exploding looks really cool it was quite a good effect worked quite successfully after that all the shots are pretty much the same so it's just 3d tracking the hulk into the shots and getting the lighting to match and comping it nicely this shot here is actually fully cg i'll just talk about this very quickly as you can see i did actually film a plate for this and i was intending to use this and then just do a 3d hand and track it into the shot but after looking at it i thought it would actually just be easier to do this fully in cg then i could have more control over the camera animation and all the lighting would feel a bit more cohesive of the entire scene was just lit in 3d instead of trying to match cg with live action as you can see here this is the actual 3d scene what i ended up doing is i took the footage that we filmed and i made a couple of clean plates so i did one without the buttons and i made one without the entire thing on the wall and then i projected these textures so if i go into render view this wall is projected and i also projected the background over here which is the lift behind and then i made a rough 3d model of this button on the wall and then projected the textures onto that as well so it's kind of a mix between 2d and 3d because it's using the textures from the footage as the initial kind of base layer but then i also turned up the metallic and lowered the roughness slightly in the shader which means it still has 3d shading on it and the benefit of this is that when the finger comes in to press the button you can actually see the reflection of it here which looks really good like i said doing it fully in 3d also allowed me to do a bit of a better camera move on it so the camera is animated fairly normally here and then when the punch happens over about five frames it whips to the right and follows the hand into the wall this really helped to feel the punch a bit more and it made it a bit more impactful and then for the wall breaking it's just literally switching between two bits of geo so in the object properties tab under visibility i've keyframed the viewport and render visibility to turn on and off for this two objects so the first one is just a plane and then as you can see here it turns off and it's swapped out by a plane i cut a hole in for the wall and then it's revealing the hole underneath this isn't even a simulation these chunks are just animated by hand because it's very quick so they just fall out and then the inside of the hole i just added a couple of wires to make it feel like there was some stuff going on in there and i put a shape key on the button so that it feels like it gets crushed so you can see here i've got a damaged shape key that i can turn on and off and i've animated that just so that it deforms the shape of the button once it gets hit there's very little comp work on this the blender render looks like this and then i just use cryptomats to change a bit of the skin tones and just lifting this plaster texture on the wall ever so slightly so this is the full shot it's pretty cool i was really happy with this shot again this is one of the ones where the skin texture needed to hold up a lot closer to camera so upresing the textures to 4k and doing the veronai texture on the skin and also the hair really helps to make it feel a lot more detailed and actually works this close to camera and finally let's talk about the mirror because this one was quite complicated it's pretty much the same as all the other ones except for it also has the additional challenge of seeing the hulk in the mirror this is the background footage i put some tape on the wall and did a 3d track and then modeled some really basic geometry for the lift or the elevator if you're american there's lots more render layers going on in this because it's a more complicated shot so to start off with we have the layer of the hulk then there's a shadow pass which is basically just on the wall that's the main place you see it then i rendered a reflection which looks like this there's no real way in blender to actually render reflections properly in the same way you would like a shadow catcher where you just get them on their own so i use my comp brain and i thought well how can i render this and then make a way of isolating them and i also had the same problem for the shadows because you can't render a shadow catcher in a reflection doesn't work so for the actual reflection i made a plane at the back here which is basically just a mirror it has a shader on it that looks like this the metallic is turned right up and the roughness is turned pretty low so it just gives a mirror effect there's some area lights in the ceiling which are matching the ones that are in the top of the lift the actual hulk layer is in this layer but it's set as indirect only so we don't see it in the foreground but we do see it in the reflection which is what i needed and then i purchased a gray plane on the floor which is really important for the shadow pass which i'll show in compositing and then to isolate the reflections i didn't come up with this technique so shout out to jacob from inlight vfx that guy's a genius and i got this idea from watching his video all about rendering reflections in blender i made a reflection mask layer which is rendered completely separately and it's done by duplicating the geo of the hulk and setting it to an emission shader so it's completely white in the reflection then if i turn off the hdri so there's no world lighting this is what gets rendered out for this pass so i'm still using that geo for the mirror but now because i've turned off the hdri and i've turned off the lights in the ceiling there's no other lighting other than just seeing the emission texture in the reflection which is why everything else is completely black so in total there's four layers there there's the hulk there's the hulk shadow part on the wall and then there's the reflection and the reflection mask then what you can do in compositing is slap them all together so this is the original footage this is the tracking markers removed this is removing me from the reflection in the mirror obviously i shouldn't be there i just did this by using a rotor paint node and nuke to paint myself out just using some clone painting and stuff to stretch in the textures from the wall around me isolated it to just a bit that i wanted and then track this into the shot it's not moving too much anyway so that's before and after then after that i render just one frame of the hole in the wall over here obviously it got broken in the previous shot so it still needs to be there in this one i just rendered this pretty close up from the previous scene and then a little bit of grading corner pinned it into place and 2d tracked it onto the wall and put a little bit of a defocus on it so that goes on there then we have the shadow pass which looks like this now like i said a second ago you can't actually render a shadow catcher in a reflection because it just treats that reflection of some geo it doesn't realize it should be reflecting the shadow path so you can't get an alpha from that so what i did like i said is i put this flat gray plane on the floor with no shader on it so this is rendered in the reflection and then i used a luma clear in nuke to key the shadows on the floor so this is just literally keying the brightness and then i inverted it so i'm getting essentially keying the shadows instead of keying the highlights and i just change the settings in the kia until i felt like i had a pretty good grasp but the shadows in the scene then with a quick road to shape i can isolate it just to the areas that i want it doesn't matter that we're also picking up the hulk's feet and legs in this because we're going to put him on top anyway so you won't see this extra stuff here i then combined that with the shadow pass that goes on the wall which is here and then did the trick that i did in the other ones by using the color correct node to take some contrast out of the plate and make it darker and as you can see that now puts the shadows in the lift then still using this reflection render pass i then use the reflection mask which looks like this in nuke this is the emission shader rendered in a black background with no world lighting or anything i shuffled this into the alpha so i now have a perfect alpha to cut out the reflection of the hulk and then i take the reflections i did a little bit of color correcting to them which looks like this there's a couple of ramps here just to simulate the shadow as the lift door is closing and then i copied the alpha into this stream and pre-molded it which allows me to cut it out i'm also using a color edge node here this is a third-party node that's free online you can download it from wikipedia but there's lots of nodes that do a similar thing it's just doing an edge extension as you can see so what it does is it eats into the pixels ever so slightly and then drags the color outwards so i'm kind of extending the green of the hulk to go outwards without it if i show what it's doing i was getting some weird kind of light wrappy stuff coming in from the wall behind the hulk so the color edge is just removing those which does a really good job then there's a slight defocus and then down here i just have some roto for the seams of the mirror so there's these two vertical lines and then the thicker one going horizontally so now the hulk is quite nicely bedded into the reflections of the mirror and then after that simply put the main version of the hulk on top in the foreground again there's some comp work here to make embed in better for this shot i actually use light groups so i rendered a light group for the lift lights which is the ones in the ceiling one for the hdri and then also the glossy direct pass here and i did a bit of grading to all of these just to make the lighting work a little bit better and then finally there's some roto for the lift door which goes on top of him and that's how that shot was done that's the most complicated one of all of them i was really proud of this video i hope you guys have enjoyed watching it as much as i enjoyed making it again all the project files are in the link below to my patreon so if you want to pick them up they're super cheap and it really helps to support what i do and there's loads of stuff on there now thank you very much for watching and i'll see you in the next video [music] oh [music]