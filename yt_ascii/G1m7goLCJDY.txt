okay today we have a puzzle. so i'm gonna give you all the numbers from 1 to 15, i suspect you're gonna shorten this dramatically in the edit. your challenge is: can you take numbers from 1 to 15 and can you rearrange them into a new order such that any two adjacent numbers add to give you a square number? so, for example, you could put 1 - let's give it a go, we'll give it a try - we can put 1 
there and then next to it we could put 3. you go, okay that's pretty good because 1 plus 3 is 4, that's a square number. i could chuck 6 here, because 3 plus 6 is 9, that's a square number. oh what am i gonna do? what can i add to that to make it a square number? 10 - that'll work,
right? and then so on. so we'll give you a second if you want to try it. 
- (brady: so we have to use all) (of them?)
- yeah use all of them. in one long line; any order you want but any two that are adjacent have to add to a square number. welcome back, thank you for trying the puzzle. if you got it-
- (brady: it could be it could) (be days later!)
- it could be days later, my goodness 
how you have aged, but you know you gave it a go. you were saying brady you didn't think it was possible, like it feels unlikely? 
you know? but it can be done and i gave you a false start - it doesn't work if you have these numbers in this order. so i deliberately, and very meanly, gave you a starting point that does not work. (brady: why would you do that?)
- because i'm a jerk. i want people to work it out for themselves; but why doesn't it work? right, because this does- this fulfills the requirement. every two of these do add to give you a square number, but then you just you can't join up the rest of them, right? you've run out of room. so the way i went about solving this when i first did it was i thought, okay i'm gonna draw all the possible links. because you start looking at this and you're like, okay well 10 works with 15 cos i get 25 but 10 also works with 6. and so actually i've got options for how i put them in the same order. snd some of them have more possible links or neighbours they could go with than you can actually put in a long line. so i was like, right right i'm gonna do this. there's 1, i put 1 over here - i can do them in order, that's 1. okay 2: 1 and 2 don't add to give you a square number so i'm gonna put 2 over there out of the way, right ok. 3: now 3 i can add- link to 1 because that gives me 4, that is a square number. now four doesn't work with anything so far, but it does work with 5 so i put 5 over there. 6 works with 3; and so you can see if i only had the numbers from 1 to 6 it wouldn't be possible to order them, so every single pair adds to a square number. put 7 into the mix; 7 goes with 2 because it gives you 9, 8 adds on to 1 - gives you 9. 
9 fits in off 7, because i get 16. 10 links into 6 - 16, 11- and still now i've got these series i could use. in fact if this looks familiar that there is the original series i gave: 8, 1, 3, 6, 10 is one possible ordering. but there's no way so far to link it up with the rest of them, we'll keep filling these in. 12 to 4,13 we'll also link to 12 because i can get 25; oh but i can also get 16 so that links to... aha! okay so now we're starting to join this all together. let's put in 14. and 14 is the first number where now everything holds together because 14, 25 and 16 - we've now got a connected 
network, or graph - whatever you want to call it. but there's no path, right? so this would work but you've missed 1 and 8. that would work but you've missed these. so at 14 it's all joined together but doesn't work, 15 is the one you need to hold it all together. because 15 fills in this gap: 1- so there's 25 and 16, and now there's our solution. 8, 1, 15, 10, 6, 3, 13, 12; and then all the way along that tail. and so that is the order you've got to put those numbers so that every single pair between them adds to a square number. and i- annoyingly i picked this bit here of this curve, knowing that that is not a valid part of the path that goes all the way through this square sums network. (brady: that makes 15 a pretty 
special number.) it makes 15 a pretty 
special number, it's the first number for which you can order the numbers so every single- so you you were right 
brady to think, that doesn't feel likely. and it's because i picked 15, because up until then doesn't work. i could've picked
16 actually because 16 you can add on to 9 to get 25. okay; oh wait all 17. okay so 17 goes over there and so now you think, well there
you go that's perf- and there's the path: 16 all the way through to 17 you have a perfectly valid solution. but why stop there? why not do it from 1 to'?' fits in over here, there's'. oh now, now we've got a problem. because if you put' over there there's no longer a way to go through the whole network, going through every single number once and once only; because we've got a tail here sticking off and we've got a little tail sticking here. and if we start here and go that way we can never get back to', if we start here we can never go back for these guys. so we've broken it. so it works for all the numbers from 15 to 17, and then' breaks it. but what if it works again after that? so we'd call this a graph in mathematics, and graph theory is what we're kind of using to solve this puzzle. and we're looking for a path - a path is any kind of journey which doesn't go through the same vertex more than once. and if we have a path that goes through every single vertex then it's called a hamiltonian path. and so to solve this puzzle you're looking for the hamiltonian path which goes all the way through the graph. so let's try adding on a few more numbers and see if we can 
get it to work for a bigger value. if i add 19 over here that doesn't solve our two tails problem over there. so as long as this exists there are no solutions. 20 doesn't help; ooh actually that's now solved one tail problem. so we can come in here, oh but maybe if we come in
here we either go around that way or we go around that way. because we then have to come off and do the rest of this. and because of this bottleneck here and here you do one way, but if you
loop around then you can't get out so that's still not solvable. we need another way out of this loop before we can do it. 21? oh, starting to get crowded.
21 can go down here because it links 15, which i'm gonna run under there, to 4. so these are crossing but that's that's not a new vertex, right, obviously i'm just drawing the links. 22 links up 3 to 14; does that get us out of our problem? because we can come through here and out, but then we can't get out- it's still not doable. it can be done once we get to 23. so if we put 23 in- let's pop it down there. now it is possible to trace all the way through this network. shall we give it a go? i have spoken too soon! okay we can work this out. so okay, let's 
see if we can do this. you've got to start from 
18 because that's like our little tail over here. if we come in here and we go all the way around here, i suspect we need to mop up these. because if we leave any of these behind
we're gonna be in trouble. so let's come down, 
take those, get into here, come up here- oh yeah here we go; then we go across 
21, 15, 10, 6, 19, 17, 8, 1 and there you go. so it's possible to find a hamiltonian path on the graph, as soon as we add node 23. but very sadly when we add node 24 it breaks again. so 24 joins 1 to 12, 24 goes there. and then 1 links to 12. and now it's broken again! but when you add 25 it's fixed again! and it then works for 26, it works with 27, and it works all the way up so- we think. as far as we're aware, from 25 onwards it works for every possible value. you can somehow find a path through this network. well it's not over yet people, 
if you'd like to see even bigger graphs with more nodes and their hamiltonian paths have a look at our extra footage over on numberphile2. you'll also hear more stories from matt, including how he made a bit of a parker square of this issue when he was doing his book. and you'll hear from a very special guest. i'll put links down in the description and in all the usual places, thanks for watching.