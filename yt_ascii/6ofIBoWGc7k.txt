i thought i'd talk to you about factorials. let 
me give an example so we know what we're talking   about: 3 factorial is just a product of 1 times 2 
times 3. now of course i didn't need to write the   1, because 1 times whatever comes after is still 
just whatever comes after but this is 6. everybody   probably remembers the factorial in general is 
the product of all of the integers between 1   and whatever number you write last. so the second 
example - i'm going to skip 4 - and go straight to   5 factorial which is 1 times 2 times 3 times 4 
times 5 and that, after you multiply it all out,   is actually 120. probably a lot of us have 
encountered the factorial and had to figure   out what is, you know, 7 factorial? what 
is 8 factorial? and what you- you know,   you remember what you do, you you figure out what 
the previous factorial is and multiply by the next   number. or you just have to do a whole bunch of 
multiplications which is, let's face it not not   everybody's favorite thing to do. what i want to 
tell you about actually is not just the factorial   but i want to tell you about a great approximation 
- maybe you can think of it as a function,   a machine, something that simplifies the- 
the description of the factorial function   at a at a cost, and the cost is sort of accuracy. 
it goes by the name of stirling's approximation.   and so in order to talk about stirling's 
approximation i have to introduce a letter   which will be a large number. so i'm going to 
use capital n, and say capital n factorial,   that is now- if n is 5 that is the number 120. 
if n is 3 that is the number 6. so i want to ask   how does this factorial function, how does it 
behave if n gets larger and larger and larger,   okay? i mean just as an example, you could 
imagine asking what's a 100 factorial? and then you're multiplying 100 times- well 
so 2 times 3 times 4 times 5 all the way up to 100, it's probably an enormous number. well here's an 
approximation that will will you know allow you   to understand a lot about the factorial function. 
that little symbol means approximately equal to   and then it is n to the power n times e to the 
negative n times the square root of n times the   square root of 2 pi. so i didn't write equals, and 
i want to spend a little bit time explaining what   this what- i mean by this little symbol here,
because it's really an approximation of n   factorial. it's not exactly equal to the factorial 
but it's an approximation. before i even tell you   in what sense is it an approximation, it's it's fun 
to ask which one of these is easier to work with?   (brady: because professor you said a moment ago that 
you were going to show me a simplification) (but at first glance that doesn't look like a 
simplification to me, that looks like a right) (old mess compared to just 10 times 11 times 
12 times 13. but you tell me this is simpler?)  yeah so that's a- that's a fantastic point and it 
doesn't look like it's simpler but it actually is.   so the the amount of computations you need to 
compute a very large number factorial like 100   factorial is actually much larger than the 
number of computations that you would need   on the computer to evaluate the right hand side 
when n is 100. and in that sense it really   is a simplification.
- (okay so it's like- it's a bit of a hack here. it's a bit of a shortcut) (but but you don't get it exactly right.)
- that's exactly right. so this is what we mean when we say   it's an approximation: instead of saying, do these 
two things get closer and closer to each other as   n grows, i want to consider the ratio. so i have 
n factorial and i form a fraction where the   numerator is n factorial and the denominator 
is this approximation. stirling's approximation   is an approximation in the sense that, as i 
get larger and larger values of n, this ratio   gets closer and closer to 1. what i've just 
described is actually a concept called a limit   and that, you know, you learn about it basically 
in a precalculus course or a calculus course   and so i should write out more precisely. i mean 
limit as n goes to infinity - and now i'm going to   rewrite that whole ratio - n factorial over n to the 
n e to the negative n square root of n square root   of 2 pi equals 1. so- so that is the mathematical 
version of this arrow. and just means as n gets   larger and larger and larger this quantity gets 
closer and closer and closer to the number 1.   (so so as we start factorializing, if that's the 
word, bigger and bigger numbers this stirling) (approximation becomes more useful?)
- exactly yeah, that's that's exactly right. here's a funny fact: for very large numbers the two values, n factorial 
itself and the approximation, they actually   don't get closer to each other in in sort 
of magnitude it's just their ratio that gets   close to 1. and it seems funny that can 
happen without these two numbers actually   getting close to each other. so some examples 
are useful to see what i'm talking about there.   (so where are we going to start?)
- well let's start with a small number like 5 factorial. so we already know that it's 120 - what do we get if 
we if we plug 5 into this crazy formula right   here? 5 to the fifth power e to the negative 
5 times the square root of 5 times the square   root of 2 pi? i did that offline and here's what you get: 118.019.
- (that's pretty close.)   (you think that's close or not?)
- well let's be honest, it's off by almost 2. that's probably   that doesn't seem so close right? but remember 
that that really what i should be checking to   to check closeness is is does the ratio get close 
to 1? so if i compute the ratio of 120 over 118 - and .019 - and use a calculator offline that 
actually is 1.01678. should we go smaller or bigger? (we've gotta go bigger!)
- let's go bigger. okay so what's a- what's a good number? (uh, 100?)
- 100 is a great choice. let's see, i think i know that one - actually i don't, and it would probably run out of ink 
before i finish writing it. so what   can i tell you about 100 factorial?
well it's enormous, it has 158 digits.   so i probably could fit it on this paper but- 
but maybe it's not too illuminating to write   out a 158 digit number that- at the same 
time maybe it is illuminating and hopefully   you can see it on the screen right now. and 
if i now use the approximation, instead of   writing out 158 digits, if i use the approximation 
here is the first interesting statement i can make:  the approximation captures the first two digits correctly. 
- (that feels like a failure to me, there) (are so many wrong digits! that seems like a bad 
approximation but you're telling me that's a) (good approximation?)
- yeah, right. it sounds funny but the beautiful fact is it captures the size correctly, the magnitude of the number is also 
correct. consider the ratio 100 factorial over   the approximation - i'll just write down the word 
approximation - then it turns out that is 1.00083. and so the- you know the ratio of the two is 
almost 1, up to eight parts in ten thousand,   so in that sense it's actually capturing the right size and the first digits.
- (so even though)   (5 factorial was out by only 2, and this 
new one you've given me is out by zillions, it's) (actually closer?)
- yeah it's really a fact that the approximation, that the brutal distance between the two things, the actual 100 factorial 
and the approximation, is is very large but   the the relative size is- it's nailing the relative size. one more example?
- (you go, you choose a) (number this time.)
- so how about 2,000? so that is a number that has 5,730-some digits.  that's a big number. that wouldn't fit on this 
piece of paper. and if i were to compute the   approximation - let me say it like this - if i if i 
compute the ratio using stirling's approximation   it is 1.00004. at 100 factorial the approximation- the ratio   gave 1.00083, eight 
parts in 10,000, this one gives four parts in   100,000. the approximation captures five-
almost five digits of 2,000 factorial but   mind you it is a number which has 5700 and some digits. 
- (as we approach the)  (limit, you're telling me this ratio is getting 
closer and closer to 1, but will the actual) (difference between the two numbers also close at 
any time? or will that just continue to balloon?)   yeah the actual distance between them will 
continue to balloon. absolutely grows, in fact grows   very very fast. but the ratio still goes to 1.
- (seems counterintuitive at first thought, doesn't it? yeah. so so another question that people ask 
about often is uh, well this is a crazy formula   on the left hand side, you you are just multiplying 
together integers. and the asymptotic description,   the approximate description on the right hand 
side, it's it's got some interesting things, it's   got the number e - euler's constant that comes from 
calculus. it's got root 2 pi which has a pi in   the middle of it. you know, where does this formula 
come from and how do these crazy constants that   come from some other parts of mathematics, how do 
they appear in this? i don't want to give you a   complete answer for that, but there is a beautiful 
formula which provides a fantastic explanation.  there's a way to represent any integer factorial 
as an integral from 0 to infinity of x to the n   times e to the negative x dx. now this is 
something which if you have had a course in   calculus you would see this and say, oh i bet i can 
evaluate that. think of it as a beautiful way to   represent n factorial and so some folks would say, 
n factorial is actually represented as an integral   and once you have an integral you can begin to 
play all kinds of tricks. and there's a five step   process to to compute this approximation - step five, 
at the very end, out pops the square root of two pi.   (who uses stirling's formula?)
- so many many scientists use stirling's formula. so people   in in mathematics, in the fields of combinatorics, 
it's it's it's their bread and butter. people in   mathematical physics who study statistical physics 
they use this this approximation all of the time.   essentially every area of mathematics 
in which there's large numbers appearing   the approximation becomes very useful. many areas 
of physics they- calculations are done on the back   of envelopes and those calculations always involve 
this approximation because it simplifies things.   (are they using it to to save time or 
because it's a better thing to use?)  it's a better thing to use and it does save time. 
but it's really a a machine that will simplify calculations. when you're interested in sort of 
behavior as number of unknowns grows to infinity,   or number of particles in a system goes to 
infinity, it's it's a simplifying machine   in those situations. of course for smaller numbers 
it may not be so useful but once you have a large   number floating around in and you need the 
factorial of that large number this is a   approximation that's very useful. you take the 
best computer you can find and you ask how large   a value of n can i plug in and get an exact answer? 
and how large can i take this formula and use the   same computer to evaluate this formula? and the 
answer is the approximation can be evaluated for   much much larger values of the integer n than the 
exact formula n factorial, because it just takes  so long to compute.
- ...easily in my head, now that's equal to 120. so these numbers increase quite quickly. so it's fun just to work out 
factorial 20 and i can do that by continuing this   process but it's much easier to get out my pocket 
calculator. so let's do 20, so there's 20 going in...