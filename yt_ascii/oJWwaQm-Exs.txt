is it bad that i don't know he's off the heart we're talking about magic numbers today in many cryptographic algorithms hash functions encryption suites and so on you have these seemingly random constants that appear because they're necessary for various tasks and the question is where did they come from who fought up these numbers and why are they important there are a lot of cases where you want to start off with some notes and ones jumbled up in some sense before you then apply your encryption to do it further that's the idea so in sha-1 for example we have actually some seemingly random magic numbers that are in there are they things people know you could look it up yep you can look it up it's buried in the source code for any of these implementations and it's in the specification they're not secret that's that's the idea they're not like a secret key they're just public knowledge so these numbers here are the initial internal state variables for sha-1 and i should add in the wrong order by mistake so if you're going to implement sha 1 don't use my computer file video as your reference please these two are in the wrong order but anyway the internal state starts with these values and then it proceeds by taking in the message and jumbling itself up and then it outputs a hash now the verb question is who came up with these numbers and do we trust them right is there any way that these numbers could be used to actually make the algorithm weaker this is a concept of nothing up my sleeve numbers so think about a magician if you're about to pull something out of their sleeve they just show you at the beginning there's nothing in there there's a kind of way of sort of going look there wasn't anything in my sleeve originally so it's not a trick in the case of charon these numbers were produced by the nsa right but they've taken steps to try and demonstrate that they are actually just random nonsense or predictable numbers from life rather than very carefully crafted mathematical numbers which allows us some kind of backdoor so for example this one here is you can see it's one two three four five six seven reversed right this one eight nine a b c d e f so you can see they're just counting up and counting back down so they're basically counting now this introduces some sort of seemingly random notes and ones to the initial state but what it doesn't do is introduce strange numbers that we don't trust which is a very important thing in cryptography right the same is true of some other numbers used in char during the compression function which are these ones here so these numbers are 2 to the 30 times by root 2 root 3 root 5 and root 10. why we chose them in some ways you know we don't know but you can imagine but it would be quite hard to produce some kind of clever mathematical backdoor when you're just using the square root of two right because it's just one number everyone knows you know if you'd pick these numbers at random so they were in a sense it was unclear what their origin was you maybe wouldn't trust them as much so this actually has precedent so the data encryption standard was released many years ago now developed by ibm and should we say adjusted slightly by the nsa now at the time there were some constants used in in certain internals inside des which looked a bit suspicious certainly it wasn't so much that they were suspicious is that no one knew where they had come from they'd just been defined by one of the developers and just left there now as it turns out they actually were left there with a very good purpose they actually made the algorithm stronger because it was resistant to something called differential equipment analysis but at the time when it seems it seems random or contrived you can't tell whether it's because it's made it stronger or weaker or it genuinely was random so in general the cryptographic community is very suspicious of numbers but don't have an obvious reason they're there like i just counted from one to ten right because you can't produce a mathematical backdoor based on counting because it's too contrived if i was on stage i don't do magic right but if i was on stage and i said to you let's pick a number at random i don't know 24 and then did some trick with it you'd think well that's great but clearly 24 wasn't random you know it's that kind of principle you want to have some way of demonstrating that it it was a truly random number or indeed that in in in essence the the choice of your number is important because everyone has to use the same one if it's going to be a standard but in some ways what exact number it was wasn't important that's what you're trying to demonstrate so in the case of shah they've just done some counting they've just produced a simple mathematical formula that produces the numbers such that people maybe have a little bit more trust that it's used it's quite common to use three one four one five nine two six five 8 9 7 9 right because those are the initial digits of pi but the point is that if you use those numbers then you can you can add some kind of you know initialization vector for whatever algorithm you're writing but i can't say well you've changed that number to put a back door in because that number's pi right i can't change that number you know i don't have that much power so but if i picked let's say the the a millionth and second digit of pi and the one after that and the one after that you'd say well where did you get a million and two from you know why have you chosen that part of pi so the point is i've got to have a due process and a clear reason for picking this number where i've tried to be very open and said look it's not about the number i've just used it okay that's the idea so i haven't got anything up my sleeve how far can you go with pie well i can do better than that because that's wrong yeah it's three point one four one five nine two six five three five eight nine seven nine so i've missed some out and some people will have spotted that and they'll be they'll be thinking worse with me [laughter] never mind