all right here we go people don't write i'm gonna get controversial i don't think you should write comments in your code pretty much most of the time yeah i'm i'm already i'm already in agreeance actually i'm completely i i completely agree you know i'm not gonna lie to you when i look at my old code when i threw in a bunch of comments the prop okay first off one of my biggest problem with comments is that i often say what the code is doing and that's wrong if you say what the code is doing then i feel like you're wrong but if you describe why it is so strange the way it is or what led to it i feel like it's better you're wrong called it absolutely called it also funny comments and just random swear words always are a win here we have some code where we expect the value first off it's python okay maybe that's your first problem what do you got octothorps for comments octothorp for comments who does octothorps okay nobody that's whom okay that's him you to be five looking at this code it's not obvious what five signals we could add a comment explaining what 5 is but even better we can create a constant representing the variable instead the if statement now reads like a comment that we want i agree typically this looks a lot nicer than the other one a real talk though real talk this is what you know i don't i don't know what code aesthetics i don't know if he's released a new video recently but he is by far one of my favorite favorite youtubers okay and status to be message sent if your code is complex enough that it warrens a comment you should instead see if you can simplify or refactor the code to make it better instead right now this condition is complex enough you can update the message if the current user is the author of the message and the message was delivered less than five minutes ago or if the current user is the administer and you can also edit the message if the message wasn't delivered yet i mean first off right off the rip when i see people doing math if you're doing math in an if statement you've already done like for the most part you've done something wrong like there's some times you know like i can think of some really reasonable times that you want to do a little bit of math okay just a little bit of math i can give you a really good example okay here i'll give you a really quick example this is zig by the way by the way i program in zig these days let's just say we have two values right we'll call this one i don't know how about how about c and this one will be say i don't know how about 77 and then d and we'll make this one 69. and so if you wanted to do just a little bit of math right so like c minus 8 equals d totally reasonable to me that's kind of what you want to see you know what i mean like this seems like this seems like a really great like this that's fine that level of math really nice any more than that i'm not really into it you know what i mean buying into it okay that we add a comment explaining it but we can simplify this by using variables to name parts of the expression yeah yeah the condition reads like the comment does so the comment is basically redundant and can be removed yup you should again never comment code never never have a company that says what your code does if your code is so confusing you need to write a comment as to what it's doing this is this is the solution when conditions are complex enough like this you could also consider moving the whole condition to its own function now you don't need to decipher at all types can also make comments redundant in c plus plus there's no built-in memory management you often have a function like this where you get back a thing but we need to make clear who will take ownership of the thing ownership meaning the responsibility to release the memory after it i'm exceptionally upset right now that this type starts with a lowercase okay is anyone else here upset right now am i just overreacting i don't like it i don't like it first off this has heavy c vibes not c plus plus and it's oddly not centered code aesthetics i i know you for centering things and making things aesthetic but right now this doesn't feel very centered everyone is done with it in order c plus plus you pretty much had to rely on comments to do this yeah if you were given ownership of an object you'd find out by reading the comments of the function but c plus plus added a new type called unique pointer yeah yeah you type represents a unique reference to the object so if you get one congratulations it's now your responsibility it's not even really your responsibility at that point all you have to do is just not have it anymore right that's the beautiful part about the unique point of the unique pointer is c plus plus answer to the borrow checker effectively yeah that's pretty much it it's very simple the type tells you explicitly that you now own it without the need for a comment and even better the type makes it so you get a compile layer if you do bad things with it a comment doesn't do that comment likewise can we all agree that a comment can do this if you're using tom's software tom's a genius okay tom is a genius and j diesel is the future comments are also executable if we have a function that returns an int but that int is optional we could add a comment saying that negative one yeah but even better we could use a type if we return an optional int instead it's now obvious that we might not give a value obviously sentinel values were always a mistake but optional values i'm not sure when optionals hit the scene i'm not sure when this became a thing but optionals were amazing right i have never been i've been very happy going down this optional road i don't yeah but the thing is i don't know when the concept of an optional came into being i know you're saying c plus plus 11 but that's not what i'm talking about i'm talking about optionals like is it from when when did this actually happen you know what i mean we can't miss the comment and not realize that we might get an invalid timestamp back the user needs to handle a missing value and they'll get a compiler error you might wonder why don't we just make our code high quality and add comments anyways is it more comments just better now that ignores the problems with comments comments get bugs like code when people make changes to code they often don't update the comments to match but unlike comments you can't see it eight characters or less this one says 10 characters or less we have tools to stop bugs from entering code we have tests compiler checks and linting we don't have any system like that for comments maybe one oh dear sweetness did someone just hear the greatest and latest ai startup did someone just hear the latest and greatest ai startup tyler checks and linting we don't have any system like that for comments maybe one day we can have some static analysis tool that uses ai to determine if the code matches the comments and flag any discrepancies there's your story wait hold on is he actually literally saying my joke right now the comments and flag any discrepancies there's your startup idea but be okay hey i didn't plan that didn't play tom's tom's a genius okay i can't i can't even help it because of this i don't trust the comments even when they exist comments can lie i'm already watched so when trying to understand what a piece of code does i read the code i never read the comments maybe just i just have the mind of a business analyst genius okay that that's right the mean streets of the silicon valley hit me hard okay when i see something i go boom that's a startup right there hey what is that out of date comments a i start up hey what's that over there lack of comments a i startup right like i'm ready i'm in i'm i'm ready it's just me do you guys find yourself reading comments to understand code never literally never what i do read is code documentation code documentation describes the high level architecture and public apis of the system code documentation differs from comments where comments describe the internals of how your code works documentation describes how you use the code the world needs more high quality documentation and while we could write the documentation for our code completely separated from our code it makes sense to keep our documentation as close to the code as possible in order to try to help them stay imagine writing html in your comments i don't know about that something about that makes me really upset markdown for life html not cool i don't like html okay as a 20-year veteran of html i don't like it second off there's something about this that's really bothering me it looks like none of the allies have been have been stopped here are you seeing that or is that just me like i don't see anywhere in here where like i don't see any li closing tags anywhere in here is it just me this is even val see that's why i'm a 20-year 20-year season veteran html programmer okay 20-year seasons i think tools like doxygen pie dock and javadoc generate documents directly from code files and therefore change alongside our code it's useful to document what a class or api represents and hold on hold on sorry chat sorry you're talking about xhtml hey have you heard of my friend htmx okay oh all right that guy is that guy that's who we talking about okay that's the real one htmx any expectations for interface definitions like thread safety possible states or air conditions this helps the consumers of the api know how to use it and also helps any new implementers of the interface know how they're supposed to operate and behave the guidance i've given about comments still applies for documentation if we write better apis our documentation will be more concise and less prone to errors but i can see that you'll never be able to make all of the parts of the system obvious with pure code i do think there's a few cases where you should consider comments all right what are these i i strongly almost never want comments something non-obvious for performance reasons a comment can help explain why the code looks weird if the code okay this is a fair case this is a fair case but i will say that if this was tested in a micro benchmark it almost exclusively incorrect micro benchmarks are liars and there is no sort no so no no no no gosh i'm i'm dividing by zero right now there's no less liar than javascript micro benchmarks when anyone shows you a javascript micro benchmark i want you to know that the line teal okay what is utilizing a specific mathematical principle or an algorithm from a particular source you might consider linking to the source to help future maintainers there's this comic called commit strip i just feel like i did did it just get like empty in here for a second oh let's go back for a second something felt like a i just like did you feel that the code is utilizing a specific mathematical principle or an algorithm from a particular source you might consider linking to the source to help future maintainers there's this car that is just so abrupt are you a cop i'm not a cop i'm a businessman with the business plan i'm gonna make you money in business land definitely not a cop all right comic called commit strip and one of the comics is about a guy telling a developer that one day we won't need code in the future because you'll be able to simply write a spec and the program will just write itself the developers are castically retorts that code is just a more precise way of writing a spec yeah i mean i think it's wrong and ai is coming for all our jobs and we should be afraid of the impending social political turmoil that comes when our best tool for distributing wealth the job disappears but alas it's it still helps my point code is a much better way to exp base okay based breast intent then comments about code so in general if you feel like you need human language to describe your code see if you could make your code more human [music] go there donate to this guy okay [music] donate to him right now