if hll gets on this list i am i'm gonna be here for hours welcome back to another day of advent of code where i more or less torture myself on stream by picking a language at random off of this wheel and if i get it wrong on the first try when i submit my solution chat gets to replace the language on this wheel with something of their choosing a rule that i made up and will likely soon regret let's do it rust languages like c are the reason for about 7 % of security vulnerabilities in code i know whenever i say that people are like oh no it's a skill issue like people are the programmers that write bad code and i'm like all right d cool got it like tell that to microsoft tell that to oracle where you know these companies multi-billion dollar companies that have the best programmers and continue to put out software that has vulnerabilities people are going to make mistakes so languages that prevent you that do not allow you to make mistakes are kind of cools i like rust day three gear ratio you and the elf eventually reach a gondola lift station he says a gondola lift will take you up to a water source but this is as far as he can bring you you go inside it doesn't take long to find the gondolas but there seems to be a problem they're not moving you turn around to see a slightly greasy elf with a with a wrench in a look of surprise sorry i wasn't expecting anyone the gondola lift isn't working right now it'll still be a while before i can fix it you offer to help wow we're so we're so kind look at us the engineer explains that an engine part seems to be missing from the engine but nobody can figure out which one if you can add up all the part numbers in the engine schematic it should be easy to work out which part is missing the engine schematic your puzzle input consists of a visual representation of the engine there are lots of numbers and symbols you don't really understand but apparently any number adjacent to a symbol even diagonally is a part number that kind of sucks okay and you should be included in your sum periods do not count as a symbol so what is the sum of all the parts in the in schematic okay i'm trying to think how we do this map this into just an array of arrays then walk find every star and then read up into the left like read all the coordinates around it but then how do i figure out what that number is you know what i mean like if i go up up one left one let's just do the basics real quick open do sample.txt and then this this is this is unused but it's fine we're good the way that i'm going to attack this is every line parse out find a digit find 467 create a list of structures that contains all the coordinates for this number and then when i hit a symbol walk that list and find if all of these coordinates are in that list struct number i 32 x i 32 y i 3 vc of number good okay say 4 i c yeah is this legal yes oh that's so much better so we'll do not i c this will be i line and this will be y line yeah and then we'll do 4 x c in line. cares. enumerate okay this is much more rustly and this is also a lot prettier okay much better the solution so we'll have print line perfect perfect okay so now we're walking the whole input so i want to parse an int parse i32 like figure out what the number is figure out all the coordinates that exist for that number let subline equal line of x dot dot so we're going to we're effectively walking to figure out if the current position is still a an int no but we're going to accidentally do then is insert multiple digits so we print the subline if let su num equal subline dopar int into an i32 or be a u32 if let okay just going to print line wonderful so we got literally zero numbers out of this oh my god this sucks okay this is left x this is right x equal line. len all left x is less than this and while right x is left is greater than left x right x = 1 now it's left x = 1 so we'll do left x up to right x found digit found digit 617 perfect now we have to add rx plus equals subline dolen no left x rather it's left x we're creating this nasty function pretty much to find all the digits this one did not find it i i got to fix that logic here but we found 617 perfect found 467 oh i i have to reset it to zero rx equal z there we go or rx equals line. len minus one yeah that has to a set up here perfect let mute rx got it okay this will this will find all the digits we found all the digits i just realized i don't need to track the coordinates like a vector of the coordinates i just need to track the length of the digit so then if we're in here and we found a digit number equal will found. push number print line zero question mark y missing missing first of all missing a a quote perfect okay we're getting somewhere so we have parsed every number in the field we have a function that walks the list it parses or walks the the strings it finds all the numbers that are in the list so now we need to iterate over i find all the symbols we'll do four for yline in contents. lines. enumerate good and then we'll do for xc in line. chairs. numerate we'll say if is symbol print f found a symbol print line sorry guys that's my old my old crain r okay cool so we found this for every time we encounter a character we're going to look over every symbol in the number table it's so gross dude it's going to work but it's like it's disgusting at current x equal x plus dx - 1 good and let c c y = y + dy - 1 we're just going to say print line checking cxu y okay there we go so now for num in found. it mute so we need to walk over every vector and see if our current coordinates are within cu we have to check not only if we're on the same line as the number not y it's see y and then if num. x up to num dox plus num doline okay here we go guys oh but it finds it multiple times hm okay okay okay okay so we'll make a field this is so disgusting found true or found false rather and not numb out found great should find it one time 664 592 617 3547 okay great so then we have to do a sum i hope you guys heard my stomach i'm so hungry right now all right let mute sum i3 or u32 equal 0 sum plus equals num. n 2375 i think that's wrong 20 yeah so that's incorrect okay jesus christ symol this we did not find 633 okay so there's there's an issue with our algorithm we're not checking above ourselves it looks like did i forget to do the minus one on the on the y's oh interesting so if it's directly above or below us we're not finding that okay so let's check and see if we actually have the right number so let's figure out where like 633 lives so number 633 found false coordinate 92 so it's 0 1 2 0 1 2 3 4 5 6 oh where does 467 live three why am i getting the length of the number oh it's lx it's not w yep there we go i'm adding the lx at the beginning and not the end that was the issue 4361 4361 okay guys here's the deal this is where it gets hairy so we have the solution for the sample we're going to go download the actual the actual thing part one is over i mean we'll see dude oh i have to actually change the input file i'm like oh i got the same answer no dumbass dude this is so slow oh my god look at this i'm in a compiled language and it's taking a long  time time too many prints okay let's let's remove the prints and see try to run it on the baby monitor yeah okay that's much better dude for a second i thought my algorithm was that inefficient i was like holy my heart is racing right now dude yeah for for the record you guys are not getting brain you're going to give me a real programming language use the example and change the test yeah let's do that so let's do sample then sle at txt and yeah let's push this over one go like that boom oh interesting yeah you're right why is that not working okay let's debug that the question is is it in our number list is it even finding it no we're not oh we found 63 that's why yeah so it has to do with how we're slicing minus one no there we go okay that was a problem the dude the classic off by one error just cost me my life dude i that's on me that's on me i i failed to do proper testing okay so i'm i'm a little pissed off now oh my god let's get on the part two remember the negative one we were all here negative 1's in chat guys negative ones the engineer finds a missing part and installs it in the engine great great and the engine springs to life you jump in the closest gonda finally ready to ascend to the water source you don't seem to be going very fast though maybe something is still wrong fortunately the gondola has a phone labeled help so you pick it up and the engineer answers before you can explain the situation she suggests that you look out the window there stands the engineer holding a phone in one hand and waving excuse me waving the other you're going so slowly that you haven't even left the situation or the station you exit the gondola the a missing gear wasn't the only issue one of the gears in the engine is wrong a gear is any star symbol wait wait missing part was in the issue one of the gears in the engine is wrong a gear is any symbol that is adjacent to exactly two part numbers its gear ratio is the result of multiplying those two numbers together this time you need to find the gear ratio of every gear and add them up to the engineer okay so effectively it feels like find a symbol how many things do i find multiply them together so here the first in the top left it is part next to four is it exactly two part numbers yeah 467 and 35 so gear ratio is this second gear is in the lower right it's next to 755 598 yeah we're deciding the fate after i finish part two guys okay so yeah like luckily i did a decent job of cataloging all the numbers so now all we have to do is for every digit that we find found nums equal which is a vector of numbers equals vc new right and we're going to do is we're going to instead of this we're going to say num. found equals true found num num we're going to say found nums do push num. clone cannot borrow found nums as mut let mute found nums at the end of this per symbol if we have found this is so bad look at all this indentation dude holy if found ns. len equals 2 let say that we found a gear let first equal found nums do first hey let second equal found yeah let's do last perfect okay and we'll do let ratio equal first nom time second. nom unwrap okay here we go 467 835 467 835 okay guys i think this is i think we're good and i'm at no risk of brute forcing at this point because i've already failed so it's a big ass number and see if we get it let's go all right i've redeemed myself all right chat here's the deal what we're doing is we are replacing rust with a language of chat's choosing now let me be very clear it i am not putting brain on this wheel it is not happening so what i'm going to do is i'm going to make a poll in chat i've made a poll where we're choosing between elixir hasell o camel and lua dude if if if hll wins i'm i'm dear god okay all right hll it [music] is if hll gets on this list i am i'm going to be here for hours and i have to go to work i have like a so on the weekends like it's okay because i can sit here all day and stuff but like during the weekday i got up at 5:00 to do this i have to go to work at 8