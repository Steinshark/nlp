all right so i haven't read this i saw some i saw some like posts about this and i haven't read it so i have no idea what this is about but i saw i think i saw a theo video where it had like you know like z0 and then 104,000 so let's what happened here what the hell happened here netfi just sent me a $104,000 bill for my simple stattic side dude honestly if i had a $104,000 bill i would my pants so hard i guess my first question i'd have to ask is is there not some sort of like money limit you can put on here like i'm not going to likee to you this this terrifies me this is like the biggest terror of my life is not having the proper things in place and waking up the next day realizing you just bankrupted yourself like by accident so i received an email from netfi last week saying that i have $104,500 bill overdue at first thought i let's see at first i thought this was or is a joke oh my goodness flip take that part out i'm having a stroke flip flip call the ambulance and then zoom in and then zoom back out and take this part out okay at first i thought this is a joke or some scam email but after checking my dashboard it seems like i am truly owing them $104,000 that's 1990 terabytes bandwidth in 4 days the web was a mistake the web was a mistake that is so much data i really hope that at the end of this it's because like dude the the the the greatest oopsy daisy of all time oopsies i clicked i clicked thank you reddit i'm happy that when i click image it opens up a new tab that's i mean that's honestly that's what i want that's the experience i want is a new tab when i click the button i really hope that's this is because like i accidentally read one of his articles and then then everybody clicked on his page and he forgot to put st of caching then it exploded that'd be funny so i was like and then think okay maybe i got dos to tax since netlify charges $55 per 100 gabyt for the exceeding bandwidth the peak day february 16th has this many bandwidth charges that's a lot that i mean this is a lot of bandwidth this is a lot of bandwidth in one day i mean it's not impossible but why attack a simple static site like mine this site has been on netfi for four years and is always okay with free tier the monthly bandwidth never exceeded even 10 gigabytes and has only 200 daily visitors damn damn the obvious problem should have you should have used htm x i'm just going to say that right off the rip i think the problem is is they didn't use htm x oh netfi ceo responds to this okay well i'm going to look at that here in a let's let's let's not let's not shatter anybody's you know view of this i contacted their billing support and they responded they responded me that they looked into it and the bandwidth came from user agents meaning it is a dos attack then they say such cases happen and they usually charge their customers 20% on this oh that's still $220,000 oh oh my goodness oh my goodness since and since my amount is too large they offered to discount to 5% okay i mean that's that's still crazy for this person to get a $5,000 bill but okay i mean that's better than i mean it's better than 20% this feels more like a scam to me why do serverless platforms like netlify and forell not have dods protection or at least a spend limit well i mean the spend limmit seems natural are you sure isn't there a spend limit is there not a spend a spend limit on on these platforms i would assume there would be a spend limit n and it sucks really there's not versell yes see i thought there was one i minimally i thought there was one on versel so there is one on versell is what i'm hearing not on by default well that makes sense you wouldn't want it on by default spend limits is definitely something you'd want to opt into for sure versell just introduced it i think okay so they just introduced it okay okay okay they should have alerted me if the spending skyrocket i agree you should also have alert set up yourself right but i guess i mean would you would you really ever you have a blog post that's getting like 200 visitors a day you're not really think i mean why would someone dos you right like these are just things you wouldn't think of doing honestly if i if i wrote a blog post if you are just some random person and you write a blog would you ever think ah yeah i'm going to get dosed because of my important opinions maybe he posted about tailwind got some people real you know real their feathers you never know not in a million yeah most people would just never assume they get anything i'm in fact i'm even shocked getting 200 daily visitors like let's go that's great good job good job now now you should think about it this feels more like a scam to me why do serverless platforms like nfi and versell not have dos protection or at least a spend limit they should have alerted me if the spending skyrocketed i checked my inbox and spam folders and found nothing the only email is extra usage packet purchased for bandwidth it feels like they deliberately not support these features so they can cash grab in situations like this it's a bold it's bold claim dos attack was focused on a file on my site yes it's partially my fault to put a 3.44 megabyte size sound file on my site rather than using a third-party platform like soundcloud but still this doesn't invalidate the point of having protection against sound attacks or such attacks and limiting the spend skill issue are we reading skill issues right here is that what we're having right now it's a sound attack i've never heard of a sound attack this is the most sound attack i've ever heard of i haven't paid that 5k yet and i decided to post here to hear what others think first and yes i have migrated my site to cloud flare learned my lesson and will never use netlify or versel again wow okay okay i mean that it is one nice part about having a non i mean so this would be one tick i mean even though i'm sure this someone sent me the the ceo responding i'm sure everything you know ends up pretty nice here and that he gets all the things up for free but real talk like this is one of the many dangers of having an autoscaled platform is that you this can happen if you haven't set in the right safeguards right it's just part of it like if you had your if you just had a singular machine you know what i mean like again i'm surprised they even have a they even have server list to begin with with 200 visitors you know like can you even really like a lenoe free tier machine you could have hosted all of this and 10x your traffic and been just fine you could have 100x your traffic and never would have had a single problem right i'm always kind of i'm always kind of confused by some of these where where like you you it's you know that that scene in the one piece where mihawk pulls out the little the little sword and says he doesn't hunt you know rabbit with cannon that's kind of how i feel sometimes is that you get these like you get you get these like moments where someone just just brings out the cannon to go hunt a rabbit i don't know i guess if you're learning if you want to use serverless and learn about it then yeah maybe that's prime cannot get more more lit oh thank you thank you for that i appreciate that one piece mentioned everybody loves me you know what i mean these people who can't be ars to do $5 do droplets whine over the massive scalable server i mean it's it's just the d it's it's it's just a natural danger of having something that can autoscale for you whether you like it or not i'm not saying it's good or bad i'm just saying it's i mean it's in fact it's a reason you should use serverless if you don't know how to scale your stuff you don't want to pay for the someone to learn how to scale you don't want to go through all that process of scal in all your stuff you want to be able to be in multiple regions you want all the good stuff that they offer you just don't want to have to do it yourself therefore this seems like a very valid choice to make but at the end of the day it also comes at a potential cost which it sounds like a lot of times they do try to resolve these things amicably i mean even a 5% charge is still it's a lot of money but i mean that's that's nice of them to do that you know what i mean but why scale a static website exactly why do any of this if it's purely a static website why are you not just on a cdn why is aamai not your hosting platform or whatever just like what the heck happened there all right anyways update thank you for all the suggestions i have posted on hacker news here's the email response from their billing support all right this is very strange thank you for reaching out so that we can investigate the problem after looking into this it seems like you've got let's see you have a hit song on your site or man bu son jangl by teresa t i was not aware of her but she seems to be popular in taiwanese singer okay this song is is 99% of your oh my gosh this email is so good oh my goodness imagine getting hit with this damn you got hit with a a hit song you got hit with a hit song oh man after looking into this further it seems like a lot of the bandwidth us yeah okay this is this is just so funny it is just so dang funny that that's what it is look at that look at that that look at that normally we discount these kind of attacks i mean this is like definitely like your fault kind of problem here you should not have done this you should not have put on a popular taiwanese song just to get owned i me feels bad though feels bad update for those who are curious about the mp3 file is just an old cantony song i have removed it from the site but you can still view it from github history okay update i saw the ceo's reply on hacker news and their support also reached out to me to wave the bill but i'm still curious who orchestrated the attack and they said they are still researching the incident update their support hasn't come back to me with the ip information i've asked yet so i post on twitter and their ceo let's see oh wow okay so we have more information hold let's look at this one there we go on the front end platform versell netfly cloud flare pages who is ultimately responsible for a malicious dos attack this and this i voted the the customer because it's kind of interesting cuz like it's kind of interesting how you know it's an interesting question when a spike in traffic can be automatically and absolutely classified as malicious our platform is set up to block this if it's a new pattern we'll see we'll add it to the automated rules and wave the charges it's tricky when a tra when the traffic is in question oh my goodness in question is clearly or is not clearly malicious i mean that's the problem that's why i'm saying how do you wrong but okay okay but you saying the platform is but like it's this you have to rely on them being correct you know you should also have some guard set up in your in your stuff like if you're building a website you should have some i mean obviously this guy's building a blog i mean the problem is is that we have two different use cases right a spending limit would be yeah this would be ideal is that you have a spending limit a spending limit with some sort of alert right i mean i think the platform should add in some level of things that make it easy right if there's like an obvious bot farm that they already have ip tracked that goes around doing whatever to people then yeah that that would make that' make sense that's the whole intention of manage inf i would okay i i can be sold on that idea that since you you are literally selling managed infra infrastructure you should have more safeguards put into this fair the whole point in platforms like for sales to abstract the stuff away yeah that's okay that's a fair that's a fair critique the hard part is they obviously can't get 100% they cannot i mean it's impossible to get 100% in this case any automatic block could mean ruining a launch making a viral campaign go bad or disappointing fans on let's see of an emerging artist yeah see that's that that's i mean that's immediately my first thoughts was what happened if you just had a successful thing and now you get blocked for free users my philosophy has always been that we can never go back and fix it if we've ruined a moment of glory but we can always cancel an invoice or refund a charge our support team does their best to identify these situations in advance of a user ever being made aware in the specific case of the user posted about the large bill they received we've been clear that while this was an incredibly rare situation we should have done better a bill this large should never have left our system automatically and our support team should not have treated this as a business user okay fair fair we also should not have speculated that or we should also we also should not have speculated that this was a dos attack since in first case the traffic does not match organic traffic from a region with lots of old devices while we do currently have notifications in place that make a user aware that extra bandwidth is being consumed we do not currently have the ability for users to present limits why not i mean i feel like that would be i mean i can i i truly do understand the problem with limits right like here you go you disappointed me well the problem is is that i mean at some point it has to be the user as well the pro like here's my counterargument chat this how do you know you're not being dsed like really how do you know you're not being dosed as one of these platforms like you you can't just always do that if you rely on them fully to do it they could totally f you by accident like that's the problem right like you can't you can't just simply rely on the platform always to do it right i'm not saying it's the client's fault i'm just saying that have the platform be solely responsible for this is very very difficult you should be able to have stuff set up right you should be able to have get viral on the platform's dime well that's i mean that's the problem is that you should be able to have limit set up the fact that you can't just say like hey you're not allowed to exceed this much spending seems a little crazy especially if you're on a free tier right you're on the free tier which seems like you're obviously saying i don't want to spend any money yeah thor's chat has done this on accident yeah exactly like literally thor site has thor is a walking dos i mean even when i played a game i dos a website once and took it down it's not that i'm trying to it's just like it it doesn't take a lot to accidentally dos yeah the the hacker news hug of death it happens all the time so but how would you fix this as a user i mean that's probably people put cloud flare fronts in front of things they have ways to drop cues of old requests you can get like a you can you know you can find out the time in which the request was originally made and if it's longer than like 15 seconds ago 20 seconds ago 30 seconds ago you can you can also take it down it shouldn't take a tweet post social media i agree with this wholeheartedly by the way it sucks that this response had to come after you had a very popular hacker news post because for every one very popular hacker news post you know for a fact that there's a hundred people that got hit with like maybe a $500 fine maybe a $1,000 fine maybe something smaller where they felt powerless to do anything and it didn't really make a big splash like this you know because not everybody's going to get hit with a $104,000 bill in in four days right most people are getting very little yeah they support the the support should have escalated the bill without asking the free tier customer if they wanted to yes you can tell a lot about a person that's the problem with the platform is offis skating by default control for the user so the user has no straightforward way of manipulating this exactly so here's my question to you because i hear a lot of people saying they should have limits on this what should what should be the outcome if you hit a limit for a website don't serve new requests i mean see do do you see do you see how hard this do you see how hard this problem is can we at least can we at least agree that this is difficult like that's shut them down and make them pay i mean it's not trivial that's all i'm trying to say is that i'm just trying to say like when people say just put a rate limit in you have to ask yourself what is the what is the what is the outcome of it like how how do you do this i mean i personally think you just hit them all with a 418 right just return a 429 n 418 then that is a difficult question i'd rather just learn how to make my own server not to deal with it i mean the pro yeah again but again let's just okay let's let's go with i see a lot of people talking about like hit him with an email alert at 50% i actually think this is pretty nice k ken burns at least preh hit them letting them know that they're getting close maybe at a 25 50 75 90 95 right start doing that like i think those are all pretty good ideas to at least warn them but obviously in this case you would have you would have got the 25 the 50 the the 75 the 90 the 95 emails all within five minutes in this case yeah you could you could have a hard limit on free tiers just hard limit saying i will i want to always be free right calls i mean again that means again like you got to remember that this is a free tier so last time i heard this was years ago so i don't quote me on this as the exact thing this was like six years ago 5 years ago or whatever it was a call to customer support at netflix cost netflix like $5 or some something like that it cost multiple dollars for a call to happen so you got to remember that when you get hit with a call if it's with a person it cost real money right it costs real money to do something like that if it's with just some automated voice message well you better hope that your calls don't get hit with spam marking and all that kind of stuff you know do you think buzzwords are stopping people researching i don't i don't know what hold on what are you talking about what are you talking about free tier sends customers a $100,000 bill yes but a phone call is too expensive i think this i mean there's some i'm just we're just discussing like thoughts on how to do things we get that there's this one case that's extreme but there's also for every one case that there's extreme there's like 9,000 cases that aren't extreme that what do you do with it okay what do you do with the free tier that's getting a $100 bill right i'm just throwing it out there we're not talking obviously the $100,000 one is the big one but everyone saying let's put limits in so what do you do with the limits right i'm not talking about the $100,000 one that one obviously is a little bit different that is yeah someone has to take that let's see this is all wrong just give a choice i think they should give a a choice it's free tier it is a free tier it is a free tier but you're still using the service and at some point your free tier exceeds the limits it you got to remember that free tier is operationally within a bandwidth does that make sense it's within a bandwidth it's not this is not a machine okay you're not getting an a a free free leno tier $5 a month or whatever you're getting something different limits on by default yeah i mean so i wouldn't put limits on by default but i would i would probably have it so that it's a very obvious thing i wouldn't put it on by default because you could accidentally ruin somebody by accident cloud flare is unlimited yeah anyways these are interesting things i just think it's i think it's difficult than it's than it's their pro probably i mean it's should be there like minimally i'm totally on your i'm totally on everybody's team that you should have limits whether you have soft limits hard limits how you can limit it all that kind of stuff i think that makes sense right i think that that makes sense but anything beyond that it it i mean it's it's a hard problem you're saying for them to start serving capes like i mean that's like a whole another you know there's a lot to even just serving captas there's a lot to that it's non f freezy that's the whole point let's see am i insane or was that the whole point of serverless is that it's supposed to scale yes that's the whole point is it scales to demand that's the danger though that's the whole point of serverless is that serverless is a two-edged sword the one edge it's very fantastic and you can scale up automatically vers the other edge is that you get dosed and you get hit with the sword right it's a free tear if it's going to exceed the limit see i don't know if these things have really free free tier is an interesting word when it comes to a lot of these when it comes to a lot of these auto scaling free term free tier can often mean you're within a scale band you can exceed the scale band yeah i think hard limits and soft limits are probably the way to go i think a hard limit makes the most sense like as a free tier you can just simply say hey no right why do they even charge so much for egis at scale it's it's it's expensive things are expensive it costs them a lot of money right i think if yeah i i mean i would prefer just to have a hard turnoff it's their business model they literally make money by by sending stuff i mean their entire business model is to send things and to make money off of it thank you for this lovely thing oh i'm going to turn that off all right hey the name this is kind of interesting serverless serverless horse oh what is serverless horse is this just a list of all the things that have gone wrong yeah i mean server i mean again serverless can accidentally i mean serverless can accidentally cost a lot of money okay you just got to remember that if you don't it can really cost a lot of money but i mean obviously there's a lot of advantages too like imagine if you had to pay three imagine if you had to pay $50,000 a year for your servus but you also don't have to pay an engineer to do it right i mean that's the whole that's the that's the entire trade-off you're making right that's the entire accidentally but by design exactly it's accidentally but by design if you think serverless cost a lot of money you should try getting divorced a becoming maiden lless so what you're trying to say is what you're trying to say is that as far as maiden lless maiden lless is more than serverless as far as cost is what you're trying to say i could see that i could see that being really expensive yeah yeah that's that's a strong vibes yeah they take 50% it's 50% of that a jen