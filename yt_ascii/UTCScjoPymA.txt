today, i'd like to talk about the bagel problem. let's suppose that we are going to buy a dozen bagels, 12 bagels, and we go into the store and there are several kinds. there might be plain bagels and poppy bagels and sesame bagels and onion bagels and everything bagels, potato bagels. there might be even blueberry bagels. and the question is, how many ways for a given number of kinds of bagels, can we purchase a bag full of 12 bagels? let's say that i want to buy a dozen bagels and there are 4 kinds, plain, poppy, sesame and onion. i might buy 3 of each kind, and that would make a dozen. but it's possible that i really like poppy, so i might buy five poppy, and then i would buy fewer of the other kinds. there's every possible combination. for example, i could just buy all onion, and none of the others. i can buy eleven and one, i can buy, you know, eight and one and one and one and one, whatever works out to be 12. so i have total freedom, and if i'm picking and choosing, the order in which i choose things does not matter. it's not like i'm gonna, you know, which bagel am i going to choose first? doesn't matter. the only thing that matters is the total outcome at the end of the game. you have to buy 12 bagels, and you're not required to buy at least one of any of the kinds. you can really just buy, ignore one of the kinds, or ignore all but one of the kinds. so the store will not run out. they have deep bins. even if you're buying 4 dozen, or 10 dozen, they will keep supplying you with the bagels you need. how many different combinations of bagels can i get in a bag? okay, well, i think what we should really do is we should focus on numerical examples, and see what the point is, and then at the end, we'll have some formula. so think about a dozen bagels. some people might think a baker's dozen is thirteen. but let's say 12 bagels, and we might, to start, vary the numbers of kinds. like, suppose we go into a store that just sells traditional plain bagels. how many different ways can buy 12 bagels? the answer is just one way. we might go into a slightly more interesting store that has 2 kinds of bagels. plain bagels and chocolate bagels, and then how many ways can we buy the 12 bagels? so now the answer is more interesting. we can buy 0 plain bagels. we could buy 1 plain bagel. we could buy 2 plain bagels. we can go all the way up to 12 plain bagels. and then of course the other bagels, the bagels that are chocolate, will just fill in, so that all together we get 12. how many ways are there to buy the 12 bagels when there are 2 kinds? and the answer is given by this range of possibilities, and actually there are 13 choices. if i look at all the numbers from 0 to 12 inclusive, 13. when there are 2 kinds, namely, it's the number of bagels you're buying plus 1. that'll be the answer. now, let's say there are gonna be 3 kinds. blueberry, let's have bubblegum, brady: "a bubblegum bagel?" that's gonna be tough. the third bagel will be caramel. and then the number of blueberry bagels that we buy can be anything from 0 up to 12. and then the number of bagels left for the other 2 kinds will go from 12 down to 0. now, we already saw that if we're buying a dozen bagels and there are 2 kinds, the number of ways of doing that is 13. if i'm buying 11 bagels and there are 2 kinds, the number of ways of doing that is 12. and if i'm buying 0 bagels and there are 2 kinds, the number of ways of doing that is 1. and so the total number of ways of buying these 3 kinds of bagels, when you're buying a dozen bagels, will be the sum of all the numbers from 13 down to 1. and that number is the sum of the first 13 positive integers. and there's a formula. if i have the sum of the first n positive integers, that formula is given by n times n plus 1 over 2. so in particular, here, the n is equal to 13, so the number of ways of buying bagels when there are 3 kinds will be 13 times 14 divided by 2. if we were thinking about a general formula, we might think of that 13 as 12 plus 1, and the 14 as 12 plus 2. so it's a number like that. it's a fraction that involves a product of two numbers, and then you divide by 2. we could do this forever. so, for example, if there are 4 kinds, then we might say that we have maybe onion, and the onions would go from 0 up to 12. and then whenever we have a number of onions, we would therefore have a number remaining for the other 3 kinds. so, if we have 0 onions there will be 12 remaining for the other three kinds, and if we go all the way up to 12 onions, there will be 0 remaining. and we saw that if there are 12 bagels to be purchased, the number of ways of buying 3 kinds is 13 times 14 divided by 2. and if there are 11 bagels, there should be 12 times 13 divided by 2. and we keep going in this way. if we have 0 bagels, the number is gonna be 1, and at least in this formalism, well, i have to take 0 and add 1 to it, and 0 and add 2 to it, and divide by 2. so that's also gonna be 1. so i'll have a sum of numbers like this. you might think that there would be some way of evaluating that sum, but the answer is not obvious until you try to do some kind of analysis of a formula. and in fact what is really needed here is some other perspective, some other way of doing the problem. let's say we're doing four kinds. so the first kind that i wrote down was onion, the next kind might be blueberry, the next kind might be bubblegum and the final kind will be caramel. we have our 12 bagels, so i'm just writing 12 stars. so far these bagels are unassigned in terms of their flavor. so so far we have these twelve bagels, and i've just written them with asterisks, known in the trade as stars, and i have to decide which of these stars will be onion, which of the stars will be blueberry, which will be bubblegum and which will be caramel. and the way i will do that is to place dividers between the kinds. so let's say that i want to have only one caramel. so i will put a divider separating off the caramel from the rest of the bagels. and then there's bubblegum. that's a little sketchy. maybe i'll take two bubblegums, so i'll put a divider here, and then the bubblegum range from the first divider that i'm writing all the way to the right, to the second divider. let's say i really like blueberry and i'll take four of them. so i'll write the blueberry bagels here. and that leaves 1, 2, 3, 4, 5 bagels for the onion category. so, what have i done? well, i've written in a line a certain number of symbols. how many symbols? well, there were 12 symbols for the bagels to start, and then, in order to separate out the 4 kinds, i needed 3 dividers. that's a really key point, that the number of dividers is one less than number of kinds. and all together i've written 15 symbols, and these 15 symbols, 12 are stars, and the remaining symbols are called bars. so what i have are stars and bars. i have summarized my choice of kinds of bagels, onion, blueberry, bubblegum and caramel, by writing down the bars that are interspersed among the stars. and the key point to this whole analysis, is that i can put the stars and the bars in any order i want, and for each order, that gives me a choice of how my bag will be constituted. and in order to figure out where the bars go relative to the stars, what i have to do is i have to contemplate some tableau that is completely blank. it's devoid of symbols. where all together there are going to be 15 symbols, and every one of these slots is capable of housing a star or a bar. and the rule, when i make my final decision, is that of these 15 slots, 12 of them have to be stars and 3 of them have to be bars. brady: "so professor, when you fill out your stars and bars on this, basically if you have 0 of any flavor, it just means you'll have consecutive bars in that list." that's right. except, for example, suppose i want no onion, right - whatsoever, then i would start with a bar, and to the left of the bar, there is no onion, there's nothing. and then to the right of the bar, there will be 12 slots for bagels and 2 more slots for bars. so what we've done is we've related this bagel problem to another kind of problem. it's a problem where there are 15 slots total, 3 of the slots are bars, and 12 of the slots are stars. and we just have to decide which are which. so this is a standard combinatorial problem. there's a very simple formula involving factorials. so let's say that i want to analyze this problem i want to make the choice. so what i'll do is i'll say there are 15 slots to begin with, and i have to figure out where the bars go. so let's say i'm gonna place my first bar somewhere. there are 15 possibilities for that first bar. so i write the 15 -15 choices. once i have placed down the first bar, there will be 14 remaining choices for the second bar, so i'll multiply by 14. and then, there will be 13 choices for the third bar, and i seem to have this product as the number of ways of making my choices. however, that's not completely correct, because when i put down these bars, these bars all have equals status. it's not like there's a first bar, a second bar or a third bar, even though we do have an orientation, there's left to right. when i say i'm gonna put down my first bar, i could have put down this bar, this bar or this bar. and so i have to divide by a factor that shows you the number of ways of permuting around the 3 bars. and the number of ways of doing that is there are 3 bars, i get 3 choices to say which one was gonna be the first, and then two choices remaining, to see which will be the second. and then there's only one choice for the third bar. brady: "so that's removed the problem of ordering." that removes the problem of ordering. and so what we have here for 4 kinds is we have to go back to the previous situation, where we were looking at 1 kind and 2 kinds and 3 kinds, we have 13 which is 12 plus 1, we have 14 which is 12 plus 2, and we have 15 which is 12 plus 3, and then we divide by 1 times 2 times 3. so that's another way to summarize what we have here. and if you are familiar with the notation of combinations or binomial coefficients, this product divided by the denominator product is written 15 choose 3, and 15 choose 3 has a standard notation that identifies what it is. it's the product of all the, the first 15 positive integers, that's called 15 factorial, divided by the product of the first 3 positive integers, that's 3 factorial, and then divided by the factorial of 15 minus 3, that'll be 12 factorial. and in fact, you can see that this is another way of writing what i've already written. because if i take 15 factorial and divide by 12 factorial, i am taking the product of the first 15 integers and removing the product of the first 12 integers, and what's left are the integers from 13 to 15. 13 times 14 times 15. so 15 factorial divided by 12 factorial is the same product that we have in the numerator, and the 3 factorial is 3 times 2 times 1, which also appears. and what's interesting about this formula is that there's a symmetry. it's symmetric between the number of bars and the number of stars. and that makes perfect sense, because when i'm choosing the bagel kinds, i can say, well i'm gonna choose the places where the bars go down, where the dividers go down, but symmetrically, i can choose the places where the bagels go down, leaving 3 remaining slots for the bars. brady: "to generalize it, if you had had to buy 20 bagels and there were 6 flavors." okay, so if there are 20 bagels that means 20 stars, and if there are 6 flavors that means there are 5 bars, and the answer then, would be that i take the total number of slots, which will be 20 plus 5, and i choose symmetrically either the 20 slots that are stars, or the 5 slots that are bars. yeah, this is the famous berkeley campanile. yeah. [chimes that have been interrupting lesson continue] so let's say, in general, that we have n bagels and there are k kinds of bagels. well, k kinds corresponds to k minus 1 bars. and so the total number of symbols is going to be n, which is the number of bagels plus k minus 1, which is the number of dividers. and the number of ways of choosing the n bagels when there are k kinds is the number of ways of choosing k minus 1 things from a total of n plus k minus 1 slots. and symmetrically, that's the same as choosing n things from a situation where there are n plus k minus 1 slots. and let me just also write that in terms of factorials, if you like. this is n plus k minus 1 factorial divided by the product of two factorials, n factorial and k minus 1 factorial. brady: "what happens if we have more flavors than we need bagels? "like if you are only buying 5 bagels and there are 10 flavors?" it just means that there will be quite a few bars that are either at the end of the configuration or next to other bars. the same problem occurs in disguise if you ask students the following sort of question. suppose you have a bag of 12 identical lollipops. and there are 4 children, and you want to distribute these 12 lollipops to the 4 children. how many ways can you do that? the answer is that you should take these children, and you should give them temporary names. you should call one child onion, one child blueberry, the third child will be called bubblegum and the fourth child will become caramel. and so you have really exactly the same problem, and it has exactly the same answer. ...there's only one thing to switch to in this case, it's door number three. are you gonna stay with your choice or are you gonna make that leap to something different? and very often contestants would stand there agonized, right, so they've got some new information - stick or switch - stick or switch