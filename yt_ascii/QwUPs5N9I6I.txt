the inner json effect jake eagerly stepped into his new job grateful for more experience and new challenges craving to learn new software stacks and see what his new company had to teach him about the world of software who hasn't been there i still remember my first job my first real one and i got in there so excited computers unlimited sure it sounded like a computer a repair shop from the 70s but i believed it was going to be an amazing experience and when i got there it was the worst experience of my lifetime c sharp the training program took six weeks completed it in three then they gave me an assignment that nobody could fix for years someone just literally created a bitmap encoding and then it'd blow up all the memory no one ping not available right it was just crazy the whole thing was crazy anyways hated it hated it so much that i actually i hated that experience so much i actually quit computer science at my university and went and became a mechanical engineer for a while that's how much i hated it okay just want to let you know that right now they told him he'd be working on some websites dealing with javascript node jason and the like it sounded pretty reasonable for web development except for the non-technical interviews comments that it was all built on top of subversion which he assumed was a simple misunderstanding then he was thrust into the project using the company's a custom ajson-based domain specific language or jdsl oo i haven't read to this point and this is already exciting who doesn't want to demand first off domain specific languages i've had this i've had this talk in this chat before and last time i brought this up it involved someone getting banned because they called me an idiot but i'm just let i'm letting you know i get a little sensitive about this but the moment you do a domain specific language almost uniformly is it a bad decision i've seen exceptionally few domain-specific languages be useful at all and by the way the fact that we have j diesel here okay you got diesel okay this is a great this is a great name for something i just need to figure out some way to use this his boss told him to check out a copy of the project he'd been assigned to and spend a week or two getting familiar with it just ask anyone for help if you have questions but you shouldn't have any trouble judging from your experience ooh that sounds like trouble by your experience you should be completely fine in our completely bespoken made up environment go go get him tigress it's just like okay so jake began an svn checkout and long story short it took two days to complete what when he asked about it his co-worker scott god okay you know what also you know what i hate about you scott is that when you try to swipe the name on a t on a keyboard it always becomes about okay why can't you have a name that works when swiping okay i don't even get it stupid scott wait  god damn it i can't do that yeah scott anyways what he asked about it is co-worker scott told him oh that's normal just play solitaire or something until it finishes there's so many things wrong with that statement i mean you should be playing eldon ring okay if you got two days if i had two days i'd play eldon ring okay i would be playing solitaire i would rather program and gizmo than that anyways two days later he started poking around he started with a seemingly innocuous file called customers and stared at the confusion at its contents oh this looks so exciting oh my goodness this is so good you got a file that's called just on you have a class that's called a customers you have the person who created this one the purpose never filled in because documentation is the answer and then here are some places in which functions exist how much do you want to bet this is just just a spiderweb of amazingness okay here we go the project was full of such files along with some apparently incomplete code files such is called custom mayors.js all right here we go save the database okay okay customers.pro prototype dot update billinginfo nice capital letters clearly from c sharp clearly c sharp gang rise up can we get c sharp in the chat can we can i get a c sharp in the chat by the way zig's biggest problem right now is the fact that they mixed snake case with camel case i'm not gonna lie to you whoever did that should be ashamed of themselves i would rather type my functions looking like this and my variables then intermixing the two okay the the inter mixing of the two is a tragedy it's called chamericase it is a tragedy after a couple days of spelunking through the code base and not finding even a single code comment jake could make no sense of what he was saying i honestly don't even look for code comments honestly code comments have exclusively sent me wayward the only ones that are good are the ones at the top of the file that are some sort of like apology letter for what has happened within this file sorry i did this to you you know if you'll go look at this jira ticket it was required it's not what anyone wanted welcome to costco but it's what we needed and i forgot to turn off alerts thank you very much alerts off i have seen an apology comment absolutely i've seen many apology comments it's the only way to do it honestly it's the only way to do it because most programming sucks then there's those other kind of programming the one that is just like somebody had an idea and didn't stop having an idea and never went back they're just idea ejaculation for like the for like an hour and you're just like what happened to this code base i mean we've all been it feels good to have idea ejaculation okay i love it i'm a big fan okay it feels good makes me a little bit sleepy and you know i don't need to have another session like that for at least 24 hours so it's fantastic but it's not sustainable right you can't just you can't just keep doing that let's see oh you just don't get it he began j diesel was written by tom again tom can we all agree tom he's a super genius and wrote a judicial himself so basically that customer's jr json is just metadata used to put together the customer's class he waited for jake to get it why oh my goodness before anything happens wait a second this means that there oh my goodness does this mean that there's just literally one file that has every function in a giant array are we reading this correctly that's my guess oh this is so exciting this is the most exciting article i've ever heard in my lifetime i am so excited just hold on let's see what happens okay here we go he didn't so how do i run it he asked scott laughed you wouldn't want to just run it it takes a couple of days for new deployments to finish starting up jay diesel can be a little slow but it's really powerful really powerful like i said tom is a genius both scott and tom i don't like either scott nor tom okay jake still wasn't getting it so walk me through this metadata file what does it do scott laughed again this is the genius part see here where it says class uh-huh well that's the class name now see down here where it says function yeah those are the subversion links to all the functions that make up the class what i don't even know what that means what does that even mean i still don't understand jake responded inwardly he thought he started to understand but brady was wrong i mean i have a guess now i'm terrified so you have this customer's lost his own file which customers.js the json file is the metadata and the json file has all the code so the list of functions in the json file tells j diesel to look up those revisions of the js file to find what functions are available in this case the actual code is in revision and so on jake blinks slowly hoping he was just being hazed each revision of customers.js has just one function so to add functions all you have to do is check out your new code update the json metadata file with the new revisions like i totally i totally i totally understand i totally get that javascript sucks okay i get that i think we're all on team javascript sucks okay but somehow using portois as the way in which you interact and build your javascript subversion tortoise javascript class building with jismol has the descriptive language somehow is the actual worst thing like i have to sit there and think for a second like how did a person come up with this plan like first off step one you have to know how to construct a class in javascript step two you have to know how to use subversion step three you have to know how to use a just on step four you put them all together and somehow think this is easier than writing a class oh tom's a genius oh see here's the problem i just realized something i'm a tom's a genius i'm dumb he's smart therefore i just don't get it yet press one in the chat if tom's a genius i want to see some ones in the chat right now is tom a genius here is rust easier than javascript absolutely yeah tom's a genius okay that's what i thought lots of tom's a genius i knew it see i'm over here thinking this seems inconvenient but no i'm the stupid one tom's an jake confusion turned into incredulity do you like i say that word i believe that's the correct way to say that word and it's like one of my favorite words to say in the universe okay whenever something makes a function call on a customer object jay diesel uses a list of function revisions to check out all the actual function until it finds the match understand i i think so like i said tom's a genius this lets you track every function that has ever existed you can add new functions by overwriting the gizmo file and adding a new revision to the jason and you can remove a function by just removing the revision number from the function list and still there's history inactive but never lost tom stood let me know if you have any more questions he said as he left jake's desk armed with scots insight into the gizmal or the the j diesel jake slowly began to understand the system checking out multiple revisions of a file so he could piece together and see what was going on at runtime and soon he realized it was merely a web portal to allow customers to update their personal information but thanks to the complexity of jay diesel it took days to do coding work that should only take minutes he went through all the codes still familiarizing himself with it he started checking in code comments to help him and his co-workers map together the convoluted mess he even fixed a few obvious bugs he found just by reading the code he did this one class at a time and by the end of the week he had updated and checked in all the json menifiles to use the new function revisions monday morning he showed up to a virtual firestorm everyone was a panic something broke with jismal or j diesel in our customers database got scrambled scott quickly explained as he passed jake in the hallway you oh lightning just went off right as i said you as the voice boomed so did the lightning this is just just just so good and if you were here live on twitch you would hear the music the music the lightning the you you the voice boomed jake stopped and turned his turn to face a tall lanky pale blonde man who was obviously angry are you jake the new guy yes he answered carefully i'm tom you broke j diesel what now jake had only been looking at the customer portal how could he have caused any problems you broke jay diesel he screamed up reporting you to the bosses and having you fired and tom turned and stormed off leaving jake standing confused shortly afterward jakes was summoned to a small conference room tom an employee from hr and a couple of vice presidents already a problem if this is your org and you have vice presidents of an org that approved this both you and the vice presidents may god have mercy on the soul let him go into the ethereal waiting for him tom looked like he was stewing and could boil over at any minute tell us what you did to jay diesel one of the vps ask i don't think i did anything jake answered i've only been here two weeks trying to learn the j diesel and how the customer portal works i don't even know how to deploy it you made a few commits to subversion tom shouted passively yeah well i added a few code comments trying to you can't use comments and jay diesel tom shouted that's what broke it one has to think how did one get here what what happened right like how how how how how did the vice presidents hear that word and go dom's a genius who heard tom who did it who's getting fired who are tom othy jake stayed silence trying to process how code comments could have wiped out a customer database tom continued after a pause i haven't added comment support to jay diesel so the runtime executes comments like normal code you must have added the database updates and some comments oh hahaha [music] no no it can't be real it cannot be actually real that's not even possible yeah well i put a couple short syntax examples in a comment to clarify tom burst to his feet i knew it you broke it he turned to face the vp's i can't deal with coders who don't understand the system you'll either fire jake or i quit and he stormed out of the room the vbs turned to the hr representative and talked as if jake wasn't even in the room i think our course of action is pretty clear tom's a programming virtuoso and our best resource and jake did delete the database we have to fire jake and so jake moved on to greener pastors much greener pastors ones who wears production systems didn't do dozens of svn file checkouts for each function call at runtime [laughter] that still makes me so happy the fact that someone engineered a product that could do runtime calls via svn foreign [laughter] oh my goodness oh my goodness tom is a genius oh dude i i never know how to spell genius dude how do you spell genius generous i'm not even close i'm not a genius genius i'm not even close how do you spell this word why is that word impossible to spell it's an impossible word to spell okay yes is always in ious and then for this one word it's not only geniuses can spell genius okay it's latin well guess what show me aladdin okay i want to see one of these these people and i want to ask them why okay let these nuts you are so smart prime tom's a genius and tweet look at that it's beautiful one where a production systems don't automatically use the latest trunk i've been yeah i'm a big fan of the latest drunk and one that didn't come to a complete standstill because a newbie checked in a code comment this cannot be real i just i have to i i have to believe this is not real but at the exact same time after working at a place that had something i wouldn't say similar oh but something very very in fact at one point at netflix during the heyday okay i'm gonna tell you a little story about falcor and i'm going to tell you a little story about falcor are you ready to hear a little story about falcor when i was younger at the falco days i was convinced okay i was convinced of something stupid okay i was convinced of something really stupid i was convinced that code generation was the way okay it wasn't me i was skeptical a little skep little skeptic but i was convinced it was a real thing and someone told me that they wanted to have a dsl to describe falcore endpoints and guess what i did i created a dsl to javascript transpiler guess we had a tokenizer yes we had a parse tree and yes we had a semantic analyzer that analyzed the entire gosh darn sacks of that stupid stupid path evaluation and it was a nightmare it was a nightmare and here's the deals it didn't just generate oh gosh here's the deal if i remember this correctly not only did not only did i oh my goodness not only did i do all of that one of the requirements by the person who was the genius by the way is that it had to be all in line right it's gonna be the fastest ever so obviously the fastest way to do that is to only only use simple javascripts okay and guess what i did i used like a series of breaks and and label statements to jump around yeah i said that i said that correctly okay i said that correctly okay where's your god now where's your god now i said label statements and breaks this guy did it dykes road was right go to go to statements considered harmful all right the name is the primogen