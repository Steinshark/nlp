it's time for a maths puzzle! and this is a variation on one of my favorite types of logic puzzles. i actually came across this when i was in norway last month. i was over there to do some maths talks, i was at the university of oslo, where they gave me this fantastic t-shirt from their science festival, i'll show you the back at the end of the video. and i was also in trondheim, at the norwegian university of science and technology. there, instead of a t-shirt, they gave me a maths puzzle. the puzzle they gave me in trondheim is a classic prisoners in hats puzzle. in case you haven't seen these before, i'm gonna give you the standard prisoners in hats puzzle first, if you have seen it before, you can just click here, to skip straight to the new variation. okay! standard prisoners in hats puzzle, do have a go if you have not tried one of these before. what happens is some evil mastermind has captured n people, we'll start with 6, just to make our life easy. he has decided he wants to kill some, but not all of them. he wants to make it reasonably fair, so the night before the possible execution he drops by all of them, they're in the one cell together, and goes: "hey guys, just so you know, tomorrow i'm gonna walk you all outside... i'm gonna stand you in a line, all facing the same direction, possibly facing a wall. you can't see any of the people behind you, but you can see all of the people in front of you. then i'm going to put hats on you. each hat will be randomly either white or black. ...i don't know, i'll flip a coin or something to make sure, no one could possibly know if they were wearing a white or black hat. and if you're wearing a hat and you can't see what color it is, but you can see all the hats in front of you, but that's all you know. the people in front of you, have no idea what color your hat is, you have no idea what color the hats are behind you. and you can't deduce anything, because for all you know, there could be 6 white hats there could be 6 black hats, there could be any other combination of white and black hats. the execution will go as follows: i'm gonna start with the person at the back of the queue, they can see all of the hats in front of them, but they have no idea if their hat is white or black. i'm gonna say: what color is your hat? they are only allowed to say white or black, if they get it correct, they get to live and go, if they get it incorrect, they are shot on sight or they fall through a trapdoor or something suitably appropriate. so yeah, that's pretty much what's gonna happen to you all tomorrow. i'll leave you guys to have a chat overnight. you can come up with any kind of plan you want, anyway you can try and work together to save as many people as possible, but just so you know, i'm gonna put you in a randomized order tomorrow, so you don't know who's gonna be in front or who's gonna be at the back. good luck." so here you are, that's the puzzle. can you find a strategy that the 6 prisoners can agree on to save as many people as possible? you can actually save quite a few people. i'm not gonna give you the solution to that puzzle. i'd like you to have a think about it, but i am gonna give you one clue to get you going: it is definitely possible to save half of the people in this situation. they could simply agree, whoever is at the back, they have no idea if they have a black or white hat. so they look at the hat in front of them and they say that color, there's a 50/50 chance they will live or die, but the person in front of them can hear what they say and go: "oh there you go! i now know if i've got a white or black hat." they say the correct one. then the next person guesses, but they say the color of the person in front of them, and that way you can save every second person down the line, and the people who are in the positions who don't get saved, each have a 50/50 chance. so i guess on average you'll save 3 quarters of the people, but you're guaranteed to get at least half. if you really really wanna know the solution to that puzzle or want to check if you're correct, i have made a video explaining how it can be done but i have left it unlisted on youtube. you
could only see it if you go direct to the url for that video and here is the
code to find it, if you're prepared to type that out. you can go to the video
and you can see if you were right or not. here is the new variation that they gave me in trondheim. they said: "right you've got
a thousand prisoners in this jail. the evil mastermind or whoever they are comes along the night before and says: "by the way, have one thousand and one hats, that i'm gonna put on you tomorrow. they are numbered one to a thousand and one. you may have noticed that is one more hat then there are prisoners. i am going to completely randomly remove one of the hats, and then take the remaining one thousand of them. i'm gonna shuffle them up and i'm gonna randomly place them on all one thousand of you who are all facing forward and you can only see the numbers in front of you and not the ones behind." so effectively instead of having white and black hats like normal, this time you got a thousand people. they can't see the number on
their hat. they can't see any of the hats behind them, but they can somehow see and read all of the hats in front of them. as is tradition they have the
evening to come up with a strategy. they go out the next morning, they're put in a random ordering, the random hats are put on them, and then they're asked from the person at the back on the way down: "what number hat are you wearing?"
 if they get it correct, they get to live. if they get it incorrect... they don't
get to live. now you could just try and use the same strategy we had before
where every second person says the number of the hat directly in front of
them thereby saving that person. well this evil mastermind has seen it all before and says: "oh by the way guys, extra rule for those of you who've seen this sort of scenario before. you're not allowed to say a number which is already been said. so i'm gonna start at the back, i'm gonna say what number is on your hat, if you guess it correctly you live, if you guess it incorrectly you die. you
cannot say a number which is already been used." so that's the puzzle, and i quite
liked it because it was a new variation on quite a standard genre of puzzle. on top of that it led to some fantastic debates and almost arguments. i was given this puzzle at the trondheim maths jam. for those of you who haven't come across maths jams before, on the second last tuesday of the month people get together in pubs and bars and cafes all around the world and they do maths while drinking. it's great fun! i started in london many years ago and it spread all across the globe and the
great thing is, wherever i am, on holidays or for work, if i'm somewhere in the
world on the second last tuesday of the month, i can find some people to go and
hang out with and do some mathematics. if you wanna find your local maths jam, simply go to mathsjam.com, there you are. of course, if you're in america and you'd rather say "math jam", that's fine, i'm bilingual. i can go with math then just go to "math-jam.com". yes we're at the trondheim maths jam. we spend a long time arguing about this. we actually realized there's a bit of a fork in the solution, because i thought
i'd come up with a strategy, where you can definitely save everyone, but two people. or you're guaranteed to save everyone but two. and there's a chance you might
save those two but it's certainly not guaranteed. but then someone said: "but hang on, what if you don't know if people get the answer correct or not?" and so we decided as a bonus round can you solve the same puzzle, but when someone says a number behind you, so you hear the number they say, you then don't hear they were right or not. so that person is then taken away and either disposed of, or released. and in
that situation i'm pretty sure you can guarantee saving everyone, except for
three people. if anyone thinks they can do better than that please do let me
know. if you think you've got a solution as always put it in the comments
underneath. i wanna see a nice civil conversation, you generally serve me
proud, my fantastic youtube watching community. every so often someone insists
on going: "uhhh this is obvious." yes it's obvious if you know the solution and some of you will have seen these puzzles before. i wanna see you all playing fairly and i wanna see some nice educated edifying conversations. oh yeah, and the t-shirt. i promised to show you the back of the t-shirt. right, lemme just get this off. okay so you can see there's the logo from their science festival over there, and if i very
very carefully swing this around you can see there's some of the back and there is more of it. right, so look at all that cool mathematics. you got pascal's triangle. there's a feynman diagram. there's even some fermat going on. what a fantastic t-shirt. so do be sure to check all of that out and of course as well as the t-shirt, do check out mathsjam.com or math-jam.com!