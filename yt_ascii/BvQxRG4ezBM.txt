let's do this all right if you don't remember we read an article on bubble sort in pjs well the man is back graham is back and he did snake in pure html no js no css no images snake the game in html i know personally i have no idea how that's even possible so i would like to watch this they say that some people like chaos hi i'm graham i love chaos the dev and this time i am back with another silly internet experiment you can skip straight to the if you want i do want to play the game how do i get to the game wait how do i how do i drive let's see the keys you're going to use is alt key i can't use anything with alt key i literally cannot use alt man why did you have to make it with alt i wonder what he did to make alt what he do to make alt please zoom in give me that apple oh you can't press down if you're going up you can't press down that makes perfect sense i my bad my bad i haven't played that curse to the extreme well now that we know that this is cursed let's oh my goodness i can't press back oh i got to watch myself play no no no stop it please dev dev dude i please no no i don't no all right anyways let's go on i started so innocently can i write a snake game but as always the little devil on my shoulder make it harder and i thought no javascript do it in pure css i love how that's like stepping stone to making it in html but as always the little devil on my shoulder whisper make it harder so i thought oh pure css yet again he chirped still too easy and you have done too much css lately do it raw unstyled html i turned to my other shoulder to hear what the angel thought hoping for someone more sens ible then i remember that the angel is never there for me so here it is snake in pure html with a little php trickery to power it that's right okay okay no javascript no images no css no cookies however i want to be clear as i do not want to be accused of clickbait i am rendering this html using php although it is possible to do it in pure html files using just files with no backend language it would require that many files that's more files than there are atoms in the universe okay so please excuse the shortcut of using php to generate the next page and for those who who spend too much time on each tech twitter please excuse my use of dead language too php is great okay stop it anyways there was too much a preamble now i know you are here and you want to see it in action play the snake game it works in chrome on desktop pc and it's let's see it it's too fast to play on firefox and any other browser on ios for me you'll see later why in this article so basically played in chrome on desktop the keys are this crazy keys by the way on mac it's control option instead of alt i believe if you want to know why these weird keys and not wasd unfortunately alt d is already used in chrome on windows so i had to pick save keys one last warning one of the tricks we use to make it work will flood your browser history with a lot of urls you have to be warned i noticed that when i tried the back out of the game i was back and i was back i was backpedaling okay we are going full in backpedal we are downhill backpedaling the game sad this won't run in code pen you'll have to play it on my site when you have finished playing it pop back here and see what the tricks i've used okay we already did that problem one getting a game tick for a game you generally need to have a game tick each tick is when an action occurs or you compute a new game state and then render the new game state okay but that arises our first issue how can we possibly have a page automatically update without javascript well to do this in html it is actually quite simple just use meta htp equals refresh and set a low value so then we start start it out at. 35 seconds refresh time and then speed that up to 2 seconds refresh time as your score climbs respect there is some there's some hefty respect going on what meta refresh allows us to do is instruct the browser that once it land once it has loaded the html for the page wait for x seconds and then load another url by setting a low refresh time and then changing the url we redirect to two in each refresh more on that in a second we have a way of having the page change all on its own even if you don't have to press any buttons here's a quick example of what the refresh looks like refresh content time url url to direct to this is clever we're we're feeling pretty clever i see where this is gone side note this is where i mentioned earlier that it doesn't work on other browsers they do not accept partial second refresh time so the refresh is instant making the game too fast to play but meta refresh alone isn't enough to make the game work we'll need some way of saving the game state and communicating changes in the snake direction to the server for that we'll use another straightforward trick url encoded get parameters okay okay problem two managing game state because we cannot use post requests or anything like that we need another mechanism for managing game state between the browser and the server urls at first i was managing the state with get at parameters so the url looked like this okay this worked fine right up until the point i needed to store multiple points for the snake xy coordinates for each square it occupied when i did get it working with some trick with some hacky xy coordinates list and parsing the snake 1121 with the snake being at 1 one and x2 or x2 y1 was a was or that was messy holy cow can't read stroke stroke it stroke well i did get it working with some hacky xy coordinates list and parsing we had 1 one and 21 with the snake being at 1 one and 21 that was messy agreed so instead we turn our good friend url in code and you and jason in code used together i can take an array or in this case multi-dimensional ray convert it to json and then convert it to a valid character for a url let me explain all right all right all right all right we're i was stroking i was stroking hard just then storing some complex data in the url here's a sample data that i use for the game state okay by the way this is called an associative array for people not used to the php this is how php defines effectively like a pojo and object okay it may be a little bit hard for you to understand i understand it's a little strange to store that data in the url we need the following okay fair but json encoding our array and then replacing invalid characters with url friendly ones that gives our state our state in a url friendly although not human readable way yeah classic now that we have the mechanism to pass the game state down to the browser and back up to the server okay okay max url links this is a real problem i think it's 2,000 characters yeah 2000 those of you there was a bug at netflix due to this 10 years ago there was a bug that that was encountered on the team that had that had a character problem i think some coding guy was the one that figured it out if i'm not mistaken the guy who used to live code on on twitch i think he he's officially graduated those of you that don't that know your stuff and know that no a gotcha here there is a maximum url length in chrome it is 283 characters if you play the game long enough you'll actually hit that character limit i wonder why it's 2083 i have no idea why why 83 why not 48 at least it's like two to the 11 what is 2 to the 11 plus more what is that like what is that who does that if you play the game it's a strange number if you play the game long enough you will actually hit that character limit and store the x let's see as it stores the xy position pairs we use over 10 characters each time but this is a silly demo so i'll say let me know what eror happens if you make the snake long enough oh and in the real world you shouldn't use json and code parameters in the url let's leave it at that fair we have a game state and a game tick st what that is it well almost we need to communicate key presses to the server okay so this is the thing that i did not know how he did the refresh i did not know about but the moment he said you can refresh with the url and all that that was pretty straightforward the the game state that was completely predictable but this one i do not know how this works changing the snake direction this was the final problem and why we ended up with the games state in the url we need to communicate a key press to the server to change the snake direction problem 3a button presses before we can communicate key presses to the server we need some way to actually capture them remember we have no js to capture key presses we also can't use button elements as those require js to work do they could you do form buttons could you do form buttons and encode the next state in the form buttons yeah because the problem is is that the moment you press you'd actually get like a tick tick tick tick right it'd be a little bit off so you could use like a form and a button and encode the state as a get and then php yeah and then php it right okay but you also can't use button elements as they as those required js to work so all we have left is a humble anchor tag but getting some someone to click on anchors would make the game hard to play as i did cuz i can't use alt luckily there's something called access key s built into html they allow us to assign a character to an anchor and then these can be accessed via shortcut alt plus the character in chrome on windows what i did not know this i did not know this important this gave us our mechanism for allowing keyboard controls we just need four links anchors with different directions as the urls then assign them to the access key to each of them ah access s should be used sparingly if you pick keys that are used by assist of technologies users users then it may interfere okay yeah that that makes sense problem 3b direction now that we have a way to press keys and a way to communicate that key press to the server we need a way to manage presses so that they update the snake direction luckily we already have direction property in our state object we pass via url so encode it into each state yep there you go okay i'm okay awesome awesome i wasn't far off with the form and the button then we add those links okay that's cool that's cool that is cool now if you press all k for example the fourth link is clicked and we send the current state plus new direction to the server now all that is left is to take the information and compute the next game state fair this is fair finally the last part of the puzzle is a bit of game logic for example when generating the food position we need to check it isn't on the tile the snake already occupies so we have this function g game programming four element was a good guess but with but without js no hooks yeah yeah that the hard part is the the typing a real man would have done it with done the without php true should have been go and then another function to move the snake i like it i like it and then you have a whole bunch of stuff to like put everything everywhere and update all the positions and generate the food and blah blah blah blah and there you go state okay why not visual basic that's actually a fact i'm kind of stupid then a loop to build the game board beautiful beautiful my goodness but i'm not going to cover in any detail though let's see as those things that you can easily look up and find a much cleaner ways to do so find better code other people have written and adapt our needs by the way this is a really good point for people that write blog posts notice he gave us just enough code to understand what's happening but didn't give us all the details this was fantastic like i could tell from here exactly what's going on he's not even using span elements he's not using anything he's just text writing out stuff and then he echoes a new line he must wrap it in a pre- tag or something is my guess yeah a pre-t take all right yeah yeah yeah yeah see there you go pre-t okay so he puts it in a pre-t take it's really smart like this is super super smart and this is fantastic i absolutely like this i absolutely pre-tagged yeah pre-tagged pre-read pre-aged super cool super cool good job on this one oh i like it okay what's what's your ending what's your ending that's a wrap so there you have it we built the game using meta refresh access keys and a hack to encode complex data in a url will these things be useful in your day-to-day no probably not will they perhaps save your ass in a weird edge case go got to get this finished can afford to use a hack to ship to production situation possibly it's a good reason to know why things are available it doesn't mean you should build them i'm jaded on this i don't i don't this of course you would never want to i don't like this of course you wouldn't i what do you mean you're j okay defol hit hit me def us all this is your first time on the big board def us all hit me why don't you like it hey bobby bm how you doing incoming it's stinky no i think i think def all usually has some good takes here oh no uh i feel like it over engineered well that's the point what defy us all that's the entire point is can you do it not our scientists were too busy asking what we could do as opposed why should we do it or whatever the jeff gold bloom talk was that's the point too busy asking how and not why okay that's the fun part this the man just hey let the man create jurassic park okay let him create jurassic park sure a few people people will be killed and newman from seinfeld will be eaten by that one guy you know that guy but that's it you know who i'm talking about you know who i'm talking about what what's his name i use jeff gold blo on my on all my spam emails that's pretty that's pretty fair that's pretty fair by the way that movie is so good it is a good one what you weren't expecting a useful tutorial from me were you you should know better by now but with that being said if you did enjoy this article or some other miracle you learned something new drop me a comment below it really means a lot well i'm not logged in but i if i could if i could like you i would like you instead i'll i'll read you and i'll put you on youtube and put your link everywhere this was fantastic clever girl clever girl the name it's clever girlin and don't put too much state in the urls did you know that the first time i rolled my own off back in 2009 i used i used i used a hash generated on the server with assault of a json object and so i did hash jsonobject base64 url encoded it which was a php thing you had to do a couple replaces and then use that as your cookies in the url and so that way our app could load in facebook apps because if you don't remember facebook used to have an app store and so to make it work inside of an app and for you to be logged in i would actually log you in through the url and all that yeah pretty clever great hack thank you i thought i thought it was pretty clever too boomer talk yeah this is boomer talk okay it's called rolling your own o and being amazing at it and i did that so guess what the name sometimes sometimes a man has to roll his own oin okay okay okay sometimes you find yourself out there needing to roll your own o and sometimes that's what you got to do okay buddy a jen