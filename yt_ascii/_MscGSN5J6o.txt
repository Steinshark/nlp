i know you like nothing more than a number with a name, so we're going to do witness numbers. they can provide witness for your good character - or more specifically they provide a witness for if a number is prime or not. and there's nothing we enjoy more in mathematics than working out if a number is prime or not.
- (brady: i'm) (curious to know whether 747 is prime.) ooh that's lovely. if you add the digits together it's'; 
so spoiler it's not prime. it's gonna be a multiple of 9. but let's say we don't know that, is 747 prime? well here's what we're going to do, we're going to call up a witness to testify on behalf of 747 to say whether or not it's prime. and you can you can choose your witness, it's any number smaller than 747. so from now on this is like our n, this is the number we're interested in. what witness would you like to call to represent your number?
- (i'd like to) (call the number 23.)
- 23, nice. so a is going to be our witness 23. i'm using the standard letters in case people want to research this afterwards. you've called witness 23. so first of all we've got to prepare your n for trial; we want to rearrange it to be powers of 2. so some- i don't know what number we're going to have up here, there's gonna be some number m which will be how many 2s there are and then that's multiplied by some other number and then because - okay we're assuming this is odd, this actually this works for odd n greater than 2. and if it's not an odd n greater than 2 it's pretty obvious if it's prime or not, so we don't worry about that. so this is definitely going to be odd and that's going to give us something even because we're multiplying by a whole bunch of 2s plus 1. so this is the form we want to put our number in just to get it ready. it's like putting on a suit and a tie when you go to court. so actually let's get a calculator, i'm trying to minimise the mistakes this time. 
- (minimise the mistakes?) not eradicate, just- you know i'm trying to cut back. okay so we got 
seven hundred and forty- we're gonna take one off so it's gonna be 6. and i'm just gonna see if i can divide it by 2; i can - 2 goes into it once. is that it? that's it. okay right cool, that'll be easy. so that's going to be 2 to the power of 1 times 373. so now our m is 1 and d the leftover chunk is 373. so what you're doing is you're going, let's pretend it's a power of 2 but then we've got to multiply it by something and add 1 to- because it's not actually a power of 2 but this is this- if it was that's you know what it would be. okay so now we're going to ask, right a: is a to the power of whatever this d; is does that equal 1 mod n, that's our question, very simple question. and it's either going to say yes or no and so let's find out shall we? so we've got to do- we're going to do 23 to the power of 300 - terrible choice brady-
- (brady: sorry...) i hate to be retrospectively 
critical of your choice, oh my goodness. now computationally it's not that bad because of this mod. so if i said what's 23 to the power of 373? it would be a nightmare because that's going to be like an outrageously big number. but because we can mod it by n each time we're never going to have a number at any point that's bigger than 747. so each time we multiply 23 by 23 by 23 by 23 we just keep modding by 747. i'm going to cheat and ask wolfram alpha. 747- kay i've wolfram alpha'd that and we did- we did 23 to the power of 373 mod 747 and it was 131. now this is not 1. it's got some 1s in it but that's not what we're after. in this case the first witness has come up and said nah not prime. and if a single witness says not prime, not prime. that's it, the number is kicked out of the court or whatever this the prime test place, they are turfed out they are not a prime number the moment of witness says no.
- (so this is foolproof matt? if we) (get 1) (we can take it to the bank?) 
- no. so this is how it works: if a witness says not prime you can totally believe them. no witness is ever going to lie and say it's not prime and it actually is. however, some witnesses will lie and say it's prime when it's not. so you'll never get a false negative you will occasionally get a false positive. so not all witnesses are reliable when they say yes - and they're literally called liars, they're called strong liars because they give an absolutely definitely 100 that number's prime, you have to believe me, and they're lying. (a non-1 we can trust? you fail.)
- yep yep (but a 1 isn't an absolute guarantee?)
- no not an absolute guarantee. i'll tell you what, let me do another one and i'll show you i'll show you a liar in action. so same style as before but this time our number again is not a prime. so we're going to do n equals 91, not a prime number. we're going to call a witness, we're going to call the number 10. maybe, all right, 10 get in here, we want to hear all about 91. well first of all we've got to get them all dressed up for court and so that's going to be our plus 1 at the end, that's going to leave us with 90. so we're going to have 2 to the 1 times 45. so our d value is 45. okay so we get a and we're like, rightio a, 10 to the power of 45 which is going to be very big number - what does that equal if we're going mod 91? so having a good old-fashioned think - given us 90. now first of all you're thinking, hang on, failed the test. however interestingly, 90 is negative 1 mod 91 because it's one below. and so actually we will accept positive or negative 1. 
- (all right so) (that that should be a
pass actually then?) yeah so it's passed, so 10s like nah checks out, love it, put it in the mix. and you're like okay do we trust 10? let's say we picked a number below 91 at random and the number says yep it's prime and you're like, well i don't know how much i trust it, should we check another one? well i happen to know below 91 there are 19 numbers, so there's 90 possible witnesses we could call of those' of them are liars. so there's an' out of 90 chance that when we picked a number at 
random - i happened to know 10 was a liar - it's going to be a liar. and so now you're like, well hang on how does this help? and so sadly at the moment what we have is a probabilistic primality test. so it'll- it it's an absolute composite number test, if it says it's composite it is, if it says it's prime you're like, i don't know. now if every number- you're like forget it bring all 90 possible witnesses in here; if all 90 of them are like nah it's definitely prime then it's definitely prime. 
- (so you can't have all liars?) can't have all liars. so' is just below a quarter of 90, this is one of the worst cases, but for any number maximum a quarter of the possible witnesses will be liars. and so now you can just keep calling up witnesses at random - and it has to be at random - that are smaller than the number you're testing and each time you test it, worst case there's a one in four chance. and so what you can say is if you do k tests, and you're picking properly at random, if they all say it's prime for k times then there's a one over four to the k chance it's not actually prime - worst case. this is- now now we're talking about probabilities of probabilities because it's it's below this, that's like your worst case. so it's that or better. so what you do is you're like, well, you know what if i want to be 99.9% sure you just do enough tests to get you past that limit. and so because computationally doing multiplications and mods, computers are very happy with that. oh and the one extra thing you can do is a witness can request that as well as just having this d at the front it can have any extra multiples of 2 at the front but not as many as the original breakdown. so here we had a 2, here we had one 2; if this had been something like 2 cubed or 2 to the four then you could put in a bunch of 2s here and if any of them give you a 1 or a negative 1 then that's a yes. so you've got to check a few things, all of them are very fast for computers to do, and so when you go to one of these websites - is this number prime? and it's like pretty sure it's prime, what it's doing is it's doing a test like this, often this exact test, and it's using that to just be able to say with some level of confidence yeah we're pretty sure that's prime.
- (in the case of 91) (10 is a liar? along with 17)
- 10s a liar. (other numbers you said?)
- correct. (is there a number that is notorious for) (being a liar more often than other) (numbers?)
- you know, you are so close. the opposite - there are star witnesses. there are some witnesses where if you if you're going to pick anyone the this is the a-team of witnesses you want to call upon. in fact they're so good that you don't even have to call any non-star witnesses. so i said you could just check all the numbers; in fact for any number below a trillion there's a squad of four witnesses, and if you ask all four of them and they all sign off on it, you're guaranteed. let's meet them - here we go. (well my word yes!) (these are celebrities!) these are- there are-
okay let's get some more paper. i should also say that this is called the miller-rabbin test. and you can do the probabilistic version or you call up your star witnesses and then you know. so if your only witnesses are 2 and 3, if they cosign, and say, nah great number, definitely a prime, that will work for any number up to 1,373,653. any number below that, if you just asked 2 and 3, you're good. now that that is a speedy primality test. interestingly you'll have no idea what the prime factors are of this number; and i'm fascinated by prime tests where you don't divide, and you don't even know what the factors are, you just know they exist - i find that so interesting.
- (but at) (that point for that number there) (one of those two will lie?)
- yeah one of them cracks. i don't know what this number did to one of these but there's been some witness tampering going on and they've now got- they're now they're now upset. so what you do is you bring in another witness, you're like okay from now on we're doing 2, we're doing 3, and we're doing 5. very primey, get to that in a moment. now 5, not only does 5 sort out this one, 5 gets you all the way up to 25 million. specifically 
25 million 326 thousand and 1. so it'll break on this number. so it works all the way up to a thousand flat. and so by bringing 
in one extra star- we've only got three star witnesses, you're doing all right. that said we could have in here; like let's say we're so disappointed that that these witnesses let us down, these folks were unreliable for this number, we're like get out of here. you know what, we're going to replace you with a equals 31 or 73. i mean bigger chunkier numbers, but if you just use these two as witnesses that works all the way up to 9 million 80 thousand 191. better star witnesses; if you've only got space for two then i would recommend bringing in 31 and 73. they make a bit more mess, they're not as well behaved as 2 and 3 but they will get you you know over eight times as far.
- (they're hostile witnesses) (but they're honest.)
- exactly yeah yeah, they get they get it done. people may not approve of their methods, get the job done. and then before i said the the squad of four. so this is- if you bring in and like this is like for a really important case, you're like you know what we cannot mess around. and these these folks were only discovered in 1993. 
- (these are expert witnesses?) these are expert, they're like this is the a-team. 2, classic 2. forget 3 though, you want to bring in 13, you want to bring in 23, and then the team captain: 1,662,803. they're a real maverick. so not good to work with, they've been many times 
they've had to hand in their badge, all that, but they will crack the hardest of holdouts. so these guys will get you oh- these are the guys who get you over a quadrillion.
- (so this is) (like a good cop, bad cop?)
- oh yeah! this is good yeah good cop, bad cop; gets results. these get you all the way up to - oh my goodness - one quadrillion, 122 trillion, four million six hundred and sixty nine thousand, six hundred and thirty three. so good reach,
they don't mess around. (all right matt, you've shown me the star) (witnesses but you still haven't told me) (who are the liars!)
- you know, i don't know! i- it had not occurred to me to look up who were the least reliable. and so- i mean you could do it, you just have to- if someone wants to write some code and put the answer in the comments below, i think it'd be very interesting. you just have to go through every single number, find out how many strong liars it's got when you put it through the miller-rabbin test. score each number for how often it shows up as a liar; and then we'll know who the most dishonest numbers are. these are the honest numbers. oh by the way if you wanted- if this proves to be too much you can actually replace them with two friendlier numbers, you can switch to 2, 3, 5, 7, 11. i mean you just- you're
back to the primes. so actually runs of primes are really good; they get you all the way up to 2 trillion, 152 billion, 302 million, 898 thousand- oh 747. that's put a little bow on this video hasn't it? yeah so it depends if you would rather have fewer but unruly witnesses; or you prepared- you've got like a fifth chair and you bring you you can bring in 7 and 11 to to do the lifting so. 
- (oh what you need to do is you) (need to find out what the 12 best are) (and call them the 12-)
- 12 good numbers! "you can't handle the truth."
- (12 angry numbers? i bet there is a 12 - hang on. so if you want, i'll put them in red for being angry. so here's your- they don't take any malarkey from anyone. you're bringing in 2, you're bringing in 3, 5, oh this is just 
the primes 7, 11, 13, 17, 19, 23, 29, 31, and 37. just off the top of my head, that will get you up to 308 sextillion i assume? 665 quintillion, 857 quadrillion - i'm just gonna write the numbers out. or approximately 10 to the 23, that's the kind of order of magnitude you're looking at. 
- (you'd have to use all twelve?) you've got to use- they they all have to be- you can't have a hung jury, it's you've got to have completely unanimous. they've all got to be like yep and in unison as a team if they all say yes, they're right. whether it's prime numbers, composite numbers or almost anything else; why not sharpen your skills with the amazing array of courses on brilliant, today's episode sponsor. for a deeper understanding of how things work, you just can't beat interactivity; and that is brilliant's stock and trade as you can see. i can't really decide if this is recreation or education - i guess it's both. i recommend you check out brilliant, and if you're already signed up why not consider giving brilliant as a gift to someone else? that inquisitive nephew maybe or how about that auntie who's always been a lifelong learner. there's plenty of free stuff on the site, but brilliant are offering a 20% discount on their all-inclusive premium package by using the url brilliant.org/numberphile it's there on the screen and in the description. give them a look, brilliant, they're great people and they're making amazing stuff.