so it's called the josephus problem. it's based on something from history. there was a group of jewish soldiers who were surrounded by the roman army and they didn't want to get captured, so they decided to come up with a system- -  to avoid getting captured or suicide. so they'd sit in a circle, and the first man would kill the guy to the left of him the next remaining living person would kill the next remaining living person with their sword. and they'd go around like this, till there's only one person left, and the last person would have to commit suicide of course, rather than get captured. and the story - at least the story i was told, i'm not sure if this is historically accurate - was that josephus preferred captured to suicide, but he worried that if he said this, the other soldiers would turn on him. and so he wanted to figure out: where should he sit within the circle- - in order to be the last man living. and then he would surrender, rather than kill himself. that was the problem it's a little tricky, so let's do a smaller example. let's say there are seven people. and so just to be clear, the way it works is:
person number one kills number two. person number three kills four, five kills six, but now things gets a little of harder to kind of see in advance because seven, there is no eight, so seven kills one, three kills five, seven kills three. so seven's the winner; seven is the last one left over. for josephus, there were 41 people.
he needed to figure out where to sit. the mathematical problem is if there were n people. where's the winning seat? when i learned this problem i was in high school, and it was one of the first problems that got me to understand how you approach- - difficult and- and... math problems where you don't know the answer in advance, or someone hasn't shown it to you in advance. and it was a professor of mine his name was phil hanlon who played a big role in, kind of, leading me to math. and he suggested: what we should do is we should gather data. just... take various values of n and just do it by hand and start looking for a pattern. i don't know, maybe we should just do that? n is the number of seats,
and w of n will be the winning seat. and what we know so far is that:
n is seven, w of n it turns out is also seven. and so what i would do is i'd start doing some other values so, i don't know, why don't i do five? one kills two, three kills four, five kills one, three kills five. the winner is three. i guess there was no reason for me to skip six,
so why don't we fill in six. one kills two, three kills four, five kills six... ... one kills three and five kills one. the winner is five. so if you're watching you might already start to notice some patterns. for instance, they're always odd.
i mean, that's maybe the first thing you notice and you can start asking "why are they always odd?"
and maybe you can already see that- - in the first loop around, all the even people get killed. so so you can - even with a tiny amount of experiment - start to see some patterns. - *brady* so you don't want to sit in an even seat?
- don't sit in an even seat, no no no. and maybe we're even getting some glimmers of other patterns but before i really try to phrase those,
i'd like to fill in the table a little bit more. so let's do some. so if there's only one person... well... that person's the winner, so that one was easy. if there's two people: one kills two. one is the winner if there's three people: one kills two, three kills one. three is the winner if there's four people: one kills two, three kills four, one kills three. if there's eight people: one kills two, three kills four, five kills six, seven kills eight, one kills three, five kills seven, one kills five. the winner is one. alright so it was one, one, three, one, three, five, seven. one, three, five, seven, nine. and you could keep going,
but maybe you can see the pattern now? - *brady* is thirteen a one?
- no! good guess actually! but it is not a one. so let's do thirteen. *brady* this is good, i don't know then, i can't see the pattern. so as you see it's jumping by two each time,
but then it resets at some point and and i want to go back to this, so we'll see what thirteen is quickly so we didn't reset that,
and i claim we won't reset it the next one either. fourteen will be thirteen and here, by the way, we're be starting to make predictions. it's worth noting we've- even though we maybe can't say
exactly what like 178 would be- - we're starting to see well enough so we can make a prediction. so... so you could guess. is it really true that fourteen is going to give you thirteen? we could do it out, and you'll see in fact that's what you'll get so we're getting some understanding... but i want to go back to this point you had, you asked if it's going to reset and go back to one there and the answer was no, and it's worth looking. because this is the next thing i was going to do. where do we get the ones? so if you look for a sec, there's something very special about the numbers that give you ones. it's the powers of two. and so maybe you can now guess that if i put in a sixteen, i would get a one back. and that'll be right, and that's actually going to be a real key in unlocking this. the professor i was learning this from made a really big point out of this. and i thought, you know, well i don't know what the general answer is yet! and he made a big point: if you know something... prove it, and make sure you really understand that one thing, and that often unlocks the rest. so so he really pushed us when i was first doing this, to try to state a conjecture and then prove a theorem- based on what we just saw here. and so that's what i want to do, so here's the conjecture: if n is a pure power of two, then the winning seat is one. i want to think about this for a second and maybe see why this might be true. so let's do the next biggest power of two,
maybe the biggest one i can bother writing down. so let's do sixteen so i want to do one pass through the circle. - *brady* take out all the evens.
- take out all the evens. and now, fifteen has just killed sixteen. so i'll put a little dot here so we'll remember it's number one's turn again. and it's number one's turn again, and we've removed all the evens. and what's left is therefore exactly half as many. so if i relabel at this point you can see that there's a power of two to start with. i pass through the circle once, i get rid of all the evens, i have half as many. and i'm back at number one's turn. so now if i do this again,
the same thing ought to happen. right? i should kill all the evens on the new labeling and now there are four people left, and it's still number one's turn so you go through again... kill those guys, there's two people left,
it's still number one's turn- - and that one kills that, and it's still number one's turn and that chair wins. so let's say we believe that.
we know what happens to two to the n. so how do we explain what happens between the pure powers of two? if you see the pattern, you know- we know what happens at eight, and we know what happens at four... ... but between them it goes up by twos until at this point, if i added two to seven, i'd have a nine which would be too big anyway, so that's our reset but we knew it was going to reset because it's a pure power of two. so how do we explain this jumping by two phenomena inbetween? so what i'm going to do- i'm gonna just mention that: for any number- - you can write it as
a big power of two plus something else take the biggest power of two you can subtract from a number- and then what's left should be smaller than that. when you express a number in binary notation- - ou choose zeroes or ones, and that gives it out as a sum of a bunch of powers of two... ... and you just choose the biggest one. so 77. the biggest power of two i can get is 64. and then, what is it, it's 64 + 13. so then for 13, the biggest power of two is
8 + 4 + 1. did i do this right? 72... 77, there you go. and these are all powers of two! and this is unique. this is the unique way to write 77 as a sum of powers of two. where no powers repeated, that's a key point. so if you wanted to take a general number, take the biggest power of two - 64 - and then the remaining part. *mumble* twelve... thirteen. i'm going to call this part two to the a,
and the remaining part i'm going to call l and i claim that this l is going to tell us which of those odd number between are going to show up. so let's see how. how about we do thirteen. n is thirteen. this is the binary expansion, but using our new method the eight will be the two to the a- - and the five (which is the four plus one) that'll be the l. and here's the thing that's going to happen with the l: i'm going to do five steps. so 1 kills 2, 3 kills 4, 5 kills 6, 7 kills 8, 9 kills 10. so now i've dropped... l people. and it's number eleven's turn. now watch what happens, how many people are left?
well what's left is a power of two. and we know who wins in a power of two,
it's whoever starts! *brady* the first killer. the first killer! so now, if we go from here i claim that eleven is going to win. and just watch, it's going to be. 11 kills 12, 13 kills 1, 3 kills 5, 7 kills 9 back to eleven, and now there's only four people left. 11 kills 13, 3 kills 7... back to eleven, two people... eleven wins. and so this is really the key to the final answer. which is if you've written your number as two to the a plus l- - after l steps, whosever turn it is is going to win. because it's going to be their turn and there'll be a power of two left. and so the winning seat will be two l plus one. if you write it in this way, because that's whose turn it is after l steps. the theorem or the claim, is that if you've written n in this way... so if n is two to the a plus l, where l is less than two to the a. it has to be strictly smaller so in other words: two to the a is the biggest power that sat inside of n. then the winning seat is going to be 2 l plus one. so we've already seen it was true here, right? l was five and the winning seat was eleven, which is two times five plus one. and if you start going back through you'll see it's the same thing for all the answers. we've already illustrated the mechanisms, which is after l steps- it's the turn of person 2 l plus one, and after l steps, there are a power of two number of people left. and... everyone knows that the power of two people, the first person who kills, that's who's going to be the winner *brady* let's see if brady has learned! *chuckle* yeah! alright! let's do it *brady* - i think i follow. now in the josephus problem... - yep! - ... there was josephus and 40 soldiers. - that's right. oh yeah! we got to go back and do that! - alright so we got 41 people... - so n is 41 - alright, now i think - expressing that in the way you told me to - it's going to be 32 + 9? - there you go, 32 + 9 - so... two lots of nine... plus one... - mhm - ... is nineteen - there we go - so we want to sit in position nineteen. - there you go. you want to sit in the nineteenth chair. so here we go we're going to do n = 41 - alright. put them in, in the cave, waiting their fate. - not a very good circle but... - it's getting smaller now... - i know. *brady and daniel chuckles* *daniel chuckles* should i redo this? - nah you're okay. *daniel mumbles* 40... 41... - okay there we are.
so we got a little tight at the end - look at that, this is a lession about
planning ahead, people. okay so let's do it. so one kills two... - we're losing our even numbers. - yep. okay now... 41 kills 1. *daniel mumbles* three kills five... and 19 kills 35 and there we go! - alright. i was right! - there we go, nineteen! oh and one other thing in this
problem which is kind of fun... so this formula i wrote can be interpreted in binary notation. when we wrote a number as a sum of powers of two... this can be re-expressed in binary notation. so what was this... 32 + 8 + 1 so that's... 2^5 + 2^3 + 2degrees and binary notation... the digits correspond to the various powers of two, and all the digits are either zero or one. so 41 in binary notation would be
one copy of 2^5, zero of 2^4, one of 2^3, zero 2^2, zero 2^1 and one 2degrees here's the trick for the josephus problem. which i won't justify but it's super cool,
and you can try it own your own. the way to find the winning solution if this is n- - the winning solution in binary is you take the leading digit- - and you put it at the end. so in other words i claim that if i write *mumbles* zero... one... so i take this part and then i add the first digit to the end. that number in binary code is... well let's see... it's 2degrees + 2^1 + (i skipped 2^2 and i skipped 2^3) and i add 2^4 so it's 2^4 + 2^1 + 2degrees which is 16 + 2 + 1 which is nineteen, which is exactly what the winning seat was. and... and so there's this super efficient way in binary code to jump straight from the number n- - to the winning number w of n. so if you're writing you numbers in binary code, the pattern would've been even more quickly apparent isn't that cool?! *brady agrees and chuckles* isn't that cool? - yeah this video was filmed at the
mathematical sciences research institute (msri) that's the building behind me. if you'd like to find out more about them, link's in the video description. they do some really important serious mathematics here, and they're also a big supporter of math outreach... ...as evidenced by this video.