why should you stop doing code reviews i would like to thank baptist barberry an antoine guy maxin zelik and rapael sard for their time love okay awesome code review is one of the most used methods in software development we all know what are the benefits of doing code reviews okay yep okay so why should we stop to sum it up doing code reviews enables verification of new code quality by identifying future bugs ensuring tested code and ensuring readable code i don't code reviews doesn't do this readable code is debatable primarily i've always taken it as this i don't think it's this at all that's ci ci is ensured that you test code okay okay okay i hope this isn't an ai article i really do hope this ain't no ai article chances of ai article press one press one in chat if you think this is going to be an ai article one in chat if this is going to be robots will now do a will do it okay well hopefully not moreover by reading code written by others developers can learn from others a junior developer can learn by reading the code of a more experienced one this is true it's actually a great way to get familiar with the project is just seeing how people make changes they can ask questions using comments vice versa a senior developer can check the code of a junior and provide more constructive feedback i won't go deeper into code review benefits in this article more information you can read in amazing work by trisha g for instance in this blog post however in code let's see is code review really worth doing what are the drawbacks we face during code review nitpicks nitpicks i don't like the function okay you use length but i like get length okay i like verb can i do verb okay we want a verb first shut up i'm sure you fa some of them several times all right code reviews code review pitfalls all right the pingpong review some comments are added you take them into account some new comments are added you take them into account new comments are added and so on it's really frustrating for the merge request author even more when it happens with several reviewers yeah i mean that that does suck it does suck when you expect people to like there should be a timeline right if if you're tagged on a pr and you just do nothing for like a day and it's for your job kind of sucks you know what i mean like you what you should have is lgmt with lgmt dnl right looks good to me didn't look did not look right you should just have a way to say i'm not going to look i'm not reviewing i'm backing out because it's ridiculous to have someone review you do all these changes then someone else review and want different changes and their changes are like conflicting and stuff like that totally buy that the redesign review once the merge request opens you receive comments indicating a large design issue it's not a simple correction but the whole implementation must be redone this is totally normal this is fine this is a demoralizing situation for the author and reviewers no this is perfect you should have these literally yesterday on live on twitch i did some harpoon management and we closed down a pr oh my goodness there's so many more how the hell did this happen how did we get more how are you doing so much willow i forgot i let's see ah there you go this one someone took a swing at doing this and i just closed it down and said no we're going a different direction right because it just needed something different different like this is totally normal like this happens like this isn't it this is the wrong design willo you're coming in without my vision in your head and that's totally normal like i wouldn't expect willowy to be able to do everything right he shouldn't have that expectation i am wholly appreciative of his attempts and strong effort look at this he's really trying to make look at that wiy wiy wiy he's trying to make harpoon great absolutely love it and i'm super super thankful for it but like sometimes the redesign is fine because the redesign just isn't in the direction you want to go right design should proceed coding no it should no no no no no no the heavy design first crowd is crazy to me the thing is is that someone gets issued a ticket you attempt to solve it now you may have solved the bug and successfully solved the bug but the reality is it may be some other issue or some completely orthogonal way in which you want something to be done and that previous example was a perfect version of it okay and the reason why oh my goodness and the reason why that made sense for me to show you this is because they wanted the ability here i'll show this will phy wanted the ability to pre-populate empty lists by adding in a extra option called pre-populate and if that thing exists then we'll just call it and allow you to pre populate the list this is a perfect fix no amount of design ahead of time for him would have changed how he implemented it the thing is he didn't know what i wanted right and that's okay like you can't just get everybody together to design every single last possible thing it's like untenable you kind of have to catch those strays as things are changing and sometimes it causes offset stuff but that's just it like do you really want a non-coding architect like that's your that's your other option you need non-coding architect yeah trash knows trash knows non-coding architect sucks okay they're the worst they are genuinely the worst i already have that they are the worst so basically no one else can commit to the project because no one can read your mind no plenty of things can be plenty of things can be done without that so disconnected yeah plenty of things here look at this the pr literally after that since the pr literally after that right here merged in because it was perfect it's exactly it's just like that's just what needed to be done totally legitimate plenty of things like i can't confirm i'm a non-coding architect can't confirmed trash is just trash strong opinions on that one the ghosting review comments are added taken into account and then you wait for the approval the reviewer has disappeared and you have to wait before merging even if the other reviewers have approved the merge request you have to wait for the ghost reviewer this on the other hand is super effing annoying completely agree with that this is just bad etiquette if you ask for changes and then you just never come back again it different on open source open source like take into a completely different account than in like work setting right work setting i expect you to be engaged open source i don't i leave a poll request you say change these things i make those changes you don't come back for a month hey man that's your project it's not mine you do you okay you're busy you go be busy you go be busy right like i very very different you got to come in with two different mentalities waiting for review your merge request is not the most attractive and you're still awaiting approval that yeah that i mean yeah that happens t are i at netflix we can just merge without approval i think that's one of the most important things is that you have to have the merge without approval because if people are going to just drag their feet you just merge like hey that's their fault it's their responsibility to code review you don't want to code review like not my problem if i give you like days to review and you just don't review anything if i ping you on slack and you're like yeah i'll get to it and then days later you still haven't got to it like at what point is it like no longer my problem this is your problem right i hope you enjoy the code you had your chance that's how i look at it at least i don't think other people look at it that way that's how i look at it the changes are very important but reviewers didn't read it before approving it because it was too long yes present yes this this one this happens constantly the presentation review you have done a huge refactoring or the changes you bring really complex to review and your team is asking you for a presentation or mob review now you have to find time where everyone is available to do the code review it's only the beginning of your merge request journey this i think is is fine if you do a big refactor yeah guess what of course right that i think is completely reasonable the con the convention style review some comments on the merge are merely about coding style for instance there are too many brake lines or spaces these kind of reviews could be avoided with a linter yes a linter and a prettier stupid two small merge requests one line of code has been modified you tend to think that it'll be approved but the mer and merge fast but instead it triggers a lot of discussions what are typically in bike shed effect yes yes i have i seen these things happen a lot but sometimes it is good the problem is is that often on line changes are exposing bigger problems if that's the case if you're ex if you're actually like talking about big problems like hey i don't want another if statement i think we should change how we're doing things that's fine it's hard i mean it's hard keep rebasing review your merge request is waiting for approval while others merge requests are being merged and you have to keep your code up to date and potentially resolve conflicts i yeah that's just i mean that's just sag that's the penalty of being in a big a moving target right i don't think this this isn't fixed this isn't a code review problem this is just working with distributed code bases right it just sucks the inconsistent feedback review sometimes you get a comment and you don't know how to handle it most of the time the review expressed a feeling more than a clear solution for example this function seems too complicated for me yeah i mean you should be able to respond with you need to be more actionable about your feedback like this isn't very actionable so can you please do something i have a codor so i actually it's very interesting because i prefer refactors to be done by themselves and i have a co-worker that prefers changes with refactors and so me and him have gone back and forth on this and i'm working in one of his projects so i'm going to allow him i i i i have to do a change plus a refactor and for me that's really for me that's really odd but for him that's perfectly reasonable and so you know like sometimes you like one of his functions is too big and i was like hey can i just break it down and i'd like to kind of put it into some steps for me to kind of understand it a little bit better obviously he just built it to get something done i it's very clear what it's doing it's just it's doing it super long i'd rather just see it in something smaller not clean code style but just clean enough code right clean enough you know so this happens this is reasonable reasonable stuff after merge review the merge request has been approved and merged great but a new challenger has appeared the challenger is perhaps knowledgeable about this project on the technologies used and wants to make changes most of the time the new merge request will be opened by this person without sharing it with the uh first developer i don't see the problem with that like to me that's perfect like i mean that is literally the thing clean enough yeah clean enough code i'm all about clean enough there there's times where being too clean is bad right like clean coat itself with like these these abstract requirements of like four line functions or like martin fowers if i see 12 lines in a function it's a smell to me to me that's crazy right that's absolutely insane talk no amount of lines in a function makes it clean or unclean in my book it's about what is the thing doing how many steps are being performed some steps are long ass steps like that's normal and it's okay java brain it java brain's real expressing or receiving feedback that can be complicated people can take it personally and lead them to tensions on the team yeah this has happened that's i mean that's just that's team dynamic that's not going to change with code review that's just working with people the elderly merge request the merge request is open for a long time and it could be a couple weeks a month or even a year the merge request is so old that some most of the developers don't even know if it's still relevant yeah i'd close it down i feel like you should be able to just have an autoc close one month old prs dude if you can't figure it out after a month try again take a new swing the not working review the ci pipeline passed and the merge request has been approved but once merge and deployed it doesn't work let's do the full cycle again yeah i guess that's this is interesting because it's like do you do you merge do do do you do you roll forward the fix or do you roll back do you revert or do you roll forward i'm a big fan of obviously anything that's not production facing always roll forward right like that makes sense for production roll back to the previous production in production and then your code base you roll forward the change right rolling backs crazy crazy stuff the full-time job review the code review can be a full-time job a developer and the team could spend their entire time doing code review furthermore it's not uncommon to have devel vel opers in a team who are spending way more time than others doing code reviews not everyone does code review in a balanced way and it can lead to struggles within the team fair fair yeah that's fair the worst thing about all those patterns is that they can be can be accumulated you can be in a ping-pong review and suddenly land with a ghost review keep up rebasing and yeah yeah the the combinatorics yeah okay so stop doing code reviews so i mean i like that i like all these code reviews because i've have i've had most of them like i i i really do feel this i i just saw the word tdd appear down there very worried right now so what are the solutions to avoid these situations most of the problems could be avoided by sharing early before what for instance sharing about coding guidelines architecture coding practices so coding guidelines architecture is hard because who shares about that can you share about everything that you're doing sometimes people have to learn by looking coding guidelines i mean lint and prettier should be your guidelines coding practices and guidelines are kind of the same thing i think it's pretty obvious if you've been programming at any length when you're doing the difference between hacking and not hacking or design before jumping into the code i'm not really into those kind of things right like if you have a linter and prettier setup let somebody do some looking let somebody try to understand let someone come up with the prototype they're unfamiliar with the coded base let them debug through let them learn some stuff you know how much more you will learn by debugging through getting out the debugger walking line by line and trying to guess and hack into a change and saying hey i got a i hacked a change you want to tell me how to do this better like that's honestly the way better approach to this is you create a change you hack it together and then somebody who wants to play ball not everybody wants to play ball that's totally fair also i' i've worked with people who do not like this approach and that's fine with me but to me i think this is the best way to learn a code base you hack together a change you don't know what you're doing there's no amount of explaining that could ever help so what do you do you make a change you say hey help me review and help me do this the right way now that i understand the state what's going on you help me do it the right way and if you work with a good teammate they'll be totally down to jump and do that if you don't work with a good teammate it's looked at as a hassle like that's just that i think that's i personally i think that that's the best way cuz you know doing these architecture talks where people are like ah yeah architecture oh yeah you got to do all these things this is what we're doing then you go into the code and guess what like you got some boxes and some arrows but you are still going to make the exact same hack because you still don't know what you're doing code and architecture you know it's interesting mentor-based reviews are the best yeah yeah but when the when the feature is not necessarily done and sometimes it's better to take five minutes during the development of the request instead of the post yes i agree with that like that's why i like the idea of make a change i don't know what i'm doing help me change my change into what you want to see because i don't know what i'm doing i think that that that there's some good stuff i personally think that that's that's just a it's just an easier way because my role at my job is i have to jump around to many many projects i've been in a lot of projects i've been in i've been in four separate projects in the last year and a half and so often i'm having to just go from 0 to 60 on a completely brand new codebase right now i have six separate codebases i have to become good at in the next couple months there's a lot there's a lot i have to understand and so for me to do that it's going to take a lot of effort and reading and becoming good at something and so i need people that want to help me right i need people that when i make a change they go hey can you just walk me through what you actually envisioned and here's the change i made help me like align with what you're thinking it's the only way and anyone that thinks it's differently it's cig it's craig craig craig talk it's merely an agile agile value having feedback and so and as soon as possible feedback coming from a code review is too late i disagree with that i just simply disagree with this statement altogether in my experience code review creates more problems than it solves code review is only good when developers are work mostly in an asynchronous way in a different time zones i i actually just sheerly disagree with the conclusion of this article i think he points out a lot of good things and i think we should fix the things that are that are wrong like i think people should not do ghost ghosting on on a work on work repos again open source completely different ghost all you want it's your project i've never disagreed so much with an article and then disagreed so hard on it inclusion but in the most cases developers are working in the same team on the same project at the same time and code review is only a way to avoid exchanges with the colleagues nowadays code review is a cargo called most of the time code review should be replaced by pa programming or better still ensemble programming assembly programming assembly assembly pr assemble programming ensemble is that ensemble or is that assemble assem i don't know what that word means also known as mob programming okay i i like i like par programming in the sense that you may like like i already explained my position earlier you get the idea and that would be par programming at the end fair but just doing it with somebody else i totally disagree with that like doing the feature itself with somebody else robs you of your learning when you watch somebody efficiently walk through code they're avoiding 1,000 pitfalls that you don't know about they know about and so if you don't go into those pitfalls you don't understand it they're going through and they're walking through how the state of the data changes with the program and you don't get to know all that you kind of just arrive to the conclusion there's a huge amount you lose from doing pa programming when you're not first struggle like struggling yourself you got to struggle the struggle is just so important in a way you have at least two people working on the same piece of code and you always have see okay so this is a pa programming thing knowledge sharing both business and technical knowledge proof reading develop developing cohesion and team spirit i literally hate par programming if i dude my team spirit would be i would i would turn into lilith okay i'm like that's it we're killing everybody that's it unleash the unleash the hord like i dude i would lose my crap lose it doing par programming doing synchronous development saves from ghosting from ping-pong comments tldr reviews waiting for pr convention style review and so on actually working together avoids all the pitfalls of code review yeah but dude the time there's yeah again i think i think i just i'm still not into this if you're developing using tdd pa programming can even be more fun by doing ping pong pair programming there's a game you can play with tdd where you make a test and you have to make the person pass the test but they don't get to know what the the test is doing and the tester does not get to know what the person's programming and you see how complicated you can do tdd and you see if a person can do that it's pretty fun lastly i won't debate about the simplistic idea of having two developers working together on the same task is more expensive compared to having them work alone the synchronization process in all steps is one of the most expensive and code review is one of them i actually just fully disagree with this statement sometimes a change will take me like three days i just i mean i understand like i i i agree with all of these things that he has said it's just the conclusion is too hardline right i like everything else like every like i agree like especially if you if you if you don't know the code base and you don't know what you're doing and you want to sync with somebody outside of a code review i think that's actually a much better place to do that pair programming after you've built it pair walkthrough and pair altering really really good you do all those things you rework it you have the person explain stuff and you come back and you put them on the hook you're doing a code review but live and then at the end you put your pr up they approve it but you still may want somebody else who's familiar with stuff looking it over cuz you don't want to waste like three people's time like just ain't no way are you working from home or from the office or hybrid from home ain't no way ain't no way lgmt a genen let's go i like this article i like the article i love this is a great article by the way this was a great article really appreciated it thank you very much vga vallot it's a great read right this is a great read absolutely loved it