i know a lot of you were very excited about the hot conference devity which turned out to be just a huge ai scam and then carson was not able to give this amazing talk about htm x about getting rid of javascript fatigue but guess what we got the man the myth the legend carson gross on here to give the presentation about htm x and then afterwards we will do a little bit of a q&a and we will find out just how boomer us combined actually are so carson i'm gonna give you the stage i'm gonna hide me i'm gonna hide this and it looks like you're oh dang it discord up dang did you did you disconnect and reconnect i didn't i didn't touch anything you did you did i know you did okay there we go you're looking so good right now you're looking so good okay okay so you can take i want to see the chat too well okay cool do you want me to put chat on the screen during the so my this is yeah that'd be good i think okay there you go we got a little chat up there chat say hi to carson okay let's do one thing real quick all right so i'm gonna give a talk real quick hopefully on what's up guys i'm gonna give a talk on on javascript no i'm gonna give a talk on htm a and this was a talk it's kind of a talk i was planning on giving at a conference that it seems like it blew up i didn't follow exactly what happened but it seemed like it was pretty funny and it didn't happen and so now uh the prime j was nice enough to let me give the talk here i'm gonna do a compressed version of it i think you guys have you ever heard has anyone who ever heard of hdmx this might be a new thing for people on this stream but basically you know i'm gonna talk about hdmx and its relationship with javascript so let's see here about me so my name is carson gross i run big sky software which is just me it's not a real thing in my dogs and i i make some software so htm x a thing called hyperscript i wrote a kind of a funny essay called grug brain. deev which is sort of my take on how to develop and not not paint yourself into a corner by trying to be too clever and then i've got a book that's on kind of htm x and uh the more general ideas of hyper media called hyper media systems and that's you can read it for free online or you can buy it if you want so what i wanted to talk about today what i want to talk about today is i wanted to kind of review with you all what hyper media is and talk about how hdmx generalizes that idea and then i wanted to look at the relationship between javascript and htm max go through a couple of hdmx demos and then maybe reconsider that relationship so let's talk first about hdmx or talk first about hyper media really but just as an introduction hdmx is a hyper media oriented friend and library all that means is that it it uses what i call hyper media exchanges to update the ui so rather than using json uh we use html so rather than getting json back from a server in a web app and then turning it into a ui update in some way either reactively or using c client side templates or whatever you just get html back and then insert that html into the into the page and that seems pretty simple and it is pretty simple but there's some deeper ideas behind it so it's really trying to focus on enhancing html rather than replacing html which is what a lot of stuff does in the javascript world so hdmx is written in javascript you know and people sometimes people will say oh with htm x you don't have to write any javascript and someone freaks out and says htm x is javascript and that's true but if you're using htx you as the user of htm x typically don't have to write a ton of javascript at times although so we'll see later there are times when you do use quite a bit of it and you know the way the way it works i'm sure everyone on this stream has seen it before but basically you you put attributes in your html and those htmls that or those attributes drive behavior in in in the html so what i wanted to do is before we get into how html generalizes h or how how htm x excuse me generalizes htmls i wanted to talk a little bit about about what hypermedia someone asked is it htm x all caps or htm x lower caps htx is case insensitive so okay so what is hyper media what is hyper media hdmx is a hyper media orient library what does that mean well there's a bunch people argue one of the things that's tough about hyper media is that there's a lot of very disagreeable people who are in that world and they have a lot of different definitions and yell at each other a whole bunch but the way i like to think of hyper media is it's a media it's not like a tax that has hyper media controls in it and so okay fine what's a hyper media control and to understand what a hyper media control is i think the easiest thing to do is to just look at a stupid simple web page so we got a stupid simple web page here with a and all it's got is a link to an about page with some text in it and this anchor tag the hf stands for hyperdia reference this anchor tag right here is a hyper media control and what what it allows you to do is if you think so going back to what hyper media was sort of at the start it was this idea of media like a book people were comparing h html to books and you had this ability to jump to random places kind of a choose your own adventure style situation and that's what made it a hyper media rather than just a normal media and so this hyper media control this is sort of the er hyper media control the first hyper media control that that was out there and the the other major so this is so anchor tags are one type of hyper media control and the other major one the only other major one and html is the form tag which came out in html 2 i think if i remember correctly and so these are the only two hyper hyper media controls available in html but nonetheless you can build quite a bit of stuff with them it's pretty interesting how powerful just the idea of hyper media controls is given how there's only two of them in html you could still build you know all of the f original web was built with just these two controls and so what hdmx is the thought process to get to htm x is how can we generalize this idea of hyper media controls and to do that i think what i like to do is look at something like an anchor tag and ask like what really is that what is it what is it telling the browser to do as a hyper media client and if you again backing up and thinking about it what it means is what tells the browsers okay here's some text show that text to the user and when a user clicks on it when a user clicks on that link i want you to issue an http get to the specified url relative or otherwise and then what i want you to do that's going to trigger request and then you're going to get back a new html document i want you to replace the current document with that document that was returned and so if we want to general and htm x generalizes that idea so if we want to generalize that concept then what we need to do is we need to go through this list and just make each of these general take them a higher level so the first thing that we can generalize is the idea of like okay a length what's special about lengths and form what about other elements like there's nav elements and so forth there's just all sorts of elements how come these two are special so one generalization would be make anything you know a make any potential element on a screen a hyper media control another thing to generalize is that clicks that idea of clicking well that's just one event of many that triggers in the dom so why not make that just general any event can trigger these things three is issue an htb get to some url and this is again what something that i call a hypermedia exchange where there's hyper media hyper media request and response being triggered and so let's make it possible for any element to trigger those sorts of requests and then finally and this is probably the most important one why why should these hyper media requests be constrained to only replace the old page that's the source of a lot of clunkiness in old web applications because you have this big refresh and you lose your scroll state and all this crazy stuff like that and so why not make it possible to take that html content and put it anywhere in the page so those are our four generalizations that we have available to to us and those are the four generalizations that htm x really focuses on so in order to do that we'll really quickly go through the attributes the hdmx provides for each one of those so the first the first thing to look at is and sorry there's a button on the screen here that's powered by hdmx so it has a a put a trigger and a target these are htm x attributes if you've never seen before and these put behavior they they they give this button hyper media control like behavior so the first thing is to notice is this hx put and there's a bunch of these there's hx put post get delete and so forth and you can by putting this attribute on anything in the dom suddenly that thing becomes a hypermedia control and can issue that type of http request to that type of end and so this really it kind of kills two birds with one stones first of all makes anything potential hyper media control and it also makes it possible to issue any type of of request and then the the next thing to consider is the event and so in this case we're we want this request this put http put request to like to be triggered on a click and so hx trigger let you specify the event that causes a a particular request so we've generalized that idea in any event now a mouse over for example if you wanted to could trigger this request now in this case the htx does have decent defaults so the default for a button is click so this is technically not necessary in this case but it's just there to show you what's going on whoops and then finally hx target this attribute says okay take that response that comes back whatever html it is and i want you to put it into the inner html of the thing with the id output which is this little output element down here and this is maybe the most important conceptual element or attribute i should say in htm x because it really it it takes html from this like document oriented sort of clunky infrastructure to something that includes a this concept it's called transclusion it's been talked about forever but this idea of including parts of one document in another document or including bits of html in an existing html document it's an old idea that just wasn't really done wasn't really explored too much for for a while for whatever reason so the hx target basically what you say when this button gets clicked on something's going to come back some bit of html it's not going to be a full page probably but take that html and then just jam it inside of this output so pretty simple at the end of the day and that's a total of seven attributes that's a total of seven attributes and that i think those seven attributes does a prettyy good job of covering the abstraction or the the the opportunities for generalizing hypermedia controls that we looked at earlier now there are a few more attributes in htm x that are useful so like you can specify hx swap lets you specify how to swap things like you want to target the outer html and replace the thing rather than put the return content inside of a thing there's an hx indicator where you can call out an element to be shown during the request so that gives you the the ability to show like a spinner during a request which is often a good idea from usability standpoint another couple of useful attributes are hx include which lets you include a form like all the values in a form or in some element in a request and then hx select which lets you pick some part like if you if you don't control the server side or it's difficult to work with the server side for example and you want to request a page but only pick out some part of that page you can use the hx select attribute in order to do that so it's a practical so it's not just a htx isn't just focused on the the abstract idea of producing hyper media controls or it would have stopped it tries to give you some useful practical tools that deal with the reality of day-to-day web development as well all in all htm x ends up being about 12 attributes you can go to htx or reference to look at them and so that's great so i you know i hope at least conceptually i've convinced you that gmx abstracts this notion of hyper media controls so what can we do with that what's what's possible to do with it well i just i want to walk you through a couple of quick examples this is a and these are all on htm x.org examples so this is a click to edit example and we start with a a div let me blow this up so people can see a little better we start with a div that has just it's really poorly formatted just to make it easy to understand but we have we start with a div and that div says okay i want the target to be this div and i want you to swap my adder html so replace the whole thing then we have a button that gets the the contact one edit ui it gets back the html found at that url and what that url is going to be or what that html is going to be is a form for updating this thing and this is all pretty standard web stuff it's just a form you know that you that you would just like you would use in web 1.0 in like old school web apps but it's a little different in that instead of having the normal action attribute on it it has an hx put and it says okay when you when someone submits this form effectively want you to put the values in this form to this url and i want you to target this form and again swap the outer html and so what that ends up doing is this is a little demo of that when what that ends up doing is you've got this admittedly horrible looking ui for display playing a contact but you can click to edit it and you can do something like you know update the name if or whatever joey i guess joey makes more sense and you can see what's nice about this so this is all and we can come down here and look at the request so this was the initial state of that div and then we got the the form so it got replaced with this form then we did a put with this bad name and then we got did another get and another put so forth that's all html that's flying back and forth and so what's so great about htm well what was great here and what you might not have noticed is that we didn't lose our scroll state notice our scroll states did the same right because we didn't do a full page refresh like that's the big thing that's what really is good about this is like you're you're just updating this a little bit and you don't have this whole big kachunk that you get with more traditional web apps so this was done with traditional html you know it would have scrolled up to the top we would have lost a bunch of context and so on and so forth and so that's i think shows how just a real basic example of how hdmx can improve things another way you can use htm x effectively is something called lazy loading so i'm gna hit refresh here and you can see so there's this point at which it's loading this graph and it takes a second calculating this graph it's fake it's all done with mock stuff don't worry about the details of it but this graph pretend in your mind that this graph took a while to complete or to compute and if you just try to include this graph in the page directly as part of the initial render for the page you would be blocking on the computation that produced that graph and that can be a bad user experience and so this uses a pattern in hdmx where you say okay i've got a div i want to issue a get in that div to get a graph and then put the results into me by default it'll put it into this div and then i want you to trigger on the load event so when this thing first loads up and so what this what this ends up doing is make it makes this graph url lazily loaded and that allows the the the the the containing html page to render more quickly so this can improve user experience for that page so for example if you have some page that has an expensive bit to compute but then has other actions and potential things the user might be interested in you can use this patter and make just that little bit of your ui lazily loaded and then when a user goes to that page they'll see the page quickly and then yeah they'll see a little spinner for this thing but maybe that thing's not important to them maybe they can interact with the other things on the page and so that gives you the ability to to have a better user experience while you know this is what two attributes right so it's not hard to do this you can very easily introduce lazy loading into your web application and it works pretty much like every other page in your your traditional web application works and so i like this example because i think it shows how generalizing hyper media controls has this better than like it it allows for surprising things like if i told you oh let's generalize hyper media controls the first thing that springs in your mind is probably not going to be like oh this is this would allow me to implement lazy loading and address perform perceived performance issues with my web page right so i think this demonstrates really well that uh generalized hyper media controls are are pretty cool they have a lot of power and then the last one that i always like to do is active search so this is an example where i'm not going to go into the details of it i just more want to show you what it does but you begin so what i can do here and you've probably seen this ui before is i can start typing and as i type it filters down this table right and this is issuing requests to the server probably should be using a get but i've just been la and haven't updated but it's issuing requests from this element to the server and getting back the results and then jamming them down into this result set down here here and it's doing that as i type okay and so that's a really nice user experience compared to like an search dialogue where you got to type and hit submit and it goes up to the top and then you gotta go down and so forth and so this is this is what i call active search google i forget what google google does something like this and they call it something different but that is something that normally people would associate with you know really elaborate single page application frameworks but if i won't go into the details of it but it ends up being four attributes in hdmx which i think once again shows the power of generalized hyper media controls like you can do a lot with this a lot more you know some people you'll see people say oh hmx is fine for toy websites but it can't work for big enterprise style web apps and i'm like dude you know there's a point point at which hdmx doesn't work anymore i'll admit that of course and i've got an essay up about when hyper media is appropriate on the hdmx website but you can do a lot more with it than you probably think especially if you get really nerdy about events and so forth okay so that's three examples of htm x demos let's get going here again you again it just by generalizing hyper media controls we can do quite a bit like in all three of those examples there was no javascript written by me as user of htm max so what does that mean for javascript what does that mean for javascript does that mean that javascript is gone and one thing that then kind of what i wanted to address in this talk after this overview of what hdmx is conceptually is is htm x anti- javascript am i anti- javascript well it's true it's un level that it is because you certainly don't need to write nearly as much javascript and there are people who hate javascript who really like htx because of that and you know so i think it's fair to say that it's not you know anti- javascript versus anti- javascript maximalist i don't know but hdmax definitely makes it possible to use a lot less javascript when you're writing your web applications and in addition to that htx also pushes the focus of your web application onto your back end and on the back end what that means is so one of the things that we've seen in the last 10 years is there's been a tremendous amount of pressure to adopt javascript or typescript on the back end because people have written these very large javascript front-end applications and why have two languages that are complicated why not just bring it together reuse domain logic and all that stuff and what htx does it says no you're not going to have a big javascript front end instead you're going to have a small jav you're going to have a small front end and then your back endend becomes far more important and that really hurts javascript r's i don't want to say it hurts its usefulness but it takes away the one big thing that javascript has going for it like the one killer feature of javascript which is that it's there in the browser in a way that no other programming languages so because hmx mo moves the focus back to the back end all these other languages suddenly can compete with javascript as a language for a particular web application and i think that's a good thing i i like a diversity of programming languages and you know so i think that's a good thing but it definitely there's no getting around the fact that it it it makes it it makes javascript less compelling on the server side less compelling overall so but i want to say one thing that i do want well i think if you look at it the right way i think hdmx is actually pro- javascript and in some ways deeply pro- javascript because what hdmx does is it takes the pressure off of javascript to be a good general purpose programming language it's not it's a bad general purpose programming language it's messy it's like c++ in some level like there are good parts of it and if you use a constrained version of it it can be okay but it's you know it's just a big ugly messy language but that's okay if you use it as a a lightweight scripting language for the web that's what it was designed for that's what it was designed for and oh hold on one second i'm sorry i jumped hold on and so in that context in that context of a web scripting language javascript can actually be very good or at least good enough you know i'm a good enough engineer like i think they're saying like javascript has this killer feature which it's there in the browser so like take advantage of that fact so let's look at one more demo and then reassess where hmx and javascript sort of live with relation and here you can see i've actually got some javascript that uses the the htx javascript api to when new content is loaded into a page it creates a it uses a it looks up anything with a sortable class on it and then instantiates a sortable instance on it and sortable is a is a javascript library a library written in javascript that enables drag and drop in the browser enables drag and drop in the browser and so this is just a bunch of junky javascript code to make sortable work whatever but one thing that's cool about this is sortable emits events and so we have a form here that is sortable so the stuff inside of it going to be sortable and then it's going to trigger on the end event which is an event triggered by the sortable js library and it's going to post the items internally to some url and so this is basically going to when what what's going to happen is when i drag stuff around as enabled by the sortable js library it's gonna trigger a save to the server and so if i come down here i've got those items and i can drag and drop them and when i drop them you can see a post occurs and so i'm reordering this list and then syncing the order of the list to the server side sort of at the same time and so this is an example of us using javascript effectively with you know sortable js is written in javascript and htx is obviously written in javascript but me as a user of htx i had to write a little bit of javascript but i got some really good bang for my buck front it i you know i pulled in this sortable js library and now i've got this better user experience it's far better than like even just a vanilla js implementation in or excuse me just a vanilla hdmx thing with like up and down arrows that would suck like this is really cool i can put any item wherever i want and i can drag and drop and it just works and that's it so very simple htm x code and a pretty simple you know javascript code not horrible anyways it's fine okay so this is an example where htx works in concert with javascript to provide a better u user experience and so i i think again these two technologies are not oppositional they're complimentary when approached from the right perspective hdmax couldn't achieve that drag and drop ui without this additional scripting that was made available to us by by sortable js and again we're taking advantage of one of the the killer feature of htm x which is that it's there it's there in the browser in a way that no other programming language is and we're using it in the way it's designed for for enhancing client side scripting now i quote roy fielding a lot because he wrote a dissertation on the web that gave us a bunch of terms like rest and hados and so forth and he had this to say about scripting rest allows client functionality to be extended by downloading and executing the code in the form of applets or scripts this simplifies clients by reducing the number of features required to be pre-implemented so this is what in his mind this is why scripting is allowed on the or why it's part of the web infrastructure to allow you to to implement features that are not part of the core browser behavior allowing features to be downloaded after appointment imp improv systemic sensibility and that's what we just saw in that demo drag and drop is not part of the web it's not built in it's not part as far as i'm aware anyways it's not part of html 5 yet but nonetheless we were able to implement it we were able to provide a better user experience using javascript and in concert with htm x so i think htx is pro javascript in that it allows the language to take a deep breath and step back and be what it's actually good at it's actually good at being a lightweight scripting layer for the web so let it be that don't try and force it to do too much it's not it's not designed to be you know like a a great backend language maybe types script's pretty good i don't know have strong opinions on it but again i think that this is an example like looking that that that sortable example is a really good uh look at how htm x is not anti- javascript instead it's javascript in its right context and encing the user experience on the browser on the client side and when done in that way a lot of people who at this point are exhausted with javascript might actually have fun like i actually find writing small amounts of javascript kind of fun because you get the it's ui programing you get the do you need stuff with it so i think that hdmx can for many people actually make uh writing javascript fun again all right that's my talk q&a that that was fantastic thank you very much for doing that can we get little clappy in the chat i'm going to turn myself on i'll make you bigger as well there we go everyone seems to really like it this was fantastic i'll also open up youtube as well and look at youtube so we have both chats at the same time we'll be doing q&as for carson carson i think one of the first and obvious questions we have to ask is that there was a recent state of javascript stuff that's going around right now on the internets and it looks like htx fared pretty well how you feeling about the rise of htm x in the last year i mean it is a very old library this is not something new it's been written about in the 9s and it's been implemented and being used for the last what 15 years and so it's not new how do you feel about the rise and and where do you think it's going you know i it's it everything seems so darn random to me like i intercooler js which was the predecessor to htx it was you know released it back in 2013 and just i think the tech tech goes in waves or you know there's sort of like back and forth between particularly when you step back and look at thick client versus thin client there's sort of been a back and forth in the in those ag the hyper media isn't a thin client architecture hyper media clients are very thick but there thick in a particular way and so i it's it's i i can't explain it i mean obviously you covered it fires ship dev covered it you can look like july is when everything blew up which is when you started covering it and when fir ship mentioned it so some of it is probably just right place right time and the right people got interested in it but i you know i'm i'm i'm i'm very positive in the long run on hyper media hdmx is what it is it's a tool it's you know it's got problems like i wrote it in a pretty idiosyncratic way and it was ie compatible for a long time 2.0 won't be so the implementation as far as hdmx goes i think is is pretty good certainly good enough and i think will'll you know continue to to grow but the ideas of hyper media it's one reason why i try to focus on like the book and the essays i think the ideas of hyper media are more in the long run more significant than you know the particular technology or the particular hmx gs file i guess so i i see this a lot which is obviously there's been you know years upon years of many many engineers creating react solid js angular vue any of the major frameworks why should someone try out htm x when these things have just so much what feels like commercial adoption and you hear it all the time i don't see why i would use hdmx when i could just reach for something i already know or that is industry standard if you will quote unquote is there some compelling reasons that you think hmax really wins for or compelling applications yeah i first of all i'd say hdmx isn't expensive to look at right it's not expensive in the same way to look at like like if you're just if you're not a react shop and you look at react like that's a whole massive change that's you got a lot of work ahead of you whereas htm x is pretty lightweight and you know if you look at for example that lazy loading example that's two attributes that could potentially on any web application really solve a practical significant problem of like a page loading too slowly like write just with two attributes and you're done and hdmx is 14k it's got no dependencies so you know it's it's very practical from that standpoint and you know i think most people who are familiar with the web if you're not coming in as a complete new web developer i don't think hdmax takes too long to pick up at least that's i don't know maybe i'm too close to it but that's my impression so i think it's low risk and it's definitely not appropriate for everything so i wouldn't you know i don't think you you should use htx sort of unthinking way there's an essay called when should you use hyper media on the htm x.org essay's web page where you can sort of see like these are the things that htx is good for these are the things that's not one thing i would like at some point i you know i have a lot of fun on twitter but i would like to deescalate the conversation a little bit because hdmx is just a tool you know and like it's good at some stuff and it's not so good at other stuff and that's fine it doesn't have to be you know it's like doesn't have to be your identity it doesn't you know you can try it out and if you like it cool and if not i get it it's all good so you know i i i it's fun i find it fun i think hyper media it's the hyper media style of programming is fun one thing i recommend for some people is like try it on like an internal tool like you know maybe like rewriting your entire front end using hdmx is pretty pretty risky thing proposition and you're gonna you know you're gonna have to learn a whole bunch and all that stuff so maybe it doesn't make sense depends on the context but in inter internal tools are often underserved like they're just kind of afterthoughts and a little bit of hdmx like that active search example for example could really improve life for employees for who people you work next to and care about and want to make their lives better so just like you know a few attributes and suddenly they've got a much better user experience they're happy you're happy and you didn't risk like you know the whole company on on an hdmx conversion so so i don't know that's kind of my my my thoughts around that i do love that idea of internal tool approach because right now where i work we have a lot of stuff preset up with like react it's like you it's actually really difficult not to write an internal tool that's not in react but due to how there's a bit of server side rendering it's really simple actually just to convert it straight into an htm x tool and i can move really really fast now by simply just avoiding that whole thing because one of the biggest like barriers to entry for good tools is that when i started doing it everything had to be react and like it just took me a long time to build something simple right there's a lot of code you have to end up producing a lot of build time a lot of waiting all all the things that kind of go in between at all and so just having something i can quickly explore really just fast i don't need that you know i don't need much for libraries or anything i can just kind of 0 to 60 really quick it's been very refreshing and i don't feel nearly as like oh gosh i have an internal tool like do i want to even support this do i even want to go down this route of creating it cuz i once i know i create it i'm also supporting it and that's like a lot of effort so i do want to ask you the follow one more question about this kind of whole direction cuz you said 14k i'm very excited about ht max 2 cuz i'd love to see that you're dropping a huge amount of support you're thinning up stuff how much smaller is this going to make it are we going to see are we going to see htx 2 being like below 10k across the wire i wish man it's just i i got all excited we dropped the problem is is that compression algorithms are pretty darn good so you know so i think right now it's at 13k in the 2.0 branch so and it would be really hard that there are a few since we're dropping ie support there are some areas we can remove code but my suspicion is that getting below 10k which initially my goal is to keep the thing below 10k i think it's going to be really hard to do and you know that that sucks there is there are some there's some clean room implementations of htm or hdmx ideas there's a guy working on something called data star and his is done in sort of i think it's done in typescript and transpiled very heavily optimized and i think he has it in like the six to 8k range yeah but just even the history support is just it's just so much you know and then gathering inputs and like getting all the little things right like if someone has a has a what is it a form ref in another spot and you got to go out and get that stuff to there's just a lot of little junk it has to get done and whenever i'm feeling bad about it i go look at bundle phobia and it's like i think 14k is like 16 milliseconds over like old 4g and i'm like all right carson chill out like it's gonna be that's the first request and then it's cash forever and like it's all right it'll be okay but i do wish you know that part of me that there's something about that 10k like if i could have kept it under 10k that would have been great but do you think you'd ever reduce some of the hyper the hyperscript support to get something below 10k like because i know that you get a lot of power with hdmx as a library and i don't know how much people are actually taking advantage of all the features is there going to be a light version or something to kind of strip it all the way down to yeah that quotequote idea under 10 yeah yeah you could i'd have to look at it it's the other thing that's tough about the the good and the bad thing about hdmax is it's written in one file and so you can't pick and choose what features you want from it it's kind of just like boom here's a thing but i it would be hard given the current setup and my current mindset to to do that but i think like you know again this's one reason why i say the ideas of hdmx are probably more important than hdmx itself i think other people are going to start offering libraries like that like hey here's just like a really some like you could do probably an 8020 of htx especially if you dropped history support for in like you know 4k or even less i mean people are doing reactive things in like less than a k so i got to think that like someone who's really clever and just takes advantage only of like modern apis doesn't worry at all about like anything you could do something pretty tight and and small but on the other hand then as soon as you run into like oh i need history support well okay so that's kind hmx does have a little bit of a kitchen sync mindset in in that the kitchen sync is completing html like any feature that html is missing we want we want to provide that as a hyper media and so you know it is it's a design choice you know i wish again i wish i could have kept it under 10k but i just i can figure out how to do it for those that i i see a bunch of questions being like but why 10k 14k is already small enough something about 4 figure javascript just seems so dang appealing comparatively to five figure yeah and so it's it's i don't know that i think we pro like i didn't even have to ask you we just both immediately knew four figure just feels way cooler yeah you got 10 fingers right it's like if you can go under that that's cool it is all right let's see i'm going to just scour some things and see what if we have any good questions in here you got to be careful about chat they ask mediocre questions sometimes it's all good all right all right let's see how does it feel to have made such a huge impact on the web with such a small library and such a simp concept boy you know it's a little surreal it feels like it might be a truman show situation you know like maybe you're in on this old thing we're gonna pull the rug on you here very soon don't worry just yeah exactly like be like psych you're an idiot you know i don't know it's crazy it shows that you know you never know what's going to happen because like again with intercooler i was kind of i'd given up on on making a dent beyond you know the few people that liked it and then co happened and i rewrote htm intercoolers hdmx right place right time and just hanging around so it is it's pretty cool i'm not gonna lie i'm very surprised i'm as surprised as any of you that this happened let's see hold on so here's here's kind of an interesting one if your backend server is now responsible for your api and rendering similar to something like next if that is down/ slow has a bug a client can no longer run anything compared to a spa which can show a spinner rri etc how do you get around this you can do scripting in hdmx apps to do the same thing so hdmx doesn't do it out of the box and obviously in a hyper media driven application which is what i would call an application written mainly in htm x if the server is down you're in a worse spot than you are if if you have an spa that's doing like you know optimistic saving and all that stuff right like so there's no doubt that you are more reliant on the server if you're using a hyper media approach however anything you can do hdmx fires a tremendous number of events and if you're a good javascript programmer then you can use those events in order to pro provide a ui when connectivity is down it show a div or what you know whatever it is to say hey things aren't working right now so it's doable but it's it's work and it's scripting work that's something that just has to be done on the client side and so i'm part of the point of this talk is and this is one thing i say people say oh you know htx anti- javascript blah blah blah and i'm like you know what in five years the best some of the best htm x developers are going to be front-end people who know javascript css html inside out and then have figured out how to use sql effectively on the server like those people are in a position to produce great hdmx applications because they understand html they can use scripting effectively where it's useful get the 8020 like you know do the handle the offline situation or whatever it is but then they're also going to be effective using the most expressive and powerful stuff available on the server side stuff like sql which is powerful in a way that things like graphql just can never be mainly due to security reasons so so you know getting back to the question you know it's doable it's just it's work it's just work you have to do in javascript i do i i also kind of want to double click on something if your api is down sls slow most websites i use don't have a great experience like very very little actually have like a really solid hey we're down right now we're not really sure what's happening you only see that in like the the top like very few websites so i mean in my head i normally don't try to cover the 0.01% of the cases that i really want to cover i really just want to try to make sure the thing works first the happy case and then slowly go from there so it's you know covering the case in which one of your apis are down there's there's i mean there's just so many hypothetically bad situations as tj's saying four htx are just bad situations for all websites yeah i like what tj says many hypthetically bad situations for hmx are just bad situations for all websites you already have the skill issues react andies anyways right it no matter what you made a website with react that's a spa it still doesn't work if you try to go there and the website's down like nothing it doesn't change the calculus fundamentally yeah well like people say oh you know you could you could for example like the subway problem you go into a subway and you're trying to book a ticket and suddenly you lose connectivity and like you wanted to book that ticket well okay you were trying to book a ticket maybe the spa version or whatever you're using says yeah you b booked the ticket but then you come out of the tunnel and now the ticket is already taken or is not available you know the seat or whatever is not available like how do you resolve that situation do you notify the user app like it becomes very complicated this is one of the great simplifying aspects of hyper media driven applications and just thin style it's long conversation but is that you you're using the server as a source of truth and so you're able to synchronize if you have multiple people competing for resources to synchronize that and have one source of truth for all that stuff so some of the examples that i you know people will throw out like on twitter or reddit or whatever where they're like well how would hx handle this i'm like there's just no good way to handle it like you know what are you gonna use like what are those cdts to like figure out your ticket like come on guys just put in database and's pretty good these days there's actually something greatly simpler about htm x specifically in those situations which is it must rely on the server and so by not having some sort of cached smart state you have literally no logic or very thin amounts of logic to say like hey sorry it's like refresh to get the new state of the world versus like i'm going to try to reconcile what has happened in some unknown set of changes between when you started to like that's that's most the work and most the bugs on on websites that i come across is always a reconciliation between what the server has to say and what the client thinks it should be saying and that's just like it's a super hard problem i mean remember i wrote falor i wrote a i spent years writing that darn thing and that thing is literally the attempt to try to rationalize the client state to the server side state and trying to effectively cash data from the server it's it's i quit netflix over it okay it's a really hard it's a it's like an impossible problem you know like it it's not easy all right so someone says can you please explain l versus s so advantages i'll let you define those terms and do that yeah l is locality of behavior and so is separation concerns separation of concerns is a much older concept and it's the idea that you should separate your concerns into different typically files but modules however you want to think about it but the canonical example in web development is that you should separate your scripting and your markup and your styling into three different types of files so your html files your javascript files and your css files and so that's that it was a big idea early on and what vment it's still a lot of people still like that idea a whole bunch locality of behavior is a thing that i came up with as sort of a response to separation of concerns where what what locality behavior says is that you should put code that does something with a thing as close to the thing as possible and so an example of separation of concerns is to have an html file with a button in it and then a javascript file that uses a css selector to look up that button and hook in some logic to the onclick event that's an example of separation of concerns you have the logic in one file and the markup in another file whereas the locality of behavior version of that same button would be the button with an onclick attribute on it and then the code written right there in the button and the argument for separation of concerns is that by separating your concerns you make things less brittle because you don't intersperse two different pieces of logic with one another the argument for locality of behavior is that when i go and look at the button i can see what the button does right there and so i argue in favor of locality of behavior and to an extent against separation of concerns because my experience with separating concerns has not been great it's you looking at a button wondering what it does how do you figure out what it does whereas you just put the code on the button then you can see what it does and that mixes two concerns so logic and markup but to me that's not a as big a deal as being able to understand a button just by looking at it not having to move around in a bunch of different files so that's those are the two ideas locality of behavior is sort of a it's a thing again that i came up with as a way to when people come in hot about separation of concerns say yeah you know separations of concerns is a thing on the other hand there's also locality behavior and really smart people have suggested richard gabriel is the guy who i kind of riff on for that for the essay there's an essay on htm x.org about it and he talks about how grouping code get grouping stuff that's related together even if the quote unquote concerns aren't necessarily the same is very good for main the maintainability of of software and i agree with that so i have kind of there's there's two good questions uh here and so i don't know which one to ask for so we're just going to kind of we're going to go for it let's see if you have multiple different types of clients web browsers mobiles and other service applications each with different requirements or different data representation needs it seems like you need to have a mixed a mix of api server htx server for mobile one for web and let's see or do you fork your logic based on a per client like how do you handle a bunch of different clients and let's also throw in there like you have like a native app that requires json how do you how do you do all of those things i suggest splitting those two those two things up not just so okay so i think that's it's correct to say that if you adopt a hyper media architecture for your web application you're and you have other clients you're going to need to have two things you're going to need to have your hyper media api and then your json api and then the question becomes should you use the accept header if you've ever the accept header in http allows you to make a request to url and then specify i want json or i want html my contention is that you should split those two things into completely separate maybe even separate projects from one another and they should reuse the same domain object so all your business logic all your stuff that's not that doesn't involve taking web requests and turning them into actions and then rendering a response all that stuff should be encapsulated in a layer that's below or away from like something different than your web layer and so you should have a controller you should have controllers for your json api and controllers for your web application and those should be separate from one another i don't think you should use the accept header and have everything going through the same urls i think you should have an explicit separate set of urls for your json api and the reason that i think that is because if you work with htm x for any amount of time what you're going to notice is that your urls first of all they tend to change around really dramatically because as you change as your ui needs changed and this is the great thing about hyper media is that it's really good at not needing a stable api because you get new hyper media content has a new urls in it and it just works whereas json based apis those are fixed data apis they have to be much more stable and so if you actually take the if you separate those two this is an area where i think there is a legitimate argument for separation of concerns if you separate those things then your json api can be very stable it can do things like like rate limiting like all these things that you care about when you're interacting with third parties or whatever you know maybe you use a completely different format than json to talk to your native api right maybe use protocol buffers or whatever but if you separate those two things out then your web app can change really dramatically so if you need to introduce lazy loading for a ui you introduce a url for it you make lazy loading you work with two attributes and it's great and no one it's not going to bother your json api at all that you've got this new specialized endpoint for your ui needs whereas your json api can be nice and stable to be honest like once you get it right it's probably not going to change that much because you know it's a data api hopefully it's pretty stable so if you separate those two things you actually it's a relief for your json api because your json api is not being dragged around by the needs of your web application and your web application is able to take advantage of the flexibility and the chaos that hyper media can absorb in a way that json based architecture just can't is there any concern over the chatty nature of htm x i wonder how bad it gets with a large number of users where you need to have a call for every interaction compared to a traditional spa with a couple calls on load to populate data i by the way before you jump into that i think that is a slight mischaracterization of spas in general in the sense that if you use any spa like if you go to twitter if you go to netflix if you go to facebook if you go anywhere the moment you start moving anything you'll notice that you will get like tens of tens of calls every every time you barely scroll your your wheel so i don't know if that's a fair characterization but give it that you can say that spas have the ability to cash results better than hdmax does yeah well first of all i agree with you my experience with single page applications has not been as like amazing as many of the advocates for single page applications seem to suggest i think one of the things that hdmx does is since it collapses all the complexity between a user action and a request is it makes it much more obvious what's going to cause a request and so you can actually have a better idea and you can you can engineer for interaction speed based on that whereas like if you're using a really complicated reactive system like who knows what's going to cause a request right there's so many layers between a user moving a mouse and the actual backend synchronizing like who knows so i think that it helps in that sense there's also a lot of features of html that are available for example the detail was i forget what it's called i think it's the detail element like you can stream down a bunch of stuff in html and using css or just standard html elements have things like expand collapse and all that sort of stuff so you can return a lot of data and in fact returning a lot of html data is going to be more efficient in some ways than returning a lot of json data you know like if you have a table for example returning a of html is often smaller than the equivalent json representation because equivalent json representation repeats the the field names over and over again that's it tends to be roundoff error so you know yeah it's possible to make a really chatty like if you if you try and like issue a request on every mouse move and you don't debounce that which is a feature hdmx has has it's gonna be pretty chatty but you can you know design around that and then finally the last thing i'd say is like scripting is allowed i'm not saying you can't script in in html you know i just think when you're synchronizing state for the server that should probably be done with hyper media instead so you know it's all it's all doable i my experience with hdmx apps is that they're pretty fast there's that port that that guy did of an application from react hdmx it's available on the hdmx or essays page and they their time to load for the first page went down like by 50 to 60% and they were able to handle much larger data sets than they were in react because it's just a much lighter weight to approach sort of goes with the grain of the browser rather than trying to do all this other stuff so my experience is that it performance can be very good but it's just you know again it's just a tool and you can write a bad hdmx app just like you can write a bad react app i think it might be a little bit easier to write a good hdmx app than a good react app yeah the pit of success is likely easier to fall into with hdmx just because like you said the change points are very well understood and very well defined it's very hard not to know where your application actually changes it's very easy to know when you're kind of like ah this does this just doesn't make any sense i'm using something wrong here and lastly you have a server that goes okay is this person logged in oh this person is logged in i need to send down some extra data in the json request you have a client that goes hey is there the extra data in the json request okay let's take that extra data and let's process and grab some things out of it and so you end up with this duplicity of logic that can be kind of complicated and cumbersome to work with that i think a lot of people don't really talk about which is you already go on the server and go okay you're logged in do you have permissions to view this button oh you do have permissions to view this button i'm going to now create some sort of data field to say you may now look at this button it won't be a button but you can look at the button next one do you have permissions for this thing oh you do you are an editor i'm going to give you also the delete button right like you give all these things that you send down and then the client has to effectively take a second data set with a different structure and walk across that to produce the html so you really get this like dual translation you get a double translation as a single translation for me that's like the easiest way i think about it for why htx makes it simpler is that you don't translate twice you translate once which typically means i have less chance for just putting in a bug less time spend coding less time thinking about two separate data model mod instead i just have one and though typescript is really good js do is really good at kind of alleviating the pain of thinking of two different models it's still is two different models you're working with it still is harder no matter what at the end of the day yeah removing layers at the end of the day is usually good for performance yeah i would agree with that all right let's see you know do by the way do you have any well-known applications or any any applications you'd like to shout out that you use htm x besides for that sweet job interview app that you just saw recently saying htm x required yeah so you can go to hdmx org weing and there's some apps there com space is i actually consult with a company called com space they're a awesome south african company and i the yan the guy who runs it is awesome and so he he kind of went all in on hdmx he used intercooler and then asked he like kind of early on in htx was like okay is this really a thing like are we going to do this and i said yes and he said okay cool come and help us do it right and so i've been that's a a great i was very focused on south africa so but there's a couple other apps that are big the oaml website uses hdmx i think it's pretty simple way that it uses it but that's kind of cool berkeley i went to berkeley for undergrad so the berkeley nobel prize website uses it there a couple other in there there's what's that one i i always forget the name hold on shx org weing there's the there's the french company that does the whole pdf reader w yes yeah there were some ai people nike vision uses it zoro management's the one that's probably the most elaborate which is sort of a project management system it was written my understanding is it was written by a guy who's a game developer and he's like i don't like any of these project management systems so he just built own which is way better sounds very game developer yeah like what you do i program for 72 hours straight yeah pretty much but he and he uses a lot of that's a good example where he's using a boatload a javascript as well alongside htm x and the two you know play really well together so again i think that's evidence that hdmx is not necessarily anti- javascript nice well thank you carson for being on here i don't want to take up any more of your time this was absolutely fantastic i am very excited to see 2024 where where does htm x go does it keep the limelight do we start seeing a lot more force out there or is was was this just a 2023 unique special no one's gonna be able to take the second half of 2023 away from me so yeah it's all good that was pretty cool and again i appreciate you you know tak a chance on hdmx it's definitely a different way of doing things but hopefully hopefully people find it useful yeah well you got me right away technically tj was the one that told me to go check it out and i mean the reality is is that i've been hating clientside state and i just didn't have a good way to formulate why i hated it i just knew that i just hate this translations and all this and i just was like i just i don't know what i want i just know i don't want this and i don't know how to how do i say the thing i don't want and so i probably if i wouldn't have done hmx i probably would have liked react server components as the alternative because at least i'm programming on the server and just trying to keep everything i can to the server like i i i don't mind that that perspective it's just that it wasn't it's still not what exactly what i want this is what i want so hopefully 2024 is even better cool yeah man right hey big sky devcon it's coming at some point yeah tell me the details let's make this work just don't make it php usa i'm going to the php l conference okay oh boy okay yeah i don't know i don't know the details aren't finalized yet so but i'll i'll let you know all right deal take care cool man cheers