Post Id,Parent Id,Title,Body,CreationDate,Score,PostType
"79648081","79269114","","<p>While I generally agree with @jsbueno 's answer that overloading will require `typing.overload` I'm not sure it is needed for your example.</p>
<p>Sure, regarding the part of your question about &quot;Can I somehow 'overload' decorator?&quot; yes, you can and you would need `typing.overload` (as already mentioned) and you can read more about it in the official PEP-484 (python-enhancement-proposal) specifically the part about overloading: <a href=""https://peps.python.org/pep-0484/#function-method-overloading"" rel=""nofollow noreferrer"">https://peps.python.org/pep-0484/#function-method-overloading</a></p>
<p>However, decorators are going to behave more like a C++ generic constructor for functions in your example through some syntactic sugar. So, regarding the remaining part of your question: &quot;Can I use some nice solutions in this case?&quot; yes, just make the method static.</p>
<p>The only issue with your example code I see is the class method is not marked as 'static' but implemented as static, yet called on the instance when used.</p>
<p>e.g, more decorators is simple and works in this case</p>
<pre class=""lang-py prettyprint-override""><code>   # double decorate static class method to drop the unused self argument
   @nice
   @staticmethod
   def sumup(a, b):
       return a + b
</code></pre>
<p>This way your <code>@nice</code> decorator takes the &quot;static&quot; &quot;member&quot; method (e.g., instead of the C++ covariant-like argument) output by the <code>@staticmethod</code> decorator which takes the static class function as input,</p>
<p><strong>OR</strong> (as mentioned already) you could also just move the scope of <code>a</code>, <code>b</code>, to the decorator like so:</p>
<pre class=""lang-py prettyprint-override""><code>def nice(f, *args, **kwargs):
   @wraps(f)
   def decorator(*args, **kwargs):
       result = f(*args, **kwargs)
       return 'result is: %s' % str(result)
   
   return decorator
</code></pre>
<p>from my light testing:</p>
<pre><code>from functools import wraps
def nice(f, *args, **kwargs):
    @wraps(f)
    def decorator(*args, **kwargs):
        result = f(*args, **kwargs)
        return 'result is: %s' % str(result)
    
    return decorator


@nice
def sumup(a, b):
    return a+ b


# &gt;&gt;&gt; sumup(9, 8)
# 'result is: 17'
# &gt;&gt;&gt; 

# &gt;&gt;&gt; class Test:
# ...    def __init__(self):
# ...        pass
# ...    
# ...    @nice
# ...    def sumup(self, a, b):
# ...        return a + b
# ...        
# &gt;&gt;&gt; cls = Test()
# ... print(cls.sumup(4, 8))
# ... 
# result is: 12
# &gt;&gt;&gt; 
</code></pre>
<p>sorry for the rushed answer, hopefully this helps.</p>
","2025-06-02 01:13:34","0","Answer"
"79648035","79269114","","<p>In Python, instead of natural, compiler-dispatched overloading, what we have are optional parameters.</p>
<p>They are quite easy to use, very natural do the language (although they won't that naturally fit along the new static type checking features - for that, the parallel use of <code>typing.overload</code> would be required in cases like this)</p>
<p>So, the thing is if a function can be expected to be called with different number (or names) parameters, the simplest thing to do is to just add parameters which hold default values, then use <code>if</code> statements in the body to check if arguments for those were passed when it was called.</p>
<p>When writing decorators, usually we have &quot;everything working&quot; because most decorators will just want to receive all arguments, no matter which, and feed those into the decorated function - you will usually see the inner decorator function feature a signature like <code>def f(*args, **kwargs):</code> .</p>
<p>If you want to decorate targeted functions to which you know the arguments, like in <code>a</code>, <code>b</code> in the example, there is a complication because when calling a function in Python each argument can be, by default, passed either by position or by name.</p>
<p>So, the &quot;obvious thing to do&quot; is, instead of trying to write a decorator function which will accept the maximum number of args (3 in this case) and try to deal with whatever is passed in, is to use Python's stdlib <code>inspect.signature</code> helper: it will ingest arbitrary arguments as <code>*args</code>  and <code>**kwargs</code> and allow you to extract them by name the same way the language does when calling a function. This approach has the advangage of working for arbitrary function/method signatures:</p>
<pre><code>from functools import wraps
from inspect import signature

def nice(f):
    sig = signature(f)
    
    # optional
    # self_expected = bool(len(tmp:=list(sig.parameters)) == 3 and tmp[0] == &quot;self&quot;)
    
    # note that here you can opt to could just do as in C++ and other
    # overload at compile language and use an if/else class
    # to declare two different versions of the &quot;decorator&quot; function, one with 3
    # and another with two parameters
    # if self_expected:
    #     def decorator(self, a, b):
    #        ...
    # else:
    #     ....
    
    # otherwise, just use the `.bind` method of the signature 
    # object inside the decorator:

    @wraps(f)
    def decorator(*args, **kwargs):
        bound_args = sig.bind(*args, **kwargs)
        
        # you can retireve a, or b, regardless of how they where passed:
        print(f&quot;a={bound_args.arguments['a']}, b={bound_args.arguments['b']}, method or not&quot;)
                    
        # optionally check for 'self':
        if &quot;self&quot; in bound_args.arguments:
            # code to run if target is a method
            ...
            
        # forward arguments as received by the decorator to the function
        result = f(*bound_args.args, **bound_args.kwargs)
        
        # the '&quot;%s&quot; % arg' string interpolation was superceeded like 15 years ago,
        # and even them, it wouldn't require an explicit conversion to a string:
        #         print('result is: %s' % str(result))

        print(f'result is: {result}')
        return result
    
    return decorator

@nice
def sumup(a, b):
return a + b


class Test:
def __init__(self):
    pass

@nice
def sumup(self, a, b):
    return a + b

print(sumup(1, 2))
print(sumup(b=2, a=1))
cls = Test()
print(cls.sumup(4, 8))


</code></pre>
<p>Note that while it is possible to write a somewhat naive
decorator that will simply accept 2 or 3 arguments, and forward those
to the decorated function, checking which of those are <code>a</code> or <code>b</code>
could get complicated fast:</p>
<pre><code>sentinel = object()

def nice(f):
    self_expected = bool(len(tmp:=list(signature(f).parameters)) == 3 and tmp[0] == &quot;self&quot;)
    ...
    def decorator(self=sentinel, a=sentinel, b=sentinel):
        if self_expected and a is sentinel or b is sentinel: #not enough arguments:
            raise TypeError(&quot;...&quot;)
        if not self_expected:  # arguments can be by position or by name
            if self is not sentinel:
                # argument &quot;a&quot; passed by position
                if b is sentinel and a is not sentinel:  # both arguments where passed by position
                    b = a
                    a = self
                elif b is not sentinel: # b was passed by name
                    ...
                ...
</code></pre>
","2025-06-01 23:40:56","0","Answer"
"79547842","79307396","","<p>If you want to test your function by calling it simply,you can try like this.</p>
<pre><code>sol = Solution()
result = sol.search(nums = [-1,0,3,5,9,12], target = 9)
print(result)
</code></pre>
<p>This is the full example.</p>
<pre><code>#
# @lc app=leetcode id=704 lang=python3
#
# [704] Binary Search
#

# @lc code=start
from typing import List

class Solution:
    def search(self, nums: List[int], target: int) -&gt; int:
        #establish a left and right limit
        l = 0
        #this will take from the right and push more towards the middle to // by 2
        r = len(nums) - 1

        while(l &lt;= r):
            #create the mid
            m = (l + r) // 2
            
            if nums[m] &gt; target:
                #move the mid to right
                r = m - 1
            elif nums[m] &lt; target:
                #move the mid to left
                l = m + 1
            else:
                #found
                return m
        #not found
        return -1
# @lc code=end

sol = Solution()
result = sol.search(nums = [-1,0,3,5,9,12], target = 9)
print(result)
</code></pre>
","2025-04-01 06:14:54","0","Answer"
"79544239","78633143","","<p>Docstring capability has been added to studio.</p>
<p>This implementation of docstrings seems to not follow the javadoc standard of <code>@param / @return</code> or the sphinx standard of <code>:param / :return</code> as markup does not seem to be implemented.</p>
<p>As with most things Roblox, I'd recommend utilizing the docstrings on Roblox methods - as OP mentions in his post - as example of what to do until community standards take precedent.</p>
<p>Here’s a screenshot of docstrings in Roblox Studio:</p>
<p><a href=""https://i.sstatic.net/kZ8dKWKb.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/kZ8dKWKb.png"" alt=""Screenshot of docstrings in Roblox Studio"" /></a></p>
","2025-03-30 06:13:15","0","Answer"
"79497076","79307396","","<p>You don't need to call the function when solving leetcode. You just need to implement the function given in the template by leetcode under the class <code>Solution</code>. You can implement other functions that can be called inside that function but you cannot change the function header of the function given as it is called by the leetcode driver code to evaluate your answer.</p>
<p>Also according to the function header of the question you have asked you need to return an int as a result and not print it.</p>
<p>Here's your modified code :</p>
<pre><code>class Solution:
    def search(self, nums: List[int], target: int) -&gt; int:
        l = 0
        r = len(nums) - 1
        while(l&lt;=r):
            m = (l + r) // 2
            if nums[m] &gt; target:
                r = m - 1
            elif nums[m] &lt; target:
                l = m + 1
            else:
                return m
        return -1
</code></pre>
","2025-03-10 05:21:17","0","Answer"
"79344652","78633143","","<p>If you're using Luau in VS Code, I'm assuming that you have <a href=""https://eryn.io/moonwave/docs/intro"" rel=""nofollow noreferrer"">Luau Language Server</a> installed.</p>
<p>Luau Language Server supports Moonwave-like docstrings.  According to the <a href=""https://eryn.io/moonwave/docs/intro#documenting-functions"" rel=""nofollow noreferrer"">documentation</a>, you can do this:</p>
<pre class=""lang-lua prettyprint-override""><code>--[=[
    This is a very fancy function that adds a couple numbers.

    @param a number -- The first number you want to add
    @param b number -- The second number you wanna add
    @return number -- Returns the sum of `a` and `b`
]=]
function MyFirstClass:add(a, b)
    return a + b
end
</code></pre>
","2025-01-10 04:58:52","0","Answer"
"79341212","79312370","","<p>The logic being implemented by the <code>set_alert_priority</code> function can be accomplished using a series of native Spark functions. Using native spark functions is typically the best approach for resource optimization.</p>
<p>Note: The solution submitted below expects that for each row, either escalation_fg=1 OR process_fg=1 (never both equal to 1). If this is not the case please add a comment and I will update my solution.</p>
<hr />
<h4>Step 0. Set-up</h4>
<pre><code># Input Lists
topics = ['Critical','Insight']
themes = ['escalation_fg','process_fg']
reasons = ['reason_escalation_fg','reason_process_fg']
l2_themes = ['CRC','Process']

# Input Data
input_df = spark.createDataFrame([
    Row(id=123, escalation_fg=1, process_fg=-4, reason_escalation_fg=&quot;fail&quot;, reason_process_fg=&quot;invalid&quot;),
    Row(id=234, escalation_fg=0, process_fg=0, reason_escalation_fg=&quot;standby&quot;, reason_process_fg=&quot;standby&quot;),
    Row(id=345, escalation_fg=1, process_fg=0, reason_escalation_fg=&quot;fail&quot;, reason_process_fg=&quot;standby&quot;),
    Row(id=456, escalation_fg=0, process_fg=1, reason_escalation_fg=&quot;standby&quot;, reason_process_fg=&quot;timeout&quot;),
    Row(id=567, escalation_fg=-21, process_fg=-4, reason_escalation_fg=&quot;error&quot;, reason_process_fg=&quot;invalid&quot;),
    Row(id=678, escalation_fg=-4, process_fg=-2, reason_escalation_fg=&quot;invalid&quot;, reason_process_fg=&quot;oops&quot;),
])
</code></pre>
<h3>Step 1. Collect counts</h3>
<p>Calculates the <code>num_alerts_tagged</code> and <code>row_sum</code></p>
<pre><code>count_df = input_df\
    .withColumn(&quot;theme_values&quot;, F.array(*themes))\
    .withColumn(&quot;num_alerts_tagged&quot;, F.size(F.filter(&quot;theme_values&quot;, lambda x: x == 1)))\
    .withColumn(&quot;row_sum&quot;, F.expr(&quot;aggregate(theme_values, cast(0 as bigint), (acc, x) -&gt; acc + x)&quot;))
</code></pre>
<p><code>theme_values</code> is a list of all the values for all themes. This can be summed using a Spark SQL expression to generate <code>row_sum</code>. You may not require the <code>cast(0 as bigint)</code> part and can instead use <code>0</code>. (Spark will give an error about data type mismatch and you can update this answer as you need to use the data types to work for your input data)</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>escalation_fg</th>
<th>process_fg</th>
<th>reason_escalation_fg</th>
<th>reason_process_fg</th>
<th>theme_values</th>
<th>num_alerts_tagged</th>
<th>row_sum</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>1</td>
<td>-4</td>
<td>fail</td>
<td>invalid</td>
<td>[1, -4]</td>
<td>1</td>
<td>-3</td>
</tr>
<tr>
<td>234</td>
<td>0</td>
<td>0</td>
<td>standby</td>
<td>standby</td>
<td>[0, 0]</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>345</td>
<td>1</td>
<td>0</td>
<td>fail</td>
<td>standby</td>
<td>[1, 0]</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>456</td>
<td>0</td>
<td>1</td>
<td>standby</td>
<td>timeout</td>
<td>[0, 1]</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>567</td>
<td>-21</td>
<td>-4</td>
<td>error</td>
<td>standby</td>
<td>[-21, -4]</td>
<td>0</td>
<td>-25</td>
</tr>
<tr>
<td>678</td>
<td>-4</td>
<td>-2</td>
<td>invalid</td>
<td>oops</td>
<td>[-4, -2]</td>
<td>0</td>
<td>-6</td>
</tr>
</tbody>
</table></div>
<h3>Step 2. Get Details on Tagged alert</h3>
<p>Below we collect all the theme data under the column <code>all_theme_data</code>.
This column is an array of struct. The struct is formatted like,</p>
<pre><code>{
  'key':'escalation_fg',
  'val':1,
  'idx':0
}
</code></pre>
<p>The <code>idx</code> is important because this tells us the index value in the <code>themes</code> list that we will use when looking up data in the other input lists</p>
<p>We then look up when an alert is tagged, and we flatten out the <code>tagged_alert_struct</code>. Making the columns <code>tagged_alert_name</code>, <code>tagged_alert_val</code>, <code>tagged_alert_idx</code></p>
<pre><code>theme_df = count_df\
    .withColumn(&quot;all_theme_data&quot;, F.array(*[F.struct([F.lit(c).alias(&quot;key&quot;), F.col(c).alias(&quot;val&quot;), F.lit(idx).alias(&quot;idx&quot;)]) for idx, c in enumerate(themes)]))\
    .withColumn(&quot;all_tagged_alerts&quot;, F.filter(&quot;all_theme_data&quot;, lambda x: x.val == 1))\
    .withColumn(&quot;tagged_alert_struct&quot;, F.col(&quot;all_tagged_alerts&quot;)[0])\
    .withColumn(&quot;tagged_alert_name&quot;, F.col(&quot;tagged_alert_struct&quot;).key)\
    .withColumn(&quot;tagged_alert_val&quot;, F.col(&quot;tagged_alert_struct&quot;).val)\
    .withColumn(&quot;tagged_alert_idx&quot;, F.col(&quot;tagged_alert_struct&quot;).idx)
</code></pre>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>escalation_fg</th>
<th>process_fg</th>
<th>reason_escalation_fg</th>
<th>reason_process_fg</th>
<th>theme_values</th>
<th>num_alerts_tagged</th>
<th>row_sum</th>
<th>all_theme_data</th>
<th>all_tagged_alerts</th>
<th>tagged_alert_struct</th>
<th>tagged_alert_name</th>
<th>tagged_alert_val</th>
<th>tagged_alert_idx</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>1</td>
<td>-4</td>
<td>fail</td>
<td>invalid</td>
<td>[1, -4]</td>
<td>1</td>
<td>-3</td>
<td>[{escalation_fg, 1, 0}, {process_fg, -4, 1}]</td>
<td>[{escalation_fg, 1, 0}]</td>
<td>{escalation_fg, 1, 0}</td>
<td>escalation_fg</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>234</td>
<td>0</td>
<td>0</td>
<td>standby</td>
<td>standby</td>
<td>[0, 0]</td>
<td>0</td>
<td>0</td>
<td>[{escalation_fg, 0, 0}, {process_fg, 0, 1}]</td>
<td>[]</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>345</td>
<td>1</td>
<td>0</td>
<td>fail</td>
<td>standby</td>
<td>[1, 0]</td>
<td>1</td>
<td>1</td>
<td>[{escalation_fg, 1, 0}, {process_fg, 0, 1}]</td>
<td>[{escalation_fg, 1, 0}]</td>
<td>{escalation_fg, 1, 0}</td>
<td>escalation_fg</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>456</td>
<td>0</td>
<td>1</td>
<td>standby</td>
<td>timeout</td>
<td>[0, 1]</td>
<td>1</td>
<td>1</td>
<td>[{escalation_fg, 0, 0}, {process_fg, 1, 1}]</td>
<td>[{process_fg, 1, 1}]</td>
<td>{process_fg, 1, 1}</td>
<td>process_fg</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>567</td>
<td>-21</td>
<td>-4</td>
<td>error</td>
<td>standby</td>
<td>[-21, -4]</td>
<td>0</td>
<td>-25</td>
<td>[{escalation_fg, -21, 0}, {process_fg, -4, 1}]</td>
<td>[]</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>678</td>
<td>-4</td>
<td>-2</td>
<td>invalid</td>
<td>oops</td>
<td>[-4, -2]</td>
<td>0</td>
<td>-6</td>
<td>[{escalation_fg, -4, 0}, {process_fg, -2, 1}]</td>
<td>[]</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
</tbody>
</table></div>
<h3>Step 3. Look up the topic, l2_theme, and reason</h3>
<p>Here we load the input lists to add them to the dataframe. Then using the <code>tagged_alert_idx</code> we are able to look up the values.</p>
<p>Except that the reasons input list actually provides us with a column name, not the value we need so we use <code>tagged_alert_idx</code> to look up the reason column name. Then we collect the reason value from that column.</p>
<pre><code># Add Input Lists to DataFrame
lookup_df = theme_df\
    .withColumn(&quot;topics&quot;, F.array(*[F.lit(x) for x in topics]))\
    .withColumn(&quot;reasons&quot;, F.array(*[F.lit(x) for x in reasons]))\
    .withColumn(&quot;l2_themes&quot;, F.array(*[F.lit(x) for x in l2_themes]))\
    .withColumn(&quot;reason_col&quot;, F.element_at(&quot;reasons&quot;, (F.col(&quot;tagged_alert_idx&quot;)+1)))

# Lookup input list value for the alert that is tagged
priority_df = lookup_df\
    .withColumn(&quot;topic&quot;, F.element_at(&quot;topics&quot;, (F.col(&quot;tagged_alert_idx&quot;)+1)))\
    .withColumn(&quot;l2_theme&quot;, F.element_at(&quot;l2_themes&quot;, (F.col(&quot;tagged_alert_idx&quot;)+1)))\
    .withColumn(&quot;reason&quot;, F.coalesce(*[F.when(lookup_df.reason_col == c, lookup_df[c]) for c in reasons]))
</code></pre>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>escalation_fg</th>
<th>process_fg</th>
<th>reason_escalation_fg</th>
<th>reason_process_fg</th>
<th>num_alerts_tagged</th>
<th>row_sum</th>
<th>tagged_alert_name</th>
<th>tagged_alert_val</th>
<th>tagged_alert_idx</th>
<th>topic</th>
<th>l2_theme</th>
<th>reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>1</td>
<td>-4</td>
<td>fail</td>
<td>invalid</td>
<td>1</td>
<td>-3</td>
<td>escalation_fg</td>
<td>1</td>
<td>0</td>
<td>Critical</td>
<td>CRC</td>
<td>fail</td>
</tr>
<tr>
<td>234</td>
<td>0</td>
<td>0</td>
<td>standby</td>
<td>standby</td>
<td>0</td>
<td>0</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>345</td>
<td>1</td>
<td>0</td>
<td>fail</td>
<td>standby</td>
<td>1</td>
<td>1</td>
<td>escalation_fg</td>
<td>1</td>
<td>0</td>
<td>Critical</td>
<td>CRC</td>
<td>fail</td>
</tr>
<tr>
<td>456</td>
<td>0</td>
<td>1</td>
<td>standby</td>
<td>timeout</td>
<td>1</td>
<td>1</td>
<td>process_fg</td>
<td>1</td>
<td>1</td>
<td>Insight</td>
<td>Process</td>
<td>timeout</td>
</tr>
<tr>
<td>567</td>
<td>-21</td>
<td>-4</td>
<td>error</td>
<td>standby</td>
<td>0</td>
<td>-25</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
<tr>
<td>678</td>
<td>-4</td>
<td>-2</td>
<td>invalid</td>
<td>oops</td>
<td>0</td>
<td>-6</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
<td>NULL</td>
</tr>
</tbody>
</table></div>
<h3>Step 4. Create Level_L1, Level_L2, Alert_Reason columns</h3>
<p>Finally, we create the final columns using a <code>when</code> statement to evaluate conditions and determine output</p>
<pre><code># Created Level_L1, Level_L2, Alert_Reason columns
output_priority_df = priority_df\
    .withColumn(&quot;Level_L1&quot;,
                F.when(F.col(&quot;num_alerts_tagged&quot;) == 0, &quot;No Action&quot;)\
                .when(F.col(&quot;row_sum&quot;) == -25, &quot;GPT Error&quot;)
                .when(F.col(&quot;tagged_alert_val&quot;) == 1, F.col(&quot;topic&quot;)))\
    .withColumn(&quot;Level_L2&quot;,
                F.when(F.col(&quot;num_alerts_tagged&quot;) == 0, &quot;No Action&quot;)\
                .when(F.col(&quot;row_sum&quot;) == -25, &quot;GPT Error&quot;)
                .when(F.col(&quot;tagged_alert_val&quot;) == 1, F.col(&quot;l2_theme&quot;)))\
    .withColumn(&quot;Alert_Reason&quot;,
                F.when(F.col(&quot;num_alerts_tagged&quot;) == 0, &quot;No Action&quot;)\
                .when(F.col(&quot;row_sum&quot;) == -25, &quot;GPT Error&quot;)\
                .when(F.col(&quot;tagged_alert_val&quot;) == 1, F.col(&quot;reason&quot;)))
</code></pre>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>escalation_fg</th>
<th>process_fg</th>
<th>reason_escalation_fg</th>
<th>reason_process_fg</th>
<th>num_alerts_tagged</th>
<th>row_sum</th>
<th>tagged_alert_val</th>
<th>Level_L1</th>
<th>Level_L2</th>
<th>Alert_Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>123</td>
<td>1</td>
<td>-4</td>
<td>fail</td>
<td>invalid</td>
<td>1</td>
<td>-3</td>
<td>1</td>
<td>Critical</td>
<td>CRC</td>
<td>fail</td>
</tr>
<tr>
<td>234</td>
<td>0</td>
<td>0</td>
<td>standby</td>
<td>standby</td>
<td>0</td>
<td>0</td>
<td>NULL</td>
<td>No Action</td>
<td>No Action</td>
<td>No Action</td>
</tr>
<tr>
<td>345</td>
<td>1</td>
<td>0</td>
<td>fail</td>
<td>standby</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>Critical</td>
<td>CRC</td>
<td>fail</td>
</tr>
<tr>
<td>456</td>
<td>0</td>
<td>1</td>
<td>standby</td>
<td>timeout</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>Insight</td>
<td>Process</td>
<td>timeout</td>
</tr>
<tr>
<td>567</td>
<td>-21</td>
<td>-4</td>
<td>error</td>
<td>standby</td>
<td>0</td>
<td>-25</td>
<td>NULL</td>
<td>GPT Error</td>
<td>GPT Error</td>
<td>GPT Error</td>
</tr>
<tr>
<td>678</td>
<td>-4</td>
<td>-2</td>
<td>invalid</td>
<td>oops</td>
<td>0</td>
<td>-6</td>
<td>NULL</td>
<td>No Action</td>
<td>No Action</td>
<td>No Action</td>
</tr>
</tbody>
</table></div>
","2025-01-09 02:26:59","0","Answer"
"79331302","79313604","","<p>Use CallByName or Reflection as discussed here:</p>
<p><a href=""https://stackoverflow.com/a/249393/7091316"">Dynamically invoke properties by string name using VB.NET</a></p>
<p>In this example, the function calc is called using the string &quot;calc&quot;, which could come from a SQL Server query or elsewhere.</p>
<pre><code>Private Class Calculations
    Public Function calc(ByVal ParamArray args() As Integer) As Integer
       Return args(0) * 2
    End Function
End Class

Dim calculator As New Calculations
Dim args(0) As Integer
args(0) = 7
Dim result = Microsoft.VisualBasic.CallByName(calculator, &quot;calc&quot;, Microsoft.VisualBasic.CallType.Get, args)

'result = 14
</code></pre>
","2025-01-05 18:20:33","0","Answer"
"79327742","79315600","","<p>You can do this using OpenAI function calling. Just define the function schema like I've done below, call the function, and it will work. Also, you would have to change the API key and model name according to the configuration that you have on your side.</p>
<pre><code>import openai

openai.api_key = &quot;openai_api_key&quot;

function_name = &quot;generate_jokes&quot;
input_text = &quot;Why did the chicken cross the road?&quot;
number_of_jokes = 3

response = openai.ChatCompletion.create(
    model=&quot;your-model&quot;,
    messages=[
        {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;You are a helpful assistant.&quot;},
        {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;Generate jokes based on input text.&quot;}
    ],
    functions=[
        {
            &quot;name&quot;: function_name,
            &quot;description&quot;: &quot;Generate 3 jokes based on input text&quot;,
            &quot;parameters&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;required&quot;: [&quot;input_text&quot;, &quot;number_of_jokes&quot;],
                &quot;properties&quot;: {
                    &quot;input_text&quot;: {
                        &quot;type&quot;: &quot;string&quot;,
                        &quot;description&quot;: &quot;The text or context based on which jokes will be generated&quot;
                    },
                    &quot;number_of_jokes&quot;: {
                        &quot;type&quot;: &quot;number&quot;,
                        &quot;description&quot;: &quot;The number of jokes to generate; default is 3&quot;
                    }
                },
                &quot;additionalProperties&quot;: False
            }
        }
    ],
    function_call={&quot;name&quot;: function_name},
    temperature=0.7
)
</code></pre>
","2025-01-03 21:36:26","0","Answer"
"79324748","79318823","","<p>Happy New Year ~ With guidance, I took the recommendations and altered it to combine it with another filter to toggle between a progress of completed or less than 100%.</p>
<p>=FILTER(Table2,(COUNTIFS(Table2[Item '#],Table2[Item '#],Table2[Version '#],&quot;&gt;&quot;&amp;Table2[Version '#])=0)*(Table2[Progress Category]=B3))</p>
<p>in the filter function, if you need to add another criteria you can use the * asterisk and add in the next item you need to filter! And to toggle, I used Cell B3 to have a toggle between a list of progress options. Exciting, I know. Thanks everyone!</p>
","2025-01-02 19:17:55","0","Answer"
"79320942","79320929","","<p>The <a href=""https://mathworld.wolfram.com/KaprekarRoutine.html"" rel=""nofollow noreferrer"">Kaprekar Routine</a> takes a number, sorts its digits descending and ascending, subtracts them, and repeats.</p>
<p>For 5-digit numbers, The Kaprekar Routine either converges to 0 or one of the following three cycles:</p>
<pre class=""lang-none prettyprint-override""><code>53955, 59994
61974, 82962, 75933, 63954
62964, 71973, 83952, 74943
</code></pre>
<p>Here is the process for 85555:</p>
<pre class=""lang-none prettyprint-override""><code>85555 -&gt; 85555 - 55558 = 29997
29997 -&gt; 99972 - 27999 = 71973   # 3rd cycle above starts here
71973 -&gt; 97731 - 13779 = 83952
83952 -&gt; 98532 - 23589 = 74943
74943 -&gt; 97443 - 34479 = 62964
62964 -&gt; 96642 - 24669 = 71973   # and it repeats
</code></pre>
<p>So this code is wrong, as it assumes the number converges to one number, so the code runs for <code>MAX_ROUNDS</code> and happens to stop on a different number in the cycle:</p>
<pre class=""lang-c prettyprint-override""><code>        // Break if the sequence converges or doesn't change
        if (nextN == n) {
            break;
        }
</code></pre>
<p>I'll leave it as an exercise for the OP to fix.</p>
","2024-12-31 23:37:55","3","Answer"
"79320929","","Trying to write a code in C for a kaprekar routine. How can I fix the code to get a correct output for 85555?","<p>I am trying to build a code in C that will go over the specified 4 numbers and will give an output based on their kaprekar process. If the number converges it should return the number it converges to, if it doesn't it should return -1. I am getting the correct result for all numbers but 85555, can someone help me identify the issue? I've tried to fix it but can't find what's wrong.</p>
<pre><code>#include &lt;stdio.h&gt;
#define MAX_ROUNDS 1000
// Function declarations
long long kaprekar(long long n);
void arrayCountDigits(long long n, int* cArr);
long long sortDigits(int* cArr, int dir);

int main() {
    printf(&quot;%lld\n&quot;, kaprekar(11));         // Output: 0
    printf(&quot;%lld\n&quot;, kaprekar(85555));      // Wrong Output:74943 Should be 71973 
    printf(&quot;%lld\n&quot;, kaprekar(8991));       // Output: 6174
    printf(&quot;%lld\n&quot;, kaprekar(63317664));   // Output: 63317664

    return 0;
}

// Function to count digits of a number
void arrayCountDigits(long long n, int* cArr) {
    for (int i = 0; i &lt; 10; i++) {
        cArr[i] = 0; // Initialize counts to zero
    }
    if (n == 0) {
        cArr[0] = 1;

    }
    while (n &gt; 0) {
        cArr[n % 10]++;
        n /= 10;
    }
}

// Function to sort digits and form a number
long long sortDigits(int* cArr, int dir) {
    long long result = 0;
    if (dir == 0) { // Ascending order
        for (int i = 0; i &lt; 10; i++) {
            while (cArr[i] &gt; 0) {
                result = result * 10 + i;
                cArr[i]--; // Decrement digit count
            }
        }
    }
    else { // Descending order
        for (int i = 9; i &gt;= 0; i--) {
            while (cArr[i] &gt; 0) {
                result = result * 10 + i;
                cArr[i]--; // Decrement digit count
            }
        }
    }
    return result;
}

// Kaprekar function
long long kaprekar(long long n) {
    int cArr[10];
    long long nUp, nDown, nextN;
    int rounds = 0;

    while (rounds &lt; MAX_ROUNDS) {
        arrayCountDigits(n, cArr);

        // Sort digits in ascending and descending order
        nUp = sortDigits(cArr, 0);

        // Reset the digit counts for descending sort
        arrayCountDigits(n, cArr);
        nDown = sortDigits(cArr, 1);

        // Compute the next number in the sequence
        nextN = nDown - nUp;

        // Break if the sequence converges or doesn't change
        if (nextN == n) {
            break;
        }
        n = nextN;
        rounds++;
    }

    return n;
}
</code></pre>
<p>Don't really know what else to try, the code works for the all numbers but 85555.</p>
","2024-12-31 23:20:37","-5","Question"
"79320364","79318823","","<p>Also (old-school):</p>
<pre><code>=FILTER(Table1,COUNTIFS(Table1[Item '#],Table1[Item '#],Table1[Version '#],&quot;&gt;&quot;&amp;Table1[Version '#])=0)
</code></pre>
","2024-12-31 16:05:54","1","Answer"
"79319342","79318823","","<p><code>=CHOOSEROWS(Table2,XMATCH(UNIQUE(Table2[Item '#]),Table2[Item '#],,-1))</code></p>
<p>Or if the table is unsorted:</p>
<pre><code>=LET(x,SORT(Table2,{2,1}),
     i,TAKE(x,,1),
CHOOSEROWS(x,XMATCH(UNIQUE(i),i,,-1)))
</code></pre>
","2024-12-31 06:47:52","2","Answer"
"79318961","79318823","","<p>This formula does the following:</p>
<ul>
<li>Sorts by ID then version</li>
<li>Creates unique list of ID's</li>
<li>Looks up the ID without exact match, which will always return the last version</li>
<li>Returns respective row</li>
</ul>
<p>I copied your sample data to cell <code>A1</code></p>
<pre><code>=LET(allData,SORT($A$2:$C$11,{1,2},1),zUnique,UNIQUE(INDEX(allData,,1)),
iPullRow,MATCH(zUnique,INDEX(allData,,1)), HSTACK(zUnique,INDEX(allData,iPullRow,{2,3})))

</code></pre>
<p><a href=""https://i.sstatic.net/poMyhKfg.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/poMyhKfg.png"" alt=""Sample result"" /></a></p>
","2024-12-31 01:09:56","1","Answer"
"79318823","","Using Excel function: How to Select Rows based on Max Version Number","<p>I created a formula to filter a list of items if the progress completion of a build is 100% complete. However some items have revisions and then will eventually restart their progress completion.</p>
<p>The issue I'm encountering is that my filter function will pull in all the versions of an item. How would I get the filter function to only return the rows of the latest version. Right now, the filter is basing it off &lt;100% but there are still duplicates of the item #.</p>
<p>The formula I am using: <code>=(FILTER(Table2,Table2[Progress Category]=&quot;&lt;100%&quot;))</code></p>
<p>Example of the raw data:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Item #</th>
<th>Version #</th>
<th>Progress %</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>100%</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>100%</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>80%</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>100%</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>100%</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
<td>90%</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
<td>100%</td>
</tr>
<tr>
<td>5</td>
<td>1</td>
<td>100%</td>
</tr>
<tr>
<td>5</td>
<td>2</td>
<td>80%</td>
</tr>
<tr>
<td>6</td>
<td>3</td>
<td>100%</td>
</tr>
</tbody>
</table></div>
<p>Expected output
(1 item with the latest version and the latest progress %):</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Item #</th>
<th>Version #</th>
<th>Progress %</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>100%</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>80%</td>
</tr>
<tr>
<td>3</td>
<td>3</td>
<td>90%</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
<td>100%</td>
</tr>
<tr>
<td>5</td>
<td>2</td>
<td>80%</td>
</tr>
<tr>
<td>6</td>
<td>3</td>
<td>100%</td>
</tr>
</tbody>
</table></div>
<p>Thank you!</p>
","2024-12-30 23:13:53","1","Question"
"79318480","79315600","","<p>use the json string to initialize your prompt template then pass in formation to the template and invoke openai for the answer</p>
<pre><code>import json
import openai

# Sample JSON input
json_input = '''
{
  &quot;name&quot;: &quot;generate_jokes&quot;,
  &quot;description&quot;: &quot;Generate 3 jokes based on input text&quot;,
  &quot;strict&quot;: true,
  &quot;parameters&quot;: {
    &quot;type&quot;: &quot;object&quot;,
    &quot;required&quot;: [
      &quot;input_text&quot;,
      &quot;number_of_jokes&quot;
    ],
    &quot;properties&quot;: {
      &quot;input_text&quot;: {
        &quot;type&quot;: &quot;string&quot;,
        &quot;description&quot;: &quot;The text or context based on which jokes will be generated&quot;
      },
      &quot;number_of_jokes&quot;: {
        &quot;type&quot;: &quot;number&quot;,
        &quot;description&quot;: &quot;The number of jokes to generate; default is 3&quot;
      }
    },
    &quot;additionalProperties&quot;: false
  }
}
'''

# Parse the JSON
data = json.loads(json_input)

# Extract parameters
input_text = &quot;Tell me a joke about programming.&quot;
number_of_jokes = 3  # You can change this as needed

# Initialize OpenAI client
client = openai.Client(api_key='your_api_key_here')

# Create a prompt for the OpenAI API
prompt = f&quot;Generate {number_of_jokes} jokes about {input_text}&quot;

# Call the OpenAI API
response = client.chat.completions.create(
    model=&quot;gpt-4o-mini&quot;,
    messages=[
        {
            &quot;role&quot;: &quot;user&quot;,
            &quot;content&quot;: prompt
        }
    ]
)

# Print the response
for choice in response.choices:
    print(choice.message.content)
</code></pre>
","2024-12-30 19:46:56","0","Answer"
"79315600","","How to call OpenAi function from python","<p>I generated a <code>function</code> using OpenAI as below:
<a href=""https://i.sstatic.net/Z433ep6m.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Z433ep6m.png"" alt=""enter image description here"" /></a></p>
<p>So the function definition is (json schema):</p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;name&quot;: &quot;generate_jokes&quot;,
  &quot;description&quot;: &quot;Generate 3 jokes based on input text&quot;,
  &quot;strict&quot;: true,
  &quot;parameters&quot;: {
    &quot;type&quot;: &quot;object&quot;,
    &quot;required&quot;: [
      &quot;input_text&quot;,
      &quot;number_of_jokes&quot;
    ],
    &quot;properties&quot;: {
      &quot;input_text&quot;: {
        &quot;type&quot;: &quot;string&quot;,
        &quot;description&quot;: &quot;The text or context based on which jokes will be generated&quot;
      },
      &quot;number_of_jokes&quot;: {
        &quot;type&quot;: &quot;number&quot;,
        &quot;description&quot;: &quot;The number of jokes to generate; default is 3&quot;
      }
    },
    &quot;additionalProperties&quot;: false
  }
}
</code></pre>
<p>How can I call it in python 3.X?</p>
","2024-12-29 12:41:27","1","Question"
"79314667","79314661","","<p>It wants <code>char REQ_ITEMS[MAX_ANSWER_COUNT][100]</code> (which decays to <code>char (*)[100]</code>) but you're passing it <code>char initial_req_item[MAX_ANSWER_COUNT][10]</code> (which decays to <code>char (*)[10]</code>). Only the first layer of arrays decay to pointers, so the rest of the sizes have to match still. If that's too limiting for you, consider changing to a type like <code>char **</code> (i.e., an array of pointers instead of an array of arrays).</p>
","2024-12-28 22:41:21","1","Answer"
"79314661","","The error is: passing argument 5 of 'init_node' from incompatible pointer type [-Wincompatible-pointer-types]","<pre><code>    char initial_req_item[MAX_ANSWER_COUNT][10] = {&quot; &quot;, &quot;свиня&quot;, &quot;меч&quot;};
    int initial_req_val[MAX_ANSWER_COUNT] = {0, 1, 1};
    int is_initial_req[MAX_ANSWER_COUNT] = {0, 1, 1};
    char initial_opt[MAX_ANSWER_COUNT][100] = {&quot;Искам броня&quot;, &quot;Убих оная свиня дето ми заръча&quot;, &quot;Дай да говоря с кагана&quot;};
    TreeNode* my_root = init_node(&quot;Съмнителен индивид- Добре дошъл в нашия град. Добре дошъл в България. С какво мога да ти помогна?&quot;, initial_opt, 0, is_initial_req, initial_req_item, initial_req_val);
</code></pre>
<p>I get the error when passing the initial_req_item parameter, but I can't find a way to deal with it since the function expects multidimensional array of characters and I give it a 2 multidimensional array of characters</p>
<pre><code>TreeNode* init_node(char NPC[500], char PLAYER[MAX_ANSWER_COUNT][100], int cycle, int IS_REQ[MAX_ANSWER_COUNT], char REQ_ITEMS[MAX_ANSWER_COUNT][100], char REQ_VALS[MAX_ANSWER_COUNT])
</code></pre>
","2024-12-28 22:34:50","1","Question"
"79314523","79314505","","<p>To set the value returned by the function use the function name only:</p>
<pre><code>Row_Index_CellID = FindRowNumber
</code></pre>
<p>In the first case it's the syntax error, in the second case you call the function recurrently until the stack exhausts. The second case is syntaxial correct because the returning Varian can be a reference to the object (e. g. Range) which can accept a value.</p>
<p><strong>UPD</strong></p>
<p>Row_Index_CellID returns 0 if <code>ws.Cells.Find(...).Row</code> returns 2.</p>
<p>Optimized code:</p>
<pre><code>Public Function Row_Index_CellID(ws As Worksheet, CellID As String) As Variant
  Dim FindRow As Range
  Set FindRow = ws.UsedRange.Find(What:=CellID, LookIn:=xlFormulas, _
    LookAt:=xlWhole, SearchOrder:=xlByRows, SearchDirection:=xlNext, _
    MatchCase:=False, SearchFormat:=False)
  Row_Index_CellID = IIf(FindRow Is Nothing, CVErr(xlErrNA), FindRow.Row)
End Function
</code></pre>
<p>If the search area is the column &quot;A&quot; only:</p>
<pre><code>Public Function Row_Index_CellID(ws As Worksheet, CellID As String) As Variant
  Dim FindRow As Range
  With ws.Columns(1)
    Set FindRow = .Find(What:=CellID, After:=.Cells(1), LookIn:=xlFormulas, _
      LookAt:=xlWhole, SearchOrder:=xlByRows, SearchDirection:=xlNext, _
      MatchCase:=False, SearchFormat:=False)
  End With
  Row_Index_CellID = IIf(FindRow Is Nothing, CVErr(xlErrNA), FindRow.Row - 2)
End Function
</code></pre>
","2024-12-28 20:50:29","1","Answer"
"79314505","","Public function vba","<p>I am trying to set a public function that searches for an identifier in some worksheet column A and returns its row number so i put this function like this:</p>
<pre><code>Public Function Row_Index_CellID(ws As Worksheet, CellID As String) As Long
    Dim FindRowNumber As Long
    Dim FindRow As Range
    ws.Activate
    With ws
            Set FindRow = ws.Range(&quot;A1&quot;).Find(CellID, LookIn:=xlValues, LookAt:=xlWhole)
    FindRowNumber = ws.Cells.Find(What:=CellID, After:=Cells(1, 1), LookIn:=xlFormulas, _
                            LookAt:=xlWhole, SearchOrder:=xlByRows, SearchDirection:=xlNext, _
                            MatchCase:=False, SearchFormat:=False).Row - 2
    End With
    Row_Index_CellID(ws, CellID) = FindRowNumber
End Function
</code></pre>
<p>But I had the error &quot;Function Call on left hand side of assignment must return a variant or object&quot; at the line:</p>
<pre><code>Row_Index_CellID(ws, CellID) = FindRowNumber
</code></pre>
<p>so when i declared the function as variant:</p>
<pre><code>Public Function Row_Index_CellID(ByRef ws As Worksheet, ByRef CellID As String) As Variant
</code></pre>
<p>I had the error &quot;Out of stack space&quot; at the same line as before! can you help me please?</p>
","2024-12-28 20:36:06","0","Question"
"79313604","","Calling a function in VB.NET based on function name stored in SQL","<p>I have a table in SQL Server that has two fields: FileType and FunctionToCall. Depending on the file purpose, I want the code to execute a function to import the contents of the file to SQL Server, e.g if the first 4 characters of the filename are 'Pers', it is a file containing personal details of staff; if the first 4 characters of the filename are 'Exps', it is a file containing expenses of staff. Each of these files have a specific template that needs to be adhered to.</p>
<p>I use VB.NET to fill a list (listview or listbox) with the files (FileType) that can be imported.</p>
<pre><code>Dim Function2bCalled As String = &quot;&quot;
lstIdentifiers.Items.Clear()

Dim myConn As SqlConnection
Dim SQLCmd As SqlCommand
myConn = New SqlConnection(SQLConnString)
Try
    myConn.Open()
    SQLCmd = New SqlCommand()
    SQLCmd.CommandText = &quot;get_LU_FileUploadList&quot;
    SQLCmd.CommandType = CommandType.StoredProcedure

    SQLCmd.Parameters.AddWithValue(&quot;@OrderBy&quot;, Odbc.OdbcType.NVarChar).Value = &quot;Prefix&quot;
    SQLCmd.Connection = myConn
    Using myReader = SQLCmd.ExecuteReader()

        If myReader.HasRows Then

            Do While myReader.Read()
                lstIdentifiers.Items.Add(myReader.Item(&quot;PrefixFileDescription&quot;).ToString())
                Function2bCalled = myReader.Item(&quot;PrefixFileDescription&quot;).ToString()
                AddHandler lstIdentifiers.Click, AddressOf Function2bCalled
            Loop

        End If
    End Using

Catch SQLEx As SqlClient.SqlException
    '-----  If there is a problem with the connection string syntax (i.e. server name is invalid) you will incur a SqlException
    LogAction(LoggedInName, AppTitle &amp; &quot; error: &quot; &amp; SQLEx.Message, &quot;Error &lt;SQL&gt; - &quot; &amp; GetCurrentMethod().Name, GetCurrentMethod().DeclaringType().Name, &quot;&quot;, DoingWhat)
Catch DataEx As DataException
    '----- Catch-all
    LogAction(LoggedInName, AppTitle &amp; &quot; error: &quot; &amp; DataEx.Message, &quot;Error &lt;Data&gt; - &quot; &amp; GetCurrentMethod().Name, GetCurrentMethod().DeclaringType().Name, &quot;&quot;, DoingWhat)
Catch GenEx As Exception
    LogAction(LoggedInName, AppTitle &amp; &quot; error: &quot; &amp; GenEx.Message, &quot;Error &lt;General&gt; - &quot; &amp; GetCurrentMethod().Name, GetCurrentMethod().DeclaringType().Name, &quot;&quot;, DoingWhat)
Finally
End Try
</code></pre>
<p>When the user drops a file onto the window, the code determines the file purpose (e.g. staff names) and looks in the list whether the file description is listed. If it is, I need the software to execute the related function.</p>
<p>I have done research on AddressOf, which is exactly what I need, but I cannot find anything that will work on lists. All the examples are done on button-clicks, which is a single control, whereas the listview or listbox has one or more items that each need to be linked to a function to be called, e.g. listitem 1 calls function ImportPersonalDetails, listitem 2 calls function ImportExpenses, etc.</p>
","2024-12-28 10:31:54","-4","Question"
"79312370","","PySpark code function to add column in spark dataframe","<p>I want to  directly add 3 new columns to my <strong>PySpark dataframe</strong>(w/o converting to pandas dataframe)- 'inferenced_data' : Level_L1, Level_L2,Alert_Reason. The value for these columns needs to be filled from the values returned by  the below function:</p>
<pre class=""lang-py prettyprint-override""><code>****Input values passed to the function:****

topics = ['Critical','Insight']

themes = ['escalation_fg','process_fg']

reasons = ['reason_escalation_fg','reason_process_fg']

l2_themes = ['CRC','Process']


    def set_alert_priority(row, topics, themes, reasons, l2_themes):
        num_alerts_tagged = len([c for c in themes if row[c] == 1])
        row_sum = sum([row[c] for c in themes])
    
        if num_alerts_tagged == 0:
            return ('No Action Taken', 'No Action Taken', 'No Action Taken')
        elif row_sum == -25:
            return ('GPT Error', 'GPT Error', 'GPT Error')
        else:
            for topic, theme, reason, l2_theme in zip(topics, themes, reasons, l2_themes):
                if row[theme] == 1:
                    return (topic, l2_theme, row[reason])

    inferenced_data[['Level_L1', 'Level_L1', 'Alert_Reason']] = inferenced_data.apply(lambda row : set_alert_priority(row, topics, themes, reasons, l2_themes), axis=1)
</code></pre>
<p>But while doing so I am getting the error as <strong>&quot;Attribute <code>apply</code> is not supported.&quot;</strong>
I guess this is because the 'apply' method is not for Spark dataframe? What can be an alternative in this case?</p>
","2024-12-27 16:50:27","0","Question"
"79310418","79310080","","<p>Yes and no.</p>
<p>As (among others) Simon Peyton Jones has remarked, <a href=""https://youtu.be/iSmkqocn0oQ?si=ik9O3kB52h9u879L"" rel=""nofollow noreferrer"">a pure function is itself useless</a>. You can't observe that it ran, or what the output is.</p>
<p>Take pure functions in Haskell as an example. Haskell is a lazily evaluated language, so functions are only evaluated if some other part of the program needs the return value. Ultimately, the only way a program can need a value is if it wants to do something with it. That includes writing it to the console, sending it in an email, writing it to a file, etc.</p>
<p>In isolation, a pure function that remains unused is fair game for the compiler to optimize away. Take a simple example:</p>
<pre><code>myFunction x y =
  let ignored = 2 + 2
  in x + y
</code></pre>
<p>The value <code>ignored</code> is the result of the pure function <code>+</code>, but since the variable is never used, the compiler will typically erase it.</p>
<p>The same may happen to <code>myFunction</code>. Only if you (transitively) <em>use</em> <code>myFunction</code> in some impure part of your program will it even be evaluated.</p>
<p>Once you use it for something that has a side effect, the order will typically matter, unless you're truly working with a commutative operation (such as <code>+</code>).</p>
<p>Theoretically, you may think of pure functions as commutative, because if never evaluated, they're morally equivalent to <em>unit</em> ('nothing', 'no-op'). And <em>unit</em> is commutative. Two 'nothings' make one 'nothing', and it doesn't matter how you order them, because there's universally only one 'nothing' value.</p>
<p>Practically, pure functions can't be assumed to be commutative, because the order in which you operate on them typically matter.</p>
<p>Yes, you can still run pure functions in parallel if they're independent, but the order in which you compose the result still matter.</p>
<p>Imagine parallelizing operations on a long string or sequence of values. Once each parallel process is done with its part, you can concatenate the parts together to a single sequence. The order of concatenation still matters, since concatenation is associative, but not commutative. As an example, if one thread computed the (partial) result <code>&quot;foo&quot;</code> and another thread the result <code>&quot;bar&quot;</code>, it matters whether you concatenate the results as <code>&quot;foobar&quot;</code> or <code>&quot;barfoo&quot;</code>.</p>
","2024-12-26 20:48:03","1","Answer"
"79310080","","Motivating pure functions: are all pure functions commutative in execution order?","<p>I’m trying to understand whether all pure functions are commutative with respect to execution order. That is, does the order in which pure functions are executed ever matter, assuming no external state is modified?</p>
<p>I haven't seen &quot;commutative&quot; and &quot;pure functions&quot; put together in the way I wanted (i.e. in execution order) in any of my searches.</p>
<h4>Non-example: Not in a functional context</h4>
<p>In this case, mutation of <code>x</code> prevents commutativity:</p>
<pre><code>fn foo() -&gt; 2 // always returns 2
fn bar() -&gt; 3 // always returns 3

x = foo();
x = bar(); // x is mutated

// Switching lines gives different results, so this is not commutative:
x = bar();
x = foo();
</code></pre>
<p>Here, <code>x</code> is mutated, violating the functional paradigm. The order of operations matters because <code>x</code> gets reassigned.</p>
<h4>Example: Pure functions are commutative</h4>
<p>In the following example, no mutation occurs, so the execution order can be swapped without changing the result:</p>
<pre><code>x = foo(); // x = 2
y = bar(); // y = 3

// Equivalent even if the order is reversed:
y = bar(); // y = 3
x = foo(); // x = 2
</code></pre>
<p>Since the functions <code>foo()</code> and <code>bar()</code> are pure, the order of execution does not matter.</p>
<h4>Example: Side effects disable commutativity</h4>
<p>If a function modifies external state, it is no longer pure, and execution order does matter:</p>
<pre><code>fn foo() -&gt; print(&quot;Hello&quot;) // modifies external state
fn bar() -&gt; print(&quot;Hi&quot;)

foo(); // writes &quot;Hello&quot;
bar(); // writes &quot;Hi&quot;

bar(); // writes &quot;Hi&quot;
foo(); // writes &quot;Hello&quot;
</code></pre>
<p>Here, since the functions <code>foo()</code> and <code>bar()</code> have side effects (printing to the console), the order of execution does matter.</p>
<p>If both <code>foo()</code> and <code>bar()</code> are pure (i.e., they don’t modify external state), then switching their execution order should not affect the result. This is similar to how pure functions are often run in parallel, as mentioned in <a href=""https://mostly-adequate.gitbook.io/mostly-adequate-guide/ch03"" rel=""nofollow noreferrer"">this guide</a>.</p>
<hr />
<h2>My Question</h2>
<p>Can we always assume that pure functions are commutative with respect to execution order?<br></p>
<p>I instinctively think yes, but I’d like to clarify this further and see if there are exceptions. Is there any scenario where pure functions cannot be commuted? I would appreciate any clarification from a more experienced perspective.</p>
","2024-12-26 17:26:57","1","Question"
"79309462","79306327","","<p>You should be able to deploy the function successfully using  moviepy v1.0 module to function app.</p>
<p>I have used below code for testing purpose.</p>
<pre class=""lang-py prettyprint-override""><code>import azure.functions as func
from moviepy.editor import VideoFileClip, AudioFileClip, concatenate_videoclips
from moviepy.video.fx import crop
import logging
import os

base_dir = os.path.dirname(os.path.abspath(__file__))
ffmpeg_dir = os.path.join(base_dir, 'ffmpeg_bin')

app = func.FunctionApp(http_auth_level=func.AuthLevel.ANONYMOUS)

@app.route(route=&quot;http_trigger&quot;)
def http_trigger(req: func.HttpRequest) -&gt; func.HttpResponse:
    logging.info('Python HTTP trigger function processed a request.')
    logging.info(f&quot;FFmpeg directory set to: {ffmpeg_dir}&quot;)

    name = req.params.get('name')
    if not name:
        try:
            req_body = req.get_json()
        except ValueError:
            pass
        else:
            name = req_body.get('name')

    if name:
        return func.HttpResponse(f&quot;Hello, {name}. This HTTP triggered function executed successfully.&quot;)
    else:
        return func.HttpResponse(
             &quot;This HTTP triggered function executed successfully. Pass a name in the query string or in the request body for a personalized response.&quot;,
             status_code=200
        )
</code></pre>
<p>I have below modules in <em>requirements.txt</em> file.</p>
<pre><code>azure-functions
moviepy==1.0.3
</code></pre>
<p>I am able to deploy successfully to Azure function app.</p>
<p><img src=""https://i.imgur.com/tFbL1zZ.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/tsHi7PF.png"" alt=""enter image description here"" /></p>
","2024-12-26 12:20:53","0","Answer"
"79307396","","Binary search 704 leetcode calling a function in python 3","<pre><code>class Solution:
    def search(self, nums: List[int], target: int) -&gt; int:
        

        #establish a left and right limit
        l = 0
        #this will take from the right and push more towards the middle to // by 2
        r = len(nums) - 1

        #create the mid
        m = (l + r) // 2
#move the mid more towards the right
        if nums[m] &gt; target:
            r = m - 1
        elif nums[m] &lt; target:
            l = m + 1
        else:
            print(&quot;-1&quot;)


#im calling the function even when i removed the type error I dont think its counting the array and i dont know why
search(0, len(nums = [-1,0,3,5,9,12]),  9)


#error code: TypeError: len() takes no keyword arguments
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   # search(0, len(nums = [-1,0,3,5,9,12]),  9)
#Line 22 in &lt;module&gt; (Solution.py)
</code></pre>
<p>I was hoping that calling the function would run the binary search, but calling the function isnt working even when i removed the type error</p>
","2024-12-25 10:39:49","0","Question"
"79306327","","Deployment to Azure Functions fails after importing Python's moviepy","<p>after a few houes of debugging, I have realised that when these lines of code are present, my deployment shows as succeed from VS Code, but the http_trigger doesn't spear in funtion app:</p>
<pre><code>from moviepy.editor import VideoFileClip, AudioFileClip, concatenate_videoclips
from moviepy.video.fx.all import crop
</code></pre>
<p><a href=""https://i.sstatic.net/3KJNfcXl.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/3KJNfcXl.png"" alt=""enter image description here"" /></a></p>
<p>I don't know if that has something to do with ffmpeg binaries, but I have tried to include them in the root directly and specify a path to them with</p>
<pre><code>def get_local_ffmpeg_path():
    &quot;&quot;&quot;
    Returns the local path to the FFmpeg binary based on the operating system.
    &quot;&quot;&quot;
    base_dir = os.path.dirname(os.path.abspath(__file__))
    ffmpeg_dir = os.path.join(base_dir, 'ffmpeg_bin')
    
    if platform.system() == &quot;Windows&quot;:
        ffmpeg_path = os.path.join(ffmpeg_dir, 'windows', 'ffmpeg.exe')
    elif platform.system() == &quot;Linux&quot;:
        ffmpeg_path = os.path.join(ffmpeg_dir, 'linux', 'ffmpeg')
    else:
        raise OSError(&quot;Unsupported operating system. FFmpeg binaries are only provided for Windows and Linux.&quot;)
    
    if not os.path.exists(ffmpeg_path):
        raise FileNotFoundError(f&quot;FFmpeg binary not found at {ffmpeg_path}. Please ensure it is included in the deployment package.&quot;)
    
    if platform.system() == &quot;Linux&quot;:
        os.chmod(ffmpeg_path, os.stat(ffmpeg_path).st_mode | 0o111)  # Adds execute permissions
    
    return ffmpeg_path

def configure_moviepy():
    &quot;&quot;&quot;
    Configures MoviePy to use the FFmpeg binary from the local deployment package.
    &quot;&quot;&quot;
    try:
        ffmpeg_path = get_local_ffmpeg_path()
        os.environ[&quot;IMAGEIO_FFMPEG_EXE&quot;] = ffmpeg_path
        logging.info(f&quot;Configured MoviePy to use FFmpeg at {ffmpeg_path}&quot;)
    except Exception as e:
        logging.error(f&quot;Failed to configure MoviePy: {e}&quot;)
        raise
</code></pre>
<p>But that didn't solve the issue. I have also tried to point to a blob storage (this solution works just fine with Azure Web Apps), but that didn't help. As soon as I comment these two lines out, the function loads on Azure:
<a href=""https://i.sstatic.net/e8EgCOvI.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/e8EgCOvI.png"" alt=""enter image description here"" /></a></p>
<p>I have it in requirements.txt:
moviePy==1.0.3</p>
<p>and everything works just fine in VS Code. I would be really grateful if someone could point me in the right direction.</p>
","2024-12-24 18:51:35","0","Question"
"79306304","79306303","","<p>You function doesn't define an <code>else:</code> clause for the if statements, so if none of the conditions are <code>True</code> (namely, when neither <code>x</code> nor <code>y</code> equals 10), your function <code>card_conversion</code> will end and <code>return None</code> as a default</p>
<p>Either expressly <code>return</code> something valid at the end or <code>raise</code> to trap this exceptional case!</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; def test(a):
...     if a == 1:
...         return 1
...     elif a == 2:
...         return 2
...     raise RuntimeError(f&quot;bug: unexpected value for a: {a}&quot;)
... 
&gt;&gt;&gt; test(1)
1
&gt;&gt;&gt; test(2)
2
&gt;&gt;&gt; test(3)
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
  File &quot;&lt;stdin&gt;&quot;, line 6, in test
RuntimeError: bug: unexpected value for a: 3
</code></pre>
","2024-12-24 18:32:36","3","Answer"
"79306303","","Function returning None even though it's terminated by return command Python","<p>I'm trying to write a simple BlackJack program that works on random module, so it picks between the list of cards, and if the picked number belongs to the last 3 variables which are equal to 10, then it goes into an if statement where it decides if the card should king,queen or jack. At the end of if statements I have return statements which should make sure that the function's value when called upon should be the tuples, but when I try to call inside a while statement, I get &quot; line 43, in 
card_name_x, card_name_y = card_conversion(x,y)
^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object&quot; because I think function returns None so it can't assign a value to the tuples.</p>
<pre><code>import random

running = True

cards = [11, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10]
blackjack = [&quot;jack&quot;, &quot;king&quot;, &quot;queen&quot;]

x = cards[random.randint(0,12)]
y = cards[random.randint(0,12)]

player_deck = []
dealer_deck = []

def card_conversion(x,y):
    if x == 10 and y == 10:
        card_name_x = blackjack[random.randint(0, 2)]
        print(card_name_x)
        card_name_y = blackjack[random.randint(0, 2)]
        print(card_name_y)
        return card_name_x, card_name_y
    elif x != 10 and y == 10:
        card_name_y = blackjack[random.randint(0, 2)]
        card_name_x = x
        print(card_name_y)
        return card_name_x, card_name_y
    elif x == 10 and y != 10:
        card_name_x = blackjack[random.randint(0, 2)]
        card_name_y = y
        print(card_name_x)
        return card_name_x, card_name_y

def card_point_total():
    sum = x + y
    return sum

player_turn = True
dealer_turn = True

while running:

    if dealer_turn == True:
        card_conversion(x,y)
        card_name_x, card_name_y = card_conversion(x,y)
        card_point_total()
        dealer_deck.append(card_name_x)
        dealer_deck.append(card_name_y)
        print(card_point_total())
        print(dealer_deck)
        dealer_turn = False
        #player_turn = True

    if player_turn == True:
        card_conversion(x,y)
        card_name_x, card_name_y = card_conversion(x,y)
        player_deck.append(card_name_x)
        player_deck.append(card_name_y)
        print(card_point_total())
        print(player_deck)
        player_turn = False
        #dealer_turn= True


</code></pre>
","2024-12-24 18:31:25","-4","Question"
"79306189","79306163","","<p>Rather vague, but maybe you are looking for <code>**kwargs</code>:</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; def func(**kwargs):
...     if 'param1' in kwargs:
...         print('1:', kwargs['param1'])
...     if 'param2' in kwargs:
...         print('2:', kwargs['param2'])
...
&gt;&gt;&gt; func(param1='test')
1: test
&gt;&gt;&gt; func(param2='hello')
2: hello
</code></pre>
<p>Based on <code>@Barmar</code>'s comment, a &quot;clean&quot; way I can think to do is with <code>locals()</code>:</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; def func(_locals):
...     if 'var2' in _locals: print('var2:', _locals['var2'])
...     if 'var1' in _locals: print('var1:', _locals['var1'])
...
&gt;&gt;&gt; var1='test'
&gt;&gt;&gt; var2='hello'
&gt;&gt;&gt; func(locals())
var2: hello
var1: test
</code></pre>
","2024-12-24 17:43:14","0","Answer"
"79306163","","How to get a function call argument string name, inside the same function. Using that as ""extra parameter"", avoiding adding an extra parameter","<p>Having any Python function as:</p>
<pre><code>def function1(param1, param2):  
    #...
    return 0
</code></pre>
<p>How would be possible to get a param string name (variable name) used in the function call? ideally getting this information in a simple way without the need to import extra libraries/modules, in order to keep the function process without adding a significant extra load, keeping all as efficient as possible. Ideally.</p>
<p>In the next example <code>function1.__code__.co_varnames</code> gets the original function parameters names:</p>
<p><code>&quot;param1, param2&quot;</code></p>
<p>But, what trying to get here is not that information. instead of that, the information to get is:</p>
<p><code>&quot;var1, var2&quot;</code></p>
<p><strong>Getting this inside the same function</strong>.</p>
<pre><code>def function1(param1, param2):
    print(function1.__code__.co_varnames)
    
    '''
    ...
    if param2_name == X:
      do something.
    elif param2_name == Y:
      do something else.
    '''
    
    return 0

var1 = 1
var2 = 2
var3 = function1(var1, var2)
</code></pre>
<p>As you can see in the function, the purpose to get the argument name inside the function is to use that string name for decision purposes.</p>
<p>By the way, yes, this could be done with &quot;just&quot; adding an extra parameter, but the reason for all this is precisely to <strong>avoid adding an extra parameter in the function</strong>. Due requirements, in this case an extra parameter is not a solution.</p>
<p>Thank you</p>
<p><strong>UPDATE 1:</strong></p>
<p>What trying to achieve here is just to keep an existing function call syntax but at the same time that the function be able to detect a kind of context that its previous code was not made to detect. So that's the main reason because adding an extra parameter for that purpose would not be a solution, because it would need to modify a current call syntax.</p>
<p><strong>UPDATE 2:</strong></p>
<p>I created a new thread with more details, about other possible solutions for the main situation where a function can identify the working context without the need to specify that context with a new parameter:
<a href=""https://stackoverflow.com/questions/79310179/how-a-function-could-identify-the-type-of-working-context-without-specify-it-wi"">How a function could identify the type of working context, without specify it with a new parameter, keeping the existing function call syntax</a></p>
","2024-12-24 17:31:31","0","Question"
"79305429","79305337","","<p>Changed this:</p>
<pre><code>template &lt;typename... Args&gt;
void operator()(Args... args) {
        if (ptr)
        static_cast&lt;B&lt;Args...&gt;*&gt;(ptr)-&gt;function(std::forward&lt;Args...&gt;(args...)); 
}
</code></pre>
<p>To this:</p>
<pre><code>template &lt;typename... Args&gt;
void operator()(Args&amp;&amp;... args) {
    if (ptr)
    static_cast&lt;B&lt;Args...&gt;*&gt;(ptr)-&gt;function(std::forward&lt;Args&gt;(args)...);
}
    
</code></pre>
<p>Looks like its working correctly</p>
","2024-12-24 11:13:47","1","Answer"
"79305337","","Passing references to function wrapper doesn't work correctly","<p>I have the <code>functionWrapper</code> class, which should encapsulate function.
It works fine but arguments are unable to being passed by reference.</p>
<p><strong>Here is the code:</strong></p>
<pre><code>#include &lt;iostream&gt;
#include &lt;functional&gt;
#include &lt;tuple&gt;
#include &lt;type_traits&gt;

template &lt;typename T&gt;
struct function_traits;

// Specialization for function pointers  
template &lt;typename Ret, typename... Args&gt;
struct function_traits&lt;Ret(*)(Args...)&gt; {
    using return_type = Ret;
    using args_type = std::tuple&lt;Args...&gt;;
};

// Specialization for std::function  
template &lt;typename Ret, typename... Args&gt;
struct function_traits&lt;std::function&lt;Ret(Args...)&gt;&gt; {
    using return_type = Ret;
    using args_type = std::tuple&lt;Args...&gt;;
};

// Specialization for lambdas and functors  
template &lt;typename T&gt;
struct function_traits : function_traits&lt;decltype(&amp;T::operator())&gt; {};
 


class functionWrapper {
    template &lt;typename... Args&gt;
    class B;

    class A {
    public:
        template &lt;typename F&gt;
        static auto castToB(F func) {
            using ArgsTuple = typename function_traits&lt;F&gt;::args_type;

            return castToBImpl(std::make_index_sequence&lt;std::tuple_size&lt;ArgsTuple&gt;::value&gt;{}, func);
        }
        virtual ~A(){}
    private:
        template &lt;std::size_t... Is, typename F&gt;
        static auto castToBImpl(std::index_sequence&lt;Is...&gt;, F func) {
            // Create B with the correct argument types based on the number of arguments  
            return new B&lt;typename std::tuple_element&lt;Is, typename function_traits&lt;F&gt;::args_type&gt;::type...&gt;(func);
        }
    };
 
    template &lt;typename... Args&gt;
    class B : public A {
    public:
        std::function&lt;void(Args...)&gt; function;

        template &lt;typename F&gt;
        B(F f) : function(f) {}
        virtual ~B(){}
    };
private:
    A* ptr = nullptr;
public:
    template &lt;typename F&gt;
    functionWrapper(F f) {
        ptr = static_cast&lt;A*&gt;(A::castToB(f));
    }
    functionWrapper(){}
    virtual ~functionWrapper(){
        delete ptr;
    }
    template &lt;typename... Args&gt;
    void operator()(Args... args) {
        if (ptr)
        static_cast&lt;B&lt;Args...&gt;*&gt;(ptr)-&gt;function(std::forward&lt;Args...&gt;(args...)); 
    }

};
</code></pre>
<p><strong>Using:</strong></p>
<pre><code>void foo(int&amp; a){
    std::cout &lt;&lt; a++ &lt;&lt; '\n';
}

int main() {
    int a = 5;
    functionWrapper wrap{foo};
    wrap(a);
    std::cout &lt;&lt; a &lt;&lt; '\n';
    return 0;
}
</code></pre>
<p><em>Output is:</em></p>
<pre><code>5
5
</code></pre>
<p><em>Instead of expected:</em></p>
<pre><code>5
6
</code></pre>
","2024-12-24 10:30:14","0","Question"
"79304606","79304033","","<h2><strong>EDIT</strong></h2>
<p>Classes are better to achieve what you want. They're internally functions in JavaScript. Here's an example like you asked:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""true"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code snippet-currently-hidden"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// The following class must be always
// instanced using the `new` keyword.

/**
 * JSDoc for your class here.
 * 
 * @template { string } [ NAME = 'Anonymous' ]
 * @template { string } [ SURNAME = 'Doe' ]
 */
class Person
{
   /**
    * JSDoc for your constructor here.
    * 
    * @param { NAME } [ Name = NAME ]
    * @param { SURNAME } [ Surname = SURNAME ]
    */
   constructor ( Name, Surname )
   {
      Name = String( Name ?? this.Name );
      Surname = String ( Surname ?? this.Surname );
      
      Object.assign(this, {Name, Surname});
   }
   
   /**
    * JSDoc for the `Name` instance property.
    * 
    * @type { NAME }
    */
   Name = 'Anonymous';
   
   /**
    * JSDoc for the `Surname` instance property.
    * 
    * @type { SURNAME }
    */
   Surname = 'Doe';
   
   /**
    * JSDoc for the `FullName` instance method.
    * 
    * @returns { string }
    */
   get FullName ()
   {
      return this.Name + ' ' + this.Surname;
   }
}

// The IntelliSense for the following code will
// work just fine in Visual Studio Code.

const NewAnonymousPerson = new Person;
const NewCustomPerson = new Person('Klauss', 'SanGui');

let AnonymousPersonName = NewAnonymousPerson.Name; // IntelliSense: 'Anonymous'
let CustomPersonName = NewCustomPerson.Name; // IntelliSense: 'Klauss'

console.log('NewAnonymousPerson.Name =', AnonymousPersonName);
console.log('NewAnonymousPerson.Surname =', NewAnonymousPerson.Surname);
console.log('NewAnonymousPerson.FullName =', NewAnonymousPerson.FullName);

console.log('NewCustomPerson.Name =', CustomPersonName);
console.log('NewCustomPerson.Surname =', NewCustomPerson.Surname);
console.log('NewCustomPerson.FullName =', NewCustomPerson.FullName);</code></pre>
</div>
</div>
</p>
<p>Here's an example using arrow function:</p>
<pre class=""lang-js prettyprint-override""><code>/**
 * JSDoc for the maker function here.
 * 
 * @template { string } [ NAME = 'Jonh' ]
 * @template { string } [ SURNAME = 'Doe' ]
 * 
 * @param { NAME } [ Name = NAME ]
 * @param { SURNAME } [ Surname = SURNAME ]
 */
const PersonMaker = ( Name, Surname ) =&gt;
({
   /**
    * JSDoc for this property here.
    * 
    * @type { NAME }
    */
   Name: String ( Name ?? 'Jonh' ),
   
   /**
    * JSDoc for this property here.
    * 
    * @type { SURNAME }
    */
   Surname: String ( Surname ?? 'Doe' ),
});

// IntelliSense works fine for the following code:

const SomePerson = PersonMaker('Klauss', 'SanGui');

SomePerson.Name;
SomePerson.Surname;
</code></pre>
<p>Here's a full working example of a <code>function</code> with fixes to make sure the constructor always works (with abstract documentation in another file):</p>
<p><code>MyComponent.mjs</code></p>
<pre class=""lang-js prettyprint-override""><code>// @ts-check
/// filename: 'MyComponent.d.ts'

/**
 * The `Person` constructor JSDoc here.
 * 
 * @type { PersonConstructor }
 */
// @ts-expect-error
export const Person = function Person ( Name = 'Jonh', Surname = 'Doe' )
{
   return Object.assign
   (
      (
         (
            this instanceof Person
         )
         ?  this
         :  Object.create(new.target?.prototype ?? Person.prototype)
      ),
      { Name, Surname }
   );
};
export default Person;

// The IntelliSense for the following lines works fine.

const ReturnPerson = Person('Klauss', 'SanGui');
const InstancePerson = new Person('Klauss', 'SanGui');

ReturnPerson.Name;
ReturnPerson.Surname;

InstancePerson.Name;
InstancePerson.Surname;
</code></pre>
<p><code>MyComponent.d.ts</code>¹ (abstract documentation)</p>
<pre class=""lang-none prettyprint-override""><code>/**
 * A class/constructor for a Person instance.
 */
type PersonConstructor
&lt;
   NAME extends unknown extends string
   ?  NAME
   :  never
   =  'Jonh',
   
   SURNAME extends unknown extends string
   ?  SURNAME
   :  never
   =  'Doe',
&gt;
=
(
   ( ( ... Arguments: any [] ) =&gt; PersonObject &lt; NAME, SURNAME &gt; )
   &amp;
   ( new ( ... Arguments: any [] ) =&gt; PersonObject &lt; NAME, SURNAME &gt; )
);

/**
 * A Person instance.
 */
type PersonObject &lt; NAME, SURNAME &gt; =
{
   /**
    * JSDoc for the `Name` property here.
    */
   Name: NAME,
   
   /**
    * JSDoc for the `Surname` property here.
    */
   Surname: SURNAME,
};
</code></pre>
<ul>
<li>¹ <strong>NOTE</strong> that <code>MyComponent.d.ts</code> is not executed in any case except by IntelliSense. If this file is missing, then there'll be IntelliSense errors only at <code>MyComponent.mjs</code>, but it will work just fine.</li>
</ul>
<p>Here's a full working example of a <code>function</code> with fixes to make sure the constructor always works (within one single file):</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""true"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code snippet-currently-hidden"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>/**
 * @template { string } [ NAME = 'Anonymous' ]
 * @template { string } [ PREFIX = 'Private' ]
 * @template { unknown } [ THIS = typeof theConstructor.prototype ]
 * 
 * @param { NAME } [ name = NAME ]
 * @param { PREFIX } [ prefix = PREFIX ]
 * 
 * @this { THIS }
 */
function theConstructor ( name, prefix )
{
   name = /** @type { NAME } **/
   (
      String(name ?? theConstructor.prototype.name)
   );
   prefix = /** @type { PREFIX } **/
   (
      String(prefix ?? theConstructor.prototype.prefix)
   );
   
   return false || /** @type { typeof theConstructor.prototype } **/
   (
      Object.assign
      (
        Object(this),
        {
          name,
          prefix,
          
          // The fix that implements what will be missed
          // without the `new` keyword.
          prefixedName: () =&gt;
          {
            return theConstructor
              .prototype
              .prefixedName
              .apply(Object(this));
          },
        }
      )
   );
}

theConstructor.prototype =
{
   // Can't forget this if you're replacing the prototype.
   /**
    * Constructor accessor JSDoc here.
    */
   constructor: theConstructor,
   
   /**
    * Property JSDoc here.
    * 
    * @type { NAME | 'Anonymous' }
    */
   name: 'Anonymous',
   
   /**
    * Property JSDoc here.
    * 
    * @type { PREFIX | 'Private' }
    */
   prefix: 'Private',
   
   /**
    * Method JSDoc here.
    * 
    * @template { string } [ NEWPREFIX = this['prefix'] ]
    * 
    * @param { PREFIX | NEWPREFIX } [ newPrefix = PREFIX ]
    */
   prefixedName ( newPrefix )
   {
      // IntelliSense works just fine here:
      return ( newPrefix ?? this.prefix ) + '.' + this.name;
   },
   
   /**
    * Just an extra feature.
    */
   get [ Symbol.toStringTag ] ()
   {
      return this.prefixedName();
   },
};

const theAnonymous = new theConstructor;
const theInstance = new theConstructor('Component', 'Namespace');

// All the following will work in IntelliSense:
theInstance.constructor;
theInstance.name;
theInstance.prefix;
theInstance.prefixedName();

// Testing the output in the console for theAnonymous.
console.log('theAnonymous =', theAnonymous.toString());
console.log(JSON.stringify(theAnonymous));

// Testing the output in the console for theInstance.
console.log('theInstance =', theInstance.toString());
console.log(JSON.stringify(theInstance));

// But this may cause issues:
const theReturn = theConstructor('Unknown', 'People');
// In this snippet case, as theConstructor inherits window
// as the `this` keyword, then it'll replace the current
// window properties with the object assignment inside the
// constructor function.

// Testing the output in the console for theReturn.
console.log('theReturn =', Object.prototype.toString.apply(theReturn));
console.log('theReturn.name =', theReturn.name);
console.log('theReturn.prefix =', theReturn.prefix);

// Fails to inherit from theConstructor's prototype if not fixed.
console.log('theReturn.prefixedName =', theReturn.prefixedName);
console.log('theReturn.prefixedName() =', theReturn.prefixedName());

console.log('theReturn is globalThis.window?', Object.is(theReturn, globalThis.window));</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%; }</code></pre>
</div>
</div>
</p>
<p><strong>NOTE</strong> that the original answer below explains more details about how <code>Object.assign()</code> and JSDocs works.</p>
<h2><strong>ORIGINAL ANSWER</strong></h2>
<p>This is kind of tricky...</p>
<p>If you want the IntelliSense to recognize the assignment through <code>Object.assign()</code> then you have to use the return value.</p>
<p>Here's an example:</p>
<pre class=""lang-js prettyprint-override""><code>class classA
{
   static prop1 = 1;
}

class classB
{
   static prop2 = 2;
}

const classC = Object.assign(classA, classB);

// IntelliSense will recognize this:
console.log(classC.prop1);
// Outputs: 1

// IntelliSense will recognize this:
console.log(classC.prop2);
// Outputs: 2

// JavaScript works fine, but IntelliSense will not recognize this:
console.log(classA.prop2);
// ----------------^
// IntelliSense will show an error here.
// But JavaScript will output: 2
</code></pre>
<p>Also, there's another problem...</p>
<pre class=""lang-js prettyprint-override""><code>function theConstructor ()
{
   // ...
}
</code></pre>
<p>The function above can be called as <code>theConstructor()</code> or <code>new theConstructor()</code>.</p>
<p>If used without the <code>new</code> keyword, then the IntelliSense/JSDoc will infer the function return type. But if the <code>new</code> keyword is used, then the result will always be <code>InstanceType &lt; typeof theConstructor &gt;</code>.</p>
<p>So, if your function is like follows it should work for most cases:</p>
<pre class=""lang-js prettyprint-override""><code>/**
 * @template [ Initializer = {} ]
 * @param { Initializer } [ initializer = Initializer ]
 */
function theConstructor ( initializer )
{
   const target =
   (
      /**
       * No need to cast here.
       */
      ( ( typeof new.target != 'undefined' ) ? new.target : theConstructor )
   );
   
   const instance =
   (
      /**
       * No need to cast here.
       */
      ( ( this instanceof target ) ? this : new target )
   );
   
   const prototype =
   (
      /**
       * Cast the prototype as an instance of this class.
       * 
       * @type { InstanceType &lt; typeof theConstructor &lt; Initializer &gt; &gt; }
       */
      ( target.prototype )
   );
   
   // Make sure that `initializer` is an object to avoid JS error.
   initializer = Object(initializer);
   
   return Object.assign(instance, prototype, initializer);
}

// Set your default properties...
theConstructor.prototype.title = 'Untitled';

// TESTING:
const initializer = { nonDefault: 'value' };
const result = theConstructor(initializer);
const instance = new theConstructor(initializer);

// IntelliSense will recognize the following:
{
   result.title;
   result.nonDefault;
   
   instance.title;
}

// IntelliSense will NOT recognize the following:
{
   instance.nonDefault;
   // ------^
   // IntelliSense will show an error here.
}
</code></pre>
<p>I hope this can help you make your documentation work better for VSCode.</p>
","2024-12-24 02:20:09","1","Answer"
"79304033","","jsDoc to define constructor function properties that are assigned implicitly (not set with `this`)","<p>Using jsDoc in VS Code, How could we define the properties of a constructor function that its properties are not set directly through <code>this.property = value</code> syntax, but implicitly via <code>Object.assign()</code> code as in following sample:</p>
<pre><code>/** 
 * @constructor
 * @property {string} title - the @ property here has no effect to define such properties to IDE 
 */
function BookFn(title, description, year, author, ...) { //too many properties... , lang, genre, pages, isbn, copies, ...
  
  //instead of writing multiple this.x = x code,
  //we set our properties indirectly via 'Object.assign()' as follow:
  Object.assign(this, {title, description, year, author}); //, lang, genre, pages, isbn, copies, ...
  
}

BookFn.prototype = {
  titleAuthor() { return this.title + ' by ' + this.author}, //VSCode IDE doesn't know such properties!
};

let book1 = new BookFn('book1', 'description1', 2020, 'author1');
let t = book1.title; //VSCode IDE doesn't know such property!
</code></pre>
<p>I have tried the <code>@property</code> or <code>@typedef</code> to define explicitly our properties but it doesn't have any effect.</p>
<p><strong>Note</strong>: I'm looking some way to say the signature of my constructor function to IDE <strong>without explicitly defining its properties or duplicate code</strong> as we see in most samples.</p>
","2024-12-23 19:28:44","2","Question"
"79297297","79296104","","<pre><code>The Client 'client ID of service principal' with a object ID 'object id' does not have authorization to perform the action 'Microsoft.web/sites/functions/read' over scope /subscriptions/'subscription ID'/resourceGroups/'resourcegroupname'/Microsoft.web/sites/'functionappname'/functions/'nameoffunction' or scope is invalid. If access was recently granted, please refresh the credentials.
</code></pre>
<p>To resolve this error, <strong>assign <code>Reader role</code></strong> (allows the <code>Microsoft.web/sites/functions/read</code> action) to the <strong>Service Principal in the Azure function app</strong>.</p>
<ul>
<li>Go to <code>Function App=&gt;Access Role(IAM)=&gt;Add Role Assignment=&gt;</code>Select <strong>Reader</strong> role, Assign the role to the Service Principal.</li>
</ul>
<p><img src=""https://i.imgur.com/3RLevp9.png"" alt=""enter image description here"" /></p>
<ul>
<li><strong>Create a function app with private endpoints enabled and configure virtual network with subnets, refer <a href=""https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-vnet"" rel=""nofollow noreferrer"">MSDOC</a> and my <a href=""https://stackoverflow.com/a/78559210/19991670"">SO answer</a>.</strong></li>
</ul>
<p><img src=""https://i.imgur.com/S0L5ZtR.png"" alt=""enter image description here"" /></p>
<ul>
<li><strong>To deploy a function to Azure function App which is configured with Private endpoints, add below application settings under <code>Function app=&gt;settings=&gt;Environment Variables=&gt;App Settings</code>.</strong></li>
</ul>
<pre class=""lang-yaml prettyprint-override""><code>WEBSITE_DNS_SERVER=168.63.129.16
WEBSITE_VNET_ROUTE_ALL=1
WEBSITE_CONTENTOVERVNET=1
</code></pre>
<p><strong>Portal:</strong></p>
<p><strong>Deployed the function to Azure:</strong></p>
<p><img src=""https://i.imgur.com/VFUyNWP.png"" alt=""enter image description here"" /></p>
","2024-12-20 12:54:41","0","Answer"
"79296104","","Authorization issue while deploying code via CI CD into the Azure functions","<p>We have provisioned a Azure function in Private Endpoint and Gitlab runner in Gitlab CI CD.</p>
<p>While we are trying to deploy the code we are getting the following error:</p>
<blockquote>
<p>Code: Authorization</p>
<p>Message: The Client 'client ID of service principal' with a object ID 'object id' does not have authorization to perform the action 'Microsoft.web/sites/functions/read' over scope /subscriptions/'subscription ID'/resourceGroups/'resourcegroupname'/Microsoft.web/sites/'functionappname'/functions/'nameoffunction'
or scope is invalid. If access was recently granted, please refresh the credentials.</p>
<ul>
<li>The Service principal is access on the resource group level with the customized admin with Microsoft.web/<em>, Microsoft.web/sites/</em> and Microsoft.web/sites/functions/*</li>
</ul>
</blockquote>
<p>Is there any other place that i missed the granting the access?</p>
<p>Checked the IAM roles of the service principal and observed that there is a customized IAM role given foe the service principal on the resource groups. Is there any specific API permission to be granted to the service principal?</p>
","2024-12-20 03:21:14","0","Question"
"79294700","79293674","","<blockquote>
<p>What are the key advantages of <code>std::copyable_function</code> over <code>std::function</code>?</p>
</blockquote>
<p>There are two.</p>
<p>First, there's no <code>target()</code> API, which generally wasn't super useful anyway, so there's less overhead because <code>std::copyable_function</code> doesn't have to track something that <code>std::function</code> did. But that's minor.</p>
<p>The more important one is the API surface. <code>std::function</code> looks like this:</p>
<pre class=""lang-cpp prettyprint-override""><code>struct function&lt;R(Args...)&gt; {
    R operator()(Args...) const;
};
</code></pre>
<p>The call operator (1) always <code>const</code> and (2) never <code>noexcept</code>. (1) is a problem because you can still invoke a non-<code>const</code> member function without you intending to.</p>
<p><code>std::copyable_function</code> looks like this:</p>
<pre class=""lang-cpp prettyprint-override""><code>struct copyable_function&lt;R(Args...) cv ref noexc&gt; {
  R operator()(Args...) cv ref noexc;
};
</code></pre>
<p>Meaning that, for instance, <code>copyable_function&lt;void(int)&gt;</code> has a non-<code>const</code>, non-<code>noexcept</code> call operator, but <code>copyable_function&lt;void(int) const noexcept&gt;</code> has one that is both <code>const</code> and <code>noexcept</code>. All of this is specifiable.</p>
<p>This makes the usage clear and descriptive... and more correct!</p>
<blockquote>
<p>Invoking an empty std::copyable_function is undefined, while invoking an empty std::function will throw an exception. What's the rationale behind?</p>
</blockquote>
<p>Arguably, invoking an empty <code>std::function</code> is a bug. There are many people who think that throwing to signal programmer error is a bad way to do so - calling it undefined behavior means the implementation can assert.</p>
<blockquote>
<p>Is <code>std::function</code> deprecated by <code>std::copyable_function</code> in C++26?</p>
</blockquote>
<p>The literal answer to this question is: no. But maybe the more interesting question is: should it have been? To which I would still answer no.</p>
<p>There's a very large amount of code that uses <code>std::function</code> and a large percentage of it is likely correct. It's also not a simple renaming to transition either, since many uses will want to change from <code>function&lt;R(Args...)&gt;</code> to <code>copyable_function&lt;R(Args...) const&gt;</code>. But also many uses will want to change to <code>move_only_function&lt;R(Args...) const&gt;</code> instead.</p>
<p>It's probably a good idea to actually make those changes (especially if you don't need <code>target()</code>, which ... nobody does). But they're not so pressing that you actually want a <code>[[deprecated]]</code> warning out of it. Seems more like a low-key clang-tidy modernization hint kind of suggestion.</p>
<p>There's really two levels here:</p>
<ol>
<li><code>A</code> is bad (possibly actively harmful), <code>B</code> is strictly superior, please switch.</li>
<li><code>A</code> is fine, <code>B</code> is better. Prefer <code>B</code> in new code, but <code>A</code> isn't harmful.</li>
</ol>
<p>Transitioning from <code>auto_ptr&lt;T&gt;</code> to <code>unique_ptr&lt;T&gt;</code> fits into that first category. Transitioning from <code>function&lt;R(Args..)&gt;</code> to <code>copyable_function&lt;R(Args...) const&gt;</code> (or <code>move_only_function&lt;R(Args...) const&gt;</code>, or sometimes even <code>function_ref&lt;R(Args...) const&gt;</code>) to me is more like the second category. <code>A</code> is fine. Don't yell at me for still using it in older code.</p>
","2024-12-19 14:57:30","16","Answer"
"79293674","","Is `std::function` deprecated by `std::copyable_function` in C++26?","<p>C++26 provides <code>std::copyable_function</code> <a href=""https://en.cppreference.com/w/cpp/utility/functional/copyable_function"" rel=""noreferrer"">[cppref link]</a>. However, the existing <code>std::function</code> is already <code>copyable</code>. So, I have 3 questions:</p>
<ol>
<li><p>What are the key advantages of <code>std::copyable_function</code> over <code>std::function</code>?</p>
</li>
<li><p>Invoking an empty <code>std::copyable_function</code> is undefined, while invoking an empty <code>std::function</code> will throw an exception. What's the rationale behind?</p>
</li>
<li><p>Is <code>std::function</code> deprecated by <code>std::copyable_function</code> in C++26?</p>
</li>
</ol>
","2024-12-19 09:07:11","14","Question"
"79293157","79293003","","<p>You can achieve this either by using multiple selectors as shown below:</p>
<pre><code>document.querySelectorAll('a.logincontent').forEach(button =&gt; {
    button.onclick = () =&gt; {
        basicLightbox.create(`
            &lt;section&gt;
                MY POPUP HTML CODE SITS IN HERE
            &lt;/section&gt;
        `).show()
    }
});
</code></pre>
<p>Or you could store the popup html in a variable to make it more maintainable:</p>
<pre><code>const loginPopupContent = `
    &lt;section&gt;
        MY POPUP HTML CODE SITS IN HERE
    &lt;/section&gt;
`;

document.querySelectorAll('a.logincontent').forEach(button =&gt; {
    button.onclick = () =&gt; basicLightbox.create(loginPopupContent).show()
});
</code></pre>
<p>Changes I made to the code are:</p>
<ul>
<li>Using <code>querySelectorAll()</code> instead of <code>querySelector()</code> to select all matching elements</li>
<li>Using <code>forEach()</code> to attach the click handler to each button</li>
<li>Alternatively storing the popup html in a variable to avoid repetition</li>
</ul>
<p>Make sure all your buttons have the <code>logincontent</code> class:</p>
<pre><code>&lt;a href=&quot;#&quot; class=&quot;logincontent&quot;&gt;Login&lt;/a&gt;
&lt;a href=&quot;#&quot; class=&quot;logincontent&quot;&gt;Login Here&lt;/a&gt;
&lt;!-- etc --&gt;
</code></pre>
","2024-12-19 05:03:47","1","Answer"
"79293003","","Using a class to open same popup using document.querySelector","<p>I have a popup login box on my site, I use <code>&lt;a class=&quot;logincontent&quot;&gt;Login&lt;/a&gt;</code> which then calls up this function:</p>
<pre><code>document.querySelector('a.logincontent').onclick = () =&gt; {  
    basicLightbox.create(`
        &lt;section&gt;
            MY POPUP HTML CODE SITS IN HERE
        &lt;/section&gt;
    `).show()
}
</code></pre>
<p>This works fine but I have the login button on multiple places on my site on the same page and I want it to call the same popup. From research I need a loop allow the multiple classes call the same function but all my attempts to get this to work have failed. If anyone can help me understand how I can achieve this that would be great?</p>
<p>I tried using the suggestions on this site <a href=""https://dev.to/baransel/how-to-add-an-event-listener-to-multiple-elements-in-javascript-aco"" rel=""nofollow noreferrer"">https://dev.to/baransel/how-to-add-an-event-listener-to-multiple-elements-in-javascript-aco</a> but I was unable to use this logic with my code.</p>
<p>Thanks</p>
<p>Eddie</p>
","2024-12-19 02:52:54","0","Question"
"79292881","79292014","","<p>In base R, you can use regex in <code>gsub</code> here with conditional indexing and it should be pretty fast.</p>
<pre><code>df$NGR[df$Buffer == 500] &lt;- gsub(&quot;(^.{4})(.{0,3})(.*$)&quot;,
                                 &quot;\\15\\25\\3&quot;,
                                 df$NGR[df$Buffer == 500])

#          NGR name Buffer
# 1 SD93950023   jk      0
# 2   SD955015  rho    500
# 3   SD954012   hb      0
</code></pre>
<p>A tidyverse approach would be:</p>
<pre><code>df %&gt;%
  mutate(NGR = if_else(Buffer == 500,
                       stringr::str_replace(NGR, &quot;(^.{4})(.{0,3})(.*$)&quot;, &quot;\\15\\25\\3&quot;),
                       NGR))
</code></pre>
<p>But base seems to be faster:</p>
<pre><code>bigdf &lt;- df[rep(1:3, 1e4),]

microbenchmark::microbenchmark(
  base = bigdf$NGR[bigdf$Buffer == 500] &lt;- gsub(&quot;(^.{4})(.{0,3})(.*$)&quot;,
                                 &quot;\\15\\25\\3&quot;,
                                 bigdf$NGR[bigdf$Buffer == 500]),
  tidyverse = bigdf %&gt;%
    mutate(NGR = if_else(Buffer == 500,
                       stringr::str_replace(NGR, &quot;(^.{4})(.{0,3})(.*$)&quot;, &quot;\\15\\25\\3&quot;),
                       NGR))
)

Unit: milliseconds
      expr       min       lq     mean   median       uq      max neval cld
      base  6.156887 14.92186 23.73802 24.10711 31.93427 45.58362   100  a 
 tidyverse 19.187976 29.83164 32.41717 31.57325 35.14590 55.64708   100   b
</code></pre>
","2024-12-19 01:07:52","1","Answer"
"79292134","79292014","","<p>With <code>tidyverse</code> use <code>mutate()</code> along with <code>if_else()</code> to conditionally edit the NGR column for rows where <code>Buffer == 500</code>: in this case we use a custom function <code>pasteString</code> to place in our fives.</p>
<p>Here is a quick and very professional drawing of what <code>paste0(substr(oldString, 1, 4), &quot;5&quot;, substr(oldString, 5, nchar(oldString)))</code> does.</p>
<ol>
<li><code>substr(oldString, 1, 4)</code> extracts the characters within positions 1 and 4 from oldString = <strong>&quot;SD54&quot;</strong></li>
<li><code>nchar(oldString)</code> retrieves the number characters in oldString = 6</li>
<li><code>paste0()</code> is a function that concatenates elements together without something in between -&gt; that's why there is a 0</li>
<li>The function <code>pasteString</code> pastes a &quot;5&quot; into the oldString two times in succession, first in between 4 and 5, and then in between 7 and 8</li>
</ol>
<p><a href=""https://i.sstatic.net/xFIFvsiI.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/xFIFvsiI.png"" alt=""out"" /></a></p>
<pre><code># Function to insert &quot;5&quot; at the 5th position and then a &quot;5&quot; at the 8th position
pasteString &lt;- function(oldString) {
  # Insert &quot;5&quot; at the 5th position
  oldString &lt;- paste0(substr(oldString, 1, 4), &quot;5&quot;, substr(oldString, 5, nchar(oldString)))
  # Insert &quot;5&quot; at the 8th position
  oldString &lt;- paste0(substr(oldString, 1, 7), &quot;5&quot;, substr(oldString, 8, nchar(oldString)))
  return(oldString)
}

# Modify the NGR column conditionally
df &lt;- df %&gt;%
  mutate(NGR = if_else(
    Buffer == 500,   # Only apply where Buffer == 500
    pasteString(NGR), # Replace NGR using the pasteString function
    NGR              # Else leave the old value
  ))
</code></pre>
<p>Result:</p>
<pre><code>          NGR name Buffer
1 SD93950023   jk      0
2   SD955015  rho    500
3   SD954012   hb      0
</code></pre>
","2024-12-18 18:33:12","2","Answer"
"79292014","","Adding characters to a string of specific rows in R","<p>I've seen many reproducible examples of both aspects of this, but can't quite get my head to work out how to apply concepts to real data!</p>
<p>I have a dataframe of 2 multiple columns, but the 2 of Interest are NGR and Buffer so here is an example of that data</p>
<pre><code>df &lt;- data.frame(
NGR = c(&quot;SD93950023&quot;,&quot;SD9501&quot;,&quot;SD954012&quot;),
name = c(&quot;jk&quot;, &quot;rho&quot;, &quot;hb&quot;),
Buffer = c(0,500,0))

df
</code></pre>
<p>I'd like to add characters within the string for NGR, <em>BUT</em> only for specific row. So, i'd like SD9501 to be changed to SD955015. Now, by data frame has 1300 rows, so i'd like that to be replicated across all rows which have Buffer value of 500 as they all have the same format of NGR (ABXXXX)</p>
<p>I can see that suggestions such as this can be applied to a single string</p>
<pre><code>old &lt;- &quot;SD5464&quot;
</code></pre>
<p>add into 5th character</p>
<pre><code>n &lt;- 5
</code></pre>
<p>add into 8th character</p>
<pre><code>n2 &lt;- 8
</code></pre>
<p>tell it what number to add into the 2 characters</p>
<pre><code>regmatches(old, `attr&lt;-`(n, &quot;match.length&quot;, 0)) &lt;- &quot;5&quot;
regmatches(old, `attr&lt;-`(n2, &quot;match.length&quot;, 0)) &lt;- &quot;5&quot;

old
</code></pre>
<p>but to apply it to every row in my dataframe which has Buffer = 500 i've struggled to work out. I assume a function would work? but how to write that function I cannot seem to get to work correctly!</p>
<p>I have a preference for working in Tidyverse if possible.</p>
<p>Help appreciated.</p>
","2024-12-18 17:36:53","2","Question"
"79289188","79285413","","<p>You can apply a function to each element of a matrix using the apply() family of functions, but for a custom condition like this, vectorized operations are the most efficient in R. Here's how you can achieve the desired output:</p>
<p>Solution
Use the vectorized conditional operator ifelse() to apply your function across all elements.
Preserve the structure of the matrix.
Here is the code to implement your requirement:</p>
<pre><code># Define your sample matrix
N &lt;- 3
N_vec &lt;- 3
set.seed(123)
x1 &lt;- runif(N * N_vec)
mat_x1 &lt;- matrix(x1, ncol = N_vec)
mat_x1[upper.tri(mat_x1)] &lt;- NA
diag(mat_x1) &lt;- NA

# Apply the function using ifelse()
mat_x2 &lt;- ifelse(!is.na(mat_x1) &amp; mat_x1 &gt; 0.7, mat_x1, NA)

# Output the new matrix
mat_x2
</code></pre>
","2024-12-17 19:41:35","-1","Answer"
"79288346","79288308","","<p>C++ <code>string</code> objects support embedded null bytes, unlike C strings (<code>char*</code>). If you set a byte at any position to 0 (aka <code>'\0'</code>), it will not remove it or terminate the string at any position. The string will just contain a null byte where you put it.</p>
<p>To truncate a string at position 2 (setting its length to 2):</p>
<pre><code>test1.resize(2);
</code></pre>
<p>To delete just one byte at position 2 (the length becomes smaller by 1):</p>
<pre><code>test1.erase(2, 1);
</code></pre>
","2024-12-17 14:51:24","5","Answer"
"79288308","","length function in c++","<p>I think the output of this code should be 8 because the <code>length</code> function should not calculate null char '\0'.</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;algorithm&gt;
using namespace std;
int main()
{
    string test1 = &quot;abcdefghi&quot;;
    test1[2] = '\0';
    cout &lt;&lt; test1.length()&lt;&lt; endl;
    system(&quot;pause&quot;);
    return 0;
}
</code></pre>
<p>I think the output should be 8 because I change byte 2 to a null value. But the output is 9. Why?</p>
","2024-12-17 14:39:56","-3","Question"
"79287407","79285413","","<p>You can use <code>NA</code> + <code>^</code> to create a mask</p>
<pre><code>&gt; mat_x1 * NA^(mat_x1 &lt;= 0.7)
          [,1] [,2] [,3]
[1,]        NA   NA   NA
[2,] 0.7883051   NA   NA
[3,]        NA   NA   NA
</code></pre>
<p>or a much simpler one with <code>replace</code></p>
<pre><code>&gt; replace(mat_x1, mat_x1 &lt;= .7, NA)
          [,1] [,2] [,3]
[1,]        NA   NA   NA
[2,] 0.7883051   NA   NA
[3,]        NA   NA   NA
</code></pre>
","2024-12-17 10:02:29","1","Answer"
"79285747","79285413","","<p>Though there is an accepted answer, I think it's worth posting a <code>is.na&lt;-</code> solution.<br />
On the RHS you have an index vector giving which values are to become <code>NA</code>, in this case the vector is the logical condition you want (or its negation).</p>
<pre class=""lang-r prettyprint-override""><code># this is the question's condition, negated
# is.na(mat_x1) &lt;- !(mat_x1 &gt; 0.7)
#
is.na(mat_x1) &lt;- mat_x1 &lt;= 0.7
mat_x1
#&gt;           [,1] [,2] [,3]
#&gt; [1,]        NA   NA   NA
#&gt; [2,] 0.7883051   NA   NA
#&gt; [3,]        NA   NA   NA
</code></pre>
<p><sup>Created on 2024-12-16 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.1</a></sup></p>
","2024-12-16 18:37:37","4","Answer"
"79285738","79285413","","<p>The other answers are great - as a variant given the goals of this specific question, if your ultimate goal is to identify row/column combinations with a value greater than some threshold (i.e, 0.7), you can return the indices of these combinations using <code>which</code> and eliminate the need to manually look at the matrix:</p>
<pre><code>which(mat_x1 &gt; 0.7, arr.ind = TRUE)
#      row col
# [1,]   2   1
</code></pre>
<p>If your matrix had row and column names and wanted to get fancy, you could create a little helper function to make everything pretty. Here is an example using a new matrix with fruits as row names and animals as column names:</p>
<pre><code>mat2 &lt;- matrix(c(0.75, 0.75, 0.2, 
                 0.3, 0.4, 0.75, 
                 0.5, 0.3, 0.9), 
               nrow = 3, 
               dimnames = list(c(&quot;Apples&quot;, &quot;Oranges&quot;, &quot;Bananas&quot;), 
                               c(&quot;Dog&quot;, &quot;Cat&quot;, &quot;Hampster&quot;)))

myFun &lt;- function(mtrx, thresh){
  indcs &lt;- which(mtrx &gt;= thresh, arr.ind = TRUE)
  data.frame(row = rownames(mtrx)[indcs[, &quot;row&quot;]],
             column = colnames(mtrx)[indcs[, &quot;col&quot;]],
             value = mtrx[indcs])
  }

myFun(mat2, 0.7)

#      row   column value
# 1  Apples      Dog  0.75
# 2 Oranges      Dog  0.75
# 3 Bananas      Cat  0.75
# 4 Bananas Hampster  0.90
</code></pre>
","2024-12-16 18:32:37","4","Answer"
"79285484","79285413","","<pre><code>N &lt;- 3 # Observations
N_vec &lt;- 3 # Number of vectors
set.seed(123)
x1 &lt;- runif(N * N_vec)
mat_x1 &lt;- matrix(x1, ncol = N_vec)
mat_x1[upper.tri(mat_x1)] &lt;- NA
diag(mat_x1) &lt;- NA
mat_x1

new_function &lt;- function( mat_x1 ){
truth_mat &lt;-mat_x1 &gt;.7
truth_mat
newmat &lt;- mat_x1 * truth_mat
newmat[newmat == 0] &lt;- NA
return( newmat )
}

new_function (mat_x1)
</code></pre>
<p>This returns :</p>
<pre><code>          [,1]      [,2] [,3]
[1,]        NA        NA   NA
[2,] 0.7883051        NA   NA
[3,] 0.4089769 0.0455565   NA
          [,1] [,2] [,3]
[1,]        NA   NA   NA
[2,] 0.7883051   NA   NA
[3,]        NA   NA   NA
</code></pre>
","2024-12-16 17:04:02","2","Answer"
"79285461","79285413","","<p>@RonakShah's answer is better, but for completeness (e.g. if you had a function that was hard to vectorize), you can use <code>apply()</code> over <em>both</em> margins of the matrix:</p>
<pre class=""lang-r prettyprint-override""><code>f &lt;- function(x) if (!is.na(x) &amp; x &gt; .7) x else NA
apply(mat_x1, MARGIN = c(1,2), FUN = f)
          [,1] [,2] [,3]
[1,]        NA   NA   NA
[2,] 0.7883051   NA   NA
[3,]        NA   NA   NA
</code></pre>
","2024-12-16 16:57:54","5","Answer"
"79285433","79285413","","<p>In this case, you may just do :</p>
<pre><code>mat_x1[mat_x1 &lt;= .7] &lt;- NA

#          [,1] [,2] [,3]
#[1,]        NA   NA   NA
#[2,] 0.7883051   NA   NA
#[3,]        NA   NA   NA
</code></pre>
<p>In case, this is just an example and you want to apply some kind of variation of function <code>y</code> you may do the following. First make sure that your function is vectorized and can handle multiple values which in this case is as simple as changing <code>if</code> to <code>ifelse</code> and then apply the function to the matrix.</p>
<pre><code>y = function(x) ifelse(x &gt; .7, x, NA)
y(mat_x1)
</code></pre>
","2024-12-16 16:50:41","7","Answer"
"79285413","","How apply a function to every element of a matrix?","<p>I'm struggling to apply a function to each element of a matrix, a lower triangular Jaccard similarity matrix.</p>
<p>The function should return values of the matrix with values &gt; .7, and reassign other elements as NA, making it easier to identify highly similar binary variables. Ideally the matrix structure is preserved.</p>
<p>I've created a simple sample 3x3 matrix populated with random values for testing:</p>
<pre><code>N &lt;- 3 # Observations
N_vec &lt;- 3 # Number of vectors
set.seed(123)
x1 &lt;- runif(N * N_vec)
mat_x1 &lt;- matrix(x1, ncol = N_vec)
mat_x1[upper.tri(mat_x1)] &lt;- NA
diag(mat_x1) &lt;- NA
mat_x1
              [,1]      [,2] [,3]
    [1,]        NA        NA   NA
    [2,] 0.7883051        NA   NA
    [3,] 0.4089769 0.0455565   NA
</code></pre>
<p>How do I apply the following function to each matrix element that returns values &gt; 0.7?</p>
<pre><code>y = (function(x) if (x &gt; .7) { return(x) } else { return(NA) })
</code></pre>
<p>I'd like to see the following after applying the function:</p>
<pre><code>mat_x2
              [,1] [,2] [,3]
    [1,]        NA   NA   NA
    [2,] 0.7883051   NA   NA
    [3,]        NA   NA   NA
</code></pre>
","2024-12-16 16:44:05","5","Question"
"79284494","79284301","","<p>The fact that <code>Get-Command -Module &lt;moduleName&gt;</code> works indicates that module auto-loading is not the problem.</p>
<p>A more likely explanation is that the manifest attached to your module does not explicitly list <code>TestFunction</code> as an exported command, and as a result PowerShell cannot make out the link between the two until after the module has been imported.</p>
<p>In your module manifest, make sure the <code>FunctionsToExport</code> key explicitly lists the exported function name, eg:</p>
<pre><code>FunctionsToExport = @(&quot;TestFunction&quot;)
</code></pre>
<p>To update the existing manifest, use <code>Update-ModuleManifest</code>:</p>
<pre><code>Update-ModuleManifest -Path path\to\TestModul_1.01.psd1 -FunctionsToExport TestFunction
</code></pre>
","2024-12-16 11:22:42","2","Answer"
"79284301","","How to Make my Module loaded automatically when PowerShell session starts","<p>I created my module and now my goal is to load it automatically when PowerShell session starts, extra I like to have it for every user.</p>
<p>Based on some tutorials and this <a href=""https://learn.microsoft.com/en-us/powershell/scripting/developer/module/installing-a-powershell-module?view=powershell-7.4#installing-modules-for-all-users-in-program-files"" rel=""nofollow noreferrer"">Microsoft Docu</a> I copied all dir with my module to path:</p>
<blockquote>
<p>C:\ProgramFiles\WindowsPowerShell\Modules\</p>
</blockquote>
<p>Unfortunately my module is not not loaded successfully - I mean called function stored in this module is not recognized (Tested on Windows 11 24H2, PowerShell 5.1).</p>
<p>What for me is more unclear - If I simply list all available Commands in my module, then they all will be shown, and next called function again will be executed fine:</p>
<p><a href=""https://i.sstatic.net/gzRRRbIz.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/gzRRRbIz.jpg"" alt=""PowerShell session"" /></a></p>
<p>Also command &quot;Get-Module&quot; will display this time my module.</p>
<p>This is how my module looks like in Program Files dir:
<a href=""https://i.sstatic.net/nSlpOa7P.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/nSlpOa7P.jpg"" alt=""enter image description here"" /></a></p>
<p>Did I did something wrong, or not understand it?</p>
<p>The same result I got when I stored my TestModul in Local Profile dir (&quot;$HOME\Documents\WindowsPowerShell\Modules&quot;)
Until I query for all commands from my module, any of function there will be not recognized in current session of PowerShell.</p>
","2024-12-16 10:11:24","1","Question"
"79284169","79284079","","<p>This is a somewhat simplified example of what you have, but should illustrate the problem (actually, a <em>solution</em>).</p>
<p>I don't have your tables or other objects so I'm using Scott's sample schema, its EMP (employees) table, returning employee name, job and salary info.</p>
<p>Create types at SQL level, not within the function:</p>
<pre><code>SQL&gt; CREATE OR REPLACE TYPE rec_orderline IS OBJECT
  2  (
  3     ename VARCHAR2 (20),
  4     job VARCHAR2 (20),
  5     sal NUMBER
  6  );
  7  /

Type created.

SQL&gt; CREATE OR REPLACE TYPE rot IS TABLE OF rec_orderline;
  2  /

Type created.
</code></pre>
<p>Function:</p>
<ul>
<li>declare appropriate variables (<code>ro</code> being the most important)</li>
<li>I'm populating it with values fetched by the cursor (within the cursor FOR loop)</li>
<li>pay attention to the way it is done (lines #13 and 14)</li>
<li>finally, open ref cursor (for values contained in <code>ro</code>) and return it</li>
</ul>
<hr />
<pre><code>SQL&gt; CREATE OR REPLACE FUNCTION f_get (i_deptno IN NUMBER)
  2     RETURN SYS_REFCURSOR
  3  IS
  4     ro      rot := rot ();
  5     j       NUMBER := 0;
  6     retval  SYS_REFCURSOR;
  7  BEGIN
  8     FOR i IN (SELECT ename, job, sal
  9                 FROM emp
 10                WHERE deptno = i_deptno)
 11     LOOP
 12        j := j + 1;
 13        ro.EXTEND;
 14        ro (j) := rec_orderline (i.ename, i.job, i.sal);
 15     END LOOP;
 16
 17     OPEN retval FOR SELECT * FROM TABLE (ro);
 18
 19     RETURN retval;
 20  END;
 21  /

Function created.
</code></pre>
<p>Testing:</p>
<pre><code>SQL&gt; SELECT f_get (10) FROM DUAL;

F_GET(10)
--------------------
CURSOR STATEMENT : 1

CURSOR STATEMENT : 1

ENAME                JOB                         SAL
-------------------- -------------------- ----------
CLARK                MANAGER                    2450
KING                 PRESIDENT                  5000
MILLER               CLERK                      1300


SQL&gt;
</code></pre>
<p>Now, apply that to your function.</p>
","2024-12-16 09:25:31","0","Answer"
"79284079","","Outer function returning multi-line values with the help of refcursors","<p>I'm learning ref cursors, record type concepts.
Below is the logic I'm trying [I kn which is wrong at few lines],
On high level, Outer function 'get_modified_ssd_rsd2' has order number as one of parameter [with multiple lines under it], where one by one line_ids are passed to inner function. 'get_modified_ssd_rsd1' which is inner function returning 2dates in refcursors. It is tested successfully. I'm trying/ask is,
how can I return orderno, lineid, date1,date2 - four parameters via outer function [i.e. get_modified_ssd_rsd2] in refcursor?</p>
<pre><code>
CREATE OR REPLACE FUNCTION get_modified_ssd_rsd2 (
    p_depot_i                 IN VARCHAR2,
    p_planned_delivery_dttm   IN DATE,
    p_service_level_id        IN NUMBER,
    p_rmaord_no               IN NUMBER)

    RETURN SYS_REFCURSOR
IS
    CURSOR c1 (p_rmaord_no NUMBER)
    IS SELECT line_id
          FROM SalesOrerLinesTable
         WHERE 1 = 1 AND order_number = 801259549;

    l_ssd              tablename.column%TYPE;
    l_rsd              tablename.column%TYPE;
    l_rmaord_no        tablename.column%TYPE;
    j                  NUMBER := 0;
    l_dates            SYS_REFCURSOR;
    
    TYPE line_ssdrsd_rectype IS REF CURSOR;
    line_ssdrsd_type   line_ssdrsd_rectype;

    TYPE rec_orderline
        IS RECORD
    (
        rmaord_no             tablename.column%TYPE,
        line_id               tablename.column%TYPE,
        schedule_ship_date    tablename.column%TYPE,
        request_ship_date     tablename.column%TYPE
    );
    ro                 rec_orderline;

BEGIN
    l_rmaord_no := p_rmaord_no;

    FOR i IN c1 (l_rmaord_no)LOOP
        j := j + 1;

        l_dates :=
            get_modified_ssd_rsd1 (p_depot_i,
                                   p_planned_delivery_dttm,
                                   p_service_level_id,
                                   i.line_id);

        lst (j).rmaord_no := l_rmaord_no;
        lst (j).line_id := i.line_id;
        lst (j).schedule_ship_date := l_dates.l_ssd;
        lst (j).request_ship_date := l_dates.l_rsd;
    END LOOP;

EXCEPTION
    WHEN OTHERS
    THEN
        DBMS_OUTPUT.put_line (' Error - ' || SQLERRM);

END get_modified_ssd_rsd2;
</code></pre>
<p>Thank you!</p>
<ul>
<li>Tried pipelined functions but couldn't capture results from outer functions in refcursors</li>
<li>Tried record type, record type of refcursor in outer function and then capture multiple lines' returned by inner function in refcursors etc .. etc, but no luck.</li>
</ul>
<p>Returning results in refcursor via outer function is mandatory ask.
Thank you!</p>
","2024-12-16 08:40:29","0","Question"
"79284055","79283981","","<p>It's pretty simple:</p>
<ul>
<li>inner scopes can see anything higher up that they're nested within, recursively (further than one level)</li>
<li>outer scopes cannot &quot;reach into&quot; nested scopes</li>
</ul>
<p><code>c</code> can see everything here, because it's nested within <code>b</code>, which is nested within <code>a</code>, which is nested within the global scope, and everything else is within one of those scopes.</p>
<p><code>t</code> cannot see into <code>a</code>, nor can <code>d</code> see into <code>b</code>.</p>
<p>Logically speaking, a <code>def</code> statement defines a function when it is executed. Meaning, <code>b</code> is being defined while <code>a</code> is being executed, and when <code>a</code> finishes, <code>b</code> goes out of scope and ceases to exist. So <code>b</code> doesn't even exist unless <code>a</code> is actively running, which means <code>t</code> cannot access <code>b</code> inside <code>a</code> even if it wanted to.</p>
<p>(The actual implementation probably doesn't work like that, and we'll leave arguments like &quot;what if I call <code>t</code> from <code>a</code>&quot; aside. Just keep this is-defined-while-running in mind to help clarify whether you should be able to reach into functions.)</p>
<hr />
<p>With dynamic scoping it all depends on how things are called. In dynamic scoping the call stack defines what's visible to functions. Anything on the call stack is accessible. So if you call <code>a</code> → <code>d</code> → <code>c</code> → <code>t</code>, then <code>t</code> has access to everything else.</p>
","2024-12-16 08:33:28","0","Answer"
"79283981","","Static scoping with nested functions","<p>consider the nested functions:</p>
<pre><code>def a():
    def b():
       def c():

    def d():


def t():
</code></pre>
<p>I know:</p>
<ul>
<li>t can call a and vv</li>
<li>a can also call b and d</li>
<li>b can call d, a and c</li>
<li>d can call b and a</li>
<li>c can call b</li>
</ul>
<p>so the following stack implementation:
bottom up: t a t a d a b c<br />
is fine as t calls a, a calls t and so on.</p>
<ul>
<li>can c call a (more than 1 level up)?</li>
<li>can c call t (something its not nested in)?</li>
<li>can a call c (more than 1 level inwards)?</li>
<li>can c call d?</li>
</ul>
<p>and what about for dynamic scoping?</p>
<p>couldnt find anything regarding this problem</p>
","2024-12-16 08:01:56","-1","Question"
"79281839","79274994","","<p>It can be helpful to think about how the function calling abstraction is implemented in assembly.</p>
<p>When you make a function call, a new stack frame is allocated in memory, and the stack pointer is incremented accordingly. When a function returns, the frame is popped from the stack and the stack pointer is decremented.</p>
<p>You can &quot;simulate&quot; this in C by creating a <code>Stack</code> object (which can just be a statically allocated array if you know the max recursion depth in advance. Or you can implement something similar to a vector and dynamically reallocate the stack array) with <code>StackFrame</code> elements. The latter is a struct which captures all the state required to execute the function up to then next recursive function call or the return statement. It can look something like this</p>
<pre><code>struct StackFrame {
  const uint64_t np[6];
  const BiomeTree *bt; 
  int idx;
  int alt; 
  uint64_t ds;
  int depth;

  // you should use an enum instead of separate bools
  bool function_start;
  bool after_for_loop;
  size_t inner_loop_idx; // which step of the main for loop 
  // anything else to capture the state 
};
</code></pre>
<p>You will also need to separately keep track of the latest return value.</p>
<p>Now the main body of the function should look something like this</p>
<pre><code>// Create the first StackFrame
StackFrame first_frame = { .function_start = true; //etc.. };
stack_push(&amp;frames, first_frame);

// Return values from all function calls are saved in this variable
int return_value; 

// &quot;Run the simulation&quot; 
while (!stack_empty(&amp;stack)) {
    StackFrame current_frame = stack_last(&amp;stack);

    // execute the appropriate portion of get_restuling_node based on the state captured in the stack frame. 
    if current_frame.function_start {
      //...
    }
    else if current_frame.after_for_loop {
      //...
      // return_value = ...;
      stack_pop(&amp;stack);
    }
    else {
      // execute current_frame.inner_loop_idx th step of the for loop
      // use return_value to fetch the value of leaf2
      // finish the loop step 
      // current_frame.inner_loop_idx += 1;
      // stack_push(new_frame)
    }
}
return return_value;
</code></pre>
<p>EDIT: See this thread for more discussion and examples around how to convert recursive functions into iterative ones. <a href=""https://stackoverflow.com/questions/159590/convert-recursion-to-iteration?rq=1"">Convert recursion to iteration</a></p>
","2024-12-15 05:19:49","-2","Answer"
"79280520","79276328","","<p>you could use <code>AutoFilter()</code> method and then loop through filtered cells only</p>
<pre><code>Function ListLength(dataRange As Range, filter1 As String, filter2 As String, filter3 As String) As Long

    With dataRange

        .AutoFilter 4, &quot;PK-1&quot;
        .AutoFilter 1, &quot;DRY&quot;
        .AutoFilter 14, &quot;Yes&quot;

        Dim d As Scripting.Dictionary
            Set d = New Scripting.Dictionary

            Dim c As Range
                For Each c In .Columns(2).Resize(.Rows.Count - 1).Offset(1).SpecialCells(xlCellTypeVisible)
                    d(c.Value2) = 1
                Next
                
                .Parent.AutoFilterMode = False

    End With

        ListLength = d.Count
            
End Function
</code></pre>
<p>as you can see you can pass the entire range instead of splitting it into those 4 sub ranges</p>
<p>and the calling could be like:</p>
<pre><code>Sub main()
    With Worksheets(sheet)
        With .Range(&quot;H1:U&quot; &amp; .Cells(.Rows.Count, &quot;H&quot;).End(xlUp).Row)
            Worksheets(pSheet).Range(&quot;T4&quot;).Value = ListLength(.Cells, &quot;PK-1&quot;, &quot;DRY&quot;, &quot;Yes&quot;)
        End With
    End With
End Sub
</code></pre>
<hr />
<p>Or you can also use the <code>RemoveDuplicates()</code> method and avoid the <code>Dictionary</code> object</p>
<pre><code>Function ListLength2(dataRange As Range, filter1 As String, filter2 As String, filter3 As String) As Long

    With dataRange
        
        Dim vals As Variant
            vals = .Value 'save the range values since some of them will be possibily deleted after RemoveDuplicate() method
            
        .AutoFilter 4, &quot;PK-1&quot;
        .AutoFilter 1, &quot;DRY&quot;
        .AutoFilter 14, &quot;Yes&quot;
        
        .RemoveDuplicates Array(2), xlYes
                
        ListLength2 = WorksheetFunction.CountA(.Columns(2)) - 1 ' count remaining values in column 2 of the range, header excluded
        
        .Parent.AutoFilterMode = False
        
        .Value = vals ' put range original values back

    End With
            
End Function
</code></pre>
","2024-12-14 11:10:49","0","Answer"
"79279189","79279044","","<p>I would be tempted to just sort the parameters if you wanted to cache the results where the order of parameters did not matter.</p>
<pre><code>import functools

def sort_parameters(func):
    return lambda *args, **kwargs: func(*sorted(args), **kwargs)

@sort_parameters
@functools.cache
def mult(a, b):
    print(&quot;method actually called&quot;)
    return a * b

print(mult(2, 3))
print(mult(2, 3))
print(mult(3, 2))
</code></pre>
<p>Should give you:</p>
<pre><code>method actually called
6
6
6
</code></pre>
","2024-12-13 17:53:48","1","Answer"
"79279044","","How can I deploy cache when the order of arguments doesn't matter?","<p>Say I have a function <code>func</code>, which happens to have the property that <code>func(a, b) == func(b, a)</code> is always <code>True</code>.</p>
<p>Then say I decorate the function with the <code>@cache</code> decorator from <a href=""https://docs.python.org/3/library/functools.html#functools.cache"" rel=""nofollow noreferrer"">functools</a>. My understanding of that decorator is that the first time <code>func(a, b)</code> is called its result gets cached so that whenever <code>func(a, b)</code> is called again it can just look-up the result instead of calling the function again.</p>
<p>Now, if I understand correctly, if I run <code>func(b, a)</code> the function will be called, as the specific input tuple <code>(b, a)</code> has not yet been cached. However, given we know <code>func(b, a)</code> has the same result as <code>func(a, b)</code>, is there a way to leverage the cache in this instance?</p>
<p>In short, is there a way to ignore the order of arguments when caching?</p>
","2024-12-13 16:53:37","0","Question"
"79276882","79276511","","<h2>Overloading</h2>
<p>The proper way to handle this is with &quot;overloading&quot;. But Oracle supports overloaded procs/functions only in packages, so you need to wrap it in a package:</p>
<pre><code>CREATE OR REPLACE PACKAGE pkg_test
AS
  function compare_data (first in varchar2, second in number) return varchar2;
  function compare_data (first in varchar2, second in date) return varchar2;
END;

CREATE OR REPLACE PACKAGE BODY pkg_test
AS
  function compare_data (first in varchar2, second in number) 
    return varchar2
  as
    var_second_date date;
  begin
    -- convert second to a date then call the other overload.
    var_second_date := second +...... [whatever math you need];

    RETURN compare_data(first,var_second_date);
  end;

  function compare_data (first in varchar2, second in date) 
    return varchar2
  as
  begin
    -- now do stuff and return something 
  end;
END pkg_test;
</code></pre>
<p>When you call <code>pkg_test.compare_date(...,...)</code> Oracle will detect the datatype of the literal (or bind) you are passing in for both parameters and will find the function definition in the package header that matches those datatypes... so if your second parameter is a number, it will call the first specification. If your second parameter is a date, it automatically knows to call the second one instead.</p>
<p>Then all you need to do to consolidate code is do whatever is number-specific and then convert it to the primary datatype (date) and call the <em>other</em> overload to do the main work.. again, Oracle automatically knows to call the second function rather than recursively call itself because of the datatypes being supplied in the parameters.</p>
<h2>Generic varchar2 parameter (risky)</h2>
<p>You could, of course, have only one function and not need packages at all if you simply use generic varchar2 parameters, but that's generally considered bad programming because it does not enforce the real datatype validity of the parameter values. A user could pass in total junk and you're going to end up with datatype conversion errors being thrown. You should not rely on implicit datatype conversions, and you certainly don't want to be in the business of trying to do your own datatype inspection on a string and do conditional conversions based on what you &quot;think&quot; it is.</p>
<h2>Multiple (optional) strongly-typed parameters</h2>
<p>A third and final solution that is better than the generic varchar2 method and not as elegant as the overload is to have additional optional parameters and programming test for non-nullity and use whichever one has a non-null value. Then at least you can stay strongly-typed:</p>
<pre><code>CREATE FUNCTION compare_num (first IN NUMBER, 
                             second_number in NUMBER := NULL, 
                             second_date IN date := NULL) 
    RETURN VARCHAR2 
AS 
  var_second_date date;
BEGIN
  IF second_number IS NOT NULL
  THEN
    var_second_date := second_number+..... [conversion here];
  ELSE
    var_second_date := second_date;
  END IF;

  
    -- do stuff using var_second_date
END compare_num;
</code></pre>
<p>The downside is that there is no enforcement that only one of the types have a value (they might both, then which do you use?), and since they now must be optional, the function could be called without any of them. So more checks and error conditions have to be built in when you do this.</p>
<p>So, various options, but the cleanest and most programmatically secure method is the overload approach.</p>
","2024-12-12 23:38:38","3","Answer"
"79276590","79276328","","<p>I found the problem...obvious and blatant oversight!
I forgot to declare Item as Range!</p>
","2024-12-12 21:04:43","1","Answer"
"79276560","79276511","","<p>Well, what you <em>could</em> do is to rely on Oracle's capabilities of <strong>implicit datatype conversion</strong> and create a function which accepts parameters of a <code>varchar2</code> datatype.</p>
<pre><code>SQL&gt; create or replace function compare_data
  2    (first in varchar2, second in varchar2)
  3  return number
  4  as
  5  begin
  6      if first = second then return 0; else return 1; end if;
  7  end compare_data;
  8  /

Function created.
</code></pre>
<p>Let's try it:</p>
<pre><code>SQL&gt; select compare_data(1, 2) result from dual;

    RESULT
----------
         1

SQL&gt; select compare_data('A', 'A') result from dual;

    RESULT
----------
         0

SQL&gt; select compare_data(date '2024-10-28', date '2021-02-13') result from dual;

    RESULT
----------
         1

SQL&gt;
</code></pre>
<p>Seems to be working; though, I prefer not to rely on implicit datatype conversion. If you want to take control over it, I guess you'd have to create separate functions. They could even be <em>overloaded</em>, i.e. look and have the same name - the only difference would be parameters' datatype.</p>
","2024-12-12 20:49:13","0","Answer"
"79276511","","oracle function input with more than one possible type","<p>I am building a function to compare 2 input variables:</p>
<pre><code>CREATE FUNCTION compare_num (first IN NUMBER, second in NUMBER) 
    RETURN VARCHAR2 AS 
BEGIN
    -- write compare request into audit log database  table
    if first = second then return 0; else return 1; end if; 
END TESTFUNCTION;
</code></pre>
<p>then I will need to build another for date:</p>
<pre><code>CREATE FUNCTION compare_date (first IN date, second in date) 
    RETURN VARCHAR2 AS 
BEGIN
    -- write compare request into audit log database  table
    if first = second then return 0; else return 1; end if; 
END TESTFUNCTION;
</code></pre>
<p>as you can see the 2 functions are identical except for the input type difference.</p>
<p>What I would like to do is build one function so I only need to write the function body once, something like:</p>
<pre><code>CREATE FUNCTION compare (first IN &lt;date OR number OR varchar2&gt;, second in &lt;date OR number OR varchar2&gt;) 
    RETURN VARCHAR2 AS 
BEGIN
    -- write compare request into audit log database table
    if first = second then return 0; else return 1; end if; 
END TESTFUNCTION;
</code></pre>
<p>so that if I need to update &quot;write to log&quot; logic I don't have to update in two places.</p>
<p>Is this possible?</p>
<p>I tried use 'anytype' as input types but compilation failed at &quot;first = second&quot; check.</p>
","2024-12-12 20:30:16","0","Question"
"79276439","79276328","","<p>I got your code working following the changes outlined in my comments, but this slightly different approach is more flexible and easier to call I think:</p>
<pre><code>Option Explicit

Sub tester()
    
    Dim ws As Worksheet, lastRow As Long
    
    lastRow = 13 'for example
    Set ws = ThisWorkbook.Worksheets(&quot;Data&quot;)
    Debug.Print CountUniques(ws.Range(&quot;I2:I&quot; &amp; lastRow), &quot;K&quot;, &quot;PK-1&quot;, &quot;H&quot;, &quot;DRY&quot;, &quot;U&quot;, &quot;Yes&quot;)

End Sub

' `ValuesRange` contains the values for which you want the unique count
' `Filters` is an alternating list of column indexes (numeric or letter) and values to test for
Function CountUniques(ValuesRange As Range, ParamArray Filters()) As Long
    Dim c As Range, v, itemList As Scripting.Dictionary, rw As Range, i As Long
    
    Set itemList = New Scripting.Dictionary
    
    For Each c In ValuesRange.Cells
        v = c.Value
        If Len(v) &gt; 0 Then
            Set rw = c.EntireRow
            For i = 0 To UBound(Filters) Step 2 'loop over Filters (if any provided)
                If rw.Columns(Filters(i)) &lt;&gt; Filters(i + 1) Then GoTo skip
            Next i
            If Not itemList.Exists(v) Then itemList.Add v, 0
        End If 'value to check
skip:
    Next c
    CountUniques = itemList.count
End Function
</code></pre>
","2024-12-12 20:03:01","0","Answer"
"79276328","","Excel VBA Dictionary Not Filling Corectly","<p>I need to find the number of occurrences in a column where criteria in three other columns (same row) are met. There are also a lot of duplicates I need to exclude.  This is why I am using a dictionary. All of the passed ranges (columns) are the same length, vary up 30,000 rows, and exclude the header.  The Filters I am passing are the criteria and are supplied when calling the function. There are two sheets - sheet and pSheet. I am expecting a result from the function, but it constantly returns nothing.  There should be multiple items in the dictionary.
<a href=""https://i.sstatic.net/ByiweVzu.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ByiweVzu.png"" alt=""Sample Data"" /></a></p>
<p>Hopefully, I have supplied enough information so someone can point out my mistake.  Thanks in advance!</p>
<p>Setting the ranges:</p>
<pre><code>Set columnH = Worksheets(sheet).Range(&quot;H2:H&quot; &amp; lastRow)     'Department Column
Set columnI = Worksheets(sheet).Range(&quot;I2:I&quot; &amp; lastRow)     'Item # Column
Set columnK = Worksheets(sheet).Range(&quot;K2:K&quot; &amp; lastRow)     'CS or PK Column
Set columnU = Worksheets(sheet).Range(&quot;U2:U&quot; &amp; lastRow)     'UPC Exists Column
</code></pre>
<p>Calling the function:</p>
<pre><code>Sheets(pSheet).Range(&quot;T4&quot;) = ListLength(columnI, columnK, columnH, columnU, &quot;PK-1&quot;, &quot;DRY&quot;, &quot;Yes&quot;) 'Searches for Items that are PK, in DRY department, and have a UPC
</code></pre>
<p>The function:</p>
<pre><code>Function ListLength(Range1, Range2, Range3, Range4, Filter1, Filter2, Filter3) As Long

Dim i As Long
Dim itemList As Scripting.Dictionary
Set itemList = New Scripting.Dictionary

i = 0

For Each Item In Range1
    If Range2(i) = Filter1 Then
        If Range3(i) = Filter2 Then
            If Range4(i) = Filter3 Then
                If Not itemList.Exists(Item) Then
                    itemList.Add Item.Value, 0
                End If
            End If
        End If
    End If
    i = i + 1
Next Item
                
ListLength = itemList.Count
            
End Function
</code></pre>
","2024-12-12 19:15:18","1","Question"
"79275289","79274697","","<p>The problem that User extends Person so accepted as Person, read about <a href=""https://www.typescriptlang.org/docs/handbook/type-compatibility.html"" rel=""nofollow noreferrer"">structural typing</a>. To solve the issue there are several ways:</p>
<p>Use an optional never:</p>
<p><a href=""https://www.typescriptlang.org/play/?ts=5.7.2#code/C4TwDgpgBAQghgZwgBQgJwQewHZQLxQDeAUFFNnALYQBcUCwaAltgOYDcp9ArmhdXQbM2nAL7FioSFFQYc%20WIhTosuAGREu3JHyoQA-HWwQAbujESp0AKo6F8JLNVQNJMtvT9a9Riw7FxSXBoADk9BSE-TmIAM25sAGNgJnkEtAg4YAgAGUxWFgAKDzQ6W3QAGigTOAAbbm9CciYEgGswgR9hVihRAEpBXxFY%20KSU3DSMrNz87CKdOiccSuq6hvI9Aa6e-s6o4cTk1PTMnLzC4ro4bBBl2vrL653Itk0ydOBeXAAiAElgAHIEORMMAoExKGBMGhgFdgF8LMQEjgGFALlAymgFG51h0vl9ylwEJ8NlA8QT3DovHQyQFOEjsCjIHJsAsVPICNiqaT8YTibieaJovSUekiTVQQQJidpoUmapKo0uXjtnTkaDRdxxQAmBRSqZnWbFBU47zKvrsKCItVQDXigDMuuO%20pmcwqRCarXapq%20KqAA"" rel=""nofollow noreferrer"">Playground</a></p>
<pre><code>type BasePerson = {
  name: string;
  surname: string;
}

type Person = BasePerson &amp; {
  username?: never;
}

type User = BasePerson &amp; {
  username: string;
}
</code></pre>
<p>Accept only strict types:</p>
<p><a href=""https://www.typescriptlang.org/play/?ts=5.7.2#code/C4TwDgpgBAChBOBnA9gOygXigbwFBSlQEMBbCALikWHgEtUBzAbnyoFd5izLq7GWAvrlyhIUAKqIEmWAhToAZDlZspnUhSo16zXEJHhoAOQ0zeOlgbEBlbQGNgAFUMAeAIJQIAD2ARUAE0QoZAAjACsIBwAaKAAhTx8-QODwyOAAPhkPb18AoPiAfjiE3OSPIo9KVAgAN2kq2oRLADM2VAdaNCg7eAgiXwAZZAZ6F0cSpKDJBHSAClUESls6B2dIMZjp+HSYmqIAGzZNbEJaOwBrE24tPgYoAQBKHm1+XFb24E70Hr7B4dHxjlJrIkGg5gt4Et7E5XI4YnBQagdlA9odjoQNM9bvcnjcLG82h0uj9+hAhiNUPM1JQiKgQLsDkcaXTceZGMoCL1gBx0AAiACSwAA5EFUMhgFBaCQwMh4MBacBeYJhHY0NQoBDKFsZHgCFxNLzeVFWIgeZioIbjQQIfrKJa9CxVah1ZBEZQEfIdaxbRajSazdd7QJLE71b1TfsJVgSX8KbNXfIYicfYacY61RLw2xIwAmGQxsn-SkQpMYwO8tO4UOZiAR4AAZnzvVJ5PoVIQpdQZ0u5tTjxYQA"" rel=""nofollow noreferrer"">Playground</a></p>
<pre><code>type StrictType&lt;A extends object, B extends object&gt; = A extends B ? B extends A ? A : never : never;

function createLogin&lt;T extends User&gt;(user: StrictType&lt;T, User&gt;, value: { nickName: string }): string;
function createLogin&lt;T extends Person&gt;(user: StrictType&lt;T, Person&gt;, value: { name: string }): string;
function createLogin(user: any, value: any): string {
  return &quot;It's not important&quot;;
}
</code></pre>
<p>Use a conditional type for the argument (similar to the strict type):</p>
<p><a href=""https://www.typescriptlang.org/play/?ts=5.7.2#code/C4TwDgpgBAChBOBnA9gOygXigbwFBSlQEMBbCALikWHgEtUBzAbnyoFd5izLq7GWAvrlyhIUAKqIEmWAhToAZDlZspnUhSo16zXEJHhoAOQ0zeOlrgBmbVAGNgtNFDvwIRYBAAyyBvQAUqgiUkggANFAAbkQANmya2IS0dgDWJtxafAxQAgCUPNr81rYOTuiu7p4+fqgAPAAqUBAAHp6oACaIskhoAHyBapT1EdFxmnA96C1tnVCNAPw4hBoFWTlQlKgQkQj5mRbF9o7OFR7evgFB8JREqCAjsfE3d3vmjMoEbsAc6ABEAJLAADkXVQyGAUFoJDAyHgwFuwF+gmEdjQ1CgVxCahkeAIXE0v1+YVYiB+KyghOJBCu+MolL0LFRqHRkEmlAm8hxrFpFKJJLJGXpAksTPRblJMQhWFOVQuqH8rPkEUSPMJOVyjLREPFbElACYZDLzjUBuElqrfurNcztRAJcAAMyGtxnaqXNTKpKpdIEy15JhAA"" rel=""nofollow noreferrer"">Playground</a></p>
<pre><code>function createLogin(user: User, value: { nickName: string }): string;
function createLogin&lt;T extends Person&gt;(user: T, value: Person extends T ? { name: string } : never): string;
function createLogin(user: any, value: any): string {
  return &quot;It's not important&quot;;
}
</code></pre>
","2024-12-12 13:26:52","0","Answer"
"79275198","79275128","","<p>According to the <a href=""https://www.swift.org/documentation/api-design-guidelines/#parameter-names"" rel=""nofollow noreferrer"">Swift API Design Guidelines</a>, this is not how you should name parameters.</p>
<blockquote>
<p><strong>Choose parameter names to serve documentation.</strong> Even though parameter names do not appear at a function or method’s point of use, they play an important explanatory role.</p>
<p>Choose these names to make documentation easy to read. [...]</p>
</blockquote>
<p>Parameter names are to &quot;serve documentation&quot;, not (just) to serve <em>you</em> (the one who implements the function). Naming parameters this way is not &quot;Swifty&quot; at all.</p>
<hr>
<p>If you want to mark which parameters are input, one way is to use a property wrapper like this:</p>
<pre><code>@propertyWrapper
struct Input&lt;T&gt; {
    let wrappedValue: T
}

public func someFunction(@Input x: Int, @Input y: Int) {
    // ...
}
</code></pre>
<p>Though this doesn't make much sense to me - surely all non-inout parameters are &quot;inputs&quot;?</p>
<hr>
<p>If you actually want a symbol that is <em>named</em> with a &quot;in&quot; prefix in your function, you can write a <a href=""https://github.com/swiftlang/swift-evolution/blob/main/proposals/0415-function-body-macros.md"" rel=""nofollow noreferrer"">function body macro</a> (here I called this <code>InputParameterNames</code>) which, when used like this:</p>
<pre><code>@InputParameterNames
public func someFunction(@Input x: Int, @Input y: Int) {
    // ...
}
</code></pre>
<p>expands to</p>
<pre><code>public func someFunction(@Input x: Int, @Input y: Int) {
    let inX = x
    let inY = y
    // ...
}
</code></pre>
<p>It would find parameters that are marked <code>@Input</code> in the parameters list, and generate a <code>let</code> declaration for each of them. I am not going to write an implementation of this macro in this answer, because I do not endorse writing Swift in this way.</p>
<p>For how to silence a warning, see <a href=""https://stackoverflow.com/q/31540446/5133585"">this post</a>. It is currently impossible at the time of writing.</p>
","2024-12-12 12:57:01","2","Answer"
"79275128","","Is There A Way to Suppress the ""External name used to document parameter"" Warning in Swift?","<p>This is an annoyance, as opposed to anything critical.</p>
<p>I tend to use the standard headerdoc-style, in my Swift, like so:</p>
<pre><code>/* ################################################# */
/**
 Perform a server-based search.
 
 - parameter specification: The search specification.
 - parameter completion: A tail completion proc (may be called in any thread).
 */
public func meetingAutoRadiusSearch(minimumNumberOfResults inMinNumber: Int, specification inSpecification: SearchSpecification, completion inCompletion: @escaping QueryResultCompletion) {
</code></pre>
<p>The issue is that the compiler gives this warning:</p>
<p><a href=""https://i.sstatic.net/KnnwtkyG.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/KnnwtkyG.png"" alt=""enter image description here"" /></a></p>
<p>Now, I always use &quot;in...&quot; parameters for my APIs. It helps me to keep track of what comes in from outside the function. I seldom use the external name.</p>
<p>However, consumers of the function are only interested in the external name.</p>
<p>I'm puzzled as to why Xcode doesn't want me to use these.</p>
<p>Is there some way to suppress the warning, or am I doing something else wrong, here?</p>
<p><em>(Yeah, I still have to document the first parameter, which is why I am looking at this, now).</em></p>
","2024-12-12 12:34:19","0","Question"
"79275008","79273967","","<p>(Looks like some old Coq code that needs some freshening up.)</p>
<p>Typically, you cannot use notations without importing/opening them: and your code is missing both list and string notations.</p>
<p>Here is the fix for that, as well as a fix to the StdLib imports, as with your code you could have name conflicts/ambiguities:</p>
<pre class=""lang-none prettyprint-override""><code>From Coq Require Import Unicode.Utf8.
From Coq Require Import String.
From Coq Require Import List.

Import ListNotations.
Open Scope string.

...etc...
</code></pre>
<p>I have had also to fix a missing semicolon here:</p>
<pre class=""lang-none prettyprint-override""><code>Definition Point :=
  class &quot;Point&quot;
    [(&quot;x&quot;, anum 0); (&quot;y&quot;, anum 0)]  (* &lt;- semicolon in list *)
    [
      method &quot;move&quot; [
        assignment &quot;x&quot; (aplus (avar &quot;x&quot;) (anum 1));
        assignment &quot;y&quot; (aplus (avar &quot;y&quot;) (anum 1))
      ]
    ].
</code></pre>
<p>Now it compiles...</p>
","2024-12-12 11:57:59","0","Answer"
"79274994","","How can these specific functions be convereted from using recursion to using iteration?","<p>I've been working on porting a library from C to CUDA. Two functions that I need to port make use of recursion, which CUDA doesn't seem to be playing nicely with. I therefore want to convert these functions from using a recursive approach to an iterative one, as even if the recursion did work, I suspect it would be more efficient to have these functions be iterative rather than recursive.</p>
<p>I've been having quite a bit of trouble though, as the way in which the functions make use of recursion is quite different to traditional recursion to iteration problems.</p>
<pre><code>int get_resulting_node(const uint64_t np[6], const BiomeTree *bt, int idx,
    int alt, uint64_t ds, int depth)
{
    if (bt-&gt;steps[depth] == 0)
        return idx;
    uint32_t step;
    do
    {
        step = bt-&gt;steps[depth];
        depth++;
    }
    while (idx+step &gt;= bt-&gt;len);

    uint64_t node = bt-&gt;nodes[idx];
    uint16_t inner = node &gt;&gt; 48;

    int leaf = alt;
    uint32_t i, n;

    for (i = 0, n = bt-&gt;order; i &lt; n; i++)
    {
        uint64_t ds_inner = get_np_dist(np, bt, inner);
        if (ds_inner &lt; ds)
        {
            int leaf2 = get_resulting_node(np, bt, inner, leaf, ds, depth);
            uint64_t ds_leaf2;
            if (inner == leaf2)
                ds_leaf2 = ds_inner;
            else
                ds_leaf2 = get_np_dist(np, bt, leaf2);
            if (ds_leaf2 &lt; ds)
            {
                ds = ds_leaf2;
                leaf = leaf2;
            }
        }

        inner += step;
        if (inner &gt;= bt-&gt;len)
            break;
    }

    return leaf;
}
</code></pre>
<p>and</p>
<pre><code>float getSpline(const Spline *sp, const float *vals)
{
    if (!sp || sp-&gt;len &lt;= 0 || sp-&gt;len &gt;= 12)
    {
        printf(&quot;getSpline(): bad parameters\n&quot;);
        exit(1);
    }

    if (sp-&gt;len == 1)
        return ((FixSpline*)sp)-&gt;val;

    float f = vals[sp-&gt;typ];
    int i;

    for (i = 0; i &lt; sp-&gt;len; i++)
        if (sp-&gt;loc[i] &gt;= f)
            break;
    if (i == 0 || i == sp-&gt;len)
    {
        if (i) i--;
        float v = getSpline(sp-&gt;val[i], vals);
        return v + sp-&gt;der[i] * (f - sp-&gt;loc[i]);
    }
    const Spline *sp1 = sp-&gt;val[i-1];
    const Spline *sp2 = sp-&gt;val[i];
    float g = sp-&gt;loc[i-1];
    float h = sp-&gt;loc[i];
    float k = (f - g) / (h - g);
    float l = sp-&gt;der[i-1];
    float m = sp-&gt;der[i];
    float n = getSpline(sp1, vals);
    float o = getSpline(sp2, vals);
    float p = l * (h - g) - (o - n);
    float q = -m * (h - g) + (o - n);
    float r = lerp(k, n, o) + k * (1.0F - k) * lerp(k, p, q);
    return r;
}
</code></pre>
<p>What's confusing me is that neither are using tail recursion. While I'm sure it's the way to go, I'm really struggling to see how a stack can be applied here.</p>
","2024-12-12 11:53:52","0","Question"
"79274697","","How can I fix the typescript handles function overloading and type inference","<p>I have this <a href=""https://www.typescriptlang.org/play/?ts=5.7.2#code/C4TwDgpgBAChBOBnA9gOygXigbwFBSlQEMBbCALikWHgEtUBzAbnyoFd5izLq7GWAvrlyhIUAKqIEmWAhToAZDlZspnUhSo16zKLiEjw0AHIaZvHS1wAzNqgDGwWmij34EIsAgAZZA3oAFKoIlJIIADRQAG5EADZsmtiEtPYA1qbcWnwMUAIAlDza-DZ2js7obh5evv6oQWqUcEhokTHxiYQahdm5BVmWJQ5OLpWePn6BwfCURKggrXEJM3N9FozKBO7AHOgARACSwADkiITIwFC0JGDI8MCzwLuCwvZo1FBToWoyeARcmrtduFWIgdl0oIDgQQpv9KJD9CxXqh3pBmqhGnIXFhfp1MvCCKD1HigQiXm8Lu5QbELlhRtUJnVUfJIklYRDdr1EeSoJS2NSAEwyOnjWr1CI4XEAjn5LnIikQKnAADMQvcYxqkzULOSaQyUs5QA"" rel=""nofollow noreferrer"">playground</a> and I want to make it works in my case.</p>
<pre class=""lang-none prettyprint-override""><code>type Person = {
  name: string;
  surname: string;
}

type User = Person &amp; {
  username: string; 
}

type Name = string;

function createLogin(user: User, value: { nickName: string }): string;
function createLogin(user: Person, value: { name: string }): string;
function createLogin(user: any, value: any): string {
  return &quot;It's not important&quot;;
}

const user: User = {
  name: &quot;&quot;,
  surname: &quot;&quot;,
  username: &quot;&quot;,
};
const person: Person = {
  name: &quot;&quot;,
  surname: &quot;&quot;,
};

const result = createLogin(person, { name: &quot;&quot; });
const result2 = createLogin(user, { name: &quot;&quot; }); // &lt;--- The problem is here
const result3 = createLogin(user, { nickName: &quot;&quot; });
</code></pre>
<p>My problem is that for the <code>result2</code> with the user of type User (which is a superset of Person), the second argument <code>{ name: &quot;&quot; }</code> matches the second overload signature. TypeScript chooses the more specific overload that matches both the argument types, <strong>but I want to avoid this from happening</strong>.</p>
<p>Thank you in advance for your time and help, it is greatly appreciated.</p>
","2024-12-12 10:19:46","0","Question"
"79274235","79273567","","<p>I have disabled the <code>Allow storage account key access</code> option in the Storage Account under <code>Configuration</code>, as shown below.</p>
<p><img src=""https://i.imgur.com/tRP18L1.png"" alt=""enter image description here"" /></p>
<p>We should create a Service Principal in Azure AD and add the <code>Client ID</code>, <code>Client Secret</code>, and <code>Tenant ID</code> to the system environment variables to enable the function to use <code>DefaultAzureCredentials</code>, as shown below.</p>
<p><img src=""https://i.imgur.com/sygNcAn.png"" alt=""enter image description here"" /></p>
<p>Add the Service Principal details to the <code>System Environment Variables</code>.</p>
<pre class=""lang-cs prettyprint-override""><code>AZURE_CLIENT_ID = &lt;clientID&gt;
AZURE_CLIENT_SECRET = &lt;clientSecret&gt;
AZURE_TENANT_ID = &lt;TenantID&gt;
</code></pre>
<p><img src=""https://i.imgur.com/pxMQYKP.png"" alt=""enter image description here"" /></p>
<p>I have updated your code to send a message to the queue and upload a blob locally using <code>DefaultAzureCredential</code>. I assigned the <code>Storage Queue Data Contributor</code> and <code>Storage Blob Data Contributor</code> roles to both the Service Principal and the User in Azure Storage.</p>
<p><img src=""https://i.imgur.com/wDjybUC.png"" alt=""enter image description here"" /></p>
<p><strong>function_app.py :</strong></p>
<pre class=""lang-py prettyprint-override""><code>import logging
import os
import json
import time
import azure.functions as func
from azure.identity import DefaultAzureCredential
from azure.storage.queue import QueueServiceClient

app = func.FunctionApp()

def send_message_to_queue(queue_name: str, message: str):
    credential = DefaultAzureCredential()
    queue_service_uri = os.getenv(&quot;BlobConnec__queueServiceUri&quot;)
    if not queue_service_uri:
        raise ValueError(&quot;Queue service URI not found.&quot;)

    queue_service = QueueServiceClient(account_url=queue_service_uri, credential=credential)
    queue_client = queue_service.get_queue_client(queue_name)
    queue_client.send_message(message)
    logging.info(f&quot;Message sent to queue '{queue_name}': {message}&quot;)

@app.blob_trigger(arg_name=&quot;myblob&quot;, path=&quot;ccr1/{name}&quot;, connection=&quot;BlobConnec&quot;)
def blob_trigger(myblob: func.InputStream):
    logging.info(f&quot;Python blob trigger function processed blob\n&quot;
                 f&quot;Name: {myblob.name}\n&quot;
                 f&quot;Blob Size: {myblob.length} bytes&quot;)
    try:
        blob_name = myblob.name.split('/')[-1]
        if blob_name.endswith('.pdf'):
            logging.info(f&quot;Extracted PDF name: {blob_name}&quot;)
            ccr_e2e_report(blob_name)  
        else:
            logging.warning(&quot;The blob is not a PDF file.&quot;)
    except Exception as e:
        logging.error(f&quot;Error processing blob: {e}&quot;)

def ccr_e2e_report(pdf_name: str):
    logging.info(f&quot;Generating CAR report for: {pdf_name}&quot;)
    time.sleep(20) 
    logging.info(f&quot;Report generation complete: {pdf_name}&quot;)

@app.route(route=&quot;http_trigger&quot;, auth_level=func.AuthLevel.ANONYMOUS)
def http_trigger(req: func.HttpRequest) -&gt; func.HttpResponse:
    logging.info('Python HTTP trigger function processed a request.')
    cnt = int(req.params.get('count', 0))
    if cnt &gt; 0:
        for number in range(1, cnt + 1):
            message_data = {
                &quot;file_path&quot;: &quot;None&quot;,
                &quot;file_uri&quot;: &quot;None&quot;,
                &quot;file_metadata&quot;: f&quot;{number}&quot;
            }
            message_json = json.dumps(message_data)
            send_message_to_queue(&quot;ccrqueue&quot;, message_json)
        return func.HttpResponse(f&quot;Submitted: {cnt} Messages. This HTTP triggered function executed successfully.&quot;)
    else:
        return func.HttpResponse(
            &quot;This HTTP triggered function executed successfully. Pass a count in the query string or in the request body.&quot;,
            status_code=200
        )
</code></pre>
<p><strong>local.settings.json :</strong></p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;IsEncrypted&quot;: false,
  &quot;Values&quot;: {
    &quot;AzureWebJobsStorage&quot;: &quot;UseDevelopmentStorage=true&quot;,
    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;python&quot;,
    &quot;BlobConnec__blobServiceUri&quot;: &quot;https://&lt;storageName&gt;.blob.core.windows.net&quot;,
    &quot;BlobConnec__queueServiceUri&quot;: &quot;https://&lt;storageName&gt;.queue.core.windows.net&quot;
  }
}
</code></pre>
<p><strong>Browser Output :</strong></p>
<p>I ran the function and sent GET requests for the HTTP trigger function in the browser.</p>
<p><img src=""https://i.imgur.com/6ICOW84.png"" alt=""enter image description here"" /></p>
<p>I sent a message to Azure Queue Storage as shown below:</p>
<p><img src=""https://i.imgur.com/52Uo36m.png"" alt=""enter image description here"" /></p>
<p>I successfully received the message in the  Azure Queue Storage using <code>Microsoft Entra user account</code> authentication.</p>
<p><img src=""https://i.imgur.com/Uzv20rJ.png"" alt=""enter image description here"" /></p>
<p>I uploaded a PDF file to Blob Storage using <code>Microsoft Entra user account</code> authentication.</p>
<p><img src=""https://i.imgur.com/GEVzJIZ.png"" alt=""enter image description here"" /></p>
<p><strong>Terminal Output:</strong></p>
<p>The HTTP trigger and Blob trigger functions ran successfully, as shown below.</p>
<p><img src=""https://i.imgur.com/DzDywa3.png"" alt=""enter image description here"" />
<img src=""https://i.imgur.com/aWE33Mp.png"" alt=""enter image description here"" /></p>
","2024-12-12 07:57:37","2","Answer"
"79273967","","Coq Error Syntax error: '.' expected after [gallina] (in [vernac_aux])","<p>So I have this code:</p>
<pre><code>Require Import Unicode.Utf8.
Require Import String.

Inductive AExp :=
| avar : string → AExp 
| anum : nat → AExp 
| aplus : AExp → AExp → AExp 
| amul : AExp → AExp → AExp.

Coercion anum : nat &gt;-&gt; AExp.
Coercion avar : string &gt;-&gt; AExp.
Notation &quot;A +' B&quot; := (aplus A B) (at level 50, left associativity).
Notation &quot;A *' B&quot; := (amul A B) (at level 40, left associativity).

Inductive BExp :=
| btrue : BExp
| bfalse : BExp
| bnot : BExp → BExp
| band : BExp → BExp → BExp
| blessthan : AExp → AExp → BExp
| bgreaterthan : AExp → AExp → BExp.

Notation &quot;A &lt;' B&quot; := (blessthan A B) (at level 80).
Notation &quot;A &gt;' B&quot; := (bgreaterthan A B) (at level 80).
Infix &quot;and'&quot; := band (at level 82).
Notation &quot;! A&quot; := (bnot A) (at level 81).

Inductive Stmt :=
| assignment : string → AExp → Stmt 
| while : BExp → list Stmt → Stmt
| seq : Stmt → Stmt → Stmt
| obj_inst : string → string → Stmt
| method_invoke : string → string → list AExp → Stmt.

Notation &quot;X ::= A&quot; := (assignment X A) (at level 85).
Notation &quot;S1 ;; S2&quot; := (seq S1 S2) (at level 99, right associativity).

Inductive Method :=
| method : string → list Stmt → Method.

Inductive Class :=
| class : string → list (string * AExp) → list Method → Class.

Definition Point :=
  class &quot;Point&quot;
    [(&quot;x&quot;, anum 0) (&quot;y&quot;, anum 0)]
    [
      method &quot;move&quot; [
        assignment &quot;x&quot; (aplus (avar &quot;x&quot;) (anum 1));
        assignment &quot;y&quot; (aplus (avar &quot;y&quot;) (anum 1))
      ]
    ].

Definition CreatePoint : Stmt :=
  obj_inst &quot;p&quot; &quot;Point&quot;.

Definition MovePoint : Stmt :=
  method_invoke &quot;p&quot; &quot;move&quot; [].

Definition SampleProgram :=
  seq CreatePoint MovePoint.

</code></pre>
<p>and I got this error:</p>
<blockquote>
<p>Syntax error: '.' expected after [gallina] (in [vernac_aux]).
And I am not sure if it's because of the <code>Definition Point</code>.</p>
</blockquote>
<p>Tried using chatGpt and it didn't work. Using it I wasted a lot of time. (i don't know what to write mroe so StackOverflow would let me post this question)</p>
","2024-12-12 05:52:05","0","Question"
"79273567","","Azure function trigger unable to access storage account with key access off","<p>I'm testing an Azure function that has a blob trigger then writes a message in a message queue.
I have &quot;Allow storage account key access&quot; disabled as we want to use Managed identities to access all resources.
Problem is that when the code below is triggered gives an error:</p>
<pre class=""lang-py prettyprint-override""><code>2024-12-12T01:00:08Z   [Verbose]   Host instance '5xxxxxxxx' failed to acquire host lock lease: Azure.Storage.Blobs: Service request failed.
    Status: 403 (Key based authentication is not permitted on this storage account.)
    ErrorCode: KeyBasedAuthenticationNotPermitted&quot;
</code></pre>
<p>Permisisons are given to the function MI on the storage account as Storage Blob data contributor and Storage Queue data contributor.
The code is as fololos, from a sample provided by MSFT.:</p>
<pre class=""lang-py prettyprint-override""><code>    import logging
    import json
    import base64
    import time
    import azure.functions as func
    from azure.identity import DefaultAzureCredential
    from azure.storage.queue import QueueServiceClient
    
    app = func.FunctionApp()
    
    @app.blob_trigger(arg_name=&quot;myblob&quot;, path=&quot;ccr1/{name}&quot;,
                                   connection=&quot;AzureWebJobsStorage&quot;) 
    def blob_trigger(myblob: func.InputStream):
        logging.info(f&quot;Python blob trigger function processed blob&quot;
                    f&quot;Name: {myblob.name}&quot;
                    f&quot;Blob Size: {myblob.length} bytes&quot;)
        try:
            message_data = {
                &quot;file_path&quot;: myblob.name
            }
            blob_name = myblob.name.split('/')[-1] 
            if blob_name.endswith('.pdf'):
                logging.info(f&quot;Extracted PDF name: {blob_name}&quot;)
                ccr_e2e_report(blob_name)  # Send the PDF name to another function
            else:
                logging.warning(&quot;The blob is not a PDF file.&quot;)
        except Exception as e:
            logging.info(e)
    
    # Example function to send data to
    def ccr_e2e_report(pdf_name: str):
        logging.info(f&quot;Generating CAR report for : {pdf_name}&quot;)
        time.sleep(20)
        logging.info(f&quot;Report generation complete: {pdf_name}&quot;)
    
    
    @app.route(route=&quot;http_trigger&quot;, auth_level=func.AuthLevel.ANONYMOUS)
    def http_trigger(req: func.HttpRequest) -&gt; func.HttpResponse:
        logging.info('Python HTTP trigger function processed a request.')
    
        cnt = int(req.params.get('count'))
    
        if cnt:
            for number in range(1, cnt + 1):
                message_data = {
                    &quot;file_path&quot;: &quot;None&quot;,
                    &quot;file_uri&quot;: &quot;None&quot;,
                    &quot;file_metadata&quot;: f&quot;{cnt}&quot;
                }
                
                # Convert the Python dictionary to a JSON string
                message_json = json.dumps(message_data)
                        
                send_message_to_queue(&quot;ccrqueue&quot;, message_json)
    
            return func.HttpResponse(f&quot;Submitted: {cnt} Messages. This HTTP triggered function executed successfully.&quot;)
        else:
            return func.HttpResponse(
                 &quot;This HTTP triggered function executed successfully. Pass a name in the query string or in the request body for a personalized resonse.&quot;,
                 status_code=200
            )
    
</code></pre>
<p>All my research tells me they support MI access to storage accounts from a function app but perhapsIm missing something obvious here, any info would eb great.
Thanks</p>
","2024-12-12 01:11:19","1","Question"
"79272802","79272720","","<p>The problem is you're overriding <code>self</code> (which you really never want/need to do) here:</p>
<pre><code>self = tk.Toplevel()
</code></pre>
<p>That said, I suspect you don't even need a <code>Toplevel</code> window here. If you're trying to set up a tkinter app, you can/should just inherit from <code>tk.Tk</code> in your main class like so:</p>
<pre><code>import tkinter as tk
from tkinter import ttk


class TopSoftwareWindow(tk.Tk):  # inherit from Tk in your app's main class
    def __init__(self):
        super().__init__()  # initialize Tk (the superclass)
        # self = tk.Toplevel()  # you don't need this
        self.geometry(&quot;800x600&quot;)
        self.resizable(False, False)
        self.title(&quot;Software Window&quot;)
        self.iconbitmap('MediaTracker_Icon.ico')

        # Everything that appears on this window
        self.Entry_Field = ttk.Entry(self)

        self.Text_List = tk.Listbox(self)
        self.Category_List = tk.Listbox(self)

        self.New_Entry_Btn = ttk.Button(self, text=&quot;New Entry&quot;, command=self.addtolist)
        self.Save_File_Btn = ttk.Button(self, text=&quot;Save File&quot;)
        self.Load_File_Btn = ttk.Button(self, text=&quot;Load File&quot;)
        self.Quit_Btn = ttk.Button(self, text=&quot;Quit&quot;)

        self.Entry_Field.place(x= 0, y= 0, width= 724)

        self.New_Entry_Btn.place(x= 725, y= 0)

        self.Text_List.place(x= 0, y= 25, width= 625, height= 570)
        self.Category_List.place(x= 626, y= 25, width= 99, height= 570)

        self.Save_File_Btn.place(x= 725, y= 25)
        self.Load_File_Btn.place(x= 725, y= 50)
        self.Quit_Btn.place(x= 725, y= 570)

    def addtolist(self):
        text = self.Entry_Field.get()
        if text:
            self.Text_List.insert(tk.END, text)
            self.Entry_Field.delete(0, tk.END)


if __name__ == '__main__':
    app = TopSoftwareWindow()
    app.mainloop()
</code></pre>
<p>If you <em>do</em> want <code>TopSoftwareWindow</code> to exist as a <code>Toplevel</code> window (i.e., you want a second window in addition to your <code>root</code> window that isn't defined here) you can instead inherit from <code>tk.Toplevel</code>:</p>
<pre><code>class TopSoftwareWindow(tk.Toplevel)
</code></pre>
<hr />
<p>As an aside, you should take a moment to familiarize yourself with <a href=""https://pep8.org"" rel=""nofollow noreferrer"">PEP8</a>, which outlines Python's style guide. In general, <code>CapitalizedNames</code> are reserved for <code>class</code>es (like <code>TopSoftwareWindow</code>) while <code>snake_case_names</code> are used for variables (like <code>entry_field</code>, <code>text_list</code>, etc.)</p>
","2024-12-11 18:26:05","1","Answer"
"79272720","","I keep getting AttributeError: 'Toplevel' object has no attribute 'addtolist' when trying to call functions inside my toplevel class","<p>I'm trying to use my function <code>addtolist(self)</code> within my <code>TopSoftwareWindow()</code> class and I keep getting</p>
<p><code>AttributeError: 'Toplevel' object has no attribute 'addtolist'</code></p>
<p>Here's the code for the specific class I'm trying to fix</p>
<pre class=""lang-py prettyprint-override""><code>class TopSoftwareWindow(ttk.Frame): 
    def __init__(self):
        self = tk.Toplevel()
        self.geometry(&quot;800x600&quot;)
        self.resizable(False, False)
        self.title(&quot;Software Window&quot;)
        self.iconbitmap('MediaTracker_Icon.ico') 
        
        # Everything that appears on this window
        self.Entry_Field = ttk.Entry(self)

        self.Text_List = tk.Listbox(self)
        self.Category_List = tk.Listbox(self)

        self.New_Entry_Btn = ttk.Button(self, text=&quot;New Entry&quot;, command=self.addtolist)
        self.Save_File_Btn = ttk.Button(self, text=&quot;Save File&quot;)
        self.Load_File_Btn = ttk.Button(self, text=&quot;Load File&quot;)
        self.Quit_Btn = ttk.Button(self, text=&quot;Quit&quot;)

        self.Entry_Field.place(x= 0, y= 0, width= 724)
        
        self.New_Entry_Btn.place(x= 725, y= 0)
        
        self.Text_List.place(x= 0, y= 25, width= 625, height= 570)
        self.Category_List.place(x= 626, y= 25, width= 99, height= 570)

        self.Save_File_Btn.place(x= 725, y= 25)
        self.Load_File_Btn.place(x= 725, y= 50)
        self.Quit_Btn.place(x= 725, y= 570)

    def addtolist(self):
        text = self.Entry_Field.get()
        if text:
            self.Text_List.insert(tk.END, text)
            self.Entry_Field.delete(0, tk.END)
</code></pre>
<p>I just want the ability to add this stuff to the text list inside the GUI but this is causing the entire window not to show.</p>
<p>This is for an academic assignment.</p>
","2024-12-11 17:54:02","0","Question"
"79269114","","decorate function and method with same decorator","<p>I have a function, a class implementing the similar method and a decorator. The current decorator signature does allow it to be used for the function but doesn't work with the method as expected.</p>
<pre><code>from functools import wraps

def nice(f):
   @wraps(f)
   def decorator(a, b):
       result = f(a, b)
       return 'result is: %s' % str(result)
   
   return decorator

@nice
def sumup(a, b):
   return a + b


class Test:
   def __init__(self):
       pass
   
   @nice
   def sumup(self, a, b):
       return a + b

print(sumup(2, 6))
cls = Test()
print(cls.sumup(4, 8))
</code></pre>
<p>Can I somehow 'overload' decorator? In <em>C++</em> I would be able to write the same decorator again with the same name but different signature and it would work. Can I use some nice solutions in this case? Or I need to just add the same decorator with different name like:</p>
<pre><code>def nice_cls(f):
    @wraps(f)
    def decorator(self, a, b):
        result = f(self, a, b)
        return 'result is: %s' % str(result)
    
    return decorator
</code></pre>
<p>and use it for the method?</p>
","2024-12-10 17:11:34","0","Question"
"79266632","79046079","","<ul>
<li><p><a href=""https://wiki.php.net/rfc/arrow_functions_v2"" rel=""nofollow noreferrer"">Arrow function syntax</a> implement an implicit <code>return</code>.  This differs from traditional closures which require an explicit <code>return</code> inside the curly braced body.</p>
</li>
<li><p>In your working traditional closure, there is no <code>return</code> statement, so a <code>null</code> return is implied.  Relevant reading: <a href=""https://stackoverflow.com/q/6018463/2943403"">What's the difference between <code>return;</code> and no return?</a></p>
</li>
<li><p><a href=""https://laravel.com/docs/11.x/collections#method-each"" rel=""nofollow noreferrer"">Laravel's collection method <code>each()</code></a> does not work identically to <a href=""https://www.php.net/manual/en/function.array-walk.php"" rel=""nofollow noreferrer"">PHP's native function <code>array_walk()</code></a> for arrays. <code>each()</code> does traverse the entire payload, but also has a feature to conditionally halt iteration as soon as <code>false</code> is returned. <code>array_walk()</code> is not built this way; there is no in-built short-circuiting functionality.</p>
<p>Furthermore, Laravel does not currently have a collection method that closer resembles <code>array_walk()</code> (there is no <code>walk()</code> collection method).</p>
<p>This means you will either need to prevent a <code>false</code> return inside of <code>each()</code>'s closure or choose a different iteration technique.</p>
</li>
</ul>
<p>Some workarounds: <a href=""https://phpize.online/s/e8"" rel=""nofollow noreferrer"">Demo</a></p>
<ul>
<li><p>Revert to long closure syntax (still professional looking):</p>
<pre><code>$this-&gt;allIds-&gt;each(function ($id) {
    $this-&gt;checked[$id] = $this-&gt;checkedAll;
});
</code></pre>
</li>
<li><p>Convert falsey return values to <code>null</code> to prevent short-circuiting (looks ugly/hacky/unexpected):</p>
<pre><code>$this-&gt;allIds-&gt;each(
    fn($id) =&gt; ($this-&gt;checked[$id] = $this-&gt;checkedAll) ?: null
);
</code></pre>
</li>
<li><p>Use a classic loop (reasonably professional):</p>
<pre><code>foreach ($this-&gt;allIds as $id) {
    $this-&gt;checked[$id] = $this-&gt;checkedAll;
}
</code></pre>
</li>
<li><p>Convert the collection to an array and use <code>array_walk()</code> -- implied return value is ignored (not the most direct way):</p>
<pre><code>array_walk(
    $this-&gt;allIds-&gt;toArray(),
    fn($id) =&gt; $this-&gt;checked[$id] = $this-&gt;checkedAll
);
</code></pre>
</li>
</ul>
","2024-12-09 22:41:47","0","Answer"
"79261189","79261132","","<p>There are a lot of possible &quot;right&quot; and &quot;not-right&quot; ways of programming.</p>
<p>As you said, OOP aims to structure your code in order to do not lose your sanity when you will take back your code to code new features. Actually OOP is great for code design, watch about Design patterns and SOLID architecture for example...</p>
<p>BUT this is not the only reason. Let's suppose you wanna implement new functionalities like &quot;police&quot; or &quot;bike&quot; in a future. Actually you obviously can create a class and invoke that class from <em>main.py</em>. But when you implement a lot of these features you actually will have a gargantuan function which calls different classes in different modules and each time you have to modify one of these modules if class is not well written.</p>
<p>The best principle you can follow is Single-responsability (S of SOLID architecture), this means that one function has ONE responsability, so if <em>car_generator</em> is a function that generates car, actually should not generate bikes. In this way, when you will read your code again you know that <em>car_generator</em> doesn't implement bikes.</p>
<p>Now, you could think &quot;Well, I rename <em>car_generator</em> in <em>generator</em> and I fix the problem&quot;. Actually you can, but the point is <em>generator must do only one thing</em>. When you add code in <em>generator</em> to check how many vehicles are in game in a specific time, you broke this principle and in 3 months you will forget that you added this functionality in this function.</p>
<p>Re-read your code now and think &quot;do this function actually does only <em>one thing?</em>&quot;, if answer is yes, you can go over, but if in a future you program to implement a vehicle counter, you have to manage fact <em>car_generator</em> actually already does one thing, it creates vehicles.</p>
<p>You can extend this fact to modules too. <em>main.py</em> actually is like a <em>wizard</em> . It must invoke other functions and maintain a &quot;logic&quot; in your game. You can obviously instantiate objects in it, but what if one day you will have <em>twenty</em> classes each one creating <em>twenty</em> vehicles?</p>
<p>The problem is that <em>car_generator</em> is more a function which generates <em>car</em> so it should not stay in <em>main.py</em>. In this way, when you think &quot;ok, I have to create a car&quot; you know you have to visit and modify <em>Car.py</em> and not <em>main.py</em>.</p>
<p>Another thing is that actually you are &quot;thinking&quot; in C. That's <em>really cool</em> to start programming, but actually OOP is great cause of <em>inheritance</em> and <em>polimorphism</em>, two principles of OOP. You will understand why you prof. did this when you will meet these two principles.</p>
<p><em>I REPEAT</em>: Your solution is not actually &quot;clearly wrong&quot; or &quot;clearly good&quot;. Depends on what you will implement next. If the course teaches you that, probably it's because the tutor after years of coding found this is the most clear and beautiful way of creating this kind of things. I suggest you to read books and watch online tutorials of clean code and Design patterns to understand what your teacher is &quot;implicitly saying&quot;</p>
<p>Greetings</p>
","2024-12-07 18:52:30","0","Answer"
"79261132","","Python OOP - Create a Class or Build in main.py (Udemy 100 Days of Python)?","<p>The messaging in this course seems to be that OOP revolves around organization of code vs creating classes for the purpose of repeatable variance.</p>
<p>For example: Day 23 is a frogger game.  The instructor creates a 'CarManager' class that generates the same car over and over.  There doesn't seem to be any reason, other than organization of code, why the CarManager functions couldn't have been placed in the main.py file.</p>
<p>Question:</p>
<ol>
<li>I'm trying to distinguish and understand why a class would be created when the attributes and functions could very well be placed in the main.py with no difference in the amount of code written. Should a class be created simply for organizing and de-cluttering your main.py?</li>
</ol>
<p>In the frogger game example, I took a different approach to what the instructor did (code below).  I created a Car class with inputs for size and speed. Then in my main.py code, I generated 4 different vehicles using Car class (motorcycle, car, truck, semi) with varying size and speed.  Is this not a more appropriate use of OOP within Python?</p>
<p>Car class:</p>
<pre><code>from turtle import Turtle
import random

CAR_COLORS = [&quot;blue&quot;, &quot;red&quot;, &quot;black&quot;, &quot;green&quot;, &quot;pink&quot;, &quot;orange&quot;]

class Car:
    def __init__(self, size1, speed1):
        self.car_pieces = []
        self.car_list = []
        self.create_car(size1)
        self.speed = speed1

    def create_car(self, car_size):
        color2 = random.choice(CAR_COLORS)
        xcor = random.randrange(310, 350, 20)
        ycor = random.randrange(-235, 226, 40)
        for i in range(car_size):
            car_piece = Turtle()
            car_piece.color(color2)
            car_piece.shape(&quot;square&quot;)
            car_piece.penup()
            car_piece.setposition(xcor, ycor)
            self.car_pieces.append(car_piece)
            xcor += 20

    def car_move(self):
            for i in range(len(self.car_pieces)):
                self.car_pieces[i].backward(self.speed)
</code></pre>
<p>main.py</p>
<pre><code>#Car generation
car_list = []
motorcycle_speed = 12
car_speed = 5
truck_speed = 3
semi_speed = 1
def car_generator():
    car_options = [&quot;motorcycle&quot;, &quot;car&quot;, &quot;truck&quot;, &quot;semi&quot;]
    car_choice = random.choice(car_options)
    random_chance = random.randint(1,6)
    if random_chance == 1:
        if car_choice == &quot;motorcycle&quot;:
            motorcycle_object = Car(1, motorcycle_speed)
            car_list.append(motorcycle_object)
        elif car_choice == &quot;car&quot;:
            car_object = Car(2, car_speed)
            car_list.append(car_object)
        elif car_choice == &quot;truck&quot;:
            truck_object = Car(3, truck_speed)
            car_list.append(truck_object)
        elif car_choice == &quot;semi&quot;:
            semi_object = Car(4, semi_speed)
            car_list.append(semi_object)
    else:
        pass
</code></pre>
","2024-12-07 18:22:00","0","Question"
"79258281","79256764","","
<p>Note that something like:</p>
<pre class=""lang-bash prettyprint-override""><code># Does NOT declare a variable, outputs an empty string.
[string] $domain
</code></pre>
<p>is <em>not</em> a <em>variable declaration</em>.</p>
<p><strong>PowerShell has <em>no</em> concept of mere variable <em>declarations</em></strong> (the only exceptions are <em>parameter</em> variables - see the <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Functions#functions-with-parameters"" rel=""nofollow noreferrer"">relevant section of <code>about_Functions</code></a>).</p>
<p><strong>You can only &quot;declare&quot; a variable</strong> by implicitly creating it <strong>via <em>assigning a value</em> to it</strong>. (If the variable already exists, it will be updated.)</p>
<p>In other words: it is the <strong>act of <em>assigning a value</em></strong> that <strong><em>implicitly</em> creates a variable</strong>, whether or not the LHS is prefixed with a type literal such as <code>[string]</code>, which places a <em>type constraint</em> on the variable (e.g., <code>[string] $domain = 42</code> ensures that the RHS is coerced to a string on assignment, both during the initial assignment and later ones; that is, the value that is stored is <code>'42'</code> in this case).</p>
<p>By contrast, <strong><code>[string] $domain</code> - <em>without</em> an assignment - is an <em>expression</em> that produces <em>implicit output</em></strong>:</p>
<ul>
<li>In this case, <code>[string]</code> acts as <em>cast</em> applied to the value of variable <code>$domain</code></li>
<li>Since the variable doesn't exist yet, the stand-in value is <code>$null</code>. Converting <code>$null</code> to a string by virtue of the <code>[string]</code> cast yields the <em>empty string</em> (<code>''</code>)</li>
<li>Since the result of the expression is neither captured, sent to another command, nor redirected - it is implicitly sent to the success <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Output_Streams"" rel=""nofollow noreferrer"">output stream</a> and becomes part of the function's output (&quot;return value&quot;); see <a href=""https://stackoverflow.com/a/69792182/45375"">this answer</a> for background information.</li>
</ul>
<p>Since you had two such expressions in your function, its output comprised two empty strings, followed by the argument passed to <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Return"" rel=""nofollow noreferrer""><code>return</code></a>, which explains the <code>Out-GridView</code> behavior you saw.</p>
<hr />
<p>The solution is to simply <strong><em>omit</em> these expressions</strong>.</p>
<p>You're later implicitly creating the variables with the following assignment statement:</p>
<pre class=""lang-bash prettyprint-override""><code>$domain, $username = $LoginName.Split('\')
</code></pre>
<p>Given that the <code>.Split()</code> method returns an array of <code>[string]</code> elements and given that you're using a <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Assignment_Operators#assigning-multiple-variables"" rel=""nofollow noreferrer""><em>multi-assignment</em></a> to assign the two resulting elements to individual variables, these variables will effectively be <code>[string]</code>-typed, given that a non-type-constrained variable stores any object assigned to it as-is.</p>
<p>You <em>may</em> use a type constraint in this case:</p>
<pre class=""lang-bash prettyprint-override""><code>[string] $domain, [string] $username = $LoginName.Split('\')
</code></pre>
<p>but there's no real benefit, unless you either want to explicitly signal the data type for conceptual reasons, or if you need to ensure that values used in later assignments to the same variables become <code>[string]</code>s, even if the values are of a different type.</p>
<p>As an aside:</p>
<ul>
<li>Another surprising aspect of variable assignments in PowerShell is that they implicitly create a <em>local</em> variable with the given name, even if a variable by that name already exists, but was defined in an <em>ancestral scope</em> - see <a href=""https://stackoverflow.com/a/68613813/45375"">this answer</a>.</li>
</ul>
","2024-12-06 14:10:12","0","Answer"
"79256869","78062125","","<p>In your case the main difference is how this keyword works with both functions. So here when you use Regular functions (<code>function () {}</code>) the <code>this</code> keyword refers to the object instance (in this case <code>person1</code>), so <code>this.name</code> returns name of object. Whereas, when you used Arrow function (<code>() =&gt; {}</code>) the <code>this</code> keyword referred to where the function was defined (in this case, the global scope) instead of referring to an object, so <code>this.name</code> becomes undefined.</p>
","2024-12-06 04:43:58","0","Answer"
"79256764","","Powershell function return pscustomobject out-gridview show incorrectly results","<p>This function:</p>
<pre class=""lang-bash prettyprint-override""><code>    function Get-UserNameSIDfromAD {
        param(
            [string] $LoginName
        )
        
        [string] $domain
        [string] $username
    
        $domain, $username = $LoginName.split('\')
    
        $w32usracc = Get-CimInstance -ClassName win32_useraccount -Filter &quot;Name='$username' and Domain='$domain'&quot; | Select-Object -Property SID
    
        $res = [pscustomobject] @{
            ID      = 1
            SqlSID  = $w32usracc.SID
            Message = 'OK'
        }
    
        return $res
    }

    #Using the function and get the result in variable and show using out-gridview
    $val = Get-UserNameSIDfromAD -LoginName 'mydomain\user1'
    $val | out-gridview 
</code></pre>
<p><a href=""https://i.sstatic.net/V0lUnS7t.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/V0lUnS7t.png"" alt=""image of the output in powershell"" /></a></p>
<p>Grid shows incorrectly the information, if run the code without function, the grid shows information correctly.</p>
<p>Please any advice, thank in advance.</p>
","2024-12-06 03:23:39","1","Question"
"79256741","79256675","","<p>I think this is what you want exactly:</p>
<pre><code>s = &quot;&quot;&quot;def f(x):
    a = foo1(A, B, foo3(E, foo2(A, B)))
    b = foo3(a, E)
    return b&quot;&quot;&quot;

import re

result = []
reg = re.compile(r'^(\s+).*?(\w+\([^\(\)]*\))')
count = 1
for l in s.splitlines():
    r = reg.search(l)
    if not r:
        result.append(l)
        continue
    while r:
        indent = r[1]
        var = f'tmp_{count}'
        result.append(f'{indent}{var} = {r[2]}')
        count += 1
        l = l[:r.start(2)] + var + l[r.end(2):]
        r = reg.search(l)
    else:
        if l.strip():
            result.append(l)


print('\n'.join(result))
</code></pre>
<p>and it will show:</p>
<pre><code>def f(x):
    tmp_1 = foo2(A, B)
    tmp_2 = foo3(E, tmp_1)
    tmp_3 = foo1(A, B, tmp_2)
    a = tmp_3
    tmp_4 = foo3(a, E)
    b = tmp_4
    return b
</code></pre>
","2024-12-06 03:00:50","4","Answer"
"79256675","","Dividing nested calls into several lines","<p>I have a function like this in Python (the capital letters can represent constants, functions, anything, but not function calls):</p>
<pre class=""lang-py prettyprint-override""><code>def f(x):
    a = foo1(A, B, foo3(E, foo2(A, B)))
    b = foo3(a, E)
    return b
</code></pre>
<p>and I want to break it up into &quot;atomic&quot; operations like this:</p>
<pre class=""lang-py prettyprint-override""><code>def f(x):
    tmp1 = foo2(A, B)
    tmp2 = foo3(E, tmp1)
    a = foo1(A, B, tmp2)
    b = foo3(a, E)
    return b
</code></pre>
<p>In other words, exactly one function call and one assignment per line.</p>
<p>Is there a way I can implement this source code transformation in Python? A program that takes in the string representation of such a function and returns the transformed version. I know I need to use the AST representation, but I don't really know how to proceed.</p>
","2024-12-06 01:57:08","2","Question"
"79253006","79252996","","<p>For the Upper.tri:</p>
<pre><code>=LET(_rg,D1:H5,SUM((SEQUENCE(ROWS(_rg))&lt;SEQUENCE(,COLUMNS(_rg)))*_rg))
</code></pre>
<p>diagonal</p>
<pre><code>=LET(_rg,D1:H5,SUM((SEQUENCE(ROWS(_rg))=SEQUENCE(,COLUMNS(_rg)))*_rg))
</code></pre>
<p>Lower</p>
<pre><code>=LET(_rg,D1:H5,SUM((SEQUENCE(ROWS(_rg))&gt;SEQUENCE(,COLUMNS(_rg)))*_rg))
</code></pre>
<p><a href=""https://i.sstatic.net/tnbzQbyf.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/tnbzQbyf.png"" alt=""enter image description here"" /></a></p>
<hr />
<p>Just for fun, older versions:</p>
<pre><code>=SUMPRODUCT((ROW(A1:INDEX(A:A,ROWS(D1:H5)))&lt;COLUMN(A1:INDEX(1:1,COLUMNS(D1:H5))))*D1:H5)
=SUMPRODUCT((ROW(A1:INDEX(A:A,ROWS(D1:H5)))=COLUMN(A1:INDEX(1:1,COLUMNS(D1:H5))))*D1:H5)
=SUMPRODUCT((ROW(A1:INDEX(A:A,ROWS(D1:H5)))&gt;COLUMN(A1:INDEX(1:1,COLUMNS(D1:H5))))*D1:H5)
</code></pre>
<p><a href=""https://i.sstatic.net/VC2mnkwt.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/VC2mnkwt.png"" alt=""enter image description here"" /></a></p>
","2024-12-04 23:29:53","4","Answer"
"79252996","","Excel Matrix - Formula or Function to Determine Upper and Lower Triangular Sums","<p>I am trying to write an Excel formula(s) that would replicate the upper.tri, lower.tri and diag matrix functions in R.</p>
<p>In Excel the upper (right) sum - the green area in this example would be where the column number is greater than the row number and vice-versa for the orange area.
The yellow cells (the diagonal) are where the row number is equal to the column number.</p>
<p>I can't find any built-in matrix function in Excel for this calculation though given there are ROW(), COLUMN() and SUMIF() functions I am sure there must be some elegant way to do it with a combination of these without writing VBA code. So the question basically is how do I determine the sum of a range of cells based on the values of their row and column references?</p>
<p>Please note. I do not want to accomplish this via conditional formatting or applying filters by color. This small example is just for illustrative purposes.</p>
<p>The desired sums are 71.85% upper, 20.6 lower, 7.55 diagonal.   <a href=""https://i.sstatic.net/JocRqD2C.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/JocRqD2C.png"" alt=""Matrix"" /></a></p>
","2024-12-04 23:21:59","2","Question"
"79249096","79247959","","<p>You can use the manage_{$this-&gt;screen-&gt;id}_sortable_columns filter hook to make your column sortable. (<a href=""https://developer.wordpress.org/reference/hooks/manage_this-screen-id_sortable_columns/"" rel=""nofollow noreferrer"">WP Documentation</a>)</p>
<p>You will probably need to use it in combination with <a href=""https://developer.wordpress.org/reference/hooks/pre_get_users/"" rel=""nofollow noreferrer"">pre_get_users</a> action to apply sorting to the query.</p>
","2024-12-03 20:30:58","0","Answer"
"79248225","79238708","","<p>as you've only shown bits of your code  ... here's a trivial example to retrieve and scan rates ,  printing if found</p>
<pre><code>#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;stdio.h&gt;
#include &lt;curl/curl.h&gt;

char resultsBuff[8192*4] = {0}; // Buffer for response, populated in the callback fn

size_t callbackWr(void *contents, size_t size, size_t nmemb, void *userp) {
    size_t total_size = size * nmemb;
    char *buffer = (char *)userp;
    strncat(buffer, (char *)contents, total_size);
    return total_size;
}

double scanResults( char *curr )
{
    char currBuff[80];
    char *start;
    char *endOf;
    char *rates;
    char thisRate[80];
    double rate=0.0;

    rates = strstr( resultsBuff, &quot;\&quot;rates\&quot;:&quot; );//scan only the 'rates' bit
    if ( rates == NULL )
    {
        fprintf(stderr, &quot;no rates found in [%s]\n&quot;, resultsBuff );
        exit(1);
    }

    sprintf(currBuff, &quot;\&quot;%s\&quot;&quot;, curr );
    start = strstr(rates, currBuff);
    if ( start )
    {
        endOf=strstr(start, &quot;,&quot; );
        if ( endOf == NULL )
                endOf=strstr(start, &quot;}&quot; );   // if its the last currency ...

        if ( endOf != NULL )
                strncpy( thisRate, start, endOf - start );
    }

    if ( start == NULL || endOf == NULL )
        fprintf( stderr, &quot;no exchange rate found for [%s]\n&quot;, curr );
    else{
        sscanf( strstr(thisRate,&quot;:&quot;)+1, &quot;%lf&quot;, &amp;rate );//convert to double
    }

    return rate;
}

int main( int argc, char **argv )
{
    char currency[20];
    CURL *curl;
    CURLcode res;

    if ( argc == 2 )
        strcpy( currency, argv[1] );
    else{
    printf( &quot;usage: %s currency\n&quot;, argv[0] );
    exit(1);
    }

    curl = curl_easy_init();
    if(curl) {
        curl_easy_setopt(curl, CURLOPT_URL, &quot;https://open.er-api.com/v6/latest/USD&quot;);
        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, callbackWr );
        curl_easy_setopt(curl, CURLOPT_WRITEDATA, resultsBuff);

        res = curl_easy_perform(curl);

        if(res != CURLE_OK)
            fprintf(stderr, &quot;Request failed: %s\n&quot;, curl_easy_strerror(res));
        else
            fprintf( stdout, &quot;%lf\n&quot;, scanResults( currency )); // print if a rate exists for this currency
        
        curl_easy_cleanup(curl);
    }
    return 0;
}

# running that against the following
for rate in EUR XDF XPF YER ZAR USD GBP YEN JPY BSD USD AZN GIP HKD; do
./curly $rate
done
0.951373
no exchange rate found for [XDF]
0.000000
113.529106
250.309638
18.105199
1.000000
0.789299
no exchange rate found for [YEN]
0.000000
149.590682
1.000000
1.000000
1.700252
0.789298
7.782972
</code></pre>
","2024-12-03 15:32:15","0","Answer"
"79248047","79247880","","<p>You may use <a href=""https://support.google.com/docs/answer/3094079"" rel=""nofollow noreferrer""><code>LEFT</code></a> or <a href=""https://support.google.com/docs/answer/3094129"" rel=""nofollow noreferrer""><code>MID</code></a> to <code>restricted the translation to 200 characters per translation</code>.</p>
<p>Try this:</p>
<pre><code>=IFERROR(LEFT(GOOGLETRANSLATE(VLOOKUP(A3, 'Plytix Export'!A:X, 10, FALSE), &quot;en&quot;, &quot;it&quot;), 200), &quot;&quot;)
</code></pre>
<h4>OUTPUT</h4>
<p><a href=""https://i.sstatic.net/GPrF1MxQ.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/GPrF1MxQ.png"" alt=""image"" /></a></p>
<p>You may also try this:</p>
<pre><code>=IFERROR(MID(GOOGLETRANSLATE(VLOOKUP(A3, 'Plytix Export'!A:X, 10, FALSE), &quot;en&quot;, &quot;it&quot;), 1, 200), &quot;&quot;)
</code></pre>
<h4>OUTPUT</h4>
<p><a href=""https://i.sstatic.net/lQUnxLA9.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/lQUnxLA9.png"" alt=""image"" /></a></p>
","2024-12-03 14:39:36","1","Answer"
"79247959","","Add Sort Order option to Users column data in WooCommerce","<p>I am trying to figure out a way to add custom sorting - asc / desc to the following code which I have added to functions.php to a WooCommerce store.</p>
<p>The code adds a column with the total placed orders for each user/customer in the Users admin section of WooCommerce, however the sorting functionality is missing.</p>
<p>The code has been tested and shows correctly the number of orders a user has made. The only functionality it is lacking is sorting by number of orders - ascending or descending.</p>
<p>Code is below:</p>
<pre><code> add_filter( 'manage_users_columns', 'add_new_user_column' );

function add_new_user_column( $columns ) {

$columns['placed_order'] = 'Orders Placed';

return $columns;

}

add_filter( 'manage_users_custom_column', 'add_new_user_column_content', 10, 3 );

function add_new_user_column_content( $content, $column, $user_id ) {

if ( 'placed_order' === $column ) {

$customer_orders = get_posts( array(

'numberposts' =&gt; -1,

'meta_key' =&gt; '_customer_user',

'meta_value' =&gt; $user_id,

'post_type' =&gt; wc_get_order_types(),

'post_status' =&gt; array_keys( wc_get_order_statuses() ),

) );

$store_products = wp_list_pluck( $customer_orders, 'ID' );

$content = count($store_products);

}

return $content;}
</code></pre>
<p>Would love and appreciate if you have a clue how to incorporate it!</p>
<p>Thank you in advance.</p>
","2024-12-03 14:20:42","0","Question"
"79247880","","Google Sheets Translations","<p>I am translating a google sheet from English to Italian (and other languages) I have got the translation working, but I need to restricted the translation to 200 characters per translation, due to Amazon rules.</p>
<p>where can I add the &quot;re-write limit of 200 characters&quot;? or something similar so it translates to no bigger than 200 characters.</p>
<p>I am currently using <code>vlookup</code> to reference the English data, I am getting the error of:</p>
<p>Wrong number of arguments to <code>IFERROR</code>. Expected between 1 and 2 arguments, but got 3 arguments.</p>
<p><strong>Currently using this function:</strong></p>
<pre><code>iferror(GOOGLETRANSLATE(vlookup(A3,'Plytix Export'!A:X,10,false),&quot;en&quot;,&quot;it&quot;),&quot;&quot;)
</code></pre>
","2024-12-03 13:53:46","-1","Question"
"79244014","79243635","","<p>For anybody looking for runnable code ready for copy&amp;pasting, this is my final solution:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;3.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:my=&quot;https://my-function.library.org&quot; exclude-result-prefixes=&quot;#all&quot;&gt;
    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;
    
    &lt;xsl:function name=&quot;my:group-key&quot; as=&quot;xs:string&quot;&gt;
        &lt;xsl:param name=&quot;recording&quot;/&gt;
        &lt;xsl:variable name=&quot;my-map&quot; as=&quot;map(xs:boolean, xs:string)&quot; select=&quot;map { true() : 'Live album', false() : 'Studio album' }&quot;/&gt; 
        &lt;xsl:sequence select=&quot;$my-map(contains($recording/title, 'Live'))&quot;/&gt;
    &lt;/xsl:function&gt;

    &lt;xsl:template match=&quot;/catalog&quot;&gt;
        &lt;groups&gt;
            &lt;xsl:for-each-group select=&quot;recording&quot; group-by=&quot;my:group-key(.)&quot;&gt;
                
                &lt;group key=&quot;{current-grouping-key()}&quot;&gt;
                    &lt;xsl:for-each select=&quot;current-group()&quot;&gt;
                        &lt;titel&gt;&lt;xsl:value-of select=&quot;title&quot;/&gt;&lt;/titel&gt;
                    &lt;/xsl:for-each&gt;
                &lt;/group&gt;
            &lt;/xsl:for-each-group&gt;
        &lt;/groups&gt;
    &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</code></pre>
<p>Thanx @MartinHonnen for the inspiration!</p>
","2024-12-02 12:03:50","1","Answer"
"79243954","79243635","","<p>I don't see why you need the boolean, why not map the input directly to the output form?</p>
<pre><code>&lt;xsl:function name=&quot;my:group-key&quot; as=&quot;xs:string&quot;&gt;
    &lt;xsl:param name=&quot;recording&quot;/&gt;
    &lt;xsl:sequence select=&quot;if (contains($recording/title, 'Live')) 
                          then 'Live album' 
                          else 'Studio album'&quot;/&gt;
&lt;/xsl:function&gt;
</code></pre>
","2024-12-02 11:46:26","3","Answer"
"79243635","","XSLT 3.0 Grouping by <xsl:function as=""xs:boolean"">: How to map result to meaningful text attributes for output","<p>I want to use my own <code>&lt;xsl:function&gt;</code> as a grouping key in XSLT 3.0. My function returns <code>xs:boolean</code> but in the output of the grouping I want to map <code>true</code> and <code>false</code> to meaningful string values, in my case <code>true = 'Live album'</code> and <code>false = 'Studio album'</code>.
My first attempts with using an <code>if..else</code>-expression or outsorucing <code>current-grouping-key()</code> to a local variable all failed syntactically.
This is my stylesheet:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;3.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:my=&quot;https://my-function.library.org&quot; exclude-result-prefixes=&quot;#all&quot;&gt;
    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;
    
    &lt;xsl:function name=&quot;my:group-key&quot; as=&quot;xs:boolean&quot;&gt;
        &lt;xsl:param name=&quot;recording&quot;/&gt;
        &lt;xsl:sequence select=&quot;contains($recording/title, 'Live')&quot;/&gt;
    &lt;/xsl:function&gt;

    &lt;xsl:template match=&quot;/catalog&quot;&gt;
        &lt;groups&gt;
            &lt;xsl:for-each-group select=&quot;recording&quot; group-by=&quot;my:group-key(.)&quot;&gt;
                &lt;group key=&quot;{current-grouping-key()}&quot;&gt;
                    &lt;xsl:for-each select=&quot;current-group()&quot;&gt;
                        &lt;titel&gt;&lt;xsl:value-of select=&quot;title&quot;/&gt;&lt;/titel&gt;
                    &lt;/xsl:for-each&gt;
                &lt;/group&gt;
            &lt;/xsl:for-each-group&gt;
        &lt;/groups&gt;
    &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</code></pre>
<p>and this is the input XML (excerpt):</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;catalog&gt;
    &lt;recording medium=&quot;LP&quot; state=&quot;2&quot; no=&quot;1&quot;&gt;
        &lt;title&gt;The Years 1960-1970&lt;/title&gt;
        (...)
    &lt;/recording&gt;
    
    &lt;recording medium=&quot;tape&quot; state=&quot;6&quot; no=&quot;2&quot;&gt;
        &lt;title&gt;Live at the Village Vanguard&lt;/title&gt;
        (...)
    &lt;/recording&gt;
    
    &lt;recording medium=&quot;CD&quot; state=&quot;8&quot; no=&quot;3&quot;&gt;
        &lt;title&gt;Classic Tunes&lt;/title&gt;
        (...)
    &lt;/recording&gt;
&lt;/catalog&gt;
</code></pre>
<p>The desired output:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;groups&gt;
    &lt;group key=&quot;Studio album&quot;&gt;
        &lt;titel&gt;The Years 1960-1970&lt;/titel&gt;
        &lt;titel&gt;Classic Tunes&lt;/titel&gt;
    &lt;/group&gt;
    &lt;group key=&quot;Live album&quot;&gt;
        &lt;titel&gt;Live at the Village Vanguard&lt;/titel&gt;
    &lt;/group&gt;
&lt;/groups&gt;
</code></pre>
<p>Ideally I want to have a general solution that would allow for more mappings than just for <code>true</code> and <code>false</code>. So an <code>if..else</code>-based solution would not even be ideal.
I was also wondering if it would make sense to outsource this mapping to a separate function. Any opinions about best practices here are also welcome.</p>
","2024-12-02 10:09:28","1","Question"
"79242451","79213591","","<pre><code>from pathlib import Path 
# APIs get imported here 

# Main folder where excel files are found 
FOLDER = &quot;/home/user/Documents/excel_files&quot; #Change this to your folder path!
EXT = &quot;.xlsx&quot;

def updateExcel(file):
    print(f&quot;---&gt; Processing {file} &lt;----&quot;)
    #Insert your code here:

def main():
    #Specift the path in which the files are found 
    folder_path = Path(FOLDER)
    #Get a list of files with a specific extension
    files_ext = [files_ext for file in folder_path.iterdir() if file.is_file() and file.sufix = EXT]
    #Process the files 
    for file in files_ext:
        updateExcel(FOLDER+&quot;/&quot;+file)

if __name__ == '__main__':
    main()
</code></pre>
","2024-12-01 20:48:35","0","Answer"
"79241832","79178135","","<p>One thing you can try is use <a href=""https://pub.dev/packages/flutter_fgbg"" rel=""nofollow noreferrer"">flutter_fgbg: ^0.6.0</a> package to listen app state and update your state according to it</p>
","2024-12-01 14:59:03","0","Answer"
"79240137","79240109","","<p>Found out that since cmake 3.12 we can use the list JOIN command like so:</p>
<pre><code>list(JOIN &lt;list-var-name&gt; &lt;separator&gt; &lt;output-var-name)
</code></pre>
<p>So in the above, I can use that just before the <code>add_custom_target()</code> and replace the variable name with the output:</p>
<pre><code>list(JOIN ARG_PROJECT_ARGS &quot; &quot; ARGUMENTS)
add_custom_command(
    OUTPUT sample
    COMMAND echo &quot;starting...&quot;
    COMMAND echo &quot;ARG_PROJECT_ARGS -&gt; ARGUMENTS = [${ARGUMENTS}]&quot;
    COMMAND echo &quot;done...&quot;
)
</code></pre>
<p>And now I get one line and the &quot;done...&quot; prints in the output as expected.</p>
","2024-11-30 17:21:54","0","Answer"
"79240109","","How do I use a multivaluearg in cmake so it prints as one string in an echo command?","<p>I have a function which takes a list of arguments that I want to pass to a function in a target. Only when I try to use that multivalueargs, it places the second and further arguments on the following line instead of all on one line separated by spaces.</p>
<p>Here is my minimal version of my function. Save that in a file named <code>CMakeLists.txt</code>.</p>
<pre><code>cmake_minimum_required(VERSION 3.22.1)

function(MyFunc)
    set(options VERBOSE)
    set(oneValueArgs PROJECT_NAME)
    set(multiValueArgs PROJECT_ARGS)
    cmake_parse_arguments(ARG &quot;${options}&quot; &quot;${oneValueArgs}&quot; &quot;${multiValueArgs}&quot; ${ARGN})

    project(${ARG_PROJECT_NAME})

    add_custom_command(
        OUTPUT sample
        COMMAND echo &quot;starting...&quot;
        COMMAND echo &quot;ARG_PROJECT_ARGS = [${ARG_PROJECT_ARGS}]&quot;
        COMMAND echo &quot;done...&quot;
    )

    add_custom_target(${PROJECT_NAME} DEPENDS sample)
endfunction()

MyFunc(
    PROJECT_NAME testing
    PROJECT_ARGS
        --some additional
        --parameters here
        --to-test)
</code></pre>
<p>To generate, use:</p>
<pre><code>cmake .
</code></pre>
<p>To run the result, use:</p>
<pre><code>make testing
</code></pre>
<p>That outputs the correct first argument, but the following ones are on the next line and interpreted as commands instead of being just parameters in the <code>echo ...</code> string.</p>
<blockquote>
<p><em>[100%] Generating sample<br />
starting...<br />
ARG_PROJECT_ARGS = [--some<br />
/bin/sh: 1: additional: not found<br />
/bin/sh: 1: --parameters: not found<br />
/bin/sh: 1: here: not found<br />
/bin/sh: 1: --to-test]: not found<br />
make[3]: *** [CMakeFiles/testing.dir/build.make:74: sample] Error 127<br />
make[2]: *** [CMakeFiles/Makefile2:83: CMakeFiles/testing.dir/all] Error 2<br />
make[1]: *** [CMakeFiles/Makefile2:90: CMakeFiles/testing.dir/rule] Error 2<br />
make: *** [Makefile:124: testing] Error 2</em></p>
</blockquote>
<p>What do I have to do to use the list as a string which does not end up on multiple lines like in the above?</p>
","2024-11-30 17:04:35","0","Question"
"79238708","","Get UYU Exchange Rate from API","<p>I have this function that is supposed to extract the exchange rate from the following page and return it as a value. The problem is that for some reason I don't know it can't capture the value.</p>
<pre><code>double getExchangeRate()
{
    CURL *curl;
    CURLcode res;
    struct MemoryStruct chunk;
    chunk.memory = malloc(1);
    chunk.size = 0;

    double exchangeRate = 0.0;

    curl_global_init(CURL_GLOBAL_DEFAULT);
    curl = curl_easy_init();
    if (curl)
    {
        curl_easy_setopt(curl, CURLOPT_URL, &quot;https://open.er-api.com/v6/latest/USD&quot;);
        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, WriteMemoryCallback);
        curl_easy_setopt(curl, CURLOPT_WRITEDATA, (void *)&amp;chunk);
        curl_easy_setopt(curl, CURLOPT_FOLLOWLOCATION, 1L);

        // Make the request
        res = curl_easy_perform(curl);
        if (res != CURLE_OK)
        {
            fprintf(stderr, &quot;curl_easy_perform() falue: %s\n&quot;, curl_easy_strerror(res));
        }
        else
        {
            printf(&quot;Response length: %zu\n&quot;, chunk.size);
            printf(&quot;API response: %s\n&quot;, chunk.memory);

            // Find the UYU exchange rate in the answer
            char *start = strstr(chunk.memory, &quot;\&quot;UYU\&quot;:&quot;);
            if (start)
            {
                start += 6; // Move the pointer after &quot;\&quot;UYU\&quot;:&quot;
                exchangeRate = strtod(start, &amp;start); //
                printf(&quot;Exchange rate obtained: %.2f\n&quot;, exchangeRate);
            }
            else
            {
                printf(&quot;The UYU exchange rate was not found in the response.\n&quot;);
            }
        }
        free(chunk.memory);
        curl_easy_cleanup(curl);
    }
    curl_global_cleanup();

    return exchangeRate;
}
</code></pre>
","2024-11-30 02:08:52","0","Question"
"79238124","79238115","","<p>Your <code>operator==</code> is not marked as a <a href=""https://en.cppreference.com/w/cpp/language/member_functions#Member_functions_with_cv-qualifiers"" rel=""noreferrer""><code>const</code> method</a> and therefore cannot be applied on <code>const</code> elements in <code>vec</code> if it is passed by <code>const&amp;</code>.</p>
<p>If you change it to the following it will work:</p>
<pre><code>//---------------------------------vvvvv--
bool operator==(const Point&amp; rval) const {
    return x == rval.x &amp;&amp; y == rval.y;  
}
</code></pre>
<p><a href=""https://godbolt.org/z/bWsYEeMMz"" rel=""noreferrer"">Live demo</a></p>
<p>Note that good practice dictates marking the operator as a <code>const</code> method anyway (regardless of your issue with <code>std::find</code>), since it does not modify the object.</p>
<p>See more info about marking methods as <code>const</code> here: <a href=""https://stackoverflow.com/questions/751681/what-is-the-meaning-of-const-at-the-end-of-a-member-function-declaration"">What is the meaning of 'const' at the end of a member function declaration?</a>.</p>
","2024-11-29 19:02:31","5","Answer"
"79238115","","Can't use a C++ const vector passed to a function for find()","<p>Here's a class with some data and an overloaded equality operator:</p>
<pre><code>class Point {
    int x, y;
    
    public:
        Point(int x0, int y0): x(x0), y(y0) {};
        bool operator==(const Point&amp; rval) {
            return x == rval.x &amp;&amp; y == rval.y;  
        }
};
</code></pre>
<p>And here's a function that successfully takes a vector of such objects, and reports on whether a given object is contained within:</p>
<pre><code>bool hasVal(std::vector&lt;Point&gt;&amp; vec, const Point&amp; target) {
    return find(vec.begin(), vec.end(), target) != vec.end();
}
</code></pre>
<p>Now, I would think (and desire) that I could make the vector reference argument <code>const</code>, as it doesn't intend to modify the vector or its contents in any way. However, tagging the vector reference <code>const</code> causes a compiler error:</p>
<p><strong>241   17  C:\Program Files (x86)\Embarcadero\Dev-Cpp\TDM-GCC-64\lib\gcc\x86_64-w64-mingw32\9.2.0\include\c++\bits\predefined_ops.h    [Error] no match for 'operator==' (operand types are 'const Point' and 'const Point')</strong></p>
<p>Related: A similar problem arises if I make a class with such a vector as a member, and try to do the same job in a member function tagged <code>const</code>.</p>
<p>(Side note: Making a vector argument like that <code>const</code> seems to work fine for a vector of primtives like <code>int</code>, but not for this programmer-defined object type.)</p>
<p>What's the problem here, and how can I best resolve it?</p>
","2024-11-29 18:59:39","0","Question"
"79237617","79237306","","<p>The compiler warning is telling you what you need to know. You're passing a <code>struct node *</code> rather than a <code>struct node **</code>. You need to use <code>&amp;</code> to pass the address of the <code>head</code> pointer.</p>
<pre><code>int main(void) {
    struct node *head = malloc(sizeof(struct node));
    if (!head) {
        return 1;
    }

    head-&gt;val = 2;
    head-&gt;next = malloc(sizeof(struct node));
    if (!head-&gt;next) {
        free(head);
        return 1;
    }

    head-&gt;next-&gt;val = 3;
    head-&gt;next-&gt;next = NULL;
    printlist(head);
    addatbegin(&amp;head, 4);
    printlist(head);

    free(head-&gt;next);
    free(head);
}
</code></pre>
<p>Other notes:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/605845/should-i-cast-the-result-of-malloc-in-c"">Don't cast <code>malloc</code></a>.</li>
<li>Check that malloc succeeded.</li>
<li>You need to set the <code>next</code> pointer of the final node to <code>NULL</code> if you want the behavior of <code>printlist</code> to be defined.</li>
<li>Free your dynamically allocated memory.</li>
<li>You can avoid passing a pointer to a pointer by defining a <code>struct list</code> which itself contains a pointer to the head and then <code>addatbegin</code> acts on a <code>struct list *</code>.</li>
</ul>
","2024-11-29 15:33:35","1","Answer"
"79237306","","Error in using call by reference with function to change the head of a singly linked list","<p>I'm learning linked lists in C, and have come across an error when trying to add a value at beginning of a linked list using functions</p>
<pre><code>#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
struct node{
    int val;
    struct node *next;
};
void printlist(struct node *head){
    struct node *current = head;
    while(current!=NULL){
        printf(&quot;%d\n&quot;,current-&gt;val);
        current = current-&gt;next;
    }
    printf(&quot;------------------------\n&quot;);
}
void addatbegin(struct node **head,int x){
    struct node *new;
    new = (struct node*)malloc(sizeof(struct node));
    new-&gt;val = x;
    new-&gt;next = *head;
    *head = new;
}
int main(){
    struct node *head;
    struct node *h;
    h = &amp;head;
    head = (struct node*)malloc(sizeof(struct node));
    head-&gt;val=2;
    head-&gt;next= (struct node*)malloc(sizeof(struct node));
    head-&gt;next-&gt;val = 3;
    printlist(head);
    addatbegin(h,4);
    printlist(head);
}
</code></pre>
<p>in the function addatbegin(struct node **head,int x), i gave a double pointer to try and use pass by reference to change the head of the linked list.The code runs and works, However im getting these errors/warnings.</p>
<pre class=""lang-none prettyprint-override""><code>main.c: In function ‘main’:
main.c:33:7: warning: assignment to ‘struct node *’ from incompatible pointer type ‘struct node **’ [-Wincompatible-pointer-types]
   33 |     h = &amp;head;
      |       ^
main.c:40:16: warning: passing argument 1 of ‘addatbegin’ from incompatible pointer type [-Wincompatible-pointer-types]
   40 |     addatbegin(h,4);
      |                ^
      |                |
      |                struct node *
main.c:23:31: note: expected ‘struct node **’ but argument is of type ‘struct node *’
   23 | void addatbegin(struct node **head,int x){
      |                 ~~~~~~~~~~~~~~^~~~
2
3
------------------------
4
2
3
------------------------
</code></pre>
<p>How do I fix this?</p>
","2024-11-29 13:42:42","1","Question"
"79236490","79236440","","<p>When you use a name (like a worksheet name) in an Excel formula and this name contains a blank, you need to put single quotes around the name. This is just so that the formula parser knows that the name doesn't end at the space (a space is usually a separator between different parts of a formula).</p>
<p>A fixed string in VBA code is enclosed with double quotes (<code>&quot;Table&quot;</code>). This is to tell the VBA parser that the piece within quotes is a string and not code (like a variable or a function).</p>
<p>But if you have the string already put into a variable (or parameter), the VBA parser don't need such help. It will simply use the content of the variable and, in your case, use this as index into the Sheets collection resp. the ListObjects collections. So additionally quotes makes no sense, they will be seen as part of the name: <code>Sheets(&quot;'&quot; &amp; ExcelSheetName &amp; &quot;'&quot;)</code> will not look for the sheet <code>Table</code> but for the sheet <code>'Table'</code> which doesn't exist.</p>
<p>So simply write</p>
<pre><code>Set MyTable = Application.ThisWorkbook.Sheets(ExcelSheetName).ListObjects(ExcelQueryName)
</code></pre>
","2024-11-29 09:25:33","1","Answer"
"79236440","","Populating a ComboBox.List inside a Public Function returns ""Subscript out of range""","<p>I need to popuplate a ComboBox.List and until now I am doing it with the following code, which is located inside a <code>Private Sub</code> and <strong>it is working properly</strong>:</p>
<pre><code>Private Sub CommandButton_Click()

Dim MyTable As ListObject
Dim myArray As Variant

'Call AutoCompile_List(myComboBox, &quot;Table&quot;, &quot;PowerQuery&quot;)

Set MyTable = ThisWorkbook.Sheets(&quot;Table&quot;).ListObjects(&quot;PowerQuery&quot;)
myArray = MyTable.DataBodyRange
myComboBox.List = myArray

End Sub
</code></pre>
<p>Since I need to perform this action multiple times, I wanted to move it inside the following <code>Public Function</code>:</p>
<pre><code>Public Function AutoCompile_List(ComboBox As Object, ExcelSheetName As String, ExcelQueryName As String)

Dim MyTable As ListObject
Dim myArray As Variant

'Automatically populate ComboBox.List
Set MyTable = Application.ThisWorkbook.Sheets(&quot;'&quot; &amp; ExcelSheetName &amp; &quot;'&quot;).ListObjects(&quot;'&quot; &amp; ExcelQueryName &amp; &quot; '&quot;)
myArray = MyTable.DataBodyRange
ComboBox.List = myArray

End Function
</code></pre>
<p>However, when I run the code I get the <strong>Run-time error '9': &quot;Subscript out of range&quot;</strong> and I cannot understand why. Could you please help me to fix it?</p>
<p>Thank you in advance for you time and support!</p>
","2024-11-29 09:06:41","0","Question"
"79235782","79235016","","<p>Memoizing can be done in many different ways. A typical approach of doing it would be to define a function in a scope together with a map (here: <code>cache</code>) that acts as a static memory for any previously calculated results:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const fn = (()=&gt;{
 let res;
 const cache=new Map();
 return function(a,b,options) {
   const key=`${a},${b},${options.value}`;
  // Simulating an expensive operation
  res=cache.get(key);
  if(res===undefined) {
   console.log(""calculating"");
   // the lengthy computation:
   res=a+b+options.value
   cache.set(key,res);
  }
  return res;
 }
})();

// Now, run some tests:
console.log([fn(2,3,{value:4}),
fn(2,3,{arr:[1,2,3],value:4}),
fn(2,3,{value:4,name:""new""})]);</code></pre>
</div>
</div>
</p>
","2024-11-29 03:45:24","-1","Answer"
"79235016","","How can I memoize a JavaScript function that accepts multiple arguments, including objects?","<p>I’m trying to improve the performance of a computationally expensive JavaScript function by memoizing it. The function accepts multiple arguments, including objects. Here's an example:</p>
<pre><code>function expensiveCalculation(a, b, options) {
    // Simulating an expensive operation
    return a + b + options.value;
}

const options = { value: 10 };
console.log(expensiveCalculation(5, 3, options)); // 18
console.log(expensiveCalculation(5, 3, options)); // Should use the cached result

</code></pre>
<p><code>memoizedCalculation(5, 3, options);</code></p>
","2024-11-28 18:32:09","1","Question"
"79234654","79228696","","<p>In your code, <code>x</code> is always a Long</p>
<p>When you run <code>(x / y)</code>, it tries to invoke <code>x</code> as a function, but you can't cast a Long to a function.</p>
<p>What you are trying to do is <code>(/ x y)</code></p>
<p>About <code>sum</code>, as you didn't share the implementation, I can only guess: probably <code>(sum vec_foo)</code> works.</p>
","2024-11-28 16:18:28","1","Answer"
"79231674","79231595","","<p>I think you can just <code>sub</code> the <code>.</code> away (assuming you always have two digits after the decimal point as shown), then <code>grepl</code> for feet, and convert these.</p>
<pre><code>&gt; cnv_unts &lt;- \(x) {
+   x &lt;- sub('\\.', '', x)
+   ft &lt;- grepl('\'', x)
+   x[ft] &lt;- strsplit(x[ft], '\'') |&gt; lapply(type.convert, as.is=TRUE) |&gt;
+     sapply(\(.) sum(.*c(12, 1))*2.54)
+   as.numeric(x)
+ }
&gt; cnv_unts(Height)
[1] 165.00 185.00 154.94 154.94 188.00
</code></pre>
<hr />
<p><em>Data:</em></p>
<pre><code>Height &lt;- c(&quot;165&quot;, &quot;185&quot;, &quot;5'1&quot;, &quot;5'1&quot;, &quot;1.88&quot;)
</code></pre>
","2024-11-27 19:35:53","6","Answer"
"79231595","","Converting character vectors to the same units of measure","<p>Problem: I have a character vector that is a mix of foot/inchs, m and cm. I am trying to convert them all to cm.</p>
<p>Vector looks something like this:</p>
<pre><code>Height &lt;- c(&quot;165&quot;, &quot;185&quot;, &quot;5'1&quot;, &quot;1.88&quot;)
</code></pre>
<p>Converting the &quot;5'1&quot; was easy (found this piece of code on stackoverlow):</p>
<pre><code> ft_cm &lt;- function (str_ft_inch) {
   elem &lt;- as.integer(unlist(strsplit(str_ft_inch, &quot;'&quot;)))
   inch &lt;- elem[1] * 12 + elem[2]
   return(conv_unit(inch, &quot;inch&quot;, &quot;cm&quot;)) }

Height_converted &lt;- sapply(Height, ft_cm) 
&gt; 165 185  5'1   1.88
  NA  NA  154.94 NA
</code></pre>
<p>Now I want to replicate this for the metre &quot;1.88&quot;. I have recycled the <code>ft_cm</code> function. This is the new function:</p>
<pre><code>m_cm &lt;- function (str_m_cm) {
   elem &lt;- as.integer(unlist(strsplit(str_m_cm, &quot;.&quot;)))
   cm &lt;- elem[1] * 100 + elem[2]
return(cm)
}

Height_m_to_cm &lt;- sapply(Height, m_cm)
&gt; 165 185 5'1 1.88
  NA  NA  NA  NA
</code></pre>
<p>I want my desired outcome to be:</p>
<pre><code>Height_converted
&gt; 165 185 5'1    1.88
  165 185 154.94 188
</code></pre>
<p>I'm not sure why it is having trouble with this. Any help would be appreciated.
P.S. This was only a snippet of a much longer character vector.</p>
","2024-11-27 19:06:10","2","Question"
"79231374","79230306","","<blockquote>
<p>How to put <code>std::function</code> in a smart pointer like <code>std::unique_ptr</code></p>
</blockquote>
<p>What you've already done is ok:</p>
<pre class=""lang-cpp prettyprint-override""><code>auto PrintSectionContent =
    std::make_unique&lt;std::function&lt;void(TurboINI::types::section &amp;)&gt;&gt;(
        [&amp;](TurboINI::types::section &amp;_section) {
            //....       
        });
</code></pre>
<blockquote>
<p>and use it?</p>
</blockquote>
<p>You can dereference the smart pointer and call the stored function in different ways. Here are two examples:</p>
<pre class=""lang-cpp prettyprint-override""><code>(*PrintSectionContent)(section);          // 1
PrintSectionContent-&gt;operator()(section); // 2
</code></pre>
<p>The reason for <code>(</code>...<code>)</code> around <code>*PrintSectionContent</code> in the first variant is because of <a href=""https://en.cppreference.com/w/cpp/language/operator_precedence"" rel=""nofollow noreferrer"">operator precedence</a>. The function call has higher precedence (2) than indirection/dereferencing (3), which makes <code>*PrintSectionContent(section)</code> the same as ...</p>
<pre class=""lang-cpp prettyprint-override""><code>*(PrintSectionContent(section));
</code></pre>
<p>... which tries to call the <code>unique_ptr</code> (not what it's pointing at) and then dereference the result of that call. You want to dereference the pointer to get a reference to the stored function and then call that.</p>
<p><code>PrintSectionContent(section);</code> that you have in the question has the same initial mistake but without trying to dereference the value returned by calling the <code>unique_ptr</code>.</p>
","2024-11-27 17:49:16","2","Answer"
"79230396","79230306","","<p>Just make simple function. This code do not contain anything which could rationalize use of <code>std::unique_ptr</code> or <code>std::function</code> or lambda.</p>
<pre class=""lang-cpp prettyprint-override""><code>const inline void PrintSection(TurboINI::types::section &amp;section)
{
    std::cout &lt;&lt; &quot;[\&quot;&quot; &lt;&lt; section.GetKey() &lt;&lt; &quot;\&quot;]\n&quot;;

    if (!section.GetIntegers().empty())
    {
        for (const auto &amp;i : section.GetIntegers())
        {
            std::cout &lt;&lt; '\t';
            PrintInteger(i);
        }
    }

    if (!section.GetStrings().empty())
    {
        for (const auto &amp;i : section.GetStrings())
        {
            std::cout &lt;&lt; '\t';
            PrintString(i);
        }
    }
}
</code></pre>
<p>This does exact same thing as your attempt, but without using extra C++ features.</p>
<p>From my point of view (with current content of question) you've massively overengineered this code.</p>
","2024-11-27 13:05:29","3","Answer"
"79230354","79230306","","<p>I see no reason to use <code>std::unique_ptr</code> (or any smart pointer) here.</p>
<p>A <code>std::function</code> is a relatively lightweight object, and is typically stored or passed around by value.</p>
<p>If you want to keep the callable for later use, you can simply make <code>PrintSectionContent</code> a <code>std::function</code>:</p>
<pre><code>std::function&lt;void(TurboINI::types::section &amp;)&gt; PrintSectionContent =
        [&amp;](TurboINI::types::section &amp;_section) {
        // ...
        };
</code></pre>
<p>Then invoke the stored lambda like you attempted:</p>
<pre><code>PrintSectionContent(section);
</code></pre>
<p>You can also store the <code>std::function</code> in a member etc., but keep in mind that since it conatins a lambda that captures by reference, when you invoke it the objects it keeps a reference to must be alive.</p>
<p><strong>Note:</strong><br />
If you don't need to store the function for a later use you can simply implement the logic in <code>PrintSection</code> directly - see @MarekR's answer.</p>
","2024-11-27 12:54:04","4","Answer"
"79230306","","How to put std::function in a smart pointer like std::unique_ptr and use it?","<p>How to put <code>std::function</code> in a smart pointer like <code>std::unique_ptr</code> and use it?<br />
I have already tried but it didn't work.</p>
<p>Here is the code that I tried already:</p>
<pre class=""lang-cpp prettyprint-override""><code>const inline void PrintSection(TurboINI::types::section &amp;section)
{
    std::cout &lt;&lt; &quot;[\&quot;&quot; &lt;&lt; section.GetKey() &lt;&lt; &quot;\&quot;]\n&quot;;

    auto PrintSectionContent =
        std::make_unique&lt;std::function&lt;void(TurboINI::types::section &amp;)&gt;&gt;([&amp;](TurboINI::types::section &amp;_section) {
            if (!section.GetIntegers().empty())
            {
                for (const auto &amp;i : _section.GetIntegers())
                {
                    std::cout &lt;&lt; '\t';
                    PrintInteger(i);
                }
            }

            if (!section.GetStrings().empty())
            {
                for (const auto &amp;i : _section.GetStrings())
                {
                    std::cout &lt;&lt; '\t';
                    PrintString(i);
                }
            }
        });

    PrintSectionContent(section);
}
</code></pre>
","2024-11-27 12:37:41","0","Question"
"79230210","79166896","","<p>Drain mode in Service Bus trigger Azure Function is a feature available to avoid conflicts when processing the messages, refer my <a href=""https://stackoverflow.com/a/78516917"">SO answer</a>.</p>
<p>For Consumption and Elastic Premium Plans, the scale controller decides the scaling behavior. Drain mode will be enabled when the scale controller decides to scale down a worker during less load. This is to avoid the conflicts when you need to perform updates on the function without losing any messages or leading to errors.</p>
<p>When drain mode is enabled:</p>
<ol>
<li>The function will stop picking up new messages from the Service Bus entities.</li>
<li>It continues processing messages which are already being handled until completed.</li>
<li>The function will stop completely once all the in-progress messages are processed.</li>
</ol>
<p>At this time, it sends a request to the Admin API to enter drain mode and all the currently executing Functions on that instance receive a cancellation token that can be handled using below code. This allows the function to finish the ongoing tasks before it is stopped, refer <a href=""https://stackoverflow.com/a/78516917"">MSDOC</a>.</p>
<p><strong>Code Snippet:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>public async Task Run(
    [ServiceBusTrigger(&quot;queuename&quot;, Connection = &quot;servicebusconnectionstring&quot;)]
    ServiceBusReceivedMessage message, CancellationToken cancellationToken,
    ServiceBusMessageActions messageActions)
{
    try
    {
            if (cancellationToken.IsCancellationRequested)
            {
                _logger.LogInformation(&quot;A cancellation token was received. Taking precautionary actions.&quot;);

            //Take precautions like noting how far along you are with processing the batch

            _logger.LogInformation(&quot;Precautionary activities --complete--.&quot;);
            }
            else
            {
            _logger.LogInformation($&quot;Message: {message} was processed.&quot;);
            _logger.LogInformation(&quot;Message ID: {id}&quot;, message.MessageId);
            _logger.LogInformation(&quot;Message Body: {body}&quot;, message.Body);
            _logger.LogInformation(&quot;Message Content-Type: {contentType}&quot;, message.ContentType);
        }
    }
    catch (Exception ex)
    {
        _logger.LogInformation($&quot;Something unexpected happened: {ex.Message}&quot;);
    }
    await messageActions.CompleteMessageAsync(message);
}
</code></pre>
<p><strong>Output:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>Functions:

Function1: serviceBusTrigger

For detailed output, run func with --verbose flag.  
[2024-11-27T12:01:41.929Z] Host lock lease acquired by instance ID '000000000000000xxx9'.  
[2024-11-27T12:01:48.096Z] Executing 'Functions.Function1' (Reason='(null)', Id=40efdb2a-6fe2-44b6-9071-8ec096e7e029)  
[2024-11-27T12:01:48.101Z] Trigger Details: MessageId: 9734a2b8ff754ecea689d9ce05ed331b, SequenceNumber: 1, DeliveryCount: 1, EnqueuedTimeUtc: 2024-11-27T12:01:44.7220000+00:00, LockedUntilUtc: 2024-11-27T12:02:44.9400000+00:00, SessionId: (null)  
[2024-11-27T12:01:48.603Z] Message: {MessageId:9734a2b8ff754ecea689d9ce05ed331b} was processed.  
[2024-11-27T12:01:48.608Z] Message ID: 9734a2b8ff754ecea689d9ce05ed331b  
[2024-11-27T12:01:48.614Z] Message Body: Hello World  
[2024-11-27T12:01:48.620Z] Message Content-Type: (null)  
[2024-11-27T12:01:48.649Z] Start processing HTTP request POST [http://127.0.0.1:64966/Settlement/Complete](http://127.0.0.1:64966/Settlement/Complete &quot;http://127.0.0.1:64966/settlement/complete&quot;)  
[2024-11-27T12:01:48.658Z] Sending HTTP request POST [http://127.0.0.1:64966/Settlement/Complete](http://127.0.0.1:64966/Settlement/Complete &quot;http://127.0.0.1:64966/settlement/complete&quot;)  
[2024-11-27T12:01:49.184Z] Received HTTP response headers after 506.2569ms - 200  
[2024-11-27T12:01:49.195Z] End processing HTTP request after 550.2789ms - 200  
[2024-11-27T12:01:49.257Z] Executed 'Functions.Function1' (Succeeded, Id=40efdb2a-6fe2-44b6-9071-8ec096e7e029, Duration=1242ms)
</code></pre>
","2024-11-27 12:09:56","0","Answer"
"79228696","","issue emerges inputting vector into a homebrew Clojure function","<p>I am very new to Clojure and I have a simple issue to resolve, which Googling didn't help with. Just as an exercise in learning how to create functions in Clojure, I tried to make a function which takes the values of a vector and calculates their arithmetic mean, in the following manner:</p>
<pre><code>(defn mean [vec]
(   let [x (reduce + vec), y (count vec)] 
    (x / y)
))
</code></pre>
<p>When I run this in my interpreter after creating a vector of name vec_foo by typing <code>(mean vec_foo)</code>, I get the following message:</p>
<blockquote>
<p>Execution error (ClassCastException) at user/mean (REPL:1).
class java.lang.Long cannot be cast to class clojure.lang.IFn (java.lang.Long is in module java.base of loader 'bootstrap'; clojure.lang.IFn is in unnamed module of loader 'app')</p>
</blockquote>
<p>When trying <code>(apply mean vec_foo)</code>, the following message appears instead:</p>
<blockquote>
<p>Execution error (ArityException) at user/eval369 (REPL:1).
Wrong number of args (5) passed to: user/mean</p>
</blockquote>
<p>My initial goal was to just get the average of the vectors values as an output, but these error messages are also very interesting. Any information on either the error messages' meaning, or solving the problem, will be appreciated.</p>
","2024-11-27 01:19:12","2","Question"
"79219908","79219688","","<p>simply pass the size of the array and the pointer to the other function.</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;errno.h&gt;

int readingfromFile(const char*file_name, int **array, size_t *size)
{
    FILE*file=fopen(file_name,&quot;r&quot;);
    if(file==NULL){
        return -5;
    }
    size_t count=SIZE_MAX;
    int number;
    while(fscanf(file,&quot;%d&quot;,&amp;number)==1){ //Scaning to find amount of numbers
        if(count == SIZE_MAX){ 
            count=0;
        }
        ++count;
    }
    if(count==SIZE_MAX){ //To track empty file situation

        return -3;
    }  

    size_t i=0;
    *array = malloc(sizeof(**array)*count);
    if(!*array) return ENOMEM;
    while(fscanf(file,&quot;%d&quot;,&amp;number)!=EOF){ //Writing numbers in array
        (*array)[i]=number;
        ++i;
    }
    for(size_t d=0;d&lt;count;++d){ //printing array
        printf(&quot;%d &quot;,(*array)[d]);
    }
    
    *size = count;
    return 0;
    
}
int findingLowestNumber(int *array,size_t size){
    int minimum=array[0];
    for(size_t h=1;h&lt;size;++h){ // finding minimum
        if(array[h]&lt;minimum){
            minimum=array[h];
        }
    }
    size_t newSize = 0;
    for(size_t i = 0; i &lt; size; i++) { //deleting all aqurencies of minimum 
        if(array[i] != minimum) {
            array[newSize] = array[i];
            newSize++;
        }
    }
    
    for(size_t d=0;d&lt;newSize;++d){ //printing edited array
        printf(&quot;%d &quot;,array[d]);
    }
    return 0;
} 
int main(void)
{
    size_t count;
    int *array;
    int res=readingfromFile(&quot;1.txt&quot;, &amp; array, &amp;count);
    if(res==-3){
        printf(&quot;Empty file\n&quot;);
    }
    if(res==-5){
        printf(&quot;Error opening file\n&quot;);
    }
    if(res == 0) findingLowestNumber(array, count);
    return 0;
}
</code></pre>
<p>use <code>size_t</code> for sizes and indexes</p>
","2024-11-24 11:04:03","0","Answer"
"79219902","79219688","","<p>There are 3 solutions:</p>
<ul>
<li>you can use global variables;</li>
<li>you can pass pointers to your array and its size as arguments;</li>
<li>you can return your array and its size as fields of a struct.</li>
</ul>
<h2>Use global variables</h2>
<p>It is as simple as writing:</p>
<pre><code>int *array, size;
</code></pre>
<p>before your functions.</p>
<p>You can make it thread-safe with <code>thread_local</code> and hide it to other files of your project with <code>static</code>:</p>
<pre><code>static thread_local int *array, size;
</code></pre>
<p>Using a global variable is not recommended because it can make it complicated to understand the purpose of your array, but it is a simple working solution for very small projects.</p>
<h2>Pass pointers as arguments</h2>
<p>As your functions already return another value, you can choose to pass a pointer to your array as argument, and same for the size:</p>
<pre><code>int readFromFile(const char *filename, int **array, int *size)
/* ... */

int removeLeast(int **array, int *size)
/* ... */

int main(void)
{
    int *array, size;
    int res = readFromFile(&quot;1.txt&quot;, &amp;array, &amp;size);
    /* ... */
    removeLeast(&amp;array, &amp;size);
    /* ... */
}
</code></pre>
<p>Then, in your two functions, you will have to write the two variables with an asterisk each time:</p>
<pre><code>*array = malloc(sizeof(int) * count);
*size = count;
(*array)[i] = number;
...
</code></pre>
<p>A better solution is certainly to put the two variables into a struct. For example, using <code>Slice</code> from my small library <a href=""https://gitlab.com/Frigory33/handymacros"" rel=""nofollow noreferrer"">HandyMacros</a>:</p>
<pre><code>#include &lt;handymacros.h&gt;

DeclareSlice(int)
// This is equivalent to:
typedef struct Slice(int) {
    size_t len;
    int *data;
} Slice(int);

int readFromFile(const char *filename, Slice(int) *array)
{
    /* ... */
    *array = slice_new(int, count);
    /* ... */
        array-&gt;data[i] = number;
    /* ... */
}

/* ... */

int main(void)
{
    Slice(int) array;
    int res = readFromFile(&quot;1.txt&quot;, &amp;array);
    /* ... */
}
</code></pre>
<p>I think this is the best option for your case.</p>
<h2>Return a struct</h2>
<pre><code>typedef struct {
    int res;
    int *array, size;
} ResIntArray;

ResIntArray readFromFile(const char *filename)
{
    /* ... */
        return (ResIntArray){ .res = -3 };
    /* ... */
    return (ResIntArray){ .array = array, .size = size };
}

ResIntArray removeLeast(int *array, int size)
{
    /* ... */
    return (ResIntArray){ .array = array, .size = size };
}

int main(void)
{
    ResIntArray resArray = readFromFile(&quot;1.txt&quot;);
    if (resArray.res == -3)
    /* ... */
    resArray = removeLeast(resArray.array, resArray.size);
    for (int i = 0; i &lt; resArray.size; ++i) {
        printf(&quot;%d &quot;, resArray.array[i]);
    }
    printf(&quot;\n&quot;);
}
</code></pre>
","2024-11-24 10:58:46","2","Answer"
"79219688","","How do I use dynamically allocated array in different functions?","<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int readingfromFile(const char *file_name) {
    FILE *file = fopen(file_name, &quot;r&quot;);
    if (file == NULL) {
        return -5;
    }
    int count = -8;
    int number;
    while (fscanf(file, &quot;%d&quot;, &amp;number) == 1) { //Scanning to find amount of numbers
        if (count &lt; 0 ){ 
            count = 0;
        }
        ++count;
    }
    if (count == -8) { //To track empty file situation
        return -3;
    }  
    int i = 0;
    int *array = malloc(sizeof(int) * count);
    while (fscanf(file, &quot;%d&quot;, &amp;number) != EOF) { //Writing numbers in array
        array[i] = number;
        ++i;
    }
    for (int d = 0; d &lt; count; ++d) { //printing array
        printf(&quot;%d &quot;, array[d]);
    }
    
    return 0;    
}

int findingLowestNumber(int *array, int size) {
    int minimum = array[0];
    for (int h = 1; h &lt; size; ++h) { // finding minimum
        if (array[h] &lt; minimum) {
            minimum = array[h];
        }
    }
    int newSize = 0;
    for (int i = 0; i &lt; size; i++) { //deleting all aqurencies of minimum 
        if (array[i] != minimum) {
            array[newSize] = array[i];
            newSize++;
        }
    }
    
    for (int d = 0; d &lt; newSize; ++d) { //printing edited array
        printf(&quot;%d &quot;, array[d]);
    }
    return 0;
}

int main(void) {
    int res = readingfromFile(&quot;1.txt&quot;);
    if (res == -3) {
        printf(&quot;Empty file\n&quot;);
    }
    if (res == -5) {
        printf(&quot;Error opening file\n&quot;);
    }
    findingLowestNumber(array[], count);
    return 0;
}
</code></pre>
<p>Here I have a code, which scans numbers from file in an array, then deletes all minimum numbers. I need to do it in 2 functions, first scans file and writes numbers in array, second deletes minimum numbers. How do I do it while allocating memory dynamically? And which arguments I need to pass to every function?</p>
","2024-11-24 08:53:23","2","Question"
"79219011","79218810","","<p>You could use the <code>tqdm</code> library for the progress bar instead of creating your own.</p>
<ul>
<li><code>from tqdm.notebook import tqdm</code> for the Jupyter version.</li>
<li><code>tqdm.pandas</code> integrates with pandas operations.</li>
</ul>
<pre class=""lang-py prettyprint-override""><code>def myf(row):
    row['1'] = 100
    return row

tqdm.pandas(desc=&quot;Calculating&quot;)
df = df.progress_apply(myf, axis=1)
</code></pre>
","2024-11-23 23:08:27","0","Answer"
"79218810","","Several outs instead of one while applying a function to df","<p>I'm running a script in Jupyter which is expected to show a progressbar while applying a function to a df. In 'out' I see several bars instead of expected one.
I tried to clear 'out' with
import sys
sys.stdout.flush()
but it increases time significantly.</p>
<p>When I create a df with less rows, say 100 - there is only one bar.
When I increase the number of rows, the bars appear more times.</p>
<p>What is the problem, please?<br />
<a href=""https://i.sstatic.net/yrqvl2a0.png"" rel=""nofollow noreferrer"">out screenshot</a></p>
<pre><code>import pandas as pd
import math

iterator_for_progressbar = 1

def progressBar(current, total, barLength = 20):
    percent = math.ceil(float(current) * 100 / total)
    arrow   = '■' * int(percent/100 * barLength)
    spaces  = '□' * (barLength - len(arrow))
    print('Calculating: %s%s %d %%' % (arrow, spaces, percent), end='\r')

def myf(row):
    global iterator_for_progressbar
    progressBar(iterator_for_progressbar, len(df), barLength = 20)   
    iterator_for_progressbar += 1

    row['1'] = 100

df = pd.DataFrame(index = range(0, 5000), columns = ['1','2','3','4','5'] )

df.apply(myf, axis=1)[enter image description here]
</code></pre>
","2024-11-23 20:53:53","0","Question"
"79218617","79209465","","<p>Just use the normal way and you barely have any code to repeat:</p>
<pre><code>def find_shortest(words):
    return min(words, key=len)

def find_longest(words):
    return max(words, key=len)
</code></pre>
<p>And I really wouldn't write extra functions for this, just use min/max directly.</p>
<p>(These find the <em>first</em> shortest/longest instead of the last like yours would. Though you talk about &quot;the&quot; shortest, so apparently you don't have ties. But if you do and it matters, you can use <code>min(reversed(words), key=len)</code>).</p>
","2024-11-23 19:03:20","0","Answer"
"79217613","79217358","","<p>DBeaver is the problem. I have seen numerous similar complaints here on SO.</p>
<p>Add some missing semicolons and run the script in a less problematic client. Like <a href=""https://www.postgresql.org/docs/current/app-psql.html"" rel=""nofollow noreferrer"">psql</a> or <a href=""https://www.pgadmin.org/"" rel=""nofollow noreferrer"">pgAdmin</a>.</p>
<p><a href=""https://dbfiddle.uk/E41ZArHO"" rel=""nofollow noreferrer"">fiddle</a></p>
","2024-11-23 10:21:33","3","Answer"
"79217358","","How create many functions with one script in PGSQL","<p>I want to ctreate many function at scheme with one sql script I'm trying the same:</p>
<pre><code>begin

    create or replace function public.func1() returns text
    as $$ begin 
        return 'Test'
    end $$ language plpgsql;

    create or replace function public.func2() returns int
    as $$ begin 
        return 1
    end $$ language plpgsql;

commit;
</code></pre>
<p>but it creates only <strong>func1</strong>.</p>
<p>If you run the conditions for creating a function separately, then everything will work, but I don't want to create all the functions separately, I <strong>need one</strong> script that can be run and it will create several functions.</p>
<p><strong>Postgres v13.3</strong></p>
<p>To run scripts I use <strong>DBeaver</strong>.</p>
","2024-11-23 07:35:00","0","Question"
"79215341","78212602","","<p>Scrcpy use <code>adb shell CLASSPATH=/data/local/tmp/scrcpy-server.jar app_process / com.genymobile.scrcpy.Server ...</code> to start the server with shell privileges.</p>
<p><code>adb shell am start</code> starts the application normally (user privileges).</p>
<p>You can try <a href=""https://shizuku.rikka.app/"" rel=""nofollow noreferrer"">shizuku</a> use system APIs directly.</p>
","2024-11-22 14:08:58","0","Answer"
"79214931","79214923","","<p>No.</p>
<p>I guess I need more words... &quot;No it doesn't, and is unlikely to ever do so&quot;. Reasons: because there hasn't been a compelling enough reason <em>to add it</em>.</p>
","2024-11-22 12:01:58","6","Answer"
"79214923","","In C#, can you declare multiple function arguments as a single type?","<p>In Pascal, you can declare multiple function arguments as a single type:</p>
<pre><code>procedure TMyClass.Foo(Bar1, Bar2, Bar3 : string; Bar4, Bar5, Bar6 : Integer);
</code></pre>
<p>I always enjoyed this because it prevented needless repetition of type declarations. I know in C#, you can declare multiple variables as a single type:</p>
<pre><code>int foo, bar;
</code></pre>
<p>But that doesn't appear to work for C# function arguments:</p>
<pre><code>// Compiler doesn't like this because it expects types for all three arguments
public void Foo(int bar1, bar2, bar3) { }
</code></pre>
<p>Does C# have a way to shorthand the declaration of multiple arguments with a single type, or is there some reason it's been rejected? I can't seem to find much information on it, I just keep finding information on multiple-type arguments, which is not what I'm looking for.</p>
","2024-11-22 11:59:31","3","Question"
"79213591","","Batch processing multiple excel files in folder via python script and outputting into folder, while ignoring other file types","<p>Each week our inventory reporting software outputs 15+ different inventory reports (one for each vendor respectively) in <code>.xlsx</code> format into one folder.</p>
<p>All the excel sheets are in an identical format but require a fair bit of manipulation prior to being “usable” to the end user. After trying to learn python over the last week, and piecing together various bits of code I've managed to come up with a VERY rough script to perform the processing required.</p>
<p>The script works as desired but as it stands currently I have to manually input the individual excel sheet file path, and change the output file name, within the script and then run the script for each corresponding excel file. Doing this for 15+ files each week renders the script redundant as would take less time to just reformat within excel manually.</p>
<p>After more extensive forum reading, and trying to plug my script into others code solutions (<a href=""https://python-forum.io/thread-10841.html"" rel=""nofollow noreferrer"">https://python-forum.io/thread-10841.html</a>) I'm at an impasse. I'm struggling come up with a function to batch process all excel files in one folder, and ignore all other files. Ideally the manipulated files would replace the original excel files in the same folder but if that's not possible then it's not a deal breaker.</p>
<p>To throw another curveball into the mix I have been writing my script and deploying my code on my mac (using a copy of the .xlsx file which I sent myself from work, and a mac os filepath) to test my script on, but I hope to deploy this script on the Windows system at work eventually.</p>
<p>I've included only my original, currently functioning script below.</p>
<p>Thanks all</p>
<pre class=""lang-py prettyprint-override""><code>    #import pandas library
    import pandas as pd

    #import numpy
    import numpy as np

    #importing our excel to dataframe
    df = pd.read_excel('/Users/christiane/Downloads/AGLC CJ Test.xls.xlsx')

    #renaming our headers for each column
    df = df.set_axis(['vendor code', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'current inventory', 'incoming inventory', 'm', 'Sales: Previous 4 weeks', 'o'], axis=1)

    #convert 'vendor code' column data to string data
    df['vendor code'] = df['vendor code'].astype(str)

    #delete everything that doesn't start with a number from the bottom of the table
    df = df[~df['vendor code'].str.contains(&quot;[a-zA-Z]&quot;).fillna(False)]

    #convert 'vendor code' column data to integer data
    df['vendor code'] = df['vendor code'].astype(int)

    #sort values in column #1 from smallest to largest
    df.sort_values(by='vendor code', ascending=True, inplace=True)

    #add new column at the end input formula and populate downwards (=K1+L1)
    df['expectedinventory'] = df.loc[:,['current inventory', 'incoming inventory']].sum(axis=1)

    #move 'expected inventory' column from the end position to correct column position
    name_col = df.pop('expectedinventory')
    df.insert(12, 'expectedinventory', name_col)

    #delete columns 'm' and 'o'
    df = df.drop(['m', 'o'], axis=1)

    #run formula for 4 weeks of back orders and populate column “sold in last 4 weeks” with the results 
    df['Sales Advice'] = df['expectedinventory'] - (( df['Sales: Previous 4 weeks']*1) + (0.1*( df['Sales: Previous 4 weeks'])*1)) 


    #Don't know what this does but it works!
    pd.set_option('future.no_silent_downcasting', True)

    #change NaN values to Zero
    df['Sales Advice'] = df['Sales Advice'].fillna(0)


    inventory_data = pd.DataFrame(df)
    cols = ['Sales Advice']
    inventory_data.loc[:, cols] = inventory_data[cols].astype('float64').round()

    #delete unnecessary columns
    df = df.drop(['b', 'c', 'e', 'f','g','h', 'i', 'j'], axis=1)

    #adding a right-most column with NaN values
    df = df.reindex(columns=df.columns.tolist() + ['Ordering Now'])

    #output excel file
    df.to_excel('filteredaglctest.xlsx', index = False)
</code></pre>
","2024-11-22 03:59:34","0","Question"
"79211466","79211141","","<p>I think the task itself is kind of confusing...</p>
<p>I can only (logically) infer that it wants this answer:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// Write a function called addNums
function addNums ( expression )
{
  // that will add 1 and 2 in an expression
  const result = expression + 1 + 2;
  
  // and assign the result to a variable named mysteryNumber
  mysteryNumber = result;
}

// TESTING:
addNums('SomeString');
console.log(mysteryNumber);</code></pre>
</div>
</div>
</p>
<p>It's still possible to reduce the code to this:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function addNums ( expression )
{
  mysteryNumber = (expression + 1) + 2;
}

// TESTING:
addNums('SomeString');
console.log(mysteryNumber);</code></pre>
</div>
</div>
</p>
<p>The parentheses are optional in <code>mysteryNumber = (expression + 1) + 2;</code>.</p>
<p><strong>PS.:</strong> I don't know if the expected answer is this (by who imputed this task), but the logic of the task requires this answer.</p>
<p><strong>NOTE:</strong></p>
<ol>
<li><p>The task is not requiring to test the function, so maybe you should discard anything that is not the function in your answer.</p>
</li>
<li><p>The task is not requiring that the function must return the result.</p>
</li>
<li><p>The <code>expression</code> parameter is not required by the task and is optional as its value could be defined in an outer context (for example the global context where <code>mysteryNumber</code> is or should be defined).</p>
</li>
<li><p>I don't think that <em>&quot;Remember to include parentheses&quot;</em> is actually an error, but rather a hint generated by the system that dumbly thinks you should add parentheses to fix your answer.</p>
</li>
<li><p>This answer is probably not what the task actually expects you to answer.</p>
</li>
</ol>
<p>Here in my country, dubious tasks in tests must be eliminated on demand. For example, if a task is &quot;write 1 + 2 in full&quot; and you answer &quot;one plus two&quot;, but the expected answer was &quot;three&quot;, then you can demand to cancel that question because it's dubious, regardless if your answer was right or wrong, they must cancel the task and redistribute the points given to each task or give full marks for that task specifically... I don't know if its the case for this task or even if its feasible where you are.</p>
","2024-11-21 13:53:08","1","Answer"
"79211152","79211146","","<p>The args stands for arguments that are passed to the function whereas kwargs stands for keyword arguments which are passed along with the values into the function.</p>
<ul>
<li><p>args (Non-keyword Arguments/Positional Arguments) –
<code>*args</code> allows a function to accept any number of positional arguments i.e. arguments that are non-keyword arguments, variable-length argument list.</p>
</li>
<li><p>kwargs (Keyword Arguments) –
<code>**kwargs</code> is a special syntax that allows us to pass a variable length of keyword arguments to the function.</p>
</li>
</ul>
<p>Example for args:</p>
<pre class=""lang-py prettyprint-override""><code>def fruits(*args):
    print(args)

fruits('Apple', 'Banana', 1234)
</code></pre>
<p>Output:</p>
<pre><code>('Apple', 'Banana', 1234)
</code></pre>
<p>Example for kwargs:</p>
<pre class=""lang-py prettyprint-override""><code>def fruits(**kwargs):
    for key, value in kwargs.items():
        print(&quot;{} -&gt; {}&quot;.format(key, value))    # OR print(f'{key} -&gt; {value}')

fruits(Apple = 'Red', Banana = 'yellow', numbers = 1234)
</code></pre>
<p>Output:</p>
<pre><code>Apple -&gt; Red
Banana -&gt; yellow
numbers -&gt; 1234
</code></pre>
","2024-11-21 12:27:44","-1","Answer"
"79211146","","What is the difference between args and kwargs in function definitions?","<p>What is the difference between args and kwargs in function definitions?</p>
<p>difference with explanation and at what time it is important to use one of these keywords give the important uses with examples explain it briefly .</p>
","2024-11-21 12:23:35","-3","Question"
"79211141","","How do I fix the ""Remember to include parentheses"" error in my JavaScript function?","<p>I’m preparing for a coding bootcamp and working through JavaScript exercises as part of the application process.</p>
<p>I’ve been tasked with:</p>
<blockquote>
<p>Write a function called <strong>addNums</strong> that will add <strong>1</strong> and <strong>2</strong> in an
<em>expression</em> and <em>assign</em> the result to a <em>variable</em> named <strong>mysteryNumber</strong>.</p>
</blockquote>
<p>Here’s the code I’ve written so far:</p>
<pre><code>function addNums(a, b) {
    return a + b;
}

const mysteryNumber = addNums(1, 2);
console.log(mysteryNumber);
</code></pre>
<p><strong>Issue</strong></p>
<p>When I test this in the debug console, it works perfectly and logs 3. However, when I try to submit my solution, I get the following error message:</p>
<blockquote>
<p>&quot;Remember to include parentheses&quot;</p>
</blockquote>
<p>I’m not sure what part of my code this message is referring to. I’ve included parentheses in the function call and the function itself.</p>
<p><strong>What I’ve Tried</strong></p>
<ul>
<li>Double-checked the syntax of the function.</li>
<li>Ensured that parentheses are included when calling the function.</li>
<li>Reviewed online examples of similar problems, but I’m still stuck.</li>
</ul>
<p><strong>Question</strong></p>
<p>What does &quot;Remember to include parentheses&quot; mean in this context? Is there something wrong with how I’m calling or defining the function? Any guidance would be greatly appreciated!</p>
","2024-11-21 12:22:45","0","Question"
"79210783","79204826","","<p>Follow below steps to configure Durable Functions with managed identity, refer the <a href=""https://techcommunity.microsoft.com/blog/appsonazureblog/use-managed-identity-instead-of-azurewebjobsstorage-to-connect-a-function-app-to/3657606"" rel=""nofollow noreferrer"">blog</a>.</p>
<ul>
<li>Create a function app and enable managed identity. I have enabled System Assigned Managed Identity.</li>
<li>Navigate to the interlinked storage account=&gt;Access Control(IAM)=&gt;Grant <code>Storage Account Contributor</code>,<code>Storage Blob Data Contributor</code> role to the function app's managed identity.</li>
</ul>
<p><img src=""https://i.imgur.com/HDKherG.png"" alt=""enter image description here"" /></p>
<p>Add <code>AzureWebJobsStorage__accountName: &lt;Storage_Account_Name&gt;</code>  under FunctionApp=&gt;Settings=&gt;Environment Variables=&gt;App Settings:</p>
<p><img src=""https://i.imgur.com/AKXOPqk.png"" alt=""enter image description here"" /></p>
<p><strong>Code Snippet:</strong></p>
<pre class=""lang-py prettyprint-override""><code>import logging
from azure.identity import DefaultAzureCredential
from azure.storage.blob import BlobServiceClient

def main(name: str) -&gt; str:
   logging.info(f&quot;Listing blobs for: {name}&quot;)
   credential = DefaultAzureCredential()
   blob_service_client = BlobServiceClient(account_url=&quot;https://&lt;storage-account-name&gt;.blob.core.windows.net/&quot;, credential=credential)
   container_client = blob_service_client.get_container_client(&quot;your-container-name&quot;)
   blob_list = container_client.list_blobs()
   blob_names = [blob.name for blob in blob_list]
   return f&quot;Blobs for {name}: {blob_names}&quot;
</code></pre>
<p><strong>Output:</strong></p>
<p><img src=""https://i.imgur.com/qyTFVWn.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/qfC9ywC.png"" alt=""enter image description here"" /></p>
<p><strong>Logs:</strong></p>
<p><img src=""https://i.imgur.com/700L0Vi.png"" alt=""enter image description here"" /></p>
","2024-11-21 10:42:52","0","Answer"
"79209961","79209397","","<p>I came up with this to better demonstrate what I intended to do. The example below works but however it obviously 'replaces' the class, where I need it to add the additional class.</p>
<p>In index.php</p>
<pre><code>echo '&lt;main class=&quot;' . apply_filters( 'jm_content_area_wrap', 'content' ) . '&quot; role=&quot;main&quot;&gt;';
</code></pre>
<p>Then say in a page template I can use this</p>
<pre><code>// Add .bg-primary class
function jm_test_class( $test_class ) {

    $test_class = 'content bg-primary'; // This replaces the .original class, rather than adding to it, so I need to add .content back.
    return $test_class;

}
add_filter( 'jm_content_area_wrap', 'jm_test_class' );
</code></pre>
","2024-11-21 06:40:20","-1","Answer"
"79209561","79209465","","<p>The function can be simplified by <a href=""https://www.w3schools.com/python/python_iterators.asp"" rel=""nofollow noreferrer"">iterating using a for loop</a>.</p>
<pre><code>def find_shortest(words):
    shortest = words[0]
    for word in words:
        if len(shortest) &gt;= len(word):
            shortest = word

    return shortest
</code></pre>
<p>At which point trying to reuse such trivial code leads to more complicated and slower code; sometimes cut &amp; paste is fine.</p>
","2024-11-21 03:14:53","-1","Answer"
"79209542","79209465","","<p>You can add a flag as a parameter, and based on it, choose the corresponding comparison, something like:</p>
<pre><code>def find_shortest( words, short ):
    shortest = words[ 0 ]
    i = 1
    while i &lt; len( words ):
        if short:
            if len( shortest ) &gt;= len( words[ i ] ): 
                shortest = words[ i ]
        else:
            if len( shortest ) &lt;= len( words[ i ] ): 
                shortest = words[ i ]
        i += 1

    return shortest
    
word = &quot;A short word are in Mexico&quot;
words = word.split( &quot; &quot; )
print( find_shortest( words, True ))
print( find_shortest( words, False ))
</code></pre>
","2024-11-21 03:01:24","0","Answer"
"79209510","79209465","","<p>You could create a comparison function to use based on what &quot;mode&quot; the function is in</p>
<pre class=""lang-py prettyprint-override""><code>def find(words, mode):
    compare = (lambda x, y: x &gt;= y) if mode == 'shortest' else (lambda x, y: x &lt;= y)
    N = len(words)
    result = words[0]
    i = 1
    while i &lt; N:
        if compare(len(result), len(words[i])):
            result = words[i]
        i += 1
    
    return result
</code></pre>
<p>where <code>mode</code> is the value <code>'shortest'</code> or <code>'longest'</code>. Could be simplified to just a boolean if you want. I used a string just for clarity.</p>
","2024-11-21 02:43:39","0","Answer"
"79209507","79209465","","<p>You can based on the function argument, as example an <strong>order</strong> parameter, define the operation that you want to do. Put an <code>if</code> to identify if the operation: if &quot;shortest&quot; do shortest action, if not, do the longest action. It will put some logic, but can help to avoid the function repetition and the same scope can be used.</p>
","2024-11-21 02:43:02","0","Answer"
"79209465","","How can I change my function to allow finding both longest and shortest strings without repeating code?","<p>I'm writing a program in Python to find the shortest and longest strings in an array, e.g. this is <code>find_shortest</code>:</p>
<pre><code>def find_shortest(words):
 
    N = len(words)
    shortest = words[0]
    i = 1
    while i &lt; N:
        if len(shortest) &gt;= len(words[i]): #Change only this line for find_longest
            shortest = words[i]
        i += 1

    return shortest
</code></pre>
<p>My problem is that the <code>find_longest</code> function is identical to the <code>find_shortest</code> function, except <code>find_longest</code> uses a <code>&lt;=</code> sign instead of <code>&gt;=</code>. I don't want to copy/paste the <code>find_shortest</code> function to make <code>find_longest</code> but I see no alternative. How do I avoid copy/pasting and redundancy in this scenario?</p>
","2024-11-21 02:14:42","0","Question"
"79209445","79209397","","<p><a href=""https://developer.wordpress.org/reference/functions/apply_filters/"" rel=""nofollow noreferrer"">The <code>apply_filters()</code> function</a> accepts (at minimum) two parameters: the hook's name, and the value to be filtered. Additional parameters can be added after the first two to provide more arguments for the callback attaching to the filter.</p>
<p>For your situation, I usually put the classes into a variable as an array, to make management a little bit easier:</p>
<pre class=""lang-php prettyprint-override""><code>add_filter( 'jm_content_wrap_classes', static function ( $classes ): array {
    if ( ! is_array( $classes ) ) {
        $classes = [ 'content-wrap' ];
    }

    if ( condition() ) {
        $classes[] = 'row';
    }

    return $classes;
} );

...

$classes = apply_filters( 'jm_content_wrap_classes', [ 'content-wrap' ] );
printf( '&lt;div class=&quot;%s&quot;&gt;', esc_attr( implode( ' ', $classes ) ) );
</code></pre>
<p>Or filtering a string:</p>
<pre class=""lang-php prettyprint-override""><code>add_filter( 'jm_content_wrap_classes', static function ( $classes ): string {
    if ( ! is_string( $classes ) ) {
        $classes = 'content-wrap';
    }

    if ( condition() ) {
        $classes .= ' row';
    }

    return $classes;
} );

...

$classes = apply_filters( 'jm_content_wrap_classes', 'content-wrap' );
printf( '&lt;div class=&quot;%s&quot;&gt;', esc_attr( $classes ) );
</code></pre>
","2024-11-21 02:00:41","0","Answer"
"79209397","","Using apply_filters for a div class to add extra classes with a function","<p>This one has me stumped.</p>
<p>So, if we want to add a custom class to the body class, easy to create a filter like so.</p>
<pre><code>/**
 * Body Class
 *
 */
function jm_custom_body_class( $classes ) {
    $classes[] = 'custom-class';
    return $classes;
}
add_filter( 'body_class', 'jm_custom_body_class' );
</code></pre>
<p>So how can I create my own custom filter for a site wide container like for example.</p>
<pre><code>&lt;div class=&quot;content-wrap&quot;&gt;
</code></pre>
<p>And then somewhere else, perhaps a page template, I may want to add a row class to that hooking into it with a function to look like this.</p>
<pre><code>&lt;div class=&quot;content-wrap row&quot;&gt;
</code></pre>
<p>or maybe</p>
<pre><code>&lt;div class=&quot;content-wrap full&quot;&gt;
</code></pre>
<p>Depending on what I need</p>
<p>I'm guessing I can use apply_filters for this?</p>
<pre><code>&lt;div class=&quot;apply_filters('content-wrap' 'don't know how to this')&quot;&gt;
</code></pre>
<p>Hope that make sense.</p>
","2024-11-21 01:28:17","0","Question"
"79208244","79207889","","<p>There are a number of ways you can approach this problem but I think the way the question prompts you with:</p>
<blockquote>
<p>The sequence is the addition of complements from the previous sequence
as shown in the example</p>
</blockquote>
<p>Is hinting that an answer based on recursion is being suggested. Note that there are already several good and correct answers here using recursion (I upvoted my fav already) but I thought you might get more out of an answer that was more explicit.</p>
<p>Also note, python has a default limit on how &quot;deep&quot; one can recurse and that most (all?) recursion can be replace by loops and a stack so there will be many ways to solve this even without recursion.</p>
<p>Let's take a look at the problem given <code>n==0</code>.</p>
<p>In this case, we can write <code>pattern()</code> as:</p>
<pre><code>def pattern(char1, char2, n):
    if n==0:
        return char1
    raise Exception()  ## just to be explicit about only allowing n==0
</code></pre>
<p>now we can do:</p>
<p><code>print(pattern(&quot;A&quot;, &quot;R&quot;, 0))</code> giving us <code>A</code></p>
<p>Now let's extend that to <code>n==1</code></p>
<pre><code>def pattern(char1, char2, n):
    if n==0:
        return char1
    if n==1:
        return char1 + char2
    raise Exception()
</code></pre>
<p>Now <code>print(pattern(&quot;A&quot;, &quot;R&quot;, 1))</code> gives us <code>AR</code> as expected. However, recall the hint that the current answer is based on the <strong>compliment of the prior answer</strong></p>
<p>For <code>n==1</code>, let's get the result for <code>n==0</code> and use it as part of our answer.</p>
<pre><code>def pattern(char1, char2, n):
    if n==0:
        return char1
    if n==1:
        prior = pattern(char1, char2, n-1)
        current = prior
        return prior + current
    raise Exception()
</code></pre>
<p>Now <code>print(pattern(&quot;A&quot;, &quot;R&quot;, 1))</code> gives us <code>AA</code> (intentionally incorrect) however, we are not going to use the prior answer &quot;as is&quot; but rather take its compliment.</p>
<p>Perhaps something like (corrected):</p>
<pre><code>def pattern(char1, char2, n):
    if n==0:
        return char1
    if n==1:
        prior = pattern(char1, char2, n-1)
        current = char2 if prior == char1 else char1
        return prior + current
    raise Exception()
</code></pre>
<p>Now <code>print(pattern(&quot;A&quot;, &quot;R&quot;, 1))</code> gives us <code>AR</code> as expected</p>
<p>What about <code>n==2</code>? The only real difference here is that <code>n==1</code> returns a string of characters rather than a single character and that when we take the compliment we will do it for each character in turn then use <code>str.join()</code> to assemble a string from the complemented characters.</p>
<p>Perhaps like:</p>
<pre><code>def pattern(char1, char2, n):
    if n==0:
        return char1
    if n==1:
        prior = pattern(char1, char2, n-1)
        current = char2 if prior == char1 else char1
        return prior + current
    if n==2:
        prior = pattern(char1, char2, n-1)
        current = [char2 if c == char1 else char1 for c in prior]
        return prior + &quot;&quot;.join(current)
    raise Exception()
</code></pre>
<p>Now <code>print(pattern(&quot;A&quot;, &quot;R&quot;, 2))</code> gives us <code>ARRA</code></p>
<p><strong>Now here is the trick.</strong></p>
<p>First note that having solved for <code>n==2</code> we have actually solved for <code>n &gt;= 2</code> and that <code>n=1</code> is also a sub-case of <code>n=2</code> as a string of a single character also looks like a list of length 1 in the same way that a two character string looks like list of length 2.</p>
<p>So, let's collapse our method around the notion that <code>n==0</code> is a special case and when <code>n &gt; 0</code> things kind of look the same as far as our method is concerned.</p>
<pre><code>def pattern(char1, char2, n):
    if n==0:
        return char1

    prior = pattern(char1, char2, n-1)
    current = [char2 if c == char1 else char1 for c in prior]
    return prior + &quot;&quot;.join(current)
</code></pre>
<p>Now we can see:</p>
<pre><code>print(pattern(&quot;A&quot;, &quot;R&quot;, 0)) --&gt; A
print(pattern(&quot;A&quot;, &quot;R&quot;, 1)) --&gt; AR
print(pattern(&quot;A&quot;, &quot;R&quot;, 2)) --&gt; AARRA
print(pattern(&quot;A&quot;, &quot;R&quot;, 3)) --&gt; ARRARAAR
print(pattern(&quot;A&quot;, &quot;R&quot;, 4)) --&gt; ARRARAARRAARARRA
</code></pre>
","2024-11-20 16:56:19","0","Answer"
"79208170","79207889","","<p>Let's see how to achieve the proposed result:</p>
<pre><code>def pattern( char1, char2, n ):
     # first we save the base pattern 
    out =  char1 + char2 
    for i in range( n ):
         # in each iteration, we add to it its inverted version
        out += invert( out )
    return out
    
def invert( char ):
    out = &quot;&quot;
    for i in range( len( char )):
         # only in the odd numbers we add to **out** the reversed items
        if i % 2 != 0:
            out +=  char[ i ] + char[ i - 1 ]
    return out
</code></pre>
","2024-11-20 16:36:26","0","Answer"
"79207997","79207889","","<p>Recursive solution:</p>
<pre class=""lang-py prettyprint-override""><code>def pattern(c, d, n):
    return pattern(c+d, d+c, n-1) if n else c
</code></pre>
<p>Iterative solution:</p>
<pre><code>def pattern(c, d, n):
    for _ in range(n):
        c, d = c+d, d+c
    return c
</code></pre>
<p>In <code>c</code> I keep the current pattern and in <code>d</code> I keep its complement (initially they're just the two given characters). When I add the complement to the pattern, I also add the pattern to the complement to get the complement of the longer pattern. Do it <code>n</code> times, either by recursion or by loop.</p>
<p><a href=""https://ato.pxeger.com/run?1=dZCxasMwEIbpVNBTHJps4gwOGYrBU-gbNHQUqn3GBudslFMgz5LFS_pO7dP0ZLkOHapJ0n336z7dPscrtwNN091zs335OtTYwGiZ0VFSZVBnQGmhQJZD9o4exY3U6o0wtM1T6BogwP6MUMWo76fnkHWyHSVLQtVal0MJHY2eE_1KEjRf2irs8gJ0uoK7_8HdCtIMcfIH5BbhYnuPMMhQgY3wYnH2PUvb6hGGyuKTQXamRhdS9ZskDR8sClj_NhQ6W0JSpcTaGLInNAbKErQxwdcYHYWjfPyP6X5U72ofDz8"" rel=""nofollow noreferrer"">Attempt This Online!</a></p>
<p>For the recursive version: When the number of additions <code>n</code> is positive, we do one right away and call the function to do the remaining <code>n-1</code>. Otherwise, i.e., with no more additions to do, we just return <code>c</code>. The (recursive) calls for your example become:</p>
<pre><code>pattern('U', 'W', 4)
pattern('UW', 'WU', 3)
pattern('UWWU', 'WUUW', 2)
pattern('UWWUWUUW', 'WUUWUWWU', 1)
pattern('UWWUWUUWWUUWUWWU', 'WUUWUWWUUWWUWUUW', 0)
</code></pre>
","2024-11-20 15:53:12","2","Answer"
"79207970","79207889","","<p>I suggest you break the problem down a bit further. Being able to decompose problems into smaller problems is key to solving <em>any</em> problems, and it's especially helpful for programmers.</p>
<p>Each step appends the inverse of the previous step to the string. So the first step is to obtain the inverse of a string.</p>
<p>I've used <a href=""https://docs.python.org/3/library/re.html#re.sub"" rel=""nofollow noreferrer""><code>re.sub</code></a> with a lambda to accomplish the inversion by matching either the first or second character and then the lambda checks to see which one and delivers the correct replacement based on that. There are other methods of accomplishing this end goal, but <code>invert</code> can be a black box. As long as it achieves <em>its</em> goal, the rest of our program can be written without caring <em>how</em> it gets there.</p>
<pre><code>import re

def invert(s, a, b):
    return re.sub(rf&quot;({a}|{b})&quot;, lambda m: b if m.group(0) == a else a, s)
</code></pre>
<p>From there it's reasonably straightforward. Start by adding <code>char1</code> to a result. Then add the result's inverse to itself on each loop.</p>
<pre><code>def pattern(ch1, ch2, n):
    result = ch1
    for _ in range(1, n):
        result += invert(result, ch1, ch2)
    return result
</code></pre>
<p>Taking this a step further, the <code>n</code> parameter is only needed to put a bound on the iteration so the function can end and return a result. But if a complementary function were creating a <em>generator</em> which yields the pieces we could let the <code>pattern</code> function be a consumer of that generator and decide where to end the iteration.</p>
<pre><code>import itertools

def pattern_pieces(ch1, ch2):
    result = ch1
    yield result
    while True:
        inv = invert(result, ch1, ch2)
        yield inv
        result += inv

def pattern(ch1, ch2, n):
    gen = pattern_pieces(ch1, ch2)
    return ''.join(itertools.slice(gen, n))
</code></pre>
","2024-11-20 15:46:27","0","Answer"
"79207926","79207060","","<p>Unfortunately TypeScript doesn't have much support for the sort of higher order manipulation of <a href=""https://www.typescriptlang.org/docs/handbook/2/generics.html"" rel=""nofollow noreferrer"">generic</a> function types you're doing. <a href=""https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#higher-order-type-inference-from-generic-functions"" rel=""nofollow noreferrer"">The support it does have</a>, as implemented in <a href=""https://github.com/microsoft/TypeScript/pull/30215"" rel=""nofollow noreferrer"">microsoft/TypeScript#30215</a> is quite limited, and doesn't apply when you are returning an object with the intended generic function as a method. So we can't leverage that, especially in the form where the function parameters and return type have separate type parameters (since that would break the generics).</p>
<p>Seeing as all you're trying to do is say that <code>new Func(f).call</code> is the same exact type as <code>f</code>, we can work around it by making <code>Func</code> generic in the type of <code>f</code>, and declaring <code>call</code> to be that type.  You can't do that with method syntax (there's an open feature request at <a href=""https://github.com/microsoft/TypeScript/issues/22063"" rel=""nofollow noreferrer"">microsoft/TypeScript#22063</a> to allow annotating a function statement and, presumably, a method, so it's a missing feature). You can use <a href=""https://www.typescriptlang.org/docs/handbook/declaration-merging.html"" rel=""nofollow noreferrer"">declaration merging</a> to declare it as if it were a property, and then manually add <code>call</code> to <code>Func.prototype</code>, with some workaround to allow you to access a TypeScript-<code>private</code> property inside of it (see <a href=""https://github.com/microsoft/TypeScript/issues/19335"" rel=""nofollow noreferrer"">microsoft/TypeScript#19335</a>):</p>
<pre><code>// class is generic in type of `func`:
class Func&lt;F extends (...args: any) =&gt; any&gt; {
  constructor(private readonly func: F) { }
  public catch(cb: (error: unknown) =&gt; void) { }
}

// merge in `call` as same type
interface Func&lt;F&gt; {
  call: F;
}
// implement `call`
Func.prototype.call = function (this: Func&lt;any&gt;, ...args: any) {
  return this[&quot;func&quot;](...args); 
  //         ^^^^^^^^ brackets let you access private member
}
</code></pre>
<hr />
<p>And now if we try it we see the desired behavior:</p>
<pre><code>const func = &lt;G extends string&gt;(p: G) =&gt; p;
const use = new Func(func);
const s = use.call('str');
//    ^? const s: 'str'
</code></pre>
<p>So it's possible to do what you asked for in the question... but the solution is fragile. Only because <code>call</code> is exactly the same type as <code>this.func</code> does it work; if you needed something even slightly different that would need the type to be transformed in some way (e.g., the function returns something like <code>{prop: this.func(...args)}</code>, or accepts an extra or fewer argument compared to <code>this.func</code>, etc) then you'd end up with broken generics again.</p>
<p><a href=""https://www.typescriptlang.org/play/?#code/FAYwNghgzlAEBiBXAdiAPPWBTAHgFy2QBM4AKAOkogCcBzKALlgmQE8BKWAXgD5m2+Ab2CxYIAPbIoeaohB5x1UgAdqASwBuEArGpYIRSWFawAZihBN4nQbAC+I2MsQAjMGpBjtIABakQLkykWNTUikwoANbI4gDuyJy8sBriakQ29sAOasgE1KYQIFgIFhhCjiAQYGBWANxZwEio5KriCnisyljkldXcZhZ4apKwpHg+aowlqGgsrDwANLCU5DT0THM2jnp4iNTIsOOTANoAROaopwC6FFR0UOz1DqCS0gOo-WgA4tj4hCSwaTqZC0HgqJhfRJ8ZT1CRSPCwRBQYpcWDILCxaYgUgXECPF7wwH9JHdXpgUgAciBFPxAHpaaJRAA9AD8QA"" rel=""nofollow noreferrer"">Playground link to code</a></p>
","2024-11-20 15:35:07","1","Answer"
"79207889","","Sequence Addition","<p>Mr. Ric feels that alternating the schedule for paying for gasoline only disadvantages him. So Mr. Dip proposed a waytodivide the paymentschedule. For every 2n, they will change the pattern by swapping the order (complement) of the payment in the pattern 2(n−1). Here is the pattern proposed by Dip:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>n</th>
<th>Pattern</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td><strong>A</strong></td>
</tr>
<tr>
<td>1</td>
<td>A<strong>R</strong></td>
</tr>
<tr>
<td>2</td>
<td>AR<strong>RA</strong></td>
</tr>
<tr>
<td>3</td>
<td>ARRA<strong>RAAR</strong></td>
</tr>
</tbody>
</table></div>
<p>As can be seen, the text in bold is the opposite of the non-bold part of a pattern. Mr. Ric really likes this idea. Help Mr. Ric create a program to generate this pattern. Use Functions or Procedures in solving this problem. Clue: The sequence is the addition of complements from the previous sequence as shown in the example. Prepare an array of characters with a size of 2 times the previous sequence.</p>
<pre><code>Example 1
Enter character 1: A
Enter character 2: R
Enter the value of n: 2
The obtained pattern: ARRA

Example 2
Enter character 1: U
Enter character 2: W
Enter the value of n: 4
The obtained pattern: UWWUWUUWWUUWUWWU
</code></pre>
<p>i tried this but the ouput is a bit off</p>
<pre><code>def pattern(char1, char2, n):
    pattern = char1
    for i in range(n):
        pattern += char2 * (i + 1)
        pattern += char1
    return pattern
</code></pre>
<pre><code>def main():
    char1 = input(&quot;Enter character 1: &quot;)
    char2 = input(&quot;Enter character 2: &quot;)
    n = int(input(&quot;Enter the value of n: &quot;))
    
    result = pattern(char1, char2, n)
    print(&quot;The obtained pattern:&quot;, result)

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
","2024-11-20 15:28:04","-2","Question"
"79207270","79207263","","<p>Trigger functions don't work like this. <a href=""https://www.postgresql.org/docs/17/plpgsql-trigger.html"" rel=""nofollow noreferrer"">The manual:</a></p>
<blockquote>
<p>A trigger function is created with the <code>CREATE FUNCTION</code> command, declaring it as a function <strong>with no arguments</strong> and a return type of <code>trigger</code> (for data change triggers)</p>
</blockquote>
<p>Bold emphasis mine.</p>
<p>My first advice (beside reading the manual): Drop the functionally dependent column <code>barcode</code> completely. You can easily generate it on the fly with <code>pref || id</code>. Or create a view that adds it.</p>
<p>If you insist on the redundant column, and the content is supposed to never change, use a <strong>generated column</strong> instead. Simpler, cheaper. See:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/8250389/computed-calculated-virtual-derived-generated-columns-in-postgresql/8250729#8250729"">Computed / calculated / virtual / derived / generated columns in PostgreSQL</a></li>
</ul>
<p>If you insist on both column and trigger, I recommend to write a separate trigger function for each table. Simpler and faster execution.</p>
<p>If I failed to convince you of a better approach, you can pass arguments to a trigger function with the special variable <code>TG_ARGV</code>. Here is an example:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/38713958/trigger-with-dynamic-field-name/38722477#38722477"">Trigger with dynamic field name</a></li>
</ul>
<p>Related:</p>
<ul>
<li><a href=""https://dba.stackexchange.com/a/301786/3684"">Column name as argument for a trigger function</a></li>
</ul>
","2024-11-20 12:47:10","1","Answer"
"79207263","","How to autofill a field with data from another field in the same table?","<p>I have a table in a Postgres 17 database:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE TABLE customerdevices (
  &quot;deviceID&quot; serial PRIMARY KEY
, &quot;barcode&quot;  varchar(50)
-- more columns
);
</code></pre>
<p><code>barcode</code> will be a text representation of a Code128 barcode.</p>
<p>Essentially, I am trying to do the following:</p>
<p>When a new row is created, I want <code>barcode</code> to be auto-filled by concatenating the auto-generated <code>deviceID</code> with a prefix specific to the table. (I have several different tables that I want to implement this functionality to).</p>
<p>My approach was to create a trigger function and trigger for that:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE OR REPLACE FUNCTION generate_barcode(pref VARCHAR, id INTEGER)
RETURNS TRIGGER
LANGUAGE plpgsql
CALLED ON NULL INPUT
AS $$
BEGIN
   NEW.barcode := pref || id;
   RETURN NEW;
END;
$$;

CREATE TRIGGER autoGenerateCustomerDeviceBarcode
BEFORE INSERT ON customerdevices
FOR EACH ROW
EXECUTE FUNCTION
    generate_barcode('C', NEW.deviceID);
</code></pre>
<p>However, when I run the script, it outputs an error:</p>
<blockquote>
<p>unterminated dollar-quoted string at or near &quot;$$ BEGIN&quot;</p>
</blockquote>
<p>I have tried multiple iterations of the function but I always get the same error. I am fairly new to Postgres, more familiar with SQLite and Oracle.</p>
<p>I put my code though Chat-GPT and as per its suggestions I have:</p>
<ol>
<li>Verified that plpgsql is installed and enabled in the database</li>
<li>Verified that I am connected to the correct database</li>
<li>Manually changed the line endings of my files from CRLF to LF because according to Chat-GPT &quot;The presence of CRLF line endings can sometimes cause issues in PostgreSQL, especially when executed from environments that interpret line endings differently (e.g., Windows vs. Linux).&quot;
4.Verified that I have installed the latest version of Postgresq</li>
</ol>
<p>Still, after doing all those things, I still get the same error. At this point, I am thinking that it might be easier to create a barcode table and consolidate all of the barcodes from the different tables together, but if there is indeed a way to do it like this, I would prefer it.</p>
","2024-11-20 12:44:36","1","Question"
"79207060","","Wrap generic function","<p>Is there a way to wrap a generic function inside a class and preserve the generics?</p>
<p>Here is my idea:</p>
<pre class=""lang-js prettyprint-override""><code>const func = &lt;G extends string&gt;(p: G) =&gt; p;

class Func&lt;A extends any[], R&gt; {
  constructor(private readonly func: (...args: A) =&gt; R) {}

  public call(...args: A): R {
    return this.func(...args);
  }

  public catch(cb: (error: unknown) =&gt; void) {}

  // more methods ...
}
</code></pre>
<p>Now if I use it the generics are obviously lost:</p>
<pre class=""lang-js prettyprint-override""><code>const use = new Func(func); // =&gt;  Func&lt;[p: any], any&gt;
</code></pre>
<p>I have tried this, which preserves the functions type as a whole:</p>
<pre class=""lang-js prettyprint-override""><code>class Func&lt;F extends (...args: A) =&gt; R, A extends any[], R&gt; {
  constructor(private readonly func: F) {}

  public call(...args: A): R {
    return this.func(...args);
  }

  public catch(cb: (error: unknown) =&gt; void) {}
}
</code></pre>
<p>But even then, if I try to use the <code>call</code> method, generics (and even parameter types) are lost:</p>
<pre class=""lang-js prettyprint-override""><code>use.call('str'); // =&gt; any
</code></pre>
<p>To summarize:
I need a way to wrap a generic function in a class and preserve its generics for the class methods. I am open for any creative workaround.</p>
<p>Playground: <a href=""https://www.typescriptlang.org/play/?#code/MYewdgzgLgBAZgVzMGBeGAeA4jApgDylzABMIZoAnASzAHMA%20ACgAcAuGLASjQZhYDcAKCHAANgEMI5AGJJgGAIJ5CxMjAlgAngG0AugBoYAJT4BvITBihIUSgmBQQlVjQBuEojEq4JJcGJa8PIcTAB0ERKUdBAcijyofMY8ZgC%20IlYsCABGYtQowBJiYuGR0bEw8RzGMBZWVj5QCJRgMFAAFtQQYYjIpWFRMVzCVumW-Dl5BZ7A7UzA2aG4lJTOHEgA1mAgAO5gCXxuINQkKWNWAPQXMAC2zri3uB0g6hFhQmM20DAIEA-oYFwOxgcj6vWAwxgV14VlBCh07A02kMSK0DBEv1wYUKxSYAHIqHjIdDEqigA"" rel=""nofollow noreferrer"">link</a></p>
","2024-11-20 11:45:03","1","Question"
"79204826","","Durable Functions + Azure Storage Account -> Multiple retry to Attempting to retrieve authentication token for resource 'https://storage.azure.com/'","<p>Anyone else having a problem to let durable functions runtime get connection to Azure Storage Account? When you are running Local environment on your VS Code.</p>
<p>For me it is stuck on that and after many many attempts it finally works but this can happen for every request.
<a href=""https://i.sstatic.net/Jk6K982C.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>When function is finally invoked then the internal DefaultAzureCredential() is working smoothly. I have no idea which method Durable Functions use I tried to look from the Source code but could not find that logic.</p>
<p>But based on the documentation (<a href=""https://learn.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-configure-managed-identity"" rel=""nofollow noreferrer"">https://learn.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-configure-managed-identity</a>)  it tries to get a token from the following locations, in the said order, for access to your Azure resources:</p>
<ul>
<li>A local cache shared between Microsoft applications</li>
<li>The current user context in Visual Studio</li>
<li>The current user context in Visual Studio Code</li>
<li>The current user context in the Azure CLI</li>
</ul>
<p>I am using PIM account, I have local account.... where I use Teams/Outlook/Devops/ etc...</p>
<h2>installed software/other:</h2>
<p>Azure Func Core Tools
Visual Studio Code
Python 3.11
PIM Cloud account</p>
<p>az account clear
az login
az set subscription
then there was some command to disable the WAM and I have tried that aswell.</p>
<p>Any help would be appreciated!</p>
<p>-YourCSVman</p>
<p>I have tried to log out, clear cache -&gt; login again, set subscription to the one where storage account lays but no progress.
Also I have tried to func host start --verbose from just command line and not inside VS Code
Also I have Logged in with my PIM Cloud account in Azure.</p>
","2024-11-19 19:33:56","0","Question"
"79203447","79203369","","<p>This answer's version: loops run exactly <code>n</code> times for each step in spiral computation.</p>
<p>Your version: Incorrectly, the loop started at <code>i=3</code> up to <code>n-1</code> so <code>n=1</code> and <code>n=2</code> do not execute. For <code>n=3</code> and higher the <code>left</code>, <code>mid</code> and <code>right</code> were updated multiple times within an iteration incorrectly.</p>
<p>Corrected Methods:</p>
<pre><code>def spiral_iterative(left, right, n):

    for step in range(1, n + 1):
        mid = (left + right) / 2
        left, right = (mid, right) if step % 2 == 1 else (left, mid)
    return mid
</code></pre>
<pre><code>def spiral_recursive(left, right, n):
    if n &lt;= 0:
        raise ValueError(&quot;Step number 'n' must be a positive integer.&quot;)

    def helper(current_left, current_right, current_step):
        mid = (current_left + current_right) / 2
        if current_step == n:
            return mid
        if current_step % 2 == 1:
            # Odd step: move to the right half by updating the left boundary.
            return helper(mid, current_right, current_step + 1)
        else:
            # Even step: move to the left half by updating the right boundary.
            return helper(current_left, mid, current_step + 1)

    return helper(left, right, 1)
</code></pre>
<p>Test Cases:</p>
<pre><code>Test Case 1:
spiral_iterative(0, 8, 1): 4.0 (Expected: 4.0)
spiral_recursive(0, 8, 1): 4.0 (Expected: 4.0)

Test Case 2:
spiral_iterative(0, 8, 2): 6.0 (Expected: 6.0)
spiral_recursive(0, 8, 2): 6.0 (Expected: 6.0)

Test Case 3:
spiral_iterative(0, 8, 3): 5.0 (Expected: 5.0)
spiral_recursive(0, 8, 3): 5.0 (Expected: 5.0)

Test Case 4:
spiral_iterative(0, 16, 4): 11.0 (Expected: 11.0)
spiral_recursive(0, 16, 4): 11.0 (Expected: 11.0)

Test Case 5:
spiral_iterative(0, 16, 5): 10.5 (Expected: 10.5)
spiral_recursive(0, 16, 5): 10.5 (Expected: 10.5)
</code></pre>
","2024-11-19 12:35:51","1","Answer"
"79203369","","Expected output not returned for spiral coordinate computation functions (iterative and recursive)","<p>I'm trying to compute the x-coordinate of the nth arm of a spiral using both an iterative and a recursive function. However, I am not getting the expected output from the code. I have written two functions: spiral_iterative and spiral_recursive, which are supposed to return specific values based on the input. However, the output is incorrect for some cases.</p>
<p>Problem:
Here is a description of what I am expecting:</p>
<p>Test Case 1:
Input: <strong>spiral_iterative(0, 8, 1)</strong> and <strong>spiral_recursive(0, 8, 1)</strong>
Expected Output: 4.0</p>
<p>Test Case 2:
Input: <strong>spiral_iterative(0, 8, 2)</strong> and <strong>spiral_recursive(0, 8, 2)</strong>
Expected Output: 6.0</p>
<p>Test Case 3:
Input: <strong>spiral_iterative(0, 8, 3)</strong> and <strong>spiral_recursive(0, 8, 3)</strong>
Expected Output: 5.0</p>
<p>Test Case 4 (Large n):
Input: <strong>spiral_iterative(0, 16, 5)</strong> and <strong>spiral_recursive(0, 16, 5)</strong>
Expected Output: 11.0</p>
<p>Additional details:
I'm working with <strong>Python 3.x</strong>.
The logic behind the functions seems to be based on adjusting the left and right values with each iteration/recursion to find the mid-point.
Thank you for your help!</p>
<p>But the output is not as expected.</p>
<pre><code>def spiral_iterative(left, right, n):
    &quot;&quot;&quot;
    An iterative function to compute the x-coordinate of the nth arm of the spiral.

    Parameters:
        left: integer
        right: integer
        n: integer
    Return:
        result: float
    &quot;&quot;&quot;
    mid = (left + right) / 2
    for i in range(3, n):
        mid = (left + right) / 2
        left = mid
        mid = (left + right) / 2
        right = mid
    return mid

def spiral_recursive(left, right, n):
    &quot;&quot;&quot;
    A recursive function to compute the x-coordinate of the nth arm of the spiral.

    Arguments:
        left: integer
        right: integer
        n: integer
    Return:
        result: float
    &quot;&quot;&quot;
    if n &lt; 1:
        return left
    else:
        mid = (left + right) / 2
        if n % 2 == 0:
            left = mid
        else:
            right = mid
    return spiral_recursive(left, right, n - 1)

# Test Case 1
print(spiral_iterative(0, 8, 1))  # Expected: 4.0
print(spiral_recursive(0, 8, 1))  # Expected: 4.0

# Test Case 2
print(spiral_iterative(0, 8, 2))  # Expected: 6.0
print(spiral_recursive(0, 8, 2))  # Expected: 6.0

# Test Case 3
print(spiral_iterative(0, 8, 3))  # Expected: 5.0
print(spiral_recursive(0, 8, 3))  # Expected: 5.0

# Test Case 4 (Large n)
print(spiral_iterative(0, 16, 5))  # Expected: 11.0
print(spiral_recursive(0, 16, 5))  # Expected: 11.0
</code></pre>
<p>What I expect:
For spiral_iterative(0, 8, 1), I expect 4.0.
For spiral_recursive(0, 8, 1), I expect 4.0.
I expect similar outputs for the other test cases as well.
What is happening:
The output is incorrect and does not match the expected values. It seems like the iterative and recursive functions do not behave as expected. Could someone help me identify what might be causing the issue in the code?</p>
","2024-11-19 12:11:43","0","Question"
"79198276","79198266","","<p><a href=""https://timsong-cpp.github.io/cppwp/n4950/intro.execution#11"" rel=""nofollow noreferrer"">[intro.execution]/11</a> effectively states that every function invocation happens atomically with respect to sequencing, i.e. multiple function calls can't be interleaved.</p>
<p>Specifically here <code>i++</code> for the left-hand invocation of <code>f</code> is required to either be sequenced-before or sequenced-after, i.e. indeterminately-sequenced with, all evaluations in the right-hand side call to <code>f</code>, because both happen on the same thread and the former evaluation does not occur within the latter function invocation.</p>
<p>As a result evaluations in different function calls (or different full-expressions in general) can't be unsequenced relative to one-another (if they happen on the same thread).</p>
<p>Therefore this is not undefined behavior. The two <code>i++</code> evaluations are indeterminately sequenced, so you do not know which happens first, but they are not unsequenced.</p>
<p>There are however two valid observable behaviors, i.e. two different possible outputs, for either ordering of the function call evaluations.</p>
","2024-11-17 22:21:34","6","Answer"
"79198266","","Side effects and undefined behaviour when references are used in a function","<p>We all know that the expression <code>i++ + i++</code> is undefined behavior.  But is it also UB, if the side effects happen on a reference in the function body?  For example :</p>
<pre><code>int f(int&amp; i) {   // pass by reference
    return i++;  
}

int main() {
    int v=5;  
    auto r=f(v)+ 2*f(v); 
    cout &lt;&lt; r &lt;&lt;endl;  
}
</code></pre>
<p>When I read the standard, I understand that this is UB:</p>
<ul>
<li><p>The standard explains that modifying a value when calling a function can be considered as side effect.  So <code>f()</code> would have a side effect on <code>v</code> :</p>
<blockquote>
<p><strong>C++23/[intro.execution]/7</strong>: (...), modifying an object, calling a library I/O function, or calling a function that does any of those operations are all side effects, which are changes in the state of the execution environment.</p>
</blockquote>
</li>
<li><p>The standard also explains that unsequenced side effects on the same memory location are UB.  I therefore understand that the evaluation of the two operands of + are unsequenced:</p>
<blockquote>
<p><strong>C++23/[intro.execution]/10</strong>: Except where noted, evaluations of operands of individual operators and of subexpressions of individual expressions are unsequenced. (...)</p>
<p>If a side effect on a memory location is unsequenced relative to either another side effect on the same memory location or a value computation using the value of any object in the same memory location, and they are not potentially concurrent (6.9.2), the behavior is undefined.</p>
</blockquote>
</li>
</ul>
<p>Therefore, since both calls to <code>f()</code> modify the same memory location <code>v</code>, I understand it's UB.  However some argue that the execution of the two called function bodies would be  indeterminately sequenced, and not unsequenced, and hence the code would just deliver an unspecified result (17 if left call is executed first, and 16 if the contrary), without being UB.  Can some language-lawyer enlighten me?</p>
","2024-11-17 22:14:43","1","Question"
"79197440","79196131","","<p>C++17:</p>
<blockquote>
<p>17 Except where noted, evaluations of operands of individual operators and of subexpressions of individual expressions are unsequenced.</p>
</blockquote>
<p>The output that you have posted, will be generated only when compiler will perform evaluation of subexpression <code>F(v, a - 1, b)</code> before <code>F(v, a, b)</code> in every evaluation of expression <code>F(v, a - 1, b) + F(v, a, b)</code>.</p>
<p>A quick check you can do by swapping the operands (subexpression) - <code>F(v, a, b) + F(v, a - 1, b)</code>. With this, you may get a different output.</p>
<p>The recursive call trace for the given expression will be like a binary tree but there is catch here - the parameter <code>b</code> of function <code>F()</code> is a reference. Which means, any change in value <code>b</code> will reflect everywhere it's been referred.</p>
<p>For the given value of parameter <code>a</code> and <code>b</code> (<code>a = 15</code> and <code>b = 7</code>), once the value of <code>b</code> will become <code>2</code>, the condition <code>b &lt;= 2</code> will be satisfied and rest of the recursive calls to <code>F()</code> function will simply return value of <code>a</code> (whatever it is passed as argument in that call to function <code>F()</code>).</p>
<p>Assume, in every call to function <code>F()</code>, when evaluating expression <code>F(v, a - 1, b) + F(v, a, b)</code> expression, compiler evaluates subexpression <code>F(v, a - 1, b)</code> first, this is how the recursion tree will be:</p>
<pre><code>(C1)         [Initial value of args - a = 15, b = 7]  F(v, a, b)  ==&gt; returned value discarded
                                                           |
                                                +-------------------+
                                                |                   |
(C2)                                      F(v, 14, b)         F(v, 15, b) ==&gt; a = 60 + 15 =&gt; 75 (pushed and returned)
                                                |  
                                       +-----------------+
                                       |                 |
(C3)                             F(v, 13, b)        F(v, 14, b) ==&gt; a = 46 + 14 =&gt; 60 (pushed and returned)
                                       |
                              +-----------------+
                              |                 |
(C4)                    F(v, 12, b)        F(v, 13, b) ==&gt; a = 33 + 13 =&gt; 46 (pushed and returned)
                              |
                     +-----------------+
                     |                 |
(C5)           F(v, 11, b)        F(v, 12, b) ==&gt; a = 21 + 12 =&gt; 33 (pushed and returned)
                     |
value of b calcul-   |
ated to 2   +-----------------+     +-val returned-+
            |                 |     |              v
(C6)   F(v, 10, 2)        F(v, 11, 2) ==&gt; a = 10 + 11 =&gt; 21 (pushed and returned)   
           \     |             /              ^
            \    +------------/-val returned--+
             \_______________/
                     |
                     v
              Both these calls will return the value of
              parameter a received (i.e. 10 and 11) because 
              value of parameter b is 2 now.

              Stack will windup from here.
              All the pending calls to function F() (right subtree's), in the 
              stack, will just return the value of parameter a.
</code></pre>
<p>Hence, the output you are getting:</p>
<pre><code>21 33 46 60 75
</code></pre>
","2024-11-17 14:52:17","2","Answer"
"79196419","79196131","","<h2>In short</h2>
<p>The precedence rules of C++ do not define if the left or the right term of your double recursion is called first.  In fact,  depending on the order chosen by the compiler,  you may obtain different results with the same code.</p>
<h2>In depth demonstration</h2>
<p>From your OP:</p>
<pre><code>if (a &lt;= 0 || b &lt;= 2) return a;
</code></pre>
<p>Above is the base case that helps keep the recursion from recursing forever.</p>
<pre><code>a = F(v, a - 1, b) + F(v, a, b);
v.push_back(a);
</code></pre>
<blockquote>
<p><em>assuming that left recursion is first executed</em></p>
</blockquote>
<p>The first term is call (per assumption). Initially b=7, a=15. Then since a is immediately decremented in the call and b is decremented inside F, both a and b decrease together. Since a-b &gt; 2, the base case will hit b == 2 before a &lt;=0.<br />
In the recursion, the first term is called again and again until b == 2. Only then is the 2nd term called and now a is not decremented in the call. Inside the 2nd F, the first F is called again (per your assumption). This time, b is still 2 as it is not decremented until after the base case. In your debugger, be sure to observe the Call Stack and watch the recursions unwind.</p>
<p>One tricky item. The arg <em>a</em> when calling the first <em>F</em> is one less than the arg <em>a</em> when calling the second <em>F</em>. Just keep point in mind.</p>
<p>I was curious how different the results might be. The variations are controlled by an added <code>a-1</code> flag, <code>flag_am1</code>.<br />
<code>flag_am1</code> = 1: Deterministic with the a-1 term evaluated first.<br />
<code>flag_am1</code> = 0: Deterministic with the a-1 term evaluated second.<br />
<code>flag_am1</code> = -1: Identical to the OP<br />
<code>flag_am1</code> = -2: Similar to the OP except that the order of the two functions are swapped.<br />
Note that for the <code>flag_am1</code> = -2 case,</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;

int F(std::vector&lt;int&gt;&amp; v, int a, int&amp; b, int flag_am1) {
   // std::cout &lt;&lt; flag_am1 &lt;&lt; &quot;: ENTER: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
   if (a &lt;= 0 || b &lt;= 2)
   {
      std::cout &lt;&lt; flag_am1 &lt;&lt; &quot;: EXIT:  a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
      return a;
   }
   b -= 1;
   if (flag_am1 == 1)
   {
      // std::cout &lt;&lt; &quot;1.0: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
      a = F(v, a - 1, b, flag_am1);
      std::cout &lt;&lt; &quot;1.1: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
      a += F(v, a, b, flag_am1);
      std::cout &lt;&lt; &quot;1.2: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
   }
   else if (flag_am1 == 0)
   {
      // std::cout &lt;&lt; &quot;0.0: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
      a = F(v, a, b, flag_am1);
      std::cout &lt;&lt; &quot;0.1: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
      a += F(v, a - 1, b, flag_am1);
      std::cout &lt;&lt; &quot;0.2: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
   }
   else if (flag_am1 == -1) // like the OP
   {
      std::cout &lt;&lt; &quot;-1.0: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
      a = F(v, a - 1, b, flag_am1) + F(v, a, b, flag_am1);
      std::cout &lt;&lt; &quot;-1.1: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
   }
   else{ // flag_am1 == -2
      std::cout &lt;&lt; &quot;-2.0: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
      a = F(v, a, b, flag_am1) + F(v, a - 1, b, flag_am1);
      std::cout &lt;&lt; &quot;-2.1: a=&quot; &lt;&lt; a &lt;&lt; &quot; b=&quot; &lt;&lt; b &lt;&lt; std::endl;
   }
   v.push_back(a);
   std::cout &lt;&lt; &quot; ** v.push_back(&quot; &lt;&lt; a &lt;&lt; &quot;)&quot; &lt;&lt; std::endl;
   return a;
}

int main() {
   std::vector&lt;int&gt; v{};
   int b = 7;

   v.resize(0);
   b = 7;
   std::cout &lt;&lt; &quot;\t *** a-1 flag is 1&quot; &lt;&lt; std::endl;
   F(v, 15, b, 1);
   for (int i = 0;i &lt; v.size();i++)
   {
      std::cout &lt;&lt; v[i] &lt;&lt; &quot; &quot;;
   }
   std::cout &lt;&lt; &quot;\n&quot; &lt;&lt; std::endl;

   v.resize(0);
   b = 7;
   std::cout &lt;&lt; &quot;\t *** a-1 flag is 0&quot; &lt;&lt; std::endl;
   F(v, 15, b, 0);
   for (int i = 0;i &lt; v.size();i++)
   {
      std::cout &lt;&lt; v[i] &lt;&lt; &quot; &quot;;
   }
   std::cout &lt;&lt; &quot;\n&quot; &lt;&lt; std::endl;

   v.resize(0);
   b = 7;
   std::cout &lt;&lt; &quot;\t *** a-1 flag is -1 (effectively like the OP)&quot; &lt;&lt; std::endl;
   F(v, 15, b, -1); // like original OP
   for (int i = 0;i &lt; v.size();i++)
   {
      std::cout &lt;&lt; v[i] &lt;&lt; &quot; &quot;;
   }
   std::cout &lt;&lt; &quot;\n&quot; &lt;&lt; std::endl;

   v.resize(0);
   b = 7;
   std::cout &lt;&lt; &quot;\t *** a-1 flag is -2 (similar to OP but two F terms reversed)&quot; &lt;&lt; std::endl;
   F(v, 15, b, -2); // like original OP except the a-1 term is 2nd
   for (int i = 0;i &lt; v.size();i++)
   {
      std::cout &lt;&lt; v[i] &lt;&lt; &quot; &quot;;
   }
   std::cout &lt;&lt; &quot;\n&quot; &lt;&lt; std::endl;
}
</code></pre>
<p><strong>The important thing to remember when looking at the four sets of outputs, for cases <code>flag_am1</code> = -1 or = -2, your results may vary.</strong></p>
<p>Output:</p>
<pre><code>         *** a-1 flag is 1
1: EXIT:  a=10 b=2
1.1: a=10 b=2
1: EXIT:  a=10 b=2
1.2: a=20 b=2
 ** v.push_back(20)
1.1: a=20 b=2
1: EXIT:  a=20 b=2
1.2: a=40 b=2
 ** v.push_back(40)
1.1: a=40 b=2
1: EXIT:  a=40 b=2
1.2: a=80 b=2
 ** v.push_back(80)
1.1: a=80 b=2
1: EXIT:  a=80 b=2
1.2: a=160 b=2
 ** v.push_back(160)
1.1: a=160 b=2
1: EXIT:  a=160 b=2
1.2: a=320 b=2
 ** v.push_back(320)
20 40 80 160 320 

         *** a-1 flag is 0
0: EXIT:  a=15 b=2
0.1: a=15 b=2
0: EXIT:  a=14 b=2
0.2: a=29 b=2
 ** v.push_back(29)
0.1: a=29 b=2
0: EXIT:  a=28 b=2
0.2: a=57 b=2
 ** v.push_back(57)
0.1: a=57 b=2
0: EXIT:  a=56 b=2
0.2: a=113 b=2
 ** v.push_back(113)
0.1: a=113 b=2
0: EXIT:  a=112 b=2
0.2: a=225 b=2
 ** v.push_back(225)
0.1: a=225 b=2
0: EXIT:  a=224 b=2
0.2: a=449 b=2
 ** v.push_back(449)
29 57 113 225 449

         *** a-1 flag is -1 (effectively like the OP)
-1.0: a=15 b=6
-1.0: a=14 b=5
-1.0: a=13 b=4
-1.0: a=12 b=3
-1.0: a=11 b=2
-1: EXIT:  a=10 b=2
-1: EXIT:  a=11 b=2
-1.1: a=21 b=2
 ** v.push_back(21)
-1: EXIT:  a=12 b=2
-1.1: a=33 b=2
 ** v.push_back(33)
-1: EXIT:  a=13 b=2
-1.1: a=46 b=2
 ** v.push_back(46)
-1: EXIT:  a=14 b=2
-1.1: a=60 b=2
 ** v.push_back(60)
-1: EXIT:  a=15 b=2
-1.1: a=75 b=2
 ** v.push_back(75)
21 33 46 60 75

         *** a-1 flag is -2 (similar to OP but two F terms reversed)
-2.0: a=15 b=6
-2.0: a=15 b=5
-2.0: a=15 b=4
-2.0: a=15 b=3
-2.0: a=15 b=2
-2: EXIT:  a=15 b=2
-2: EXIT:  a=14 b=2
-2.1: a=29 b=2
 ** v.push_back(29)
-2: EXIT:  a=14 b=2
-2.1: a=43 b=2
 ** v.push_back(43)
-2: EXIT:  a=14 b=2
-2.1: a=57 b=2
 ** v.push_back(57)
-2: EXIT:  a=14 b=2
-2.1: a=71 b=2
 ** v.push_back(71)
-2: EXIT:  a=14 b=2
-2.1: a=85 b=2
 ** v.push_back(85)
29 43 57 71 85
</code></pre>
","2024-11-17 02:52:13","2","Answer"
"79196131","","Double recursion with vectors","<p>I'm trying to figure out how double recursions work in the following example:</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;vector&gt;

int F(std::vector&lt;int&gt; &amp;v, int a, int &amp;b) {
    if (a &lt;= 0 || b &lt;= 2) return a;
    b -= 1;
    a = F(v, a - 1, b) + F(v, a, b);
    v.push_back(a);
    return a;
}
    
int main(){
   std::vector&lt;int&gt; v;
   int b = 7;
   F(v, 15, b);
   for(int i=0;i&lt;v.size();i++)
       std::cout&lt;&lt;v[i]&lt;&lt;&quot; &quot;;
}
</code></pre>
<p>OUTPUT:</p>
<blockquote>
<p>21 33 46 60 75</p>
</blockquote>
<p>I understand how 21 got pushed into the vector. But after that, I don't understand which recursion (left or right) is then called, and how to follow that until the correct output.</p>
<p>Could you please explain to me, step by step, how this particular program is executed?</p>
","2024-11-16 22:03:51","1","Question"
"79195798","79195637","","<p>The problem with your code is that the value of x returned from each iteration is not stored and the rules of variable scope in R result in the x in each call to recur being a different variable. That is, each recur() has its own x and incrementing that x does not affect the value of the x in the recur() that was called previously. The first recur() calls the other recurs, but it has already incremented its x and it is unaware that the other recurs increment their own x. When the final return is executed, the x of that recur is still 1 and that is what you see.
Compare these two versions of recur, where the second one stores the returned value.</p>
<pre class=""lang-r prettyprint-override""><code>recur &lt;- function(x, y) {
  # 1st code block
  if (x &lt; y) {
    print('before') # 1st print statement to check control flow
    x &lt;- x + 1
    recur(x, y)
  }
  
  # 2nd code block
  print(paste('return block', 'x= ',x)) # 2nd print statement to check control flow
  print('here again') # 3rd print statement to check control flow
  return (c(x, y))
}

recur(0,5)
#&gt; [1] &quot;before&quot;
#&gt; [1] &quot;before&quot;
#&gt; [1] &quot;before&quot;
#&gt; [1] &quot;before&quot;
#&gt; [1] &quot;before&quot;
#&gt; [1] &quot;return block x=  5&quot;
#&gt; [1] &quot;here again&quot;
#&gt; [1] &quot;return block x=  5&quot;
#&gt; [1] &quot;here again&quot;
#&gt; [1] &quot;return block x=  4&quot;
#&gt; [1] &quot;here again&quot;
#&gt; [1] &quot;return block x=  3&quot;
#&gt; [1] &quot;here again&quot;
#&gt; [1] &quot;return block x=  2&quot;
#&gt; [1] &quot;here again&quot;
#&gt; [1] &quot;return block x=  1&quot;
#&gt; [1] &quot;here again&quot;
#&gt; [1] 1 5

recur2 &lt;- function(x, y) {
  # 1st code block
  if (x &lt; y) {
    print(paste('before',x)) # 1st print statement to check control flow
    x &lt;- x + 1
    x &lt;- recur2(x, y)
  }
  
  # 2nd code block
  print(paste('return block',x)) # 2nd print statement to check control flow
  return (x)
}
recur2(0,5)
#&gt; [1] &quot;before 0&quot;
#&gt; [1] &quot;before 1&quot;
#&gt; [1] &quot;before 2&quot;
#&gt; [1] &quot;before 3&quot;
#&gt; [1] &quot;before 4&quot;
#&gt; [1] &quot;return block 5&quot;
#&gt; [1] &quot;return block 5&quot;
#&gt; [1] &quot;return block 5&quot;
#&gt; [1] &quot;return block 5&quot;
#&gt; [1] &quot;return block 5&quot;
#&gt; [1] &quot;return block 5&quot;
#&gt; [1] 5
</code></pre>
<p><sup>Created on 2024-11-16 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.1</a></sup></p>
","2024-11-16 18:15:53","0","Answer"
"79195637","","Why does my R recursive function work this way?","<p>Read recently that for a function programming language like R, recursion is preferred to iteration. I tried implementing this principle with a function called <code>recur</code> whose sole aim is to take 2 arguments <code>(x, y)</code>, increase <code>x</code> until it gets to <code>y</code>, and return a vector <code>x y</code>.</p>
<p>Using a few <em>print statements</em> to check the flow, I found that, while the program works without errors and <code>x</code> is indeed increased to the value of <code>y</code>, the return statement at the end produces a different output. Here's the code and the corresponding output:</p>
<pre><code>recur &lt;- function(x, y) {
    # 1st code block
    print(&quot;start&quot;)
    if (x &lt; y) {
       print('before') # 1st print statement to check control flow
       x &lt;- x + 1
       recur(x, y)
    }

    # 2nd code block
    print('return block') # 2nd print statement to check control flow
    print('here again') # 3rd print statement to check control flow
    return (c(x, y))
}
</code></pre>
<p>OUTPUT</p>
<pre><code>&gt; recur(0, 5)
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 1
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 2
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 3
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 4
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 5
[1] &quot;start&quot;
[1] &quot;return block&quot;
[1] &quot;here again&quot;
[1] &quot;return block&quot;
[1] &quot;here again&quot;
[1] &quot;return block&quot;
[1] &quot;here again&quot;
[1] &quot;return block&quot;
[1] &quot;here again&quot;
[1] &quot;return block&quot;
[1] &quot;here again&quot;
[1] &quot;return block&quot;
[1] &quot;here again&quot;
[1] 1 5
</code></pre>
<p>DESIRED OUTPUT</p>
<pre><code>&gt; recur(0, 5)
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 1
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 2
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 3
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 4
[1] &quot;start&quot;
[1] &quot;before&quot;
[1] 5
[1] &quot;start&quot;
[1] &quot;return block&quot;
[1] &quot;here again&quot;
[1] 5 5
</code></pre>
<p>Why did it iterate over the second block of code even if there are no iterative statements in that block? And given the input argument <code>0, 5</code>, why is it returning <code>1 5</code> instead of <code>5 5</code>?</p>
","2024-11-16 16:53:57","1","Question"
"79189115","79188788","","<p>Here is a simple base R implementation, see my comment for details.</p>
<p>I will leave it to you to work out a version which works well with <code>{dplyr}</code> syntax. The data masking is different. &quot;<code>dplyr</code>-style&quot; is close to <code>subset()</code>.
If you need assistance, do not hesitate to comment.</p>
<p>Data</p>
<pre class=""lang-r prettyprint-override""><code>data3 = data.frame(
  customer = c(1,2,3),
  frequency = c(30,32,36),
  recency = c(72,71,74),
  TX = c(74,72,77),
  monetary_value = c(35.654,47.172187,30.603611))
</code></pre>
<p>Implementation</p>
<p>of <code>log_div_mean()</code> (do you have a reference for the calculation?)</p>
<pre class=""lang-r prettyprint-override""><code>log_div_mean = \(.data, # data 
                 .x, .y, .z, # columns of interest
                 a = .6866195, b = 2.959643,  # default values 
                 r = .2352725, alpha = 4.289764 # which can be overwritten
                 ) {
  .u = .data[[.x]]
  r1 = r + .u  
  r2 = log( (alpha + .data[[.y]]) / (alpha + .data[[.z]]) )
  r3 = log(a / (b + max(c(.u, 1)) - 1)) # typo in your max?
  rr = r1 * r2 + r3
  1 / (1 + exp(rr))
}
</code></pre>
<p>where we use the variable naming routine present in the <code>{tidyverse}.</code></p>
<p>Application</p>
<pre class=""lang-r prettyprint-override""><code>&gt; log_div_mean(.data = data3, .x = &quot;frequency&quot;, .y = &quot;TX&quot;, .z = &quot;recency&quot;)
[1] 0.9619502 0.9730688 0.9340070
</code></pre>
<p>Correct results?</p>
","2024-11-14 14:12:27","3","Answer"
"79188788","","dplyr -- different results using custom function","<p>I'm trying to find out why these results of <code>exp_purch</code> variable differ from each other.
This seems to work.</p>
<pre><code>library(dplyr)

data3 &lt;- tibble(
  customer = c(1,2,3),
  frequency = c(30,32,36),
  recency = c(72,71,74),
  T = c(74,72,77),
  monetary_value = c(35.654,47.172187,30.603611)
)

a &lt;- 0.6866195
b &lt;- 2.959643
r &lt;- 0.2352725
alpha &lt;- 4.289764

log_div_mean &lt;- function(customer,dt) {
  data &lt;- dt
  log_div_ &lt;- (r + data$frequency[customer]) * 
    log((alpha + data$T[customer]) / (alpha + data$recency[customer])) +
    log(a / (b + max(data$frequency[customer], 1) - 1))
  xd &lt;- 1/(1+exp(-(-log_div_)))
  return(xd)
}

data3 %&gt;% mutate(exp_purch = log_div_mean(customer,data3))
</code></pre>
<p>When I do it outside <code>dplyr</code> the results differ, however.</p>
<pre><code>customer &lt;- 2
log_div_ &lt;- (r + data3$frequency[customer]) * 
  log((alpha + data3$T[customer]) / (alpha + data3$recency[customer])) +
  log(a / (b + max(data3$frequency[customer], 1) - 1))
xd &lt;- 1/(1+exp(-(-log_div_)))
xd
</code></pre>
<p>Looks like the <code>dplyr</code> code is using the last customer id for all three rows.</p>
","2024-11-14 12:44:33","0","Question"
"79188397","79188140","","<p>First of all you need some manner of guarantee from the system that you can execute code from stack memory space, which is not something I'd assume.</p>
<p>If you know that part is OK, then illegal instruction means that the memory contains gibberish. Which is likely caused by using the wrong types all over the code.</p>
<p>You need apply various bug fixes and get rid of all dangerous gcc extensions... You didn't include string.h. You invoke UB with the pointer subtractions. You assign between void* and function pointers which is invalid C. And so on.</p>
<p>Less bad code would be something like this:</p>
<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdint.h&gt;
#include &lt;inttypes.h&gt;  // to print uint64_t
#include &lt;string.h&gt;    // to give memcpy a chance to succeed at all

// This is raw binary, not chunks of uint64_t:
extern uint8_t __start_myfnsection[];
extern uint8_t __stop_myfnsection[];

__attribute__((noinline, section(&quot;myfnsection&quot;))) void myfn() {
    static int i;
    i++;
    printf(&quot;I love lemons!^^.\n&quot;);
    printf(&quot;i=%d\n&quot;, i);
    return;
}

// dirty type punning but better than wild &amp; crazy pointer casts/gcc extensions:
typedef union
{
  void* vptr;
  void (*fptr)();
} ptr_t;

// some bare minimum of assumptions (we still know nothing about alignment though):
static_assert(sizeof(void*) == sizeof(void(*)(void)), &quot;Pointers are too exotic...&quot;);

int main () {
    // Test the function.
    myfn();

    // Find out and print the size of my function.
    // use uintptr_t since pointer arithmetic on two unrelated sections is UB
    uint64_t myfn_length = (uintptr_t)__stop_myfnsection - (uintptr_t)__start_myfnsection;
    printf(&quot;Length of myfn() function is: %&quot; PRIu64 &quot;\n&quot;, myfn_length);

    ptr_t memory;
    ptr_t old_func = { .fptr = myfn };

    // Allocate on-stack memory, and copy my function to it
    memory.vptr = __builtin_alloca(myfn_length);
    memcpy(memory.vptr, old_func.vptr, myfn_length);

    // Create a pointer to the copied function.
    void (*myfn_copy)() = memory.fptr;

    // Attempt to execute it.
    myfn_copy(); // SIGSEGV here if you can't execute code from the stack

    return 0;
}
</code></pre>
<p>This would probably work on various low-end von Neumann microcontrollers but probably not on x86 Linux etc.</p>
","2024-11-14 10:42:44","4","Answer"
"79188140","","Why am I unable to copy and execute a function in C?","<p>I tried to write a C program that would copy a function to other memory location, and then execute it as a function pointer.
But I'm facing issues.
This is my code:</p>
<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdint.h&gt;

extern uint64_t __start_myfnsection[];
extern uint64_t __stop_myfnsection[];

// I create a simple function, which will be placed in a separate binary section
__attribute__((noinline, section(&quot;myfnsection&quot;))) void myfn() {
    static int i;
    i++;
    printf(&quot;I love lemons!^^.\n&quot;);
    printf(&quot;i=%d\n&quot;, i);
    return;
}

int main () {
    // Test the function.
    myfn();

    // Find out and print the size of my function.
    uint64_t myfn_length = (__stop_myfnsection - __start_myfnsection);
    printf(&quot;Length of myfn() function is: %lu\n&quot;, myfn_length);

    // Allocate on-stack memory, and copy my function to it
    void* memory = __builtin_alloca(myfn_length);
    memcpy(memory, &amp;myfn, myfn_length);

    // Create a pointer to the copied function.
    void (*myfn_copy)() = memory;

    // Attempt to execute it.
    myfn_copy();

    return 0;
}
</code></pre>
<p>I compile with executable stack:</p>
<pre class=""lang-bash prettyprint-override""><code>$ gcc -pie -z execstack -fno-stack-protector -g test.c
</code></pre>
<p>But the program crashes on start:</p>
<pre><code>$ ./a.out
I love lemons!^^.
i=1
Length of myfn() function is: 9
Illegal instruction
</code></pre>
<p>With gdb:</p>
<pre class=""lang-bash prettyprint-override""><code># gdb ./a.out
GNU gdb (GDB) 14.2
Reading symbols from ./a.out...
(gdb) run
Starting program: /home/mika/a.out
[Thread debugging using libthread_db enabled]
Using host libthread_db library &quot;/usr/lib/libthread_db.so&quot;.
I love lemons!^^.
i=1
Length of myfn() function is: 9

Program received signal SIGILL, Illegal instruction.
0x0000007ffffffb10 in ?? ()
(gdb)
(gdb) bt
#0  0x0000007ffffffb10 in ?? ()
#1  0x0000005555556748 in _start_main ()
#2  0x0000000000000000 in ?? ()
Backtrace stopped: previous frame identical to this frame (corrupt stack?)
(gdb)
</code></pre>
<p>This system is arm64, if that's relevant.</p>
<p>What am I missing, or am trying to do something impossible? Thanks.</p>
","2024-11-14 09:51:47","2","Question"
"79182026","79181996","","<p>There are a couple of methods that you can use:</p>
<ul>
<li>First one as @david and @yarin_7 has mentioned you can stop calling the Area() function. Just because you declare it you don't have to call it for the function to work.</li>
<li>Secondly, you could do the following:</li>
</ul>
<pre class=""lang-py prettyprint-override""><code>def Area():
    # body of the area function
def mainProgram():
    # body of the mainProgram
if __name__ == &quot;__main__&quot;:
    mainProgram()
    Area()
</code></pre>
<blockquote>
<p>These are called dunders by the way <em>just in case you wanna check them out</em></p>
</blockquote>
","2024-11-12 16:45:48","0","Answer"
"79181996","","How can I get Python to start executing from a specific line of code when the code is first run?","<p>I've written the following python code:</p>
<pre><code>def Area():

   print(&quot;Area() function has been called&quot;)
   return 

Area()       &lt;----- This how I understood the definition of a function is to be done. I was not aware of this.

def mainProgram() :

   userSelection = -1
   while userSelection != 7 : 

   print (&quot;CALCULATIONS MENU&quot;)
   print (&quot;&quot;)
   print (&quot;1) AREA (SQUARE)&quot;)
   print (&quot;2) AREA (RECTANGLE)&quot;)
   print (&quot;3) AREA (CIRCLE)&quot;)
   print (&quot;4) PERIMITER (SQUARE)&quot;)
   print (&quot;5) PERIMITER (RECTANGLE)&quot;)
   print (&quot;6) PERIMITER (CIRCLE)&quot;)
   print (&quot;7) EXIT&quot;)
   print (&quot;&quot;)

   userSelection = int(input (&quot;INPUT MENU CHOICE (1,2,3,4,5,6 OR 7)? &quot;))

   if userSelection == 1 :
      Area()

   elif userSelection == 7:
     exit()

mainProgram()
</code></pre>
<p>And the output when the above script is executed in python is as follows:</p>
<pre><code>Area() function has been called &lt;---- This line gets outputed
CALCULATIONS MENU

1) AREA (SQUARE)
2) AREA (RECTANGLE)
3) AREA (CIRCLE)
4) PERIMITER (SQUARE)
5) PERIMITER (RECTANGLE)
6) PERIMITER (CIRCLE)
7) EXIT

INPUT MENU CHOICE (1,2,3,4,5,6 OR 7)? 
</code></pre>
<p>The program works fine but the problem is the following line gets executed before the mainProgram() gets executed. How can I change the code such that the body of the mainProgram() function gets executed first when the script is first run.</p>
<pre><code>print(&quot;Area() function has been called&quot;)
</code></pre>
","2024-11-12 16:36:25","-5","Question"
"79181364","79181355","","<p>Well, <code>lambda x: '|'.join</code> is a function that takes a parameter <code>x</code>, ignores it and returns a function/method.</p>
<p>What you would need is to call the function with your parameter:</p>
<pre><code>test_series.map(lambda x: '|'.join(x))
</code></pre>
<p>Since this is a useless use of <code>lambda</code>, it is much better to go with:</p>
<pre><code>test_series.map('|'.join)
</code></pre>
<blockquote>
<p>I guess it is related to the fact <code>type(lambda x: '|'.join)</code> gives function, while <code>type('|'.join)</code> gives  builtin_function_or_method</p>
</blockquote>
<p>Not quite, you would need to compare:</p>
<pre><code>type((lambda x: '|'.join)(['a', 'b']))
# builtin_function_or_method

type('|'.join(['a', 'b']))
# str
</code></pre>
","2024-11-12 13:39:51","1","Answer"
"79181355","","Cannot understand why pd.Series.map fails with a lambda function","<p>Say I have a panda series</p>
<pre><code>import pandas as pd
s = [&quot;A&quot;, &quot;b&quot;], [&quot;c&quot;, &quot;e&quot;]
test_series = pd.Series(data=s)
</code></pre>
<pre><code>0    [A, b]
1    [c, e]
dtype: object
</code></pre>
<p>and then do</p>
<pre><code>test_series.map('|'.join)
</code></pre>
<p>and output</p>
<pre><code>0    A|b
1    c|e
dtype: object
</code></pre>
<p>but when I try using a lambda function (wrongly assuming it would yield the same output)</p>
<pre><code>test_series.map(lambda x: '|'.join)
</code></pre>
<p>get output</p>
<pre><code>0    &lt;built-in method join of str object at 0x10bc4...
1    &lt;built-in method join of str object at 0x10bc4...
dtype: object
</code></pre>
<p>I guess it is related to the fact
<code>type(lambda x: '|'.join)</code>
gives <code>function</code>, while</p>
<p><code>type('|'.join)</code></p>
<p>gives <code> builtin_function_or_method</code></p>
<p>but I do not understand the details.</p>
","2024-11-12 13:37:30","1","Question"
"79180553","79180360","","<pre class=""lang-golang prettyprint-override""><code>internalNode := &amp;HuffNode{tree1.Freq() + tree2.Freq(), tree1, tree2 
heap.Push(&amp;trees, internalNode)
</code></pre>
<p>This is an object of type <code>*HuffNode</code>, not <code>HuffNode</code>.</p>
<p><code>GenerateCodes</code> switches on <code>HuffNode</code>, not <code>*HuffNode</code> and since none of the types match, returns immediately.</p>
<p>But why does <code>&amp;HuffNode</code> satisfy the <code>HuffTree</code> interface? From the Go spec, <a href=""https://go.dev/ref/spec#Method_sets"" rel=""nofollow noreferrer"">https://go.dev/ref/spec#Method_sets</a></p>
<blockquote>
<p>The method set of a type determines the methods that can be called on an operand of that type.</p>
<ul>
<li>The method set of a defined type T consists of all methods declared with receiver type T.</li>
<li>The method set of a pointer to a defined type T (where T is neither a pointer nor an interface) is the set of all methods declared with receiver *T or T.</li>
</ul>
</blockquote>
","2024-11-12 09:44:38","1","Answer"
"79180360","","Empty Encoder Map but the Huffman tree is generating","<p>So I am making a data compression tool using Huffman Encoding and decoding, I am at the stage where I have built the Huffman Tree and it is a success but I am feeding that tree in a GenerateCodes function which should return a Map with the char and their prefix codes. Unfortunately is has failed to do so, and me too in finding the issue.</p>
<pre class=""lang-golang prettyprint-override""><code>package main

import(
 &quot;bufio&quot;
 &quot;fmt&quot;
 &quot;os&quot;
 &quot;log&quot;
 &quot;io&quot;
 &quot;container/heap&quot;
)

type HuffTree interface {
    Freq() int
}

type LeafNode struct {
    char rune 
    freq int
}

type HuffNode struct {
    freq int
    left_child, right_child HuffTree
}

func (self LeafNode) Freq() int{
    return self.freq
}

func (self HuffNode) Freq() int{
    return self.freq
}

type PriorityQueue []HuffTree

func (pq PriorityQueue) Len() int {return len(pq)}

// This is a min heap: item with lowest priority comes first
// So when we call Pop() on pq we will get the lowest frequency character
func (pq PriorityQueue) Less(i, j int) bool {
    return pq[i].Freq() &lt; pq[j].Freq()
}

func (pq PriorityQueue) Swap(i, j int) {
    pq[i], pq[j] = pq[j], pq[i]
}

func (pq *PriorityQueue) Push(x interface{}) {
    *pq = append(*pq, x.(HuffTree))
}

func (pq *PriorityQueue) Pop() (x interface{}) {
    n := len(*pq)
    x = (*pq)[n-1]
    *pq = (*pq)[:n-1]
    return 
}

func BuildTree(m map[rune]int) HuffTree {
    trees := make(PriorityQueue, 0)
    
    for char, freq := range m {
        trees = append(trees, LeafNode{char, freq})
    }

    heap.Init(&amp;trees)
    
    fmt.Printf(&quot;Initial Priority Queue:\n&quot;)
    for _, tree := range trees {
        switch t := tree.(type) {
        case LeafNode: 
            fmt.Printf(&quot;Leaf:%c Freq: %d\n&quot;, t.char, t.freq)
        }
    }

    for trees.Len()&gt;1{
        tree1 := heap.Pop(&amp;trees).(HuffTree)
        tree2 := heap.Pop(&amp;trees).(HuffTree)
        internalNode := &amp;HuffNode{tree1.Freq() + tree2.Freq(), tree1, tree2 }
        heap.Push(&amp;trees, internalNode)
    }

    return heap.Pop(&amp;trees).(HuffTree)
}

func CountOccurrences(file io.Reader) map[rune]int {
    m := make(map[rune]int)

    scanner := bufio.NewScanner(file)
    for scanner.Scan() {
        for _,char := range(scanner.Text()){
                m[char] += 1
        }
    }

    if err := scanner.Err(); err != nil {
        log.Fatal(err)
    }

    return m
}

func GenerateCodes(tree HuffTree, prefix []byte, encoder map[rune]string) map[rune]string{
    switch t := tree.(type) {
    case LeafNode:
        encoder[t.char] = string(prefix)
    case HuffNode:
        GenerateCodes(t.left_child, append(prefix, '0'), encoder)
        prefix = prefix[:len(prefix)-1]

        GenerateCodes(t.right_child, append(prefix, '1'), encoder)
        prefix = prefix[:len(prefix)-1]
    }
    return encoder
}

func main(){
    args := os.Args
    if len(args) == 1 {
        fmt.Println(&quot;Provide argument&quot;)
    }

    f, err := os.Open(args[1])
    if err != nil {
        log.Fatal(err)
    }

    defer f.Close()

    frequencyMap := CountOccurrences(f)

    fmt.Printf(&quot;Frequency Map\n&quot;)
    for char, freq := range frequencyMap {
        fmt.Printf(&quot;%c: %d\n&quot;, char, freq)
    }

    huffManTree := BuildTree(frequencyMap)
    fmt.Printf(&quot;Encoder Map\n&quot;)
    encoderMap := GenerateCodes(huffManTree, []byte{}, make(map[rune]string))
    for char, prefixCode := range encoderMap {
        fmt.Printf(&quot;char: %c, value: %s\n&quot;, char, prefixCode)
    }
}


</code></pre>
<p>Frequency Map<br>
A: 3<br>
b: 2<br>
c: 1<br>
a: 5<br></p>
<p>Huffman Tree:<br>
Node (Freq: 11)<br>
----Leaf: a (Freq: 5)<br>
------Node (Freq: 6)<br>
--------Leaf: A (Freq: 3)<br>
----Node (Freq: 3)<br>
------Leaf: c (Freq: 1)<br>
------Leaf: b (Freq: 2)<br>
Encoder Map<br>
Nothing....</p>
","2024-11-12 08:43:18","1","Question"
"79178369","79173660","","<blockquote>
<p>Is the only solution for functions with different requirements versions is to separate them into different function apps ?</p>
</blockquote>
<p>Yes, when multiple functions are hosted in the same Azure Function App, they share the same execution environment, it can limit different functions need different package versions, <code>particularly since Python doesn't support isolated process execution in Azure Functions</code>.</p>
<p>If there are functions called function_a and function_b
they are have different packages need to run the function.
<strong>function_a:</strong></p>
<pre><code>import azure.functions as func
import pandas as pd
from azure.functions import HttpRequest, HttpResponse
from azure.functions.decorators import FunctionApp, http_trigger

app = FunctionApp()

@app.function_name(name=&quot;FunctionB&quot;)
@app.route(route=&quot;FunctionB&quot;)
def main(req: HttpRequest) -&gt; HttpResponse:
    data = {'Column1': [4, 5, 6]}
    df = pd.DataFrame(data)
    return HttpResponse(f&quot;Dataframe in Function B:\n{df}&quot;)

</code></pre>
<p><strong>requirements.txt:</strong></p>
<pre><code>pandas==1.1.5
azure-functions
</code></pre>
<p><strong>function_b:</strong></p>
<pre><code>import azure.functions as func
import pandas as pd
from azure.functions import HttpRequest, HttpResponse
from azure.functions.decorators import FunctionApp, http_trigger

app = FunctionApp()

@app.function_name(name=&quot;FunctionB&quot;)
@app.route(route=&quot;FunctionB&quot;)
def main(req: HttpRequest) -&gt; HttpResponse:
    data = {'Column1': [4, 5, 6]}
    df = pd.DataFrame(data)
    return HttpResponse(f&quot;Dataframe in Function B:\n{df}&quot;)
</code></pre>
<p><strong>requirements.txt:</strong></p>
<pre><code>pandas==1.3.3
azure-functions
</code></pre>
<p>To install requirements by using command <code>pip install -r requirements.txt</code>.</p>
<p>Deploy each function into separate function apps into azure portal.</p>
<p>if i deploy both functions in single function app, it leads to package versions mismatch.</p>
<p>Each Function App will independently handle its dependencies, there is no conflict between different versions of <code>pandas</code>.</p>
","2024-11-11 16:15:27","0","Answer"
"79178149","79178135","","<p>To call a Cubit function from a <code>void</code> function in Flutter Pass BuildContext to your function</p>
<pre><code>void _onPressed(BuildContext context) {
  context.read&lt;MyCubit&gt;().myFunction();
}
</code></pre>
<p>Call the function when needed, like in an onPressed event:</p>
<pre><code>ElevatedButton(
  onPressed: () =&gt; _onPressed(context),
  child: Text('Call Cubit'),
)
</code></pre>
","2024-11-11 15:02:11","0","Answer"
"79178135","","How to execute cubit function from a void function of a class in Flutter","<p>how you are calling a cubit function from a void function of stateless/ful widget. I assume in an ideal world all functions should be placed in cubits but similar to <code>context.read&lt;MyCubit&gt;().myfunction();</code> which i can use in onpressed of a Button Widget i need a way to execute the cubit function from a void function. Is that possible?</p>
","2024-11-11 14:59:36","0","Question"
"79175833","79175806","","<p><a href=""https://en.cppreference.com/w/cpp/utility/functional/function"" rel=""noreferrer""><code>std::function</code></a> and a <a href=""https://en.cppreference.com/w/cpp/language/lambda"" rel=""noreferrer"">lambda expression</a> will basically let you have this syntax</p>
<pre><code>std::function&lt;void()&gt; fp;

fp = [](){ console.log(&quot;Hello from inline function declaration!&quot;); };
</code></pre>
<p><code>std::function</code> does use type erasure so there is an overhead cost over a raw function pointer but this will let you use stateful functors as well.</p>
","2024-11-10 21:13:24","5","Answer"
"79175832","79175806","","<p>A lambda without state can be converted to a function pointer. You can even <a href=""https://stackoverflow.com/questions/17822131/resolving-ambiguous-overload-on-function-pointer-and-stdfunction-for-a-lambda"">force the conversion by using the unary <code>+</code> operator</a>, as in</p>
<pre class=""lang-cpp prettyprint-override""><code>auto lambda = []() { do_something(); };
auto function_ptr = +[]() { do_something(); };
</code></pre>
<p>but normal implicit casting also works.</p>
<p>So this is roughly what you want.</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;iostream&gt;

int main()
{
    void (*fp)() = nullptr;
    fp = []() {
        std::clog &lt;&lt; &quot;Hello from inline function declaration!\n&quot;;
    };
    fp();
}
</code></pre>
","2024-11-10 21:12:51","7","Answer"
"79175806","","Any way to use a function pointer without declaring function elsewhere","<p>I want to declare a function while setting the value of a function pointer.</p>
<p>A TypeScript equivalent:</p>
<pre class=""lang-none prettyprint-override""><code>let fp: () =&gt; void;

fp = () =&gt; {
  console.log(&quot;Hello from inline function declaration!&quot;);
};
</code></pre>
<p>I've tried looking online but I can't seem to find anything that is related to what I'm looking for. I don't think this is possible but if it was it would be very helpful for a project I'm working on. I know this may be a stupid question but I really would like to know the answer.</p>
","2024-11-10 21:01:05","1","Question"
"79173660","","Python Azure functions in the same Function app require different packages versions","<p>We have a project that requires multiple azure functions. The first plan was to host all the functions on the same function app using the consumption plan. From the Microsoft documentation I understood that functions on the same function app share the same execution process which mean they need to use the same packages version, am I right ?</p>
<p>I have seen an option for .NET functions to run as isolated functions but this is not possible for Python runtime.</p>
<p>Is the only solution for functions with different requirements versions is to separate them into different function apps ?</p>
<p>I am wondering also, as functions in the same function app share the same execution process, if it is worth hosting more than one function in the same app. The reason is that, as the same process is used, once a function is trigerred, all other functions code is compiled and stored in memory even if they weren't triggered, this makes cost higher than if the functions were splitted into different apps.</p>
<p>Your feedbacks would be very appreciated</p>
","2024-11-09 20:38:38","0","Question"
"79173578","79172471","","<blockquote>
<p>If later we add a third column to the table or remove one of the columns, my function does not get updated, and I have to alter my function again.</p>
</blockquote>
<p>Yup.</p>
<blockquote>
<p>How can I update all functions at once, or is there a way for the functions related to that table to be updated after changes are made to the table?</p>
</blockquote>
<p>You'll need to bring your own tooling for code-generation, ideally within an SSDT (<code>*.sqlproj</code>) project, because things like that should be under source-control, and relatedly: no-one should be making any ad-hoc edits to database objects (like procedures, functions, views, etc) in a production/live database, and finally because by using SSDT (or similar tooling like SQLAlchemy) means you can use things like T4 to automatically generate the  <code>SELECT &lt;column-list&gt;</code> (for views/functions/procdures) directly from your <code>CREATE TABLE</code> definitions.</p>
<p>...but none of this is automatic nor managed for you by MSSQL Server. When you use SSDT your changes get applied during a separate Publish process or via the Schema Compare feature.</p>
<hr />
<p>In your case, where you want a <code>FUNCTION</code> to be kept in-sync with a <code>TABLE</code>, then you'd want something like this:</p>
<p><strong>MyFunction.sql.tt</strong> (this is a T4 Template)</p>
<p>In your T4 Template's <code>&lt;#+</code> (template <code>class</code> defintiion block) you'd use EnvDTE <a href=""https://learn.microsoft.com/en-us/sql/tools/sql-database-projects/concepts/code-analysis-extensibility?view=sql-server-ver16"" rel=""nofollow noreferrer"">and/or <code>SqlCodeAnalysisRule</code></a> to get your <code>CREATE TABLE</code> definitions and re-generate the function definition:</p>
<p><a href=""https://www.sqlservercentral.com/blogs/t4-support-in-ssdt"" rel=""nofollow noreferrer"">Here's an article from a while ago, but I think is still relevant, which uses EnvDTE to get <code>CREATE TABLE</code> definitions</a>, which I've used as the basis for the T4 template below. <a href=""https://stackoverflow.com/questions/40747082/finding-data-type-information-for-certain-objects-in-dacfx-api"">See also this QA</a>.</p>
<p><strong>Note:</strong> I haven't updated the Visual Studio COM interop references from the 2014 article, so they'll be out-of-date for VS2022 today, but it's trivial to fix that and so is left-up as an exercise for the reader:</p>
<pre><code>&lt;#@ template language=&quot;C#&quot; debug=&quot;true&quot; hostspecific=&quot;true&quot; #&gt;
&lt;#@ assembly name=&quot;Microsoft.VisualStudio.Shell.Interop.8.0&quot; #&gt;
&lt;#@ assembly name=&quot;EnvDTE&quot; #&gt;
&lt;#@ assembly name=&quot;EnvDTE80&quot; #&gt;
&lt;#@ assembly name=&quot;VSLangProj&quot; #&gt;
&lt;#@ assembly name=&quot;C:\Program Files (x86)\Microsoft SQL Server\120\SDK\Assemblies\Microsoft.SqlServer.TransactSql.ScriptDom.dll&quot; #&gt;
&lt;#@ assembly name=&quot;C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\Extensions\Microsoft\SQLDB\DAC\120\Microsoft.SqlServer.Dac.dll&quot; #&gt;
&lt;#@ assembly name=&quot;C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE\Extensions\Microsoft\SQLDB\DAC\120\Microsoft.SqlServer.Dac.Extensions.dll&quot; #&gt;
&lt;#@ import namespace=&quot;Microsoft.VisualStudio.Shell.Interop&quot; #&gt;
&lt;#@ import namespace=&quot;EnvDTE&quot; #&gt;
&lt;#@ import namespace=&quot;EnvDTE80&quot; #&gt;
&lt;#@ import namespace=&quot;Microsoft.VisualStudio.TextTemplating&quot; #&gt;
&lt;#@ import namespace=&quot;Microsoft.SqlServer.Dac&quot; #&gt;
&lt;#@ import namespace=&quot;Microsoft.SqlServer.Dac.Model&quot; #&gt;
&lt;#@ import namespace=&quot;System.IO&quot; #&gt;
&lt;#@ import namespace=&quot;System.Collections.Generic&quot; #&gt;
&lt;#@ output extension=&quot;.sql&quot; #&gt;
&lt;#
    using TSqlModel model = this.CreateTSqlModel();

    TSqlTable myTable = RequireTable( model, &quot;MyTable&quot; );
 
#&gt;

CREATE FUNCTION dbo.MyFunction() RETURNS TABLE
    WITH SCHEMABINDING
AS RETURN

SELECT
&lt;#    foreach( Column c in myTable.Columns ) { /* See https://learn.microsoft.com/en-us/dotnet/api/microsoft.sqlserver.dac.model.column?view=sql-dacfx-162 */ #&gt;
    t.&lt;#= c.Name #&gt;,
&lt;#    } // foreach Column #&gt;
FROM
    dbo.MyTable;

END;

&lt;#+
 
    public TSqlModel CreateTSqlModel()
    {
        IServiceProvider hostServiceProvider = (IServiceProvider)this.Host;
        DTE              dte                 = (DTE)hostServiceProvider.GetService( typeof(DTE) );

        TSqlModel model = new TSqlModel(SqlServerVersion.Sql110, new TSqlModelOptions { });

        IReadOnlyList&lt;ProjectItem&gt; tableItems = dte.Solution.Cast&lt;Project&gt;()
            .SelectMany( p =&gt; p.ProjectItems )
            .Where( i =&gt; i.Name.EndsWith( &quot;.sql&quot;, StringComparison.OrdinalIgnoreCase ) )
            .Where( i =&gt; i.FileCount == 1 &amp;&amp; i.FileNames[0].Contains( &quot;Tables&quot; ) ) )
            .ToList();

        foreach( ProjectItem tableItem in tableItems )
        {
            String sqlText = File.ReadAllText( tableItem.FileNames[0] );
            if( sqlText.Contains( &quot;CREATE TABLE&quot; ) )
            {
                model.AddObjects( sqlText );
            }
        }

        return model;
    }

    public static TSqlTable RequireTable( TSqlModel model, String tableName )
    {
        return model.GetObjects&lt;TSqlTable&gt;( DacQueryScopes.All, ModelSchema.Table )
            .Cast&lt;TSqlTable&gt;()
            .Where( t =&gt; t.Name == tableName )
            .Single();
    }

#&gt;
</code></pre>
","2024-11-09 19:50:06","2","Answer"
"79172711","79172432","","<p>Kotlin supports type inference and automatically identifies the data type of a declared variable.</p>
<p>Refer more details <a href=""https://kotlinlang.org/docs/basic-syntax.html#variables"" rel=""nofollow noreferrer"">variables</a>.</p>
<p>so its taken variable type as Int  from this line</p>
<pre><code>var result = x * 2
</code></pre>
<p>But next line you try to assign the string value into Int Type</p>
<pre><code>result = result.toString() 
// result is Int but you assign String value
</code></pre>
<p>your case Its should be</p>
<pre><code>  var result = (x*2).toString()
</code></pre>
","2024-11-09 12:04:25","0","Answer"
"79172607","79172432","","<p>As the other answers already explain the reason for the error, this answer will provide more details.</p>
<p>In Kotlin you do not need to explicitly declare the type of a variable in most cases. This is just a convenience feature for the developer, though, because Kotlin is still a statically typed programming language and needs a specific type for each variable at <em>compile time</em>. That's different from languages like JavaScript or Python that check types only at runtime or even allow types to be changed during runtime.</p>
<p>The main benefit of static typing is that the compiler can already check your program for correctness, before you even run it. The <em>Type mismatch</em> error you get is issued by the compiler, you cannot even build the app and execute it and risking a crash on runtime, the compiler nips this in the bud.</p>
<p>Now, when the compiler needs a specific type for each variable, why is this even allowed?</p>
<pre><code>var result = x * 2
</code></pre>
<p>Kotlin's static type systen requires a specific type for the variable <code>result</code>, but if you don't explicitly provide one, the compiler will <em>infer</em> the type from the context. You <em>explicitly</em> declared <code>x: Int</code>, so in consequence <code>x * 2</code> will also be an <code>Int</code>. The compiler allows you to omit the explicit type declaration and silently assumes you have written</p>
<pre><code>var result : Int = x * 2
</code></pre>
<p>This is called <em>type inference</em> and is a major feature of Kotlin that mitigates the disadvantages of a statically typed language while still benefitting from its advantages. Compare this to Java, which also has a static type system but where you have to explicitly declare every type yourself, resulting in a lot of boilerplate code.</p>
<p>Back to your issue: When omitting the type it may look as though <code>result</code> would not <em>have</em> a specific type, so this may seem valid:</p>
<pre><code>result = result.toString()
</code></pre>
<p>But what you actually try to do is setting a <code>String</code> to an <code>Int</code> variable, hence the <em>Type mismatch</em> error.</p>
<p>You can always hover the mouse over a variable to see which type the compiler infered, which would explain the error you get. Or you can remember to always explicitly declare the type, even when it isn't necessary.</p>
<p>Instead, I would advise you to search your IDE for an option to display the infered types <em>inline</em>, so you can always keep an eye on them and verify that they meet your expectations. Like this, for example:</p>
<p><img src=""https://i.sstatic.net/Fymc1CPV.png"" alt="""" /></p>
<p>In IntelliJ IDEA and Android Studio that can be enabled by ticking the following checkbox in the settings:</p>
<pre class=""lang-none prettyprint-override""><code>Editor -&gt; Inlay Hints -&gt; Types -&gt; Kotlin
</code></pre>
<p>Now you can have your cake and eat it too:</p>
<ul>
<li>Benefit from the static type system, preventing a lot of runtime errors.</li>
<li>Clean code without unnecessary type declarations.</li>
<li>Good overview of the actual types used, making the reason for the error in your question obvious.</li>
</ul>
","2024-11-09 11:05:55","0","Answer"
"79172476","79172432","","<p>These are not the same thing, because Kotlin is statically typed language.</p>
<p>In the first case, you declare the variable result as Int, because x*2 is of Int type, as far as x is of Int type. And later try to assign a String value to it. Of course, this causes a type mismatch exception.</p>
<p>In the second case, you declare the variable as String from the very beginning, and assign a String to it latet. Everything is fine here. No error occurs.</p>
","2024-11-09 09:40:41","0","Answer"
"79172471","","How should I update the functions after changing the table columns?","<p>Let's assume I have a table with 2 columns: <code>column1</code> and <code>column2</code>.</p>
<p>Now, I create a function based on the table as follows:</p>
<pre><code>CREATE OR ALTER Function [dbo].[Fn_Test] ()
RETURNS TABLE
AS
    RETURN
        SELECT *
        FROM Table1
</code></pre>
<p>If later I add a third column to the table or remove one of the columns, my function does not get updated, and I have to alter my function again. How can I update all functions at once, or is there a way for the functions related to that table to be updated after changes are made to the table?</p>
","2024-11-09 09:39:36","0","Question"
"79172465","79172432","","<p>Please remember Kotlin is a static typed language. Explanation is really simple: in the first case we initialize the <code>result</code> to an <code>Int</code>, so it is typed as an <code>Int</code> and we can't store a <code>String</code> in it. In the second case we initialize it to <code>String</code>, so it is typed as <code>String</code>.</p>
<p>Your first case is an equivalent to this code:</p>
<pre class=""lang-kotlin prettyprint-override""><code>var result: Int = x * 2
result = result.toString()
return result
</code></pre>
<p>If typing explicitly, it is cleaner we try to assign a string to an integer, then we return an integer.</p>
","2024-11-09 09:34:59","1","Answer"
"79172432","","Kotlin: Despite converting output of a function to string I still get type mismatch","<p>Good day,</p>
<p>Please take a look on the that simple function.</p>
<pre><code>fun multiplyByTwo(x: Int): String {  // [1]
  println(&quot;Inside multiplyByTwo&quot;) // [2]
  var result = x * 2
  result = result.toString()
  return result
}
</code></pre>
<p>The problem is that although the result is converted to string and I have declared the output to be a string I still get type mismatch.</p>
<p>When I use</p>
<pre><code>var result = (x*2).toString()
</code></pre>
<p>instead of</p>
<pre><code>var result = x * 2
  result = result.toString()
</code></pre>
<p>it actually works, but it feels like weird java/kotlin under the hood bs despite looking exactly the same.</p>
","2024-11-09 09:12:11","3","Question"
"79169080","79169068","","<p>You use SQL <code>CASE</code> statement. The <code>WHEN</code> clause can contains only expressions:</p>
<pre><code>kateg_prop := CASE
        WHEN new.cat_tarif = 'domestic_1' OR new.cat_tarif = 'domestic_2' THEN 'DOM'
        WHEN new.cat_tarif = 'nondomestic_1' THEN 'NONDOM'
        WHEN new.cat_tarif = 'industry' THEN 'IND'
    END;
</code></pre>
<p>Although the syntax is similar, there are significant differences between SQL (functional) and PL/pgSQL (procedural) <code>CASE</code>:</p>
<p>SQL <code>CASE</code>:</p>
<pre><code> CASE var WHEN expr THEN expr [...] END
</code></pre>
<p>PLpgSQL <code>CASE</code></p>
<pre><code>  CASE var WHEN expr THEN plpgsql statement [...] END CASE
</code></pre>
<p>SQL <code>CASE</code> returns a value, PL/pgSQL <code>CASE</code> executes statements.</p>
","2024-11-08 06:58:33","3","Answer"
"79169068","","plpgsql function with ""case when"" to update column value","<p>I want to create a plpgsql function that will be called by a BEFORE INSERT trigger.
This function is updating a column based on value from another column.</p>
<p>Here is the code:</p>
<pre><code>CREATE OR REPLACE FUNCTION Xupd_cat_prop()
                           RETURNS TRIGGER
AS
$$ 
DECLARE categ_prop varchar;
BEGIN
    kateg_prop := CASE
        WHEN new.cat_tarif = 'domestic_1' OR new.cat_tarif = 'domestic_2' THEN new.class = 'DOM'
        WHEN new.cat_tarif = 'nondomestic_1' THEN new.class = 'NONDOM'
        WHEN new.cat_tarif = 'industry' THEN new.class = 'IND'
    END;
  RETURN new; 
END;
$$ 
LANGUAGE plpgsql;
</code></pre>
<p>But this doesn't work. I am using Postgres 16.
The error is somewhere with the <code>WHEN</code> clause.</p>
","2024-11-08 06:52:40","1","Question"
"79167675","79167477","","<p>Your code is cursed but I understand what you're trying to do. Every time you do a recursive div you need to do these escapes:</p>
<p>JS escape: <code>&quot;</code> becomes <code>\&quot;</code> (JS can also use <code>'</code> and <code>`</code>, but for simplicity let's stick with <code>&quot;</code>) and <code>\</code> becomes <code>\\</code></p>
<p>HTML escape: <code>&quot;</code> becomes <code>&amp;quot;</code> and <code>&amp;</code> becomes <code>&amp;amp;</code></p>
<p>Therefore the code you need is:</p>
<p><code>&lt;div onclick=&quot;showDiv(1, &amp;quot;&lt;div onclick=\&amp;quot;showDiv(2, \&amp;amp;quot;test C\&amp;amp;quot;)\&amp;quot;&gt;test B&lt;/div&gt;&amp;quot;)&quot;&gt;test A&lt;/div&gt;</code></p>
<p>Here's how you would add a fourth layer!
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;html&gt;
&lt;head&gt;
  &lt;script&gt;
   function showDiv (divId, dat){
     document.getElementById(divId).innerHTML = dat ;
     document.getElementById(divId).style.display = ""block"" ;
   }
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div onclick=""showDiv(1, &amp;quot;&lt;div onclick=\&amp;quot;showDiv(2, &amp;amp;quot;&lt;div onclick=\\&amp;amp;quot;showDiv(3, \\&amp;amp;amp;quot;test D\\&amp;amp;amp;quot;)\\&amp;amp;quot;&gt;test C&lt;/div&gt;&amp;amp;quot;)\&amp;quot;&gt;test B&lt;/div&gt;&amp;quot;)""&gt;test A&lt;/div&gt;
  &lt;div id=""1"" style=""display:none;""&gt;&lt;/div&gt;
  &lt;div id=""2"" style=""display:none;""&gt;&lt;/div&gt;
  &lt;div id=""3"" style=""display:none;""&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
<p>(This is obviously not very readable — this is why inline JS is not used very often)</p>
","2024-11-07 18:28:01","1","Answer"
"79167577","79167477","","<p>It might be easier to hide the elements you don't want to see in the first instance and then reveal them when their sibling is clicked.</p>
<blockquote>
<p>Note: using method the element ids must be strings.</p>
</blockquote>
<ol>
<li><p>Use a class to hide the elements, and remove the class when you want them shown</p>
</li>
<li><p>Use a data attribute to indicate what element should be shown.</p>
</li>
<li><p>Use <a href=""https://dmitripavlutin.com/javascript-event-delegation/"" rel=""nofollow noreferrer"">event delegation</a> - attach a listener to a parent element, and then listen for events from its children as they &quot;bubble up&quot; the DOM.</p>
</li>
</ol>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// Get the group container
const container = document.querySelector('.container');

// Add an event listener to it which calls `handleClick`
// when clicked
container.addEventListener('click', handleClick);

// Function accepts the event
function handleClick(e) {

  // If the element that was clicked has a [data-show] attribute
  if (e.target.closest('[data-show]')) {

    // Grab that show value from the element's dataset
    const nextId = e.target.dataset.show;
    
    // Used that value to get the element with that ID, and then remove
    // its hidden class
    document.querySelector(`#${nextId}`).classList.remove('hidden');
  }
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.hidden {
  display: none;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""container""&gt;
  &lt;div data-show=""one""&gt;Test Zero&lt;/div&gt;
  &lt;div id=""one"" data-show=""two"" class=""hidden""&gt;Test One&lt;/div&gt;
  &lt;div id=""two"" class=""hidden""&gt;Test Two&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
<p>If you know that the next element is the one immediately below the one you're clicking on you can make the markup tidier and the code shorter.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// Get the group container
const container = document.querySelector('.container');

// Add an event listener to it which calls `handleClick`
// when clicked
container.addEventListener('click', handleClick);

// Function accepts the event
function handleClick(e) {
  
  // Grab the next element sibling of the current element,
  // and remove its hidden class
  if (e.target.nextElementSibling) {
    e.target.nextElementSibling.classList.remove('hidden');
  }
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.hidden {
  display: none;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""container""&gt;
  &lt;div&gt;Test Zero&lt;/div&gt;
  &lt;div class=""hidden""&gt;Test One&lt;/div&gt;
  &lt;div class=""hidden""&gt;Test Two&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
<p>Additional documentation</p>
<ul>
<li><p><a href=""https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes"" rel=""nofollow noreferrer"">data attributes</a></p>
</li>
<li><p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Element/classList"" rel=""nofollow noreferrer""><code>classList</code></a></p>
</li>
<li><p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Element/closest"" rel=""nofollow noreferrer""><code>closest</code></a></p>
</li>
<li><p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector"" rel=""nofollow noreferrer""><code>querySelector</code></a></p>
</li>
<li><p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Element/nextElementSibling"" rel=""nofollow noreferrer""><code>nextElementSibling</code></a></p>
</li>
</ul>
","2024-11-07 17:54:04","1","Answer"
"79167529","79167477","","<p>As <a href=""https://stackoverflow.com/users/1599011/mykaf"">mykaf</a> commented, <code>addEventListener(&quot;click&quot;, (event) =&gt; {});</code> would achieve the same and is generally neater. So as <code>onclick = (event) =&gt; {};</code></p>
<p>You can still use HTML inline onclick using backticks (`) like so:
<code>&lt;div onclick=&quot;showDiv(1, `&lt;div onclick='showDiv(2, 'test C');'&gt;test B&lt;/div&gt;`)&quot;&gt;test A&lt;/div&gt;</code></p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;html&gt;

&lt;head&gt;
  &lt;script&gt;
    function showDiv(divId, dat) {
      document.getElementById(divId).innerHTML = dat;
      document.getElementById(divId).style.display = ""block"";
    }
  &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div onclick=""showDiv(1, `&lt;div onclick='showDiv(2, 'test C');'&gt;test B&lt;/div&gt;`)""&gt;test A&lt;/div&gt;
  &lt;div id=""1"" style=""display:none;""&gt;&lt;/div&gt;
  &lt;div id=""2"" style=""display:none;""&gt;&lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
</div>
</div>
</p>
","2024-11-07 17:33:57","1","Answer"
"79167516","79167477","","<p>you can use &amp;quot for double quotes and &amp;#39 for single quotes inside &quot;showDiv()&quot;</p>
<p>hope it helps</p>
","2024-11-07 17:30:18","1","Answer"
"79167477","","Nesting JavaScript strings inside an HTML onclick attribute","<p>This code explains my problem best:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;html&gt;
&lt;head&gt;
  &lt;script&gt;
   function showDiv (divId, dat){
     document.getElementById(divId).innerHTML = dat ;
     document.getElementById(divId).style.display = ""block"" ;
   }
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div onclick=""showDiv(1, '&lt;div onclick='showDiv(2, 'test C');'&gt;test B&lt;/div&gt;')""&gt;test A&lt;/div&gt;
  &lt;div id=""1"" style=""display:none;""&gt;&lt;/div&gt;
  &lt;div id=""2"" style=""display:none;""&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
<p>When I click &quot;test A&quot;, I get: <code>Uncaught SyntaxError: missing ) after argument list</code>.</p>
","2024-11-07 17:18:00","0","Question"
"79166896","","Azure function with serviceBusTrigger 5 minute to restart after DrainMode/stop","<p>I have a Azure function (Consumer plan) that should trigger on Service bus event but i see in the logs that Aazure functions is stopped and drain and it take 5 minutes for the azure function to start why do it take so long for the function to restart when there is message in the queue</p>
<pre><code>11/3/2024, 3:32:21.342 PM DrainMode mode enabled

11/3/2024, 3:32:21.343 PM Calling StopAsync on the registered listeners

11/3/2024, 3:32:21.346 PM Stopping the listener 'Microsoft.Azure.WebJobs.ServiceBus.Listeners.ServiceBusListener' for function '**
 
11/3/2024, 3:32:21.389 PM Stopped the listener 'Microsoft.Azure.WebJobs.ServiceBus.Listeners.ServiceBusListener' for function '******
 
11/3/2024, 3:32:21.391 PM Call to StopAsync complete, registered listeners are now stopped
 
11/3/2024, 3:32:21.426 PM Stopped the listener 'Microsoft.Azure.WebJobs.ServiceBus.Listeners.ServiceBusListener' for functio 
 
11/3/2024, 3:32:21.428 PM Call to StopAsync complete, registered listeners are now stopped

11/3/2024, 3:38:38.016 PM Initializing Warmup Extension.
 
11/3/2024, 3:38:38.031 PM Initializing Host. OperationId: '*****'.
 
11/3/2024, 3:38:38.032 PM Host initialization: ConsecutiveErrors=0, StartupCount=3, Oper 9
 
11/3/2024, 3:38:38.056 PM ApplicationInsightsLoggerOptions {
</code></pre>
","2024-11-07 14:28:53","0","Question"
"79164043","78437981","","<p>You don't need an extra function or any global varibles. Just conditionally let <code>func1</code> call itself. Since printing <em>&quot;End1 <strong>at the end of <code>func1</code></strong> (1 time and not more than 1 time)&quot;</em> seems important, just put it in the <code>else</code> case:</p>
<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;

void func1(int i) {
    printf(&quot;%d &quot;, i);

    if (i &lt; 5)
        func1(i + 1);
    else
        puts(&quot;\nEnd1&quot;); // at the end of func1, only printed once
}

int main(void) {
    func1(1); 
}
</code></pre>
","2024-11-06 19:40:43","1","Answer"
"79162482","79159367","","<p>Excel's formula version of Black cat's VBA:</p>
<p>Formula in <code>B2</code>: <code>=A2</code></p>
<p>Formula in <code>B3</code>:</p>
<pre><code>=IFERROR(SCAN(B2, A3:A10, LAMBDA(current_time, dummy, XLOOKUP(current_time + 30 / 60 / 24, A3:A10, A3:A10, &quot;&quot;, 1, 1))), &quot;&quot;)
</code></pre>
<p>Basically, it is trying to use a dummy array in <code>SCAN</code> to get away with a recursive lambda.</p>
<p><a href=""https://i.sstatic.net/fiAVMe6t.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/fiAVMe6t.png"" alt=""enter image description here"" /></a></p>
","2024-11-06 11:55:12","1","Answer"
"79162373","79161249","","<p>To add identity provider :</p>
<p>Open External identities and then click on All identity providers and configure Microsoft in it.</p>
<p><img src=""https://i.imgur.com/G4qzg23.png"" alt=""enter image description here"" /></p>
<p>Or you can set up identity providers using:</p>
<p><img src=""https://i.imgur.com/VeAdoSx.png"" alt=""enter image description here"" /></p>
","2024-11-06 11:22:02","0","Answer"
"79161249","","Microsoft identity provider disabled in azure function app","<p>Im trying to add an identity provider to my azure function app but the item &quot;Microsoft&quot; is disabled in my options. I need this to be able to call my function in ADF via System-assigned managed identity.</p>
<p>Anyone has any idea how to enable it?</p>
<p><a href=""https://i.sstatic.net/7oS0x9be.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/7oS0x9be.png"" alt=""enter image description here"" /></a></p>
","2024-11-06 03:08:30","0","Question"
"79160426","79159367","","<h2>Keep One Time per Half Hour Interval</h2>
<p><a href=""https://i.sstatic.net/8wNa2VTK.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/8wNa2VTK.jpg"" alt=""Screenshot Illustrating the Development of the Formula"" /></a></p>
<ul>
<li><code>(SEQUENCE(48)-1)/48</code> is the time of a day split by half hour intervals i.e. <code>00:00, 00:30, 01:00, 1:30, ..., 23:30</code>. A day has 48 half-hours. By starting with <code>0</code> and ending with <code>47</code>, we will get the times to match against an exact match or next smaller (the <code>-1</code> in the first match).</li>
<li>Always round decimal numbers before matching them.</li>
</ul>
<p><strong>Developing Mode</strong></p>
<pre><code>=LET(array,A2:A11,
    ra,ROUND(array,5),
    rd,ROUND((SEQUENCE(48)-1)/48,5),
    rm,XMATCH(ra,rd,-1),
    m,XMATCH(UNIQUE(rm),rm),
    r,INDEX(array,m),
    r)
</code></pre>
<ul>
<li>Replace the bottom-most <code>r</code> with any other variable to see what it holds.</li>
</ul>
<p><strong>Final</strong></p>
<ul>
<li>After removing the redundant variables:</li>
</ul>
<pre><code>=LET(array,A2:A11,
    rm,XMATCH(ROUND(array,5),ROUND((SEQUENCE(48)-1)/48,5),-1),
    INDEX(array,XMATCH(UNIQUE(rm),rm)))
</code></pre>
","2024-11-05 19:16:46","3","Answer"
"79159965","79159367","","<p>With VBA and a base time window.<br />
Takes the first time as a base, delete the 30 min range and takes the next remained time as base</p>
<pre><code>Sub camtime()
Dim col As Collection
Set col = New Collection
Set rg = Range(&quot;A13:A21&quot;)
mintime = rg(1)
For i = 2 To rg.Count
  If rg(i) - mintime &lt; TimeValue(&quot;0:30&quot;) Then
    col.Add rg(i).Row
  Else
    mintime = rg(i)
  End If
Next i
For i = col.Count To 1 Step -1
  Rows(col(i)).Delete
Next i
End Sub

</code></pre>
<p><a href=""https://i.sstatic.net/FywZCExV.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/FywZCExV.png"" alt=""enter image description here"" /></a></p>
","2024-11-05 16:37:52","2","Answer"
"79159736","79159367","","<p>Taking the first scenario of just starting with the first one and checking the difference, you could use filter in a spill formula like this in Excel 365:</p>
<pre><code>=LET(times,A2:A6,prev,VSTACK(-1,DROP(times,-1)),FILTER(times,times-prev&gt;=TIME(0,30,0)))
</code></pre>
<p><a href=""https://i.sstatic.net/A2TBWx68.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/A2TBWx68.png"" alt=""enter image description here"" /></a></p>
<p>Or more dynamic:</p>
<pre><code>=LET(times,DROP(TOCOL(A:A,1),1),prev,VSTACK(-1,DROP(times,-1)),
  FILTER(times,times-prev&gt;=TIME(0,30,0)))
</code></pre>
<p>I think <a href=""https://stackoverflow.com/questions/45440576/algorithm-for-detecting-clusters-in-peaks-in-time-series-signal-data"">this reference</a> is instructive.</p>
<p><em>Note</em></p>
<p>If you are using datetimes the comparisons become inaccurate.</p>
<p>I would change the formula to</p>
<pre><code>=LET(times,A2:A6,prev,VSTACK(-1,DROP(times,-1)),FILTER(times,times-prev&gt;TIME(0,29,59)))
</code></pre>
<hr />
<p>I have tried the same method on more realistic data, using sort to group observations of the same species with the same camera together using sort, and sorting back into the original order at the end:</p>
<pre><code>=LET(data,HSTACK(A2:C23,ROW(A2:C23)),
sdata,SORTBY(data,INDEX(data,,2),1,INDEX(data,,3),1,INDEX(data,,1),1),
include,MAP(SEQUENCE(ROWS(data)),LAMBDA(I,IF(I=1,TRUE,(INDEX(sdata,I,2)&lt;&gt;INDEX(sdata,I-1,2))+(INDEX(sdata,I,3)&lt;&gt;INDEX(sdata,I-1,3))+(INDEX(   sdata,I,1)-INDEX(sdata,I-1,1))&gt;TIME(0,29,59)))),
DROP(SORT(FILTER(sdata,include),4,1),,-1))
</code></pre>
<p><a href=""https://i.sstatic.net/UA7IRUED.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/UA7IRUED.png"" alt=""enter image description here"" /></a></p>
","2024-11-05 15:27:45","2","Answer"
"79159367","","Excel document how to remove time periods within a 30 minute interval of each other?","<p>I'm not entirely sure how to explain this but here goes:
I have a dataset for a camera trap survey.
I have extracted all the image details to an excel document.
The column headings are: Source file, Date:time, species of animal, camera site, cam at site, image ID.</p>
<p>In essence there are multiple camera trap pictures from the same site, to create independence of images we need to remove all camera trap pictures from the same site (for each species) that occur within a 30 minute window. E.g. if there are 5 pics from site 12, at 12:01, 12:02, 12:03, 12:10, 13:55 I need to delete 3 of those records (12:02, 12:03, 12:10) retaining the 2 images that are classed as independent.</p>
<p>What function or formula can I use to do this? (apologies if I'm explaining this stupidly)</p>
<p>Checked a range of examples from previous questions but doesn't seem like anything answers this.</p>
<p>I think it got close with how to find objects within  a range, and I suppose that is a better phrase for what I want to achieve.
'how to delete time values within a 30 min range of each other'</p>
<p>Thanks!</p>
<p><em><strong>Post-Comment EDIT:</strong></em>
hmmm still struggling to get my head around this, apologies. I attach a picture of a section of the data.
I'm not sure if formatting as a table links the data across all rows for when the formula is applied but I need to somehow maintain the data so it all corresponds.
Another level of complexity that I hadn't really considered is that it's not as easy as having 20 different times and removing those that occur within the 30min window -rather it has to be filtered by species of animal (lion, leopard, hyena etc) which is easy enough via the table option. However the painful thing is it also has to be done for each species and between each camera site (which I again assume can be done via table however would be so time consuming).</p>
<p>My brain is a little bit mushy at the moment, but hope that with a picture of the data may clarify things a bit (the first picture I literally copied the filtered lion data, selected each site from column H, then manually deleted each time stamp within a 30 min window) ... Second picture is the raw data. I would do it manually but there are like 60,000 records, so it's easy enough for some species but would otherwise take forever.
Sorry, and thanks again for the assistance.
<a href=""https://i.sstatic.net/t3dNjoyf.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/t3dNjoyf.png"" alt=""enter image description here"" /></a></p>
<p><a href=""https://i.sstatic.net/ixZqumj8.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ixZqumj8.png"" alt=""enter image description here"" /></a></p>
","2024-11-05 13:48:10","1","Question"
"79156848","79154916","","<p>Use the build-in form validation and then do the AJAX request on the submit event. It even gives the user a hint about what is wrong with the value. For all required form fields set the <code>required</code> attribute.</p>
<p>Not that I think it is a good idea, but you can also listen for the input event on the amount input and then change the value to 1 if the entered number is smaller than 1. I find it annoying.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const form01 = document.forms.form01;

form01.addEventListener('submit', e =&gt; {
  e.preventDefault();

  $.ajax({
    type: 'get',
    url: 'ItemProcessor.php',
    data: $(e.target).serialize()
  });
});

/*
form01.amount.addEventListener('input', e =&gt; {
  if(e.target.valueAsNumber &lt; 1){
    e.target.value = 1;
  }
});
*/</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js""&gt;&lt;/script&gt;
&lt;form id=""form01""&gt;
  &lt;label&gt;Amount: &lt;input type=""number""
    name=""amount"" min=""1"" required&gt;&lt;/label&gt;
  &lt;button&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
</p>
","2024-11-04 20:03:38","1","Answer"
"79155346","79153015","","<p>One way is to use <a href=""https://docs.python.org/3/library/inspect.html#inspect.signature"" rel=""nofollow noreferrer""><code>inspect.signature</code></a>. The only limitation is that the function has to be written in <em>pure</em> Python.</p>
<pre><code>import inspect


def default_arg_checker(func):
    def wrapper(*args, **kwargs):
        # signature of the target function
        sig = inspect.signature(func)

        for k, v in kwargs.items():
            p_default_value = sig.parameters[k].default
            if p_default_value != v:
                print(f'the default value of &quot;{k}&quot; changed: {p_default_value} -&gt; {v}')

        return func(*args, **kwargs)
    return wrapper


@default_arg_checker
def foo(num=42, bar=100):
    pass


foo(num=420)
</code></pre>
<p>Output</p>
<pre class=""lang-none prettyprint-override""><code>the default value of &quot;num&quot; changed: 42 -&gt; 420
</code></pre>
","2024-11-04 11:54:42","1","Answer"
"79155009","79154916","","<p>Instead of keyup, i would use input since it check as soon as an input is detected :</p>
<pre><code>&lt;input type=&quot;number&quot; id = &quot;' . $Image .'&quot; name = &quot;Amount&quot; min=&quot;1&quot; oninput=&quot;Min(this.id)&quot;&gt;
</code></pre>
<p>But in any case you should check the value again in ItemProcessor.php and not spend too much time on the front side, as there are lot of ways to go through a JS or HTML restriction (you're sending data with Ajax, using GET method, it would be really simple)</p>
","2024-11-04 10:14:26","1","Answer"
"79154922","79154916","","<p>I would suggest just adding the validation before the <code>.ajax</code> call. It will validate it regardless of the event:</p>
<pre><code>$('#&quot; . $EAN2 . &quot;').on('click', function(event) {
event.preventDefault();
const amountInput = $('#&quot; . $Image . &quot;');

// Validate that the amount is at least 1
if (parseInt(amountInput.val()) &lt; 1 || amountInput.val() === '') {
    amountInput.val(1); // Set it to 1 if it's less than 1 or empty
    alert('Amount must be at least 1.');
    return; // Stop the form from submitting
}

$.ajax({
    type: 'get',
    url: 'ItemProcessor.php',
    data: $('#&quot; . $Item2 . &quot;').serialize(),
    success: function(response) {
        console.log('Form submitted successfully:', response);
        // Additional handling for the response can be added here if needed
    },
    error: function(xhr, status, error) {
        console.error('Form submission failed:', error);
    }
});
});
</code></pre>
","2024-11-04 09:47:26","1","Answer"
"79154916","","Ajax is preventing input type number min attribute","<pre><code>function Min(ID) {
    $Number = document.getElementById(ID);
    if ($Number.value &lt; 1 &amp;&amp; $Number.value !== &quot;&quot;) {
        $Number.value = 1;
    }
}
</code></pre>
<pre><code>echo '
&lt;form id=&quot;' . $Item2 . '&quot;&gt;
    &lt;input type=&quot;image&quot; src=&quot;AddToCart.png&quot; style=&quot;margin:5px; float:left; font-size:25px;&quot; width=&quot;65px&quot; height=&quot;33&quot; id=&quot;' . $EAN2 . '&quot;
    onmouseup=&quot;KeyUp(this.id)&quot; onmousedown=&quot;Click(this.id)&quot;/&gt;
    &lt;input type=&quot;number&quot; id = &quot;' . $Image .'&quot; name = &quot;Amount&quot; min=&quot;1&quot; onKeyUp=&quot;Min(this.id)&quot;&gt;
    &lt;input type=&quot;text&quot; name = &quot;ID&quot; value=&quot;' . $Item . '&quot; readonly style=&quot;display: none;&quot;&gt;
    &lt;input type=&quot;text&quot; name = &quot;Cost&quot; value=&quot;' . $Cost . '&quot; readonly style=&quot;display: none;&quot;&gt;
    &lt;input type=&quot;text&quot; name = &quot;Kom&quot; value=&quot;' . $Kom . '&quot; readonly style=&quot;display: none;&quot;&gt;
    &lt;input type=&quot;text&quot; name = &quot;EAN&quot; value=&quot;' . $EAN . '&quot; readonly style=&quot;display: none;&quot;&gt;
    &lt;input type=&quot;text&quot; name = &quot;Type&quot; value=&quot;Food/Slatko&quot; readonly style=&quot;display: none;&quot;&gt;
    &lt;input type=&quot;text&quot; name = &quot;Image&quot; value=&quot;' . $Image . '&quot; readonly style=&quot;display: none;&quot;&gt;
    &lt;input type=&quot;text&quot; name = &quot;Account&quot; value=&quot;' . $_SESSION[&quot;Account&quot;] . '&quot; readonly style=&quot;display: none;&quot;&gt;
&lt;/form&gt;';
</code></pre>
<pre><code>&lt;script&gt;
echo &quot;
&lt;script&gt;
$('#&quot; . $EAN2 . &quot;').on('click',function(event){
    event.preventDefault()
    $.ajax({
        type: 'get',
        url: 'ItemProcessor.php',
        data: $('#&quot; . $Item2 . &quot;').serialize(),
    })
})
&lt;/script&gt;&quot;;
</code></pre>
<p>I have this form here. It normally stops the user from inputting less than 1 into the input, but because of the ajax code it sends it regardless.</p>
<p>I have tried adding a function onkeyup that checks the value and sets it to 1 if it's lower than it, but the user can press the image while not releasing the key to still have a negative number.</p>
","2024-11-04 09:45:20","2","Question"
"79153119","79153015","","<p>You might use decorator for unveiling what arguments were passed following way</p>
<pre><code>def show_arguments(func):
    def wrapper(*args, **kwargs):
        print('Positional arguments', args)
        print('Keyword arguments', kwargs)
        return func(*args, **kwargs)
    return wrapper


@show_arguments
def foo(num = 42, bar = 100):
    print(&quot;num:&quot;, num)


foo()
foo(1)
foo(num=1)
foo(1,bar=1)
foo(num=1,bar=1)
</code></pre>
<p>gives output</p>
<pre><code>Positional arguments ()
Keyword arguments {}
num: 42
Positional arguments (1,)
Keyword arguments {}
num: 1
Positional arguments ()
Keyword arguments {'num': 1}
num: 1
Positional arguments (1,)
Keyword arguments {'bar': 1}
num: 1
Positional arguments ()
Keyword arguments {'num': 1, 'bar': 1}
num: 1
</code></pre>
<p>Observe that function in <code>python</code> are 1st class citizens.</p>
","2024-11-03 16:04:56","-1","Answer"
"79153015","","How to programmatically determine if the default parameter value was used?","<p>Given a function:</p>
<pre><code>def foo(num = 42, bar = 100):
    print(&quot;num:&quot;, num)
</code></pre>
<p>How might I add code to foo to learn if foo was invoked with no argument for the num and/or bar parameters?</p>
","2024-11-03 15:13:06","1","Question"
"79152616","79151727","","<p>This how you should do it without <code>eval</code> at all. Pass the function and apply/call it inside <code>adv_prod</code>:</p>
<pre class=""lang-py prettyprint-override""><code>def adv_prod(start, end, rule):
    ending_seq = list_prod([rule(i) for i in range(start, end+1)])
    return ending_seq
</code></pre>
<pre class=""lang-py prettyprint-override""><code>from supMath import adv_prod, prime

for x in range(1, 11):
    print(adv_prod(1, x, prime)) 
</code></pre>
<pre class=""lang-py prettyprint-override""><code>from supMath import adv_prod

def fib(n):
   …

for x in range(1, 11):
    print(adv_prod(1, x, fib)) 
</code></pre>
","2024-11-03 11:35:09","2","Answer"
"79152585","79151673","","<p>The script (let's say <code>script.sh</code>) you run with <code>at</code> will be run by <code>atd</code> daemon, and is no more related to your current shell session.</p>
<p>A workaround :</p>
<pre><code>at ... &lt;&lt; EOF
/bin/bash &lt;&lt; INNER
# Import functions from current session
$(declare -f)
# Run the script
$(cat script.sh)
INNER
EOF
</code></pre>
","2024-11-03 11:20:35","1","Answer"
"79151763","79151727","","<p>I was trying to recreate this but I don't have access to the list prod function, however I do believe I know what is going on. To access external variables using eval, you can add an extra parameter, globals(), to use all global variables/funcs etc, for example:</p>
<pre><code>def adv_prod(start,end,rule):
   ending_seq = list_prod([eval(rule, globals()) for i in range(start,end+1)])
   return ending_seq
</code></pre>
<p>Let me know if this works!</p>
","2024-11-02 23:30:11","-2","Answer"
"79151727","","How to use eval() in a function from library with functions which are defined outside of this library?","<p>I have recently developed and uploaded to PyPI a library which has a function where eval() is used:</p>
<pre><code>def adv_prod(start,end,rule):
    ending_seq = list_prod([eval(rule) for i in range(start,end+1)])
    return ending_seq
</code></pre>
<p>If <code>rule</code> argument gets a string with in-library function, it works fine (prime(i) is defined in the same library file):</p>
<pre><code>from supMath import adv_prod,prime

for x in range(1,11):
    print(adv_prod(1,x,&quot;prime(i)&quot;)) 
</code></pre>
<p>Output:</p>
<pre><code>2
6
30
210
2310
30030
510510
9699690
223092870
6469693230
</code></pre>
<p>But as soon as i try to input an outer function or a function from different library module I get <code>NameError</code>:</p>
<pre><code>from supMath import adv_prod

def fib(n):
    if n==1:
        return 1
    if n==2:
        return 1
    return fib(n-2)+fib(n-1)

for x in range(1,11):
    print(adv_prod(1,x,&quot;fib(i)&quot;)) 
</code></pre>
<p>Output: <code>NameError: name 'fib' is not defined</code></p>
","2024-11-02 23:00:50","1","Question"
"79151673","","Use a bash function inside an 'at' job","<p>The <a href=""https://linux.die.net/man/1/at"" rel=""nofollow noreferrer"">at</a> command can be used to schedule jobs for future execution.</p>
<p>This sets up the environment before executing the command, to match that at the time of creating at 'at' job.</p>
<p>However, this does not seem to include bash functions defined in the environment. I have tried exporting a function using &quot;export -f&quot; but this does not show up in the environment created for the at job.</p>
<p>Does anyone know how I could get a function to run in the context of an 'at' job? I know I could convert to a proper command defined in a file, but I'm curious what exactly is stopping the function from being picked up in the environment.</p>
<p>Notably, if one does &quot;export -f myfun&quot; in the environment and then &quot;export -p&quot;, the function does not appear in the environment. Is this a bash issue more than anything?</p>
<p>Bash version: GNU bash, version 5.2.21(1)-release (x86_64-pc-linux-gnu)</p>
","2024-11-02 22:12:37","1","Question"
"79150285","79150227","","<p><strong>Option 1:</strong></p>
<p>You can, if you move the new parameter to the end:</p>
<pre><code>fun foo(
    id: String,
    vararg values: Int,
    attributes: Array&lt;String&gt; = arrayOf(&quot;a&quot;, &quot;b&quot;),
) {
    // ...
}
</code></pre>
<p>But it becomes a bit awkward to call:</p>
<pre><code>fun bar1() {
    foo(&quot;id_1&quot;)
    foo(&quot;id_2&quot;, 1)
    foo(&quot;id_3&quot;, 1, 2, 3)
    foo(&quot;id_3&quot;, 1, 2, 3, attributes = arrayOf(&quot;a&quot;, &quot;b&quot;))
}
</code></pre>
<p>You need to specify the parameter name, otherwise the compiler will think the array is still part of the varargs parameter.</p>
<hr />
<p><strong>Option 2:</strong></p>
<p>You can overload the function:</p>
<pre><code>fun foo(
    id: String,
    vararg values: Int,
) {
    foo(id, arrayOf(&quot;a&quot;, &quot;b&quot;), *values)
}

fun foo(
    id: String,
    attributes: Array&lt;String&gt;,
    vararg values: Int,
) {
    // ...
}
</code></pre>
<p>Then you can call it like this:</p>
<pre><code>fun bar1() {
    foo(&quot;id_1&quot;)
    foo(&quot;id_2&quot;, 1)
    foo(&quot;id_3&quot;, 1, 2, 3)
    foo(&quot;id_3&quot;, arrayOf(&quot;a&quot;, &quot;b&quot;), 1, 2, 3)
}
</code></pre>
<p>This is more elegant at the call site but you have a little overhead at the declaration side.</p>
","2024-11-02 08:52:59","1","Answer"
"79150279","79150227","","<p>I am new to kotlin but you made me learn this today, thanks!
was using kotlin playground..</p>
<hr />
<p>You were asking about way to add one more argument with default value without breaking existing calls.</p>
<p>You can do this by using attributes after vararg like</p>
<pre><code>fun foo(
    id: String,
    vararg values: Int,
    attributes: Array&lt;String&gt; = arrayOf(&quot;a&quot;, &quot;b&quot;),
){
  ...
}
</code></pre>
<p>But wait, that will raise error regarding type, because the attribute which you meant to convey at last of foo() will also be considered as vararg, so to use this code we will have to call the function like:</p>
<pre><code>foo(&quot;id_3&quot;, 1, 2, 3,attributes=loremipsum)
</code></pre>
<p>wherever required you can add <code>,attributes=loremipsum</code> and if not leave it.</p>
","2024-11-02 08:50:02","1","Answer"
"79150227","","Is there way to add one more argument to the function(which has var args) with default value without breaking existing calls?","<p>I have a function</p>
<pre><code>fun foo(
    id: String,
    vararg values: Int,
){
  ...    
}
</code></pre>
<p>and there are calls like these</p>
<pre><code>fun bar1(){
    foo(&quot;id_1&quot;)
    foo(&quot;id_2&quot;, 1)
    foo(&quot;id_3&quot;, 1, 2, 3)
}
</code></pre>
<p>Now I've understood that I need to add one more argument to foo. but I don't want to break existing calls so I tried to add it with default values:</p>
<pre><code>fun foo(
    id: String,
    attributes: Array&lt;String&gt; = arrayOf(&quot;a&quot;, &quot;b&quot;),
    vararg values: Int,
){
  ...
}
</code></pre>
<p>But</p>
<pre><code>foo(&quot;id_2&quot;, 1)
foo(&quot;id_3&quot;, 1, 2, 3)
</code></pre>
<p>became broken.</p>
<p>Is there way to add one more argument with default value without breaking existing calls ?</p>
","2024-11-02 08:13:09","1","Question"
"79149730","79149657","","<p>You need to <code>return</code> after the loop. However, your logic is wrong, because it ignores the fact that 2, 3 and 5 are prime, and your conditions will allow <code>1</code> to be counted as a prime. There is a better way to do this, anyway, using <code>sum</code>, <code>map</code>, and <code>all</code>.</p>
<pre class=""lang-py prettyprint-override""><code># count all primes within a range 2 to num (inclusive)
def enumerar_primo(num:int) -&gt; int:
    # base primes
    base = 2,3,5
    
    # returns True/False is prime
    def primito(i:int) -&gt; bool: 
        return i in base or all(i%x for x in base)
        
    # map the range to True/False values and sum  
    return sum(map(primito, range(2,num+1)))

numero = int(input(&quot;escriba un numero: &quot;))

c = enumerar_primo(numero)

print(&quot;los primos son&quot;, c)
</code></pre>
<p>For clarity: <code>map</code> will pass every iteration of the <code>range</code> to <code>primito</code>, and store all of the returns as True or False. Then <code>sum</code> will sum all of the values in <code>map</code>, essentially telling you how many True values were present. A True value means a number was prime, so the sum is also telling you how many primes you have.</p>
","2024-11-02 00:24:33","0","Answer"
"79149657","","issue with a for loop and a function","<p>I'm making a beginner level problem and i cant get my code to count how many times i got to the last if, with the code i have now it says that c is referenced before being assigned.</p>
<p>i was hoping to get certain numbers in a list from a to b and to also get the count on how many times i got those type of numbers so i did a silly function that repeats itself until the ranged is finished.</p>
<pre><code>c = 0
def primito(num1):
  for i in range(1,num1):
    if i % 2 !=0:
      if i % 3!=0:
        if i % 5!=0:
          print(i, &quot;es un numero primo &quot;)
          c+=1
          return c
numero = int(input(&quot;escriba un numero: &quot;))

primito(numero)

print(&quot;los primos son&quot;, c)
</code></pre>
","2024-11-01 23:28:40","-4","Question"
"79147564","79144464","","<p>You should write you’re function before the code where you need it, or just write the function header like</p>
<pre><code>void nohighertan_int(int *a, int *b);
 //now you wrote the header
 void youre_function(){
    int bound = value;
    int tempSB = other_value;
    nohighertan_int(&amp;bound, &amp;tempSB);
 }
void nohighertan_int(int *a, int *b){
   // function code here
}
</code></pre>
<p>The problem is with How the compiler generates the binary code for the function. It come’s from top to the bottom</p>
","2024-11-01 09:54:05","0","Answer"
"79145560","79145518","","<p><code>char exampleArray[n][n];</code> is a <strong>Variable Length Array</strong>, which is not standard C++, so avoid using it:</p>
<p><a href=""https://stackoverflow.com/questions/1887097/"">Why aren&#39;t variable-length arrays part of the C++ standard?</a></p>
<p>Use <code>std::vector</code> instead when you need an array whose size is not known at compile-time.  You can pass it around like any other variable.</p>
<p>Also, <code>std::string</code> is like a variable-length array of characters.  So, in this case, consider using a 1-dimensional <code>std::vector&lt;std::string&gt;</code>.</p>
<p>Try this:</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
using namespace std;

char getAt(int x, int y, const vector&lt;string&gt; &amp;array) {
    return array[x][y];
    // note that vector::operator[] and string::operator[]
    // do not perform bounds checking, so if you want that
    // then use vector::at() and string::at() instead:
    //
    // return array.at(x).at(y);
}

int main() {
    int n;
    cin &gt;&gt; n;

    vector&lt;string&gt; exampleArray(n);
    for (int i = 0; i &lt; n; i++) {
        cin &gt;&gt; exampleArray[i];
    }

    cout &lt;&lt; getAt(1, 1, exampleArray) &lt;&lt; endl;
}
</code></pre>
","2024-10-31 16:29:51","6","Answer"
"79145518","","Is there a way to send an 2d array into a function without knowing its size before runtime?","<p>I keep getting this error:</p>
<blockquote>
<p>use of parameter outside function body before ']'</p>
</blockquote>
<p>I googled it and found that you apparently can't do this. Is there another way of doing the same thing I tried here?</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;string.h&gt;
using namespace std;

char getAt(int x, int y, int size, char array[size][size]) {
    return array[x][y];
}

int main() {
    int n;
    cin &gt;&gt; n;

    string curField;
    char exampleArray[n][n];
    for (int i = 0; i &lt; n; i++) {
        cin &gt;&gt;curField;
        strcpy(exampleArray[i], curField.c_str());
    }

    cout &lt;&lt; getAt(1, 1, n, exampleArray) &lt;&lt; endl;
}
</code></pre>
<p>I thought that you could define arrays at runtime, but apparently not in functions. I'm really new to C++ and still don't know how to do this kind of stuff.</p>
","2024-10-31 16:21:23","1","Question"
"79144467","79144464","","<pre><code>void nohigherthan_int(&amp;bound, &amp;tempSb);
</code></pre>
<p>This line is a problem and more precisely <code>void</code>.  Remove <code>void</code> and it will compile OK</p>
<p>When you have <code>void</code> at the beginning the compiler treats it as <strong>declaration</strong> (and it has the wrong syntax in this case), not a function call.</p>
<p>Also, remember to have a function prototype before the first call.</p>
<pre><code>void nohigherthan_int(int *a, int *b);
</code></pre>
","2024-10-31 11:07:15","2","Answer"
"79144464","","Function that has parameters as pointers is not working when I take in addresses of variables","<pre><code>The code here is for filtering an image
        //variables for purpose of shortening some lines
        int b = image[i][j].rgbtBlue;
        int g = image[i][j].rgbtGreen;
        int r = image[i][j].rgbtRed;

        int bound = 255;

        //variables here are for rounding purposes
        float Sb = .272 * r + .534 * g + .131 * b;
        int tempSb = .272 * r + .534 * g + .131 * b;
        
        //rounding to nearest integer
        if (Sb != tempSb &amp;&amp; Sb &gt;= tempSb + 0.5)
        {
            tempSb++;
        }
        //checking if that rounded integer is higher than bound (and if so set it to bound)
        void nohigherthan_int(&amp;bound, &amp;tempSb);
        //setting the correct pixel to sepia blue
        image[i][j].rgbtBlue = tempSb;


        void nohigherthan_int(int *a, int *b)
        {
            if (*a &lt;= *b)
            {
                *b = *a;
            }
        }
</code></pre>
<p>and this code is for the function I am struggling with since the terminal is saying ,firstly<br />
&quot;expected parameter declarator&quot; pointing to &amp;bound (i.e the address for the bound variable)
and secondly that the prototype I have put doesn't match the function (aka it is saying a
function declaration without a prototype is deprecated in all versions of c, conflicting with a
previous declaration then pointing to my prototype and the function in which I put the variable
&amp;bound, &amp;tempSb
the function prototype is just a copy paste of the function I declared above (which I put above
the rest of the code)</p>
<p>I have tried to change the values to int *a = &amp;bound and int *b = &amp;tempSb and the errors did go away
but default arguments aren't supported.</p>
","2024-10-31 11:05:35","0","Question"
"79143714","78633143","","<p>This feature has been added to Studio!</p>
<p>Adding a comment above a function definition will add it to the intellisense as a docstring</p>
<p>example:</p>
<pre class=""lang-lua prettyprint-override""><code>-- This adds 2 numbers together
local function add(a, b)
return a + b
end
</code></pre>
","2024-10-31 06:45:53","0","Answer"
"79143474","79143460","","<p>A function does require a body. In your first example, the body is a string literal. That it's &quot;a docstring&quot; isn't a matter of formal syntax, but of context-dependent conventional interpretation. In your second example, the body is an <code>Ellipsis</code> object</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; ...
Ellipsis
&gt;&gt;&gt; type(_)
&lt;class 'ellipsis'&gt;
</code></pre>
<p>For exactly the same reason, these are also valid function definitions:</p>
<pre><code>def f(): {}
def f(): 88
def f(): 3.14159
def f(): 1 &lt; 2
def f(): pass
</code></pre>
<p>A statement of any kind is necessary and sufficient, even if executing the statement has no effect. The latter is a matter of semantics rather than of syntax. The syntax doesn't (and can't) enforce that the code will do something sensible.</p>
","2024-10-31 04:10:39","0","Answer"
"79143460","","Why is a docstring sufficient to satisfy a python's definition of a function when its body is empty?","<p>I discovered this fun feature of Python, where this:</p>
<pre><code>def do_nothing():
    &quot;&quot;&quot;Does nothing.&quot;&quot;&quot;
</code></pre>
<p>is the same as this:</p>
<pre><code>def do_nothing():
    ...
</code></pre>
<p>I found someone commented this here:
<a href=""https://stackoverflow.com/questions/55274977/when-is-the-usage-of-the-python-ellipsis-to-be-preferred-over-pass"">&quot;If you give your function a docstring, you don't even need to put any statement after the line with the docstring.&quot;</a></p>
<p>Could someone explain why the docstring acts as a no-op?</p>
<p>I have searched through the python language reference, and I see that python's function definition requires the body to have a statement.
I looked at the statement definition in CPython, and I don't see any references to an <code>Ellipsis</code> or docstring as a valid statement:
<a href=""https://docs.python.org/3/reference/compound_stmts.html"" rel=""nofollow noreferrer"">https://docs.python.org/3/reference/compound_stmts.html</a></p>
","2024-10-31 04:00:01","0","Question"
"79142609","79142013","","<p>Let me to participate too.</p>
<pre><code>Option Explicit

Function InBetween(BtwFrom As Double, BtwTo As Double) As String
    Dim s&amp;, e&amp;
    s = Application.Ceiling(BtwFrom, 1): If s = BtwFrom Then s = s + 1
    e = Application.Floor(BtwTo, 1): If e = BtwTo Then e = e - 1
    If e &gt;= s Then
      InBetween = Application.Evaluate(&quot;TEXTJOIN(&quot;&quot;,&quot;&quot;,FALSE,SEQUENCE(&quot; &amp; (e - s + 1) &amp; &quot;,1,&quot; &amp; s &amp; &quot;))&quot;)
    End If
End Function
</code></pre>
<p>The solution uses the power of Excel to generate the sequence of integers and join them into a string over comma.</p>
","2024-10-30 19:52:07","1","Answer"
"79142346","79142013","","<h2>Delimited Integers Between Two Numbers</h2>
<p><a href=""https://i.sstatic.net/jmA3khFd.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/jmA3khFd.jpg"" alt=""enter image description here"" /></a></p>
<pre><code>Function InBetween( _
    ByVal MyFirst As Double, _
    ByVal MyLast As Double, _
    Optional ByVal Delimiter As String = &quot;,&quot;) _
As String
    
    If MyFirst = MyLast Then Exit Function

    Dim nStart As Long, nEnd As Long, nStep As Long
    
    Select Case MyFirst
        Case MyLast: Exit Function
        Case Is &lt; MyLast
            nStep = 1
            nStart = Int(MyFirst) + 1
            nEnd = Int(MyLast)
            If nEnd = MyLast Then nEnd = nEnd - 1
        Case Is &gt; MyLast
            nStep = -1
            nStart = Int(MyFirst)
            If nStart = MyFirst Then nStart = nStart - 1
            nEnd = Int(MyLast) + 1
    End Select
    
    Dim Result As String, i As Long, IsFirstFound As Boolean
    
    For i = nStart To nEnd Step nStep
        If IsFirstFound Then
            Result = Result &amp; Delimiter &amp; i
        Else
            Result = i
            IsFirstFound = True
        End If
    Next i
    
    If IsFirstFound Then InBetween = Result

End Function
</code></pre>
","2024-10-30 18:16:55","1","Answer"
"79142242","79142013","","<p>This should do what you want</p>
<pre><code>Function InBetween(MyFirst As Double, MyLast As Double) As String
    Dim i As Long, sep As String
    'round up first value, round down second value
    For i = Application.Ceiling(MyFirst, 1) To Application.Floor(MyLast, 1)
        InBetween = InBetween &amp; sep &amp; i
        sep = &quot;,&quot; 'populate separator after first value
    Next i
End Function
</code></pre>
","2024-10-30 17:42:11","1","Answer"
"79142226","79141547","","<p>I just finished writing a class that uses a small subset of its instance data to define <code>__eq__</code>. In this case, the attributes I use are defined in <code>__init__</code> and that tuple of attributes is then referred to in <code>__eq__</code>:</p>
<pre><code>def __eq__(self, other):
    if isinstance(other, Mycls):
        return all(self.__dict__[a]==getattr(other, a) for a in self.attribs)
    return NotImplemented     
</code></pre>
<p>So short answer: <em>It Depends</em> on whatever equality of the objects means <em>To You.</em></p>
","2024-10-30 17:36:16","1","Answer"
"79142188","79142013","","<p>Your problem is that your parameters are declared as <code>Integer</code>. When you call the function with Decimals (likely <code>Double</code>), the VBA runtime will convert the arguments implicitly to Integers. To make matters worse, VBA uses <em>&quot;Bankers Rounding&quot;</em>, if you pass &quot;5.5&quot;, it will be rounded to 6, but &quot;6.5&quot; will also be rounded to 6.</p>
<p>So change the parameter types to <code>Double</code>. Now you can use the <code>Int</code>-function to get only Integer-Part of the starting number, which is something different than rouding:  <code>Int(3)</code> is 3, <code>Int(3.3)</code> is 3, <code>Int(3.7)</code> is 3.</p>
<pre><code>Function InBetween(MyFirst As Double, MyLast As Double)
    MyFirst = Int(MyFirst)
    (...)
End Function 
</code></pre>
<p>This works, however I find it a little hard to read as it doesn't seem very obvious what the starting and ending values for the For-Loop is. I came up with the following code instead:</p>
<pre><code>Function InBetween(MyFirst As Double, MyLast As Double)
    Dim foo As String
    Dim curVal As Long
    curVal = Int(MyFirst) + 1
    Do While curVal &lt; MyLast
        foo = foo &amp; IIf(foo = &quot;&quot;, &quot;&quot;, &quot;,&quot;) &amp; CStr(curVal)
        curVal = curVal + 1
    Loop
    InBetween = foo
End Function
</code></pre>
","2024-10-30 17:26:09","3","Answer"
"79142084","78805072","","<p>The below Function search for any open sell position and close it. This function opens the buy position if no sell position was found, and returns false.
If sell positions were closed, the function will not open a new buy order and  will return true.</p>
<pre><code>       bool deleteSellOpenBuy()
       {
        int isSellClosed = false;
        int slippage=5;
        for(int i = OrdersTotal() - 1; i &gt;= 0; --i) // Cycle searching in orders
          {
           if(OrderSelect(i,SELECT_BY_POS) == true)
             {
              if(OrderSymbol() == Symbol() &amp;&amp; OrderType() == OP_SELL)
                {
                 if(OrderClose(OrderTicket(),OrderLots(),Ask,slippage,clrCyan) == true)
                   {
                    Print(OrderTicket(),&quot;: Sell Order closed&quot;);
                    isSellClosed=true;
                   }
                }
             }
          }
        if(!isSellClosed)
          {
           //Open new buy order if no sell trade was found and closed
           double lotSize=0.01;
           double sl = NormalizeDouble(Ask - 200 * _Point, Digits);
           double tp = NormalizeDouble(Ask + 200 * _Point, Digits);
           int magicNumber=0;
           if(OrderSend(Symbol(),OP_BUY,lotSize,Ask,slippage,sl,tp,&quot;&quot;,magicNumber,0,clrBlue) &lt; 0)
             {
              Print(&quot;Buy Order failed with error #&quot;,GetLastError());
             }
           else
             {
              Print(&quot;Buy Order placed successfully&quot;);
              return false;
             }
          }
        else
           return true;
       }
</code></pre>
","2024-10-30 16:56:45","0","Answer"
"79142013","","Inbetween UDF in Excel VBA but make it account for decimals instead of just integers?","<p>I have this VBA function to return the values inbetween two numbers into a single cell. It functions properly with negative numbers as well. It does not however properly return values in between decimals rounded to the nearest integer.</p>
<p>Eg, In between 3.5 and 6.5 the cell should print 4,5,6 when currently it just prints: 5</p>
<pre><code>Function InBetween(MyFirst As Integer, MyLast As Integer)
Dim foo As String
Dim i As Long
foo = MyFirst + 1
For i = MyFirst + 2 To MyLast - 1
foo = foo &amp; &quot;,&quot; &amp; i
Next i
InBetween = foo
End Function
</code></pre>
","2024-10-30 16:36:18","1","Question"
"79141577","79141547","","<p>It's just a matter of wording.</p>
<blockquote>
<p>The operator == compares the values of objects (the data they hold), while is compares their identities.</p>
</blockquote>
<p>Of course, I could define a class as follows:</p>
<pre class=""lang-py prettyprint-override""><code>def MyClass:
  def __eq__(self, other):
    return self.x == 3
</code></pre>
<p>Now, of course, <em>that's</em> not comparing values. <code>MyClass</code> isn't even holding any interesting sort of value! And the right hand side is ignored!</p>
<p>If you want to take the approach to definitions you're taking, then it would be more correct to say &quot;The operator <code>==</code> invokes the <code>__eq__</code> method on the left operand, passing both operands, and returns its result&quot;. There, now there's no discussion of values, hence no ambiguity as to what a &quot;value&quot; is.</p>
<p>But if you want to take the approach of <em>Python as one would actually want to use it</em>, then <code>==</code> compares values, and the &quot;value&quot; of an object is determined by whatever <code>__eq__</code> and related methods treat it as being. By default, for objects of class types, that's <code>id()</code>.</p>
","2024-10-30 14:37:37","1","Answer"
"79141547","","If a class doesn't overload the == operator, then what is the value of an object of that class?","<p>From the Python reference:</p>
<blockquote>
<p>Every object has an identity, a type and a value.</p>
</blockquote>
<blockquote>
<p>Comparison operators implement a particular notion of what the value of an object is. One can think of them as defining the value of an object indirectly, by means of their comparison implementation.</p>
</blockquote>
<p>And Luciano Ramalho in his book &quot;Fluent Python&quot; says that (on p.206 of the second ed.):</p>
<blockquote>
<p>The operator <code>==</code> compares the values of objects (the data they hold), while <code>is</code> compares their identities.</p>
</blockquote>
<p>So, one of the possible definitions of the object's value (<em>I think this is the only definition of the object's value that is at least somehow, very carefully and without details, mentioned in the official reference</em>) is the following. The value of an object is the data that is used by the <code>__eq__()</code> method  of that object. But there are classes that don't override this method. What is the value of an instance of such a class?<br />
(<em>Please note that I am not asking for a rigorous and strict definition here because it is unlikely to exist. I just need something a bit more practically useful than &quot;object's value is the information that this object represents&quot; – this is the phrase that people say when I ask them about the concept of an object's value, it is a true phrase but not very useful because it is too abstract.</em>)</p>
<hr />
<p>For example, let's say we have some function <code>f</code> - an instance of the built-in <code>function</code> class. This class doesn't override <code>__eq__()</code>, so in this case the <code>==</code> operator just compares the identities of its operands (if both operands are functions). But I don't think that we can say that the value of the object <code>f</code> is the same as the identity of <code>f</code>. Indeed, <a href=""https://stackoverflow.com/a/78656280/7123797"">people say</a> that user-defined functions are mutable objects, in other words, it is possible to change their value. But it is not possible to change the identity of <code>f</code> (or any other object). So, the value of <code>f</code> is not equal to <code>id(f)</code>. It should be defined differently and I hope it can be defined properly (if not in Python in general then at least in CPython).</p>
<p>Here on stackoverflow I have seen some definitions of a function object value, for example <a href=""https://stackoverflow.com/a/35725544/7123797"">here</a>:</p>
<blockquote>
<p>It's &quot;value&quot; is a set of other values, which are sufficient to define exact same function.</p>
</blockquote>
<p>But I am not sure that this is a &quot;canonical&quot; definition.</p>
","2024-10-30 14:31:10","-1","Question"
"79138508","79138472","","<p>These are the detailed answers to both of your questions. I hope the answer will help you understand and clarify the concepts</p>
<p><strong>Why doesn't this function need a return statement?</strong></p>
<p>Functions don't necessarily need a return statement unless they're supposed to produce a value. Here's why:</p>
<ul>
<li><code>console.log()</code> is used for outputting information to the console.</li>
<li>It doesn't return anything; it just prints to the console.</li>
<li>Functions that only use console.log() are typically used for side effects
(likeprinting to the console).</li>
</ul>
<p><strong>Why call the function with just <code>reusableFunction()</code> instead of <code>console.log(reusableFunction());</code>?</strong></p>
<ul>
<li><code>reusableFunction()</code> calls the function and executes its body.</li>
<li><code>console.log(reusableFunction())</code> would pass the <em><strong>function's return value</strong></em> itself as an argument to <code>console.log()</code>.</li>
<li>The latter is rarely used unless you want to <em><strong>log</strong></em> the <em><strong>function's return value</strong></em>.</li>
</ul>
<h2>Fundamental differences between displaying and returning values</h2>
<ol>
<li><em><strong>Displaying values (using <code>console.log()</code>):</strong></em></li>
</ol>
<ul>
<li>Used for outputting information to the console.</li>
<li>Doesn't produce a value that can be assigned to variables.</li>
<li>Useful for debugging and logging.</li>
</ul>
<ol start=""2"">
<li><em><strong>Returning values:</strong></em></li>
</ol>
<ul>
<li>Produces a value that can be captured and used elsewhere.</li>
<li>Can be assigned to variables or returned from functions.</li>
<li>Allows for function composition and passing data between functions.</li>
</ul>
","2024-10-29 18:24:02","1","Answer"
"79138507","79138472","","<p>To answer #1:
The function itself simply does not return a value. That is an option for a function, to do some processing on some data and return the result, or a function can just do some processing and that's it.</p>
<p>I think an analogy could be the difference between</p>
<p><em>Going to the post office to deliver a letter (no return value)</em>
vs.
<em>Going to the post office to pick up a package and do something with that package at home</em></p>
<p>#2
When you write Console.Log(reusableFunction()), you are simply combining these two items together. This would make more sense if 'reusableFunction()' were returning a result (as descibed in #1). In this case, it doesn't really make sense because what you're saying in essence is</p>
<pre><code>Log this value to the console -&gt; {returned value from function, which happens to not really be a value}
</code></pre>
<p>But, like I mentioned, there is no returned value here. Now, you're still calling the function, so the log line from within (console.log(&quot;Hi World&quot;);
) will execute as intended. But, this would be an unorthodox way of achieving this.</p>
<p>I hope this helps.</p>
","2024-10-29 18:23:15","0","Answer"
"79138472","","Understanding console.log() within functions vs. using return in JavaScript?","<p>I'm learning about functions in JavaScript and I'm confused about the role of <code>console.log()</code> and <code>return.</code></p>
<pre><code>function reusableFunction() {
  console.log(&quot;Hi World&quot;);
}

reusableFunction(); 
</code></pre>
<p>I understand this function logs &quot;Hi World&quot; to the console. My questions are:</p>
<ol>
<li><p><strong>Why doesn't this function need a <code>return</code> statement?</strong> I've seen other functions that are used <code>return</code> to send values back. Is <code>console.log()</code> doing something similar?</p>
</li>
<li><p><strong>Why do we call the function with just <code>reusableFunction();</code> instead of <code>console.log(reusableFunction());</code>?</strong> When would I use the second way of calling the function?</p>
</li>
</ol>
<p>I'm trying to understand the fundamental difference between displaying something in the console  <code>console.log()</code>   and returning a value from a function. Can you explain this with clear examples and perhaps point me to some           resources for further learning?</p>
<p>I tried reading Documents like MDN, JS, and Google Developer Docs. I even did a Google Search and kept getting the basics. It answered my question. I just simply want to know when you know to use a <code>return</code> statement in your functions and when to <code>console.log()</code> and then call the function, like this <code>console.log(reusableFunction())</code> . I understand what console.log() is what the return statement is and the difference between both.</p>
","2024-10-29 18:11:00","-1","Question"
"79137173","79137038","","<p>At the risk of overlooking something relevant.</p>
<pre class=""lang-r prettyprint-override""><code>within(example_data, {
  i = startsWith(nonemployementrate, &quot;siehe&quot;)
  nonemployementrate[i] = nonemployementrate[
    match(sub(&quot;\\D+&quot;, &quot;&quot;, nonemployementrate[i]), constituency_no)]
  rm(i)
})
</code></pre>
<p>giving</p>
<pre class=""lang-r prettyprint-override""><code>  constituency_no constituency_name nonemployementrate
1             001     Hamburg-Mitte               0.04
2             002    Hamburg-Altona               0.04
3             003      Hamburg-Nord               0.04
4             004            Lübeck               0.03
5             005         Pinneberg               0.02
</code></pre>
<hr />
<p>Edit. A simple function. (You ask for one.)</p>
<pre class=""lang-r prettyprint-override""><code>f = \(X) {
  stopifnot(is.data.frame(X), 
            c(&quot;nonemployementrate&quot;, &quot;constituency_no&quot;) %in% names(X))
  i = startsWith(X$nonemployementrate, &quot;siehe&quot;)
  r = match(sub(&quot;\\D+&quot;, &quot;&quot;, X$nonemployementrate[i]), X$constituency_no)
  X$nonemployementrate[i] = X$nonemployementrate[r]
  X
}
f(example_data)
</code></pre>
","2024-10-29 12:17:38","2","Answer"
"79137099","79137038","","<p>Here is an approach which does what you describe in base R, using joins. It checks whether the <code>nonemployementrate</code> starts with <code>&quot;siehe Wkr&quot;</code>, and if so it uses the <code>nonemployementrate</code> of the constituency to which it refers. If not it uses the <code>nonemployementrate</code> that is already present.</p>
<pre class=""lang-r prettyprint-override""><code>example_data |&gt;
    transform(
        join_on = ifelse(
            startsWith(nonemployementrate, &quot;siehe Wkr&quot;),
            gsub(&quot;\\D+&quot;, &quot;&quot;, nonemployementrate),
            constituency_no
        ),
        nonemployementrate = NULL
    ) |&gt;
    merge(
        subset(example_data, select = c(&quot;constituency_no&quot;, &quot;nonemployementrate&quot;)),
        by.x = &quot;join_on&quot;,
        by.y = &quot;constituency_no&quot;
    ) |&gt;
    transform(join_on = NULL) # or subset(select = -join_on)
#   constituency_no constituency_name nonemployementrate
# 1             001     Hamburg-Mitte               0.04
# 2             002    Hamburg-Altona               0.04
# 3             003      Hamburg-Nord               0.04
# 4             004            Lübeck               0.03
# 5             005         Pinneberg               0.02
</code></pre>
<h3><code>dplyr</code> approach</h3>
<p>Using <code>dplyr</code> you can do it by grouping rather than with a join. Essentially we create a column of the relevant constituency number (either the one to lookup or the one in that row), then group by this column and use the <code>nonemployementrate</code> rate for that constituency. This could be replicated in base R but feels less natural to me.</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)
example_data |&gt;
    mutate(
        lookup_rate = startsWith(nonemployementrate, &quot;siehe Wkr&quot;),
        nonemployementrate_num = if_else(
            lookup_rate,
            gsub(&quot;\\D+&quot;, &quot;&quot;, nonemployementrate),
            constituency_no
        )
    ) |&gt;
    mutate(
        nonemployementrate = nonemployementrate[!lookup_rate],
        .by = nonemployementrate_num
    ) |&gt;
    select(constituency_no, constituency_name, nonemployementrate)

#   constituency_no constituency_name nonemployementrate
# 1             001     Hamburg-Mitte               0.04
# 2             002    Hamburg-Altona               0.04
# 3             003      Hamburg-Nord               0.04
# 4             004            Lübeck               0.03
# 5             005         Pinneberg               0.02
</code></pre>
","2024-10-29 11:57:07","1","Answer"
"79137038","","Is there a R function that detects a specific string and replaces it by the value of another observation based on a number within the string?","<p>So, I am using constituency data of the German Election 1994 and some observations contain strings that indicate that the value is given in a different row (based on the Scheme &quot;siehe Wkr xxx&quot; - &quot;see constituency xxx&quot;). As an example, the non employement rate in Hamburg-Altona is only collected for Hamburg in general, so the constituency Hamburg-Altona should take the value of the observation Hamburg-Mitte.</p>
<pre><code>example_data &lt;- data.frame(constituency_no = c(&quot;001&quot;, &quot;002&quot;, &quot;003&quot;, &quot;004&quot;, &quot;005&quot;),
                           constituency_name = c(&quot;Hamburg-Mitte&quot;, &quot;Hamburg-Altona&quot;, &quot;Hamburg-Nord&quot;, &quot;Lübeck&quot;, &quot;Pinneberg&quot;),
                          nonemployementrate = c(0.04, &quot;siehe Wkr 001&quot;, &quot;siehe Wkr 001&quot;, 0.03, 0.02))
</code></pre>
<p>So, I want a function that automatically detects if there is a string beginning with &quot;siehe Wkr &quot; and then replace the value of that string with the value from the constituency number referred to. So in the example I want a function that automatically replaces the value of nonemployementrate with 0.04, as the string for Hamburg-Altona and Hamburg-Nord refers to constituency_no &quot;001&quot;.</p>
<pre><code>result &lt;- data.frame(constituency_no = c(&quot;001&quot;, &quot;002&quot;, &quot;003&quot;, &quot;004&quot;, &quot;005&quot;),
                           constituency_name = c(&quot;Hamburg-Mitte&quot;, &quot;Hamburg-Altona&quot;, &quot;Hamburg-Nord&quot;, &quot;Lübeck&quot;, &quot;Pinneberg&quot;),
                          nonemployementrate = c(0.04, 0.04, 0.04, 0.03, 0.02))
</code></pre>
","2024-10-29 11:36:29","2","Question"
"79135059","79134849","","<p>You have multiple ways to achieve this vectorially. Here is one example that identifies the flat regions based on the values close to 225 (with a tolerance of ±2), and highlights the start/end if the previous/next value is &gt;520. It uses <a href=""https://pandas.pydata.org/docs/reference/api/pandas.Series.shift.html"" rel=""nofollow noreferrer""><code>shift</code></a> and <a href=""https://numpy.org/devdocs/reference/generated/numpy.select.html"" rel=""nofollow noreferrer""><code>numpy.select</code></a>:</p>
<pre><code>def idle_finder(col, flat_value=225, flat_tol=2, high_thresh=520):
    m1 = col.gt(high_thresh)
    m2 = col.sub(flat_value).abs().lt(flat_tol)
    return pd.Series(np.select([m1.shift()&amp;m2, m1.shift(-1)&amp;m2, m2],
                               ['idl_strt', 'idl_ends', 'idle'],
                               ''),
                     index=col.index
                    ).replace('', None)
            
df['status'] = idle_finder(df['disp'])
</code></pre>
<p>Output:</p>
<pre><code>           disp      temp    status
148  528.253551  0.908375      None
149  537.832220  0.944138      None
150  225.073475  0.890493  idl_strt
151  225.247861  0.892878      idle
152  225.487333  0.895262      idle
153  225.515279  0.926256      idle
154  225.515003  0.909567      idle
155  225.518680  0.901222      idle
156  225.537893  0.927448      idle
157  225.068878  0.865460  idl_ends
158  540.460613  0.873804      None
159  531.048884  0.865460      None
</code></pre>
<p>If you want to ensure that a idle period starts and ends after/before a value greater than 520, you can use an additional mask:</p>
<pre><code>def idle_finder(col, flat_value=225, flat_tol=2, high_thresh=520):
    m1 = col.gt(high_thresh)
    m2 = col.sub(flat_value).abs().lt(flat_tol)
    m3 = m1.mask(m2)
    m4 = m3.ffill() &amp; m3.bfill() &amp; m2
    return pd.Series(np.select([m1.shift()&amp;m4, m1.shift(-1)&amp;m4, m4],
                               ['idl_strt', 'idl_ends', 'idle'],
                               ''),
                     index=col.index
                    ).replace('', None)
            
df['status'] = idle_finder(df['disp'])
</code></pre>
<p>Output:</p>
<pre><code>           disp      temp    status
148  528.253551  0.908375      None
149  337.832220  0.944138      None
150  225.073475  0.890493      None
151  225.247861  0.892878      None
152  225.487333  0.895262      None
153  225.515279  0.926256      None
154  525.515003  0.909567      None
155  225.518680  0.901222  idl_strt
156  225.537893  0.927448      idle
157  225.068878  0.865460  idl_ends
158  540.460613  0.873804      None
159  531.048884  0.865460      None
</code></pre>
<p>Intermediates:</p>
<pre><code>           disp      temp    status     m1     m2  m1.shift()&amp;m2  m1.shift(-1)&amp;m2     m3     m4  m1.shift()&amp;m4  m1.shift(-1)&amp;m4
148  528.253551  0.908375      None   True  False          False            False   True  False          False            False
149  337.832220  0.944138      None  False  False          False            False  False  False          False            False
150  225.073475  0.890493      None  False   True          False            False    NaN  False          False            False
151  225.247861  0.892878      None  False   True          False            False    NaN  False          False            False
152  225.487333  0.895262      None  False   True          False            False    NaN  False          False            False
153  225.515279  0.926256      None  False   True          False             True    NaN  False          False            False
154  525.515003  0.909567      None   True  False          False            False   True  False          False            False
155  225.518680  0.901222  idl_strt  False   True           True            False    NaN   True           True            False
156  225.537893  0.927448      idle  False   True          False            False    NaN   True          False            False
157  225.068878  0.865460  idl_ends  False   True          False             True    NaN   True          False             True
158  540.460613  0.873804      None   True  False          False            False   True  False          False            False
159  531.048884  0.865460      None   True  False          False            False   True  False          False            False
</code></pre>
","2024-10-28 20:47:28","0","Answer"
"79134849","","Pandas/Python creating new column with rows based based on condition of old column and previous row","<p>I am trying to analyze some data in a dataframe and identify when idle times (showing up as flat spots) appear in the data.  These flat spots are when the disp values go from &gt; 520 to ~ 225.   I would like to create a new column that acts as a label for these times.</p>
<p>This is a small, condensed excerpt of some of my data.  The full dataset has about 270,000 rows and can be noisy.  The start of the idle period is row 150 and the end of the idle period is row 157.</p>
<pre><code>           disp      temp  
148  528.253551  0.908375
149  537.832220  0.944138
150  225.073475  0.890493
151  225.247861  0.892878
152  225.487333  0.895262
153  225.515279  0.926256
154  225.515003  0.909567
155  225.518680  0.901222
156  225.537893  0.927448
157  225.068878  0.865460
158  540.460613  0.873804
159  531.048884  0.865460
</code></pre>
<p>The output I would like to generate is</p>
<pre><code>           disp      temp      state
148  528.253551  0.908375       None
149  537.832220  0.944138       None
150  225.073475  0.890493   idl_strt
151  225.247861  0.892878       idle
152  225.487333  0.895262       idle
153  225.515279  0.926256       idle
154  225.515003  0.909567       idle
155  225.518680  0.901222       idle
156  225.537893  0.927448       idle
157  225.068878  0.865460   idl_ends
158  540.460613  0.873804       None
159  531.048884  0.865460       None
</code></pre>
<p>Is there a vectorized way to do this?  Can functions called via the pd.apply method look at previous rows without first creating additional shifted columns?</p>
<p>I have already been able to populate the proper rows of the state column with &quot;idl_start&quot; and &quot;idl_ends&quot; using the following code</p>
<pre><code>def _idlefinder(self, row):
    &quot;&quot;&quot;Logic for finding idles start and end&quot;&quot;&quot;
    if (row[&quot;disp&quot;] + 250.0) &lt; row[&quot;nextdisp&quot;]:  # find large drops in disp value
        return &quot;idle_strt&quot;
    elif row[&quot;disp&quot;] + 250 &lt; row[&quot;lastdisp&quot;]:    # find large increases in disp value
        return &quot;idle_end&quot;

df[&quot;lastdisp&quot;] = df[&quot;disp&quot;].shift(1)
df[&quot;nextdisp&quot;] = df[&quot;disp&quot;].shift(-1)
df[&quot;status&quot;] = df.apply(_idlefinder, axis=1)  # label idle_start and idle_end
df.drop(columns=[&quot;nextdisp&quot;, &quot;lastdisp&quot;], inplace=True)
</code></pre>
<p>But this is both an inelegant and incomplete solution.    The crucial part of what I am asking is how to populate the rows between &quot;idl_strt&quot; and &quot;idl_ends&quot; because remaining sections of the data (upswings and pauses with noisy readings) will have to be identified and labeled as well.   My preference is not to go through the data row by row since I am using a data frame.</p>
<p>Previous versions of this program did parse this data row by row in lists, but became a bit verbose and involved to tweak or modify.</p>
","2024-10-28 19:26:11","1","Question"
"79134426","79134408","","<p>Because you are removing the dataframe from the list <code>df &lt;- df_list[[i]]</code> but not putting it back in <code>df_list</code>. <code>df</code> is an individual object which is being overwritten in every iteration.</p>
<p>You may try :</p>
<pre><code>timepoint_scores &lt;- function(df_list) {
  for (i in 1:length(df_list)) {
    df_list[[i]]$total_score &lt;- apply(df, 1, sum)
  } 
  return(df_list)
}
</code></pre>
<p>However, I would use <code>lapply</code> instead of <code>for</code> loop and <code>rowSums</code> instead of <code>apply(df, 1, sum)</code> which can be written as :</p>
<pre><code>timepoint_scores &lt;- function(df_list) {
  df_list &lt;- lapply(df_list, \(x) {x$total_score &lt;- rowSums(x);x})
  return(df_list)
}
</code></pre>
","2024-10-28 17:06:41","1","Answer"
"79134408","","Applying a function to each data frame contained in a list","<p>I have a list of data frames, and for each data frame in the list, I want to sum across the rows and store the result in a new column in that dataframe. So, I wrote this function:</p>
<pre><code>timepoint_scores &lt;- function(df_list) {
  for (i in 1:length(df_list)) {
    df &lt;- df_list[[i]]
    df$total_score &lt;- apply(df, 1, sum)
  } #end of for loop
}# end of timepoint_scores function
</code></pre>
<p>I know the df$total_score &lt;- apply(df, 1, sum) works when I do this to an individual data frame, but I don't understand why this is not working as a for loop.</p>
","2024-10-28 17:01:17","0","Question"
"79134247","79134132","","<p>Based on wim's solution, here is my function:</p>
<pre class=""lang-py prettyprint-override""><code>def my_tracer(frame, event, arg=None):
    # only respond to 'call' events
    if event != 'call':
        return

    # extracts frame code 
    code = frame.f_code 
  
    # extracts calling function name 
    func_name = code.co_name 

    # extracts the filename where function is defined
    filename = code.co_filename

    # handle relative paths
    if not os.path.isabs(filename):
        filename = os.path.abspath(filename)

    # filter to only show functions inside some directory
    desired_directory = os.getcwd()
    if not os.path.commonpath([filename, desired_directory]).startswith(desired_directory):
        return

    # extracts the line number 
    line_no = frame.f_lineno 
  
    print(f&quot;A {event} encountered in {func_name}() at line number {line_no}&quot;)

    return my_tracer 
</code></pre>
<p>And then</p>
<pre class=""lang-py prettyprint-override""><code>if __name__ == &quot;__main__&quot;:
    settrace(my_tracer) 
</code></pre>
","2024-10-28 16:13:51","1","Answer"
"79134140","79134132","","<p>Use <a href=""https://docs.python.org/3/library/sys.html#sys.settrace"" rel=""nofollow noreferrer""><code>sys.settrace</code></a> to set a trace function on 'call' events.</p>
","2024-10-28 15:50:19","2","Answer"
"79134132","","Tracking Python code execution by printing accessed functions","<p>I have an extensive Python project with many files. With the aim of debugging, I want to be able to run my program and have the names of the executed functions printed to the terminal. Is there a special way to call the Python file which does this?</p>
<p>I know of the solution concerning creating a printing function and decorating my functions to print their name on execution but since I have a large code manually decorating every function is lot. Is there some way to call the Python file in a way that it prints every accessed function?</p>
","2024-10-28 15:47:47","1","Question"
"79132029","79132012","","<p>I'm sure the problem has something to do with the overhead of calling and running a function, but not specifically sure.</p>
<p>However, by reimplementing the ReadBits function as a #define macro the problem is fixed, and the code is just as easy to use. It looks like this:</p>
<pre><code>#define ReadBits(REG, MASK) (((REG) &amp; (MASK)) &gt;&gt; __builtin_ctz(MASK))
</code></pre>
","2024-10-28 04:07:10","0","Answer"
"79132012","","C - STM32 - Calling function inside while statement causing a crash","<p>I am programming an STM32 in C, and have written a custom read function to make my life easier, utilising the CMSIS files.</p>
<pre><code>uint32_t ReadBits(volatile uint32_t *Reg, uint32_t Mask)
{
    uint32_t tmp = *Reg &amp; Mask; // temporary reg holding isolated values
    uint32_t position = __builtin_ctz(Mask); // Find the trailing amount of 0's
    return tmp &gt;&gt; position;
}
</code></pre>
<p>However, when I'm calling this function inside an interrupt, it triggers the hardfault_handler. I am implementing it like this:</p>
<pre><code>void EXTI4_15_IRQHandler(void)
{
    while(ReadBits(&amp;GPIOC-&gt;IDR, GPIO_IDR_ID6) == 0)
    {
        GPIOB-&gt;ODR = GPIO_ODR_OD2; // Stall interrupt and keep LED on
    }
    GPIOB-&gt;ODR = 0; // Turn LED off
    EXTI-&gt;FPR1 &amp;= EXTI_FPR1_FPIF6; // Clear flag
}
</code></pre>
<p>Two things to note:</p>
<ol>
<li>When I am debugging and place a breakpoint right at the start, it doesn't have any issues. It almost feels like I am giving the CPU time to breathe. The problem arises when I don't place any breakpoints in the ISR.</li>
<li>When I replace the inside of the while statement with <code>((GPIOC-&gt;IDR &gt;&gt; GPIO_IDR_ID6_Pos) &amp; 0b1) == 0</code>, there's no dramas at all. Confirming that it is the function call.</li>
</ol>
<p><strong>What is the issue here and how can I keep the ease of use of a custom function will maintaining stability? Please ignore the blocking nature of a while statement inside the ISR, I know it's not good practice, this is just a test project.</strong></p>
","2024-10-28 03:49:58","1","Question"
"79130324","79130259","","<p>Usually a variable with a <a href=""https://developer.mozilla.org/en-US/docs/Glossary/Primitive"" rel=""nofollow noreferrer""><em>primitive</em> value</a> does not change the value. To get a different value, you need a <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions"" rel=""nofollow noreferrer""><em>function</em></a> (<em>callable</em> value) and this returns the result of a function.</p>
<p>Another solution could be an object with a property getter.</p>
<p>You could use an object, here <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Window"" rel=""nofollow noreferrer""><code>window</code></a> and <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"" rel=""nofollow noreferrer"">create a property</a> with a <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#get"" rel=""nofollow noreferrer"">getter</a>.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>Object.defineProperty(window, ""randomize"", {
    get() {
        return Math.random();
    }
});

console.log(randomize);
console.log(randomize);
console.log(randomize);</code></pre>
</div>
</div>
</p>
","2024-10-27 10:03:02","0","Answer"
"79130308","79130259","","<p><code>thisIsNew</code> is a variable which is defined and initialized via this line:</p>
<pre><code>var thisIsNew = Math.floor(Math.random() * 6);
</code></pre>
<p>At this point you compute a randomized number between 0 and 1, multiply it with 6, so it will be between 0 and 6 and floor it, so it will be 0, 1, 2, 3, 4, 5.</p>
<p>Once the computation is over, this value is assigned to your newly created variable of <code>thisIsNew</code>, which, from that point onwards will have this value until you change it. So, when you later on refer to <code>thisIsNew</code>, without changing its value, it will be the same. You can compute it again when needed.</p>
<p>A neat way to do so is to have a randomization function, like</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function randomize(seed = 6) {
    return Math.floor(Math.random() * 6);
}

console.log(randomize());
console.log(randomize());
console.log(randomize());</code></pre>
</div>
</div>
</p>
","2024-10-27 09:56:58","1","Answer"
"79130278","79130259","","<p>If you generate a single random number and store it in a variable, the contents of the variable won't change across different outputs of the same unchanged variable.</p>
<p>Instead what you need to do is make a function that generates random numbers the way you like, and <em>call</em> that function multiple times:</p>
<pre><code>RND_MULTIPLIER = 6;

function myRandom() {
  return Math.floor(Math.random() * RND_MULTIPLIER);
}

console.log(myRandom());
console.log(myRandom());
console.log(myRandom());
</code></pre>
<p>will print 3 freshly generated random numbers.</p>
","2024-10-27 09:38:31","1","Answer"
"79130259","","What's wrong with my random number generation, it's only giving one number as an output","<p><a href=""https://i.sstatic.net/QsPISEMn.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/QsPISEMn.png"" alt=""Math.random()"" /></a></p>
<p>I tried changing numbers, plus i also tried removing and re-adding math floor but the outcome was still the same. It's supposed to give different number every time but in my case it's only giving one number as an output no matter how many times i write the code.</p>
<p>My code is</p>
<pre><code>var thisIsNew = Math.floor(Math.random() * 6);
</code></pre>
","2024-10-27 09:25:22","-3","Question"
"79128958","79125135","","<p>Simple solution  your call:</p>
<pre><code>$pdf-&gt;Cell(65 ,3, &quot;Helene&quot;,1, 1, 'R');
```

Change the 'R' to 'C'  for centered
or
Change the 'R' to  'L' for left.
</code></pre>
","2024-10-26 16:16:41","-1","Answer"
"79128727","79100733","","<p>Add a method to A:</p>
<pre><code>public boolean passes() {
    return aFilter(getS());
}
</code></pre>
<p>Then</p>
<pre><code>myAs.stream()
    .map(A::passes)
    .map(A::aTransformation)
    .toList();
</code></pre>
","2024-10-26 14:19:16","0","Answer"
"79128722","79128697","","<p>The solution I see here is to make the function receive the argument as a string.</p>
<p>Something like this.</p>
<pre><code>function validIntegerString(value) { // value must be a string
  return (
    value.length != 0 &amp;&amp; !value.includes(&quot;.&quot;) &amp;&amp; Number.isInteger(Number(value))
  );
}
</code></pre>
","2024-10-26 14:18:40","0","Answer"
"79128708","79128697","","<p><code>10</code> and <code>10.0</code> are the same in JS. It's a primitive value of type <code>number</code>. You cannot distinguish between these notations in runtume.</p>
<blockquote>
<p>The JavaScript Number type is a double-precision 64-bit binary format IEEE 754 value</p>
</blockquote>
<p><a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number</a></p>
<p>You can check only whether an expression is a number and has a decimal part with <code>Number.isInteger()</code>.</p>
<p>Also it seems as a XY problem since its purpose isn't clear.</p>
<p>For allocating integers you could examine <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Typed_arrays"" rel=""nofollow noreferrer"">typed arrays</a>.</p>
","2024-10-26 14:14:42","4","Answer"
"79128697","","(.0) float in Javascript","<p>I am trying to do write a code for a function that displays a boolean after checking if the value is an integer or not. see my definition of an integer in my ideal outputs below when i call the function:</p>
<p>So far, my code is failing because it generates true for validInteger ( 10.0 ) when i want it to be false. Javascript is struggling because 10.0 = 10</p>
<p>DESIRED OUTPUT</p>
<pre><code>validInteger ( '10' ) // should return True
validInteger ( 10 ) // should return True 
validInteger ( '-10' ) // should return False
validInteger ( -10 ) // should return False
validInteger ( 0.0 ) // should return False
validInteger ( 10.0 ) // should return False
validInteger ( -10.0 ) // should return False
</code></pre>
<p>I wonder if anyone has an idea on how i can get a false result for validInteger ( 10.0 ). so far this is the code i have been able to write:</p>
<pre><code>function validInteger (value) { // value can be a string or a number (integer)
  
  const numberValue = Number(value);
  return Number.isInteger(numberValue) &amp;&amp; numberValue &gt;= 0 &amp;&amp; String(numberValue) ===     String(value);

}
</code></pre>
","2024-10-26 14:08:46","-4","Question"
"79127516","79125838","","<p>While I don't think there's anything wrong with your current approach, I think a decorator may give you the behavior you want without being too cryptic or unpythonic</p>
<pre class=""lang-py prettyprint-override""><code>import numpy as np

def args_to_ndarray(f):
    &quot;&quot;&quot; decorator converts all args and keyword args to numpy arrays &quot;&quot;&quot;
    def wrapper(*args, **kwargs):
        args = [np.asarray(arg) for arg in args]
        kwargs = {key: np.asarray(value) for key, value in kwargs.items()}
        return f(*args, **kwargs)
    
    return wrapper

@args_to_ndarray     # &lt;--- decorator ensures all args converted to np.ndarrays
def my_function(a, b, c):
    print(f'type(a): {type(a)}')
    print(f'type(b): {type(b)}')
    print(f'type(c): {type(c)}')

my_function(1, 2, 3)
</code></pre>
<p>when run, this prints</p>
<pre class=""lang-none prettyprint-override""><code>type(a): &lt;class 'numpy.ndarray'&gt;
type(b): &lt;class 'numpy.ndarray'&gt;
type(c): &lt;class 'numpy.ndarray'&gt;
</code></pre>
<p>Note that if you use default arguments they will not be included in the decorator wrapper.</p>
","2024-10-25 23:00:47","1","Answer"
"79126990","79126947","","<p>Here's a helper function that parses the code using regular expressiosn and then expands the values with <code>paste()</code></p>
<pre><code>expand_codes &lt;- function(x) {
  parts &lt;- strsplit(x, &quot;,\\s+&quot;)[[1]]
  m &lt;- regexec(&quot;F(\\d+)\\.(\\d+)-F(\\d+)\\.(\\d+)&quot;, parts)
  unlist(lapply(regmatches(parts, m), function(x) paste0(&quot;F&quot;, x[2], &quot;.&quot;, as.numeric(x[3]):as.numeric(x[5]))))
}
</code></pre>
<p>It works like this</p>
<pre><code>test &lt;- &quot;F11.120-F11.129, F11.220-F11.229, F11.920-F11.929, F12.120-F12.129, F12.220-F12.229, F12.920-F12.929, F13.120-F11.129, F13.220-F11.229, F13.920-F11.929&quot; 
expand_codes(test)
#  [1] &quot;F11.120&quot; &quot;F11.121&quot; &quot;F11.122&quot; &quot;F11.123&quot; &quot;F11.124&quot; &quot;F11.125&quot; &quot;F11.126&quot; &quot;F11.127&quot; &quot;F11.128&quot; &quot;F11.129&quot; &quot;F11.220&quot; &quot;F11.221&quot;
# [13] &quot;F11.222&quot; &quot;F11.223&quot; &quot;F11.224&quot; &quot;F11.225&quot; &quot;F11.226&quot; &quot;F11.227&quot; &quot;F11.228&quot; &quot;F11.229&quot; &quot;F11.920&quot; &quot;F11.921&quot; &quot;F11.922&quot; &quot;F11.923&quot;
# [25] &quot;F11.924&quot; &quot;F11.925&quot; &quot;F11.926&quot; &quot;F11.927&quot; &quot;F11.928&quot; &quot;F11.929&quot; &quot;F12.120&quot; &quot;F12.121&quot; &quot;F12.122&quot; &quot;F12.123&quot; &quot;F12.124&quot; &quot;F12.125&quot;
# [37] &quot;F12.126&quot; &quot;F12.127&quot; &quot;F12.128&quot; &quot;F12.129&quot; &quot;F12.220&quot; &quot;F12.221&quot; &quot;F12.222&quot; &quot;F12.223&quot; &quot;F12.224&quot; &quot;F12.225&quot; &quot;F12.226&quot; &quot;F12.227&quot;
# [49] &quot;F12.228&quot; &quot;F12.229&quot; &quot;F12.920&quot; &quot;F12.921&quot; &quot;F12.922&quot; &quot;F12.923&quot; &quot;F12.924&quot; &quot;F12.925&quot; &quot;F12.926&quot; &quot;F12.927&quot; &quot;F12.928&quot; &quot;F12.929&quot;
# [61] &quot;F13.120&quot; &quot;F13.121&quot; &quot;F13.122&quot; &quot;F13.123&quot; &quot;F13.124&quot; &quot;F13.125&quot; &quot;F13.126&quot; &quot;F13.127&quot; &quot;F13.128&quot; &quot;F13.129&quot; &quot;F13.220&quot; &quot;F13.221&quot;
# [73] &quot;F13.222&quot; &quot;F13.223&quot; &quot;F13.224&quot; &quot;F13.225&quot; &quot;F13.226&quot; &quot;F13.227&quot; &quot;F13.228&quot; &quot;F13.229&quot; &quot;F13.920&quot; &quot;F13.921&quot; &quot;F13.922&quot; &quot;F13.923&quot;
# [85] &quot;F13.924&quot; &quot;F13.925&quot; &quot;F13.926&quot; &quot;F13.927&quot; &quot;F13.928&quot; &quot;F13.929&quot;
</code></pre>
","2024-10-25 18:48:14","2","Answer"
"79126966","79126947","","<p>Using <code>gregexpr</code>.</p>
<pre><code>&gt; gregexpr('F\\d{2}\\.\\d{3}', test) |&gt; 
+   regmatches(x=test) |&gt; 
+   unlist()
 [1] &quot;F11.120&quot; &quot;F11.129&quot; &quot;F11.220&quot; &quot;F11.229&quot; &quot;F11.920&quot; &quot;F11.929&quot;
 [7] &quot;F12.120&quot; &quot;F12.129&quot; &quot;F12.220&quot; &quot;F12.229&quot; &quot;F12.920&quot; &quot;F12.929&quot;
[13] &quot;F13.120&quot; &quot;F11.129&quot; &quot;F13.220&quot; &quot;F11.229&quot; &quot;F13.920&quot; &quot;F11.929&quot;
</code></pre>
","2024-10-25 18:39:41","2","Answer"
"79126947","","How do I expand out an alphanumeric string in R?","<p>I have this alphanumeric character string of ICD-10 medical codes that come in ranges; however, I need to expand these out such that my final output is a string that reflects each medical code in each range. I've been at this for several days and chatgpt has not been helpful.</p>
<p>The prefix before the decimal change, as well as the endings change but follow a pattern (e.g., F11 through F19 for the prefix, and the endings have three ranges 120-129, 220-229, 920-929). I need all of these codes expanded out in a list or a data frame.</p>
<p>Here's just a sample of the alhpanumeric ranges I need to expand out:</p>
<pre><code>test &lt;- &quot;F11.120-F11.129, F11.220-F11.229, F11.920-F11.929, F12.120-F12.129, F12.220-F12.229, F12.920-F12.929, F13.120-F11.129, F13.220-F11.229, F13.920-F11.929&quot; 
</code></pre>
<p>I need the final output to look like this:
&quot;<strong>F11.120</strong>, F11.121, F11.122, F11.123, F11.124, F11.125, F11.126, F11.127, F11.128, F11.129, <strong>F11.220</strong>, ..., F19.929&quot;</p>
<p>Would much apprecaite the help or an idea for how to approach the problem. Thank you!</p>
<p>This where my thought process is headed at this point after getting lost in trying to make a loop:</p>
<pre><code>test &lt;- strsplit(test, &quot;,&quot;)[[1]]
codes &lt;- str_split(test, &quot;-&quot;, simplify = T)

nums &lt;- codes %&gt;% 
  as.data.frame() %&gt;% 
  mutate(prefix = as.character(sub(&quot;\\..*&quot;, '',.[,1])),
         start_num = as.numeric(sub('.*\\.', '', .[,1])), 
         end_num = as.numeric(sub('.*\\.', '', .[,2]))
         )
</code></pre>
","2024-10-25 18:34:44","0","Question"
"79126884","79126621","","<p><strong>UPDATE:</strong></p>
<p>In your updated example, <code>evaluator.val(item2)</code> does not call <code>EvaluatorZombie::val()</code> like you want, because <code>evaluator</code> is not declared as an <code>EvaluatorZombie</code> to begin with.  You are &quot;slicing&quot; the <code>EvaluatorZombie</code> object into a base <code>Evaluator</code> object, which is why <code>Evaluator::val()</code> is being called.</p>
<p><a href=""https://stackoverflow.com/questions/274626/"">What is object slicing?</a></p>
<p>You would need to change the declaration of <code>evaluator</code> to be an <code>EvaluatorZombie</code> object without slicing it, eg:</p>
<pre><code>auto evaluator = EvaluatorZombie();
// or simply:
EvaluatorZombie evaluator;
</code></pre>
<p>You would also need to expose access to the <code>Evaluator::val</code> method in <code>EvaluatorZombie</code>, such as with a <code>using</code> statement, otherwise <code>EvaluatorZombie::val</code> will hide <code>Evaluator::val</code> and you will get a compile error trying to pass anything other than an <code>ItemPickaxe</code> to <code>EvaluatorZombie::val()</code>:</p>
<pre><code>class EvaluatorZombie : public Evaluator {
public:
    using Evaluator::val; // &lt;-- ADD THIS

    void val(ItemPickaxe&amp; item) {
        std::cout &lt;&lt; &quot;get_val zombie, item type: &quot; &lt;&lt; typeid(item).name() &lt;&lt; std::endl;
    }
};
</code></pre>
<p>Or, declare <code>evaluator</code> as an <code>Evaluator*</code> (or <code>std::unique_ptr&lt;Evaluator&gt;)</code> pointer.  Polymorphic method dispatch only works via pointers and references.</p>
<p>That being said...</p>
<hr />
<p>(original answer)</p>
<p>Make <code>Evaluator::get_val()</code> be <code>virtual</code> so <code>EvaluatorZombie</code> can override it, and then use <code>dynamic_cast</code> to test if the passed <code>Item</code> is a specific derived type.</p>
<p>For example:</p>
<pre><code>class Item {
public:
    virtual ~Item() = default;
};

class Evaluator {
public:
    virtual ~Evaluator() = default;
    virtual int get_val(const Item&amp; item) {
        // use item as needed...
        return ...;
    }
};

class ItemSword : public Item {};
class ItemPickaxe : public Item {};

class EvaluatorZombie : public Evaluator {
public:
    int get_val(const ItemSword&amp; sword) {
        // use sword as needed...
        return ...;
    }

    int get_val(const Item&amp; item) override {
        const ItemSword *sword = dynamic_cast&lt;const ItemSword*&gt;(&amp;item);
        if (sword)
            return get_val(*sword);

        return Evaluator::get_val(item);
    }
};
</code></pre>
<pre><code>// calls EvaluatorZombie::get_val(const ItemSword&amp;)
EvaluatorZombie{}.get_val(ItemSword{});
</code></pre>
<pre><code>// calls EvaluatorZombie::get_val(const Item&amp;)
// which calls Evaluator::get_val(const Item&amp;)
EvaluatorZombie{}.get_val(ItemPickaxe{});
</code></pre>
<p><a href=""https://onlinegdb.com/TaBfl6n0ft"" rel=""nofollow noreferrer"">Online Demo</a></p>
<hr />
<p><strong>UPDATE:</strong></p>
<p>Another option is to have each <code>Evaluator</code> descendant register the types it is interested in, and then have <code>get_val()</code> lookup the passed <code>Item</code> in the registered data to know what it do next with it, eg:</p>
<pre><code>class Item {
public:
    virtual std::string Type() const { return &quot;Item&quot;; }
    virtual ~Item() = default;
};

class Evaluator {
protected:
    std::unordered_map&lt;std::string, std::function&lt;int(const Item&amp;)&gt;&gt; get_val_funcs;

public:
    virtual ~Evaluator() = default;

    int get_val(const Item&amp; item) {
        auto iter = get_val_funcs.find(item.Type());
        if (iter != get_val_funcs.end()) {
            return iter-&gt;second(item);
        }
        return ...;
    }
};

class ItemSword : public Item {
public:
    std::string Type() const override { return &quot;Sword&quot;; }
};

class ItemPickaxe : public Item {
public:
    std::string Type() const override { return &quot;Pickaxe&quot;; }
};

class EvaluatorZombie : public Evaluator {
public:
    EvaluatorZombie() {
        get_val_funcs[&quot;Sword&quot;] = [this](const Item&amp; item){
            return get_val(static_cast&lt;const ItemSword&amp;&gt;(item));
        };
    }

    int get_val(const ItemSword&amp; item) {
        // use sword as needed...
        return ...;
    }
};
</code></pre>
<pre><code>// calls EvaluatorZombie::get_val(const ItemSword&amp;)
EvaluatorZombie{}.get_val(ItemSword{});
</code></pre>
<pre><code>// calls EvaluatorZombie::get_val(const Item&amp;)
// which calls Evaluator::get_val(const Item&amp;)
EvaluatorZombie{}.get_val(ItemPickaxe{});
</code></pre>
<pre><code>// calls Evaluator::get_val(const Item&amp;)
// which calls EvaluatorZombie::get_val(const ItemSword&amp;)
EvaluatorZombie evaluator;
Evaluator &amp;eval_ref = evaluator;
eval_ref.get_val(ItemSword{});
Evaluator *eval_ptr = &amp;evaluator;
eval_ptr-&gt;get_val(ItemSword{});
</code></pre>
<p><a href=""https://onlinegdb.com/Fk6gjawEA"" rel=""nofollow noreferrer"">Online Demo</a></p>
","2024-10-25 18:14:19","3","Answer"
"79126621","","C++ function parameter overload with parent-child arguments","<p>I am working on a C++ project involving class inheritance and function parameter overloading. I have two base classes that should never be instantiated but only inherited (by design choice):</p>
<pre><code>#include &lt;iostream&gt;

class Item {
public:
    virtual void use() = 0;
};
class ItemSword : public Item {
public:
    void use() override {}
};
class ItemPickaxe : public Item {
public:
    void use() override {}
};

class Evaluator {
public:
    void val(Item&amp; item) {
        std::cout &lt;&lt; &quot;get_val default, item type: &quot; &lt;&lt; typeid(item).name() &lt;&lt; std::endl;
    }
};

class EvaluatorZombie : public Evaluator {
public:
    void val(ItemPickaxe&amp; item) {
        std::cout &lt;&lt; &quot;get_val zombie, item type: &quot; &lt;&lt; typeid(item).name() &lt;&lt; std::endl;
    }
};

int main() {
    Evaluator evaluator = EvaluatorZombie();


    auto item1 = ItemSword();
    evaluator.val(item1);   // &quot;get_val default, item type: 9ItemSword&quot;

    auto item2 = ItemPickaxe();
    evaluator.val(item2);   // &quot;get_val default, item type: 11ItemPickaxe&quot;, 
                            //but I want &quot;get_val zombie, item type: 11ItemPickaxe&quot;
}

</code></pre>
<p>I essentially want the <code>.val(ItemType)</code> call to first check if ItemType exists in the evaluator, and if it doesn't, then use the parent .val(Item). Where ItemType inherits from Item.</p>
<p>The specific item &quot;type&quot; may be different and is not known at compile time, so I realize this may be an issue.</p>
<p>All the solutions I have seen require either implementing all &quot;items&quot; in a single &quot;get_val&quot; method in the Evaluators, but I want to be able to implement multiple &quot;get_vals&quot; for different items in the Evaluator children classes, and then use a default when an Item is not implemented in a get_val.</p>
<p>So I want a solution that:</p>
<ol>
<li>Allows me to write multiple get_vals in the Evaluator children for each Item class</li>
<li>Does not modify the original &quot;Item&quot; and &quot;Evaluator&quot;, or at least does it to a minimum. I want the original &quot;Item&quot; and &quot;Evaluator&quot; to be agnostic to the children.</li>
</ol>
<p>Any help or thoughts is appreciated, thank you.</p>
","2024-10-25 16:46:23","1","Question"
"79126221","79126201","","<p>The <strong>clearTimeout(timeoutID)</strong> works because <strong>timeoutID</strong> is declared outside the <strong>updateMessage</strong> function, so it keeps its value across multiple calls of updateMessage. When <strong>clearTimeout(timeoutID)</strong> runs, it stops the previous timeout (if there was one), then a new setTimeout is started and assigned to <strong>timeoutID</strong>. This way, each time you press the button, it resets the timer by clearing the old timeout and starting a fresh 2-second countdown.</p>
","2024-10-25 14:52:33","0","Answer"
"79126201","","Javascript Function using a parameter defined in the future","<p>I'm doing a question that appears in 10:10:02 of this video <a href=""https://youtu.be/EerdGm-ehJQ?t=36602"" rel=""nofollow noreferrer"">https://youtu.be/EerdGm-ehJQ?t=36602</a> (Challenge exercise 12f)</p>
<p>The question is as follows:</p>
<ul>
<li>Click a button in HTML</li>
<li>Add a message on the screen</li>
<li>Start a 'setTimeout' for 2 seconds, at the end of the 2 seconds, remove the message</li>
<li>But within that 2 second timeout, press the button <em>again</em></li>
<li>The timeout has to <em>refresh</em> (using clearTimeout) so the timer will continue on for more than the original 2 seconds.</li>
</ul>
<p>I figured out the solution but I don't understand <em>how</em> it works.
my code is as follows:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let timeoutID;

function updateMessage() {
  const message = document.querySelector('.js-message')

  message.innerHTML = 'Added'

  clearTimeout(timeoutID)

  timeoutID = setTimeout(function() {
    message.innerHTML = ''
  }, 2000)

}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;button onclick=""
  updateMessage();
  ""&gt;Add to cart&lt;/button&gt;


&lt;p class=""js-message""&gt;&lt;/p&gt;</code></pre>
</div>
</div>
</p>
<p>When the clearTimeout(timeoutID) line is ran, it seems to me that <em>the parameter that is being inputted into clearTimeout is defined on the next bit of code below</em>. how is clearTimeout reaching onto the 2 lines of code below and then going back and running itself?</p>
<p>I see that I've put 'let timeoutID' in the first line of the script, but I'm not assigning anything to it. I dont understand this part.</p>
","2024-10-25 14:48:12","0","Question"
"79126055","79125838","","<p>Use the kwargs option and loop through the keywords resulting in a dictionary with your arrays.</p>
<pre><code>def my_function2(period, mw, rjb, **kwargs):
    period = np.array(period)
    mw = np.array(mw)
    rjb = np.array(rjb)
    for k in kwargs:
        kwargs[k] = np.array(kwargs[k])
    return kwargs

x = my_function2(2,[1,2,3],'1234', soft_site=0,stiff_site=0,fault_normal=0,fault_reverse=0)

print(x)
</code></pre>
<p>Results in:</p>
<pre><code>{'soft_site': array(0), 'stiff_site': array(0), 'fault_normal': array(0), 'fault_reverse': array(0)}
</code></pre>
","2024-10-25 14:06:14","-1","Answer"
"79125838","","Iterating operations over function arguments in python","<p>I have a function which accepts 7 input, each of them could be a scalar (float), a list, or a numpy array. For subsequent calculations, I want to convert them all to numpy arrays.</p>
<pre><code>import numpy as np

def my_function(period,mw,rjb,soft_site=0,stiff_site=0,fault_normal=0,fault_reverse=0):
    period = np.array(period)
    mw = np.array(mw)
    rjb = np.array(rjb)
    soft_site = np.array(soft_site)
    stiff_site = np.array(stiff_site)
    fault_normal = np.array(fault_normal)
    fault_reverse = np.array(fault_reverse)
</code></pre>
<p>This is how I'm doing it. Is there a way to loop over the arguments rather than repeatedly calling the np.array() method because that would also make it compatible with variable number of arguments.</p>
","2024-10-25 13:08:50","1","Question"
"79125135","","Accent in Cell FPDF function causes mis-alignment of content","<p>If have this <a href=""http://www.fpdf.org/"" rel=""nofollow noreferrer"">FPDF</a> code:</p>
<pre><code> $pdf-&gt;Cell(65 ,3, &quot;Helene&quot;,1, 1, 'R');
 $pdf-&gt;Ln(2);
 $pdf-&gt;Cell(65 ,3, &quot;Hélène&quot;,1, 1, 'R');
</code></pre>
<p>This gives two different results:</p>
<p><a href=""https://i.sstatic.net/ZCaNrXmS.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ZCaNrXmS.png"" alt=""enter image description here"" /></a></p>
<p>Why accents provoke this problem? There is a shift between &quot;Helene&quot; and &quot;Hélène&quot;m so that &quot;Hélène&quot; is not right-justified, but &quot;Helene&quot; is right-justified. Could this be a problem of font not being UTF-8 compatible?</p>
<pre><code>&lt;?php
// Appel de la librairie FPDF
require(&quot;fpdf/fpdf.php&quot;);
// Création de la class PDF
class PDF extends FPDF {
     function Header()
    {
    }   
}
// Activation de la classe
$pdf = new PDF('L', 'mm', array(85, 54)); 
$HeaderVisible=1;
$pdf-&gt;SetFont('Arial','',12);
$pdf-&gt;SetTextColor(128, 128, 128);   //couleur grise
$pdf-&gt;AddPage('L'); 
$pdf-&gt;Cell(65 ,3, &quot;Hélène&quot;,1, 1, 'R');
$pdf-&gt;Ln(2);
$pdf-&gt;Cell(65 ,3, &quot;Helene&quot;,1, 1, 'R');
$nom = 'test2.pdf';
exec (&quot;rm test2.pdf&quot;);
// Envoi des en-têtes
header(&quot;Cache-Control: no-cache, no-store, must-revalidate&quot;);
header(&quot;Pragma: no-cache&quot;);
header(&quot;Expires: 0&quot;);
header('Content-Type: application/pdf');
header('Content-Disposition: inline; filename=&quot;'.$nom.'&quot;');
$pdf-&gt;Output($nom);
echo $nom;
?&gt;  
</code></pre>
","2024-10-25 09:48:55","0","Question"
"79114080","78759802","","<p>The scenario the OP describes asks for a solution based on what is known as decorators. In JavaScript one way of implementing this pattern was to provide them as <em><strong>function-</strong></em> respectively <em><strong>method-modifiers</strong></em>, implemented as methods itself at the <code>Function.prototype</code>.</p>
<p>The OP's specific use case can be solved best with an universal <code>around</code> modifier. One just has to integrate the slightly changed implementation of the newly provided &quot;C&quot;-check (hence the OP's <code>checkC</code> function) into a specific <code>around</code>-handler function where the latter gets passed as the first parameter to the before mentioned <code>around</code> method of e.g. <code>funcA</code> and <code>funcB</code> in order to create modified versions of each function with both now featuring the additional behavior that has been provided with the passed <code>around</code>-handler.</p>
<p>... example code ...</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"" data-babel-preset-react=""false"" data-babel-preset-ts=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// - code which should not anymore be touched.

function funcA(inputParam) {
  if (!inputParam.valueA) {
    console.log('`funcA`/`valueA` specific error handling.');
    return;
  }
  console.log('`funcA` ... do stuff ...');
}
function funcB(inputParam) {
  if (!inputParam.valueB) {
    console.log('`funcB`/`valueB` specific error handling.');
    return;
  }
  console.log('`funcB` ... do stuff ...');
}

// - a much later additonally spcified check
//   which has to be run with the invocation
//   of either of the above functions.
function doesPassAdditionalCheckC (inputParam) {
  let isValid = true;

  if (!inputParam.valueC) {
    console.log('`additionalCheckC`/`valueC` specific error handling.');

    isValid = false;
  }
  return isValid;
}

// - implement an `around`-modifier and
//   ""C""-check specific handler-function.
function proceedOnlyInCaseCheckCDoesPass(proceed, handler, ...args) {
  const inputParam = args[0];

  if (doesPassAdditionalCheckC(inputParam)) {
  
    proceed(inputParam);
  }
}
const valueA = 'foo';
const valueB = 'bar';
const valueC = 'baz';

console.log('\n+++ BEFORE MODIFICATION ... `A`/`B`-checks +++\n');

console.log('\nfuncA({}) ...'), funcA({});
console.log('\nfuncB({}) ...'), funcB({});

console.log('\nfuncA({ valueA }) ...'), funcA({ valueA });
console.log('\nfuncB({ valueB }) ...'), funcB({ valueB });

// - create and reassign the modified
//   version of a function, each from
//   and to its original reference.
funcA = funcA.around(proceedOnlyInCaseCheckCDoesPass);
funcB = funcB.around(proceedOnlyInCaseCheckCDoesPass);

console.log('\n+++ AFTER MODIFICATION ... `C` check-first +++\n');

console.log('\nfuncA({}) ...'), funcA({});
console.log('\nfuncB({}) ...'), funcB({});

console.log('\nfuncA({ valueC }) ...'), funcA({ valueC });
console.log('\nfuncB({ valueC }) ...'), funcB({ valueC });

console.log('\nfuncA({ valueC, valueA }) ...'), funcA({ valueC, valueA });
console.log('\nfuncB({ valueC, valueB }) ...'), funcB({ valueC, valueB });

console.log({
  funcA,
  'funcA.origin': funcA.origin,
  'funcA.handler': funcA.handler,
});</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script&gt;
(() =&gt; {

  function isFunction(value) {
    return (
      typeof value === 'function' &amp;&amp;
      typeof value.call === 'function' &amp;&amp;
      typeof value.apply === 'function'
    );
  }

  function asConfiguredModification(modifierName, origin, handler, modified) {
    const nameDescriptor = Object.getOwnPropertyDescriptor(origin, 'name');

    Object.defineProperty(modified, 'name', {
      ...nameDescriptor,
      value: `modified::${ modifierName } ${ nameDescriptor.value }`,
    });
    Object.defineProperty(modified, 'origin', { get: () =&gt; origin });
    Object.defineProperty(modified, 'handler', { get: () =&gt; handler });

    return modified;
  }

  function asConfiguredModifier(name, modifier) {
    Object.defineProperty(modifier, 'name', {

      ...Object.getOwnPropertyDescriptor(modifier, 'name'),
      value: name,
    });
    return modifier;
  }
  const modifierConfig = { writable: true, configurable: true };

  // - implementing the behavior of
  //   an `around` modifier method.

  function aroundModifier(handler, target) {
    'use strict';

    const proceed = this;
    target = target ?? null;

    return (

      isFunction(proceed) &amp;&amp;
      isFunction(handler) &amp;&amp;

      asConfiguredModification(

        'around', proceed, handler,

        function /* aroundType */(...args) {
          return handler.call((this ?? target), proceed, handler, ...args);
        },
      )
    ) || proceed;
  }

  Object.defineProperty(Function.prototype, 'around', {
    ...modifierConfig, value: asConfiguredModifier('aroundModifier', aroundModifier),
  });

})();
&lt;/script&gt;</code></pre>
</div>
</div>
</p>
<p><strong>Additional note</strong></p>
<p>Method modifiers can be implemented in a way that they handle synchronous as well as asynchronous functions/methods for following scenarios <a href=""https://gist.github.com/petsel/e73c59245bb97c0066472b92c0aa5bab#file-method-modifiers_control-flow-js-L357"" rel=""nofollow noreferrer""><code>around</code></a>, <a href=""https://gist.github.com/petsel/e73c59245bb97c0066472b92c0aa5bab#file-method-modifiers_control-flow-js-L418"" rel=""nofollow noreferrer""><code>before</code></a>, <a href=""https://gist.github.com/petsel/e73c59245bb97c0066472b92c0aa5bab#file-method-modifiers_control-flow-js-L502"" rel=""nofollow noreferrer""><code>after</code></a>(<code>Returning</code>), <a href=""https://gist.github.com/petsel/e73c59245bb97c0066472b92c0aa5bab#file-method-modifiers_control-flow-js-L595"" rel=""nofollow noreferrer""><code>afterThrowing</code></a>, and  <a href=""https://gist.github.com/petsel/e73c59245bb97c0066472b92c0aa5bab#file-method-modifiers_control-flow-js-L701"" rel=""nofollow noreferrer""><code>afterFinally</code></a> with the latter two being capable of wrapping each a special <code>try...catch</code> handling around a function/method.</p>
<p>Thus with a combination of <code>afterThrowing</code>/<code>afterFinally</code> and <code>around</code> the OP can apply, to code bases that for &quot;reasons&quot; can not be touched anymore, a clean solution in terms of how to wrap for instance repetitive tests (e.g. guards) around other base functionality or even how to handle throwing code for functions which never have been provided with <code>try...catch</code> based error handling in the first place.</p>
","2024-10-22 12:32:36","2","Answer"
"79111321","79111045","","<p>Yes you can if this variable is <code>static</code>.</p>
<pre><code>int *foo(int x)
{
   static int z;
   
   /* do stuff */

   return &amp;z
}
</code></pre>
<p>then knowing the reference of <code>z</code> you can safely access it.</p>
","2024-10-21 18:25:45","2","Answer"
"79111141","79111045","","<p>Outside of <code>foo</code> its (non-static) local variables don't exist. That's the whole point of it being a local variable.</p>
<p>If you need to communicate state between functions you have two basic methods:</p>
<h2>Global variables</h2>
<pre><code>int z = 4;

void foo(int x) {
    z = z + x;
}

void bar(void) {
    z = z * 2;
}

int main(void) {
    foo(6);
    bar();

    printf(&quot;%d\n&quot;, z);
    // prints 20
}
</code></pre>
<p>Avoid this whenever possible. It makes debugging substantially harder because functions cannot be tested without considering what every other function might be doing to the state of that global variable.</p>
<h2>Via function arguments and return values</h2>
<p>Much better is to pass information via a function's arguments and return values. For small data types and simple manipulations, it's probably best practice to pass variables by value and return an updated value from the function.</p>
<p>For larger data types where copying would be inefficient, or where multiple arguments need to be updated, you can pass a pointer to another value and use that to update the value it points to.</p>
<p>An example of passing a pointer:</p>
<pre><code>void foo(int *z, int x) {
    *z = *z + x;
}

void bar(int *z) {
    *z = *z * 2;
}

int main(void) {
    int z = 4;
    foo(&amp;z, 6);
    bar(&amp;z);

    printf(&quot;%d\n&quot;, z);
    // prints 20
}
</code></pre>
<h2>Static variables</h2>
<p>With a static variable you are no longer concerned about lifetimes, and can safely pass pointers to that variable out of the function and use them to access and modify the data in that variable.</p>
<p>However, this incurs much the same penalty as global variables in that the state of that variable can be changed if a pointer to it is exposed by the function. At that point it becomes much more difficult to reason about the behavior of the function without considering the program as a whole and what it might be doing to that variable's contents.</p>
","2024-10-21 17:29:50","8","Answer"
"79111045","","Is it possible to access a parameter of a function from another function in C?","<p>Is it possible to access the value of a variable from a function within another function. You can assume that the first function is called in the main one.
Here is an example:</p>
<pre><code>int foo (int x) {
    int z;
    // Do things...
    return 0;
}

int bar () {
    // Access value of z here.
    // Do more things...
    return 0;
}
</code></pre>
","2024-10-21 16:58:04","0","Question"
"79110282","79110150","","<p>The solution is very simple - you need to switch to <a href=""https://docs.python.org/3/library/enum.html#enum.StrEnum"" rel=""nofollow noreferrer""><code>StrEnum</code></a> type, whose members are strings. This way string will be matched to respective enums correctly.</p>
<pre><code>from enum import StrEnum, auto, Enum

class ColorOptions(StrEnum):
    RED = auto()
    BLUE = auto()

def color_something(color: ColorOptions):
    match color:
        case ColorOptions.RED:
            return 'rgb(1, 0, 0)'        
        case ColorOptions.BLUE:
            return 'rgb(0, 0, 1)'

# Example usage
print(color_something(&quot;blue&quot;))  # Output: 'rgb(0, 0, 1)'
</code></pre>
<p><code>blue</code> is lowercase because that is how <code>auto()</code> works with <code>StrEnum</code>s. If you want uppercase matches, you can type <code>&quot;RED&quot;</code> and <code>&quot;BLUE&quot;</code> in place of <code>auto()</code>s</p>
","2024-10-21 13:31:13","1","Answer"
"79110150","","enum as option in function, also add string option","<p>When defining a function, there are several ways to limit input to a set of predefined options. I thought it would make sense to use <code>Enum</code> objects to achieve this. For example:</p>
<pre class=""lang-py prettyprint-override""><code>from enum import Enum, auto

class ColorOptions(Enum):
    RED = auto()
    BLUE = auto()

def color_something(color: ColorOptions):
    match color:
        case ColorOptions.RED:
            return 'rgb(1, 0, 0)'        
        case ColorOptions.BLUE:
            return 'rgb(0, 0, 1)'

# Example usage
print(color_something(ColorOptions.BLUE))  # Output: 'rgb(0, 0, 1)'
</code></pre>
<p>However, the following call doesn’t work:</p>
<pre class=""lang-py prettyprint-override""><code>color_something('BLUE')
</code></pre>
<p>To address this, I modified the function to accept both <code>Enum</code> members and string representations, like so:</p>
<pre class=""lang-py prettyprint-override""><code>def color_something(color: ColorOptions | str):
    if isinstance(color, str):
        # If the string doesn't match an Enum member, let it raise an error
        color = ColorOptions[color.upper()]
    match color:
        case ColorOptions.RED:
            return 'rgb(1, 0, 0)'        
        case ColorOptions.BLUE:
            return 'rgb(0, 0, 1)'

# Example usage
print(color_something('blue'))  # Output: 'rgb(0, 0, 1)'
</code></pre>
<p>This works, but it feels inefficient to add this string-to-enum conversion logic to every function that uses an <code>Enum</code>. One option is to add a helper function, but I'm wondering if there's built-in Enum functionality that I might be missing.</p>
<p>Is there a better way to handle predefined options in a function, where both <code>Enum</code> members and strings can be accepted without duplicating this logic everywhere?</p>
<p><em>Edit</em> after @chepner, this limits the options in the IDE instead of <code>str</code> but then you have to define the options twice (in the Enum class and in the <code>Literal</code> part of the function).</p>
<pre class=""lang-py prettyprint-override""><code>from typing import Literal

def color_something(color: ColorOptions | Literal['red', 'blue']):
    if isinstance(color, str):
        # If the string doesn't match an Enum member, let it raise an error
        color = ColorOptions[color.upper()]
    match color:
        case ColorOptions.RED:
            return 'rgb(1, 0, 0)'        
        case ColorOptions.BLUE:
            return 'rgb(0, 0, 1)'

# Example usage
print(color_something('blue'))  # Output: 'rgb(0, 0, 1)'
</code></pre>
","2024-10-21 13:00:24","1","Question"
"79102441","79100761","","<p>You can only omit the parens on a method call if the call has no arguments.</p>
<hr />
<pre class=""lang-perl prettyprint-override""><code>$foo-&gt;say &quot;foo&quot;
</code></pre>
<p>means</p>
<pre class=""lang-perl prettyprint-override""><code>$foo-&gt;say() &quot;foo&quot;
</code></pre>
<p>which explains why Perl is complaining of the lack of an operator where it encounters <code>&quot;foo&quot;</code>.</p>
<hr />
<p>You don't need to change style to add parens.</p>
<pre class=""lang-perl prettyprint-override""><code>my $result = $timer-&gt;run( $metric_name, sub {
    call_some_expensive_method($some_vars);
} );
</code></pre>
","2024-10-18 14:10:32","3","Answer"
"79101218","79100733","","<p>You can create it yourself</p>
<pre><code>static &lt;T, U&gt; Predicate&lt;T&gt; combine(Function&lt;T, U&gt; f, Predicate&lt;U&gt; p) {
    return (T t) -&gt; p.test(f.apply(t));
}
</code></pre>
<p>And use it as</p>
<pre><code>Stream.of(X.builder().build())
    .filter(combine(X::getS, String::isBlank))
    .toList();
</code></pre>
<p>PS: You can do stuff like this</p>
<pre><code>Stream.of(X.builder().build())
    .filter(predicate(
        For.&lt;X&gt;type()
            .f(X::getS)
            .andThen(Object::toString)
            .andThen(String::isBlank)))
    .toList();
</code></pre>
<p>If you put little more effort in utilities you creating.
Here is code:</p>
<pre><code>public class For&lt;U&gt; {
    private static For INSTANCE = new For();

    public static &lt;U&gt; For&lt;U&gt; type() { return INSTANCE; }

    public static &lt;T&gt; Predicate&lt;T&gt; predicate(Function&lt;T, Boolean&gt; f) {
        return f::apply;
    }

    public &lt;R&gt; Function&lt;U, R&gt; f(Function&lt;U, R&gt; f) { return f; }
}

</code></pre>
<p><strong>EDIT</strong>
If you restricted by using pure JDK try this:</p>
<pre><code>Stream.of(
        X.builder().build()
).filter(Function
        .&lt;X&gt;identity()
        .andThen(X::getS)
        .andThen(Object::toString)
        .andThen(String::isBlank)
        ::apply
).toList();
</code></pre>
","2024-10-18 08:25:21","1","Answer"
"79100927","79088221","","<p>I think that you can achieve this by altering your code a little bit.</p>
<pre><code>function add_login_check()
{
if(!isset($_SESSION['didit'])) {
  if ( is_user_logged_in() &amp;&amp; is_page() ) {
    ?&gt;

    &lt;script&gt;window.location='/user-area/'&lt;/script&gt;

    &lt;?php
    exit();
    $_SESSION['didit'] = true; //Esssentially your session declaration here is unreachable , because there is a redirection and a `exit()` before it.
  }

}
}
add_action('wp', 'add_login_check');
</code></pre>
<p>Please try the code like this .</p>
<pre><code>function add_login_check()
{
if(!isset($_COOKIE['didit'])) {
  if ( is_user_logged_in() &amp;&amp; is_home() ) {

setcookie(&quot;didit&quot;, true, 0, &quot;/&quot;); // Setted a cookie with the name of &quot;didit&quot; and the value of &quot;true&quot; , with lifetime of 0 ( meaning that when the browser closes the cookie will be expired

    ?&gt;

    &lt;script&gt;window.location='/user-area/'&lt;/script&gt;

    &lt;?php
    exit();
  }

}
}
add_action('wp', 'add_login_check');
</code></pre>
<p>You can also use <code>is_home()</code> or <code>is_front_page()</code> instead of is_page(page_id) that you are currently using as far as you intent to use this code</p>
<p><a href=""https://developer.wordpress.org/reference/functions/is_home/"" rel=""nofollow noreferrer"">https://developer.wordpress.org/reference/functions/is_home/</a>
<a href=""https://developer.wordpress.org/reference/functions/is_front_page/"" rel=""nofollow noreferrer"">https://developer.wordpress.org/reference/functions/is_front_page/</a></p>
<p>I also believe that cookie is a better practice than session variable , because you can alter the cookie life span , from 0 ( browser closes means that cookie is expires from x amount of time).</p>
<p><a href=""https://www.php.net/manual/en/reserved.variables.cookies.php"" rel=""nofollow noreferrer"">https://www.php.net/manual/en/reserved.variables.cookies.php</a></p>
<p>The current code and changes are untested , so please if you test them you can give feedback and i can assist you further. Cheers!</p>
","2024-10-18 07:03:17","2","Answer"
"79100761","","Calling a method on a blessed hash without parens","<p>Say that I have the following simple module, which has a <code>new</code> method and a <code>say</code> method.</p>
<pre class=""lang-perl prettyprint-override""><code>package foo;

use strict;
use warnings;

sub new {
    my $class = shift;
    my $self = {};
    bless $self, $class;
    return $self;
}

sub say {
    my $self = shift;
    print join( &quot;, &quot;, @_ ) . &quot;\n&quot;;
}
</code></pre>
<p>If I want to call this method, I can do so like this:</p>
<pre class=""lang-perl prettyprint-override""><code>my $foo = foo-&gt;new();
$foo-&gt;say(&quot;foo&quot;, &quot;bar&quot;);
</code></pre>
<p>Is it possible to call this method without parens, like I can for standalone functions?</p>
<p>When I try to do so, I get this error:</p>
<pre class=""lang-perl prettyprint-override""><code>my $foo = foo-&gt;new();
$foo-&gt;say &quot;foo&quot;, &quot;bar&quot;;
# String found where operator expected at HelloWorld.pl line 8, near &quot;-&gt;say &quot;foo&quot;&quot;
#   (Missing operator before &quot;foo&quot;?)
# syntax error at HelloWorld.pl line 8, near &quot;-&gt;say &quot;foo&quot;&quot;
# BEGIN not safe after errors--compilation aborted at HelloWorld.pl line 14.
</code></pre>
<p>To my understanding so far, this has something to do with the Perl compiler being able to understand what symbols are top level functions ahead of time. When using the standalone function Perl has enough information to understand this is a function call, whereas for methods on the blessed hash, Perl can't figure it out, and opts to treat it as a scalar context.</p>
<p>Is there any way to make this behavior possible?</p>
<hr />
<p>My main motivation for this is creating a wrapper like structure for doing metric timings. e.g.</p>
<pre class=""lang-perl prettyprint-override""><code>my $result = $timer-&gt;run $metric_name, sub {
    call_some_expensive_method($some_vars);
};
</code></pre>
<p>If I use parens, I start fighting with my perltidy settings and get results like the following, which I find far less readable.</p>
<pre><code>my $result = $timer-&gt;run(
  $metric_name, 
  sub {
      call_some_expensive_method($some_vars);
  });
</code></pre>
<p>Another option I've been playing with is making a top level function that wraps the behavior, allowing the Perl compiler to understand the context correctly.</p>
<pre><code>sub timed {
    return shift-&gt;run(@_);
}

...

my $result = timed $timer, $metric_name, sub {
    call_some_expensive_method($some_vars);
};
</code></pre>
","2024-10-18 06:24:03","5","Question"
"79100733","","Peek data at different stages of a Java stream (or compose functions)","<p>Let say, I have the following elements:</p>
<pre><code>class A {
    String s;

    String getS() {return s;}

    static boolean aFilter(String in) {return true or false}

    static A aTransformation(A a) {return another A}
}
</code></pre>
<p>I would like to do the following with Java stream:</p>
<pre><code>List&lt;A&gt; myAs = provideTheList();

myAs.stream()
    .map(A::getS)
    .filter(A::aFilter)
    .map(&quot;back to stream of A&quot;)
    .map(A::aTransformation)
    .toList();
</code></pre>
<p>I know I can do it this way:</p>
<pre><code>myAs.stream()
    .filter(a -&gt; A.aFilter(a.getS()))
    .map(A::aTransformation)
    .toList();
</code></pre>
<p>But it breaks, the expression of code as a series of transformations. I want to avoid the &quot;a -&gt; ...&quot;. I could write a function to do the &quot;A.aFilter(a.getS())&quot;, but the above pattern is quite common and it's cumbersome to write additional function just for this. Something like:</p>
<pre><code>myAs.stream()
    .filter(A::aFilter ° A::getS) // function composition
    ...
</code></pre>
<p>would be perfect, but I don't know if we can express function composition in Java.</p>
<p>In Java we have predicates which are composable with and, or.</p>
<p>I do not found a way to compose functions in stream.</p>
<p>Another way would be to do the &quot;back to stream of A&quot;, I do not believe it is possible to retrieve data at &quot;another point of the stream&quot;.</p>
<p>Have you an elegant way to do the operation described above ?</p>
","2024-10-18 06:12:40","1","Question"
"79100721","79047563","","<pre class=""lang-js prettyprint-override""><code>/**
 * @description Get type for Mutation Class itself
 * @typedef {typeof Mutation} MutationClass
 */

/**
 * @description Utility type to filter out only functions from passed type
 * @template T
 * @typedef {T extends (...args: any[]) =&gt; any ? T : never} PickFunctionOnly
 */


/**
 * @description keyof get all keys for static properties of class. Than we filter out only functions
 * @typedef {PickFunctionOnly&lt;MutationClass[keyof MutationClass]&gt;} MutationStaticFunctions
 */

class Class {
  /**
   * @param {MutationStaticFunctions} mutationAlgorithm 
   */
  constructor(mutationAlgorithm = Mutation.insert) {
    ...
  }
}
</code></pre>
","2024-10-18 06:09:55","-1","Answer"
"79100372","79100345","","<pre><code>DATA %&gt;%
  mutate(m1=m, fid=row_number(), .by = id) %&gt;%
  pivot_longer(y:m1, values_to = 'z', names_to = 'variable',
               names_transform = ~str_remove(., '1')) %&gt;%
  mutate(sm= +(variable == 'm'), sy=+(variable == 'y')) %&gt;% 
  arrange(id, desc(variable))

# A tibble: 1,600 × 8
      id       x       m   fid variable      z    sm    sy
   &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
 1     1  1.55    0.107      1 y         0.568     0     1
 2     1  2.28    2.11       2 y         1.21      0     1
 3     1  0.787   0.0389     3 y        -0.261     0     1
 4     1 -0.0619  0.479      4 y        -0.759     0     1
 5     1  0.117   0.591      5 y         0.519     0     1
 6     1  1.48    0.891      6 y        -0.631     0     1
 7     1  0.893  -0.228      7 y         0.152     0     1
 8     1  0.925   0.729      8 y         0.235     0     1
 9     1  1.55    0.107      1 m         0.107     1     0
10     1  2.28    2.11       2 m         2.11      1     0
</code></pre>
","2024-10-18 02:46:25","0","Answer"
"79100345","","Elongate data but also keep one of the original variable in R","<p>I can long-format my <code>DATA</code> using: <code>tidyr::pivot_longer(DATA, m:y, values_to= &quot;z&quot;, names_to= &quot;variable&quot;)</code> which produces the elongated <code>variable</code> in my <code>Desired_output</code>.</p>
<p>But I wonder how I can get variable <code>m</code> to show the way shown in my <code>Desired_output</code> below such that for each unique <code>id</code>, variable <code>m</code> is once shown for <code>variable==&quot;y&quot;</code>, and once again repeated for <code>variable==&quot;m&quot;</code> in tidyverse?</p>
<pre><code># A solution using reshape2 package is:

stacked &lt;- reshape2::melt(DATA, id.vars = c(&quot;id&quot;, &quot;x&quot;, &quot;m&quot;),
   measure.vars = c(&quot;y&quot;, &quot;m&quot;), value.name = &quot;z&quot;)
Desired_output &lt;- within(stacked, {
  sy &lt;- as.integer(variable == &quot;y&quot;)
  sm &lt;- as.integer(variable == &quot;m&quot;)
})
</code></pre>
<pre><code>DATA &lt;- read.csv(&quot;https://stats.idre.ucla.edu/stat/data/ml_sim.csv&quot;)
##    id       x       m      y
## 1   1  1.5451  0.1068  0.568
## 2   1  2.2753  2.1104  1.206
. . .

Desired_output:
##     fid id       x       m variable       z sm sy
## 1     1  1  1.5451  0.1068        y  0.5678  0  1
## 2     2  1  2.2753  2.1104        y  1.2061  0  1
## 3     3  1  0.7867  0.0389        y -0.2613  0  1
## 4     4  1 -0.0619  0.4794        y -0.7590  0  1
## 5     5  1  0.1173  0.5908        y  0.5191  0  1
## 6     6  1  1.4809  0.8909        y -0.6311  0  1
## 7     7  1  0.8928 -0.2277        y  0.1521  0  1
## 8     8  1  0.9246  0.7292        y  0.2346  0  1
## 801   1  1  1.5451  0.1068        m  0.1068  1  0
## 802   2  1  2.2753  2.1104        m  2.1104  1  0
## 803   3  1  0.7867  0.0389        m  0.0389  1  0
## 804   4  1 -0.0619  0.4794        m  0.4794  1  0
## 805   5  1  0.1173  0.5908        m  0.5908  1  0
## 806   6  1  1.4809  0.8909        m  0.8909  1  0
## 807   7  1  0.8928 -0.2277        m -0.2277  1  0
## 808   8  1  0.9246  0.7292        m  0.7292  1  0
. . .
</code></pre>
","2024-10-18 02:30:22","2","Question"
"79098295","79098186","","<p>In <code>f2</code>, Python will look up the variable <code>a</code> in two places: the body of <code>f2</code> &amp; the global scope (the scope with zero indents). <code>a == 0</code>, because <code>a</code> is not defined inside <code>f2</code> but is defined in the global scope. The <code>a = 1</code> expression in <code>f1</code> does nothing, because it creates a new, different variable also named <code>a</code>, but strictly within the scope of <code>f1</code> instead. This behavior makes separation of code much easier, but it can be overidden with the <code>global</code> keyword:</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; a = 0
&gt;&gt;&gt; def incr():
...     global a
...     a = 1
...
&gt;&gt;&gt; incr()
&gt;&gt;&gt; print(a)
1
</code></pre>
<p>(Disclaimer: it is generally considered bad practice to use <code>global</code>, as using it too frequently tends to create hard-to-debug functions.)</p>
<p>In the second example, the same rules apply, with a mild twist: <code>f2</code> is being bound within the body of <code>f1</code>, so it performs lookups in <code>f2</code>, <code>f1</code>, and the global scope, in that order. <code>f2</code> looks up <code>a</code> in <code>f2</code> and doesn't find anything. <code>f2</code> looks up <code>a</code> in <code>f1</code>, finds <code>a=1</code>, and returns <code>a</code>. <code>f2</code> does not look up <code>a</code> in the global scope, because it already found <code>a</code> in <code>f1</code>.</p>
","2024-10-17 13:22:58","1","Answer"
"79098225","79098186","","<p>In example 1 <code>f2</code> uses global <code>a</code>, but in example 2 it uses <code>a</code> from <code>f1</code> function scope because <code>f2</code> is a nested function. In other words the difference in variable scope. You can about it <a href=""https://www.w3schools.com/python/python_scope.asp"" rel=""nofollow noreferrer"">here</a></p>
","2024-10-17 13:06:03","2","Answer"
"79098186","","Why can I sometimes assign to a variable in one function and print it in another?","<p>I don't understand why this code works as it works. Maybe I don't understand what functions and namespaces in Python really are?</p>
<p>Example 1:</p>
<pre><code>def f1():
    a = 1
    f2()

def f2():
    print(a)

a = 0
f1()
</code></pre>
<p>Code above returns 0.</p>
<p>Example 2:</p>
<pre><code>def f1():
    a = 1
    def f2():
        print(a)
    f2()

a = 0
f1()
</code></pre>
<p>Code above returns 1.</p>
<p>What's the difference?</p>
","2024-10-17 12:57:34","1","Question"
"79094363","79093695","","<p>I would return an object and cast the type using an if statement.</p>
","2024-10-16 13:49:11","-2","Answer"
"79093787","79093695","","<p>Here's an example of a generic method which can replace your two similar methods:</p>
<pre><code>public async Task&lt;List&lt;T&gt;&gt; ReadAllItems&lt;T&gt;(string fileName)
{
   string returnText = await File.ReadAllTextAsync(_filePath + fileName);

   if ( returnText is { Length: &gt; 0 } )
   {
      List&lt;T&gt;? aJson = JsonConvert.DeserializeObject&lt;List&lt;T&gt;&gt;(returnText);
      if ( aJson != null )
         return aJson;
   }

   return [];
}
</code></pre>
","2024-10-16 11:16:35","4","Answer"
"79093695","","How to make one function return different types?","<p>I've been thinking about this issue for a very long time; is it possible to write a single function that returns different types for the same operation?</p>
<p>In this case, I have two classes <code>Employee</code> and <code>Payroll</code> that store data in JSON files. I want the classes to be stored in the same class <code>JsonMethods</code>, so an approach like the one described <a href=""https://stackoverflow.com/questions/44750314/c-sharp-how-to-return-different-types-from-the-same-virtual-function"">here</a> (using generics and inheriting from a base class) won't apply.</p>
<pre><code>public async Task&lt;List&lt;Employee&gt;&gt; ReadAllEmployees()
{
   string returnText = await File.ReadAllTextAsync(_filePath + &quot;Employees.json&quot;);

   if ( returnText is not &quot;&quot; )
   {
      List&lt;Employee&gt;? aJson = JsonConvert.DeserializeObject&lt;List&lt;Employee&gt;&gt;(returnText);
      if ( aJson != null )
         return aJson;
   }

   return [null];
}
</code></pre>
<pre><code>public async Task&lt;List&lt;Payroll&gt;&gt; ReadAllPayrolls()
{
   string returnText = await File.ReadAllTextAsync(_filePath + &quot;Payrolls.json&quot;);

   if ( returnText is not &quot;&quot; )
   {
      List&lt;Payroll&gt;? asJson = JsonConvert.DeserializeObject&lt;List&lt;Payroll&gt;&gt;(returnText);
      if ( asJson != null )
         return asJson;
   }

   return [null];
}
</code></pre>
<p>I tried replacing the classes with <code>object</code> after letting the classes inherit from <code>Object</code>, which doesn't seem legal (and didn't work anyway)</p>
<p>Is there any way to make this work, or do I just have to stick with two identical functions?</p>
","2024-10-16 10:48:17","0","Question"
"79092848","79092799","","<p>Transmission data over network is much slower than simple CPU calculations. Calling functions in cycles in your case is not a problem, there's some other issue in your code.</p>
","2024-10-16 07:10:26","0","Answer"
"79092799","","Is it faster and better to call similar functions manually (list them all) or to use a for loop to automate it?","<p>I wrote some python code to scrap ranking data from a site. I have several pages to check which are the same for different periods (1, 2, 5 and 10 years), at the end of my code, I called every function in an if name.</p>
<p>At first I had this:</p>
<pre class=""lang-py prettyprint-override""><code>scrapBase1(year)
scrapBase2(year)
scrapBase5(year)
scrapBase10(year)
scrapBaseLong1(year)
scrapBaseLong2(year)
scrapBaseLong5(year)
scrapBaseLong10(year)
</code></pre>
<p>I made several changes in the overall code but also in the way I'm calling those functions:</p>
<pre class=""lang-py prettyprint-override""><code>    for duration in [1, 2, 5, 10]:
        scrapBase(year, duration)

    for duration in [1, 2, 5, 10]:
        scrapLong(year, duration)
</code></pre>
<p>The code is better now but also much slower which is not much of an issue but I was wondering if this new way of calling made any difference?(and is it the best way to make the calls?) Would it be possible to have an explanation about why for loop would be faster or slower than calling the functions one by one?</p>
","2024-10-16 06:56:06","0","Question"
"79092686","79092088","","<p>In your situation, that is because the limitation of the browser's <em><strong>Same Origin policy</strong></em>,
it is not realistic to attempt to manipulate the method in window B created by window A through the script in window A.</p>
<p>so .doSomething() must be defined in the context of the window that is being opened, and you can use <strong>postMessageAPI</strong>, window A can send messages to window B, which receives these messages by listening to message events and performs corresponding operations based on the message content.</p>
","2024-10-16 06:16:39","-1","Answer"
"79092088","","How do I call a Function in window2 from the page I opened it from window2?","<p>I and trying to open a window with the window.open code,</p>
<p><code>var myWindow = window.open(url , name, details);</code></p>
<p>and then I want to execute a function in that window after it loads.</p>
<pre><code>var myWindow = window.open(url , name, details);
myWindow.doSomething();
</code></pre>
<p>The Idea is to have it both triggered by a button, HTML based.</p>
<p>I have just been rewriting it in different ways, and thus far nothing seems to work. Any input would be appreciated.</p>
","2024-10-16 00:09:54","0","Question"
"79090948","79090858","","<p>It seems like your code is geared towards working with rows, but you want to delete columns based on wheather the first row is blank. The issue could be in how you're iterating over the columns and check the values.</p>
<p>Maybe try something like this (untested due to missing minimal reproducible example):</p>
<pre><code>function delmonth() {
    // removed unnecessary code to determine the sheet
    var sheet = spreadsheet.getSheetByName('CALMON');
  
    // Get the last column in the sheet
    var lastColumn = sheet.getLastColumn();

    // Start from the last column and move to the first column
    for (var col = lastColumn; col &gt;= 1; col--) {

        // Check if the first row cell is blank
        var cellValue = sheet.getRange(1, col).getValue();
        if (cellValue === '') {

            // Delete the column if the first row cell is blank
            sheet.deleteColumn(col);
        }
    }
}

</code></pre>
","2024-10-15 16:41:09","1","Answer"
"79090858","","Deleting all columns if a cell is blank","<p>I try to have a script to delete a column if my first cell of this column is blank. The row 1 have sometimes something and sometimes is blank. I want a macro that, when the cell from row 1 is blank, the macro will delete the entire column and check for next one until they are no more columns with cell from row 1 blank (for exemple if A1 is blank then delete column A and go to next until all the columns have been tested).</p>
<p>I cannot figure out where i made an error on the code.</p>
<p>I tried a script i already have for deleting one row after another until they are no more rows with a specific blank cell (i tried to modify it myself to get it for columns too). The script work but do nothing, i don't have any errors. Here he is :</p>
<pre><code>function delmonth() {
    var spreadsheet = SpreadsheetApp.getActiveSpreadsheet();
    spreadsheet.setActiveSheet(spreadsheet.getSheetByName('CALMON'), true);

    var sheet = SpreadsheetApp.getActiveSheet();
    var e = sheet.getRange('A' + sheet.getMaxColumns())
                 .getNextDataCell(SpreadsheetApp.Direction.NEXT)
                 .getColumn() ;

    for (k = 1; k &lt;= e; k++) {
        if(sheet.getRange('A' + k).getValue() == '') {
            sheet.deleteColumn(k);
            k=1;
            e--;
            if(k==e) {
                break
            };
            SpreadsheetApp.flush();
        }
    }
}
</code></pre>
<p>I'm pretty sure i made a stupid error somewhere (as i'm new on coding).</p>
<p>Thank you all for your time and your help !</p>
","2024-10-15 16:19:54","1","Question"
"79088221","","wp redirect users only when logging in (1 time) if on homepage","<p>I have the following code to redirect users which are logged in and on the homepage:</p>
<pre><code>function add_login_check()
{
  if ( is_user_logged_in() &amp;&amp; is_page(7) ) {
    ?&gt;
    &lt;script&gt;window.location='/user-area/'&lt;/script&gt;

    &lt;?php
    exit();
  }
}
add_action('wp', 'add_login_check');
</code></pre>
<p>But I am trying to modify it to only redirect users as they actually login (only to redirect once (as they login)), rather than every time they visit the homepage whilst they are logged in.</p>
<p>I have tried using session as follows:</p>
<pre><code>function add_login_check()
{
if(!isset($_SESSION['didit'])) {
  if ( is_user_logged_in() &amp;&amp; is_page(7) ) {
    ?&gt;
    &lt;script&gt;window.location='/user-area/'&lt;/script&gt;

    &lt;?php
    exit();
  }
    $_SESSION['didit'] = true; 
}
}
add_action('wp', 'add_login_check');
</code></pre>
<p>Also adding <code>session_start();</code> to the beginning of my theme, but I can't get it to work :( I'd really appreciate any help, thanks so much!!!</p>
","2024-10-15 02:16:49","1","Question"
"79084421","","How do I add a new function to all numbers in MiniScript?","<p>In Miniscript, when working with Sprites, I find I have to convert radians to degrees and degrees to radians a lot. In most examples, one sees this as <code>varDegrees*pi/180</code> and <code>varRadians*180/pi</code>. Fine, but it feels verbose and I have to remember which one is which, and if there is other math I have to make sure I don't otherwise mess it up.</p>
<p>I know I can put a &quot;rad&quot; function in my script, and do <code>rad(varDegrees)</code>, but I want a more OO-looking solution that doesn't mess with the appearance of my dot-chains.</p>
<p>So, how can I add a &quot;rad&quot; and &quot;deg&quot; function, so it applies to any number variable? So I can, for example, do <code>MySprite.rotation.rad.sin</code> to get the sin of the sprite's rotation angle?</p>
","2024-10-14 00:17:57","0","Question"
"79084422","79084421","","<p>You can add functions to the &quot;number&quot; prototype map. The function can be used on any number variable. Note that the sin() and cos() functions are NOT part of the number's prototype, so we have to add them, too, to be able to express this fully as a dot function chain.</p>
<p>Near the top of your script, add this:</p>
<pre><code>// convert number to radians

number.rad = function; return self*pi/180; end function
// convert number to degrees
number.deg = function; return self*180/pi; end function
// return sine of radians angle
number.sin = function; return sin(self); end function
// return cosine of radians angle
number.cos = function; return cos(self); end function
</code></pre>
<p>The <code>self</code> variable is created for you when you use &quot;dot notation&quot; to call this function, just as you asked:</p>
<p>We've used &quot;;&quot; to separate the parts of the function definition so we can put it all on one line, just for brevity.</p>
<pre><code>d = 90
print d.rad.sin // result is 1
</code></pre>
<p>Again, note that we can't apply these to literal values, like <code>90.rad.sin</code>. Literals are not objects in the same way as variables in MiniScript.</p>
<p>With a Sprite, we might see something like:</p>
<pre><code>dx = MySprite.rotation.rad.sin
dy = MySprite.rotation.rad.cos
</code></pre>
","2024-10-14 00:17:57","0","Answer"
"79083500","79081912","","<p>The piece you're missing is that you have to call <code>.get()</code> on each entry in order to get the value.</p>
<p>Also, you can take advantage of loops a little bit better. The following function will work no matter how many rows or columns you have, and doesn't require quite as many lines of code.</p>
<p>I have it both print the values and return the values. Returning the values is pointless since you're calling this from a button command, but it's there in case you want to reference the values inside the <code>lambda</code>, or call this function outside of the <code>lambda</code>.</p>
<pre><code>def make_list(num_rows):

    # this list will have a list for every row of data
    results = []

    for r in range(2, num_rows+2):

        # add a new row to our results
        row = []
        results.append(row)

        for c in range(1,7):

            # slaves will be a list of entry widgets.
            # we take advantage of the fact we know 
            # there is only one
            slaves = frame1.grid_slaves(row=r, column=c)
            entry = slaves[0]

            # get the value, append it to the list of values
            # for this row
            value = entry.get()
            row.append(value)

    print(results)
    return results
</code></pre>
","2024-10-13 15:26:59","0","Answer"
"79083327","78599700","","<p>In Flutter I have not seen a concept exactly similar to Angular's Pipe. I think we will not have this kind of concept because Flutter is based on the Declarative UI philosophy without separation of the definition of views with different languages ​​such as HTML/Typescript/CSS.</p>
<p>An Angular pipe is just an invocation of a typescript function from the HTML template. This concept exists because we have this HTML/Typescript separation.</p>
<p>If your needs are to transform a string or a number, you can use the Dart extension concept. See <a href=""https://dart.dev/language/extension-methods"" rel=""nofollow noreferrer"">https://dart.dev/language/extension-methods</a>, this may eventually help you.</p>
","2024-10-13 14:11:44","1","Answer"
"79082295","79082030","","<p>You of course have to create an instance of the class before you can use it, and hence that tends to take the choice of using a in-line expression off the table.</p>
<p>However, you can thus/then certainly create an instance of that class for the given page.</p>
<p>Also, keep in mind that in markup, you can't use a server-side expression for server-side controls (<em><strong>since they are ALREADY a server-side control</strong></em>).</p>
<p>So, say in the page, I place this code at the top to expose a public instance of that class:</p>
<pre><code>Public MyClass1 As New Class1

Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load


End Sub
</code></pre>
<p>Ok, so now in markup, this is legal:</p>
<pre><code>&lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;

    &lt;div&gt;

        &lt;h3&gt;&lt;%=MyClass1.MyClassFunction %&gt;&lt;/h3&gt;

    &lt;/div&gt;
&lt;/form&gt;
</code></pre>
<p>But this is NOT legal:</p>
<pre><code>        &lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot; 
            Text='&lt;%=MyClass1.MyClassFunction %&gt;' &gt;
        &lt;/asp:Label&gt;
</code></pre>
<p>So, as above shows, you still need an instance of that class created before you can use it.</p>
<p>However, you can add/use what are called a &quot;static&quot; functions/methods in a class. As such, these class members can be used without having to create an instance of the class.</p>
<p>In fact, unlike C#, in VB.NET we can continue to use a code module. A code module is really much the same as a class with static methods.
Thus, any static (shared) code placed in that class becomes a global function.</p>
<p>So, either the choice of a code module, or that of a class with static (shared) code is a fine choice. Just keep in mind that for such static methods, NEVER scope pubic variables to the class, since in web land, due having one computer, then all (other) users will see the same values. So, yes to using static methods, but a huge big no (never) to use public variables exposed in that class. This includes exposing private variables scoped to that class (do not do this!).</p>
<p>I suggest for such shared library type of code, then often I don't bother with a class, and simply use a good old fashioned code module, and place such code in that module.</p>
<p>However, let's change the class function to static (shared) like this:</p>
<pre><code>Public Class Class1

    Public Shared Function MyClassFunction() As String


        Return &quot;Return results from MyClassFunction&quot;

    End Function

End Class
</code></pre>
<p>Now, we don't have to create an instance of the class to use that shared code.</p>
<p>Hence, we can now remove our pubic instance of the class from the code behind, and now directly use the base class instance in the markup (server side) expression.</p>
<p>Hence, now code behind is this:</p>
<pre><code>Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load


End Sub
</code></pre>
<p>And markup is now this:</p>
<pre><code>        &lt;h3&gt;&lt;%=Class1.MyClassFunction %&gt;&lt;/h3&gt;
</code></pre>
<p>Hence, we are directly using the base class, and no need exists to create an instance of the class before using as such. As I pointed out, you can also in place of a class + static (shared) methods, you can just create a good old fashioned code module like we did in the old VB4, 5, 6 and even VBA days.</p>
<p>So, just keep in mind that server-side expressions can't be used for controls that are already tagged as &quot;runat=Server&quot;, since such code can be placed in the page load event anyway, and now we don't have 2 or 3 different ways to deal with setting control values, and thus creating a huge challenge for development and debugging (since we now don't have 2 different places to look for code when dealing with server-side controls). So, as a FYI, the server-side controls don't allow server-side expressions &quot;%=&quot;. However, data binding is a VERY different matter, and server-side controls do allow data binding expressions (such as one would use in a GridView like %#).</p>
<p>So, assuming you wanted to set that label to the class result?</p>
<p>Hence this markup:</p>
<pre><code>        &lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot; Text=&quot;&quot;&gt;
        &lt;/asp:Label&gt;
</code></pre>
<p>Then we would be forced to use code behind, and as noted, we can't use a server-side expression for the Text attribute above (but then again, we don't have to do we???).</p>
<p>And then with our static (shared) code, then page load becomes this:</p>
<pre><code>Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load

    Label1.Text = Class1.MyClassFunction

End Sub
</code></pre>
<p>So, once again, note how no instance of the class is required for the function to be used.</p>
","2024-10-13 02:34:57","0","Answer"
"79082030","","Use Function from Shared Class as Inline Expression","<p>I'm trying to use a function that lives in a shared Class with an inline expression on a web page. If the function lives in the code-behind-page, I can get it to work in multiple ways. However, this function lives in another Class and I cannot get it to use it directly. See my example and attempts below.</p>
<p>Here's the function from the shared Class.</p>
<pre><code>Public Class Class1
    Public Function MyClassFunction() As String
        Return &quot;Return results from MyClassFunction.&quot;
    End Function
End Class
</code></pre>
<p>I want to use the function on my web page as an inline expression. <strong>I understand what I show below won't work</strong> (I didn't declare a new instance of the class) and am just <strong>providing as an example</strong> of what I'm trying to do.</p>
<pre><code>&lt;%@ Page Language=&quot;VB&quot; AutoEventWireup=&quot;false&quot; CodeFile=&quot;default.aspx.vb&quot; Inherits=&quot;_default&quot; %&gt;
&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head runat=&quot;server&quot;&gt;
    &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;
        &lt;p&gt;I want to use the function from the class as an inline expression:&lt;/p&gt;
        &lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot; Text=&quot;&lt;%$ Class1.MyClassFunction() %&gt;&quot; /&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>I've tried declaring a new instance of the Class in the code-behind-page and then tried using the various types of inline expressions, but none worked (e.g. embedded code block &lt;% %&gt;, display &lt;%= %&gt;, and data-binding inline expressions &lt;%# %&gt;).</p>
<p>Declared the shared class:</p>
<pre><code>Public Class _default
    Inherits System.Web.UI.Page
    Dim MySharedClass1 As New Class1
End Class
</code></pre>
<p>Examples of inline expressions used:</p>
<pre><code>&lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot; Text=&quot;&lt;%= MySharedClass1.MyClassFunction() %&gt;&quot; /&gt;
&lt;asp:FormView blah blah blah ... has binding datasource ... blah blah blah&gt;
    &lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot; Text=&quot;&lt;%# MySharedClass1.MyClassFunction() %&gt;&quot; /&gt;
&lt;/asp:FormView&gt;
</code></pre>
<p>I've also tried using an expression builder based on an old example I found (link below). Again, this works if the function is in the code-behind-page, but it doesn't work if it's in a shared class.</p>
<p>The class for the expression builder:</p>
<pre><code>Imports System.CodeDom
Imports System.Web.Compilation
&lt;ExpressionPrefix(&quot;Code&quot;)&gt; _
Public Class CodeExpressionBuilder
    Inherits ExpressionBuilder
    Public Overrides Function GetCodeExpression(entry As BoundPropertyEntry, parsedData As Object, context As ExpressionBuilderContext) As CodeExpression
        Return New CodeSnippetExpression(entry.Expression)
    End Function
End Class
</code></pre>
<p>Web.config file reference for the expression builder:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;configuration&gt;
  &lt;system.web&gt;
    &lt;compilation debug=&quot;true&quot; targetFramework=&quot;4.5&quot;&gt;
      &lt;expressionBuilders&gt;
        &lt;add expressionPrefix=&quot;Code&quot; type=&quot;CodeExpressionBuilder&quot; /&gt;
      &lt;/expressionBuilders&gt;
    &lt;/compilation&gt;
  &lt;/system.web&gt;
&lt;/configuration&gt;
</code></pre>
<p>Declared the shared class (same as above):</p>
<pre><code>Public Class _default
    Inherits System.Web.UI.Page
    Dim MySharedClass1 As New Class1
End Class
</code></pre>
<p>Using it as expression builder inline expressions (&lt;%$...%&gt;):</p>
<pre><code>&lt;asp:Label ID=&quot;Label1&quot; runat=&quot;server&quot; Text=&quot;&lt;%$ MySharedClass1.MyClassFunction() %&gt;&quot; /&gt;
</code></pre>
<p>Link to blog post example:</p>
<p><a href=""http://weblogs.asp.net/infinitiesloop/The-CodeExpressionBuilder"" rel=""nofollow noreferrer"">Expression Builder Blog Link</a></p>
","2024-10-12 22:11:11","0","Question"
"79081912","","tkinter - call grid values from function with grid_slaves","<p>I am trying to create lists of column grid data from a function using grid_slaves. I would like the function to obtain each grid value in a column then append to a list. No lists are created but printing the first 3 lists produces:</p>
<pre><code>[[&lt;tkinter.Entry object .!labelframe.!entry&gt;]] [[&lt;tkinter.Entry object .!labelframe.!entry2&gt;]] [[&lt;tkinter.Entry object .!labelframe.!entry3&gt;]]
[[&lt;tkinter.Entry object .!labelframe.!entry&gt;], [&lt;tkinter.Entry object .!labelframe.!entry7&gt;]] [[&lt;tkinter.Entry object .!labelframe.!entry2&gt;], [&lt;tkinter.Entry object .!labelframe.!entry8&gt;]] [[&lt;tkinter.Entry object .!labelframe.!entry3&gt;], [&lt;tkinter.Entry object .!labelframe.!entry9&gt;]]
</code></pre>
<br>
<pre><code>from tkinter import*
 root = Tk()

 def make_list(num_rows): # Make array of value columns
    #Create empty lists
    value1_list=[]
    value2_list=[]
    value3_list=[]
    value4_list=[]
    value5_list=[]
    value6_list=[]

    #Obtain values in frame 1 grid
    for j in range(2,num_rows+2):
       # Obtain values in each column
       value1_column = frame1.grid_slaves(row=j, column=1)
       value2_column = frame1.grid_slaves(row=j, column=2)
       value3_column = frame1.grid_slaves(row=j, column=3)
       value4_column = frame1.grid_slaves(row=j, column=4)
       value5_column = frame1.grid_slaves(row=j, column=5)
       value6_column = frame1.grid_slaves(row=j, column=6)
       # Fill lists with frame 1 column values
       value1_list.append(value1_column)
       value2_list.append(value2_column)
       value3_list.append(value3_column)
       value4_list.append(value4_column)
       value5_list.append(value5_column)
       value6_list.append(value6_column)

       print(value1_list, value2_list, value3_list) # output above

 #Create Make List GUI
 width= root.winfo_screenwidth()               
 height= root.winfo_screenheight()  
 root.title(&quot;Value Frame&quot;)        
 root.geometry(&quot;%dx%d&quot; % (width, height))# Set GUI to full screen
 frame1 = Frame(root) #Create frame for input boxes   
 frame1=LabelFrame(root, text='Value Frame 1',padx=10, pady=10)
 frame1.grid(row=0, column=0)

 #Frame 1 labels
 label1 = Label(frame1, text='value 1',pady=2) 
 label1.grid(row=1, column=1)
 label2 = Label(frame1, text='value 2',pady=2) 
 label2.grid(row=1, column=2)
 label3 = Label(frame1, text='value 3',pady=2) 
 label3.grid(row=1, column=3)
 label4 = Label(frame1, text='value 4',pady=2) 
 label4.grid(row=1, column=4)
 label5 = Label(frame1, text='value 5',pady=2) 
 label5.grid(row=1, column=5)
 label6 = Label(frame1, text='value 6',pady=2) 
 label6.grid(row=1, column=6)

 num_rows = 2
 for i in range(num_rows):
   # Label row No
   label1 = Label(frame1, text=f'# {i+1}',pady=2) 
   label1.grid(row= 2+i, column=0)
  
   #Enter Data Frame 1
   value1 = Entry(frame1,width=10)
   value2 = Entry(frame1,width=10)
   value3 = Entry(frame1,width=10)
   value4 = Entry(frame1,width=10)
   value5 = Entry(frame1,width=10)
   value6 = Entry(frame1,width=10)

   #Grid Location Frame 1
   value1.grid(row=i+2, column = 1)
   value2.grid(row=i+2, column = 2)
   value3.grid(row=i+2, column = 3)
   value4.grid(row=i+2, column = 4)
   value5.grid(row=i+2, column = 5)
   value6.grid(row=i+2, column = 6)

   # Prefill grid values
   value1.insert(0, int(&quot;5&quot;)) 
   value2.insert(0, int(&quot;2&quot;)) 
   value3.insert(0, int(&quot;4&quot;)) 
   value4.insert(0, int(&quot;8&quot;)) 
   value5.insert(0, int(&quot;6&quot;)) 
   value6.insert(0, int(&quot;1&quot;)) 

 #Create submit button and call Make List function
 myButton = Button(root, text='Make List', command = lambda:make_list(num_rows))
 myButton.grid(row = 0, column = 15, sticky = N, padx = 40, pady=10)

 root.mainloop()
</code></pre>
<p>Would appreciate any suggestions.</p>
<p>Have tried a number of different grid_slave configurations but cannot create the lists</p>
","2024-10-12 20:52:39","0","Question"
"79080935","79080872","","<p>In the first example, you <em>called</em> the <code>convert()</code> function but you did not <em>assign</em> its returned value to a variable:</p>
<pre><code>convert(time)
</code></pre>
<p>In the second example, you <em>did</em> assign the returned value to a variable:</p>
<pre><code>newtime = convert(time)
</code></pre>
<p>That is the difference.</p>
","2024-10-12 11:49:48","2","Answer"
"79080927","79080872","","<p>You can not use a variable defined in one of the subroutines since it is not defined in the other</p>
","2024-10-12 11:43:05","0","Answer"
"79080891","79080872","","<p>This is a variable scope issue, the code below should works as you want</p>
<pre class=""lang-py prettyprint-override""><code>timefloat = 0

def main():
    global timefloat
    time = input(&quot;Whats the time? &quot;)
    convert(time)
    print(timefloat)


def convert(hour):
    global timefloat
    (h, m) = hour.split(&quot;:&quot;)
    timefloat = float(h) + float(m) / 60
    return timefloat


main()
</code></pre>
","2024-10-12 11:21:17","0","Answer"
"79080886","79080872","","<p>In python(<em>and in most programming languages</em>), there is a concept known as <strong>scope</strong> of a variable. It means in which code block a variable is accessible. That's what happening with your &quot;<strong>Code Block 1</strong>&quot;.</p>
<p><code>timefloat</code> variable is defined in <code>convert()</code> function but not in <code>main()</code> function.</p>
<p><code>convert()</code> function returns the value stored in <code>timefloat</code> variable, but in <code>main</code> function there isn't any variable to catch and save <code>convert()</code> functions result that's returned. A simple analogy would be &quot;You throw a ball to your friend but he doesnt catch it`.</p>
<p>Thats the reason why your &quot;<strong>Code Block 2</strong>&quot; works. It catches and save the result of <code>convert()</code> function into a variable &quot;newtime&quot; and that variable is later used inside <code>main()</code> function.</p>
<p>I also suggest you to check <a href=""https://stackoverflow.com/questions/43673830/nameerror-name-recpower-is-not-defined?rq=1"">NameError: name 'recPower' is not defined</a> question.</p>
","2024-10-12 11:19:54","0","Answer"
"79080872","","NameError: variable not defiend even though its defiend","<p>The first code block outputs:</p>
<blockquote>
<p>&quot;NameError: name 'timefloat' is not defined&quot;</p>
</blockquote>
<p>while the other works as intended. Why is that?</p>
<p>Code Block 1: raises ERROR</p>
<pre class=""lang-py prettyprint-override""><code>def main():
    time = input(&quot;Whats the time? &quot;)
    convert(time)
    print(timefloat)


def convert(hour):
    (h, m) = hour.split(&quot;:&quot;)
    timefloat = float(h) + float(m) / 60
    return timefloat


main()
</code></pre>
<p>Code Block 2: Works correctly</p>
<pre class=""lang-py prettyprint-override""><code>def main():
    time = input(&quot;Whats the time? &quot;)
    newtime = convert(time)
    print(newtime)


def convert(hour):
    (h, m) = hour.split(&quot;:&quot;)
    return(float(h) + float(m) / 60)


main()

</code></pre>
<p>To my very limited knowledge &quot;timefloat&quot; looks defined, and these two codes should return the same result.</p>
","2024-10-12 11:10:29","-1","Question"
"79077224","79077011","","<p>A solution I have got working is to remove the SettingsFrame class and put the contents into the TabView class:</p>
<pre><code>import customtkinter as ctk
from tkinterdnd2 import TkinterDnD, DND_ALL
from tkinter import StringVar

class TabView(ctk.CTkTabview, TkinterDnD.DnDWrapper):
    def __init__(self, master):
        super().__init__(master)
        self.TkdndVersion = TkinterDnD._require(self)
        global path_string

        self.add('Tab 1')
        self.add('Tab 2')

        # Input file drag and drop.
        path_string = StringVar(value='Drop a file here')
        self.PathLabel = ctk.CTkLabel(master=self.tab('Tab 1'), text='Input File', anchor='w')
        self.PathLabel.grid(row=0, column=0, padx=10, pady=10, sticky='ew')
        self.PathEntry = ctk.CTkEntry(master=self.tab('Tab 1'), textvariable=path_string)
        self.PathEntry.grid(row=0, column=1, columnspan=3, padx=10, pady=10, sticky='ew')
        self.PathEntry.drop_target_register(DND_ALL)
        self.PathEntry.dnd_bind('&lt;&lt;Drop&gt;&gt;', self.fn_get_path)

        # Number of shuffles.
        self.ShuffleEntry = ctk.CTkEntry(master=self.tab('Tab 1'), textvariable=ctk.StringVar(value='10'))
        self.ShuffleEntry.grid(row=1, column=1, padx=10, pady=10, sticky='ew')

        # Number of units.
        self.UnitsEntry = ctk.CTkEntry(master=self.tab('Tab 2'), textvariable=ctk.StringVar(value='1000'))
        self.UnitsEntry.grid(row=1, column=1, padx=10, pady=10, sticky='ew')

        # Settings frame with save now button.
        self.settings_frame()

    def fn_get_path(self, event):
        path_string.set(value=event.data.strip('{}'))

    def settings_frame(self):
        self.SettingsFrame = ctk.CTkFrame(master=self.tab('Tab 2'))
        self.SettingsFrame.grid(row=2, column=1, padx=20, pady=20)

        self.SaveNowButton = ctk.CTkButton(self.SettingsFrame, width=40, height=20, text='Save',
                                           command=lambda: self.fn_save_now())
        self.SaveNowButton.grid(row=5, column=4, columnspan=1, padx=10, pady=10, sticky='ew')

    def fn_save_now(self, *_args):
        App.fn_save_settings(self)
        return

class App(ctk.CTk):
    def __init__(self):
        super().__init__()
        self.tab_view = TabView(master=self)
        self.tab_view.grid(row=0, column=0, padx=20, pady=20)

    def fn_save_settings(self):
        Setting_1 = path_string.get()
        Setting_2 = self.ShuffleEntry.get() # Gives a no attribute error
        Setting_3 = self.UnitsEntry.get()   # Gives a no attribute error
        print(Setting_1, Setting_2, Setting_3)
        return

app = App()
app.mainloop()
</code></pre>
<p>The TabView class will get massive but at least I have something that works!</p>
","2024-10-11 07:44:53","0","Answer"
"79077011","","CustomTkinter with multiple tabs, frames and classes - get widget values","<p>I have a ctk application with many widgets spread across multiple tabs and frames. The inputs are so extensive I would ultimately like the user to be able to save their entries to a named file and retrieve them later. At the moment I am struggling to get all the widget values which are spread across all tabs when the Save button is clicked. The save button is on one frame but my coded functions within the various classes are not seeing each other.</p>
<p>A minimal example that covers the complexities is provided below:</p>
<pre><code>import customtkinter as ctk
from tkinterdnd2 import TkinterDnD, DND_ALL
from tkinter import StringVar

class TabView(ctk.CTkTabview, TkinterDnD.DnDWrapper):
    def __init__(self, master):
        super().__init__(master)
        self.TkdndVersion = TkinterDnD._require(self)
        global path_string

        self.add('Tab 1')
        self.add('Tab 2')

        # Input file drag and drop.
        path_string = StringVar(value='Drop a file here')
        self.PathLabel = ctk.CTkLabel(master=self.tab('Tab 1'), text='Input File', anchor='w')
        self.PathLabel.grid(row=0, column=0, padx=10, pady=10, sticky='ew')
        self.PathEntry = ctk.CTkEntry(master=self.tab('Tab 1'), textvariable=path_string)
        self.PathEntry.grid(row=0, column=1, columnspan=3, padx=10, pady=10, sticky='ew')
        self.PathEntry.drop_target_register(DND_ALL)
        self.PathEntry.dnd_bind('&lt;&lt;Drop&gt;&gt;', self.fn_get_path)

        # Number of shuffles.
        self.ShuffleEntry = ctk.CTkEntry(master=self.tab('Tab 1'), textvariable=ctk.StringVar(value='10'))
        self.ShuffleEntry.grid(row=1, column=1, padx=10, pady=10, sticky='ew')

        # Number of units.
        self.UnitsEntry = ctk.CTkEntry(master=self.tab('Tab 2'), textvariable=ctk.StringVar(value='1000'))
        self.UnitsEntry.grid(row=1, column=1, padx=10, pady=10, sticky='ew')

        # Settings frame with save now button.
        self.SettingsFrame = SettingsFrame(master=self.tab('Tab 2'))
        self.SettingsFrame.grid(row=2, column=1, padx=20, pady=20)

    def fn_get_path(self, event):
        path_string.set(value=event.data.strip('{}'))

    def fn_save_now(self):
        App.fn_save_settings(TabView)
        return

class SettingsFrame(ctk.CTkFrame):
    def __init__(self, master):
        super().__init__(master)
        self.SaveNowButton = ctk.CTkButton(master=self, width=40, height=20, text='Save',
                                           command=lambda: TabView.fn_save_now(self))
        self.SaveNowButton.grid(row=5, column=4, columnspan=1, padx=10, pady=10, sticky='ew')

class App(ctk.CTk):
    def __init__(self):
        super().__init__()
        self.tab_view = TabView(master=self)
        self.tab_view.grid(row=0, column=0, padx=20, pady=20)

    def fn_save_settings(self):
        Setting_1 = path_string.get()
        Setting_2 = self.tab_view.ShuffleEntry.get() # Gives a no attribute error
        Setting_3 = self.tab_view.UnitsEntry.get()   # Gives a no attribute error
        print(Setting_1, Setting_2, Setting_3)
        return

app = App()
app.mainloop()
</code></pre>
<p>In this case the user can drop an input file into the PathEntry box and specify a couple of other entries. I would like them to be able to save their entries at any point by clicking the Save button on the second tab. I am managing to retrieve the path_string but not the other two settings of interest. How can I retrieve Setting_2 and Setting_3? I have tried using tab_view / master / controller options without success and I have tried moving functions around. If I can retrieve all the values then I expect I will be able to write code to save them but any further tips would be appreciated.</p>
","2024-10-11 06:19:43","0","Question"
"79073090","79070658","","<p>First create your Databricks SQL function</p>
<pre><code>%sql
create temporary function newmonth() 
  returns string 
  return case 
  when day(current_date) &lt;&gt; '01' 
    then &quot;NO&quot;
    else &quot;YES&quot;
    end
</code></pre>
<p>Then call it.</p>
<pre><code>%sql
SELECT newmonth() AS newmonth;
</code></pre>
<p>Since we are in October, we will get &quot;NO&quot; as a result.</p>
<p>you shoudl ideally create a function to accept a date and return the flag. Then when calling, it call it using the current_date.</p>
","2024-10-10 06:55:19","0","Answer"
"79073059","79070658","","<p>Here you are using string(20) datatype in place of that you can use varchar(20) datatype and also in place of day(date) you can try using day(current_date). Finally end the BEGIN...END block with END statement because BEGIN...END block should end with END statement.</p>
","2024-10-10 06:49:07","0","Answer"
"79072524","79071359","","<p>The obvious difference is that one plan is executing in parallel and the other is serial. Non inlined scalar UDFs block parallel plans. So they are both equally inefficient in this case in that they both have a full index scan but the elapsed time is less in the parallel plan as it has multiple workers processing in parallel (as well as the time saved from not invoking a scalar UDF 6.3 million times in a separate execution context - which can also be significant).</p>
<p>If you wanted to make this inlineable but in a module and aren't on a version/compatibility level where inline scalar UDFs are available you can use an inline TVF (the inlining of these is more reliable even in cases where inline scalar UDFs <em>should</em> be available as the implementation of these has had some issues).</p>
<p>One example approach is</p>
<pre><code>CREATE FUNCTION dbo.fn_MyFilterFunc 
(@CodeResult VARCHAR(MAX))
RETURNS TABLE
AS
    RETURN
      SELECT 1 AS Result
      WHERE  @CodeResult LIKE '%term1%'
              OR @CodeResult LIKE '%term2%'
              OR @CodeResult LIKE '%term3%' 
</code></pre>
<p>And then you can use it as</p>
<pre><code>SELECT COUNT(1) 
FROM MyTable 
CROSS APPLY dbo.fn_MyFilterFunc(MyField)
</code></pre>
<p>Query execution plan (original query with where clause vs TVF approach):</p>
<p><a href=""https://i.sstatic.net/xVkGzwfi.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/xVkGzwfi.png"" alt=""enter image description here"" /></a></p>
<p>Depending on your scenario you could also consider a computed column to encapsulate this logic.</p>
<p>That can be indexed and considerably improve performance</p>
<pre><code>ALTER TABLE MyTable ADD MatchResult AS  CASE 
            WHEN MyField LIKE '%term1%' 
                 OR MyField LIKE '%term2%' 
                 OR MyField LIKE '%term3%' 
                THEN 1
                ELSE 0
        END;


CREATE INDEX IX_MatchResult ON MyTable(MatchResult)

SELECT COUNT(*)
FROM MyTable
WHERE MatchResult = 1;
</code></pre>
","2024-10-10 02:04:53","4","Answer"
"79071417","79071359","","<p>My guess would be that you're calling the function for every row in the table and each time it's called it's allocating a new 4K VARCHAR, bypassing the tuning and optimization that the database engine is able to do around the LIKE statement.  Instead, you're taking away that optimization and any indexing that is on that column.</p>
","2024-10-09 17:24:53","0","Answer"
"79071359","","Why there is a significant performance difference when using function in WHERE clause","<p>I have the same part of where clause used across different stored procedures and I am trying to get rid of duplication and ensure that code doesn't go out of sync. So I decided to extract this check into a function.</p>
<p>I am aware that generally this is not a good practice as this prevents SQL Server to use index seek efficiently, however in my scenario there is a wildcard search from both ends which would result in index scan anyways so I was not expecting this huge performance difference.</p>
<p>Original query:</p>
<pre><code>SELECT COUNT(1) 
FROM MyTable 
WHERE MyField LIKE '%term1%' 
   OR MyField LIKE '%term2%' 
   OR MyField LIKE '%term3%'
</code></pre>
<p>Function:</p>
<pre><code>CREATE FUNCTION dbo.fn_MyFunc
    (@CodeResult VARCHAR(MAX))
RETURNS BIT
WITH SCHEMABINDING, RETURNS NULL ON NULL INPUT  
AS
BEGIN
    RETURN 
        CASE 
            WHEN @CodeResult LIKE '%term1%' 
                 OR @CodeResult LIKE '%term2%' 
                 OR @CodeResult LIKE '%term3%' 
                THEN 1
                ELSE 0
        END;
END;
</code></pre>
<p>Updated query:</p>
<pre><code>SELECT COUNT(1) 
FROM MyTable 
WHERE dbo.fn_MyFunc(MyField) = 1
</code></pre>
<p>Query execution plan:</p>
<p><a href=""https://i.sstatic.net/oJI0BRtA.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/oJI0BRtA.png"" alt=""enter image description here"" /></a></p>
<p>Am I missing something? Why there is almost 10x difference?</p>
","2024-10-09 17:12:45","1","Question"
"79070658","","SQL Functions in databricks","<p>I want to create a function in SQL that returns yes if it's the first day of the month, else no. Below doesn't work.</p>
<pre><code>create temporary function newmonth() 
  returns string(20) 
  deterministic 
      BEGIN
      IF day(date) &lt;&gt; '01' then
      return ('NO')
      else
      return ('YES')
  END IF; 
</code></pre>
<p>Can anyone help me out?</p>
","2024-10-09 14:04:11","0","Question"
"79069518","79069486","","<p>You've declared a function <code>LVadd</code></p>
<pre><code>extern &quot;C&quot; dll18_API void LVadd(double fromLV1, double fromLV2, double* toLV);
</code></pre>
<p>and then you have tried to assign to that function</p>
<pre><code>LVadd = GetProcAddress(DLL18, &quot;sumAB&quot;);
</code></pre>
<p>but that is illegal, you cannot assign to a function, a function is not a variable. I suppose you are getting confused between functions and <em>function pointers</em>. Function pointers are variables and can be assigned to.</p>
<p>To fix, remove the function declaration <code>extern &quot;C&quot; dll18_API void LVadd(double fromLV1, double fromLV2, double* toLV);</code> and also remove the function definition</p>
<pre><code>void LVadd(double fromLV1, double fromLV2, double* toLV)
{
    *toLV = fromLV1 + fromLV2;
}
</code></pre>
<p>The function you are trying to call is in a different DLL, it makes no sense to repeat the function in this program. I guess you just added this because you were trying anything to get it to work.</p>
<p>Next add a function pointer declaration and assign to that</p>
<pre><code>sumAB sumAB_ptr = (sumAB)GetProcAddress(&quot;sumAB&quot;);
</code></pre>
<p>Here the variable is called <code>sumAB_ptr</code> and the type of the variable is <code>sumAB</code> which is a function pointer type as you declared earlier</p>
<pre><code>typedef int(__stdcall *sumAB)(double in1, double in2, double* out1);
</code></pre>
<p>Finally call the function in the other DLL using the function pointer</p>
<pre><code>sumAB_ptr(2.0, 2.0, &amp;result);
std::cout &lt;&lt; result &lt;&lt; '\n'; // should print 4
</code></pre>
<p>The final thing you should add is that with DLLs you should always check that you managed to load the DLL. It too easy for this to fail, so you should always check.</p>
<pre><code>HMODULE DLL18 = LoadLibraryA(&quot;DLL18.dll&quot;);
if (!DLL18)
{
    std::cout &lt;&lt; &quot;DLL failed to load!!!\n&quot;;
    return;
}
</code></pre>
<p><strong>EDIT</strong></p>
<p>One other thing I noticed. Your function pointer is declared like this</p>
<pre><code>typedef int(__stdcall *sumAB)(double in1, double in2, double* out1);
</code></pre>
<p>But your function (in the DLL) is defined like this</p>
<pre><code>void sumAB(double in1, double in2, double *out1)
</code></pre>
<p>This is inconsistent, you have the function returning <code>int</code> in the first case and <code>void</code> in the second. They should be the same, either both <code>int</code> or both <code>void</code>.</p>
<p><strong>EDIT</strong></p>
<p>Another thing I have noticed is that your first DLL has a <code>void main</code> function. This is not needed, only programs have <code>main</code> functions. Just delete it.</p>
","2024-10-09 09:26:41","2","Answer"
"79069486","","simple example to pass a+b to a dll in C++and get the dll to ceturn c?","<p>I am trying to create a wrapper dll. So far I made one .dll that sums a and b. Then I used the tutorial here
<a href=""https://www.nerdthings.dev/2020/08/06/understanding-loadlibrary"" rel=""nofollow noreferrer"">https://www.nerdthings.dev/2020/08/06/understanding-loadlibrary</a>, but did not get anywhere. Suppose need something simpler.</p>
<p>Cannot even compile it
DLL1 has the function plus, which adds a and b to c. Then I want to make DLL2 that passes in1 and in2 into DLL1 and shoulc get out back</p>
<p>In the tutorial
FN_exampleFunction exampleFunction = (FN_exampleFunction) GetProcAddress(foo, &quot;exampleFunction&quot;);
int retValue = exampleFunction();
everythibg is called exampleFunction....</p>
<p>First dll</p>
<p>header</p>
<pre class=""lang-cpp prettyprint-override""><code>#pragma once
#ifdef dll18_EXPORTS
    #define dll18_API __declspec(dllexport)
#else
    #define dll18_API __declspec(dllimport)
#endif

extern &quot;C&quot; dll18_API void sumAB(
     double in1, double in2, double* out1);
</code></pre>
<p>main</p>
<pre class=""lang-cpp prettyprint-override""><code>// dllmain.cpp : Defines the entry point for the DLL application.
#include &quot;pch.h&quot;
#include &quot;dll18.h&quot;

void sumAB(double in1, double in2, double *out1)
{
     *out1 = in1 + in2;
}
void main()
{
     sumAB;
     return;
}
</code></pre>
<p>That compiles nicely, can get this dll to add 2 values. Now I want to make another .dll that asks this one</p>
<p>Header for DLL19 which is meant to read</p>
<pre class=""lang-cpp prettyprint-override""><code>#pragma once

#ifdef dll18_EXPORTS
    #define dll18_API \__declspec(dllexport)
#else
    #define dll18_API \__declspec(dllimport)
#endif

extern &quot;C&quot; dll18_API void LVadd(double fromLV1, double fromLV2, double\* toLV);
</code></pre>
<p>Main for DLL19 which is meant to read DLL18</p>
<pre class=""lang-cpp prettyprint-override""><code>// dllmain.cpp : Defines the entry point for the DLL application.
#include &quot;pch.h&quot;
#include &lt;stddef.h&gt;
#include &lt;stdint.h&gt;
#include &quot;dll19.h&quot;

typedef int(__stdcall *sumAB)(double in1, double in2, double* out1);

void LVadd(double fromLV1, double fromLV2, double* toLV)
{
    *toLV = fromLV1 + fromLV2;
}

void main()

{

    // First, load DLL18.dll

    HMODULE DLL18 = LoadLibraryA(&quot;DLL18.dll&quot;);

    LVadd = GetProcAddress(DLL18, &quot;sumAB&quot;);
    FreeLibrary(DLL18);
}
</code></pre>
<p>Error is</p>
<blockquote>
<p>'=': function as left operand Dll19   in the line</p>
<pre class=""lang-cpp prettyprint-override""><code>LVadd = GetProcAddress(DLL18, &quot;sumAB&quot;);
</code></pre>
</blockquote>
<p>This is for testing only. Need to make a wrapper dll, so need to work out how one dll talks to the other.</p>
","2024-10-09 09:19:59","0","Question"
"79065060","79065023","","<p>A function can only process its variadic parameters using a <code>va_list</code>, and the parameters referenced by the <code>va_list</code> cannot be expanded out in a call to another variadic function. However, the <code>va_list</code> value can be passed by value to another function, so the way to solve the problem is to change the function pointer to point to a function that uses a <code>va_list</code>:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdarg.h&gt;

void caller(int (*func)(size_t, va_list), size_t n_args, ...) {
    va_list args;
    va_start(args, n_args);
    va_list args_for_func;
    va_copy(args_for_func, args);
    printf(&quot;(&quot;);
    for (size_t i = 0; i &lt; n_args-1; i++) {
        printf(&quot;%i, &quot;, va_arg(args, int));
    }
    printf(&quot;%i) =&gt; &quot;, va_arg(args, int));
    int result = func(n_args, args_for_func);
    va_end(args_for_func);
    printf(&quot;%i&quot;, result);
    va_end(args);
}

int vsum(size_t n_args, va_list args) {
    int result = 0;
    for (size_t i = 0; i &lt; n_args; i++) {
        result += va_arg(args, int);
    }
    return result;
}

int sum(size_t n_args, ...) {
    va_list args;
    va_start(args, n_args);
    int result = vsum(n_args, args);
    va_end(args);
    return result;
}

int main() {
    caller(vsum, 5llu, 1, 2, 3, 4, 5);
}
</code></pre>
","2024-10-08 08:38:49","2","Answer"
"79065058","79065023","","<p>You cannot chain vararg functions. Prototype of <code>sum</code> should be:</p>
<pre><code>int sum(size_t n_args, va_list args)
</code></pre>
<p>And <code>sum</code> should not have <code>va_start</code> as <code>va_copy</code> already does the necessary procedures.</p>
<p>But you should reconsider if you really need vararg function. It has poor type safety, and usually it is better to pass array or other object instead.</p>
","2024-10-08 08:38:34","1","Answer"
"79065023","","Passing a variadic function to a variadic function via a pointer","<p>I'm kinda confused with the usage of <code>&lt;stdarg.h&gt;</code> features. I can't figure out how to properly pass a <code>va_list</code> to the argument function. Here's a simplified example of what I'm trying to achive:</p>
<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdarg.h&gt;

void caller(int (*func)(size_t, ...), size_t n_args, ...) {
    va_list args;
    va_start(args, n_args);
    va_list args_for_func;
    va_copy(args_for_func, args);
    printf(&quot;(&quot;);
    for (size_t i = 0; i &lt; n_args-1; i++) {
        printf(&quot;%i, &quot;, va_arg(args, int));
    }
    printf(&quot;%i) =&gt; &quot;, va_arg(args, int));
    int result = func(n_args, args_for_func);
    va_end(args_for_func);
    printf(&quot;%i&quot;, result);
    va_end(args);
}

int sum(size_t n_args, ...) {
    va_list args;
    va_start(args, n_args);
    int result = 0;
    for (size_t i = 0; i &lt; n_args; i++) {
        result += va_arg(args, int);
    }
    va_end(args);
    return result;
}

int main() {
    // expected: (1, 2, 3, 4, 5) =&gt; 15
    // got: (1, 2, 3, 4, 5) =&gt; gibberish
    caller(sum, 5llu, 1, 2, 3, 4, 5);
}
</code></pre>
","2024-10-08 08:31:35","0","Question"
"79064485","79060941","","<blockquote>
<p>How to share functions between C++ classes when the member object they operate on is defined differently (stack vs heap)?</p>
</blockquote>
<p>The Class A and B in your currently trivial example will be inefficient if there are more than two  same functions.</p>
<p>What you can try to define a base class that contains the common function, an abstract function to provide access to the data (stack vs heap).</p>
<pre><code>class Base {
protected:
    virtual int* getNumbers() = 0;

public:
    int do_stuff() {
        int* numbers = getNumbers();
        return numbers[0] + numbers[1];
    }
};
</code></pre>
<p>Then Class A and B can inherit from this base class and implement the accessor.</p>
<pre><code>class A : public Base {
private:
    int numbers[200];  // stack

protected:
    int* getNumbers() override {
        return numbers;
    }
};

class B : public Base {
private:
    int* numbers;  // heap

public:
    B(int* num) : numbers(num) {}

protected:
    int* getNumbers() override {
        return numbers;
    }
};
</code></pre>
<p><a href=""https://godbolt.org/z/G3f7hheEj"" rel=""nofollow noreferrer"">Live Demo</a></p>
","2024-10-08 05:51:51","2","Answer"
"79064067","79064019","","<p><code>e.source</code> returns the spreadsheet where the event has taken place - the <em>spreadsheet</em>, not the sheet. So the line:</p>
<pre class=""lang-js prettyprint-override""><code>var sheet = e?.source?.getSheetByName(&quot;Washouts&quot;);
</code></pre>
<p>; is the same as doing:</p>
<pre class=""lang-js prettyprint-override""><code>var sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(&quot;Washouts&quot;);
</code></pre>
<p>In other words, you're accessing that sheet whether the event took place in it or not.</p>
<p>To access the sheet where the event took place, you can use <code>e.range.getSheet()</code>, and then <code>getName()</code> to get its name. You just need to check that it is indeed the correct one.</p>
<p>So, to sum up, the <code>sendEmailOnEdit</code> function can be modified as follows<sup>1</sup>:</p>
<pre class=""lang-js prettyprint-override""><code>function sendEmailOnEdit(e) {
  const sheetName = e.range.getSheet().getName();  // &lt;-- Changed this line...
  
  if (sheetName === &quot;Washouts&quot;) {  // &lt;-- ...and this line.
    var range = e.range;
    var editedValue = range.getValue();

    // Check if any text (non-empty) is entered
    if (editedValue !== &quot;&quot;) {
      // Tailor message
      var message = 'Text entered in the Washouts sheet: ' + editedValue;
      var subject = 'message body alert';

      // Email entry
      var recipientEmail = 'myemailaddyhere';

      // Send the email
      MailApp.sendEmail(recipientEmail, subject, message);
    }
  }
}
</code></pre>
<p><sup>1</sup><strong>EDIT - This answer is incomplete, and will not work in this case. Please see @ELSRY 's answer.</strong></p>
<h3>References</h3>
<ul>
<li><a href=""https://developers.google.com/apps-script/guides/triggers/events"" rel=""nofollow noreferrer"">Event objects</a></li>
</ul>
","2024-10-08 01:37:44","3","Answer"
"79064019","","Email alert when specific sheet is edited - Google Sheets","<p>I am having trouble refining a script to only send an email when any text is entered into a specific sheet (named &quot;Washouts&quot;) and that text is carried over by another script (<code>mergeAndClearRows()</code>, below), not manually entered.
It currently is sending an email when any text is entered in any cell, on any &amp; all of my tabs instead of restricting to only the &quot;Washouts&quot; sheet.</p>
<pre class=""lang-js prettyprint-override""><code>function sendEmailOnEdit(e) {
  var sheetName = &quot;Washouts&quot;; // Sheet Name
  var sheet = e?.source?.getSheetByName(sheetName);
  
  if (sheet) {
    var range = e.range;
    var editedValue = range.getValue();

    // Check if any text (non-empty) is entered
    if (editedValue !== &quot;&quot;) {
      // Tailor message
      var message = 'Text entered in the Washouts sheet: ' + editedValue;
      var subject = 'message body alert';

      // Email entry
      var recipientEmail = 'myemailaddyhere';

      // Send the email
      MailApp.sendEmail(recipientEmail, subject, message);
    }
  }
}
</code></pre>
<p>This is the script I am using, and have modified close to 50 times with the same result. It is not restricting the edits to the Washouts sheet, even with the manual trigger set correctly.</p>
<p>Basically a checkbox is checked if a truck required a washout, when checked, the row is clicked, menu item &quot;complete load&quot; is clicked, and the row is carried then to 2 other sheets instead of just the &quot;completed loads&quot; tab. It is then also carried over to the &quot;washouts&quot; tab as a duplicate. This all works fine, but I want it to send me an email when someone sends the copy over to the &quot;washouts&quot; tab so I can be made aware.
Everything is working other than it is sending an email whenever any cell is entered on any of the sheets.</p>
<pre class=""lang-js prettyprint-override""><code>function mergeAndClearRows() {
  var spreadsheet = SpreadsheetApp.getActive();
  var sheet = spreadsheet.getActiveSheet();
  var rowIdx = sheet.getActiveRange().getRowIndex();
  var rowValues = sheet.getRange(rowIdx, 1, 1, sheet.getLastRow()).getValues();
  
  // Checkbox column is currently U (adjust if I do move to the end)
  var checkboxValue = rowValues[0][20]; // Column U (index 20)
  
  // Initialize destValues array
  // need to adjust later to slim down washout copies, not sure how yet without extending script run time.
  var destValues = [
    rowValues[0][0], rowValues[0][1], rowValues[0][2], rowValues[0][3],
    rowValues[0][4], rowValues[0][5], rowValues[0][6], rowValues[0][7],
    rowValues[0][8], rowValues[0][9], rowValues[0][10], rowValues[0][11],
    rowValues[0][12], rowValues[0][13], rowValues[0][14], rowValues[0][15],
    rowValues[0][16], rowValues[0][19]
    // Add more values as needed
  ];
  
  // second copy for washouts if box is checked
  if (checkboxValue === true) {
    var destWashouts = spreadsheet.getSheetByName('Washouts');
    destWashouts.getRange(destWashouts.getLastRow() + 1, 1, 1, destValues.length).setValues([destValues]);
    
    // Set value column Q
    sheet.getRange(rowIdx, 17).setValue(false);
  }
  
  // Completed Loads if U = false
  var destCompletedLoads = spreadsheet.getSheetByName('Completed Loads');
  destCompletedLoads.getRange(destCompletedLoads.getLastRow() + 1, 1, 1, destValues.length).setValues([destValues]);
  
  // Clear content
  var rangeToClear = sheet.getRange(rowIdx, 9, 1, 7);
  rangeToClear.clearContent();
  
  // Clear U
  sheet.getRange(rowIdx, 21).setValue(false);
  
  // Clear content in column T (index 20) regardless of checkbox status
  sheet.getRange(rowIdx, 20).clearContent();
}
</code></pre>
","2024-10-08 01:06:46","0","Question"
"79063543","79056797","","<p>TypeScript's <a href=""https://www.typescriptlang.org/docs/handbook/type-inference.html"" rel=""nofollow noreferrer"">type inference</a> algorithm does not attempt to infer function parameter types from the types of arguments passed to the function at call sites.  So <code>emitValue</code>'s parameter type cannot be inferred given <code>notWorking((emitValue) =&gt; emitValue(123))</code>, similarly to how the type of <code>x</code> cannot be inferred in the following:</p>
<pre><code>function foo(x) {}
// later
foo(&quot;abc&quot;); 
</code></pre>
<p>TypeScript can only infer the types of <a href=""https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#parameter-type-annotations"" rel=""nofollow noreferrer"">unannotated parameters</a> via <a href=""https://www.typescriptlang.org/docs/handbook/type-inference.html#contextual-typing"" rel=""nofollow noreferrer"">contextual typing</a>, but there is no context for the parameter you're looking for.  TypeScript can contextually infer that <code>emitValue</code> must be of type <code>(value: Value) =&gt; void</code> for some <a href=""https://www.typescriptlang.org/docs/handbook/2/generics.html"" rel=""nofollow noreferrer"">generic</a> <code>Value</code>, but there is no context at that declaration site for what <code>Value</code> might be.  Only elsewhere, in the call to <code>emitValue(123)</code> is there any hint about what might be expected, but it's not in the right place for inference to happen.</p>
<p>Generally speaking if you want a function parameter to have a type, you should annotate that parameter yourself, even if this is more verbose than you'd like:</p>
<pre><code>notWorking((emitValue: (value: number) =&gt; void) =&gt; emitValue(123)); // okay
</code></pre>
<hr />
<p>Type inference of values from later usage does exist in some languages, notably <a href=""https://flow.org/"" rel=""nofollow noreferrer"">Flow</a>.  See <a href=""https://github.com/microsoft/TypeScript/issues/15114"" rel=""nofollow noreferrer"">microsoft/TypeScript#15114</a> for the canonical discussion for the lack of this as a feature of TypeScript and the reasoning behind it. Also see issues linked from that issue.</p>
<p><a href=""https://github.com/RyanCavanaugh"" rel=""nofollow noreferrer"">Ryan Cavanaugh</a>, the development lead for the TypeScript team at Microsoft, <a href=""https://github.com/RyanCavanaugh"" rel=""nofollow noreferrer"">said</a>:</p>
<blockquote>
<p>Current inference is <em>very</em> straightforward: types almost always come from initializers or contextual types. Both of those are static one-pass things that you can follow back as a human. Trying to do inference from call sites looks neat in simple examples but can make it very hard to trace errors to their actual sources, and is unscalable to large programs.</p>
</blockquote>
<p>In <a href=""https://github.com/microsoft/TypeScript/issues/15114#issuecomment-307201572"" rel=""nofollow noreferrer"">another comment, he gives a concrete example</a> for what goes wrong when inferring from usage:</p>
<blockquote>
<p>Type guards / flow analysis are straightforward (so to speak...) because they're &quot;top-down&quot; - given a statement in a
function, it's relatively easy to determine which control paths it's
reachable from, because JavaScript doesn't have control flow
structures that can go &quot;up&quot; (e.g.
<a href=""https://en.wikipedia.org/wiki/COMEFROM"" rel=""nofollow noreferrer"">COMEFROM</a>). This is very
different from a function <em>call</em> - you can be in a function on line
1500 and the first call might be on line 4000. Or maybe you're
indirectly called via some callback, etc..</p>
<p>The dream of inference from function calls is really not clear as some
people would imply. Here's an example in Flow:</p>
<pre class=""lang-none prettyprint-override""><code>swapNumberString(n: string): number; declare function
swapNumberString(n: number): string;

// Pass-through function function subs(s) {   return
swapNumberString(s); }

// This stops being an error if you comment // out the call in g()
below. ?? const s: string = subs(12);

function g() { subs(&quot;&quot;); } 
</code></pre>
<p>This is &quot;spooky action at a distance&quot;
at its most maximal. You can have the call to <code>subs</code> in <code>g</code>, or the
call in the <code>s</code> initializer, <em>but not both</em>. Huh? And why does the
wrapper function change the behavior of this at all (replacing <code>subs</code>
with <code>swapNumberString</code> makes the errors go away), if it's all
inferential magic?</p>
<p>Realistically there are two cases that usually happen if you use
inference from call sites / data flow analysis:</p>
<ul>
<li>Your file typechecks</li>
<li>You get an error in a correctly-implemented function
body due to a bad call</li>
</ul>
<p>If your file typechecks, cool, no work required.</p>
<p>In the other case, the first thing you do to diagnose the problem
is... drumroll... <em>add a parameter type annotation so you can figure
out where the bad call is coming from</em>. If there's indirection, you'll
probably have to do this in layers. You'll end up with a file full of
parameter type annotations, which is good since you'll need them
anyway for cross-file typechecks. So it's great for a single-file
playground demo but for &quot;real&quot; software development, you'll end up
with approximately the same number of parameter type annotations as if
you used a more local inference algorithm.</p>
</blockquote>
<p>Finally, in <a href=""https://github.com/microsoft/TypeScript/issues/15196#issuecomment-294618460"" rel=""nofollow noreferrer"">a comment in a linked issue, microsoft/TypeScript#15196, a contributor to the repo said</a></p>
<blockquote>
<p>I have a PR to add a quick fix to infer the type as <code>number</code> from such cases in <a href=""https://github.com/Microsoft/TypeScript/pull/14786"" rel=""nofollow noreferrer"">#14786</a>.</p>
<p>Inferring from call sites is something we have decided not to pursue for the TS compiler since its inception, and there are multiple reasons. For example, what if the function is not called? What if the use is in another compilation? What if the call is the error, and not the function declaration? What if the calls in your tests, are not exhaustive?</p>
<p>Moreover, this approach really works for a small snippets of code but does not scale specially with IDE scenarios and you want to know what changing one name mean for the whole compilations. Systems we have seen that take this approach either limit the inference to one file to make it more manageable, or do not care about accuracy.</p>
<p>We believe that type annotations serve better when added to declarations rather than non-local use sites for inference; they help readability and allow tools to correctly check for the user-intended behaviors. Using <code>noImplicitAny</code> to mark locations TypeScript could not figure out types in other locations helps ensure the experience stays consistent and prescriptive.</p>
</blockquote>
<p>So it's almost certainly the case that such inference will never happen in TypeScript.  The first line in that last comment refers to <a href=""https://github.com/microsoft/TypeScript/pull/14786"" rel=""nofollow noreferrer"">microsoft/TypeScript#14786</a>, a &quot;quick fix&quot; which <a href=""https://www.typescriptlang.org/docs/handbook/2/basic-types.html#types-for-tooling"" rel=""nofollow noreferrer"">a compliant IDE</a> will show you when you run into <a href=""https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#noimplicitany"" rel=""nofollow noreferrer"">implicit <code>any</code> errors</a> on function parameters.  So in some cases, you can get your IDE to do the type annotation for you. This is essentially a shallow implementation of the sort of inference you want, but it only happens when you ask for it explicitly, in an IDE, so it can't snowball into a cascading mess of global inferences.</p>
<p>The particular quick fix doesn't help in your example, since the failure of inference results in a generic type argument falling back to its default, and there's no implicit <code>any</code> to speak of. But in the other example</p>
<pre><code>function foo(x) { } // error!
//           ~ &lt;-- Parameter 'x' implicitly has an 'any' type.
foo(&quot;abc&quot;);
</code></pre>
<p>if you ask for editor support for <code>x</code>, you'll see a suggestion like &quot;<code><b>Quick Fix</b></code>/<code>💡 Infer parameter types from usage</code>&quot; which offers to change the code to be</p>
<pre><code>function foo(x: string) { }
foo(&quot;abc&quot;);
</code></pre>
<p>which makes things compile without error.</p>
<p>In any case, we can safely say that TypeScript's support for function parameters inference from usage is extremely limited, and unlikely to be improved in the future.</p>
<p><a href=""https://www.typescriptlang.org/play/?ts=5.6.2#code/GYVwdgxgLglg9mABMOcAUAPAlIg3ogXwCgV0AiAQwCMIysBuIoiBAZykTDigHU4AnANYwwAc0QBeRAB4AahQA2IAKaTOygG7L+APjQRFCqhQiCAXIjTKAtjCjylyi2g2KVFhypwSdiDXBgAE29ffyCsCzDAyV9cIkREAHpEgDo0omIiLl4BYTE0K1t7N2UQxBs7T2U0AEYAJgBmLAYmbL4hEVECiuLHZ1c+zhBrKm0yqLKeqtrG5vokxMQ4QQoATyA"" rel=""nofollow noreferrer"">Playground link to code</a></p>
","2024-10-07 20:21:50","2","Answer"
"79061262","79060941","","<p>You have in fact two distinct problems: you want to be able to handle some processing on structured data (here a mere integer array), and you want to be able to use either an externally provided data, or to be able to own the data memory. As those are 2 distinct concerns they should be handled by two distinct classes.</p>
<p>Here is a possible code based on your example:</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;array&gt;


class B
{
private:
    int* numbers;

// allow late initialization from subclasses
protected:
    B() {};
    void set_numbers(int* num) {
        numbers = num;
    }

public:
    B(int* num) : numbers(num) {};

    // processing is only declared/defined in B
    int do_stuff()
    {
        return numbers[0] + numbers[1];
    }
};


// class A will let superclass B handle the data processing
class A: public B
{
private:
    // the std::array automatically handles copy/move/destruction
    std::array&lt;int, 200&gt; numbers;

public:
    A() :
        numbers{ 2, 3 } { // default initialization of numbers data...
        // use a 2 time construction because B is constructed before numbers
        B::set_numbers(numbers.data());
    };
};

int main() {
    int numbers[200] = { 12, 13 };
    B b(numbers);
    A a;
    std::cout &lt;&lt; &quot;a.do_stuff(): &quot; &lt;&lt; a.do_stuff() &lt;&lt; &quot; - b.do_stuff: &quot; &lt;&lt; b.do_stuff();
    return 0;
}
</code></pre>
<p>This correctly gives:</p>
<pre><code>a.do_stuff(): 5 - b.do_stuff: 25
</code></pre>
","2024-10-07 08:52:20","0","Answer"
"79061094","79060941","","<p>You can achieve this with a <a href=""https://godbolt.org/z/WM3sqfG6P"" rel=""nofollow noreferrer"">template</a>.</p>
<pre><code>#include &lt;type_traits&gt;

template &lt;typename T&gt;
class X {
 public:
  X() requires(!std::is_pointer_v&lt;T&gt;) = default;
  explicit X(T n) requires std::is_pointer_v&lt;T&gt;
      : numbers(n) {}

  int do_stuff() { return numbers[0] + numbers[1]; }

 private:
  T numbers;
};

using A = X&lt;int[200]&gt;;
using B = X&lt;int*&gt;;

int main() {
  int ar[2]{};
  A a;
  B b(ar);
}
</code></pre>
","2024-10-07 08:00:28","4","Answer"
"79061027","79060941","","<p>Your question rephrased: &quot;I have two use cases. Once I need to do <code>X</code> another time i need to do <code>X</code> and <code>Y</code>. How can I avoid to implement <code>X</code> twice?&quot;</p>
<p>Why would you implement <code>X</code> twice? Use what you have already.</p>
<pre><code>class B
{
private:
   int *numbers;
public:
   B(int *num): numbers(num) {}
   int do_stuff() { return numbers[0] + numbers[1]; }
};

class A {
private:
   int numbers[200];
public:
   B b{&amp;numbers[0]};
};
</code></pre>
<p>You asked to put considerations about design aside, hence I only show the most simple which comes at the cost of requiring a user to write <code>a.b.do_stuff</code> when they use an <code>A</code>.</p>
","2024-10-07 07:37:27","3","Answer"
"79060941","","How to share functions between C++ classes when the member object they operate on is defined differently (stack vs heap)?","<p>I have a situation where I have one class, A, which contains the same functions as class B,
but A defines it's own object on the stack to perform functions on, whereas B obtains it's object externally.</p>
<p>The name of the object and syntax is the same for each function in both classes.</p>
<p>A (made up) example:</p>
<pre><code>class A
{
private:
   int numbers[200];

public:
   A() {};

   int do_stuff()
   {
      return numbers[0] + numbers[1];
   }
};


class B
{
private:
   int *numbers;

public:
   A(int *num): numbers(num) {};

   int do_stuff()
   {
      return numbers[0] + numbers[1];
   }
};
</code></pre>
<p>Despite it being trivial example, you can see how it will get wasteful if there are 20 functions and each is a copy-paste of the other.</p>
<p>Please don't waste collective energy arguing as to why A is better than B or vice-versa, I'm aware what I'm trying to achieve and it's non-trivial, unlike the above.</p>
","2024-10-07 07:13:42","0","Question"
"79058095","79058064","","<blockquote>
<p>But if i turn the input prompt into a variable</p>
</blockquote>
<p>You're not turning the input prompt into a variable, you're assigning the result of the prompt to that variable, so it is executed in that point.</p>
<p>After that, the script calls the <code>operations()</code> function, and shows the variable.</p>
<p>The first example is the correct one to do what you want to do (and sure, there may be more solutions).
In the second one the prompt not block the loop, it happens after prompt.</p>
","2024-10-05 23:08:25","0","Answer"
"79058064","","in python, why does the input variable make the loop not run but making it a function allows both the input and the loop to run?","<p>I am not too sure how to phrase the title.</p>
<pre class=""lang-py prettyprint-override""><code>operation = (&quot;Addition&quot;, &quot;Subtraction&quot;, &quot;Multiplication&quot;, &quot;Division&quot;)

def choose():
    input(&quot;Choose an operation: &quot;).casefold().strip()

def operations():
    for op in operation:
        index = operation.index(op) + 1
        print(index, &quot;.&quot;, op)

operations()
choose()
</code></pre>
<p>When I run the above, the output is the list of names, and under it is the question. But if I turn the input prompt into a variable (see below), only the question runs and the list is basically ignored.</p>
<pre class=""lang-py prettyprint-override""><code>operation = (&quot;Addition&quot;, &quot;Subtraction&quot;, &quot;Multiplication&quot;, &quot;Division&quot;)
choose = input(&quot;Choose an operation: &quot;).casefold().strip()

def operations():
    for op in operation:
        index = operation.index(op) + 1
        print(index, &quot;.&quot;, op)

operations()
choose
</code></pre>
<p>What is the reason?</p>
<p>if I put:</p>
<pre class=""lang-py prettyprint-override""><code>operations()
input(&quot;Choose an operation: &quot;).casefold().strip()
</code></pre>
<p>Then that also runs both the list and the question. But I need the return value for later use so this won't be beneficial.</p>
<p>I don't understand why a function works but the variable blocks the loop?</p>
","2024-10-05 22:44:40","-4","Question"
"79056837","79056797","","<p>I am not sure if I understand correctly, but you can move the generic to the function itself, if you do not specifically want it on the containing function:</p>
<pre class=""lang-js prettyprint-override""><code>const notWorking = (
  callback: (emitValue: &lt;Value&gt;(value: Value) =&gt; void) =&gt; void
): void =&gt; {
  //...
};

notWorking((emitValue) =&gt; {
  emitValue(123);
});

</code></pre>
<p>Since the containing function is void, I am not quite sure why you need the generic there.</p>
","2024-10-05 10:29:07","0","Answer"
"79056797","","Type inference not working for higher-order functions in TypeScript","<p>TypeScript does not infer properly the generic type of a function that accepts a function that exposes as its argument a function that when called should be provided with an argument that is generic.</p>
<pre class=""lang-js prettyprint-override""><code>const notWorking = &lt;Value&gt;(callback: (emitValue: (value: Value) =&gt; void) =&gt; void): void =&gt; {
  //...
}

notWorking((emitValue) =&gt; {
  emitValue(123);
});
</code></pre>
<p>When called, the <code>notWorking</code> function here does not infer anything, instead it treats the generic argument as <code>unknown</code>, even though the argument passed to the <code>emitValue</code> function is a <code>number</code>.</p>
<p>I tried assigning a default value to the <code>Value</code> generic argument with <code>never</code> thinking that it would at least error out and force me to provide an explicit generic argument to the function, and it does work when writing the code below.</p>
<pre class=""lang-js prettyprint-override""><code>const notWorking = &lt;Value = never&gt;(callback: (emitValue: (value: Value) =&gt; void) =&gt; void): void =&gt; {
  //...
}

notWorking&lt;number&gt;((emitValue) =&gt; {
  emitValue(123);
});
</code></pre>
<p>But I'm now forced to provide the generic argument, and I would like to know if there was a way to kind of like make TypeScript a little more smart about the inference of those kinds of higher-order functions? Or is it a limitation of the language itself?</p>
<p>Using a generic in the function passed as argument is not an option for me.</p>
","2024-10-05 10:09:55","1","Question"
"79051477","79046545","","<p>To answer the original question &quot;How do I iterate over the data row by row?&quot;:</p>
<p>The columns of the result set you extract from the Array are pairs of objects: the first is an integer, the index of the row (1 based), the second is an Object implementing the Struct interface.
You get the actual columns of the SQL OBJECT behind the table by calling the getAttributes() function returning an Object[] containing the expected values in the order of the fields declaration of the original SQL OBJECT.</p>
<pre><code>Array test = functionCall.getArray(1);
ResultSet rs = test.getResultSet();
while (rs.next()) {
    Struct s =  (Struct) rs.getObject(2);
    Object[] o = s.getAttributes();
...
}
</code></pre>
<p>Note that numbers are returned as BigDecimal.</p>
","2024-10-03 16:48:30","0","Answer"
"79050408","79050361","","<p>[tblAssociate].[AssocID] is not defined until after the DLookup is performed and concatenated into the SQL statement. You cannot use values from the query within DLookups that are concatenated into the SQL. I suggest you consider SQL joins.</p>
","2024-10-03 11:51:20","1","Answer"
"79050361","","SQL string throws ""External Name not Defined"" error when running in VBA module - Name is defined","<p>In Access Query window the SQL code runs fine and gives accurate results, however, when I transfer the code to the VBA module, I receive an &quot;External Name Not Defined&quot; error on the  [tblAssociate].[AssocID] in the DMax function.</p>
<p>The name is defined so I'm not sure where the issue is?</p>
<pre><code>SELECT 
    tblAssociate.AssocID, 
    tblAssociate.PersNo, 
    tblAssociate.Inactive, 
    
    &quot; &amp; DLookup(&quot;[Position]&quot;, &quot;tblAssocHistory&quot;, &quot;[AssocHistoryID] = &quot; &amp; DMax(&quot;[AssocHistoryID]&quot;, &quot;tblAssocHistory&quot;, &quot;[AssocID] = &quot; &amp; [tblAssociate].[AssocID])) &amp; &quot; AS CurrPos, 
    
    tblAssignments.Inactive, 
    tblAssignments.AssignmentID 
    
    FROM tblAssociate 
    INNER JOIN tblAssignments ON tblAssociate.AssocID = tblAssignments.AssocID WHERE 
    (
     ((tblAssociate.Inactive)=True) AND (tblAssignments.Inactive = False)
    ) 
    OR 
    (
      (tblAssociate.Inactive = False) 
      AND 
      (
       &quot; &amp; DLookup(&quot;[Position]&quot;, &quot;tblAssocHistory&quot;, &quot;[AssocHistoryID] = &quot; &amp; DMax(&quot;[AssocHistoryID]&quot;, &quot;tblAssocHistory&quot;, &quot;[AssocID] = &quot; 
       &amp; [tblAssociate].[AssocID])
      ) &amp; &quot; Not In 
       (SELECT ref_Config.ConfigLongDesc FROM ref_Config WHERE ref_Config.ConfigShortDesc In ('Agent Positions')
       )
      ) 
      AND tblAssignments.Inactive = False
     )&quot;
</code></pre>
<p>The error appears on both instances of the DMax Where clause.</p>
<p>This code string should provide a listing of assignments to be cancelled because the agent is no longer an active associate.</p>
","2024-10-03 11:38:56","0","Question"
"79048619","79047563","","<p>You can't use <code>@param {Mutation.insert}</code> or <code>@param {typeof Mutation.insert}</code> to enforce that the parameter is specifically <code>Mutation.insert</code>. One way would be to use the <a href=""https://jsdoc.app/tags-callback"" rel=""nofollow noreferrer"">callback</a> tag for your usecase.</p>
<h2>Example</h2>

<pre class=""lang-js prettyprint-override""><code>/**
 * A mutation algorithm function.
 * @callback Mutation~insert
 * @param {string} foo - example param although u have none in your provided code
 * @returns {void}
 */
class Mutation {
    /**
     * Your insert function
     * @type {Mutation~insert}
     */
    static insert(foo) {
        // ...
    }
}

/**
 * @param {Mutation~insert} mutationAlgorithm - Your insert function from Mutation class
 */
constructor(mutationAlgorithm = Mutation.insert) {
    this.mutationAlgorithm = mutationAlgorithm;
}
</code></pre>

<h2>Explanation</h2>
<p>From the JSDoc documentation: <em>The @callback tag provides information about a callback function that can be passed to other functions, including the callback's parameters and return value</em></p>
<p>Think of <code>@callback</code> as a way to define what a function looks like. What goes in (parameters) and what comes out (return type). After the callback is defined, you can use its name wherever you need to specify that a param should be of that type of function. This way you can change the function and only have to adjust the JSDoc at one place.</p>
","2024-10-02 22:19:55","0","Answer"
"79047979","79047911","","<p>To add to the answer provided by <a href=""https://stackoverflow.com/a/79047922/13400133"">@ShadowRanger</a>. The generic type object is literally just <code>object</code>, if you need a far larger context to work with. Though, depending on how you handle it, your performance will suffer.</p>
<p>The best way to describe this for future discussion is the term <code>anonymous</code>.</p>
<pre><code>def test_method(variable: object):
    if (isinstance(variable, str)):
            print(variable)
    else:
            print(type(variable))

var = &quot;This is a string&quot;

test_method(var)
&gt;&gt;&gt; This is a string

var = 42

test_method(var)
&gt;&gt;&gt; &lt;class 'int'&gt;
</code></pre>
","2024-10-02 18:06:00","-1","Answer"
"79047924","79047911","","<p>You can, but you should use <code>isinstance</code> to check the type.</p>
<pre><code>def function_name(data_type, *args):
    for i in args:
        if isinstance(i, date_type):
            return 42


assert function_name(int, 'c', 3.14159, 6) == 42
assert function_name(str) is None
</code></pre>
","2024-10-02 17:45:13","0","Answer"
"79047922","79047911","","<p>Yes, you can do this. Classes are first class objects in Python, so you could call:</p>
<pre><code>Function_Name(int, a, b, c)
</code></pre>
<p>and it would return for the first element of <code>a</code>, <code>b</code> or <code>c</code> that was of type <code>int</code>  (exactly, not a subclass). If none of them are of the desired type, then the loop with end without a <code>return</code>, and the function will implicitly return <code>None</code>.</p>
<p>Note that when comparing types, you're more likely to want to test either:</p>
<ol>
<li><code>if isinstance(i, Data_Type):</code> (to allow subclasses and virtual subclasses to pass), or</li>
<li><code>if type(i) is Data_Type:</code> (types are singletons, and it's slightly more efficient to use identity testing, rather than potentially performing rich comparison checks that should never pass)</li>
</ol>
<p>The former would allow <code>bool</code> to pass if the argument was <code>int</code> (because <code>bool</code> is a subclass of <code>int</code>), while the latter would not (but would do so more efficiently than what you wrote), so choose based on what you intend.</p>
","2024-10-02 17:44:41","2","Answer"
"79047911","","Can I pass a variable type as a parameter in a function in Python?","<p>Can I pass a variable type as a parameter in a function in Python? I'm trying to do something that needs me to input a data type. The current code I have is along the lines of:</p>
<pre><code>def Function_Name(Data_Type, *args):
     for i in args:
          if type(i) == Data_Type:
               return(XXXX)
</code></pre>
<p>I know can do an input of a string and then convert it into a data type once in the function, but is there a way to just input the data type directly? I also know that you can store a data type (ex: int) in a var and use it that way, but it won't let me input it into a function as a parameter.</p>
","2024-10-02 17:38:12","-1","Question"
"79047563","","How to specify a parameter as a function from a specific class in JSDoc?","<p>I'm working on a JavaScript class and using JSDoc for documentation. In the constructor, I have a parameter <code>mutationAlgorithm</code> that should accept a function from the <code>Mutation</code> class (e.g., <code>Mutation.insert()</code>). Here’s my current constructor:</p>
<pre class=""lang-js prettyprint-override""><code>/**
 * @param {???} mutationAlgorithm - A function from the Mutation class.
 */
constructor(mutationAlgorithm = Mutation.insert) {
    this.mutationAlgorithm = mutationAlgorithm;
}

// Usage:
const obj = new Class(Mutation.insert);
</code></pre>
<p>I want to specify in the JSDoc that:</p>
<ol>
<li>This parameter is a function</li>
<li>This function must be from <code>Mutation</code> class</li>
</ol>
<p>What is the correct JSDoc syntax for this?</p>
","2024-10-02 15:53:50","2","Question"
"79046969","79046545","","<p>MTO's answer solved my problem. However, I needed to change my JAVA code quite a bit to process the cursor returned from the database function. Hence, here the updated Java code for documentation. PL/SQL was implemented according to MTO's answer:</p>
<pre><code>String callStatement = &quot;{? =  call %sMY_FUNCTION(?, ...)}&quot;;

try (Connection connection = _dbConnector.getDbConnection()) {
    try (OracleCallableStatement functionCall = (OracleCallableStatement) connection.prepareCall(callStatement)) {

        functionCall.registerOutParameter(1, OracleTypes.CURSOR);
        functionCall.setInt(2, value);
            ... more parameters

        // Note that I call EXECUTE here
        functionCall.execute();

        try (ResultSet queryResult = functionCall.getCursor(1)) {
            while (queryResult.next()) {
                // process queryResult ...
            }
        } catch (Exception e) {
            ...
        }
    }
}
</code></pre>
<p>This works now. Thanks MTO.</p>
","2024-10-02 13:29:00","0","Answer"
"79046603","79046545","","<p>Write the function as:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE FUNCTION MY_FUNCTION 
(
  IN_PARAMETERS...
)
RETURN SYS_REFCURSOR
IS
  v_result SYS_REFCURSOR;
BEGIN
  OPEN v_result FOR
    SELECT &lt;fields&gt;
    FROM SOME_TABLE
    WHERE &lt;some complicated filter&gt;;

    RETURN v_result;
END MY_FUNCTION;
</code></pre>
<p>Then loop through the result set in exactly the same way as you would from a procedure.</p>
","2024-10-02 11:50:58","1","Answer"
"79046545","","How to process tabular data from Oracle PL/SQL function in JAVA?","<p>What I am used to is working with <code>ResultSet</code>s from <code>PreparedStatement</code>s, e.g.</p>
<pre><code>try (PreparedStatement ps = dbConnection.prepareStatement(sqlQueryString)) {
    try (ResultSet queryResult = ps.executeQuery()) {
        while (queryResult.next()) {
            // do something with queryResult
        }
    }
}
</code></pre>
<p>Now, I created a PL/SQL function in an Oracle DB returning a table of data:</p>
<pre><code>create or replace FUNCTION MY_FUNCTION 
(
  IN_PARAMETERS...
)
RETURN OUT_TABLE_TYPE IS
    RESULT_ROWS OUT_TABLE_TYPE;
BEGIN
    SELECT &lt;fields&gt;
    BULK COLLECT INTO RESULT_ROWS
    FROM SOME_TABLE
    WHERE &lt;some complicated filter&gt;

    RETURN RESULT_ROWS;
END MY_FUNCTION;
</code></pre>
<p>I would like to call this function in JAVA and iterate over the rows of data returned from the function. This is how far I am:</p>
<pre><code>String dbCall = &quot;{? = call MY_FUNCTION(?, ...)}

try (CallableStatement functionCall = dbConnection.prepareCall(dbCall)) {
            
    functionCall.registerOutParameter(1, Types.ARRAY, &quot;SOME_TABLE&quot;);
    // register input parameter values:
    functionCall.setInt(2, value1);
    functionCall.set... // more input

    functionCall.executeUpdate();

    // now what??? I tried something like this:
    Array test = functionCall.getArray(1);
    while (test.getResultSet().next()) {
        // test contains data, but I don't know how to process it.
    }    
}
</code></pre>
<p>How do I iterate over the data row by row?</p>
","2024-10-02 11:37:44","0","Question"
"79046192","79046087","","<p>Your code assumes that <code>lists[0]</code> is the &quot;normal&quot; value (list) that repeats, since you compare any other element with it in your <code>diff</code> expression. But if you find that the entry at index 1 is different from the one at index 0, you cannot yet know which one is the odd one out. You need to make an additional comparison in that case with yet another element from the list (for example the last one).</p>
<p>Not your question, but:</p>
<ul>
<li><p>you don't need numpy or that <code>diff</code> expression to compare two lists of integers. In Python you can just compare such lists with <code>==</code>.</p>
</li>
<li><p>A function is more useful when it doesn't print the result, but returns it.</p>
</li>
</ul>
<p>Here I take the last entry as reference value, and if the very first one happens to be different, there are two possibilities: either the first one is the odd one, or the last. A comparison with the second entry can make the distinction:</p>
<pre><code>def find_idx(lists):
    reflist = lists[-1]
    for i, lst in enumerate(lists):
        if lst != reflist:
            # when i == 0 we don't have enough information yet: make another comparison
            if i == 0 and lists[1] != reflist:
                return len(lists) - 1
            return i
    return -1
</code></pre>
<p>Example call:</p>
<pre><code>a = [[0, 6], [1, -2], [1, -2], [1, -2], [1, -2], [1, -2]]
i = find_idx(a)
print(i)  # 0
</code></pre>
","2024-10-02 09:51:30","0","Answer"
"79046112","79046079","","<p>When using <a href=""https://laravel.com/docs/11.x/collections#method-each"" rel=""nofollow noreferrer""><code>each()</code></a> to iterate over a Laravel collection,
returning <code>false</code> stops the iteration:</p>
<blockquote>
<p>If you would like to stop iterating through the items, you may return false from your closure</p>
</blockquote>
<p>In your case, <code>$this-&gt;checkedAll</code> is false, so the closure returns false and you get only one element in your <code>$this-&gt;checked</code> array.</p>
","2024-10-02 09:21:32","0","Answer"
"79046087","","Identify the list that is the odd one out, and find its index from given lists","<p>I am given a list of lists that contains exactly one list that is different from the others.</p>
<p>I tried to solve that with this code:</p>
<pre><code>a = [[1, -2], [1, -2], [1,6], [1, -2], [1, -2]]
     
def find_idx(lists):
     for i in range(len(lists)-1):
          diff = np.array(lists[0])-np.array(lists[i+1])
          for k in diff:
               if k != 0:
                    print(i+1)
find_idx(a)
</code></pre>
<p>The above function works well for most inputs, but when the odd one out is at index 0, it returns the wrong result.</p>
<p>For example, with this input:</p>
<pre><code>(lists = [[1, 6],[1, -2], [1, -2], [1, -2], [1, -2]])
</code></pre>
<p>I get all indices printed, except the one that I really should get (0).</p>
<p>How can I fix my function so it also works when the differing list sits at index 0?</p>
","2024-10-02 09:13:38","-8","Question"
"79046079","","Different results for function() and fn(). PHP","<p>I have a problem.</p>
<pre><code>$this-&gt;allIds-&gt;each(function ($id) {
    $this-&gt;checked[$id] = $this-&gt;checkedAll;
});
</code></pre>
<p>And this:</p>
<pre><code>$this-&gt;allIds-&gt;each(fn($id) =&gt; $this-&gt;checked[$id] = $this-&gt;checkedAll);
</code></pre>
<p>return different results... Why? :)
In full version i have this:
<a href=""https://i.sstatic.net/9eXE66KN.png"" rel=""nofollow noreferrer"">Result with function()</a>
In short version i have this:
<a href=""https://i.sstatic.net/fzhLzK76.png"" rel=""nofollow noreferrer"">Result with fn()</a></p>
<p>Thanks :)</p>
","2024-10-02 09:11:56","1","Question"
"79045670","79045635","","<p>It is impossible to pass functions by-value. When a parameter of a function has a function type it is automatically adjusted to &quot;pointer to [the function type]&quot; instead. Similarly, deduction will decay the argument of function type to a function pointer before deduction if the function parameter is of non-reference type.</p>
<p>So, <code>F</code> in the first call will be <code>void(*)()</code>, not <code>void()</code>.</p>
<p>In the reference overloads <code>F</code> will be deduced to <code>void()</code>.</p>
<p><code>const</code> has no meaning for references to functions and so the parameter in both the second and third call will be of type <code>void(&amp;)()</code>.</p>
<p>Whether <code>funct</code> is a reference-to-function or pointer-to-function pretty much doesn't matter though, because you can call either as if you named the function directly. There is no difference in meaning except what <code>decltype(funct)</code> would produce.</p>
","2024-10-02 07:03:31","7","Answer"
"79045635","","Difference on passing a free function as template argument by value or by reference","<p>Consider this code (<a href=""https://gcc.godbolt.org/z/sxY6GTdqE"" rel=""noreferrer"">godbolt</a>):</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;iostream&gt;

template&lt;typename F&gt; void call_by_val(F funct)
   {
    std::cout &lt;&lt; &quot;call_by_val(): &quot;;
    funct();
   }

template&lt;typename F&gt; void call_by_ref(F&amp; funct)
   {
    std::cout &lt;&lt; &quot;call_by_ref(): &quot;;
    funct();
   }

template&lt;typename F&gt; void call_by_cref(const F&amp; funct)
   {
    std::cout &lt;&lt; &quot;call_by_cref(): &quot;;
    funct();
   }


void free_funct()
{
    std::cout &lt;&lt; &quot;free_funct()\n&quot;;
}


int main()
{
    call_by_val( free_funct );
    call_by_ref( free_funct );
    call_by_cref( free_funct );
}
</code></pre>
<p>All of these three calls work as expected.
In case of a free function I'm not sure what's happening under the rug, so I'm wandering what's the difference in these three styles, semantically speaking.
Is there an objective reason to prefer one over the others?</p>
","2024-10-02 06:53:38","5","Question"
"79044957","79044436","","<p>The output of <code>estimate_risk()</code> is a list with two elements, named &quot;risk_est_10yr&quot; and &quot;risk_est_30yr&quot;.</p>
<p><code>purrr::list_rbind()</code> combines elements into a data frame by row-binding them together. Then we can remove the &quot;risk_est_&quot; part of the two output names to make the final column names more concise. And then we can reshape wide using the combination of the &quot;time&quot; column and each of the variable columns.</p>
<pre><code>library(tidyverse)
est1 |&gt;
  list_rbind(names_to = &quot;time&quot;) |&gt;
  mutate(time = str_remove(time, &quot;risk_est_&quot;)) |&gt; # optional
  pivot_wider(names_from = time, values_from = 2:9, names_vary = &quot;slowest&quot;)
  
</code></pre>
<p>Result</p>
<pre><code>  total_cvd_10yr ascvd_10yr heart_failure_10yr chd_10yr stroke_10yr model_10yr over_years_10yr input_problems_10yr total_cvd_30yr ascvd_30yr heart_failure_30yr chd_30yr stroke_30yr model_30yr over_years_30yr input_problems_30yr
           &lt;dbl&gt;      &lt;dbl&gt;              &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;                &lt;int&gt; &lt;chr&gt;                        &lt;dbl&gt;      &lt;dbl&gt;              &lt;dbl&gt;    &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;                &lt;int&gt; &lt;chr&gt;              
1          0.138      0.076              0.067    0.036       0.044 full                    10 NA                           0.447      0.269              0.295    0.145       0.163 full                    30 NA      
</code></pre>
<p>Using</p>
<pre><code>est1 &lt;- preventr::estimate_risk(
  age = 54,
  sex = &quot;female&quot;,
  sbp = 151,
  bp_tx = TRUE,
  total_c = 197,
  hdl_c = 47,
  statin = FALSE,
  dm = FALSE,
  smoking = TRUE,
  egfr = 88,
  bmi = 32,
  hba1c = 6.2,
  uacr = 70,
) 
</code></pre>
","2024-10-01 23:04:31","0","Answer"
"79044436","","How do I take the output from R and store each piece of output into a separate column?","<p>I am using the function &quot;preventr&quot; in RStudio. It basically is an equation that uses around 10 parameters to predict cardiovascular disease risk for patients. I have a dataframe with &gt;50,000 observations with each row representing a unique patient and their unique parameters (all the parameters necessary for the risk modeling). I want to calculate their cardiovascular disease risk by using the preventr package (specifically, the function: estimate_risk). How do I save the output (which comes in the form of a tibble) into new columns for each participant in the original data frame that contains all the parameters needed to estimate the risk? Please note that the estimate_risk function output is a tibble that contains multiple risk predictions, and I want to save each risk prediction in a separate unique column. Please refer to the code and output below.</p>
<p>df1:
<a href=""https://i.sstatic.net/f55E4la6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/f55E4la6.png"" alt=""df1"" /></a></p>
<pre><code>install.packages(&quot;preventr&quot;)
library(preventr)
estimate_risk(
  age = df1$AGE,
  sex = df1$SEX,
  sbp = df1$SystolicBPAvg,
  bp_tx = df1$AnyAntihypertensive,
  total_c = df1$TCHOL,
  hdl_c = df1$HDL,
  statin = df1$AnticholesterolDrug,
  dm = df1$Diabetes,
  smoking = df1$CurrentSmoking,
  egfr = df1$eGFR,
  bmi = df1$BMI,
  hba1c = df1$A1c,
  uacr = df1$UACR,
)

#Example input#:
estimate_risk(
  age = 54,
  sex = &quot;female&quot;,
  sbp = 151,
  bp_tx = TRUE,
  total_c = 197,
  hdl_c = 47,
  statin = FALSE,
  dm = FALSE,
  smoking = TRUE,
  egfr = 88,
  bmi = 32,
  hba1c = 6.2,
  uacr = 70,
)

#Example output#:
$risk_est_10yr
# A tibble: 1 × 8
  total_cvd ascvd heart_failure   chd stroke model over_years input_problems
      &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;         
1     0.138 0.076         0.067 0.036  0.044 full          10 NA            

$risk_est_30yr
# A tibble: 1 × 8
  total_cvd ascvd heart_failure   chd stroke model over_years input_problems
      &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;         
1     0.447 0.269         0.295 0.145  0.163 full          30 NA            


</code></pre>
<p>I want to be able to save the output for total_cvd risk, ascvd risk, heart_failure risk, chd risk, stroke risk for both the 10yr estimate and the 30yr estimate. For example, columns as follows: total_cvd_10yr, ascvd_10yr, heart_failure_10yr, chd_10yr, stroke_10yr, total_cvd_30yr, ascvd_30yr, heart_failure_30yr, chd_30yr, and stroke_30yr.</p>
<p>I would be most grateful for your help. Please let me know if you need additional information. Thank you!!</p>
","2024-10-01 19:09:39","1","Question"
"79040840","79040788","","<p>See <a href=""https://dplyr.tidyverse.org/articles/programming.html"" rel=""nofollow noreferrer"">https://dplyr.tidyverse.org/articles/programming.html</a> and, in particular, <a href=""https://dplyr.tidyverse.org/articles/programming.html#one-or-more-user-supplied-expressions"" rel=""nofollow noreferrer"">https://dplyr.tidyverse.org/articles/programming.html#one-or-more-user-supplied-expressions</a></p>
<p><code>tidyverse</code> functions rely on a specific style of &quot;non-standard evaluation&quot; which lets you do things like referring to a column of a data frame by the column name, e.g. <code>cyl</code> instead of <code>mtcars$cyl</code>. When you're using those functions within other functions, you need to take some extra care. In many simple cases, wrapping the column name in double braces will allow you to pass a function parameter and use it to select a column by that name.</p>
<pre><code>table_fun &lt;- function(data, grouping_var) {
  count(data, {{grouping_var}}, name = &quot;count&quot;)
}
</code></pre>
<p><code>count(df, cyl, name = &quot;count&quot;)</code> is equivalent to <code>df |&gt; group_by(cyl) |&gt; summarize(count = n())</code> or <code>df |&gt; summarize(count = n(), .by = cyl)</code> (That last one requiring dplyr 1.1.0+ from 2023 or later.)</p>
<hr />
<p>In the comments, OP asked about the situation where we want to refer  to a dynamically-created column with a subsequent function. See the &quot;name injection&quot; section <a href=""https://dplyr.tidyverse.org/articles/programming.html#name-injection"" rel=""nofollow noreferrer"">here</a>:</p>
<pre><code>library(gt)
table_fun &lt;- function(data, grouping_var, new_name) {
  count(data, {{grouping_var}}, name = &quot;count&quot;) |&gt;
    gt() |&gt;
    cols_label( {{grouping_var}} := new_name)
}

table_fun(mtcars, cyl, &quot;Cylinder&quot;)
</code></pre>
<p><a href=""https://i.sstatic.net/kEfyemjb.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/kEfyemjb.png"" alt=""enter image description here"" /></a></p>
","2024-09-30 19:45:37","3","Answer"
"79040836","79040788","","<p>You can use <code>ensym</code> from <code>rlang</code></p>
<pre><code>library(rlang)
table_fun &lt;- function(data, grouping_var) {
    data %&gt;%
        select(!!ensym(grouping_var)) %&gt;%
        group_by(!!ensym(grouping_var)) %&gt;%
        summarise(count = n())
}
</code></pre>
<p>such that <code>table_fun(mtcars, cyl)</code> gives</p>
<pre><code># A tibble: 3 × 2
    cyl count
  &lt;dbl&gt; &lt;int&gt;
1     4    11
2     6     7
3     8    14
</code></pre>
","2024-09-30 19:43:43","1","Answer"
"79040826","79040788","","<p>So I think there is a NSE issue here.</p>
<pre><code>table_fun = function(data, grouping_var){
  grouping_var &lt;-  deparse(substitute(grouping_var))
  data %&gt;% 
    select(data[[grouping_var]])%&gt;%
    group_by(data[[grouping_var]])%&gt;%
    summarise(count = n())
}


</code></pre>
","2024-09-30 19:41:00","1","Answer"
"79040788","","Selecting by Column Names within Function","<p>I feel like I'm losing my mind. This should be working, right?</p>
<p>Selecting a variable that is being piped within a dataset. I get the error that <code>Error: object 'cyl' not found</code></p>
<pre><code>table_fun = function(data, grouping_var){
  data %&gt;% 
    select(grouping_var)%&gt;%
    group_by(grouping_var)%&gt;%
    summarise(count = n())
}

table_fun(mtcars, cyl)
</code></pre>
","2024-09-30 19:27:45","2","Question"
"79040666","79040297","","<p>You could take a look at the <a href=""https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/statements/jump-statements#ref-returns"" rel=""nofollow noreferrer""><code>ref return</code></a> statement (support started on C# 7.0), as well as the APIs below:</p>
<ul>
<li><a href=""https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.collectionsmarshal.getvaluerefornullref"" rel=""nofollow noreferrer""><code>CollectionsMarshal.GetValueRefOrNullRef</code></a> (.NET 6)</li>
<li><a href=""https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.collectionsmarshal.getvaluereforadddefault"" rel=""nofollow noreferrer""><code>CollectionsMarshal.GetValueRefOrAddDefault</code></a> (.NET 6)</li>
<li><a href=""https://learn.microsoft.com/en-us/dotnet/api/system.runtime.compilerservices.unsafe.isnullref"" rel=""nofollow noreferrer""><code>Unsafe.IsNullRef</code></a> (.NET 5)</li>
<li><a href=""https://learn.microsoft.com/en-us/dotnet/api/system.runtime.compilerservices.unsafe.nullref"" rel=""nofollow noreferrer""><code>Unsafe.NullRef</code></a> (.NET 5)</li>
</ul>
<p>You could use them like this:</p>
<pre><code>public static ref Test GetTest(int position, out bool exists)
{
    ref Test test = ref CollectionsMarshal.GetValueRefOrNullRef(d, position);
    if (!Unsafe.IsNullRef(ref test))
    {
        exists = true;
        return ref test;
    }
    else
    {
        exists = false;
        return ref Unsafe.NullRef&lt;Test&gt;();
    }
}
</code></pre>
<p>Notice that I switched the position of the <code>bool</code> and <code>Test</code> return values. The <code>ref</code> magic works only with the return value, not with the <code>out</code> parameter.</p>
<p>Usage:</p>
<pre><code>Test t = new Test();
t.A = 10;
d.Add(10, t);

ref Test t1 = ref GetTest(10, out _);
Console.WriteLine(t1.A);

t1.A = 20;

ref Test t2 = ref GetTest(10, out _);
Console.WriteLine(t2.A);
</code></pre>
<p>Output:</p>
<pre class=""lang-none prettyprint-override""><code>10
20
</code></pre>
<p><a href=""https://dotnetfiddle.net/t0uVNq"" rel=""nofollow noreferrer"">Online demo</a>.</p>
","2024-09-30 18:38:08","1","Answer"
"79040412","79040297","","<blockquote>
<p>I could do this...</p>
<p>Tester.d[position].a = 20;</p>
</blockquote>
<p>You couldn't, unless <code>d</code> was an array.</p>
<p><code>Dictionary</code> (like a <code>List</code>) does not have a ref-returning indexer, so you will always have a copy of the struct returned by the indexer and not the actual struct that is stored in the dictionary. As such your modifications won't be reflected back.</p>
<p>Short example:</p>
<pre><code>var arr = new int[] { 3, 4, 5 };
var list = new List&lt;int&gt; { 3, 4, 5 };
var dict = new Dictionary&lt;int, int&gt; { { 3, 4 }};

ref var arrVar = ref arr[0]; // array is ref returning indexer
arrVar = 5;

// list and dictionary are NOT
//ref var dictVar = ref dict[3];
//ref var listVar = ref list[0]; // non ref returning indexer
//listVar = 5;
</code></pre>
","2024-09-30 17:19:55","2","Answer"
"79040349","79040297","","<p>You should not do that. While it is possible to change the value inside of a struct, even if the value is nested in a dictionary (such as in your example), you should try to avoid that and consider structs read-only. If you want to update a value of a dictionary, replace the entire value with a new instance instead of manipulating its contents. Chances are big the behavior is otherwise not what you'd expect.</p>
<p>The performance impact of doing a replacement should be minimal, too. So you can do</p>
<pre class=""lang-cs prettyprint-override""><code>Tester.d[position] = new Test() { a = 20 };
</code></pre>
","2024-09-30 17:02:10","0","Answer"
"79040297","","C# struct with out parameter","<p>This is probably very simple stupid question but I just need some help understanding it.  I'm storing a struct in a dictionary and I want to grab the struct change some values and then have it update automatically in the dictionary but the behavior is weird.</p>
<pre><code>public struct Test
{
    public int a;
}

public class Tester
{
    public static Dictionary&lt;int, Test&gt; d = new Dictionary&lt;int, Test&gt;();

    public static bool GetTest(int position, out Test test)
    {
        if (d.ContainsKey(position)) {
            test = d[position];
            return true;
        } else {
            test = new Test();
            return false;
        }
    }
}
</code></pre>
<blockquote>
<p>When I try grabbing a struct from the dict and change values it doesn't update.</p>
</blockquote>
<pre><code>        Test n = new Test();
        n.a = 10;
        Tester.d.Add(n.a, n);

        Tester.GetTest(10, out Test t1);
        Debug.Log(t1.a);

        t1.a = 20;

        Tester.GetTest(10, out Test t2);
        Debug.Log(t2.a);
</code></pre>
<p>Keeps showing 10.  So when I use the <code>out</code> parameter it makes a copy of the struct in the dict and returns that?  So I need to write an additional line to update the dictionary again right?</p>
<p>What would be a easy way of grabbing a struct and just updating its value in the dictionary without adding additional lines?</p>
<p>EDIT:</p>
<p>I could do this...</p>
<pre><code>Tester.d[position].a = 20;
</code></pre>
<p>But is there a way to do that with a method?  Where I can get the whole struct, edit a value, and it updates in the dictionary automatically?  Sorry for the stupid question, i just dont understand the behaviour.</p>
","2024-09-30 16:47:28","1","Question"
"79038906","79026180","","<blockquote>
<ul>
<li>Is this approach of dynamically fetching secrets from Key Vault based on the request’s identifier the best practice, or is there a more efficient way to handle this?</li>
</ul>
</blockquote>
<p>Yes, This approach is only the way to fetch value from key vault in preproduction.</p>
<blockquote>
<ul>
<li>Should I consider other Azure services (e.g., App Configuration) to streamline this approach?</li>
</ul>
</blockquote>
<p>For Production environment, there is more secure way is there to fetch secrete from key vault using <code>Key Vault Reference</code>.</p>
<p>Environment Varibale Name = <code>@Microsoft.KeyVault(VaultName=&lt;keyvault's name&gt;;SecretName=&lt;secret's name&gt;)</code></p>
<p>Check this <a href=""https://learn.microsoft.com/en-us/azure/app-service/app-service-key-vault-references?tabs=azure-cli#source-app-settings-from-key-vault"" rel=""nofollow noreferrer"">MS Document</a>.</p>
<p>Assign Function System Assigned Identity/User Assigned Identity RBAC role <code>Key Vault Secrets User</code> or Access policy in Key vault.</p>
<p>For Reference check this <a href=""https://learn.microsoft.com/en-us/azure/app-service/app-service-key-vault-references?tabs=azure-cli#grant-your-app-access-to-a-key-vault"" rel=""nofollow noreferrer"">MS Document</a>.</p>
<p>My code:</p>
<pre><code>using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Azure.Functions.Worker;
using Microsoft.Extensions.Logging;

namespace FunctionApp5
{
    public class Function
    {
        private readonly ILogger&lt;Function&gt; _logger;

        public Function(ILogger&lt;Function&gt; logger)
        {
            _logger = logger;
        }

        [Function(&quot;Function&quot;)]
        public IActionResult Run([HttpTrigger(AuthorizationLevel.Anonymous, &quot;get&quot;, &quot;post&quot;)] HttpRequest req)
        {
            _logger.LogInformation(3009, &quot;C# HTTP trigger TestOpenConnection function processed a request.&quot;);

           var secret = Environment.GetEnvironmentVariable(&quot;secrete_value&quot;);

            
           return new OkObjectResult($&quot;The value of secrete is : {secret}&quot;);
        }
    }
}

</code></pre>
<h3><code>OUTPUT</code>:</h3>
<p><a href=""https://i.imgur.com/7GskyMv.png"" rel=""nofollow noreferrer""><img src=""https://i.imgur.com/7GskyMv.png"" alt="""" /></a></p>
<p><a href=""https://i.imgur.com/AbZJ5GU.png"" rel=""nofollow noreferrer""><img src=""https://i.imgur.com/AbZJ5GU.png"" alt="""" /></a></p>
<p><a href=""https://i.imgur.com/mTN9AmV.png"" rel=""nofollow noreferrer""><img src=""https://i.imgur.com/mTN9AmV.png"" alt="""" /></a></p>
","2024-09-30 10:22:07","0","Answer"
"79038659","79038449","","<p>If you use <code>private storage account which is not publicly accessible</code> you can not push files there. In this case, you need a build agent: <a href=""https://techcommunity.microsoft.com/t5/apps-on-azure-blog/secure-storage-account-linked-to-function-app-with-private/ba-p/2644772"" rel=""nofollow noreferrer"">Secure storage account linked to Function App with private endpoint</a>, or try to add your IP to white-list. To create your infra, you may use these examples:</p>
<ol>
<li>Bicep: <a href=""https://learn.microsoft.com/en-us/samples/azure/azure-quickstart-templates/function-app-storage-private-endpoints/"" rel=""nofollow noreferrer"">Create Function App and private endpoint-secured Storage</a></li>
<li>Terraform: <a href=""https://github.com/Azure-Samples/function-app-with-private-http-endpoint/tree/main"" rel=""nofollow noreferrer"">Function App with Private HTTP Endpoint</a></li>
</ol>
","2024-09-30 09:10:00","0","Answer"
"79038469","79038449","","<p>teps to Deploy Azure Function with a Private Endpoint for Storage Account
Create a Storage Account with Private Endpoint:</p>
<p>In the Azure portal, create a new storage account.
Under the &quot;Networking&quot; section, set the networking option to &quot;Private endpoint.&quot;
Create a private endpoint for the storage account, which will provide a private IP address for accessing the storage account from within your virtual network.</p>
","2024-09-30 08:08:08","0","Answer"
"79038449","","Is there a way to deploy a azure function directly to a storage account with private endpoint","<p>I am relatively new to the Azure world, but have been ask investigate a way to create/deploy azure functions to private storage account which is not publicly accessible. Reason being that my company has a policy against the creation of public storage accounts.</p>
<p>So we using VS Code, I tried using vs code to connect to azure and create the function but the deployment failed to the above restriction. Same trying to use Azure portal to create a function.</p>
<p>I create a private storage account, but have not been able to find a way to use that storage account during the function creation process. Is there any way using either VS or azure portal?</p>
<p>I also looked into Terraform, but it seems terraform wants storage account for state, which also seem to be public.
Anyone used terraform to achieve the above?</p>
<p>Thanks for any help.</p>
","2024-09-30 08:01:58","0","Question"
"79034800","79034797","","<p><code>isBlue</code> et al. are not values to print; they are just variable names, and those variables have functions as their values. You cannot print a function.</p>
<p><code>Predicate</code> here appears to just be a type synonym, defined as something like</p>
<pre><code>type Predicate a = a -&gt; Bool
</code></pre>
<p>since the error message refers to <code>Thing -&gt; Bool</code> rather than <code>Predicate Bool</code>.</p>
<p>If <code>Predicate</code> <em>were</em> a new type, it <em>could</em> have a <code>Show</code> instance, but it couldn't simply show the function it wraps (and it can't print the name of the variable bound to the value).</p>
","2024-09-28 17:27:34","3","Answer"
"79034797","","Unknown error in Haskell that prevents a function from running","<p>I am extremely new to haskell and have recieved a task to create a list of atributes and then create a function that outputs a list of atributes that apply to the input but for some reason it only gives me an error. Below is a snippet of the code and the error</p>
<pre><code>properties :: [Predicate Thing]
properties = [isBlue, isThick, isThin, isOrange, isDisc, isSquare, isBig, isSmall]

propertiesOf :: Thing -&gt; [Predicate Thing] 
propertiesOf x = [props | props &lt;- properties, props x == True]
</code></pre>
<p>and the error:</p>
<pre><code>&lt;interactive&gt;:8:1: error: [GHC-39999] * No instance for Show (Thing -&gt; Bool)'arising from a use of print' (maybe you haven't applied a function to enough arguments?) * In a stmt of an interactive GHCi command: print it
</code></pre>
<p>I expected to input one of the &quot;things&quot; that is orange, a disc, big, and thick and recieve the output:</p>
<pre><code>&gt;[isBig, isDisc, isOrange, isThick]
</code></pre>
<p>I am unsure why my function as listed above doesn't work.</p>
","2024-09-28 17:25:58","1","Question"
"79033291","79033215","","<p>If you want both to work, you can make a few modifications to your code, using the <code>substitute</code> function. I also suggest including a data argument to your function.</p>
<pre><code>split_to_long &lt;-  function(data, col){

  col_i &lt;- substitute(col)
  i &lt;-  substr(col_i, 5, 5)
  
  temp &lt;-  data |&gt;
    select(id, {{col}}) |&gt;
    separate_wider_delim({{col}}, &quot;,&quot;, too_few = &quot;align_start&quot;,
                         names = c(paste0(col_i,&quot;_1&quot;),
                                   paste0(col_i,&quot;_2&quot;),
                                   paste0(col_i,&quot;_3&quot;))) |&gt;
    pivot_longer(2:4,
                 names_to = &quot;visit&quot;,
                 values_to = paste0(&quot;var_&quot;, i),
                 names_prefix = paste0(&quot;var_&quot;, i, &quot;_&quot;))
  temp
}

res1 &lt;- split_to_long(dat, &quot;var_1&quot;)
res2 &lt;- split_to_long(dat, var_1)

identical(res1, res2)
[1] TRUE
</code></pre>
","2024-09-28 01:33:14","1","Answer"
"79033264","79033215","","<p>{{...}} only works in tidyverse functions and even then only in a quasiquotation context but <code>substr</code> is not even a tidyverse function much less providing a quasiquotation context.</p>
<p>If <code>split_to_long</code> is unchanged from the question write a wrapper to capture the argument using <code>enexpr</code> from rlang, convert it to character and then use that.</p>
<pre><code>split_to_long2 &lt;- function(col) {
  col &lt;- as.character(enexpr(col))
  split_to_long(col)
}

split_to_long2(var_1)
</code></pre>
<p>or we could modify <code>split_to_long</code> like this where the modified lines are marked with ## below.  We have also simplified the last line marked ## .</p>
<pre><code>split_to_long3 &lt;-  function(col){
  col &lt;- as.character(enexpr(col)) ##
  i &lt;-  substr(col, 5, 5) 
  temp &lt;-  dat |&gt;
    select(&quot;id&quot;, {{col}}) |&gt;
    separate_wider_delim({{col}}, &quot;,&quot;, too_few = &quot;align_start&quot;,
                         names = paste0(col, &quot;_&quot;, 1:3)) |&gt; ##
    pivot_longer(2:4,
                 names_to = &quot;visit&quot;,
                 values_to = paste0(&quot;var_&quot;, i),
                 names_prefix = paste0(&quot;var_&quot;, i, &quot;_&quot;))
  temp
}

split_to_long3(var_1)
</code></pre>
","2024-09-28 00:59:12","4","Answer"
"79033215","","curly-curly braces - why won't this function accept an unquoted variable","<p>Can someone help me see where I'm going wrong? I thought when using curly-curly braces in a piped function that you could call the variable without having to enclose it in &quot;&quot; (i.e. as a string). So where is my function going wrong:</p>
<pre><code>library(tidyverse)
dat &lt;-  structure(list(id = 1:6, 
                       var_1 = c(&quot;1,1,-11000&quot;, &quot;1,1,1&quot;, &quot;0,0,0&quot;, &quot;1,1,0&quot;, &quot;1,1,1&quot;, &quot;1,1,1&quot;), 
                       var_2 = c(&quot;0,0,-13000&quot;, &quot;0,0,0&quot;, &quot;-13000,-13000,-13000&quot;, &quot;6,4,-13000&quot;, &quot;0,0,0&quot;, &quot;0,0,0&quot;), 
                       var_3 = c(&quot;24,7,-13000&quot;, &quot;0,0,0&quot;, &quot;-13000,-13000,-13000&quot;, &quot;0,0,-13000&quot;, &quot;0,0,0&quot;, &quot;0,0,0&quot;)), 
                  row.names = 1:6, class = &quot;data.frame&quot;)

# Separate to wide and convert to long in one step
split_to_long &lt;-  function(col){
  i &lt;-  substr({{col}}, 5, 5)
  temp &lt;-  dat |&gt;
    select(&quot;id&quot;, {{col}}) |&gt;
    separate_wider_delim({{col}}, &quot;,&quot;, too_few = &quot;align_start&quot;,
                         names = c(paste0({{col}},&quot;_1&quot;),
                                   paste0({{col}},&quot;_2&quot;),
                                   paste0({{col}},&quot;_3&quot;))) |&gt;
    pivot_longer(2:4,
                 names_to = &quot;visit&quot;,
                 values_to = paste0(&quot;var_&quot;, i),
                 names_prefix = paste0(&quot;var_&quot;, i, &quot;_&quot;))
  temp
}

# This works
split_to_long(&quot;var_1&quot;)

# But this doesn't
split_to_long(var_1)
</code></pre>
<p>This comes from another question I posted:
<a href=""https://stackoverflow.com/questions/79029560/how-to-replace-this-for-loop-with-purrrmap?noredirect=1#comment139347240_79029560"">How to replace this for loop with purrr::map</a></p>
","2024-09-28 00:14:48","3","Question"
"79032046","79030968","","<p>You can keep track of the decreasing number of 𝑘 by mapping each <code>a</code> that belongs to the encoding of 𝑘 with a <code>b</code>. The idea to mark the characters that belong to such a pair is a good one. Once you have no more (unmarked) <code>a</code> left over, you can start to delete characters up until (and including) the first unmarked <code>b</code>. The <code>a</code> that follow should stay. Finally delete any characters that follow that series of <code>a</code>.</p>
<p>This approach would actually select the k+1<sup>th</sup> number, so just delete the first <code>a</code> without mapping it to a <code>b</code> to compensate for that.</p>
<p>You mentioned in comments that you are using a one-sided Turing Machine, where it is infinite to the right, but has a start at the left, where also the head starts. As you indicated that the expected output should be left-aligned at the start of the tape, you'll need some extra states and transitions to &quot;move&quot; the found sequence of <code>a</code> to the left. You can do this in different ways. One is to delete the rightmost <code>a</code> and write one at the left side of the sequence. Repeat this until you arrive at the start of the tape, which we could mark with a letter &quot;A&quot;.</p>
<p>I would also wipe out the <code>a</code> that belong to 𝑘 instead of marking them with an uppercase, as in the end you'll want to delete or replace those anyway.</p>
<p>Here is a possible transition table:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">state</th>
<th style=""text-align: center;"">read</th>
<th style=""text-align: center;"">write</th>
<th style=""text-align: center;"">move head</th>
<th style=""text-align: center;"">next state</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">start</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">A</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">get</td>
</tr>
<tr>
<td style=""text-align: center;"">start</td>
<td style=""text-align: center;"">b or _</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">reject</td>
</tr>
<tr>
<td style=""text-align: center;"">get</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">findb</td>
</tr>
<tr>
<td style=""text-align: center;"">get</td>
<td style=""text-align: center;"">B</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">wipe</td>
</tr>
<tr>
<td style=""text-align: center;"">get</td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">keep</td>
</tr>
<tr>
<td style=""text-align: center;"">findb</td>
<td style=""text-align: center;"">a or B</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">findb</td>
</tr>
<tr>
<td style=""text-align: center;"">findb</td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">B</td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">rewind</td>
</tr>
<tr>
<td style=""text-align: center;"">findb</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">reject</td>
</tr>
<tr>
<td style=""text-align: center;"">rewind</td>
<td style=""text-align: center;"">a or B</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">rewind</td>
</tr>
<tr>
<td style=""text-align: center;"">rewind</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">get</td>
</tr>
<tr>
<td style=""text-align: center;"">wipe</td>
<td style=""text-align: center;"">a or B</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">wipe</td>
</tr>
<tr>
<td style=""text-align: center;"">wipe</td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">keep</td>
</tr>
<tr>
<td style=""text-align: center;"">wipe</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">reject</td>
</tr>
<tr>
<td style=""text-align: center;"">keep</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">keep</td>
</tr>
<tr>
<td style=""text-align: center;"">keep</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">pickup</td>
</tr>
<tr>
<td style=""text-align: center;"">keep</td>
<td style=""text-align: center;"">b</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">trim</td>
</tr>
<tr>
<td style=""text-align: center;"">trim</td>
<td style=""text-align: center;"">a or b</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">trim</td>
</tr>
<tr>
<td style=""text-align: center;"">trim</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">pickup</td>
</tr>
<tr>
<td style=""text-align: center;"">pickup</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">roll</td>
</tr>
<tr>
<td style=""text-align: center;"">pickup</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">pickup</td>
</tr>
<tr>
<td style=""text-align: center;"">pickup</td>
<td style=""text-align: center;"">A</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">accept</td>
</tr>
<tr>
<td style=""text-align: center;"">roll</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">roll</td>
</tr>
<tr>
<td style=""text-align: center;"">roll</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">right</td>
</tr>
<tr>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">right</td>
</tr>
<tr>
<td style=""text-align: center;"">right</td>
<td style=""text-align: center;"">_</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">left</td>
<td style=""text-align: center;"">pickup</td>
</tr>
<tr>
<td style=""text-align: center;"">roll</td>
<td style=""text-align: center;"">A</td>
<td style=""text-align: center;"">a</td>
<td style=""text-align: center;""></td>
<td style=""text-align: center;"">accept</td>
</tr>
</tbody>
</table></div>
<p>The initial state is &quot;start&quot; and a blank is represented by &quot;_&quot;. If the input has a solution, the final state will be &quot;accept&quot;.</p>
<p>Here is a runnable implementation with that transition table:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>createTuring({
    transitions: [
        { state: ""start"",  read: ""a"",   write: ""A"", move: ""R"", nextState: ""get""    },
        { state: ""start"",  read: ""b_"",              move: ""R"", nextState: ""reject"" },
        { state: ""get"",    read: ""a"",   write: ""_"", move: ""R"", nextState: ""findb""  },
        { state: ""get"",    read: ""B"",   write: ""_"", move: ""R"", nextState: ""wipe""   },
        { state: ""get"",    read: ""b"",   write: ""_"", move: ""R"", nextState: ""keep""   },
        { state: ""findb"",  read: ""aB"",              move: ""R"", nextState: ""findb""  },
        { state: ""findb"",  read: ""b"",   write: ""B"", move: ""L"", nextState: ""rewind"" },
        { state: ""findb"",  read: ""_"",               move: ""L"", nextState: ""reject"" },
        { state: ""rewind"", read: ""aB"",              move: ""L"", nextState: ""rewind"" },
        { state: ""rewind"", read: ""_"",               move: ""R"", nextState: ""get""    },
        { state: ""wipe"",   read: ""aB"",  write: ""_"", move: ""R"", nextState: ""wipe""   },
        { state: ""wipe"",   read: ""b"",   write: ""_"", move: ""R"", nextState: ""keep""   },
        { state: ""wipe"",   read: ""_"",               move: ""L"", nextState: ""reject"" },
        { state: ""keep"",   read: ""a"",               move: ""R"", nextState: ""keep""   },
        { state: ""keep"",   read: ""_"",               move: ""L"", nextState: ""pickup"" },
        { state: ""keep"",   read: ""b"",   write: ""_"", move: ""R"", nextState: ""trim""   },
        { state: ""trim"",   read: ""ab"",  write: ""_"", move: ""R"", nextState: ""trim""   },
        { state: ""trim"",   read: ""_"",               move: ""L"", nextState: ""pickup"" },
        { state: ""pickup"", read: ""a"",   write: ""_"", move: ""L"", nextState: ""roll""   },
        { state: ""pickup"", read: ""_"",               move: ""L"", nextState: ""pickup"" },
        { state: ""pickup"", read: ""A"",   write: ""_"",            nextState: ""accept"" },
        { state: ""roll"",   read: ""a"",               move: ""L"", nextState: ""roll""   },
        { state: ""roll"",   read: ""_"",   write: ""a"", move: ""R"", nextState: ""right""  },
        { state: ""right"",  read: ""a"",               move: ""R"", nextState: ""right""  },
        { state: ""right"",  read: ""_"",               move: ""L"", nextState: ""pickup"" },
        { state: ""roll"",   read: ""A"",   write: ""a"",            nextState: ""accept"" },
    ],
    initState: ""start"",
    tape: ""aaababaaaaabaa""
});</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://trincot.github.io/turing.js""&gt;&lt;/script&gt;</code></pre>
</div>
</div>
</p>
","2024-09-27 15:31:42","1","Answer"
"79031425","79031400","","<blockquote>
<p>while the type that is being provided is int*</p>
</blockquote>
<p>No. The type of <code>myNumbers</code> is <code>int[5]</code>, array of 5 integers, it is not <code>int*</code>.</p>
<p>Yes. That array decays to a <code>int*</code>, a pointer to its first element.</p>
<p>Because it is not possible to pass arrays by value, and because arrays do decay to pointers, the language lets you write <code>void myFunction(int myNumbers[5])</code> when it actually means <code>void myFunction(int* myNumber)</code>.</p>
<p>You should read about array to pointer decay. And you should not confuse arrays with pointers. An array is not a pointer and a pointer is not an array. And array to pointer decay does not change that.</p>
<p>In summary, it's a weird oddity inherited from C. Raw arrays are weird.</p>
","2024-09-27 12:48:35","3","Answer"
"79031400","","Discrepancy in passing array to function","<pre><code>#include &lt;iostream&gt;
using namespace std;

void myFunction(int myNumbers[5]) {
  for (int i = 0; i &lt; 5; i++) {
    cout &lt;&lt; myNumbers[i] &lt;&lt; &quot;\n&quot;;
  }
}

int main() {
  int myNumbers[5] = {10, 20, 30, 40, 50};
  myFunction(myNumbers);
  return 0;
}
</code></pre>
<p>The type of argument that is expected in myFunction is int [5], while the type that is being provided is int*, but the code is working fine! Can someone please explain why?</p>
","2024-09-27 12:40:51","1","Question"
"79030968","","Turing Machine - Finding k-th element and move it to the front of the tape","<p>I am trying to solve the following Turing machine challenge:</p>
<blockquote>
<h2>The number choice function</h2>
<p>The <strong>number choice function</strong> is defined as follows.</p>
<p>INPUT: a sequence 𝑘, 𝑥<sub>1</sub>, 𝑥<sub>2</sub>,..., 𝑥<sub>𝑛</sub> where</p>
<ul>
<li><p>𝑘 is a positive integer.</p>
</li>
<li><p>For each 𝑖, 𝑥<sub>𝑖</sub> is a nonnegative integer.</p>
</li>
<li><p>All these numbers are encoded in unary using repetition of the letter <code>a</code>, with the letter <code>b</code> used as a separator (in effect, playing the role of the commas). So the input sequence 𝑘, 𝑥<sub>1</sub>, 𝑥<sub>2</sub>,..., 𝑥<sub>𝑛</sub> is encoded as the string</p>
<p>      <code>a<sup>𝑘</sup>ba<sup>𝑥<sub>1</sub></sup>ba<sup>𝑥<sub>2</sub></sup>b....a<sup>𝑥<sub>𝑛</sub></sup></code></p>
</li>
</ul>
<p>OUTPUT: 𝑥<sub>𝑘</sub>, i.e. the 𝑘-th of the 𝑥 numbers.</p>
<ul>
<li>This also is encoded in unary in the same way, but without any <code>b</code> at the end. So the output 𝑥<sub>𝑘</sub> is encoded as the string <code>a<sup>𝑥<sub>𝑘</sub></sup></code>.</li>
<li>Recall the definition of the output of a Turing machine from Lecture 18 slide 28 (or Course Notes §18.8 p. 223). Once the machine enters the Accept state, it does not matter what comes after the leftmost blank cell; those later cells are not considered to be part of the output string.</li>
</ul>
<p>Some examples inputs and outputs:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>input sequence</th>
<th>input encoded as string</th>
<th style=""text-align: center;"">output number</th>
<th>output encoded as string</th>
</tr>
</thead>
<tbody>
<tr>
<td>3,1,5,2</td>
<td><code>aaababaaaaabaa</code></td>
<td style=""text-align: center;"">2</td>
<td><code>aa</code></td>
</tr>
<tr>
<td>2,4,7,0,3</td>
<td><code>aabaaaabaaaaaaabbaaa</code></td>
<td style=""text-align: center;"">7</td>
<td><code>aaaaaaa</code></td>
</tr>
<tr>
<td>1,0,1</td>
<td><code>abba</code></td>
<td style=""text-align: center;"">0</td>
<td>ε <em>[first tape cell must be empty]</em></td>
</tr>
<tr>
<td>1,3,2,0</td>
<td><code>abaaabaab</code></td>
<td style=""text-align: center;"">3</td>
<td><code>aaa</code></td>
</tr>
<tr>
<td>3,3,2,0</td>
<td><code>aaabaaabaab</code></td>
<td style=""text-align: center;"">0</td>
<td>ε <em>[first tape cell must be empty]</em></td>
</tr>
<tr>
<td>0,1,5,2</td>
<td><code>babaaaaabaa</code></td>
<td style=""text-align: center;""><em>undefined</em></td>
<td><em>crash: invalid input, k = 0</em></td>
</tr>
<tr>
<td>4,1,5,2</td>
<td><code>aaaababaaaaabaa</code></td>
<td style=""text-align: center;""><em>undefined</em></td>
<td><em>crash: invalid input, k &gt; n</em></td>
</tr>
</tbody>
</table></div>
<p>Notes:</p>
<ul>
<li>Any input string that is not of the specified form should be rejected, by crashing. Examples of situations that must lead to a crash include: 𝑘 = 0; 𝑘 &gt; 𝑛.</li>
<li>You can, and should, have extra letters in your tape alphabet that are not in the input alphabet {<code>a</code>,<code>b</code>}</li>
</ul>
</blockquote>
<p><a href=""https://i.sstatic.net/BOjHfKpz.png"" rel=""nofollow noreferrer"">Question Image</a></p>
<p>I managed to cancel each initial <code>a</code> with each <code>b</code> by using the marking symbol technique, where for each read of <code>a</code> from 𝑘, it will write it as <code>A</code> and go right to find <code>b</code>. If <code>b</code> is found, then write it as <code>B</code> and go back to find <code>A</code>. In this case, I can keep track of each <code>A</code> and <code>B</code>.</p>
<p>But at the end, when there are no more <code>A</code> and <code>B</code>, I have no idea how to go to the 𝑘-th element and output the value, which would mean I had to somehow <em>move</em> that element to the front of the tape.</p>
<p>How can I achieve that?</p>
<p>p/s: I am using a Tuatara Simulator, which has a tape that extends infinitely only to the right. The head starts at the extreme left side of the tape.</p>
","2024-09-27 10:40:27","1","Question"
"79027556","79018737","","<p>Update:
found out the main problem with <code>purrr:map()</code> was that <code>dplyr</code> created a data frame and not a vector, which doesn't work when passing through commands like <code>filter()</code> in the function. So I adjusted my code based on @Till 's suggestion. I first took some steps and put it outside of the function, then used  <code>.data[[x]]</code> instead of  <code>!!sym(x)</code> in the function, then created a list of country codes as vector to pass into function with <code>purrr:map()</code>. Here's the updated solution:</p>
<pre><code>library(unvotes)
data(&quot;un_votes&quot;)
data(&quot;un_roll_calls&quot;)
un_votes2 &lt;-
  un_votes %&gt;%
  inner_join(un_roll_calls, by = &quot;rcid&quot;) %&gt;%
  dplyr::mutate(year = year(date)) %&gt;%
  select(year, unres, country_code, vote)

#adjusting the code to avoid !!sym() easier for mapping 
votes_agreement_calculator2 &lt;- function(country_code1, country_code2, year_min) {
subset &lt;- un_votes2 %&gt;% 
  filter(country_code == country_code1 | country_code == country_code2,
                year &gt;= year_min) %&gt;%
  group_by(unres) %&gt;% 
  pivot_wider(names_from = country_code,
              values_from = vote,
              values_fn = first) %&gt;% 
 filter(!is.na(.data[[country_code1]]) &amp; !is.na(.data[[country_code2]])) %&gt;%
    group_by(year) %&gt;%
    summarise(total = n(),
              agree = sum(.data[[country_code1]] == .data[[country_code2]], na.rm = TRUE),  
              share = agree / total)
  return(mean(subset$share, na.rm = TRUE))
}

votes_agreement_calculator2(&quot;US&quot;, &quot;RU&quot;, 2000)

#creating new function so that it only needs one agreement 
new_function &lt;- function(country_code) {votes_agreement_calculator2(country_code, &quot;US&quot;, 2000)
}

#checking if the results are the same as before
new_function(&quot;RU&quot;) #yes they are 
#creating a list of countries minus the US as a vector 
country_codes_no_US &lt;- un_votes2 %&gt;% 
  filter(country_code != &quot;US&quot;,
         year &gt;= 2000) %&gt;%
  distinct(country_code) %&gt;% 
  pull(country_code) 
  
#passing the vector list into the new function 
agreement_rate &lt;- map_dbl(country_codes_no_US, new_function)
#putting countries and agreement rates into a data frame 
 votes_US_agreement &lt;- 
   tibble(country_code = country_codes_no_US, #putting 
          agreement_rate = agreement_rate) %&gt;% 
  arrange(desc(agreement_rate)) %&gt;% #arrange them in in descending order 
  print(slice_head(n = 3)) #check the first three with the most agreement rates out 
</code></pre>
","2024-09-26 13:28:37","0","Answer"
"79026612","79026598","","<p>You could use <a href=""https://pandas.pydata.org/docs/reference/api/pandas.core.groupby.DataFrameGroupBy.transform.html"" rel=""nofollow noreferrer""><code>groupby.transform</code></a> with a reverse <a href=""https://pandas.pydata.org/docs/reference/api/pandas.Series.cummax.html"" rel=""nofollow noreferrer""><code>cummax</code></a> and <a href=""https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#boolean-indexing"" rel=""nofollow noreferrer"">boolean indexing</a>:</p>
<pre><code>out = df[df.groupby('id')['url']
           .transform(lambda x: x[::-1].eq('google.com/buy').cummax())]
</code></pre>
<p>Output:</p>
<pre><code>    id              url
0   25  google.com/main
1   25   google.com/buy
3  144   google.com/buy
6  992  google.com/main
7  992   google.com/buy
</code></pre>
<p>Intermediates:</p>
<pre><code>    id                  url  .eq('google.com/buy')  reverse cummax
0   25      google.com/main                  False            True
1   25       google.com/buy                   True            True
2   25    google.com/videos                  False           False
3  144       google.com/buy                   True            True
4  144    google.com/videos                  False           False
5  144  google.com/pictures                  False           False
6  992      google.com/main                  False            True
7  992       google.com/buy                   True            True
8  992    google.com/videos                  False           False
</code></pre>
<p>Note that if you have several &quot;google.com/buy&quot; in the same id, you'll get all the rows up to the <strong>last</strong> match. If you want to delete after the <strong>first</strong> match you could use a forward <code>cummax</code> and <a href=""https://pandas.pydata.org/docs/reference/api/pandas.Series.shift.html"" rel=""nofollow noreferrer""><code>shift</code></a>:</p>
<pre><code>out = df[df.groupby('id')['url']
           .transform(lambda x: ~x.eq('google.com/buy')
                                  .cummax().shift(fill_value=False))]
</code></pre>
<p>Intermediates (with a more complex input example):</p>
<pre><code>     id                  url  .eq('google.com/buy')  cummax  shift      ~
0    25      google.com/main                  False   False  False   True
1    25       google.com/buy                   True    True  False   True
2    25    google.com/videos                  False    True   True  False
3   144       google.com/buy                   True    True  False   True
4   144    google.com/videos                  False    True   True  False
5   144  google.com/pictures                  False    True   True  False
6   992      google.com/main                  False   False  False   True
7   992       google.com/buy                   True    True  False   True
8   992    google.com/videos                  False    True   True  False
9   992       google.com/buy                   True    True   True  False
10  992  google.com/pictures                  False    True   True  False
</code></pre>
","2024-09-26 09:48:08","0","Answer"
"79026598","","How to delete all rows below after specific symbol and for each id","<p>This is my dataframe:</p>
<pre><code>id         url
25         google.com/main
25         google.com/buy
25         google.com/videos
144        google.com/buy
144        google.com/videos
144        google.com/pictures
992        google.com/main
992        google.com/buy
992        google.com/videos
</code></pre>
<p>I would like to delete all rows after url &quot;google.com/buy&quot; for each id. I want this:</p>
<pre><code>id         url
25         google.com/main
25         google.com/buy
144        google.com/buy
992        google.com/main
992        google.com/buy
</code></pre>
<p>I think to use &quot;for&quot; or &quot;def&quot;, but i can not undestand how</p>
","2024-09-26 09:45:07","2","Question"
"79026572","79026509","","<p>Ok,sorry it solved</p>
<pre><code>for name,sublist in dataframes.items():
    volume_ma(timeframe=sublist)
</code></pre>
<p>and another solution is not using dictionaries. It can be solved just by using a simple list of dataframes like this:</p>
<pre><code>dataframes = [M1,H4] 
for dataframe in dataframes:
   volume_ma(dataframe= dataframe)
</code></pre>
","2024-09-26 09:40:35","0","Answer"
"79026509","","Iterate a function over a list of dataframes","<p>I have 2 timeframes, for example 15 minutes and 4 hours, and want to calculate volume ma on them. I wrote a function for it, now I want to use a <code>for</code> loop for this purpose. But I have faced some errors.</p>
<p>The function:</p>
<pre><code>def volume_ma(timeframe=M15, length=20):
    timeframe['volume_ma'] = ta.sma(timeframe['tick_volume'], length=length)

volume_ma()
</code></pre>
<p>Loop:</p>
<pre><code>dataframes = {'M1': M1, 'H4': H4}

for name, sublist in dataframes.items():
    volume_ma(name)
</code></pre>
","2024-09-26 09:24:20","-1","Question"
"79026180","","How to Dynamically Fetch Azure Key Vault Secrets for Preproduction Environment in Azure Functions?","<p>I’m working on an Azure Function that integrates with an external API and needs to handle secrets differently based on the environment:</p>
<p>In production, I use static configuration values loaded at startup (e.g., ClientId, ClientSecret, etc.).
In preproduction, I need to dynamically fetch these secrets from Azure Key Vault based on a unique identifier passed in the request (e.g., an identifier like GLN).</p>
<p>Scenario:</p>
<ul>
<li><strong>Production Environment</strong>: Secrets like ClientId, ClientSecret, and
SubscriptionKey are static and loaded from configuration at startup.</li>
<li><strong>Preproduction Environment</strong>: Secrets need to be dynamically fetched
from Azure Key Vault at runtime based on the request’s identifier.</li>
</ul>
<p>Code:</p>
<pre><code>public async Task&lt;Token&gt; GetToken(string identifier)
{
    // Check if the token is cached
    if (_memoryCache.TryGetValue(&quot;token&quot;, out Token cachedToken) &amp;&amp; cachedToken != null)
    {
        return cachedToken;
    }

    Token newToken;

    // Check if running in production (static secrets)
    if (IsProductionEnvironment())
    {
        newToken = await FetchTokenAsync(
            _configuration[&quot;ProdClientId&quot;],
            _configuration[&quot;ProdClientSecret&quot;],
            _configuration[&quot;ProdSubscriptionKey&quot;]);
    }
    else
    {
        // For preproduction, fetch secrets dynamically from Key Vault
        var clientId = await FetchSecretFromKeyVaultAsync($&quot;preprod-{identifier}-clientId&quot;);
        var clientSecret = await FetchSecretFromKeyVaultAsync($&quot;preprod-{identifier}-clientSecret&quot;);
        var subscriptionKey = await FetchSecretFromKeyVaultAsync($&quot;preprod-{identifier}-subscriptionKey&quot;);

        newToken = await FetchTokenAsync(clientId, clientSecret, subscriptionKey);
    }

    // Cache the token
    _memoryCache.Set(&quot;token&quot;, newToken, new MemoryCacheEntryOptions().SetAbsoluteExpiration(newToken.ExpiresAt));

    return newToken;
}

private async Task&lt;string&gt; FetchSecretFromKeyVaultAsync(string secretName)
{
    // Use KeyVault client to fetch secrets dynamically
    KeyVaultSecret secret = await _secretClient.GetSecretAsync(secretName);
    return secret.Value;
}
</code></pre>
<p>My Questions:</p>
<ul>
<li>Is this approach of dynamically fetching secrets from Key Vault based on the request’s identifier the best practice, or is there a more efficient way to handle this?</li>
<li>How can I better structure my code to handle both static secrets for production and dynamic secrets for preproduction without duplicating logic?</li>
<li>Should I consider other Azure services (e.g., App Configuration) to streamline this approach?</li>
</ul>
<p>Any advice on best practices for dynamically fetching secrets from Key Vault in this kind of scenario would be greatly appreciated!</p>
","2024-09-26 08:11:01","0","Question"
"79025281","79024516","","<p><code>case rex(x) =&gt; ...</code> matches and extracts a capturing group.</p>
<p>For example:</p>
<pre><code>val rex = &quot;foo(..).&quot;.r
val foo = &quot;foobar&quot;
foo match { 
   case rex(x) =&gt; println(x) 
} 
</code></pre>
<p>will print &quot;ba&quot; ... but</p>
<pre><code>val rex = &quot;foo...r&quot;.r
foo match { 
   case rex(_) =&gt; println(&quot;yeah&quot;)
   case _ =&gt; println(&quot;nah&quot;)
}
</code></pre>
<p>will print <code>nah</code> because regex does not have a capturing group and the match is asking for one.</p>
<p>Your <code>case exReg(_) =&gt; </code> isn't working for the same reason: you are asking for a capturing group, but your regex doesn't have it.</p>
<p>Try removing the <code>_</code>: just <code>case exReg() =&gt; ...</code> should do it.
Alternatively, putting the entire thing in parentheses:
<code>val exReg = &quot;(parser[R,I,N].TokenException: at line 1)&quot;.r</code> would make your syntax with <code>_</code> work (I am not sure if parentheses in your snippet were intended to do this, they need to be inside the quotes, the way you have them, they are just redundant and do nothing).</p>
<p>Finally, if you wanted to use <code>findFirstIn</code>, you'd need to use it as a guard:</p>
<pre><code>exMess match { 
   case x if exReg.findFirstIn(x).nonEmpty =&gt; ...
}
</code></pre>
","2024-09-26 02:14:40","6","Answer"
"79024516","","How to use scala function to match error message with a Regex pattern","<p>This function needs to take a given error message, match it to a Regex pattern and return either a prescribed error message or  a None</p>
<p>I built the below function where Regex values are preset and the error message = exMess
I know that regex pattern matches if I use exReg.findFirstIn(exMess), but otherwise the match statement only returns None and does not return any of the matching  error messages</p>
<p>Intellij is not showing any error that would explain what is wrong</p>
<p>How do I need to handle the Match statement so that it can take the error message, match it with the specific Regex pattern and return a string or None</p>
<pre><code>where exMess = &quot;parseR.TokenException: at line 1&quot;
 

def exceptionBasicRow(exMess: String): Option[String] = {
    val exReg: Regex = (&quot;parser[R,I,N].TokenException: at line 1&quot;).r
    val exReg2: Regex = (&quot;parser[R,I,N].ParseException: at line 1&quot;).r
    val exReg3: Regex = (&quot;parser[R,I,N].ParseException: at line 1&quot;).r


    val error: Option[String] = exMess match {
      case exReg(_) =&gt;
        Option(
          &quot;There is a exReg error&quot;)
      case exReg2(_) =&gt;
        Option(
          &quot;There is a exReg2 error&quot;)
      case exReg3(_) =&gt;
        Option(
          &quot;There is a exReg3 error&quot;)
      case _ =&gt; None
    }
    error
 }
</code></pre>
<p>I also tried the following syntax, but findFirstIn does not seem accessible from inside the Match statement (colored red)</p>
<pre><code>exMess match{
   case exReg.findFirstIn(exMess)  =&gt; print(&quot;Error Message&quot;)
}
</code></pre>
","2024-09-25 19:33:14","1","Question"
"79023941","79023899","","<p>The problem is at the line:</p>
<pre><code>user_cards.append(give_card(2))
comp_cards.append(give_card(2))
</code></pre>
<p>you can update the code to use <code>extend</code> and also rather than using for loop to add it to the score, use sum() on the list.</p>
<pre><code>import random
cards = [11, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10]
user_cards = []
comp_cards = []
user_score = 0
comp_score = 0

# Define Functions

def give_card(num):
    &quot;&quot;&quot;Returns random cards of a certain amount (num)&quot;&quot;&quot;
    num = int(num)
    cards_give = []
    for card in range(0, num):
        cards_give.append(random.choice(cards))
    return cards_give


def calc_score(player):
    &quot;&quot;&quot;Calculates the score of the specified player (player)&quot;&quot;&quot;
    score = 0
    if player == &quot;user&quot;:
        score = sum(user_cards)
    elif player == &quot;comp&quot;:
        score = sum(comp_cards)
    else:
        return
    return score

user_cards.extend(give_card(2))
comp_cards.extend(give_card(2))
print(user_cards)
print(comp_cards)

user_score = calc_score(&quot;user&quot;)
comp_score = calc_score(&quot;comp&quot;)
print(user_score)
print(comp_score)
</code></pre>
","2024-09-25 16:33:15","0","Answer"
"79023926","79023899","","<p>Your problem is here:</p>
<pre><code>user_cards.append(give_card(2))
</code></pre>
<p><code>user_cards</code> is a list, and <code>give_card(2)</code> returns another list of two numbers. Appending a list to a list makes the appended list itself be an element of the resulting list:</p>
<pre><code>list = [1, 2]
list.append([3,4])
print(list) # prints [1, 2, [3, 4]]
</code></pre>
<p>What you need instead is</p>
<pre><code>user_cards.extend(give_card(2))
</code></pre>
<p>or</p>
<pre><code>user_cards += give_card(2)
</code></pre>
<p>This will produce what you require in <code>user_cards</code> because the <code>extend</code> function or the <code>+=</code> operator appends <em>each element</em> of the given list.</p>
<p>By the way, instead of iterating through <em>indexes</em> of a list, it's more readable to iterate through its <em>elements</em>:</p>
<pre><code>    for card in user_cards:
        score += card
</code></pre>
<p>But even better would be to use the <code>sum</code> function:</p>
<pre><code>    score = sum(user_cards)
</code></pre>
","2024-09-25 16:28:35","1","Answer"
"79023899","","Why doesn't it just give the list itself?","<p>I had this function</p>
<pre><code>def calc_score(player):
    &quot;&quot;&quot;Calculates the score of the specified player (player)&quot;&quot;&quot;
    score = 0
    if player == &quot;user&quot;:
        for card in range(0, len(user_cards)):
            score += user_cards[int(card)]
    elif player == &quot;comp&quot;:
        for card in range(0, len(comp_cards)):
            score += comp_cards[int(card)]
    else:
        return
    return score
</code></pre>
<p>and when it was called it gave me this error:</p>
<pre><code>line 27, in calc_score
    score += user_cards[int(card)]
TypeError: unsupported operand type(s) for +=: 'int' and 'list'
</code></pre>
<p>I debugged it in thonny and it turns out it said that <code>['placeholder1', 'placeholder2'][0]</code> just gave the list itself.</p>
<p>I even tested it with seemingly equivalent code and it worked.</p>
<pre><code>user_cards = [11,10]
comp_cards = [10,8]

score = 0
if &quot;user&quot; == &quot;user&quot;:
    for card in range(0, len(user_cards)):
        score += user_cards[int(card)]
elif &quot;user&quot; == &quot;comp&quot;:
    for card in range(0, len(comp_cards)):
        score += comp_cards[int(card)]
else:
    print()
print(score)
</code></pre>
<p>Output: 21</p>
<p>I checked the variables and lists' values and they were normal too.</p>
<p>I couldn't find anything wrong.</p>
<p>Lastly here is the whole script (as of posting this answer):</p>
<pre><code>import random

# Define Variables

cards = [11, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10]
user_cards = []
comp_cards = []
user_score = 0
comp_score = 0

# Define Functions

def give_card(num):
    &quot;&quot;&quot;Returns random cards of a certain amount (num)&quot;&quot;&quot;
    num = int(num)
    cards_give = []
    for card in range(0, num):
        cards_give.append(random.choice(cards))
    return cards_give


def calc_score(player):
    &quot;&quot;&quot;Calculates the score of the specified player (player)&quot;&quot;&quot;
    score = 0
    if player == &quot;user&quot;:
        for card in range(0, len(user_cards)):
            score += user_cards[int(card)]
    elif player == &quot;comp&quot;:
        for card in range(0, len(comp_cards)):
            score += comp_cards[int(card)]
    else:
        return
    return score

user_cards.append(give_card(2))
comp_cards.append(give_card(2))
user_score = calc_score(&quot;user&quot;)
comp_score = calc_score(&quot;comp&quot;)
</code></pre>
","2024-09-25 16:20:12","0","Question"
"79023006","79022348","","<p><em>EDIT:</em> Supplementend <code>error=NULL</code>.</p>
<blockquote>
<p>I want to terminate the function if the input is a negative mass, with a message that you should only use a positive mass.</p>
</blockquote>
<p>I suspect your a looking for</p>
<pre class=""lang-r prettyprint-override""><code>mass_convert = \(mass) {
  if(any(mass &lt; 0, na.rm=TRUE)) {
    cat(&quot;Please input positive mass!&quot;)
    opt = options(show.error.messages=FALSE, error=NULL)
    on.exit(options(opt))
    stop()
  }
  mass * 0.03527396
}
</code></pre>
<p>where the <em>clever</em> part is stolen from <a href=""https://stackoverflow.com/a/42945293/20002111"">here</a>, giving</p>
<pre class=""lang-r prettyprint-override""><code>&gt; mass_convert(c(1, 3, -1, NA))
Please input positive mass!
&gt; mass_convert(c(1, 3, NA))
[1] 0.03527396 0.10582188         NA
</code></pre>
","2024-09-25 12:53:06","1","Answer"
"79022812","79021907","","<p>A variant of using <code>Map</code></p>
<pre><code>&gt; Map(`+`, list1, 100 * (unlist(list2) &gt;= 10))
[[1]]
[1] 5

[[2]]
[1] 108

[[3]]
[1] 109
</code></pre>
","2024-09-25 12:10:14","1","Answer"
"79022546","79022348","","<p>RStudio's built-in debugger ignores certain kinds of errors, apparently including this one. You can read about this in Posit's <a href=""https://support.posit.co/hc/en-us/articles/200713843-Debugging-R-code-with-the-RStudio-IDE#stopping-when-an-error-occurs"" rel=""nofollow noreferrer"">guide to debugging</a> in Rstudio, which explains that:</p>
<blockquote>
<p>To keep the the debugger from being invoked whenever any error anywhere happens, RStudio does not invoke the debugger if it looks like none of your own code is on the stack. If you find that this is excluding an error you want to catch, go to <strong>Tools -&gt; Global Options and uncheck “Use debug error handler only when my code contains errors”</strong>.</p>
</blockquote>
<p>However unchecking that box was not sufficient to break on the error in your example. In order to get that to happen, I had to follow their subsequent advice:</p>
<blockquote>
<p>If you really want to invoke the debugger on every error, always, this will do the job: <code>options(error = browser)</code></p>
</blockquote>
<p>But that took me into a debugging environment that I couldn't leave, because I was apparently debugging in the 'top level' (i.e not within a function). So don't do that either.</p>
<p>With regards to your second question, I would advise against 'overwriting' this very low-level error with an error message of your own. There is already a system for throwing errors when functions are missing required arguments, and redesigning it for one function will lead to less predictable code. But, if you really wanted to, you could use <code>rlang</code>'s <code>is_missing()</code>:</p>
<pre class=""lang-r prettyprint-override""><code>library(rlang)

foo &lt;- function(x){
  if(is_missing(x)) stop(&quot;X is missing&quot;)
  x * 2
}

foo(1)
#&gt; [1] 2
</code></pre>
<pre class=""lang-r prettyprint-override""><code>foo()
#&gt; Error in foo(): X is missing
</code></pre>
<p><sup>Created on 2024-09-25 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.1</a></sup></p>
","2024-09-25 11:07:31","3","Answer"
"79022348","","Why do these two errors result in different error-handling behaviour in RStudio?","<p>If I include stop() within an R function to teminate the function given a particular condition, the error handling behaviour of RStudio appears to be different to built-in error handling.</p>
<p>Terminating the function using stop sends RStudio into debugging mode whereas an error generated by (for example not giving an input to the function) doesn't.</p>
<p>I would like to write the function so the behaviour is the same in both cases, regardless of the debug settings in RStudio.</p>
<hr />
<p><strong>Here is an example function which converts mass from grams to ounces.</strong></p>
<p>I want to terminate the function if the input is a negative mass, with a message that you should only use a positive mass.</p>
<pre><code>mass_convert &lt;- function(mass) {
  if (mass &lt; 0) {
    stop (&quot;Please input positive mass&quot;)
  }
  mass * 0.03527396
}
</code></pre>
<p>In the RStudio settings in the toolbar: Debug | On Error |  is set to &quot;Break in Code&quot;.</p>
<p><a href=""https://i.sstatic.net/lQmroV09.png"" rel=""nofollow noreferrer"">RStudio debugging settings</a></p>
<p>If I run the following:</p>
<p><code>mass_convert(-1)</code></p>
<p>I get the expected error message</p>
<p><code>Error in mass_convert(-1) : Please input positive mass Called from: mass_convert(-1)</code></p>
<p><strong>but RStudio goes into debug mode</strong>.</p>
<hr />
<p>If I instead run:</p>
<p><code>mass_convert()</code></p>
<p>I still get an error message:</p>
<p><code>Error in mass_convert() : argument &quot;mass&quot; is missing, with no default </code></p>
<p>but this time RStudio <strong>does not</strong> go into debug mode.</p>
<hr />
<p><strong>I have two questions following this:</strong></p>
<ol>
<li><p>What is the reason behind the two different behaviours?</p>
</li>
<li><p>How can I get the if statement to terminate the function in a similar manner to if no input is given, while keeping the RStudio settings for debugging as &quot;Break in Code&quot;.  I.e. I want the function to terminate if given a negative mass, but there is no need to go into debug mode as the message describes what the problem is.</p>
</li>
</ol>
<p>One option could be to use warning() instead and put the function evaluation after an 'else' statement:</p>
<pre><code>mass_convert &lt;- function(mass) {
  if (mass &lt; 0) {
    warning (&quot;Please input positive mass&quot;)
  } else  mass * 0.03527396
}
</code></pre>
<p>but it feels like there should be a way to do this with error() instead.  Or, am I using error in the wrong way?</p>
","2024-09-25 10:23:08","2","Question"
"79022296","79021907","","<p>Given the toy example, I do not see why we use a list format. Things get easier if we work with vectors instead:</p>
<pre class=""lang-r prettyprint-override""><code>list1 &lt;- as.list(c(5, 8, 9))
list2 &lt;- as.list(c(8, 10, 11))
x1 = unlist(list1)
x2 = unlist(list2)
</code></pre>
<p>and then apply a fully vectorised</p>
<pre class=""lang-r prettyprint-override""><code>x1 + 100 * (x2 &gt;= 10)
# [1]   5 108 109
</code></pre>
<p><em>Note.</em> Notation taken from user @SamR's <a href=""https://stackoverflow.com/a/79021932/20002111"">solution</a>.</p>
","2024-09-25 10:07:20","3","Answer"
"79021932","79021907","","<p>I think you're looking for <a href=""https://stat.ethz.ch/R-manual/R-devel/library/base/html/funprog.html"" rel=""nofollow noreferrer""><code>Map()</code></a>, which is <a href=""https://stat.ethz.ch/R-manual/R-devel/library/base/html/mapply.html"" rel=""nofollow noreferrer""><code>mapply()</code></a> without simplification:</p>
<blockquote>
<p><code>mapply</code> is a multivariate version of <code>sapply</code>. <code>mapply</code> applies <code>FUN</code> to the first elements of each <code>...</code> argument, the second elements, the third elements, and so on.</p>
</blockquote>
<p>For reasons that I imagine are only known to the R devs, unlike <code>lapply()</code>, <code>sapply()</code> and <code>tapply()</code>, the function is the first argument of <code>mapply()</code> and <code>Map()</code>.</p>
<pre class=""lang-r prettyprint-override""><code>Map(
    \(x1, x2) if (x2 &gt;= 10) x1 + 100 else x1,
    list1,
    list2
)
# [[1]]
# [1] 5

# [[2]]
# [1] 108

# [[3]]
# [1] 109
</code></pre>
<p>If you want to be fancy you could remove the <code>if()</code> statement and define the function as <code>\(x1, x2) x1 + 100 * (x2 &gt;= 10)</code> but personally I think the lack of explicitness makes it less comprehensible.</p>
<p>Of course you could also do this with <code>ifelse(list2 &gt;= 10, unlist(list1) + 100, list1)</code> in this case but <code>Map()</code> is more general.</p>
<p>Your second example could be expressed as <code>Map(\(x, y) if (y &gt;= 10) x + 100 - y else x, list1, list2)</code>.</p>
","2024-09-25 08:56:05","4","Answer"
"79021907","","Apply function to list depending on values in another list","<p>This is probably a duplicate, but I don't seem to find this specific case.</p>
<p>Say I have two lists:</p>
<pre><code>list1 &lt;- as.list(c(5, 8, 9))
list2 &lt;- as.list(c(8, 10, 11))
</code></pre>
<p>I know how to apply a function to one list. Say I want to apply the following to <code>list1</code>:</p>
<pre><code>lapply(list1, function(x){x+100})
</code></pre>
<p>But what if I only want to apply such function to <code>list1</code> when the corresponding value in <code>list2</code> is <code>&gt;=10</code>? So that my result is:</p>
<pre><code>[[1]]
[1] 5

[[2]]
[1] 108

[[3]]
[1] 109
</code></pre>
<p>And even more, how can I sum 100 to the value in <code>list1</code> and subtract the value in <code>list2</code> only when the value in <code>list2</code> is <code>&gt;=10</code>?</p>
<p>Something like the following, which obviously does not work:</p>
<pre><code>lapply(list1, list2, function(x,y){if (y&gt;=10) x+100-y})
</code></pre>
<p>Thanks!</p>
","2024-09-25 08:49:57","2","Question"
"79020641","79018865","","<p>Another way - you can try <code>REGEXMATCH</code>:</p>
<pre><code>=REGEXMATCH(A1,&quot;&quot;&quot;&quot;&amp;B1&amp;&quot;&quot;&quot;&quot;)
</code></pre>
<p><a href=""https://i.sstatic.net/nSqiSA5P.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/nSqiSA5P.png"" alt=""enter image description here"" /></a></p>
","2024-09-24 23:03:42","0","Answer"
"79019533","79018737","","<p>I identified three issues in the code you posted.</p>
<ol>
<li>You are loading the <code>unvotes</code> package and its data at the top of the function. This should be done outside of the function so this code
only gets executed once. Also some of the data transformation you are doing within the function has the same results for whatever values
you use as arguments. These steps should also be done outside of the function.</li>
<li>ChatGPT provided you a working but deprecated solution to use <code>characters</code> at variable strings in dplyr verbs that use data masking.
Instead of <code>!!sym(x)</code> it is
recommended to use <code>.data[[x]]</code>. Read <a href=""https://dplyr.tidyverse.org/articles/programming.html"" rel=""nofollow noreferrer"">Programming with dplyr</a> to learn more. Note that this type of
behavior is specific to <code>dplyr</code> and the <code>tidyverse</code> and not a general/base-R thing.</li>
<li>When you are iterating over the <code>country_code</code> column in the <code>un_votes2</code> data frame, you are repeating the same calculation for a country every time it occurs in <code>un_votes2</code>.
Instead you’d want to only do it once per each country. Also your choice of transformation steps in the function is not best for performance. In
my experience <code>dplyr::*_join()</code> operations perform much better for this type of comparison tasks than <code>tidyr::pivot_wider()</code>. If we re-think
the function with join operations we can implement a function that instead of running the
function for each combination of countries, you can run it once for each country (i.e. “US”) and let it produce the comparison to all other countries.</li>
</ol>
<p>Below is an example that solves the issues I found. Please make sure to review the calculations and ensure that they are doing
what you are expecting.</p>
<pre class=""lang-r prettyprint-override""><code># Packages and data are loaded outside of function.
library(unvotes)
library(tidyverse)
data(&quot;un_votes&quot;)
data(&quot;un_roll_calls&quot;)

# Data transformations that are necessary for all further steps are done outside of the function.
un_votes2 &lt;-
  un_votes %&gt;%
  inner_join(un_roll_calls, by = &quot;rcid&quot;) %&gt;%
  mutate(year = year(date)) %&gt;%
  dplyr::select(year, unres, country_code, vote)


# The function takes only one country code as input and then returns the agreement share with all other countries in the specified time frame.
votes_agreement_calculator &lt;- function(country_code1, year_min) {
  target_subset &lt;-
    un_votes2 %&gt;%
    filter(
      country_code == country_code1,
      year &gt;= year_min,
      !is.na(country_code)
    )

  non_target_subset &lt;-
    un_votes2 %&gt;%
    filter(
      country_code != country_code1,
      year &gt;= year_min,
      !is.na(country_code)
    )

  left_join(
    non_target_subset,
    target_subset,
    by = c(&quot;year&quot;, &quot;unres&quot;),
    relationship = &quot;many-to-many&quot;
  ) %&gt;%
    distinct() %&gt;%
    mutate(agree = vote.x == vote.y) %&gt;%
    group_by(country_code.x) %&gt;%
    summarise(agree_share = sum(agree, na.rm = TRUE) / n())
}
</code></pre>
<p>We can now run the function for one country at a time. To answer your research question we use &quot;US&quot; and sort descending by the agreement share.</p>
<pre class=""lang-r prettyprint-override""><code>votes_agreement_calculator(
  country_code1 = &quot;US&quot;,
  year_min = 2000
) %&gt;%
  arrange(desc(agree_share))
#&gt; # A tibble: 192 × 2
#&gt;    country_code.x agree_share
#&gt;    &lt;chr&gt;                &lt;dbl&gt;
#&gt;  1 IL                   0.772
#&gt;  2 FM                   0.688
#&gt;  3 PW                   0.641
#&gt;  4 MH                   0.617
#&gt;  5 CA                   0.521
#&gt;  6 GB                   0.492
#&gt;  7 AU                   0.452
#&gt;  8 FR                   0.448
#&gt;  9 MC                   0.401
#&gt; 10 CZ                   0.401
#&gt; # ℹ 182 more rows
</code></pre>
<p>Or all countries:</p>
<pre class=""lang-r prettyprint-override""><code>un_votes %&gt;%
  pull(country_code) %&gt;%
  # we are using `unique()` to make sure that each country code is used only once
  unique() %&gt;%
  # `set_names()` applies the country code values as names to itself, this is useful for map
  # to produce named results and `list_rbind()` being able to identify the target country.
  set_names() %&gt;%
  map(votes_agreement_calculator, year_min = 2000) %&gt;%
  list_rbind(names_to = &quot;target_country&quot;)
#&gt; # A tibble: 37,828 × 3
#&gt;    target_country country_code.x agree_share
#&gt;    &lt;chr&gt;          &lt;chr&gt;                &lt;dbl&gt;
#&gt;  1 US             AD                   0.354
#&gt;  2 US             AE                   0.148
#&gt;  3 US             AF                   0.169
#&gt;  4 US             AG                   0.168
#&gt;  5 US             AL                   0.394
#&gt;  6 US             AM                   0.197
#&gt;  7 US             AO                   0.148
#&gt;  8 US             AR                   0.224
#&gt;  9 US             AT                   0.346
#&gt; 10 US             AU                   0.452
#&gt; # ℹ 37,818 more rows
</code></pre>
","2024-09-24 16:25:22","1","Answer"
"79019076","79018865","","<h2>Split the Values for Checking and then Compare the Q14 to the Values</h2>
<p><strong>You may try this:</strong></p>
<pre><code>=IF(COUNTIF(BYCOL(SPLIT(SUBSTITUTE(SUBSTITUTE(A1,&quot;{&quot;,&quot;&quot;),&quot;}&quot;,&quot;&quot;),CHAR(34)&amp;&quot;,&quot;&amp;CHAR(34)),lambda(x,Q14=x)),TRUE),TRUE,FALSE)
</code></pre>
<p>This formula checks the value of <code>Q14</code> if it exists in the list in <code>A1</code>, formatted like <code>{&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;,..,&quot;testn&quot;}</code>. <a href=""https://support.google.com/docs/answer/3094215"" rel=""nofollow noreferrer""><code>SUBSTITUTE</code></a> removes the braces. Then, the <a href=""https://support.google.com/docs/answer/3094136?hl=en"" rel=""nofollow noreferrer""><code>SPLIT Function</code></a> splits the string into an array. Afterwards, if a match is found, the formula returns <code>TRUE</code>; otherwise, it returns <code>FALSE</code>.</p>
<p><strong>Sample Output:</strong></p>
<p><a href=""https://i.sstatic.net/O9uw5Yf1.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/O9uw5Yf1.png"" alt=""Sample1"" /></a></p>
<p><strong>Reference:</strong></p>
<p><a href=""https://support.google.com/docs/table/25273?hl=en#query="" rel=""nofollow noreferrer"">Google Sheets function list</a></p>
","2024-09-24 14:26:56","1","Answer"
"79018865","","How to apply OR function with a member of a list","<p>I'm using the following function to filter a column in an array</p>
<pre><code>=OR(Q14=&quot;test1&quot;; Q14=&quot;test2&quot;)
</code></pre>
<p>I would like to do the following formula:</p>
<blockquote>
<p>=OR(Q14 is equal to a member of a list that is stored in another cell as a string)</p>
</blockquote>
<p>For example the <code>A1</code> cell is filled with <code>{&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;,..,&quot;testn&quot;}</code></p>
<p>and I would like to use</p>
<blockquote>
<p>=OR(Q14=an element of the above list)</p>
</blockquote>
<p>I need it to implement the formula in the sheet not using a  script to put the result in a sheet.</p>
<p><a href=""https://i.sstatic.net/lgr6QW9F.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/lgr6QW9F.jpg"" alt=""screenshot"" /></a></p>
","2024-09-24 13:38:00","0","Question"
"79018737","","Problem using purrr to map a list of variables into a function","<p>I am working with the unvotes package, the objective is &quot;Using <code>purrr</code> functionality, find out which three countries on average agreed with the US the most from the year 2000 on&quot;. I first created this function below to calculate agreement rates between any two countries from year x on:</p>
<pre><code>votes_agreement_calculator &lt;- function(country_code1, country_code2, year_min) {
library(unvotes)
data(&quot;un_votes&quot;)
data(&quot;un_roll_calls&quot;)
un_votes2 &lt;-  un_votes %&gt;%
  inner_join(un_roll_calls, by = &quot;rcid&quot;)
un_votes2$year &lt;- format(un_votes2$date, &quot;%Y&quot;)
subset &lt;- un_votes2 %&gt;% 
  dplyr::select(year, unres, country_code, vote) %&gt;% 
  filter(country_code == country_code1 | country_code == country_code2,
                year &gt;= year_min) %&gt;%
  group_by(unres) %&gt;% 
  pivot_wider(names_from = country_code,
              values_from = vote,
              values_fn = first) %&gt;% 
filter(!is.na(!!sym(country_code1)) &amp; !is.na(!!sym(country_code2))) %&gt;% 
  #!!sym() so that R recognizes the inputs as columns 
    group_by(year) %&gt;% 
    summarise(total = n(),
              agree = sum(!!sym(country_code1) == !!sym(country_code2), na.rm = TRUE),  
              share = agree / total) 
return(mean(subset$share, na.rm = TRUE))
}
</code></pre>
<p>I first ran into some problems because in filter() and sum() it wouldn't recognise my inputs as columns, and ChaGPT suggested putting !!sym() so that columns are recognized. Thne I tested the function above and it works fine. I then created created a new function so that it only takes one country as an argument:</p>
<pre><code>new_function &lt;- function(country_code) {votes_agreement_calculator(country_code, &quot;US&quot;, 2000)
}

#checking if the results are the same as before
new_function(&quot;RU&quot;) #yes they are 
</code></pre>
<p>This function also works fine, then I used dplyr to group the data by the country code and pass the column of the countries codes into the function using purrr</p>
<pre><code>#passing list of country codes as a vector into the new function 
votes_US_agreement &lt;- un_votes2 %&gt;%
  group_by(country_code) %&gt;% 
  mutate(agreement_rate = purrr::map_vec(country_code, new_function)) %&gt;%
  arrange(desc(agreement_rate)) %&gt;% #arrange them in in descending order 
  slice_head(n = 3) #check the first three with the most agreement rates out 
</code></pre>
<p>But then R just wouldn't give me an output and just keeps running the above code for hours on end, without an error message or anything like that.</p>
<p>Would really appreciate if someone gives me a pointed as to what's wrong with my code :)</p>
<p>I expected the mapping a list of variables into the function should work fine because giving the function individual arguments worked without a problem, but it didn.t...instead it keeps running without stop...</p>
","2024-09-24 13:03:51","1","Question"
"79017232","79017026","","<p>In the 2nd example, <code>promise</code> in <code>return promise;</code> in the 1st <code>then</code> method call fulfillment handler refers to the promise returned by the 2nd <code>then</code> method call.</p>
<p>This creates a situation where the promise returned by the 2nd <code>then</code> method (let's call it <code>p2</code>) waits for the promise returned by the 1st <code>then</code> method (let's call it <code>p1</code>) to settle. In short, <code>p1</code> is waiting for <code>p2</code> to settle, and <code>p2</code> is waiting for <code>p1</code> to settle, creating a deadlock.</p>
<p>This prevents the 2nd <code>then</code> method fulfillment handler from getting invoked because <code>promise</code>, i.e. <code>p1</code> never fulfills.</p>
<p>Following code is a simplified version of what your code is doing:</p>
<pre class=""lang-js prettyprint-override""><code>const p1 = Promise.resolve();

const p2 = p1.then(() =&gt; p3); // p2 will always be in pending state

const p3 = p2.then(() =&gt; console.log(&quot;done&quot;)); // fulfillment handler never called
</code></pre>
<p>The fulfillment of <code>p2</code> in the above code example depends on the return value of the <code>p1.then(...)</code> method. But the value being returned is <code>p3</code>, and <code>p3</code> is waiting for <code>p2</code> to settle. This puts the code in a situation where <code>p2</code> is waiting for <code>p3</code> to settle, and <code>p3</code> is waiting for <code>p2</code> to settle, creating a deadlock.</p>
<h2>Edit</h2>
<blockquote>
<p>In the 2nd example, <code>promise</code> in <code>return promise;</code> in the 1st <code>then</code> method call fulfillment handler refers to the promise returned by the 2nd <code>then</code> method call.</p>
</blockquote>
<p>Why?</p>
<p>To understand this, let us first assume that the promise returned by <code>Promise.resolve()</code> is <code>p1</code>, the promise returned by 1st <code>then</code> method call is <code>p2</code>, and the promise returned by the 2nd <code>then</code> method call is <code>p3</code>.</p>
<p>Keeping the above in mind, after the following line, <code>promise</code> refers to <code>p1</code>:</p>
<pre class=""lang-js prettyprint-override""><code>var promise = Promise.resolve();
</code></pre>
<p>On the next line, after the 1st <code>then</code> method call:</p>
<pre class=""lang-js prettyprint-override""><code>promise = promise.then(function(rtnVal) {   
    // 1st then...
}); 
</code></pre>
<p>The value of the <code>promise</code> variable is overwritten with <code>p2</code>.</p>
<p>Then after the 2nd <code>then</code> method call:</p>
<pre class=""lang-js prettyprint-override""><code>promise = promise.then(function(rtnVal) {   
    // 2nd then...
}); 
</code></pre>
<p>The value of the <code>promise</code> variable is overwritten with the promise <code>p3</code>.</p>
<p>Until this point, the fulfillment handlers haven't been called yet. After the synchronous execution of your code ends, the asynchronous execution will start, resulting in the invocation of the fulfillment handler of the 1st <code>then</code> method call.
As this handler returns <code>promise</code> variable which now refers to the promise <code>p3</code>, you have a deadlock: the promise <code>p2</code> (returned by 1st <code>then</code>) waiting on <code>p3</code>, and the promise <code>p3</code> waiting on <code>p2</code> to settle before the fulfillment handler of the promise <code>p2</code> can be invoked.</p>
","2024-09-24 06:27:11","2","Answer"
"79017026","","The execution order of the promise according to the return type 2","<p>This question is similar to my previous &quot;<a href=""https://stackoverflow.com/questions/76554499/the-execution-order-of-the-promise-according-to-the-return-type"">The execution order of the promise according to the return type</a>&quot;, but it is a little different.</p>
<p>Why is the order of execution of caseA and caseB different?</p>
<p>The difference between the code is &quot;return&quot; or &quot;return promise&quot;</p>
<p>caseA: 914258367</p>
<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;script&gt;
var promise = Promise.resolve();    
    
promise = promise.then(function(rtnVal) {   
    console.log('1');
    var promise2 = Promise.resolve();
    promise2 = promise2.then(function(rtnVal) {
        console.log('2');
    });
    promise2 = promise2.then(function(rtnVal) {
        console.log('3');
    });
    console.log('4');
    return;
}); 
    
promise = promise.then(function(rtnVal) {   
    console.log('5');
    var promise2 = Promise.resolve();
    promise2 = promise2.then(function(rtnVal) {
        console.log('6');
    });
    promise2 = promise2.then(function(rtnVal) {
        console.log('7');
    });
    console.log('8');
    return;
}); 
    
console.log('9');   

&lt;/script&gt;
&lt;/head&gt;
&lt;/html&gt;
</code></pre>
<p>caseB: 91423 -&gt; 5,6,7,8 don't even run</p>
<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;script&gt;
var promise = Promise.resolve();    
    
promise = promise.then(function(rtnVal) {   
    console.log('1');
    var promise2 = Promise.resolve();
    promise2 = promise2.then(function(rtnVal) {
        console.log('2');
    });
    promise2 = promise2.then(function(rtnVal) {
        console.log('3');
    });
    console.log('4');
    return promise;
}); 
    
promise = promise.then(function(rtnVal) {   
    console.log('5');
    var promise2 = Promise.resolve();
    promise2 = promise2.then(function(rtnVal) {
        console.log('6');
    });
    promise2 = promise2.then(function(rtnVal) {
        console.log('7');
    });
    console.log('8');
    return promise;
}); 
    
console.log('9');   

&lt;/script&gt;
&lt;/head&gt;
&lt;/html&gt;
</code></pre>
","2024-09-24 05:08:44","0","Question"
"79016586","79016140","","<p>Firstly, the <code>== True</code> is unnecessary as if <code>len(variable) &lt;= 3</code> is True, it will automatically proceed.</p>
<p>Ex. <code>if 5 &gt; 3: print(&quot;5 is greater than 3!&quot;) #5 is greater than 3 so the conditional will be True and the code will proceed to run</code></p>
<p>Next, <code>isdigit()</code> only checks for an entire variable, so your use case only checks for the entire input (so if there is a single letter in a bunch of numbers it would not know). So, using something like <code>any()</code> to go through the input with a for loop would be a better choice.</p>
<p>Ex. <code>if any(character.isdigit() for character in variable): print(&quot;There are numbers in the input!&quot;) #Will go through the variable &quot;variable&quot; and be True if there are any numbers</code></p>
<p>Lastly, I'm assuming that you don't want to ask the &quot;favourite animal&quot; question if the variable isn't correct, so you need to fix the indentation.</p>
<p>Your final code should look something like this:</p>
<pre><code>if any(character.isdigit() for character in variable) or len(variable) &lt;= 3:
    print(&quot;That's not a valid input!&quot;)
else:
    print(f&quot;{name}, what is your favourite animal?&quot;)
</code></pre>
","2024-09-24 00:03:48","1","Answer"
"79016572","79016140","","<p>Try something like:</p>
<pre><code>while True:
    variable = input(&quot;Enter a short string (maxlen=3): &quot;)

    if len(variable) &gt; 3:
        print(&quot;Too short!&quot;)
        continue  

    if variable.isnumeric():
        print(&quot;No numbers!&quot;)
        continue

    break
</code></pre>
<p>Basically, you stay in the while loop until you are satisfied with the input:</p>
<ul>
<li>Anything that you detect as wrong prints a message to the user, gets a <code>continue</code>, and returns to the top asking for better input.</li>
<li>At the end, after all of the checks have been completed, you <code>break</code> out of the loop and have a value meeting your conditions.</li>
</ul>
<p>This makes it easy to see each of the conditions you are putting on things and makes it easy to add to them if needed.</p>
","2024-09-23 23:55:35","1","Answer"
"79016140","","How can I add some form of verification to block users from inputting numbers or strings with a length less than 3?","<p>It is for a college project. I have got the main part of it done, but I want to add some sort of verification of what will be my teachers' input, I know he will try putting in random numbers and spamming a single letter. I have got number blocking to work with while loops but don't know where to go from here to also include blocking a string shorter than three letters without my code getting messy.</p>
<p>I have tried defining a variable but didn't really know how to do it. Would something like this work?</p>
<pre><code>if variable.isdigit() or len(variable) &lt;= 3 == True:
    print(&quot;That's not a valid input!&quot;)
print(f&quot;{name}, what is your favourite animal?
</code></pre>
","2024-09-23 20:08:12","1","Question"
"79013100","78658472","","<p>In math, objects like &quot;rectangles&quot; and &quot;squares&quot; are immutable; there's no concept of taking an existing &quot;rectangle&quot; and changing its dimensions, because its dimensions are an intrinsic aspect of the rectangle. A rectangle with a different width is not the same rectangle anymore.</p>
<p>That doesn't mean that you shouldn't create a <code>Rectangle</code> class with a <code>setWidth</code> method; it's just that the instances of that class won't represent &quot;rectangles&quot; in the mathematical sense. That's fine and normal; if I say &quot;The key cards are plastic rectangles&quot;, I'm not using &quot;rectangle&quot; in the strict mathematical sense, I'm just describing the key cards' general shape. (In reality they probably have rounded corners, and certainly have some three-dimensional thickness, and are presumably somewhat flexible, and so on.) So the question is what you actually need to represent in your program. I notice that you mention <code>height</code> rather than <code>length</code>, which makes me think this is a rectangle drawn on a computer screen with perfectly horizontal and vertical edges; if so, then depending on the details of your program, you may want not just <code>height</code> and <code>width</code> but also things like <code>top</code>, <code>left</code>, <code>zIndex</code>, <code>borderStyle</code>, <code>borderWidth</code>, <code>borderColor</code>, <code>fillStyle</code>, <code>fillColor</code>, and so on. Many of those make no sense in a typical mathematical domain, but if they make sense in your problem domain, then that's what matters.</p>
<p>Whether to have a <code>Square</code> class or not is, likewise, a question for your problem domain. In a drawing program, I wouldn't really expect &quot;squares&quot; to be  a distinct shape where I can change the side length but not the aspect ratio; so if what you have is a drawing program, then I'm guessing you <em>don't</em> need a <code>Square</code> class. But only you can decide that. If you <em>do</em> have a <code>Square</code> class, and your <code>Rectangle</code> instances' widths and heights can be changed independently, then your <code>Square</code> class should <em>not</em> be a subclass of <code>Rectangle</code>, for exactly the reason you say.</p>
<p>(In math, for what it's worth, a square is <em>not</em> necessarily a distinct &quot;type&quot; in this way. After all, <em>every</em> rectangle with width = length is a square; so sometimes you specifically construct a square, but other times you construct a rectangle and it turns out to be a square. But the considerations in object-oriented programming are completely different, and while the mathematical objects may be helpful to think about when figuring out your class design, they generally won't <em>govern</em> your class design.)</p>
","2024-09-23 03:51:24","0","Answer"
"79012031","78658472","","<p>The key here is that LSP is about the contract and what this contract guarantees.  It's not about the code.</p>
<p>Many LSP-compliant designs allow <code>Square</code> to be a specialisation of <code>Rectangle</code>.  Take for example this design, where the shapes are immutable, and transformations only return a new shape without making any promises about what that shape could be:</p>
<p><a href=""https://i.sstatic.net/ZxA6olmS.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ZxA6olmS.png"" alt=""UML class diagram with Square inheriting from Rectangle inheriting from abstract class Shape"" /></a></p>
<p>Everywhere, where an instance of <code>Shape</code> or <code>Rectangle</code> is used,  an instance of <code>Square</code> could be used instead. Keep in mind, in this regard that constructors are excluded from LSP constraints, according to <a href=""https://dl.acm.org/doi/10.1145/197320.197383"" rel=""nofollow noreferrer"">Liskov &amp; Wing</a> who are at the origin of this principle:</p>
<blockquote>
<p>Objects come into existence and get their initial values through creators. Unlike other kinds of methods, creators do not belong to particular objects, but rather are independent operations.</p>
</blockquote>
<p>However, slight alterations to such an LSP-compliant design could easily break LSP.  For example,  adding the operation <code>changeSize(int X, int Y)</code> would no longer allow to use a square everywhere are rectange is used: every time the size would be changed differently on the X and the Y axis, the square's invariant would be broken, and so an operation valid for the rectangle would not work for the square.</p>
<p>Your example is slightly different.  LSP compliance will depend on the contract that you set on <code>setWidth()</code> (and <code>setHeight()</code> likewise):  if the postcondition is that <code>width</code> has the new value and <code>height</code> is unchanged,  then there is infringement.  But is this the promise you made in your contract? If the post-condition is only about <code>width</code> and makes no guarantee that <code>height</code> stays unchanged,  the design would still be LSP compliant.</p>
<p>The LSP is in reality not defined in terms of methods, but in terms of provable predicates (based on contracts).  So it makes no difference if we're talking about virtual or ordinary member functions.  Many OOP languages do not even make this difference and have all functions be overridable.  Nevertheless, in the case of C++, if you make a polymorphic design,  where subtypes are meant to be used instead of super types,  it's a good reflex to build the class hierarchy and make methods virtual (see for instance this <a href=""https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rh-abstract"" rel=""nofollow noreferrer"">C++ core guideline</a>).</p>
<p><em>(Note by the way that if your design allows to use non-virtual setWidth()' and <code>setHeight()</code> of a rectangle to alter the object which could be a square, it's a bad polymorphic design, independently of LSP)</em>.</p>
","2024-09-22 15:51:43","0","Answer"
"79012003","79009885","","<p>Of course running <code>od</code>, or any external process, 1 million times is going to take time. But you don't really need Awk here at all.</p>
<pre><code>base64 -w 20 /dev/urandom | head -n 1000000
</code></pre>
<p>If you need a different alphabet than that provided by base64, there are tools like <code>base85</code> which are however less ubiquitous.</p>
<p>Notably, the base64 alphabet includes <code>/</code> and <code>+</code>. If those are unacceptable, you can add a simple <code>tr</code> postprocessing step:</p>
<pre><code>base64 -w 20 /dev/urandom | head -n 1000000 | tr /+ 0-9A-Za-z
</code></pre>
<p>The distribution will then be slightly less random again, but probably not enough to make any real difference.</p>
<p>I don't have Ruby here so I can't directly compare, but the timings for this on my Debian VM are</p>
<pre><code>bash$ time base64 -w 20 /dev/urandom | head -n 1000000 &gt;/dev/null
real    0m0.064s
user    0m0.033s
sys 0m0.034s
</code></pre>
<p>For indirect comparison, Ed Morton's first Awk script takes 2 seconds real time here.  Adding the <code>tr</code> pipeline pushes this to 0.081s real time.</p>
<p>Unfortunately, <code>base64</code> on MacOS doesn't support the <code>-w</code> option at all. If you insist on running it inside Awk, try something like</p>
<pre><code>#!/bin/awk -f

BEGIN {
  cmd = &quot;base64 &lt;/dev/urandom | fold -w 20&quot;
  while ((cmd | getline result) &gt; 0) {
      gsub(/[\/+]/, &quot;&quot;, result)
      print(result)
      if (++lines &gt;= 1000000) exit;
  }
}
</code></pre>
<p>Unfortunately, this is much slower (slightly below 3.5 seconds real time on my system).</p>
","2024-09-22 15:37:11","4","Answer"
"79010829","79009885","","<pre><code>$ awk '
    function get20(){
        &quot;tr -dc A-Za-z0-9 &lt;/dev/urandom | fold -b20&quot; | getline s
        return s
    }
    BEGIN {
        for (i=1; i&lt;=10; ++i)
            print get20()
    }
'
ds3bnaDUlYhxETdwTUwT
1OgMbkoAfcptTHG8guPd
RJQj2e1MbU1PVsQ0biGo
pAo7NlaOwXUSkgxG8ZAS
fESVcYBK5cBOBQxCDQ3T
ZZqE454jIiUc7oEtwPry
IX4WSw47pvbhoQ8zdXLy
pOM2bZjQVolek35nuCWt
deAa9ddHhGeX8FJGJFCb
NH5FTSWNKcvzYnTkvewM
$
</code></pre>
<hr />
<pre><code>$ time gawk '
    function get20(){
        &quot;tr -dc A-Za-z0-9 &lt;/dev/urandom | fold -b20&quot; | getline s
        return s
    }
    BEGIN {
        for (i=1; i&lt;=1000000; ++i)
            len += length(get20())
        print len
    }
'
20000000

real    0m0.522s
user    0m0.782s
sys 0m0.263s
$
</code></pre>
<pre><code>$ time mawk '
    function get20(){
        &quot;tr -dc A-Za-z0-9 &lt;/dev/urandom | fold -b20&quot; | getline s
        return s
    }
    BEGIN {
        for (i=1; i&lt;=1000000; ++i)
            len += length(get20())
        print len
    }
'
20000000

real    0m0.534s
user    0m0.145s
sys 0m0.013s
$
</code></pre>
<pre><code>$ time busybox awk '
    function get20(){
        &quot;tr -dc A-Za-z0-9 &lt;/dev/urandom | fold -b20&quot; | getline s
        return s
    }
    BEGIN {
        for (i=1; i&lt;=1000000; ++i)
            len += length(get20())
        print len
    }
'
20000000

real    0m1.344s
user    0m1.703s
sys 0m0.416s
$
</code></pre>
<p>Xubuntu 24.04.1 on i5-8350U</p>
<hr />
<p>I have just found: <a href=""https://unix.stackexchange.com/questions/230673/how-to-generate-a-random-string"">https://unix.stackexchange.com/questions/230673/how-to-generate-a-random-string</a>
which has an answer using the same approach. There's a note that setting <code>LC_ALL=C</code> for the <code>tr</code> command may be desirable.</p>
<hr />
<p>To allow variable length output, selecting a suitably large/small value for the <code>fold</code> parameter and accumulating a small number of <code>getline</code> might be almost as fast. Perhaps twice the typical desired length might be a reasonable choice? So for 20, something like:</p>
<pre><code>awk -v chunksz=40 '
    BEGIN {
        randomchunk = &quot;tr -dc A-Za-z0-9 &lt;/dev/urandom | fold -b&quot; chunksz
    }
    function getn_alnum(n,        i,s,r){
        for (i=0; i&lt;n; i+=chunksz) {
            randomchunk | getline s
            r = r s
        }
        return substr(r,1,n)
    }
    # ...
'
</code></pre>
","2024-09-22 03:33:01","3","Answer"
"79010568","79009885","","<p>I don't have access to Ruby but on my (apparently slow!) system the awk script from <a href=""https://stackoverflow.com/a/79009886/1745001"">@dawgs answer</a> takes 24 seconds to run while this one takes 5 seconds:</p>
<pre><code>$ cat tst.sh
#!/usr/bin/env bash

time awk -v r=$RANDOM '
function rand_string(n,         s,i) {
    for ( i=1; i&lt;=n; i++ ) {
        s = s chars[int(1+rand()*numChars)]
    }
    return s
}
BEGIN{
    srand(r)      # Use srand ONCE only
    for (i=48; i&lt;=122; i++) {
        char = sprintf(&quot;%c&quot;, i)
        if ( char ~ /[[:alnum:]]/ ) {
            chars[++numChars] = char
        }
    }

    for (i=1; i&lt;=1000000; i++) {print rand_string(20)}
}' | sort | uniq -c | awk '$1&gt;1'
</code></pre>
<p>
<pre><code>$ ./tst.sh

real    0m5.078s
user    0m4.077s
sys     0m0.045s
</code></pre>
<p>so if you want to produce a lot of strings then create an array of the possible letters first and then index the array using <code>rand()</code> instead of calling <code>sprintf()</code> for every letter of every string.</p>
<p>Since making a variable like <code>s</code> iteratively larger is slow in terms of memory [re]allocation, you can make the script about 20% faster still by setting <code>OFS=&quot;&quot;</code> then setting <code>$i</code> to each char rather than building up a string:</p>
<pre><code>function rand_string(n,         i) {
    for ( i=1; i&lt;=n; i++ ) {
        $i = chars[int(1+rand()*numChars)]
    }
    return $0
}
</code></pre>
<p>
<pre><code>$ ./tst2.sh

real    0m3.954s
user    0m3.420s
sys     0m0.015s
</code></pre>
<p>as long as you don't need <code>$0</code> for anything else.</p>
","2024-09-21 22:39:49","7","Answer"
"79010319","79009885","","<blockquote>
<p>That does not work -- same seed, same string result.</p>
</blockquote>
<p>This is compliant with what <a href=""https://www.gnu.org/software/gawk/manual/html_node/Numeric-Functions.html#index-srand_0028_0029-function"" rel=""nofollow noreferrer"">The GNU Awk User's manual says about <code>srand</code></a></p>
<blockquote>
<p><code>rand([x])</code></p>
<p>Set the starting point, or seed, for generating random numbers to the value x.</p>
<p>Each seed value leads to a particular sequence of random numbers.49 Thus, if the seed is set to the same value a second time,
the same sequence of random numbers is produced again.</p>
<p>CAUTION: Different awk implementations use different random-number generators internally. Don’t expect the same awk program
to produce the same series of random numbers when executed by
different versions of awk.</p>
<p>If the argument x is omitted, as in <code>srand()</code>, then the current date and time of day are used for a seed. This is the way to get random numbers that are truly unpredictable.</p>
<p>The return value of <code>srand()</code> is the previous seed. This makes it easy to keep track of the seeds in case you need to consistently
reproduce sequences of random numbers.</p>
<p>POSIX does not specify the initial seed; it differs among awk implementations.</p>
</blockquote>
<p>Last 4 words are especially important considering you are stipulating</p>
<blockquote>
<p>Runs on most platforms (i.e., default POSIX kit)</p>
</blockquote>
","2024-09-21 19:26:28","1","Answer"
"79009885","","Generate many random alphanumeric strings","<p>From <em>inside</em> of awk, I want to generate a string of X alphanumeric characters reasonably random (i.e., random but not cryptographic) on demand and rapidly.</p>
<p>In Ruby, I could do this:</p>
<pre><code>ruby -e '
def rand_string(len, min=48, max=123, pattern=/[[:alnum:]]/)
    rtr=&quot;&quot;
    while rtr.length&lt;len do
        rtr+=(0..len).map { (min + rand(max-min)).chr }.
            select{|e| e[pattern] }.join
    end                     # falls out when min length achieved 
    rtr[0...len]
end

(0..5).each{|_| puts rand_string(20)}'  
</code></pre>
<p>Prints:</p>
<pre><code>61ihPbceigvQ2nFv8s7f
JiL0Lucw6IJl87rLQgEm
lKEjaTi9jSVWFF1V6Zyn
T3jKdEuAnMeaNUl85ABF
3ct0OBbHpAp72AtKtLCk
wmNqCK3lWz74vk2Zme01
</code></pre>
<p>For a time comparison, that Ruby can produce 1,000,000 unique strings (no duplicates) in roughly 9 seconds.</p>
<p>Taking that, I tried in awk:</p>
<pre><code>awk -v r=$RANDOM '
# the r value will only be a new seed each invocation -- not each f call
function rand_string(i) {
    s=&quot;&quot;
    min=48
    max=123
    srand(r)
    while (length(s)&lt;i) {
        c=sprintf(&quot;%c&quot;, int(min+rand()*(max-min+1)))
        if (c~/[[:alnum:]]/) s=s c
    }
    return s
}
BEGIN{ for (i=1; i&lt;=5; i++) {print rand_string(20)}}'
</code></pre>
<p>That does not work -- same seed, same string result. Prints:</p>
<pre><code>D65CsI55zTsk5otzSoJI
D65CsI55zTsk5otzSoJI
D65CsI55zTsk5otzSoJI
D65CsI55zTsk5otzSoJI
D65CsI55zTsk5otzSoJI
</code></pre>
<p>Now try reading <code>/dev/urandom</code> with <code>od</code>:</p>
<pre><code>awk '
function rand_string(i) {
    arg=i*4
    cmd=&quot;od -A n -t u1 -N &quot; arg &quot; /dev/urandom&quot;  # this is POSIX
    #             ^  ^                unsigned character
    #                   ^  ^          count of i*4 bytes
    s=&quot;&quot;
    min=48
    max=123
    while (length(s)&lt;i) {
        while((cmd | getline line)&gt;0) {
            split(line, la)
            for (e in la) {
                if (la[e]&lt;min || la[e]&gt;max) continue
                c=sprintf(&quot;%c&quot;, la[e])
                if (c~/[[:alnum:]]/) s=s c
            }
        }
        close(cmd)
    }
    return substr(s,1,i)
}
BEGIN {for(i=1;i&lt;=5;i++) print rand_string(20) }'
</code></pre>
<p>This works as desired. Prints:</p>
<pre><code>sYY195x6fFQdYMrOn1OS
9mv7KwtgdUu2DgslQByo
LyVvVauEBZU2Ad6kVY9q
WFsJXvw8YWYmySIP87Nz
AMcZY2hKNzBhN1ByX7LW
</code></pre>
<p>But now the problem is with the pipe <code>od -A n -t u1 -N &quot; arg &quot; /dev/urandom</code> is is <em>really slow</em> -- unusable except for a trivial number of strings.</p>
<p>Any idea how I can modify one of those awks so that it:</p>
<ol>
<li>Runs on most platforms (i.e., default POSIX kit);</li>
<li>Can produce reasonably random strings of X length rapidly.</li>
</ol>
<p>This question has been asked a few times:</p>
<ol>
<li><a href=""https://stackoverflow.com/questions/44013283/how-can-i-replace-a-string-with-a-random-alphanumeric-string-48-characters-long"">How can I replace a string with a random alphanumeric string 48 characters long using awk</a> where the answer is use external tools -- too slow;</li>
<li><a href=""https://stackoverflow.com/questions/8314629/substitute-given-pattern-with-a-random-one-with-awk"">Substitute given pattern with a random one with awk</a> but that is a random int and does not use <code>srand</code>;</li>
<li><a href=""https://stackoverflow.com/questions/39434664/execute-a-command-to-generate-random-strings-inside-awk"">Execute a command (to generate random strings) inside awk</a> but again uses shell pipe (too slow) and Linux only.</li>
</ol>
","2024-09-21 15:20:22","2","Question"
"79009886","79009885","","<p>Take awk 1 and do this:</p>
<pre><code>time awk -v r=$RANDOM '
function rand_string(i) {
    s=&quot;&quot;
    min=48
    max=123
    #srand(r) Duh!! WRONG! Only use srand once or it resets to the same sequence
    while (length(s)&lt;i) {
        c=sprintf(&quot;%c&quot;, int(min+rand()*(max-min+1)))
        if (c~/[[:alnum:]]/) s=s c
    }
    return s
}
BEGIN{ 
    srand(r)      # Use srand ONCE only
    for (i=1; i&lt;=1000000; i++) {print rand_string(20)}
}'  1&gt; /dev/null

real    0m6.690s
user    0m6.677s
sys 0m0.012s
</code></pre>
<p>Which I rewrote (looking at Ed Morton's answer) to be:</p>
<pre><code>time awk -v r=$RANDOM '
function fill_buf(low, high,          i, char) {
    # We WANT chars and numChars to be global...
    for(i=low; i&lt;=high; i++) {
        char = sprintf(&quot;%c&quot;, i)
        if ( char ~ /[[:alnum:]]/ ) {
            chars[++numChars] = char
        }
    }
}
function rand_string(n,         s,i) {
    if (numChars==&quot;&quot;) fill_buf(48,123)
    for ( i=1; i&lt;=n; i++ ) {
        s = s chars[int(1+rand()*numChars)]
    }
    return s
}
BEGIN{ 
    srand(r)      # Use srand ONCE only
    for (i=1; i&lt;=1000000; i++) {print rand_string(20)}
}' 1&gt; /dev/null 

real    0m6.765s
user    0m6.747s
sys 0m0.017s
</code></pre>
<p>VS the (vastly improved) Ruby:</p>
<pre><code>time ruby -e 'def rand_string(len, min=48, max=123, pat=/[[:alnum:]]/)
    # @tgt ||= means only run the first time this function is called
    @tgt ||= (min..max).map(&amp;:chr).grep(pat)
    (1..len).map{ @tgt.sample }.join
end

1_000_000.times{puts rand_string(20)}' 1&gt; /dev/null


real    0m1.634s
user    0m1.632s
sys 0m0.035s
</code></pre>
<p>So the Ruby is a bit faster -- as expected. (But if you use <code>gawk</code> vs <code>awk</code> the gawk completes in 6.2 seconds.)</p>
<p>I am not sure I believe that Ruby timing. When I run it on a server it is more similar to gawk. But I am reporting it. Apple M3 PowerBook with Ruby 3.3.5. Version 3+ has been a <em>vast</em> speedup.)</p>
<p>I also use tripleee's <a href=""https://stackoverflow.com/a/79012003/298607"">answer</a> to write an awk / gawk version that maintains a buffer of reads to <code>/dev/urandom</code> through <code>base64</code> translating it to <code>-w </code> size strings:</p>
<pre><code>time gawk '
function fill_buf(w,         cmd, line, arg) {
    # buf and buf_idx purposely global
    
    split(&quot;&quot;, buf)   
    buf_idx=1
    arg=int(w+w*0.2)
    cmd=&quot;base64 -w &quot; arg &quot; -i /dev/urandom | head -n 10000&quot;
    while((cmd | getline line)&gt;0) {
        gsub(/[^[:alnum:]]|[[:space:]]/, &quot;&quot;, line)
        if (length(line)&lt;w) continue
        buf[buf_idx++]=substr(line, 1, w)
    }
    close(cmd)
    buf_idx=1
}

function rand_string(w) {
    # Note: if you use length(buf) PRIOR to it being used as an array -- 
    # it is marked forever as a scalar
    if (buf_idx==0 || length(buf)-buf_idx==-1) fill_buf(w)
    return buf[buf_idx++]
}

BEGIN {
for(i=1;i&lt;=1000000;i++) print rand_string(20) 
}' 1&gt; /dev/null 
</code></pre>
<p>Which is VERY performant:</p>
<pre><code>real    0m1.042s
user    0m0.995s
sys 0m0.293s
</code></pre>
<hr />
<p>I created a Bash / Perl benchmark for these routines <a href=""https://pastebin.com/v3Dyn6UU"" rel=""nofollow noreferrer"">HERE</a></p>
<p><strong>tl; dr</strong></p>
<ol>
<li>Perl fastest;</li>
<li>g?awk with base64 reads in batches almost as fast as Perl;</li>
<li>Ed Morton's awk / gawk fast and will run anywhere;</li>
<li>Ruby is fast and fastest to write -- if you know Ruby.</li>
</ol>
<p>Bash performance comparisons:</p>
<pre><code>$ perl tst.pl
                  Rate awk abd 1 awk abd 2 awk EdM ruby abd gawk EdM gawk abd 2 awk abd base64 gawk abd base64 perl abd
awk abd 1       9.78/s        --      -32%    -32%     -54%     -72%       -73%           -73%            -73%     -74%
awk abd 2       14.3/s       46%        --     -1%     -33%     -59%       -60%           -60%            -61%     -63%
awk EdM         14.5/s       48%        1%      --     -32%     -59%       -59%           -60%            -60%     -62%
ruby abd        21.5/s      119%       50%     48%       --     -39%       -40%           -40%            -41%     -44%
gawk EdM        35.2/s      260%      146%    143%      64%       --        -1%            -2%             -3%      -8%
gawk abd 2      35.7/s      265%      150%    146%      66%       1%         --            -1%             -1%      -6%
awk abd base64  36.0/s      268%      152%    148%      68%       2%         1%             --             -1%      -6%
gawk abd base64 36.2/s      270%      154%    150%      69%       3%         1%             1%              --      -5%
perl abd        38.2/s      290%      167%    163%      78%       8%         7%             6%              5%       --
</code></pre>
<p>zsh performance comparisons:</p>
<pre><code>% perl tst.pl
                  Rate awk abd 1 awk abd 2 awk EdM ruby abd gawk abd base64 awk abd base64 gawk abd 2 gawk EdM perl abd
awk abd 1       9.69/s        --      -32%    -33%     -55%            -73%           -73%       -73%     -73%     -74%
awk abd 2       14.2/s       47%        --     -1%     -34%            -61%           -61%       -61%     -61%     -62%
awk EdM         14.4/s       49%        1%      --     -33%            -60%           -60%       -60%     -61%     -62%
ruby abd        21.6/s      122%       51%     50%       --            -41%           -41%       -41%     -41%     -43%
gawk abd base64 36.2/s      274%      154%    151%      68%              --             0%         0%      -1%      -4%
awk abd base64  36.2/s      274%      154%    151%      68%              0%             --         0%      -1%      -4%
gawk abd 2      36.2/s      274%      154%    151%      68%              0%             0%         --      -1%      -4%
gawk EdM        36.5/s      277%      156%    153%      69%              1%             1%         1%       --      -3%
perl abd        37.6/s      288%      164%    161%      74%              4%             4%         4%       3%       --
</code></pre>
<p>Running that on a MacBook Pro M3 with:</p>
<pre><code>gawk 5.3
Ruby 3.3
Bash 5.2
zsh 5.9
MacOS 15.0
</code></pre>
","2024-09-21 15:20:22","2","Answer"
"79009094","79009039","","<p>The only relevant difference between the two versions is that you've swapped <code>x</code> and <code>y</code> in the second version.</p>
<p>That means that you should get the correct result in the first version too if you did the same swap.</p>
<p>So, instead of:</p>
<pre class=""lang-cpp prettyprint-override""><code>y = query(&quot;? &quot; + to_string(x) + &quot; &quot; + to_string(y));
</code></pre>
<p>Make it:</p>
<pre class=""lang-cpp prettyprint-override""><code>y = query(&quot;? &quot; + to_string(y) + &quot; &quot; + to_string(x));
</code></pre>
<hr />
<p>Here's how I reached this conclusion:</p>
<ol>
<li>Use a tool, like <code>diff</code>, to highlight the differences between two text files. Lines prepended with <code>&lt;</code> comes from <em>version1</em> and lines prepended with <code>&gt;</code> comes from <em>version2</em>:
<pre class=""lang-bash prettyprint-override""><code>$ diff version1.cpp version2.cpp
1,2c1,2
&lt; int query(string s) {
&lt;     FastIO::println(s);
---
&gt; int query(int x, int y) {
&gt;     FastIO::println(&quot;? &quot; + to_string(x) + &quot; &quot; + to_string(y));
14c14
&lt;             y = query(&quot;? &quot; + to_string(x) + &quot; &quot; + to_string(y));
---
&gt;             y = query(y, x);
</code></pre>
</li>
<li>We see that in <em>version1</em>, <code>query</code> takes a <code>string</code> and prints it like it is and in <em>version2</em>, <code>query</code> takes two parameters to create the string with the first parameter, <code>x</code>, first and the second parameter, <code>y</code>, second.</li>
<li>In the actual call to <code>query</code>, <em>version1</em> creates the string using <code>x</code> first and <code>y</code> second while <em>version2</em> sends in <code>y</code> as the first parameter and <code>x</code> as the second, hence putting <code>y</code> first and <code>x</code> second in the string created inside <code>query</code>.</li>
</ol>
","2024-09-21 08:29:31","2","Answer"
"79009039","","Why does my interactive problem fail with string queries but works with direct integer inputs?","<p>Problem link = <a href=""https://codeforces.com/problemset/problem/2001/C"" rel=""nofollow noreferrer"">Link</a>
I'm solving an interactive problem, and I'm encountering an issue where my solution works perfectly when I use direct integer inputs/outputs for queries. However, when I attempt to format the query using string concatenation (e.g., <code>&quot;? &quot; + to_string(x) + &quot; &quot; + to_string(y)</code>), the solution fails.</p>
<p>In both cases, I ensure that the output is flushed using <code>flush()</code> after every query. Yet, the first approach doesn't work as expected. Could the string concatenation or output formatting be causing a timing issue or mismatched expectations in the interactive environment? How can I ensure my solution works consistently?</p>
<pre><code>int query(string s) {
    FastIO::println(s);
    FastIO::flush();
    return FastIO::nextInt();
}

void solve() {
    int n = FastIO::nextInt();
    vector&lt;pair&lt;int, int&gt;&gt; list;
    for (int x = 2; x &lt;= n; x++) {
        int y = 1, pre = -1;
        while (pre != y) {
            pre = y;
            y = query(&quot;? &quot; + to_string(x) + &quot; &quot; + to_string(y));
        }
        list.push_back({x, pre});
    }

    FastIO::print(&quot;! &quot;);
    for (auto &amp;e : list) {
        FastIO::print(to_string(e.first) + &quot; &quot; + to_string(e.second) + &quot; &quot;);
    }
    FastIO::println(&quot;&quot;);
    FastIO::flush();
}

int main() {
    int t = FastIO::nextInt();
    while (t--) {
        solve();
    }
    return 0;
}

</code></pre>
<p>This code did not work  But the next code worked</p>
<pre><code>
int query(int x, int y) {
    FastIO::println(&quot;? &quot; + to_string(x) + &quot; &quot; + to_string(y));
    FastIO::flush();
    return FastIO::nextInt();
}

void solve() {
    int n = FastIO::nextInt();
    vector&lt;pair&lt;int, int&gt;&gt; list;
    for (int x = 2; x &lt;= n; x++) {
        int y = 1, pre = -1;
        while (pre != y) {
            pre = y;
            y = query(y, x);
        }
        list.push_back({x, pre});
    }

    FastIO::print(&quot;! &quot;);
    for (auto &amp;e : list) {
        FastIO::print(to_string(e.first) + &quot; &quot; + to_string(e.second) + &quot; &quot;);
    }
    FastIO::println(&quot;&quot;);
    FastIO::flush();
}

int main() {
    int t = FastIO::nextInt();
    while (t--) {
        solve();
    }
    return 0;
}

</code></pre>
<p>I was expecting both codes to give correct answer.
The java code for both codes was also giving same results.</p>
","2024-09-21 07:53:50","0","Question"
"79008550","79008528","","<p>Because you declare <code>forest</code> in main with a dynamic number of rows and columns...</p>
<pre><code>char forest[rows][colm];
</code></pre>
<p>Then you use it in your function signatures with a fixed number of columns.</p>
<pre><code>char forest[][102]
</code></pre>
<p>This causes C to read and write beyond the boundaries allocated to <code>forest</code> overwriting data stored in other variables.</p>
<hr />
<p>For example, lets say...</p>
<pre><code>int rows = 3;
int colm = 4;
char forest[rows][colm];
</code></pre>
<p><code>forest</code> is allocated a hunk of data 3 x 4 = 12 bytes wide. Some other variable might be allocated memory right after that.</p>
<pre><code>___forest___
            __other__
123456789012345678901
^   ^   ^
^   ^   forest[2][0]
^   ^ 
^   forest[1][0]
^
forest[0][0]
</code></pre>
<p>For the purposes of brevity, I'll use <code>forest[][10]</code>. If you try to access this as <code>forest[][10]</code> that says each row is 10 bytes wide. <code>forest[0][0]</code> is the same, but <code>forest[1][0]</code> now points 11 bytes in and <code>forest[2][0]</code> is 21 bytes in.</p>
<pre><code>___forest___
            __other__
123456789012345678901
^         ^         ^
^         ^         forest[2][0]
^         ^ 
^         forest[1][0]
^
forest[0][0]
</code></pre>
<p>As you can see accessing the data allocated to <code>forest</code> as <code>char forest[][10]</code> bleeds into other's data. In your case it's messing with <code>row</code> and <code>colm</code>.</p>
","2024-09-21 00:12:45","2","Answer"
"79008528","","why does rows and colm become random numbers when i change the input to them","<p>hello ive been making this simulation of a fire spreading through a forest and im basically done, the only issue is when i switch the numbers of rows and columns they become ginormous numbers out of nowhere, im sure im missing something simple but i just cant figure it out</p>
<pre><code>#include &lt;stdio.h&gt;

void InfoInput(int *rows, int *colm, int *seed, int *fireProb){
    FILE *file;
    char line[256];
    file = fopen(&quot;Test.txt&quot;, &quot;r&quot;);
    if (file ==NULL){
        printf(&quot;fatal error\n&quot;);
    }
    
    fscanf(file, &quot;%d&quot;,rows);
    fscanf(file, &quot;%d&quot;,colm);
    fscanf(file, &quot;%d&quot;,seed);
    fscanf(file, &quot;%d&quot;,fireProb);
}

void treeInput(char forest[][102], int rows, int colm, int *totTrees){
    FILE *file;
    char line[256];
    file = fopen(&quot;Test.txt&quot;, &quot;r&quot;);
    if (file ==NULL){
        printf(&quot;fatal error\n&quot;);
    }
    
    char temp;
    int x=0, tempRow, tempColm;
    while(x&lt;100){
        fscanf(file, &quot; %c&quot;, &amp;temp);
        if(temp == 'Q'){
            x=1;
            break;
        } else if(temp == 'A'){
            for(int i = 0; i&lt;rows; i++){
                for(int j = 0; j&lt;colm; j++){
                    forest[i][j] = 'T';
                }
            }
        } else if (temp == 'T'||temp == 'E'||temp == 'F'){
            fscanf(file, &quot;%d&quot;, &amp;tempRow);
            fscanf(file, &quot;%d&quot;, &amp;tempColm);
            if(temp == 'T'){
                forest[tempRow-1][tempColm-1] = 'T';
            } if(temp == 'F'){
                forest[tempRow-1][tempColm-1] = 'F';
            }
            else {
                forest[tempRow-1][tempColm-1] = '.';
            }
        }
    }
    for(int i = 0; i&lt;rows; i++){
        for(int j = 0; j&lt;colm; j++){
            if (forest[i][j] == 'T'){
                *totTrees += 1;
            }
        }
    }
   
}

void printInfo(char forest[][102], int rows, int colm, int seed, int fireProb, int totTrees){
    printf(&quot;S. Madden 9/20\n\n&quot;);
    printf(&quot;rows: %d\n&quot;, rows);
    printf(&quot;cols: %d\n&quot;, colm);
    printf(&quot;trees: %d\n&quot;,totTrees);
    printf(&quot;seed: %d\n&quot;, seed);
    printf(&quot;probability: %d%%\n\n&quot;,fireProb);
   
}


int main()
{
    FILE *file;
    char line[256];
    file = fopen(&quot;Test.txt&quot;, &quot;r&quot;);
    if (file ==NULL){
        printf(&quot;fatal error\n&quot;);
    }
    
    int rows, colm, seed, fireProb, Time=0;
    int totTrees = 0;
    
    InfoInput(&amp;rows, &amp;colm, &amp;seed, &amp;fireProb);
    //manualInput(&amp;rows, &amp;colm, &amp;seed, &amp;fireProb);
    
    char forest[rows][colm];
    
    treeInput(forest, rows, colm, &amp;totTrees);
    
    printInfo(forest, rows, colm, seed, fireProb, totTrees);

    return 0;
}
</code></pre>
<p>this is the file im calling</p>
<pre class=""lang-none prettyprint-override""><code>8
20
28
75
A
F 3 4
E 1 12
E 2 12
E 3 12
E 4 12
E 4 13
E 4 14
E 5 12
E 5 15
E 6 12
E 1 16
E 2 16
E 3 16
E 4 16
E 7 1
E 7 2
E 7 3
E 7 4
E 8 3
Q
</code></pre>
<p>the output is</p>
<pre class=""lang-none prettyprint-override""><code>S. Madden 9/20

rows: 777278548
cols: 1414812756
trees: 141
seed: 28
probability: 75%
</code></pre>
<p>this program works perfectly when there are 9 rows and 20 column(what i was testing it with) but when i switch it to 8 it goes willd
(btw this is a snippet of code where i found the issue was, theres more but it doesnt matter for this issue)</p>
<p>i honestly have no clue what the issue could be so any help is appreciated</p>
","2024-09-20 23:49:05","0","Question"
"79008443","79008428","","<p>If you have no choice but to compile with this flag, you can disable it for a few lines using a pragma:</p>
<pre><code>#pragma GCC diagnostic push
#pragma GCC diagnostic ignored &quot;-Wtraditional-conversion&quot;
    f(a);
#pragma GCC diagnostic pop
</code></pre>
","2024-09-20 22:49:54","2","Answer"
"79008428","","gcc compilation error on simple short int function call with flag -Werror=traditional-conversion","<p>Compiling this C program with gcc 11.4.0 and -Werror=traditional-conversion raises an error:</p>
<pre><code>short int f(short int x);

short int f(short int x) {
    return x;
}

int main(void)
{
    short int a = 0;
    f(a);

    return 0;
}
</code></pre>
<p><code>error: passing argument 1 of ‘f’ with different width due to prototype</code></p>
<p>Assuming that I can't change the function's signature because it comes from a library, is there a way to change the calling code to make the error go away?</p>
<p>I did try several kind of integer types for the <code>a</code> variable but to no avail. I would not expect the error to appear because the variable and the function's parameter prototype type are the same (short int). It looks to me like a false positive but it may be related to some implicit default promotion. I would rather find a solution that doesn't make me remove this compilation flag.</p>
","2024-09-20 22:38:53","2","Question"
"79006497","78999111","","<p>The only way is to directly modify the wc_create_new_customer function and block updates for wc to avoid overwriting of the file</p>
","2024-09-20 11:13:21","0","Answer"
"79003610","79003550","","<p>Firstly commas were missing in &quot;students&quot; after each entry, other things are added as comment in update_students function</p>
<pre><code>students = {
 &quot;student1&quot;: {&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 21, &quot;live&quot;: &quot;UK&quot;},
 &quot;student2&quot;: {&quot;name&quot;: &quot;Steve&quot;, &quot;age&quot;:25, &quot;live&quot;: &quot;USE&quot;},
 &quot;student3&quot;: {&quot;name&quot;: &quot;Tom&quot;, &quot;age&quot;:32, &quot;live&quot;: &quot;France &quot;},
 &quot;student4&quot;: {&quot;name&quot;: &quot;Josh&quot;, &quot;age&quot;:31, &quot;live&quot;: &quot;Spain&quot;}     
}
def update_students(students, student_id ,name, age ,live):
    # dict.update() returns None
    # Assuming you want to update values against student_id 
    # which itself is a dict, you can use below line to update that
    # Note that this is not accounting for student_id which doesn't exist
    # beforehand in students dict, so if you pass &quot;student_5&quot;,
    # it will give KeyError
    students[student_id].update({&quot;name&quot;: name,&quot;age&quot;: age, &quot;live&quot;: live})
    # No need for return statement, dictionary is mutable meaning you can 
    # update it in-place
update_students(students,&quot;student2&quot;,&quot;Alex&quot;, &quot;32&quot;, &quot;japan&quot;)

print(students)
</code></pre>
<p>Below function will take care of adding new student_id data as well</p>
<pre><code>def add_or_update_students(students, student_id, name, age, live):
    # check if the key already exists, if yes update
    # otherwise add that key in students dict
    if student_id in students:
       students[student_id].update({&quot;name&quot;: name, &quot;age&quot;: age, &quot;live&quot;: live})
    else:
       students[student_id] = {&quot;name&quot;: name, &quot;age&quot;: age, &quot;live&quot;: live}
</code></pre>
<p>Delete can be performed by the below method</p>
<pre><code>def delete_student_record(students, student_id):
    # check for student_id if it exists
    # if it exists, delete the corresponding dict
    if student_id in students:
       del students[student_id]
</code></pre>
<p>Delete based on name</p>
<pre><code>def delete_by_name(students, name):
    for student in students:
        if students[student][&quot;name&quot;].lower() == name.lower():
           del students[student]
           break
        else:
           # This may be redundant
           continue

delete_by_name(students, &quot;Steve&quot;)
</code></pre>
","2024-09-19 16:39:21","0","Answer"
"79003595","79003550","","<p>when you do <code>dict.update</code> it modify existing dictionary and add key, value pair to it or override existing one, and return None</p>
<pre><code>&gt;&gt;&gt; help(dict.update)
Help on method_descriptor:

update(...) unbound builtins.dict method
    D.update([E, ]**F) -&gt; None.  Update D from dict/iterable E and F.
    If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
    If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
    In either case, this is followed by: for k in F:  D[k] = F[k]

</code></pre>
<p>in your code you are performing <code>students[student_id]= students.update({&quot;name&quot; :name,&quot;age&quot;:age, &quot;live&quot;: live})</code>
which tell that you are assigning new value to key <code>student_id</code> and value is output of update on <code>students</code> dictionary. which is wrong.</p>
<p>but you want is for key <code>student_id</code> update/modify existing value (dict here)</p>
<p>for update existing dictionary you do is <code>dictionary[key].update(some_another_dict)</code> and to assign new dict to existing key one use <code>=</code> operation ie <code>dictionary[key] = new_dictonary</code></p>
<p>below is code, which solve your problem by using <code>update</code> operation on existing dictionary key -value</p>
<pre><code>&gt;&gt;&gt; students = {
...  &quot;student1&quot;: {&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 21, &quot;live&quot; :&quot;UK&quot;},
...  &quot;student2&quot;: {&quot;name&quot;:&quot;Steve&quot;, &quot;age&quot;:25, &quot;live&quot;: &quot;USE&quot;},
...  &quot;student3&quot;: {&quot;name&quot;:&quot;Tom&quot;, &quot;age&quot;:32, &quot;live&quot;: &quot;France &quot;},
...  &quot;student4&quot;: {&quot;name&quot;:&quot;Josh&quot;, &quot;age&quot;:31, &quot;live&quot;: &quot;Spain&quot;}}
&gt;&gt;&gt;
&gt;&gt;&gt; def update_students(students, student_id ,name, age ,live):
...     students[student_id].update({&quot;name&quot; :name,&quot;age&quot;:age, &quot;live&quot;: live})
...     return students, student_id ,name,age ,live
...
&gt;&gt;&gt; update_students(students,&quot;student2&quot;,&quot;Alex&quot;, &quot;32&quot;,&quot;japan &quot;)
({'student1': {'name': 'John', 'age': 21, 'live': 'UK'}, 'student2': {'name': 'Alex', 'age': '32', 'live': 'japan '}, 'student3': {'name': 'Tom', 'age': 32, 'live': 'France '}, 'student4': {'name': 'Josh', 'age': 31, 'live': 'Spain'}}, 'student2', 'Alex', '32', 'japan ')
&gt;&gt;&gt;
</code></pre>
","2024-09-19 16:34:15","1","Answer"
"79003580","79003550","","<p>Call <code>.update()</code> on the dictionary stored at <code>students[student_id]</code>, instead of assigning it to the returned value (<code>.update()</code> always returns <code>None</code>).</p>
<p>Code:</p>
<pre class=""lang-py prettyprint-override""><code>students = {
 &quot;student1&quot;: {&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 21, &quot;live&quot; :&quot;UK&quot;},
 &quot;student2&quot;: {&quot;name&quot;:&quot;Steve&quot;, &quot;age&quot;:25, &quot;live&quot;: &quot;USE&quot;},
 &quot;student3&quot;: {&quot;name&quot;:&quot;Tom&quot;, &quot;age&quot;:32, &quot;live&quot;: &quot;France &quot;},
 &quot;student4&quot;: {&quot;name&quot;:&quot;Josh&quot;, &quot;age&quot;:31, &quot;live&quot;: &quot;Spain&quot;}
}
 
def update_students(students, student_id ,name, age ,live):
    students[student_id].update({&quot;name&quot; :name,&quot;age&quot;:age, &quot;live&quot;: live})
    return students, student_id ,name,age ,live
    
update_students(students,&quot;student2&quot;,&quot;Alex&quot;, &quot;32&quot;,&quot;japan &quot;)

print(students)
</code></pre>
<p>Output:</p>
<pre><code>{'student1': {'name': 'John', 'age': 21, 'live': 'UK'}, 'student2': {'name': 'Alex', 'age': '32', 'live': 'japan '}, 'student3': {'name': 'Tom', 'age': 32, 'live': 'France '}, 'student4': {'name': 'Josh', 'age': 31, 'live': 'Spain'}}
</code></pre>
","2024-09-19 16:29:27","1","Answer"
"79003550","","How can I write a function called update that allows me to update something in this dictionary?","<p>I want to create a function called <code>update</code> in Python for a <del>list</del> <em>dictionary</em> but I don't have any idea how to do this.</p>
<p>I tried to do reserch but the most common information shows how to do changes simply by comments, not by function.</p>
<p>My dictionary is here:</p>
<pre class=""lang-python prettyprint-override""><code>students = {
    &quot;student1&quot;: {&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 21, &quot;live&quot; :&quot;UK&quot;}
    &quot;student2&quot;: {&quot;name&quot;:&quot;Steve&quot;, &quot;age&quot;:25, &quot;live&quot;: &quot;USE&quot;}
    &quot;student3&quot;: {&quot;name&quot;:&quot;Tom&quot;, &quot;age&quot;:32, &quot;live&quot;: &quot;France &quot;}
    &quot;student4&quot;: {&quot;name&quot;:&quot;Josh&quot;, &quot;age&quot;:31, &quot;live&quot;: &quot;Spain&quot;}
}
</code></pre>
<p>So far I used this code for update but it's not run at all</p>
<pre class=""lang-python prettyprint-override""><code>def update_students(students, student_id ,name, age ,live):
    students[student_id] = students.update({
        &quot;name&quot;: name,
        &quot;age&quot;: age,
        &quot;live&quot;: live
    })
    return students, student_id ,name,age ,live

update_students(students,&quot;student2&quot;,&quot;Alex&quot;, &quot;32&quot;,&quot;japan &quot;)
print(students)
</code></pre>
<p>but there is no action ... what can I correct please?</p>
","2024-09-19 16:21:14","0","Question"
"79000974","79000148","","<p>You can make the argument to getBadgeColor optional like getBadgeColor(param?: T).</p>
","2024-09-19 05:23:22","1","Answer"
"79000320","79000148","","<p>Your function type expects a parameter because of <code>value: T</code> in the function's type. This essentially tells typescript &quot;Hey, no matter what, there will be a parameter passed in to this function, and it will be of type T&quot;. A quick and easy way to fix this would be to do <code>value?: T</code> instead as this tells typescript that the param &quot;might or might not be there&quot;, or that it's possibly undefined. The new type would look like this:</p>
<pre><code>export type getBadgeColor&lt;T&gt; = (value?: T) =&gt; BadgeColor;
</code></pre>
<p>However, you may want to rethink the prop type you are passing in to the component to improve clarity. If you were to plainly express the type you are passing in to the react component, it would look like this:</p>
<pre><code>interface BadgeProps&lt;T&gt; {
    label: string;
    color?: BadgeColor;
    getBadgeColor?: () =&gt; ReturnType&lt;getBadgeColor&lt;T&gt;&gt;;
    value?: T
}
</code></pre>
<p>since you are passing it a function that calls <code>getBadgeColor</code>.</p>
<p>Since you are just passing an anonymous function that doesn't expect an input and should return the badge color, maybe consider using something like this as your prop type:</p>
<pre><code>interface BadgeProps&lt;T&gt; {
    label: string;
    color?: BadgeColor;
    getBadgeColor?: () =&gt; BadgeColor;
    value?: T
}
</code></pre>
<p>This also gives you the flexibility of returning a plain badge color from the function passed in, which may help if you end up storing the badge color in state or something else.</p>
","2024-09-18 22:18:05","2","Answer"
"79000148","","Passing function with arguments as a prop and invoking it internally in React","<p>I got a Badge component in my React app. The badge can be painted in different colors. In order to make it more universal i've decided to add a prop called getBadgeColor. The idea is to implement different functions for different needs. For example, in one scenario i need badges for loading statuses. So i implement the function getStatusBadgeColor that looks like this:</p>
<pre><code>enum BadgeColors {
    RED = 'red',
    YELLOW = 'yellow',
    GREEN = 'green',
    BLUE = 'blue',
    INDIGO = 'indigo',
    PURPLE = 'purple',
    PINK = 'pink',
}

export type BadgeColor = typeof BadgeColors[keyof typeof BadgeColors];

export type getBadgeColor&lt;T&gt; = (value: T) =&gt; BadgeColor;

export const getStatusBadgeColor: getBadgeColor&lt;TStatus&gt; = (status: TStatus) =&gt; {
    switch (status) {
        case Statuses.STATUS_SUCCESS:
            return BadgeColors.GREEN;
        case Statuses.STATUS_ERROR:
            return BadgeColors.INDIGO;
        default:
            return BadgeColors.BLUE;
    }
}
</code></pre>
<p>My Badge component looks like this.</p>
<pre><code>interface BadgeProps&lt;T&gt; {
    label: string;
    color?: BadgeColor;
    getBadgeColor?: getBadgeColor&lt;T&gt;;
    value?: T
}

export const Badge = &lt;T,&gt;({ label, color, getBadgeColor}: BadgeProps&lt;T&gt;) =&gt; {

    const colorValue = getBadgeColor ? getBadgeColor() : color

    return (
        &lt;span className=&quot;...&quot;&gt;
            &lt;svg className={cn('h-1.5', 'w-1.5', `fill-${colorValue}-500`)} viewBox=&quot;0 0 6 6&quot; aria-hidden=&quot;true&quot;&gt;
                &lt;circle cx={3} cy={3} r={3} /&gt;
            &lt;/svg&gt;
            {label}
        &lt;/span&gt;
    )
}
</code></pre>
<p>I pass the function like this</p>
<pre><code>&lt;Badge label={record.status} getBadgeColor={() =&gt; getStatusBadgeColor(record.status)}  /&gt;
</code></pre>
<p>So the problem is basically that i can't invoke a function inside the Badge component without calling it with arguments. Is there is a way i can do it? I would appreciate any help</p>
","2024-09-18 21:01:44","0","Question"
"78999763","78995834","","<p>I figured it after some research. On Google Cloud Console:</p>
<p>1- Enable &quot;Cloud Build API&quot;</p>
<p>2- Enable all necessary services inside &quot;Cloud Build&quot; such as: &quot;functions&quot;, &quot;build&quot;, &quot;run&quot; and what else you need.</p>
<p>3- Make sure the service accounts have the roles as listed on the following chart (<a href=""https://cloud.google.com/functions/docs/concepts/iam"" rel=""nofollow noreferrer"">https://cloud.google.com/functions/docs/concepts/iam</a>):</p>
<p><a href=""https://i.sstatic.net/eAzM9XPv.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/eAzM9XPv.png"" alt=""roles to be checked/updated"" /></a></p>
","2024-09-18 18:42:14","0","Answer"
"78999111","","Ovewriting wc_create_new_customer WooCommerce function to allow subscrtiption purchases from guests","<p>In WooCommerce, I need to allow people to checkout without having to register for an account when they buy subscriptions. In Accounts &amp; Privacy in WooCommerce admin section, I have only one option: Enable guest checkout (recommended).</p>
<p>I would like to overwrite <code>wc_create_new_customer()</code> function code from WooCommerce plugin, <a href=""https://github.com/woocommerce/woocommerce/blob/release/9.3/plugins/woocommerce/includes/wc-user-functions.php#L41-L120"" rel=""nofollow noreferrer"">located in <em>includes/wc-user-functions.php</em> PHP file</a>, with the following:</p>
<pre class=""lang-php prettyprint-override""><code>function wc_create_new_customer( $email, $username = '', $password = '', $args = array() ) {
    if ( empty( $email ) || ! is_email( $email ) ) {
        return new WP_Error( 'registration-error-invalid-email', __( 'Please provide a valid email address.', 'woocommerce' ) );
    }

    if ( email_exists( $email ) ) {
        return new WP_Error( 'registration-error-email-exists', apply_filters( 'woocommerce_registration_error_email_exists', __( 'An account is already registered with your email address. &lt;a href=&quot;#&quot; class=&quot;showlogin&quot;&gt;Please log in.&lt;/a&gt;', 'woocommerce' ), $email ) );
    }

    return false;
}
</code></pre>
<p>But It seems WooCommerce won't allow overwriting <code>wc_create_new_customer()</code> function.</p>
<p>Is it possible to overwrite that function used on checkout?</p>
","2024-09-18 15:42:24","0","Question"
"78996238","78996199","","<p>To make sure that the <code>GUI</code> instance is not garbage collected, you can keep the reference in a global list:</p>
<pre class=""lang-py prettyprint-override""><code>guis = []

# Open the GUI with a FUNCTION --&gt; image doesn't open
def open_GUI():
    guis.append(GUI())
</code></pre>
","2024-09-18 00:54:47","0","Answer"
"78996199","","tkinter images not opening in a function","<p>I have a GUI class, and when you run it, it should open a toplevel tkinter window that has an image in it. This works when you simply run the class with <code>test = GUI()</code>, but when you run the class INSIDE a function, the images refuse to load.</p>
<p>DISCLAIMER: IF YOU RUN THE CODE BELOW YOU NEED TO HAVE YOUR OWN IMAGE &amp; IMAGE PATH</p>
<pre class=""lang-py prettyprint-override""><code>import tkinter as tk
from PIL import Image,ImageTk

#GUI CLASS
class GUI:
    def __init__(self):
        self.toplevel = tk.Toplevel()
        
        self.img = ImageTk.PhotoImage(Image.open(IMAGE_PATH))
        self.img_label = tk.Label(self.toplevel,image=self.img)
        self.img_label.place(x=0,y=0)

#open the gui with a FUNCTION --&gt; image doesn't open
def open_GUI():
    test = GUI()

#root window
root = tk.Tk()
tk.Label(root,text=&quot;This is the root&quot;).pack()

#tests
test = GUI()
open_GUI()

root.mainloop()
</code></pre>
<p>When you run the above code, it should open three windows. One is the root, and there is text to say. And two toplevels. What I expect is that two windows should have an image, and one with text (the root). However what actually happens is that there is one with text, one has an image (this is the hardcoded one), and one has no image (the one run the function).</p>
","2024-09-18 00:26:52","0","Question"
"78995834","","What's wrong with my Python Firebase Cloud Function?","<p>When trying to deploy the function below I get the error:</p>
<blockquote>
<p>Build failed with status: FAILURE. Could not build the function due to a missing permission on the build service account. If you didn't revoke that permission explicitly, this could be caused by a change in the organization policies. Please refer to the following documentation for more details and resolution: <a href=""https://cloud.google.com/functions/docs/troubleshooting#build-service-account"" rel=""nofollow noreferrer"">https://cloud.google.com/functions/docs/troubleshooting#build-service-account</a></p>
</blockquote>
<p>Actually, I can see the function on Firebase Console, but it says &quot;unknown trigger&quot;.</p>
<p>I can also see the following error messages on Google Cloud Console:</p>
<blockquote>
<p>Build failed with status: FAILURE. Could not build the function due to a missing permission on the build service account. If you didn't revoke that permission explicitly, this could be caused by a change in the organization policies. Please refer to the following documentation for more details and resolution: <a href=""https://cloud.google.com/functions/docs/troubleshooting#build-service-account"" rel=""nofollow noreferrer"">https://cloud.google.com/functions/docs/troubleshooting#build-service-account</a> You can also view the logs at...</p>
</blockquote>
<blockquote>
<p>Eventarc trigger projects/myproject/locations/nam5/triggers/sendNotification-xxxxxx for the function was not found. The function may not work correctly. Please redeploy.</p>
</blockquote>
<blockquote>
<p>Cloud Run service projects/myproject/locations/us-central1/services/sendNotification for the function was not found. The function will not work correctly. Please redeploy.</p>
</blockquote>
<pre><code>import firebase_admin
from firebase_functions import https_fn, firestore_fn
from firebase_admin import initialize_app, credentials, firestore, messaging
import google.cloud.firestore

app = initialize_app()

@firestore_fn.on_document_created(document = &quot;users/{userId}/invites/{inviteId}&quot;)
def sendNotification(event: firestore_fn.Event[firestore_fn.DocumentSnapshot | None],) -&gt; None :
    if event.data is None:
        return
    try:
        userId = event.params[&quot;userId&quot;]
        db = firestore.client()
        user_ref = db.collection(&quot;users&quot;).doc(userId)
        user_data = user_ref.get().to_dict
        tokenFCM = user_data.get(&quot;tokenFCM&quot;)
        print(f&quot;user token: {tokenFCM}&quot;)
    except KeyError:
        return
</code></pre>
<p>I'm kinda copying and pasting from Cloud Functions documentation but still it's not working.</p>
<p>I'm writing more to implement the notification sending, but for now Im testing if the firestore trigger is working (and it's not :/ ).</p>
","2024-09-17 21:10:40","0","Question"
"78995591","78988780","","<p>Thanks, Alex, I had been trying to return values outside to the <code>fetch</code> function and had also tried <code>await</code> at the fetch level but never thought I could return and await at the fetch level, I tried this as you said above and the function didn't crash but the values weren't passed back to the calling  function either <strong>but</strong> I could access the data (array of objects) from the calling function in the global variable `mappointsobject here is what I ended up with below -</p>
<pre class=""lang-js prettyprint-override""><code>let mappointsobject;

async function radiocontacttownslist() {
    return await fetch(`/conlogger/getradiocontactsdata`, {
        // This fetch command via views.py gets the data in the radiocontacts list
        method: 'POST',
        credentials: 'same-origin',
        headers: { // Django needs these headers
            'X-CSRFToken': getCookie(&quot;csrftoken&quot;),
            'Content-type': 'application/json', // Indicates that the request body format is JSON
            'X-Requested-With': 'XMLHttpRequest'
        },
    })
    .then(response =&gt; response.json()) // Get the promise and convert response to JSON
    .then(result =&gt; {
        console.log(result);
        mappointsobject = JSON.parse(result); // Convert from JSON to JavaScript object
        // console.log('the objects the towns', mappointsobject); // This is all the objects and data from the radio contacts table
    }); // End of fetch .then brackets
}
</code></pre>
<p>the calling function looks like this -</p>
<pre class=""lang-js prettyprint-override""><code>const mappointsobjectreturned = await radiocontacttownslist();
console.log('rtrndfromradiocontacttownslist', mappointsobject) //trying to return object from function called above
</code></pre>
<p>I tried doing a console log on <code>mappointsobjectreturned</code> but it just said undefined as it previously had in the console before I made the changes, not until I accessed the variable <code>mappointsobject</code> directly which was populated in the function that was called did the console then give me the array of objects rather than undefined.</p>
<p><code>rtrndfromradiocontacttownslist (8) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]</code></p>
<p>So it is working, but I don't like how I have done it. Can you see any reason it wouldn't work with just the return and await at the fetch level in the called function? Is the console.log in the calling function still trying to use a pre-returned value, or have I not defined a variable correctly? Thanks so much for your help.</p>
","2024-09-17 19:50:35","0","Answer"
"78995406","78995215","","<pre><code>#include &lt;array&gt;
#include &lt;ranges&gt;
#include &lt;limits&gt;
#include &lt;cstdint&gt;

using my_uint = std::uint64_t;

using digit_array =
   std::array&lt;
      std::uint8_t,
      1 + std::numeric_limits&lt;my_uint&gt;::digits10
   &gt;;

digit_array explode_digits(my_uint n){
    digit_array result{};
    for(auto&amp; digit: result | std::views::reverse){
        /*if (n==0) //optimize for speed?
           break;*/
        digit = std::uint8_t(n % 10);
        n /= 10;
    };
    return result;
};

</code></pre>
<p>This is what I recommend as beginner stuff, not what academics teach.</p>
<p>As everyone suggests you can use <code>std::vector</code>, but for a 64 bit number, you only need 20 digits; It's not so much memory that you need to store on heap.
If <code>std::uint32_t</code> is used, then the number of digits decreases to just 10, and for <code>std::uint16_t</code>, it'd be just 5.</p>
","2024-09-17 18:45:18","8","Answer"
"78995230","78995215","","<p>For a dynamic allocation, the most common solution would use a <a href=""https://en.cppreference.com/w/cpp/container/vector"" rel=""nofollow noreferrer""><code>std::vector</code></a>. A simple solution would just push back the remainders into the vector and then reverse the vector:</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;algorithm&gt;
#include &lt;vector&gt;

std::vector&lt;int&gt; seperatingInt(int num) {
    std::vector&lt;int&gt; arr;              // an empty vector of ints
    const int neg = num &lt; 0 ? -1 : 1;

    do {
        // push back the (positive) remainders, growing the vector dynamically:
        arr.push_back(neg * (num % 10));
    } while (num /= 10);

    std::reverse(arr.begin(), arr.end());

    // if num was negative, make the first digit negative:
    arr.front() *= neg; // or: arr.front() = neg * arr.front();

    return arr;
}
</code></pre>
<p>Example usage:</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;climits&gt;
#include &lt;iostream&gt;

int main() {
    for (int test : {INT_MIN, -123, 0, 456, INT_MAX}) {
        auto res = seperatingInt(test);

        std::cout &lt;&lt; test &lt;&lt; ':';

        for (int val : res) {
            std::cout &lt;&lt; ' ' &lt;&lt; val;
        }
        std::cout &lt;&lt; '\n';
    }
}
</code></pre>
<p>Possible output:</p>
<pre class=""lang-none prettyprint-override""><code>-2147483648: -2 1 4 7 4 8 3 6 4 8
-123: -1 2 3
0: 0
456: 4 5 6
2147483647: 2 1 4 7 4 8 3 6 4 7
</code></pre>
","2024-09-17 17:49:29","3","Answer"
"78995229","78995215","","<p>Yes use std::vector as shown here</p>
<pre><code>#include &lt;sstream&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;

// When testing &quot;files&quot; don't use them use this instead
std::istringstream input_file{ &quot;\
1\n\
2\n\
3\n\
5\n\
8\n\
&quot;};

std::vector&lt;int&gt; load(std::istream&amp; is)
{
    int value;
    std::vector&lt;int&gt; values;
    while( is &gt;&gt; value )
    {
        values.push_back(value);
    }

    return values;
}

int main()
{
    //std::ifstream input_file{&quot;filename.txt&quot;};
    auto values = load(input_file);

    for(const int value : values) // range based for loop
    {
        std::cout &lt;&lt; value &lt;&lt; &quot;\n&quot;;
    }

    return 0;
}
</code></pre>
","2024-09-17 17:48:45","2","Answer"
"78995215","","Is there a way to declare an array = a function that returns an array? (c++)","<p>Let's say I have a function that takes in an integer as an argument and returns an array that has all the digits of the integer separated as a 1D array (pseudocode):</p>
<pre><code>int separatingInt (int num)
{
    int length = amount of digits in num
    int *arr = new int[length]

    for ( int i = length; i &gt; length; i-- )
    {
        arr[i] = num%10
        num = num /10
    }

    return *arr
}

int main()
{
    ifstream file
    file.open(&quot;liczby.txt&quot;)

    int number
    file &gt;&gt; number

    int* arrayFromNumber = seperatingInt(int num)
}
</code></pre>
<p>How do I declare an array from <code>seperatingInt()</code> in <code>main()</code> (referring to the last line in the <code>pseduocode</code>)? Is it better to just separate the digits into an array in <code>seperate</code>?</p>
<p>I was not even sure how to formulate my question properly, so I couldn't find answers myself.</p>
<p>I guess you could do it with a loop in the <code>main()</code> function, but since it's reading numbers from a file, and they all have different amounts of digits, it would look messy. Maybe messy is the way to go, I don't know.</p>
","2024-09-17 17:43:02","1","Question"
"78992947","78974209","","<p>After tweaking here and there, I found a way to pass multiple callable to <code>odeint</code>. I made minor changes in the script above to get the script below :</p>
<pre><code>def ode_dynamic(t, y, M, C, K, *callable_args):
    A = -np.matmul(np.linalg.inv(M), K)
    B = -np.matmul(np.linalg.inv(M), C)
    D = np.block([[np.zeros([len(M), len(M)]), np.eye(len(M))],[A, B]])
    
    # Unpack callables
    F_eval = np.array([f(t) for f in callable_args])
    
    '''   
    Setting the second member of the function
    '''
    u_zeros = np.zeros(len(M))
    U = np.block([u_zeros, np.matmul(np.linalg.inv(M), F_eval)])
    return np.matmul(D, y) + U
</code></pre>
<p>And in the <code>main</code> i.e. <code>if __name__==_'__main__':</code> the right-hand side is given as a set of <code>lambda</code></p>
<pre><code>F1 = lambda t : np.cos(3*t)
F2 = lambda t : 0
F3 = lambda t : 2*np.cos(3*t)
</code></pre>
<p>And passed to the <code>odeint</code> like the following :</p>
<p><code>X_sol = odeint(ode_dynamic, y0, t, args=(M, C, K, F1, F2, F3), tfirst=True)</code></p>
<p>This is how I succeeded in passing multiple time dependent function to <code>odeint</code> even if the right-hand side is a set of numbers it must be defined as <code>callable</code></p>
<pre><code>F1 = lambda t : 6.0
F2 = lambda t : 0.0
F3 = lambda t : -2.0
F4 = lambda t : np.pi
</code></pre>
","2024-09-17 07:28:14","0","Answer"
"78991931","78991830","","<p>Using <code>replace</code></p>
<pre><code>set.seed(1)

nblnk &lt;- sum(df$var2 == &quot; &quot;)

replace(df$var2, df$var2 == &quot; &quot;, sample(df$var2[df$var2 != &quot; &quot;], nblnk))
[1] &quot;Br&quot; &quot;Br&quot; &quot;Rt&quot; &quot;Rt&quot;
</code></pre>
<p>on the data frame</p>
<pre><code>set.seed(1)

nblnk &lt;- sum(df$var2 == &quot; &quot;)

df$var2 &lt;- 
  replace(df$var2, df$var2 == &quot; &quot;, sample(df$var2[df$var2 != &quot; &quot;], nblnk))

df
   Name var1 var2 var3
1  John    1   Br    5
2  John    3   Br    6
3 Frank    2   Rt    7
4  Ryan    3   Rt    8
</code></pre>
","2024-09-16 21:45:10","1","Answer"
"78991830","","How to apply a condition over a vector in R","<p>i need to a particular type of substitution, infact i want to replace some blanks (&quot; &quot; characters) in a data frame with a random choice on the same column, given a certain condition (for example i sample another value for a certain patient)</p>
<p>I wrote three lines of code that work, but when i put them in a function the function doesn't work (i need to create a function in order to use apply).
the dataset (df) has this structure</p>
<pre><code>Name var1 var2 var3
1  John 1    Br   5
2  John 3    &quot; &quot;  6
2  Frank 2   Rt  7
3  Ryan 3    Rt   8
</code></pre>
<p>for every name there is a repetition for each observation typically, suppose i want to replace the element in position (2,3).
Then i wrote the function</p>
<pre><code>sub_blanks &lt;- function(x,y){
tiny_dataset &lt;- df[df$Name == df$Name[x]]
value &lt;- df[sample(1:length(tiny_dataset$Name),t] 
df[x,t] &lt;- value
}
</code></pre>
<p>but the function doesn't works</p>
","2024-09-16 21:14:51","1","Question"
"78991085","78990936","","<p>Since you're not modifying the array in place, you need to return it to the caller, and the caller can assign the returned value to a variable.</p>
<pre><code>import numpy as np
def my_func(a,b):
    c=np.dot(a,b)
    print(&quot;c&quot;)
    return c
d = np.array([[1,2],[3,4]])
e = np.array([[-1,3],[2,-1]])
f = my_func(d,e)
print(&quot;f&quot;)
print(f)
</code></pre>
","2024-09-16 16:55:49","0","Answer"
"78990936","","Passing array arguments back from Python functions","<p>I’m writing code which does matrix operations in functions and I’m using numpy arrays to store my matrices. From reading books/ discussions on here I have got as far as understanding that scalar arguments of functions are passed by value and arrays are passed in C-like style (in C we would say a pointer to the array is being passed and an equivalent thing is happening in Python).</p>
<p>Here are two simple Python codes, the first successfully multiplies 2 matrices together and passes the matrix back to the calling code. I achieved this by hand-coding the matrix multiplication following a hint I saw on here (or a similar forum). In the 2nd I replace the hand-coded matrix multiplication by c=np.dot(a,b) and the matrix product doesn’t get passed back.</p>
<p>How do I get the 2nd approach to work?</p>
<p>Example 1:</p>
<pre><code>import numpy as np
def my_func(a,b,c):
    for i in range (0,2):
        for j in range (0,2):
            c[i,j]=0.
            for k in range(0,2):
                c[i,j]=c[i,j]+a[i,k]*b[k,j]
    print(&quot;c&quot;)
    print(c)
d = np.array([[1,2],[3,4]])
e = np.array([[-1,3],[2,-1]])
f = np.zeros((2,2))
my_func(d,e,f)
print(&quot;f&quot;)
print(f)
</code></pre>
<p>and here is the output:</p>
<pre><code>c
[[3. 1.]
 [5. 5.]]
f
[[3. 1.]
 [5. 5.]]
</code></pre>
<p>Example 2:</p>
<pre><code>import numpy as np
def my_func(a,b,c):
    c=np.dot(a,b)
    print(&quot;c&quot;)
    print(c)
d = np.array([[1,2],[3,4]])
e = np.array([[-1,3],[2,-1]])
f = np.zeros((2,2))
my_func(d,e,f)
print(&quot;f&quot;)
print(f)
</code></pre>
<p>and here is the output:</p>
<pre><code>c
[[3 1]
 [5 5]]
f
[[0. 0.]
 [0. 0.]]
</code></pre>
","2024-09-16 16:01:31","0","Question"
"78988793","78988780","","<p>It looks like you want to return the value that you are fetching from the api. Right now, with the way your code is written, you are using <code>async</code> with the function without <code>await</code> anywhere in your body.</p>
<p><code>fetch</code> returns a Promise, which is an asynchronous bit of code. When a Promise is encountered, the browser does not wait for it to finish running, or resolve, and instead just continues with the rest of the code.</p>
<p>I am guessing that <code>townlisttestoutsideoffetch</code> gets logged out before <code>the objects the towns</code> does, and it's because the <code>fetch</code> is being fired off and then code execution immediately continues and console logs. Then, when the promise resolves, the other console log gets run.</p>
<p>Here's how you can restructure your code for it to work as expected:</p>
<pre class=""lang-js prettyprint-override""><code>async function radiocontacttownslist() {
    return await fetch(`/conlogger/getradiocontactsdata`, {
        method: 'POST',
        credentials : 'same-origin',
        headers: {//'Accept': 'application/json',                                                     
            'X-CSRFToken': getCookie(&quot;csrftoken&quot;),
            'Content-type': 'application/json' ,                                                   
            'X-Requested-With': 'XMLHttpRequest'
        },
     })
    .then(response =&gt; JSON.parse(response.json()))
}

let mappointsobject = radiocontacttownslist()
</code></pre>
<p>The main thing to notice here is that we set <code>mappointsobject</code> to the result of the <code>radiocontacttownslist</code> function call, which <code>return</code>s a value.</p>
<p>Notice that the <code>await</code> is before the fetch -- it will wait for the promise to resolve, and then the <code>return</code> returns the value.</p>
","2024-09-16 03:53:58","0","Answer"
"78988780","","Passing an Array of Objects returned from a fetch command back to the calling function (Django and JS)","<p>I've spent days and days on this trying various techniques I have red on here and other forums but just cant get my head a round it.</p>
<p>I've tried .map(), I've tried global variables, I've tried everything I can think of.  steep learning curve</p>
<p>I have split one long function into several smaller functions to make the code more readable and just more functional, the below code is called by a main function I'm using for mapping, the purpose of the code below is to go and fetch data from a model (via views.py) and then pass it back to the main function, it will be a  data containing names, cities, towns, countries, it worked fine before I split the long function but now wont pass variables.</p>
<p>Where I console.log 'the objects the towns' it looks ok in the console but once outside of that fetch Im lost, Ive tried to return the data from within the fetch function mappointobject (which I believe is an array of objects) but it wont, Ive tried to put a 'await' on final console.log but nothing, it seems no matter what I've tried fails after the closing fetch function brackets }),  the main function just says to me 'undefined'</p>
<p>Below is what I get at the console.log  right before the fetch closing brackets</p>
<p><strong>the objects the towns (8) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]</strong></p>
<pre><code>let mappointsobject;
async function radiocontacttownslist() {

    fetch(`/conlogger/getradiocontactsdata`, {      //this fetch command via views.py gets the data in the radiocontacts list
        method: 'POST',
        credentials : 'same-origin',
        headers: {//'Accept': 'application/json',                                                     //Django needs these headers
            'X-CSRFToken': getCookie(&quot;csrftoken&quot;),
            'Content-type': 'application/json' ,                                                   //Indicates that the request body format is JSON.
            'X-Requested-With': 'XMLHttpRequest'
             },
        })
    .then(response =&gt; response.json())
                                                                                                   //get the promise and when data comes back, take the response and convert and return as JSON
    .then(result =&gt; {
        console.log(result);
        mappointsobject = JSON.parse(result)                 //convert from JSON to javascript object - also see next line
        console.log('the objects the towns',mappointsobject)   //  this is all the objects and all the data from the radio contacts table

    })  //end of fetch brackets

    console.log('townlisttestoutsideoffetch',mappointsobject)
    return mappointsobject;
}
</code></pre>
<p>I've tried global variables, I've tried .map() (totally lost with this but gave it a crack), I've tried passing strings and numbers back and they passed back to the main function fine, It doesn't like the array or there is a timing conflict. I have also tried using 'await' at various points in the main function and this function but cant seem to rationalize it.</p>
<p>Looking for guidance, I'm still learning and have a lot to learn, thankyou</p>
","2024-09-16 03:43:54","0","Question"
"78987340","78987304","","<p>Global variables can't be defined inside a function in C++. They can technically be declared inside a function in a non-definition, but I highly doubt that this is what you want. It is a feature that exists for historical reasons and is not really used in practice.</p>
<p>C++ has lexical scoping, so constructs like <code>global</code> in Python, which has dynamic scoping, that allows introducing a global variable inside a function, can't work in C++.</p>
<p>Whatever you are trying to do is probably not dependent on being able to do this though. Unfortunately you didn't provide sufficient context to give a solution.</p>
<p>Also, as a general guideline, always try to avoid global variables in C++, except when they are constants that can be marked <code>constexpr</code>.</p>
","2024-09-15 12:10:57","0","Answer"
"78987304","","Declaring Global variable inside of a function in C++","<p>I have a function inside a class. I want to declare about 10 global variables of different types: vector, queue, int, 2d-vector etc., How do I do this?</p>
<p>Also I just cant declare the variables outside of the function, I want the variables to be declared inside the function.</p>
","2024-09-15 11:53:26","-3","Question"
"78987227","78986982","","<p>First of all, these are <em>explicit specialization declarations</em>, not <em>explicit instantiation definitions</em>. Explicit specialization declarations begin with <code>template&lt;&gt;</code>, while explicit instantiation declarations begin with <code>template</code> or <code>extern template</code>, neither followed by <code>&lt;</code>.</p>
<p>For the <em>explicit specialization declarations</em> there must be corresponding <em>explicit specialization definitions</em> somewhere in a source file.</p>
<p>You can find all uses of the specialization either via tools of your IDE (ideally it should be able to show you all references to a specific specialization of the function template.)</p>
<p>Alternatively you can mark the explicit specializations with <code>[[deprecated]]</code> which should cause the compiler to emit a warning when they are referred to:</p>
<pre><code>template &lt;&gt; [[deprecated]] RNNullableTyped&lt;int         &gt; Get(const json::json &amp;json);
</code></pre>
<p>Alternatively you can mark the explicit specialization declaration as <code>inline</code> in the header file, but then comment out the explicit specialization definition in the source file. Then, hopefully, the compiler should warn when the explicit specialization is odr-used because its definition is not available although it is marked <code>inline</code>:</p>
<pre><code>template &lt;&gt; inline RNNullableTyped&lt;int         &gt; Get(const json::json &amp;json);
</code></pre>
<p>Another possibility would be to define the explicit specilizations as deleted:</p>
<pre><code>template &lt;&gt; RNNullableTyped&lt;int         &gt; Get(const json::json &amp;json) = delete;
</code></pre>
<p>Then the compiler will fail to compile any use of the specialization.</p>
","2024-09-15 11:06:24","3","Answer"
"78986982","","explicit template function instantiation - Howto find the codepoints where it's been used?","<p>I like to know how I can find the codepoints where an explicit instantiated template function is been used.</p>
<pre><code>template &lt;typename T&gt; RNNullableTyped&lt;T&gt; Get(const json::json &amp;json);
template &lt;&gt; RNNullableTyped&lt;int         &gt; Get(const json::json &amp;json);
template &lt;&gt; RNNullableTyped&lt;double      &gt; Get(const json::json &amp;json);
template &lt;&gt; RNNullableTyped&lt;std::string &gt; Get(const json::json &amp;json);
template &lt;&gt; RNNullableTyped&lt;std::wstring&gt; Get(const json::json &amp;json);

</code></pre>
<pre><code>std::string AsString(const json::json &amp;elem)
{
  return Get&lt; std::string &gt;(elem).Get();
}
</code></pre>
<p>Now I like to find codepoints like the above, but I cannot easily search for it. If I comment it out, I just get an unresolved external linker error. Annotate it as deprecated seems not to be supported for template functions.</p>
<p>So, to solve that <em>issue</em> a colleague of mine is going to replace those temple function with explicit once like <code>GetInt</code>, <code>GetDouble</code>, <code>GetStdString</code>, <code>GetStdWstring</code> ... and so forth, which I do not like very much....</p>
<p>What I hope for is that someone can show me a way how to find the points in code where a explicit instantiated template function is been used.</p>
<p>I should add, that we use the Microsoft Visual C++ compiler.</p>
<p>Regards,
Ronald.</p>
","2024-09-15 09:06:45","2","Question"
"78986848","78986455","","<p>Understanding Recursion with and without Static Variables</p>
<p>Recursion works like a stack, where each recursive call creates a new stack frame. In this explanation, we'll look at two approaches to understanding recursion—one using a static variable and one without.</p>
<p>Approach 1: Without Static Variables</p>
<p>Consider the following recursive method that calculates the sum of integers from a down to 1:</p>
<pre><code>public int doSum(int a) {
    if (a == 1) {
        return 1;
    }
    int result = a + doSum(a - 1);
    return result;
}
</code></pre>
<p>Let's trace the execution with a = 3:</p>
<ol>
<li>Initial Call: doSum(3)</li>
</ol>
<p>result = 3 + doSum(2)</p>
<ol start=""2"">
<li>Recursive Call: doSum(2)</li>
</ol>
<p>result = 2 + doSum(1)</p>
<ol start=""3"">
<li>Base Case: doSum(1)</li>
</ol>
<p>Returns 1</p>
<ol start=""4"">
<li>Back to doSum(2)</li>
</ol>
<p>result = 2 + 1</p>
<p>Returns 3</p>
<ol start=""5"">
<li>Back to doSum(3)</li>
</ol>
<p>result = 3 + 3</p>
<p>Returns 6</p>
<p>The key idea here is that each recursive call returns a value that is used in the previous call. Each function call has its own separate instance of local variables (result in this case).</p>
<p>Approach 2: With Static Variables</p>
<p>In this approach, we'll use a static variable to accumulate the sum:</p>
<p>static int b = 0;</p>
<pre><code>public void accumulateSum(int a) {
    if (a == 0) {
        return;
    }
    b = b + a;
    accumulateSum(a - 1);
}
</code></pre>
<p>Tracing the execution with a = 2:</p>
<ol>
<li>Initial Call: accumulateSum(2)</li>
</ol>
<p>b = 0 + 2</p>
<p>Recursive Call: accumulateSum(1)</p>
<ol start=""2"">
<li>Recursive Call: accumulateSum(1)</li>
</ol>
<p>b = 2 + 1</p>
<p>Recursive Call: accumulateSum(0)</p>
<ol start=""3"">
<li>Base Case: accumulateSum(0)</li>
</ol>
<p>Returns (No change to b)</p>
<p>After execution, b will hold the accumulated sum of 2 + 1, which is 3.</p>
<p>Key Differences</p>
<p>Non-static Variables: Each recursive call has its own separate instance of the local variables. Values must be returned and passed through the recursion chain.</p>
<p>Static Variables: The variable is shared across all recursive calls. Its value is updated globally, so it retains changes across different calls.</p>
<p>Understanding both approaches is crucial. Non-static recursion relies on passing and returning values, while static recursion directly modifies a shared state.</p>
","2024-09-15 07:43:12","0","Answer"
"78986488","78986455","","<blockquote>
<p>seemed like a perfect situation for a recursive function (something I struggling to understand)</p>
</blockquote>
<p>You want to compute the sum of all integers up to <code>n</code>.</p>
<ul>
<li><p>If <code>n == 0</code>, then the sum is obviously <code>0</code></p>
</li>
<li><p>Otherwise:</p>
<pre><code>(0 + 1 + ... + n) = (0 + 1 + ... + (n - 1)) + n

 sumOfIntsUpTo(n) =   sumOfIntsUpTo(n - 1)  + n
</code></pre>
</li>
</ul>
<p>As a recursive function:</p>
<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;

int sumIntsUpTo(int a) {
  return (a &lt;= 0) ? 0 : (sumIntsUpTo(a - 1) + a);
}
int main() {
  printf(&quot;%d&quot;, sumIntsUpTo(10));
}

</code></pre>
<p>There is of course a well known <a href=""https://de.wikipedia.org/wiki/Gau%C3%9Fsche_Summenformel"" rel=""nofollow noreferrer"">explicit formula</a> for that.</p>
<p>I don't know where you got the idea of using <code>static</code> inside of recursive functions, but I'd suggest to discard this source (delete the link / burn the book / don't talk to the weird person who suggested that). When you're trying to write down a recursive definition, the absolutely last thing that you want to deal with is some global mutable state accessed by each invocation of this function (unless you're generating <a href=""https://www.cl.cam.ac.uk/%7Eamp12/papers/nomlfo/nomlfo-draft.pdf"" rel=""nofollow noreferrer""><em>names</em></a>... and a couple of other <em>valid</em> use cases that you shouldn't worry about for now).</p>
","2024-09-15 02:07:55","4","Answer"
"78986455","","Recursion - Not Returning Values as Expected","<p>I'm currently writing a program to return all additions to a number subtracted from itself (For example, if 3 were the number, the output should be 6 (3+2+1).  Essentially, I'm trying to have the function return the permutation of a number, but with addition, instead of mulitplication.  This seemed like a perfect situation for a recursive function (something I struggling to understand).  In my function, I would expect that the return value is not relevant (during the while loop) as the information is directly contained in the variables (specifically, static b).  Yet, when I change the while loop in my function, to anything other than b, the wrong value gets returned from the function, into main() - it's always 0.  What's even more confusing is that when I do a printf of b, right before the return of the (second - outside of while loop) b return value, my function prints the correct value (regardless of the return value above).  Why must my function return b in the while loop (first return function) for the function to return the correct value, which is 55 (10+9+8+7+6+5+4+3+2+1+0)?</p>
<p>As the code is below, it works correctly.</p>
<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
    
int sumyears(int a)
{
    static int b=0;
    while(a&gt;0)
    {
        b+=a;
        sumyears(a-1);
        return b;  //Program works correctly when I return b, but not when I return any other value, including a
    }
    printf(&quot;%d&quot;, b); //Program will always print correct value, but return different values based upon the return value in the while loop
    return b;
}
    
int main()
{
    printf(&quot;%d&quot;, sumyears(10));
}
</code></pre>
","2024-09-15 01:32:05","2","Question"
"78986025","78986000","","<p>You should use dynamic property access instead, like <code>e[param]</code> instead of <code>e.param</code>:</p>
<pre class=""lang-js prettyprint-override""><code>function reusableLookup(search4, objName, param1, param2) {
    let parameterDesc = objName.find((e) =&gt; e[param1].includes(search4));
    if (typeof parameterDesc !== &quot;undefined&quot;) {
        return parameterDesc[param2][0];
    } else {
        return &quot;&amp;#216;&quot;;
    }
}
</code></pre>
<p><strong>Usage:</strong></p>
<p>Obviously the variable name <code>locations</code> is not defined here, you should pass the parameters as strings like <code>'locations'</code>.</p>
<pre class=""lang-js prettyprint-override""><code>console.log(&quot;Note: &quot; + reusableLookup('s4f4',noteLocations, 'locations', 'note'));
</code></pre>
<p><strong>Output:</strong></p>
<pre class=""lang-js prettyprint-override""><code>Note: F#3
</code></pre>
<p><strong>The full code snippet:</strong></p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""true"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code snippet-currently-hidden"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const noteLocations = [
    { note: [""D3"", ""C##3""], locations: [""s6f10"", ""s5f5"", ""s4f0""]} ,
    { note: [""D#3"", ""Eb3""], locations: [""s6f11"", ""s5f6"", ""s4f1""]} ,
    { note: [""E3"", ""Fb3""], locations: [""s6f12"", ""s5f7"", ""s4f2""]} ,
    { note: [""F3"", ""E#3""], locations: [""s6f13"", ""s5f8"", ""s4f3""]} ,
    { note: [""F#3"", ""Gb3""], locations: [""s6f14"", ""s5f9"", ""s4f4""]} ,
    { note: [""G3"", ""F##3""], locations: [""s6f15"", ""s5f10"", ""s4f5"", ""s3f0""]} ,
];

function getNoteById(location) {
    let foundLocations = noteLocations.find((e) =&gt; e.locations.includes(location));
    if (typeof foundLocations !== ""undefined"") {
        return foundLocations.note[0];
    } else {
        return ""&amp;#216;"";
    }
}
console.log(""Note: "" + getNoteById('s4f4'));


function reusableLookup(search4, objName, param1, param2) {
    let parameterDesc = objName.find((e) =&gt; e[param1].includes(search4));
    if (typeof parameterDesc !== ""undefined"") {
        return parameterDesc[param2][0];
    } else {
        return ""&amp;#216;"";
    }
}
console.log(""Note: "" + reusableLookup('s4f4',noteLocations, 'locations', 'note'));</code></pre>
</div>
</div>
</p>
","2024-09-14 19:48:05","1","Answer"
"78986000","","JavaScript Pass Object Parameters to Reusable Function","<p>I have a function that I use frequently to lookup parameter values in objects...</p>
<pre><code>let paramDesc = objName.find((e) =&gt; e.param1.includes(searchVal));
return paramDesc.param2;
</code></pre>
<p>that I would like to turn into reusable code. Here's a working example where I hard-code the object and parameters, followed by my crude attempt to make it resusable:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const noteLocations = [
  { note: [""D3"", ""C##3""], locations: [""s6f10"", ""s5f5"", ""s4f0""]} ,
  { note: [""D#3"", ""Eb3""], locations: [""s6f11"", ""s5f6"", ""s4f1""]} ,
  { note: [""E3"", ""Fb3""], locations: [""s6f12"", ""s5f7"", ""s4f2""]} ,
  { note: [""F3"", ""E#3""], locations: [""s6f13"", ""s5f8"", ""s4f3""]} ,
  { note: [""F#3"", ""Gb3""], locations: [""s6f14"", ""s5f9"", ""s4f4""]} ,
  { note: [""G3"", ""F##3""], locations: [""s6f15"", ""s5f10"", ""s4f5"", ""s3f0""]} ,
];

function getNoteById(location) {
  let foundLocations = noteLocations.find((e) =&gt; e.locations.includes(location));
  if (typeof foundLocations !== ""undefined"") {
    return foundLocations.note[0];
  } else {
    return ""&amp;#216;"";
  }
}
console.log(""Note: "" + getNoteById('s4f4'));


function reusableLookup(search4, objName, param1, param2) {
  let parameterDesc = objName.find((e) =&gt; e.param1.includes(search4));
  if (typeof parameterDesc !== ""undefined"") {
    return parameterDesc.param2[0];
  } else {
    return ""&amp;#216;"";
  }
}
console.log(""Note: "" + reusableLookup('s4f4',noteLocations, locations, note));
console.log(""Note: "" + reusableLookup('s4f4',noteLocations, noteLocations.locations, noteLocations.note));</code></pre>
</div>
</div>
</p>
<p>Obviously, I'm not very clear on the concept, so that's what I'm trying to learn. There are plenty of similar questions on here, but I didn't see one that addressed it in a way that I could relate directly to provide the answer.</p>
","2024-09-14 19:36:35","0","Question"
"78983691","78979600","","<p>A more direct way would be to use the function <code>reformulate</code>. It turns a character vector directly into formula.</p>
<pre><code>analysis &lt;- &quot;a&quot;
demo &lt;- &quot;b&quot;
countsfunc &lt;- function(analvar, demovar){
  svyby(reformulate(analvar),
        by = reformulate(c(&quot;year&quot;, demovar)),
        design = df.design,
        FUN = svytotal)
}

countsfunc(analysis, demo)

            year      b acat adog  se.acat  se.adog
2022.blue   2022   blue  151  192 15.76222 18.53320
2023.blue   2023   blue  210  200 19.90719 18.82430
2022.yellow 2022 yellow  174  216 17.60778 19.53780
2023.yellow 2023 yellow  184  193 18.56040 19.54823
</code></pre>
","2024-09-13 20:38:07","0","Answer"
"78983618","78982873","","<p>Check 2 and 3 are failing because you're providing <code>first</code> a function with zero parameters, when it is expecting a function with one. Change <code>TY_CHAINED</code>'s signature:</p>
<pre class=""lang-java prettyprint-override""><code>public static &lt;A, B&gt; TY_CHAINED(Supplier&lt;A&gt; first, Function&lt;A, B&gt; second) {
  A firstResult = first.get();
  if (firstReslt == null) return null;
  return second.apply(firstResult);
}
</code></pre>
<p>A <code>Function&lt;Void, A&gt;</code> is not actually a function that takes zero arguments, but is instead a function that takes one argument <strong>that must be <code>null</code></strong> (since <code>null</code> is the only valid value for the <code>Void</code> type).</p>
<p>Otherwise, I agree with talex, <code>Optional.map()</code> is best for null-chaining</p>
","2024-09-13 20:11:31","0","Answer"
"78983038","78968522","","<p>I believe that in order to make this work you have to update your manifest to use a shared runtime, so that both commands in ribbon and taskpane are able to share code/context?</p>
<p><a href=""https://learn.microsoft.com/en-us/office/dev/add-ins/develop/configure-your-add-in-to-use-a-shared-runtime"" rel=""nofollow noreferrer"">https://learn.microsoft.com/en-us/office/dev/add-ins/develop/configure-your-add-in-to-use-a-shared-runtime</a></p>
<p>Add a new &quot;requirements&quot; section to your manifest, after hosts, like so:</p>
<pre><code>&lt;Hosts&gt;
...
&lt;/Hosts&gt;
&lt;Requirements&gt;
  &lt;Sets DefaultMinVersion=&quot;1.1&quot;&gt;
    &lt;Set Name=&quot;SharedRuntime&quot; MinVersion=&quot;1.1&quot;/&gt;
  &lt;/Sets&gt;
&lt;/Requirements&gt;
</code></pre>
","2024-09-13 16:41:16","0","Answer"
"78982959","78982873","","<p>You can use existing libraries like <a href=""https://vavr.io/"" rel=""nofollow noreferrer"">vavr</a>.</p>
<p>If you willing to invent your own wheel you can at least get some inspiration from them.</p>
<p>You specific case is simple enough it can be solved without third party library. Just <a href=""https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html"" rel=""nofollow noreferrer""><code>Optional</code></a> from standard JDK.</p>
<pre><code>Optional.ofNullable(game)
  .map(x-&gt;x.getPlayer())
  .map(x-&gt;x.getState())
  .map(x-&gt;x.getPositionInfo())
  .map(x-&gt;x.getCurrent())
  .map(x-&gt;x.getX())
  .orElse(null);
</code></pre>
","2024-09-13 16:18:01","3","Answer"
"78982873","","Java - Null safety through generic function execution","<p>When dealing with nested Objects in Java -
Something like:</p>
<pre><code>// bad code
game.getPlayer().getState().getPositionInfo().getCurrent().getX();
</code></pre>
<p>, it is not clear if a nested reference would return null resulting in a NullPointerException to be thrown.</p>
<p>My idea was to have one generic method which calls reference path down while checking for a null reference,
and instead of throwing the Exception, just return null.</p>
<p>Error handling is out of scope for this solution.</p>
<p>My minimum code example looks like this:</p>
<pre><code>import java.util.function.Function;

public class Main {

    public static void main(String[] args) {
        // Check 1: baseline - &quot;normal&quot; function mappings
        SAVE.TY_Baseline(b -&gt; b.contains(&quot;a&quot;), &quot;aoiudssaiud&quot;); // works

        // Check 2: nested types
        Team t = new Team(new Team(null));
        Team t1 = SAVE.TY_Chained(() -&gt; t.getTeam(), z -&gt; z.getTeam()); // does not compile

        // Check 3: String -&gt; boolean -&gt; String
        String g = &quot;Hi !&quot;;
        // does not compile
        Team t2 = SAVE.TY_Chained(() -&gt; g.contains(&quot;Hi&quot;), b -&gt; b ? &quot;contained&quot; : &quot;not contained&quot;); 
    }

    public static class Team {
        private Team t = null;
        public Team(Team t) {
            this.t = t;
        }
        public Team getTeam() {
            return t;
        }
    }

    public static interface SAVE {
        public static &lt;A, B&gt; B TY_Chained(Function&lt;Void, A&gt; first , Function&lt;A, B&gt; second) {
            A firstResult = first.apply(null);
            if (firstResult == null)
                return null;
            return second.apply(firstResult);
        }
        public static &lt;A,B&gt; B TY_Baseline(Function&lt;A,B&gt; oo, A in) {
            return oo.apply(in);
        }
    }
}

</code></pre>
<p>For check 1:
Everything turns out good, the function executes and the compiler recognizes the input as String and also accepts the function.</p>
<p>For check 2 and 3:
When chaining the functions, the compiler does not know which parameter type function &quot;second&quot; has and will not accept this method call.
Getting:</p>
<pre><code>java: incompatible types: incompatible parameter types in lambda expression
</code></pre>
<p>Using OpenJDK V22 right now.</p>
","2024-09-13 15:49:10","-1","Question"
"78981929","78981720","","<p>When you simply write the function name like <code>linkTap</code> you're only referring to it - or in other words, you're not invoking the function.</p>
<p>That's what happening here:</p>
<pre class=""lang-dart prettyprint-override""><code>if (linkTap != null) {
  print('function call1'); 
  linkTap; // &lt;- This is simply a reference, not calling
} 
</code></pre>
<hr />
<h2>How do I fix it?</h2>
<p>To invoke a function, you should do <code>functionName()</code>. Generally speaking, you can should be able to do <code>linkTap()</code> to call your function. But, since, your <code>linkTap</code> callback is nullable, this wouldn't work as Dart will show an error.</p>
<p>So the correct solution will be:</p>
<pre class=""lang-dart prettyprint-override""><code>if (linkTap != null) {
  print('function call1'); // it is call here 
  linkTap!();
} 
</code></pre>
<p>Or</p>
<pre class=""lang-dart prettyprint-override""><code>linkTap?.call();
</code></pre>
<p>Just like <a href=""https://stackoverflow.com/users/2252830/pskink"">pskink</a> commented.</p>
<p>Hope this help you get a better understanding!</p>
","2024-09-13 11:22:03","2","Answer"
"78981720","","callback function not call in flutter","<p>I have a widget with callback function, but callback function is not called.</p>
<p>My code is as follow:</p>
<pre class=""lang-dart prettyprint-override""><code>DetailsRow(
  title: &quot;APP&quot;,
  value: 'MYTEXT',
  link: '',
  linkTap: () {
    print(&quot;needs to here&quot;); // this is not getting call
  }
),
</code></pre>
<p><strong>DetailRow Widget:</strong></p>
<pre class=""lang-dart prettyprint-override""><code>class DetailsRow extends StatelessWidget {
  const DetailsRow({
    super.key,
    required this.title,
    this.value,
    this.link,
    this.linkTap
  });

  final String title;
  final String? value;
  final String? link;
  final VoidCallback? linkTap;

  void onlinkTap() async {
    if (linkTap != null) {
      print('function call1'); // it is call here 
      linkTap;
    } else {
       final Uri url = Uri.parse(link!);
      await openWebBrowser(url);
    }
  }

  Widget build(BuildContext context) {
    return InkWell(
      onTap: onlinkTap,
      child: Text(
        value!,
      ),
    );
  }
}
</code></pre>
<p>I try with gestureDetector widget as well.</p>
","2024-09-13 10:21:06","0","Question"
"78979631","78979600","","<p>You were almost there. You need to make sure to use the <code>as.formula()</code> in the outcome variable as well:</p>
<pre class=""lang-r prettyprint-override""><code>analysis &lt;- &quot;a&quot;
demo &lt;- &quot;b&quot;
countsfunc2 &lt;- function(analvar, demovar){
  byfm = as.formula(paste(&quot;~year +&quot;, demovar))
  svyby(
    as.formula(paste(&quot;~&quot;, analvar)),
    by = byfm,
    design = df.design,
    FUN = svytotal)
}

(counts_try2 &lt;- countsfunc2(analysis, demo))

            year      b acat adog  se.acat  se.adog
2022.blue   2022   blue  197  187 18.12511 17.72979
2023.blue   2023   blue  198  189 19.10919 18.42874
2022.yellow 2022 yellow  164  177 17.24533 17.77602
2023.yellow 2023 yellow  182  157 18.41780 16.32843
</code></pre>
","2024-09-12 19:11:45","1","Answer"
"78979600","","svyby - how to call in different variables for by formula in a function?","<p>I would like to pass an assigned variable to a function that would be used as part of a formula in the svyby function from the survey package. My reason for wanting to do this is I want to get estimates for many different combinations of variables, with the variables being read in from a csv file. Every way I've tried, I get errors.</p>
<p>This is how it goes when I just use the variables directly into svyby (result is what I want):</p>
<pre><code>library(survey)
library(tidyverse)

animals &lt;- c(&quot;cat&quot;, &quot;dog&quot;)
colors &lt;- c(&quot;yellow&quot;, &quot;blue&quot;)

df &lt;- data.frame(wt = rbinom(1000, 3, 0.5),
                 a = sample(animals, 1000, replace=T) %&gt;% as.factor,
                 b = sample(colors, 1000, replace=T) %&gt;% as.factor,
                 year = rep(c(2022, 2023), 500))

df.design &lt;- svydesign(
  ids = ~0,
  weights = ~wt,
  strata = NULL,
  data = df
)

counts &lt;- svyby(~a,
                by = ~year + b,
                design = df.design,
                FUN = svytotal)

counts

            year      b acat adog  se.acat  se.adog
2022.blue   2022   blue  183  188 18.48926 18.08267
2023.blue   2023   blue  182  217 18.14401 20.20691
2022.yellow 2022 yellow  201  163 18.94619 17.39925
2023.yellow 2023 yellow  217  161 19.60345 16.65402
</code></pre>
<p>Now, I'd like to be able to pass the variables &quot;analysis&quot; and &quot;demo&quot; into a function that does the same thing. Trying it simply the way I thought it would work intuitively, I get an error:</p>
<pre><code>analysis &lt;- &quot;a&quot;
demo &lt;- &quot;b&quot;

countsfunc &lt;- function(analvar, demovar){
  svyby(~analvar,
    by = ~year + demovar,
    design = df.design,
    FUN = svytotal)
}

counts_try &lt;- countsfunc(analysis, demo)

Error in model.frame.default(by, model.frame(design), na.action = na.pass) : 
  variable lengths differ (found for 'demovar')
</code></pre>
<p>I've tried a couple different combinations of as.formula, bquote, etc., but to no avail. Here's an example of something else I've tried:</p>
<pre><code>countsfunc2 &lt;- function(analvar, demovar){
  byfm = as.formula(paste(&quot;~year +&quot;, demovar))
  svyby(~analvar,
        by = byfm,
        design = df.design,
        FUN = svytotal)
}

counts_try2 &lt;- countsfunc2(analysis, demo)

Error in `contrasts&lt;-`(`*tmp*`, value = contr.funs[1 + isOF[nn]]) : 
 contrasts can be applied only to factors with 2 or more levels
</code></pre>
<p>Any ideas?</p>
","2024-09-12 19:02:45","3","Question"
"78979021","78978963","","<p>A combination of format() to create the SQL statement and USING for getting the content in that statement, will fix the SQL injection risk:</p>
<pre><code>CREATE OR REPLACE PROCEDURE prc_bsn_condition(p_id INT)
    LANGUAGE plpgsql
AS
$$
DECLARE
    v_out VARCHAR(10);
    v_sql VARCHAR(200);
    v_fn  VARCHAR(20);
BEGIN
    SELECT fn_name
    INTO v_fn
    FROM condition
    WHERE id = p_id;

    v_sql := FORMAT('SELECT * FROM %I($1)', v_fn);

    EXECUTE v_sql 
    INTO v_out 
    USING p_id;
    
    RAISE INFO '%',v_out;
END
$$;
</code></pre>
","2024-09-12 15:57:59","2","Answer"
"78978963","","Execute function from procedure, the name of function stored in table column","<p>Table <code>condition</code>: This table contains function name in the column <code>fn_name</code></p>
<pre><code>create table condition(id int,name varchar(50),fn_name varchar(50));
</code></pre>
<p>Data:</p>
<pre><code>insert into condition values(1,'check id','fn_condition_1');
insert into condition values(2,'check name','fn_condition_2');
insert into condition values(3,'check salary','fn_condition_3');
</code></pre>
<p>Function: <code>fn_condition_1</code></p>
<pre><code>create or replace function fn_condition_1(p_id int)
returns boolean
as 
$$
begin   
    if(select count(1) from emp where id = p_id) &gt; 0 
    then 
        return 'true';
    else
        return 'false';
    end if;
end
$$
language plpgsql;
</code></pre>
<p>Procedure: <code>prc_bsn_condition</code> within this procedure calling function.</p>
<pre><code>create or replace procedure prc_bsn_condition(p_id int)
language plpgsql
as
$$
declare v_out varchar(10);
        v_sql varchar(200);
        v_fn varchar(20);
begin
    select * into v_fn from (select fn_name from condition where id = p_id);
    v_sql := 'SELECT * FROM '||v_fn||'('||p_id||')';
    execute v_sql into v_out;
    raise info '%',v_out;
end
$$;
</code></pre>
<p>Output:</p>
<pre><code>true;
</code></pre>
<p><strong>Note</strong>: The above procedure works fine, but I would like to convert the dynamic sql to the static
due to the fear of sql injections. Or is there any other method to call or execute those functions
which are stored in the table.</p>
","2024-09-12 15:43:08","0","Question"
"78978271","78959429","","<p>See <a href=""https://github.com/microsoft/TypeScript/issues/40287"" rel=""nofollow noreferrer"">microsoft/TypeScript#40287</a> for an authoritative answer.</p>
<p>If you want access to the <a href=""https://www.typescriptlang.org/docs/handbook/2/generics.html"" rel=""nofollow noreferrer"">generic</a> type parameter name in a generic function implementation, you'll need to explicitly declare the generic type parameter and also <a href=""https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#parameter-type-annotations"" rel=""nofollow noreferrer"">annotate the function parameters</a> explicitly:</p>
<pre><code>const callEndpoint: CallEndpointFunction =
    async &lt;ReturnT,&gt;(url: string, init?: RequestInit) =&gt; {
        return JSON.parse(&quot;{}&quot;) as ReturnT
    };
</code></pre>
<p>Note that the names of the type parameter and the function parameters are arbitrary; they are not required to be the same as the names in the <code>CallEndpointFunction</code> type definition. This is the same thing as above:</p>
<pre><code>const callEndpoint: CallEndpointFunction =
    async &lt;X,&gt;(u: string, i?: RequestInit) =&gt; {
        return JSON.parse(&quot;{}&quot;) as X
    };
</code></pre>
<hr />
<p>If you decide not to annotate the <code>url</code> and <code>init</code> function parameters because you want to use <a href=""https://www.typescriptlang.org/docs/handbook/type-inference.html#contextual-typing"" rel=""nofollow noreferrer"">contextual typing</a> to have TypeScript infer their types for you, then you unfortunately cannot still declare the generic type parameter. If you declare the type parameter, then contextual typing just <em>doesn't happen</em>, and the parameter types <a href=""https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#noimplicitany"" rel=""nofollow noreferrer"">implicitly fall back to <code>any</code></a>:</p>
<pre><code>const callEndpoint: CallEndpointFunction =
    async &lt;ReturnT,&gt;(url, init) =&gt; { // error!
        //           ~~~  ~~~~
        // Parameter implicitly has an 'any' type.
        return JSON.parse(&quot;{}&quot;) as ReturnT
    };
</code></pre>
<p>I could imagine someone filing a feature request for that to work with contextual typing, but I doubt it would have much community demand.</p>
<p>On the other hand if you leave off the generic type parameter declaration, contextual typing works, and the function is still generic. But now the type parameter is <em>anonymous</em>; you have no way to refer to it by name, as you've seen:</p>
<pre><code>const callEndpoint: CallEndpointFunction = async (url, init) =&gt; {
    return JSON.parse(&quot;{}&quot;) as ReturnT; // error!
    //                         ~~~~~~~
    // Cannot find name 'ReturnT'.
}
</code></pre>
<p>So you should just explicitly annotate the function call signature if you want to do this.  For your particular example it doesn't really matter because <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"" rel=""nofollow noreferrer""><code>JSON.parse()</code></a> returns <code>any</code> in TypeScript, and <code>any</code> is assignable to the anonymous type parameter:</p>
<pre><code>const callEndpoint7: CallEndpointFunction =
    async (url, init) =&gt; {
        return JSON.parse(&quot;{}&quot;); // okay because any
    }
</code></pre>
<hr />
<p>At this point, you're more or less out of options. The type parameter is only mentioned in the function's return type, so you have no value inside the function implementation whose type can be used to recover the anonymous type parameter.  It's not great for the type parameter to only be referenced once like this; it violates <a href=""https://effectivetypescript.com/2020/08/12/generics-golden-rule/"" rel=""nofollow noreferrer"">the golden rule of generics</a> that type parameters should be mentioned in at least two places, and in this case the function just claims to be able to return a value of some type that has nothing to do with any of the function arguments. Which is impossible to do safely (<code>callEndpoint&lt;string&gt;(&quot;&quot;)</code> and <code>callEndpoint&lt;number&gt;(&quot;&quot;)</code> both compile to <code>callEndpoint(&quot;&quot;)</code>, and presumably the actual function cannot possibly return a <code>string</code> in one case and a <code>number</code> in the other.)</p>
<p>If the function referred to the type parameter multiple times, as in</p>
<pre><code>type SomeOtherFunc = &lt;ReturnT&gt;(
    x: ReturnT[] // &lt;-- reference here
) =&gt; Promise&lt;ReturnT&gt;; // &lt;-- reference here
</code></pre>
<p>then you could use contextual typing and have access to values whose types include the anonymous type parameter:</p>
<pre><code>const func: SomeOtherFunc = async (x) =&gt; {
    const ret = x[0];
    //    ^? const ret: ReturnT (this type is anonymous)
    return ret;
}
</code></pre>
<p>This is the most common way functions with anonymous generic types get implemented, without needing to mention the type explicitly at all (and that's why I doubt the aforementioned feature request would be popular). But, if necessary, you could use the parameter to give a name to the anonymous type parameter:</p>
<pre><code>const func: SomeOtherFunc = async (x) =&gt; {
    type MyReturnT = typeof x[number];
    // type MyReturnT = ReturnT (anonymous)
    return JSON.parse(&quot;{}&quot;) as MyReturnT; // okay
}
</code></pre>
<p>That's a reasonable workaround for your problem, but again, only in golden-rule situations where the type parameter can be recovered from the function parameter types.  Your code violates that rule (which is why, as you said, it's not necessarily a best practice) so your only choice is to manually annotate everything, if you actually need to refer to the generic type parameter name.</p>
<p><a href=""https://www.typescriptlang.org/play/?#code/C4TwDgpgBAwghgGwQUQHYBMwHsCWrgBiArqgMbA5apQC8UAPAEoTBEBOqAKgHwAUAUFCFR2CAFxQAzsDZ4A5gBpBwvDmAB+CcwCORCNICSqNfwCUtblAAKbLAFsckiExbsu3ANz9+pKtKikiCgY2HjAAGwS8EhomLj4xGQUVLTKQnCSIGQMzKwcnAp8ohLSsqiKUKoaWhC6+sBGauY0lgDeacJCbK4cUABSAMoA8gByAHRgcGxOvABErQC+s+YZULlunB0LXt6+qP6BMSHxwACsUUGxoQkk5JTUNB0ZWaQMABqFvEQlMvIKlZo1rU9IZjMBmm0Op1unlqINRhMpjN5ksVpIoG8tjsfH5gAFLscwgAWC5HOJhRJ3FKPTrPbIuWEFIpsBD-KoQqCtKAAem5UAgbFsbAAhFDhLzOpKhAA-WUy2XSsVCCVWKZwOwsAWVOxgBA4UhqBAgKAAC1WcGoAHILSBLVBQJAxkqoDC3P1huNJtMIHNFssoKt1vksbtcfiyddgABmUnBck3JL3WgBzLZL4stlgjntaE9OEexHe32olNAxkeHl8gVC0WdCVShuN4QKlsdCXwVCoLB4gBmeHQUFQ6uglqDXEtToW3hx+zxhzjkYA7LGridKckHk9U6906zKlmLJzna7evDPUifSjlhWJVgANZwY0AIwggSITgDqBAW2ne38AA8o2TedVzCKN6C5MBbDAH4yjkKAFj4WY4AAWlEa9pwdaABnsCAhmAE0BUpZMGQ2PgOn-GpGQAbQAXTMQ8bHsRxnDHHgvD-XtbgkHCNXwwi2GIug6R3f9sw6TiXRYZN-2ogAGWivDrPlhAAPXUAIwxhKiNg6E9qBhLwpxnfwe1uAAmHjcP4ojbmTESoF4MTDxzYQsKgABZEA2OTLCsB7KBZNQIg7BfNhFLbPl3K8ny6B83gLSoEA7Cwd9TD0vN3QRL1kT9NFPO8vNOBvPl70ffhjKAA"" rel=""nofollow noreferrer"">Playground link to code</a></p>
","2024-09-12 12:57:16","0","Answer"
"78977739","78977696","","<p>You call setupIntervalButton() inside setInterval(), but setupIntervalButton() doesn't return the interval value but sets up an event listener on the button, which doesn't immediately provide an interval for setInterval().</p>
<p>Here is a working version, I refactored some code to make it more DRY. You do not actually need a function for the setup. I would put it all in a load event listener</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const intervalLookup = {
  Seconds: 1000,
  Minutes: 60000,
  Hours: 60 * 60 * 1000,
};

const input = document.getElementById('interval-input');
const select = document.getElementById('interval-select');
const button = document.getElementById('interval-button');


// Set up the button event listener and handle interval
const setupIntervalButton = (input, select, button) =&gt; {
  console.log('Setting up event listener');
  console.log('Button element inside setup:', button);

  button.addEventListener('click', () =&gt; {
    const intervalValue = input.value;
    const selectedInterval = select.value;

    if (!intervalValue &amp;&amp; !selectedInterval) {
      alert('Please provide numeric value and select interval type');
      return;
    } else if (!intervalValue) {
      alert('Please provide numeric value for interval');
      return;
    } else if (!selectedInterval) {
      alert('Please select interval type');
      return;
    }

    console.log(`Interval set to ${intervalValue} ${selectedInterval}`);

    // Use the lookup table 
    const intervalMilliseconds = intervalValue * (intervalLookup[selectedInterval] || 1000); // Default to seconds

    console.log('Interval in milliseconds:', intervalMilliseconds);

    // Start the refreshFetch function since we have the interval
    refreshFetch(intervalMilliseconds);
  });
};

const refreshFetch = (intervalMilliseconds) =&gt; {
  setInterval(() =&gt; {
    fetchData();
    console.log('url fetched');
  }, intervalMilliseconds);
};

// Mock fetchData function
const fetchData = () =&gt; {
  console.log('Fetching data from API...');
};


setupIntervalButton(input, select, button);</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;input id=""interval-input"" type=""number"" placeholder=""Enter interval"" /&gt;
&lt;select id=""interval-select""&gt;
  &lt;option value=""Seconds""&gt;Seconds&lt;/option&gt;
  &lt;option value=""Minutes""&gt;Minutes&lt;/option&gt;
  &lt;option value=""Hours""&gt;Hours&lt;/option&gt;
&lt;/select&gt;
&lt;button id=""interval-button""&gt;Set Interval&lt;/button&gt;</code></pre>
</div>
</div>
</p>
","2024-09-12 10:35:22","0","Answer"
"78977696","","Issues with Handling setupIntervalButton() in refreshFetch() Function for Weather Map API","<p>I'm currently working on a weather map API and encountering an issue with my setupIntervalButton() function when trying to use it in the refreshFetch() function. Specifically, I'm having trouble ensuring that the button is properly rendered and the interval is correctly set up before the refreshFetch() function is executed.</p>
<p>Here's the code for setupIntervalButton():</p>
<pre><code>function setupIntervalButton(input,select,button){
    console.log('Setting up event listener'); // Debugging line
    console.log('Button element inside setup:', button); // Debugging line
    
    button.addEventListener('click', () =&gt;{
        const intervalValue = input.value;
        const selectedInterval = select.value

        if (!intervalValue &amp;&amp; !selectedInterval) {
            alert(&quot;Please provide numeric value and select interval type&quot;);
        } else if (!intervalValue) {
            alert(&quot;Please provide numeric value for interval&quot;);
        } else if (!selectedInterval) {
            alert(&quot;Please select interval type&quot;);
        } else{
            console.log(`Interval set to ${intervalValue} ${selectedInterval}`);
            
        }

        if(selectedInterval === &quot;Seconds&quot;){
            console.log(intervalValue)
            return intervalValue * 1000
        }
        else if(selectedInterval === &quot;Minutes&quot;){
            console.log(intervalValue)
            return intervalValue * 60000
        }
        else if(selectedInterval === &quot;Hours&quot;){
            console.log(intervalValue)
            return intervalValue * 60 * 60 * 1000
        }else{
            return intervalValue * 1000
        }

    })
}
</code></pre>
<pre><code>function refreshFetch(){
    window.setInterval(() =&gt;{
        fetchData()
        console.log('url fetched')
    },setupIntervalButton())

}
</code></pre>
<p><strong>Issue:</strong> The main problem is that setupIntervalButton() is not rendering the button before the refreshFetch() function is executed. Consequently, the interval is not being set correctly.</p>
<p>You can see the JS Fiddle code here: <a href=""https://jsfiddle.net/blaze92/u9zs2qy8/"" rel=""nofollow noreferrer"">https://jsfiddle.net/blaze92/u9zs2qy8/</a></p>
<p><a href=""https://i.sstatic.net/fzy5VpM6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/fzy5VpM6.png"" alt=""Dev console Error"" /></a></p>
<p><strong>Questions:</strong></p>
<p>1.How can I ensure that setupIntervalButton() properly sets up the interval before refreshFetch() is executed?</p>
<p>2.Is there a way to make setupIntervalButton() return the interval time so it can be used in refreshFetch()?</p>
","2024-09-12 10:24:56","0","Question"
"78977590","78976787","","<p>In your <code>App.js</code> you are missinig an <code>import</code> for the <code>Chat</code> component,</p>
<pre><code>import './App.css';
import io from &quot;socket.io-client&quot;;
import React, { useEffect, useState } from &quot;react&quot;;
import Chat from './chatcomponentpathhere';


const socket = io.connect(&quot;http://localhost:3001&quot;);

function App() {
  const [username, setUsername] = useState(&quot;&quot;);
  const [room, setRoom] = useState(&quot;&quot;);


  const joinRoom = () =&gt; {
    if (username !== &quot;&quot; &amp;&amp; room !== &quot;&quot;) {
      socket.emit(&quot;join_room&quot;, room);
    }
  };

  return (
    &lt;div className=&quot;App&quot;&gt;
      &lt;h3&gt;Join A Chat&lt;/h3&gt;
      &lt;input type=&quot;text&quot; placeholder=&quot;John...&quot; onChange={(event) =&gt; {setUsername(event.target.value)}} /&gt;
      &lt;input type=&quot;text&quot; placeholder=&quot;Room ID...&quot; onChange={(event) =&gt; {setRoom(event.target.value)}} /&gt;

      &lt;button onClick={joinRoom}&gt;Join A Room&lt;/button&gt;

      &lt;Chat socket={socket} username={username} room={room}&gt;&lt;/Chat&gt;
    &lt;/div&gt;
  );
}
export default App;
</code></pre>
","2024-09-12 10:00:55","0","Answer"
"78976914","78976787","","<p>You forgot to import <code>import Chat from './Chat';</code></p>
","2024-09-12 07:15:36","0","Answer"
"78976787","","React component not recognizing function in another component","<p>I am new to react.js and node.js, and I am trying to make a live chat room. I made a function called Chat in a component called Chat.js, but when I tried to call it in the other component that contained everything else, there was an error that said that the function was not defined.</p>
<p>I tried reordering the way I called things, but I'm not sure what else to try, since I am new to this. I expect the html elements to show up on the page, which they do not currently:</p>
<p>Chat.js</p>
<pre><code>
function Chat({ socket, username, room }) {
    return (
        &lt;div&gt;
            &lt;div className=&quot;chat-header&quot;&gt;
                &lt;p&gt;Live Chat&lt;/p&gt;
            &lt;/div&gt;
            &lt;div className=&quot;chat-body&quot;&gt;&lt;/div&gt;
            &lt;div className=&quot;chat-footer&quot;&gt;
                &lt;input type=&quot;text&quot; placeholder=&quot;Hey...&quot; /&gt;
                &lt;button&gt;&amp;#9658;&lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
}
export default Chat;
</code></pre>
<p>App.js</p>
<pre><code>import './App.css';
import io from &quot;socket.io-client&quot;;
import React, { useEffect, useState } from &quot;react&quot;;

const socket = io.connect(&quot;http://localhost:3001&quot;);

function App() {
  const [username, setUsername] = useState(&quot;&quot;);
  const [room, setRoom] = useState(&quot;&quot;);


  const joinRoom = () =&gt; {
    if (username !== &quot;&quot; &amp;&amp; room !== &quot;&quot;) {
      socket.emit(&quot;join_room&quot;, room);
    }
  };

  return (
    &lt;div className=&quot;App&quot;&gt;
      &lt;h3&gt;Join A Chat&lt;/h3&gt;
      &lt;input type=&quot;text&quot; placeholder=&quot;John...&quot; onChange={(event) =&gt; {setUsername(event.target.value)}} /&gt;
      &lt;input type=&quot;text&quot; placeholder=&quot;Room ID...&quot; onChange={(event) =&gt; {setRoom(event.target.value)}} /&gt;

      &lt;button onClick={joinRoom}&gt;Join A Room&lt;/button&gt;

      &lt;Chat socket={socket} username={username} room={room}&gt;&lt;/Chat&gt;
    &lt;/div&gt;
  );
}
export default App;
</code></pre>
","2024-09-12 06:43:42","0","Question"
"78975522","78971936","","<p>Thank you for the inputs!
After moving the <code>deleteButton.addEventListener('click', deleteTask);</code> inside the <code>addTask</code>
function like what you suggested,</p>
<p>and adding <code>.parentElement</code> to
<code>const newTask = event.target</code> inside the <code>deleteTask</code> function the &quot;Delete&quot; button worked !</p>
","2024-09-11 19:56:37","0","Answer"
"78974209","","Passing multiple callable to odeint","<p>I want to write a python script for the following mechanical system :</p>
<p><a href=""https://i.sstatic.net/kFTu1Nb8.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/kFTu1Nb8.png"" alt=""enter image description here"" /></a></p>
<p>Where</p>
<p><a href=""https://i.sstatic.net/9okEVdKN.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/9okEVdKN.png"" alt=""enter image description here"" /></a></p>
<p>Which can be rewritten as below :</p>
<p><a href=""https://i.sstatic.net/AUkAAe8J.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/AUkAAe8J.png"" alt=""enter image description here"" /></a></p>
<p>For example, we define the following Python function to solve this kind of ODE problem.</p>
<pre><code>def ode_dynamic(t, Y):
    # system parameters
    masse1, masse2, masse3 = 550, 450, 850
    k_raideur1, k_raideur2, k_raideur3, k_raideur4 = 450, 70, 350, 510
    c_amort1, c_amort2, c_amort3, c_amort4 = 10, 20, 40, 5
    
    M = np.diag([masse1, masse2, masse3])
    K = np.array([[k_raideur1 + k_raideur2, -k_raideur2, 0], 
                  [-k_raideur2, k_raideur2 + k_raideur3, -k_raideur3], 
                  [0, -k_raideur3, k_raideur3 + k_raideur4]])
    
    C = np.array([[c_amort1 + c_amort2, -c_amort2, 0], 
                  [-c_amort2, c_amort2 + c_amort3, -c_amort3], 
                  [0, -c_amort3, c_amort3 + c_amort4]])
    
    y1, y2, y3, y4, y5, y6 = Y

    A = -np.matmul(np.linalg.inv(M), K)
    B = -np.matmul(np.linalg.inv(M), C)
    D = np.block([[np.zeros([len(M), len(M)]), np.eye(len(M))],[A, B]])
    
    
    dy1 = y4
    dy2 = y5
    dy3 = y6
    dy4 = D[3, 0]*y1 + D[3, 1]*y2 + D[3,2]*y3 + D[3,3]*y4 + D[3,4]*y5 + D[5,4]*y6 + np.cos(3*t)
    dy5 = D[4, 0]*y1 + D[4, 1]*y2 + D[4,2]*y3 + D[4,3]*y4 + D[4,4]*y5 + D[5,4]*y6
    dy6 = D[5, 0]*y1 + D[5, 1]*y2 + D[5,2]*y3 + D[5,3]*y4 + D[5,4]*y5 + D[5,4]*y6 + np.cos(2*t)  
    
    return np.array([dy1, dy2, dy3, dy4, dy5, dy6])
</code></pre>
<p>The above script works, <em>cf. figure below</em>.</p>
<p><a href=""https://i.sstatic.net/pzSnKs8f.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/pzSnKs8f.png"" alt=""enter image description here"" /></a></p>
<p>But the parameters were given inside the function and the forcing vector is given <code>F = np.array([0, 0, 0, np.cos(3*t), 0, np.cos(2*t)])</code>. Which makes it not reusable.</p>
<p>To make it reusable, I propose the function below.</p>
<pre><code>def ode_dynamic(t, y, M, C, K, F):
    A = -np.matmul(np.linalg.inv(M), K)
    B = -np.matmul(np.linalg.inv(M), C)
    D = np.block([[np.zeros([len(M), len(M)]), np.eye(len(M))],[A, B]])
    
    '''
    Setting the right hand side
    '''
    F_zeros = np.zeros(len(M))
    U = np.block([F_zeros, np.matmul(np.linalg.inv(M), F)])

    # returning
    return np.matmul(D, y) + U
</code></pre>
<p>When I test the script with a vector of numbers on the RHS,
<a href=""https://i.sstatic.net/Wxlj1hdw.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Wxlj1hdw.png"" alt=""enter image description here"" /></a></p>
<p>It works, <em>see the result below</em>.</p>
<p><a href=""https://i.sstatic.net/0ex4mPCY.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/0ex4mPCY.png"" alt=""enter image description here"" /></a></p>
<p>However, when I pass a vector of callable on the RHS it bugs.</p>
<p><a href=""https://i.sstatic.net/7qFAYXeK.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/7qFAYXeK.png"" alt=""enter image description here"" /></a></p>
<p><a href=""https://i.sstatic.net/iU4Mprj8.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/iU4Mprj8.png"" alt=""enter image description here"" /></a></p>
<p>Even when I tried to reshape the <code>u</code>, it didn't improve the result. I tried to add <code>*callable_args</code> to <code>ode_dynamic</code> as parameters of a tuple of callable, it didn't work either.</p>
<p>I am wondering is there a way to pass multiple callable to <code>odeint</code> ?</p>
","2024-09-11 13:59:09","0","Question"
"78972015","78971936","","<p>Your post does not make this clear, but it appears that you are creating a new delete button for each task, so each task gets its own button. That’s totally fine. But in that case, your code for adding the event listener is not right. Firstly, it only looks for the <em>first</em> element on the page with the class <code>delete-button</code>; that’s how <code>querySelector()</code> works. Secondly, you’re performing this attachment as the script runs, which is before at least some of the buttons will be created.</p>
<p>The simplest solution would be to add an event listener to each button <em>immediately after creating it</em>, inside your addTask() function.</p>
<p>A more efficient alternative would be to add a single event listener to your <code>taskList</code> element, which catches any clicks on that element and any of its decendants via <a href=""https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Event_bubbling"" rel=""nofollow noreferrer"">event bubbling</a>. This listener can inspect the <code>event.target</code> property to determine if the element which the user clicked is a delete button, and if so, determine which task that button belongs to, and then delete that task.</p>
","2024-09-11 03:58:36","0","Answer"
"78971942","78971936","","<p>Adding the event at the end of your code, you are trying to add an event to an element that does not exist yet. You must add the event for <code>delButton</code> after create it, inside the <code>addTask</code> function.</p>
<pre class=""lang-js prettyprint-override""><code>const deleteButton = document.createElement('button');
// Binding and adding other things to the button...
deleteButton.addEventListener('click', deleteTask);
</code></pre>
","2024-09-11 03:23:51","1","Answer"
"78971936","","deleteTask function for Todo app is not working","<p>I'm building a todo app using js,  and I've been trying to figure out the logic behind why my deleteTask function is not working. This is my first time building a todo app (started learning web dev this March), and after searching for similar issues online I decided to ask here.</p>
<p>Here's my code so far. // function to delete a task is where the trouble is, could be I'm missing a step.
I tried to apply a function like this</p>
<pre><code>deleteButton.addEventListener('click', function(){

  taskList.removeChild(newTask);

}) 
</code></pre>
<p>after seeing a video on Youtube where a developer was explaining how to built a todo app  and this way worked for me ! But I want to figure out why my code is not running instead of using a solution that's worked for someone else.</p>
<p>Below is my JS code</p>
<pre><code>//selecting html elements 

const taskForm = document.getElementById(&quot;taskForm&quot;);
const taskInput= document.getElementById(&quot;taskInput&quot;);
const taskList = document.getElementById(&quot;taskList&quot;);


//  function to add a new task 
function addTask(event){
   event.preventDefault()
   
   
   
// new html element &lt;li&gt; to list our tasks 
   const newTask = document.createElement('li');
   taskList.append(newTask);
   newTask.innerHTML = taskInput.value;

   taskInput.value = ' ';




 // creating a delete button element  
  const deleteButton = document.createElement('button');
  newTask.append(deleteButton);

  deleteButton.setAttribute('class', 'delete-button');

  deleteButton.innerHTML = &quot;Delete&quot;;
}


// function to delete a task

function deleteTask(event){
   const newTask = event.target;
   taskList.removeChild(newTask);           
}




// when button &quot;add task&quot; is clicked new task is added 
const button = document.querySelector('.button');
button.addEventListener('click', addTask );


//when button &quot;delete&quot; is clicked a task is removed 
const delButton = document.querySelector('.delete-button');
delButton.addEventListener('click', deleteTask );
</code></pre>
","2024-09-11 03:17:47","0","Question"
"78971761","78971733","","<p>Ok let's build an example. this is for the <code>select</code> part:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function sortBy(prop) {
  if (!prop) {
    return;
  }
  alert(prop)

}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;select onchange=""sortBy(this.value)""&gt;
  &lt;option&gt;Sort By&lt;/option&gt;
  &lt;option value=""name""&gt;Name&lt;/option&gt;
  &lt;option value=""year""&gt;Year&lt;/option&gt;
&lt;/select&gt;</code></pre>
</div>
</div>
</p>
<p>For the sorting you can use function from <a href=""https://stackoverflow.com/a/73613340/3807365"">this answer</a>.</p>
<p>Let's combine:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function sortBy(prop) {
  if (!prop) {
    return;
  }
  renderList(list.sort(getSortMethod(prop)))
}


function renderList(list) {
  console.log(list)

}

let list = [{
    name: 'Mark',
    year: 2021,
  },
  {
    name: 'Anne',
    year: 2020,
  },
  {
    name: 'James',
    year: 1988,
  },
]


function getSortMethod() {
  var _args = Array.prototype.slice.call(arguments);
  return function(a, b) {
    for (var x in _args) {
      var ax = a[_args[x].substring(1)];
      var bx = b[_args[x].substring(1)];
      var cx;

      ax = typeof ax == ""string"" ? ax.toLowerCase() : ax / 1;
      bx = typeof bx == ""string"" ? bx.toLowerCase() : bx / 1;

      if (_args[x].substring(0, 1) == ""-"") {
        cx = ax;
        ax = bx;
        bx = cx;
      }
      if (ax != bx) {
        return ax &lt; bx ? -1 : 1;
      }
    }
  }
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;select onchange=""sortBy(this.value)""&gt;
  &lt;option&gt;Sort By&lt;/option&gt;
  &lt;option value=""+name""&gt;Name (asc)&lt;/option&gt;
  &lt;option value=""-name""&gt;Name (desc)&lt;/option&gt;
  &lt;option value=""+year""&gt;Year (asc)&lt;/option&gt;
  &lt;option value=""-year""&gt;Year (desc)&lt;/option&gt;
&lt;/select&gt;</code></pre>
</div>
</div>
</p>
","2024-09-11 01:25:10","0","Answer"
"78971733","","How to sort an API response using a dropdown?","<p>`Building a movie search site for a project using OMDb API. Everything populates as expected but i can't seem to figure out how to Sort them by name from my drop down. Any help would be appreciated.  I've tried a few different variations of sorting to get it to work and none have. I'm sure its just something stupid i'm doing but would love a bit of guidance. Thanks</p>
<h3>HTML</h3>
<pre><code> &lt;select name=&quot;&quot; id=&quot;filter&quot;&gt;
      &lt;option value=&quot;&quot; disabled selected&gt;Sort&lt;/option&gt;
      &lt;option value=&quot;Alphabetical&quot; 
          onclick=&quot;orderListBy(post.Title).toSorted&quot;&gt;A-Z&lt;/option&gt;
&lt;/select&gt;

&lt;div class=&quot;post-list&quot;&gt;
    &lt;div class=&quot;post&quot;&gt;
        &lt;div class=&quot;post__title&quot;&gt;
          
        &lt;/div&gt;
        &lt;p class=&quot;post__body&quot;&gt;
          
        &lt;/p&gt;
        &lt;figure class=&quot;post__img&quot;&gt;
          
        &lt;/figure&gt;
     &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h3>Javascript</h3>
<pre><code>const postListEl = document.querySelector('.post-list')
const Title = localStorage.getItem(&quot;Title&quot;)


async function onSearchChange(event) {
    const Title = event.target.value
    setTimeout(() =&gt;{
   renderPosts(Title)}, 1000)
}

async function renderPosts(Title) {
    const posts = await fetch(
      `https://www.omdbapi.com/?apikey=67b7f307&amp;s=${Title}`
    );
    const postsData = await posts.json();
    postListEl.innerHTML = postsData.Search.map((post) =&gt; postHTML(post)).join(
      &quot;&quot;
    );
  }
  
  function postHTML(post) {
    return `
          &lt;div class=&quot;post&quot;&gt;
          &lt;div class=&quot;post__title&quot;&gt;
            ${post.Title}
          &lt;/div&gt;
          &lt;p class=&quot;post__body&quot;&gt;
            ${post.Year}
          &lt;/p&gt;
          &lt;figure class=&quot;post__img&quot;&gt;&lt;img src=&quot;${post.Poster}&quot;&lt;/figure&gt;
        &lt;/div&gt;
    `;
  }

function orderListBy(event) {
  return function (a, b) {
      if (a[post.Title] &gt; b[post.Title]) {
          return 1;
      }
      else if (a[post.Title] &lt; b[post.Title]) {
          return -1;
      }
      return 0;
  }
}
</code></pre>
","2024-09-11 01:03:17","0","Question"
"78971187","78970904","","<p>First of all, we do not need to clutter the environment with all those vectors. Instead, we can define them via <code>=</code> inside <code>data.frame</code> like</p>
<pre class=""lang-r prettyprint-override""><code>super_sleepers = data.frame(rating=seq(4), animal=c('koala', 'hedgehog', 'sloth', 'panda'), 
                            country=c('Australia', 'Italy', 'Peru', 'China'), 
                            avg_sleep_hours=c(21, 18, 17, 10), size=c(221, 418, 417, 410))
no_sleepers = data.frame(rating=seq(4), animal= c('bear', 'moose', 'alpaca', 'snake'), 
                         country=c('USA', 'Mongolia', 'Argentina', 'Japan'), 
                         avg_sleep_hours=c(1, 8, 7, 1), size=c(261, 558, 227, 2))
l = list(super_sleepers, no_sleepers)
</code></pre>
<p>Secondly, <code>myFunc()</code> in it's most simplified form can be re-written as</p>
<pre class=""lang-r prettyprint-override""><code>library(ggplot2)
myFunc = \(df) ggplot(df, aes(x=size, y=avg_sleep_hours)) + geom_point()
</code></pre>
<p>However, I recommend against this. It does not make much sense to hard-code the xy-variables inside the function. Passing them as arguments is much preferred.</p>
<p>Notice that <code>\(x)</code> is conveniece for <code>\function(x)</code>; we do not need <code>{...}</code> if it's one line; assigning and <code>return</code>ing is also not necessary inside such short functions.</p>
<p>For instance, we can do</p>
<pre class=""lang-r prettyprint-override""><code>library(ggplot2)
library(rlang)
myFunc2 = \(df, x, y) ggplot(df, aes(x={{x}}, y={{y}})) + geom_point()
</code></pre>
<p>instead. <a href=""https://rlang.r-lib.org/reference/glue-operators.html"" rel=""nofollow noreferrer"">Here</a> is the <em>name injection</em> explained. Finally, we can execute--or execute and assign--via</p>
<pre class=""lang-r prettyprint-override""><code># result=
lapply(l, myFunc2, size, avg_sleep_hours)
</code></pre>
<p>If we use a loop, we need <code>print()</code>, see <a href=""https://cran.r-project.org/doc/FAQ/R-FAQ.html#Why-do-lattice_002ftrellis-graphics-not-work_003f"" rel=""nofollow noreferrer"">this resource</a> or search on SO.</p>
","2024-09-10 20:08:57","1","Answer"
"78971034","78970904","","<p>There were a number of things wrong with your code that have been corrected. First of all, you did not create a valid <code>ggplot2</code> plot in <code>myFunc()</code> because it was missing the <code>geom</code> necessary to create the plot.</p>
<p>Secondly, <code>myFunc()</code> was not returning anything. Nevertheless, here is the corrected version of your code:</p>
<pre><code>library(ggplot2)

myFunc &lt;- function (df1) {
  
  #this is the animals data
  my_plot_1 &lt;- ggplot(df1, aes(x=size, y=avg_sleep_hours,color = animal))+
    geom_point(stat = &quot;identity&quot;)
  
  return(my_plot_1)
}

animal_parameters &lt;- list(super_sleepers, no_sleepers)

# apply function to list of data frames
ggps &lt;- lapply(animal_parameters,myFunc)

# access each plot in the list using its index number
ggps[[1]]
</code></pre>
<p><a href=""https://i.sstatic.net/oTF2V50A.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/oTF2V50A.png"" alt=""enter image description here"" /></a></p>
<p>With this, your plots are stored up in a list and can be accessed using their index numbers.</p>
","2024-09-10 19:23:34","0","Answer"
"78970904","","Passing in a dataframe from a list of dataframe names as an argument to a function in R","<p>I'm trying to iterate through a list of dataframes and use indexing to pass in each dataframe in the list as an argument to a function. The list is simply a list of each dataframe.</p>
<pre><code>    myFunc &lt;- function (df1) {
      
      #this is the animals data
      my_plot_1 &lt;- ggplot(df1, aes(x=size, y=avg_sleep_hours))
    }
    
    rating &lt;- 1:4
    animal &lt;- c('koala', 'hedgehog', 'sloth', 'panda')
    country &lt;- c('Australia', 'Italy', 'Peru', 'China')
    avg_sleep_hours &lt;- c(21, 18, 17, 10)
    size &lt;- c(221, 418, 417, 410)
    super_sleepers &lt;- data.frame(rating, animal, country, avg_sleep_hours, size)
    
    
    rating &lt;- 1:4
    animal &lt;- c('bear', 'moose', 'alpaca', 'snake')
    country &lt;- c('USA', 'Mongolia', 'Argentina', 'Japan')
    avg_sleep_hours &lt;- c(1, 8, 7, 1)
    size &lt;- c(261, 558, 227, 2)
    no_sleepers &lt;- data.frame(rating, animal, country, avg_sleep_hours, size)
                              
    
    animal_parameters &lt;- list(super_sleepers, no_sleepers)
  
    
    for (i in 1:length(animal_parameters)){
      myFunc(animal_parameters[[i]])
    }
</code></pre>
","2024-09-10 18:43:41","0","Question"
"78969547","78965663","","<pre><code>Myclass::Example();
</code></pre>
<p>prints 0 because in PHP, static properties of a class gets shared accross all instances of a class. Any change in one instance changes it for every instances.</p>
<p>If I add another instance after the first declaration as such</p>
<pre><code>$dummyTwo = new MyClass(2);

Myclass::Example();
</code></pre>
<p>will print 2.</p>
<p>You should avoid using static properties and methods in your case, because you won't even be able to use $this inside a static method.
<a href=""https://www.php.net/manual/en/language.oop5.static.php"" rel=""nofollow noreferrer"">https://www.php.net/manual/en/language.oop5.static.php</a></p>
","2024-09-10 12:44:09","0","Answer"
"78968575","78968538","","<p>Your query syntax is wrong. Try the following <code>QUERY()</code> formula-</p>
<pre><code>=QUERY('Report'!$A$2:$I; &quot;Select B Where A = '&quot;&amp;$B12&amp;&quot;' and D&gt;= date '&quot; &amp;TEXT(N2,&quot;yyyy-mm-dd&quot;)&amp; &quot;' and D&lt;= date '&quot; &amp; TEXT(N3,&quot;yyyy-mm-dd&quot;) &amp; &quot;'&quot;,1)
</code></pre>
","2024-09-10 08:28:35","0","Answer"
"78968538","","QUERY function with multiple conditions using time frame","<p>I have this query that I am trying to add a condition to to filter out the results of a report given a time frame (time frame in my sheet is <em><strong>N2</strong></em> and <em><strong>N3</strong></em>)</p>
<p>What I have now is the following and it works like a charm:</p>
<pre><code>=QUERY('Report'!$A$2:$I; &quot;Select B Where A = '&quot;&amp;$B28&amp;&quot;'&quot;);&quot;Nothing to show&quot;)
</code></pre>
<p>No I want to add a condition to filter out only the results given my time period in <em><strong>N2</strong></em> (start date) and <em><strong>N3</strong></em> (end date). My dates in the reports are in column D. I did the following but it's not working:</p>
<p><code>=QUERY('Report'!$A$2:$I; &quot;Select B Where A = '&quot;&amp;$B12&amp;&quot;';Select D where D &gt;= date '&quot;&amp;$N$2&amp;&quot;' and D &lt;= date '&quot;&amp;$N$3&amp;&quot;'&quot;);&quot;Nothing to show&quot;)</code></p>
<p>What am I doing wrong?</p>
","2024-09-10 08:20:34","0","Question"
"78968522","","how to create a functionfile for office.js with sveltekit","<p>This is more a sveltekit question then a office-js question...</p>
<p>I have an office.js addin built in sveltekit that authenticates users to their domain or live.com. This works fine except for one thing. In the manifest.xml i specified 2 buttons, one to open the taskpane and one to run a function from the functionfile. the first one works fine but I can't seem to get the function to run.</p>
<p>Here's some codesnippets to show what I've tried:
In the manifest I have:</p>
<pre><code>  ...
  &lt;FunctionFile resid=&quot;Commands.Url&quot; /&gt;
  ...
  &lt;Control xsi:type=&quot;Button&quot; id=&quot;TaskpaneButton2&quot;&gt;
  ...
  &lt;Action xsi:type=&quot;ExecuteFunction&quot;&gt;
    &lt;FunctionName&gt;writeValue&lt;/FunctionName&gt;
  &lt;/Action&gt;
  ...
  &lt;bt:Url id=&quot;Commands.Url&quot; DefaultValue=&quot;https://localhost:5173/addin&quot; /&gt;
  ...
</code></pre>
<p>in the sveltekit route src/routes/addin/+page.svelte i have this:</p>
<pre><code>  &lt;script lang=&quot;ts&quot;&gt;
    function writeValue(event:Office.AddinCommands.Event) {
      Office.context.document.setSelectedDataAsync('ExecuteFunction works', 
        (asyncResult) =&gt; {
          ...
      });
      event.completed();
    }
  &lt;/script&gt;
</code></pre>
<p>I see the button appear in the Excel menubar and opening the taskpane button works fine but the writeValue doesn't seem to exist or run. Also there's no debugwindow when using ExecuteFunction to see any console.log output so I don't know what, if any, the errormessages are. Is there a way to connect a console window to it?</p>
<p>When I put the function in a javascript file in /static/addin and create an html that uses  and point the Commands.Url to that file, it runs fine but that would separate it completely from the app which I don't want to do for obvious reasons.</p>
<p>Microsoft docs say the function that an action can run, should be defined in the head of the page that the Commands.Url points to. I expected the function in +page.svelte to be available like that but somehow it can't find it or it won't run like that.</p>
<p>So the question is, how does the +page.svelte make the function available for the office.js script to find it and run it? Any pointers to how to set this up would be greatly appreciated!</p>
","2024-09-10 08:15:51","0","Question"
"78967829","78967796","","<p>If you're asking for official guidelines then you can checkout <a href=""https://learn.microsoft.com/en-us/powershell/scripting/developer/cmdlet/strongly-encouraged-development-guidelines?view=powershell-7.4#use-singular-parameter-names"" rel=""nofollow noreferrer""><strong>Strongly Encouraged Development Guidelines</strong></a>. More specifically for the question being asked, <a href=""https://learn.microsoft.com/en-us/powershell/scripting/developer/cmdlet/strongly-encouraged-development-guidelines?view=powershell-7.4#use-singular-parameter-names"" rel=""nofollow noreferrer"">Use Singular Parameter Names</a>:</p>
<blockquote>
<p>Avoid using plural names for parameters whose value is a single element. This includes parameters that take arrays or lists because the user might supply an array or list with only one element.</p>
<p>Plural parameter names should be used only in those cases where the value of the parameter is always a multiple-element value. In these cases, the cmdlet should verify that multiple elements are supplied, and the cmdlet should display a warning to the user if multiple elements are not supplied.</p>
</blockquote>
","2024-09-10 03:52:12","4","Answer"
"78967811","78967796","","<p>in your case using plural is logical, and a single entry in the list is a special case. IOW your vmnames array is still an array, just an array with just 1 element.</p>
","2024-09-10 03:39:21","0","Answer"
"78967796","","Should function parameters be named as a plural or singular object?","<p>This is probably a dumb question so forgive me.  I've used many cmdlets that have a parameter that is named as a singular object, yet it accepts multiple objects.</p>
<p>This makes sense to me for the parameter to be named singularly.  For example:</p>
<pre><code>Process-VM -VMName
</code></pre>
<p>However, I'm writing my own function that can do the same; take a singular object or a collection, but I'm having trouble with semantics of naming the parameter singularly.</p>
<p>For example, my function accepts one or more virtual machines.  Normally with a collection like this I'd use a foreach loop to enumerate through them, and it would look like</p>
<pre><code>foreach ($vm in $VMNames)
</code></pre>
<p>But if I write the parameter singularly it would look something like:</p>
<pre><code>foreach ($vm in $VMName)
</code></pre>
<p>For the foreach to make sense to me, my parameter would have to be named plurally but then the function call looks silly to me when I'm passing a single object.  Ofc this also deviates from those other well-known cmdlets.</p>
<pre><code>Process-VM -VMNames &quot;myvm&quot;
</code></pre>
<p>I feel silly having this problem, but I'm curious how this is handled by someone like Microsoft and their cmdlets.</p>
<p>TIA</p>
","2024-09-10 03:30:17","0","Question"
"78965663","","Any alternative to static functions that does not share data with objects? [PHP 8.3]","<p>Lets say I have this class with an static function:</p>
<pre><code>&lt;?php

class Myclass {

    public static $example = 0;

    public static function Example() {
        echo self::$example;
    }

    public function __construct($value) {
        self::$example = $value;
    }
}

Myclass::Example(); // This will print 0

$dummy = new Myclass(1);

Myclass::Example(); // This will print 1

?&gt;
</code></pre>
<p>So it seems that the <code>Example()</code> function is influenced by the new instance created, and is not something separated from the object. My skill issue mind cannot comprehend this yet.</p>
<p>In my mind, the print 1 should only happen when I did <code>$dummy::Example()</code>, but not only this is a bad pratice, the result is the same as <code>Myclass::Example()</code> after the object is created.</p>
<p>Should I just create an public function if I want their value to be inside some &quot;container&quot;, or there is any alternative?</p>
","2024-09-09 13:16:20","0","Question"
"78961443","78960933","","<pre><code>BASE_URL=&quot;example.com&quot;

for path in {{-,{a..z}}{-,{a..z}}{-,{a..z}}{-,{a..z}}}
do
    url=&quot;$BASE_URL$path&quot;

    STATUS_CODE=$(curl \
        --output /dev/null \
        --silent \
        --write-out &quot;%{http_code}&quot; \
        &quot;$url&quot;)

  if (( STATUS_CODE != 404 ))
  then if (( STATUS_CODE = 200 ))
      then
        echo &quot;$url&quot;
      else
        echo STATUS_CODE
      fi
  fi
done
</code></pre>
","2024-09-08 01:30:37","0","Answer"
"78960933","","CURL request with string variable and letter increment in url","<p>Here's what I'm trying to achieve:</p>
<p>I'd like to return a list of valid urls, based on the following structure:</p>
<pre><code>example.com/a
example.com/b
example.com/c
</code></pre>
<p>and so forth going all the way to <code>site.com/zzzzzzzzzzzz</code>
I managed to check the validity of the page with</p>
<pre class=""lang-bash prettyprint-override""><code>curl -Is example.com/a | head -1
</code></pre>
<p>which returns a 404 error when the page doesn't exist.</p>
<p>I manage to do a loop like this:</p>
<pre class=""lang-bash prettyprint-override""><code>for i in {{a..z},{a..z}{a..z},{a..z}{a..z}{a..z},{a..z}{a..z}{a..z}{a..z},{a..z}{a..z}{a..z}{a..z}{a..z},{a..z}{a..z}{a..z}{a..z}{a..z}{a..z},{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z},{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z},{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z},{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}{a..z}}
do
    echo &quot;example.com/&quot;$i 
    curl -Is example.com/$i | head -1
done
</code></pre>
<p>which tests all urls from a to zzzzzzzzzz</p>
<p>Is there a way to ignore all 404 errors and only return valid urls?</p>
","2024-09-07 19:22:03","0","Question"
"78960700","78959374","","<p>Run this command:</p>
<pre><code>dotnet --version
</code></pre>
<p>If it returns a version number, it means that you have and SDK installed. If it doesn't you need to install it from the <a href=""https://dotnet.microsoft.com/en-us/download"" rel=""nofollow noreferrer"">Microsoft official webiste</a>. If you have already installed an SDK and the command I wrote above doesn't return a version, a thing I suppose you might be doing wrong is that you are only downloading the SDK and not installing it. After the SDK has landed in your download directory, you have to actually run it, so the SDK can be installed. It might sound dumb, but it's the only thing I can think of. Hope this helps!</p>
","2024-09-07 17:23:01","0","Answer"
"78960002","78959993","","<p>The issue in your code is that you are trying to define a function (send_massage_func) inside the main function. In C++, functions cannot be defined inside other functions; they need to be defined outside of any function or class scope.</p>
<p>Here's a corrected version of your code where the send_massage_func function is defined outside of</p>
<pre><code> #include &lt;iostream&gt;
 #include &lt;string&gt;

 using namespace std;

 void send_massage_func(string message) {
    cout &lt;&lt; message &lt;&lt; endl;
 }

 int main() {
   cout &lt;&lt; &quot;C++ Version : &quot; &lt;&lt; __cplusplus &lt;&lt; endl;

   send_massage_func(&quot;Hello from send_massage_func!&quot;);

   return 0;
 }
</code></pre>
<p>Explanation:
Function Definition: The function send_massage_func is defined outside of main. This is the correct place to define functions that you want to call from within main or other functions.
Function Call: Inside main, you can call send_massage_func to use the function.
Regarding the term &quot;token&quot; in the error message: in this context, &quot;token&quot; generally refers to a syntactical unit in the code. The error message is indicating that there's a syntax issue (an unexpected token or symbol) at the point where the compiler encountered the void send_massage_func(string message) definition.</p>
","2024-09-07 11:22:13","1","Answer"
"78959993","","In function 'int main()' : function-definition is not allowed","<pre><code>TryCPP.cpp: In function 'int main()':
TryCPP.cpp:_:41: error: a function-definition is not allowed here before '{' token
   void send_massage_func(string message){ cout &lt;&lt; message &lt;&lt; endl; }
                                         ^
</code></pre>
<p>I only just put function &amp; run in vscode without any function run well only those function under <strong>main()</strong> show error, not global function.
As Output say not allow before &quot;token&quot;, what is &quot;token&quot;?</p>
<pre><code>#include &quot;stdio.h&quot;
#include &lt;iostream&gt;
#include &lt;ostream&gt;
#include &lt;stdint.h&gt;
#include &lt;stdio.h&gt;

#include &lt;windows.h&gt;
#include &lt;conio.h&gt;
#include &lt;string&gt;

#include &lt;stdlib.h&gt;
using namespace std;

int main() { cout &lt;&lt; &quot;C++ Version : &quot; &lt;&lt; __cplusplus &lt;&lt; endl;//C++ Version : 201402
  void send_massage_func(string message) { cout &lt;&lt; message &lt;&lt; endl; }/*this line*/

  return 0;
}
</code></pre>
<p>Whats wrong with is any other problem like g++, clang or #include liberary i don't know please help</p>
","2024-09-07 11:14:32","-1","Question"
"78959429","","How to define generic instance arrow function for generic function type","<p>I need to define a type for a function signature to be used in more than one function definition. The type needs to be generic and receive a generic type which is going to be used to cast the function result to it.</p>
<p>working examples:</p>
<pre><code>async function callEndpoint1&lt;ReturnT&gt;(
  url: string,
  init?: RequestInit
  ):Promise&lt;ReturnT&gt; {
 // assume the object string is return from an http request
   return JSON.parse(&quot;{}&quot;) as ReturnT;
}

async function callEndpoint2&lt;ReturnT&gt;(
  url: string,
  init?: RequestInit
  ):Promise&lt;ReturnT&gt; {
 // assume the object string is return from an http request
   return JSON.parse(&quot;{}&quot;) as ReturnT;
}

const x1 = callEndpoint1&lt;{prop:string}&gt;(&quot;a-url&quot;);
const x2 = callEndpoint2&lt;{prop:string}&gt;(&quot;a-url&quot;);
</code></pre>
<p>This is what I am trying to achieve but I cannot:</p>
<pre><code>type CallEndpointFunction = &lt;ReturnT&gt;(
    url: string,
    init?: RequestInit
) =&gt; Promise&lt;ReturnT&gt;;

const callEndpoint3: CallEndpointFunction = async (url, init) =&gt; {
    return JSON.parse(&quot;{}&quot;) as ReturnT; // error!
    //                         ~~~~~~~
    // Cannot find name 'ReturnT'.
}
const x3 = callEndpoint3&lt;{ prop: string }&gt;(&quot;a-url&quot;);
</code></pre>
<p><strong>Update</strong>
Though I am still curious to know if there is an answer for what I was trying to achieve above in TS, I am not going to use the answer as it seems it is not best practice for a function to receive a generic type parameter to just blindly cast the result to.</p>
","2024-09-07 05:39:18","1","Question"
"78959374","","Visual Studio Not Recognizing installed SDK - No IntelliSense, No Code Suggestions, Can't Compile","<p>I'm experiencing an issue in Visual Studio related to SDK recognition. When I create a project, I get an error saying</p>
<blockquote>
<p>&quot;The generated project content may be incomplete.</p>
<p>The specified SDK &quot;Microsoft.NET.Sdk&quot; could not be found.&quot;</p>
</blockquote>
<p>(My Visual Studio is in Spanish, so I relied on ChatGPT to get the error message in English, but I can't guarantee it's the exact literal text) which causes IntelliSense to fail. As a result, Visual Studio doesn't recognize functions (<code>console.writeline</code>, methods like <code>.ToLower</code>) unless I explicitly use <code>using System</code> at the begginning of the code, but even then, library functions (like <code>List&lt;&gt;</code>, <code>.add)</code> still aren't recognized. Additionally, I don't receive code suggestions, and I can't compile the code (this is related to IntelliSense not working)..</p>
<p>When I run <code>dotnet --list-sdks</code> in the console, it doesn't return anything—it's as if I had just pressed enter without typing a command. If I run <code>dotnet --info</code>, it shows that no SDKs are installed under the SDK section.</p>
<p><strong>So what I need to fix is this issue with functions not being recognized. I think it is because the SDK isn't being recognized, so I would focus on fixing that first, but I trust your expertise.</strong></p>
<p>I'm currently pursuing a Data Science career and trying to learn C#. I know it's not Python, but it's what I have available. This issue is critical for me because I really need to install Visual Studio on this computer due to time constraints. I would be immensely grateful if you could help me!!!; you'd be my hero.  I've been troubleshooting this for days with no success.</p>
<ul>
<li><p>I installed the following pakages</p>
</li>
<li><p>ASP.net  and web development</p>
</li>
<li><p>.NET desktop development</p>
<p>basically what i've installed in other computers and what all my calssmates did.</p>
</li>
</ul>
<p>Here are some of the steps I've already tried:</p>
<ul>
<li>Installed SNKs</li>
<li>Reinstalled Visual Studio</li>
<li>Installed IntelliSense localized files</li>
<li>Copied configuration settings from other working environments</li>
<li>Added SDK paths to environment variables</li>
<li>Modified the registry by adding an InstallLocation key under HKEY_LOCAL_MACHINE\SOFTWARE\dotnet\Setup\InstalledVersions\x64</li>
<li>Tried installing the SDK with a different user profile to rule out permission issues</li>
<li>Unfortunately, none of these steps have resolved the issue. Any help or suggestions would be greatly appreciated!</li>
</ul>
<p>It is a work computer, and it is under a firewall, but there is no sign of Microsoft domain blocking, and my user is an administrator. I think (and hope) this isn't the problem, but I wanted to mention it just in case.
I'm running Windows 10 Pro, so no strange industry-long term update version of Windows is involved.</p>
<p>Thank you so much for your time.</p>
","2024-09-07 05:08:34","0","Question"
"78958552","78957925","","<p>Consider not using <code>set -e</code> as it's a mess (see <a href=""https://mywiki.wooledge.org/BashFAQ/105"" rel=""nofollow noreferrer"">https://mywiki.wooledge.org/BashFAQ/105</a>) and also consider setting a trap to do something different for success vs other exit statuses instead of putting code below your &quot;real&quot; code, something like:</p>
<pre><code>sig_handler() {
    exit_status=$?
    echo &quot;Doing signal-specific stuff&quot;
    exit &quot;$exit_status&quot;
}

trap sig_handler INT HUP TERM QUIT

iCanCouseError
</code></pre>
<p>Google for better alternative trap functions/usage, there are plenty of suggestions out there for you to choose from dependent on what you want to do.</p>
","2024-09-06 19:41:04","1","Answer"
"78958247","78958193","","<p>Using <code>across</code> and <code>.names</code> for the variable names</p>
<pre><code>library(dplyr)

df %&gt;%
  mutate(across(ends_with(&quot;date&quot;), ~ .x + xdays, .names=&quot;manual_shift_{.col}&quot;))
  id xdays curation_date event_date manual_shift_curation_date
1  1    -4    2024-09-01 2024-07-04                 2024-08-28
2  2    10    2024-07-24 2024-06-13                 2024-08-03
3  3     7    2024-01-03 2023-12-03                 2024-01-10
  manual_shift_event_date
1              2024-06-30
2              2024-06-23
3              2023-12-10
</code></pre>
<h5>Data</h5>
<pre><code>df &lt;- structure(list(id = 1:3, xdays = c(-4L, 10L, 7L), curation_date = 
structure(c(19967, 19928, 19725), class = &quot;Date&quot;), event_date =
structure(c(19908, 19887, 19694), class = &quot;Date&quot;)), row.names = 
c(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;), class = &quot;data.frame&quot;)
</code></pre>
","2024-09-06 17:52:56","1","Answer"
"78958193","","in R, add the value of a column (rowwise) to any column that is named as a date (and output the result as a date)","<p>I am attempting to write what should be simple code to add the value of a data frame column to a date in another column using across() to find all columns with the suffix &quot;_date&quot;.</p>
<p>example input (df):</p>
<pre><code>  id xdays curation_date event_date
1  1    -4    2024-09-01 2024-07-04
2  2    10    2024-07-24 2024-06-13
3  3     7    2024-01-03 2023-12-03
</code></pre>
<p>expected output (df1)</p>
<pre><code>  id xdays curation_date event_date manual_shift_curation_date manual_shift_event_date
1  1    -4    2024-09-01 2024-07-04                 2024-08-28              2024-06-30
2  2    10    2024-07-24 2024-06-13                 2024-08-03              2024-06-23
3  3     7    2024-01-03 2023-12-03                 2024-01-10              2023-12-10
</code></pre>
<p>Below is what I've tried. df is the sample dataframe. df1 is the manual calculation to show expected output.</p>
<p>I've spent a few hours trying things from stackoverflow but haven't found the right magical solution. I'm sure I'm doing something wrong, but can't figure out where.</p>
<pre><code>#requirement - #add the value of df$xdays to any column that is named as a date (and output the result as a date)
library(tidyverse)

################functions attempted
# 1) include a parameter for the column with the date shift
dateshift &lt;- function(x,shiftcolumn) {as.Date(as.Date(x) + {{shiftcolumn}})} #shiftcolumn is actually a constant, but this is closest to working.
# or
# 2) just call the dateshift column within the function
dateshift_nocol &lt;- function(x) {as.Date(as.Date(x) + {{xdays}})}  

#example dataframe
df &lt;- data.frame(id=c(1,2,3), 
                 xdays=c(-4, 10, 7),
                 curation_date=c('2024-09-01','2024-07-24','2024-01-03'),
                 event_date=c('2024-07-04','2024-06-13','2023-12-03')
)

###############manaully shift date to show expected results
df1 &lt;- df %&gt;% 
  mutate(manual_shift_curation_date=as.Date(as.Date(curation_date)+xdays),
         manual_shift_event_date  =as.Date(as.Date(event_date)+xdays))
#works

###############using dateshift passing the constant column as a parameter
df2 &lt;- df %&gt;%
  mutate(across(matches(&quot;date&quot;), dateshift(.,shiftcolumn=xdays), .names = &quot;shifted_{.col}&quot;)) #renamed for qc check
#error: Caused by error in `as.Date.default()`:! do not know how to convert 'x' to class “Date”

df3 &lt;- df %&gt;% 
  mutate(across(matches(&quot;date&quot;), ~ apply(., 1, dateshift))) 
#error: Caused by error in `apply()`:! dim(X) must have a positive length

###################using dateshift_nocol (without passing the constant column value)
df4 &lt;- df %&gt;%
  mutate(across(matches(&quot;date&quot;), dateshift_nocol, .names = &quot;shifted_{.col}&quot;)) #renamed for qc check
# Caused by error in `across()`:! Can't compute column `shifted_curation_date`. Caused by error: ! object 'xdays' not found

df5 &lt;- df %&gt;% 
  mutate(across(matches(&quot;date&quot;), ~ apply(., 1, dateshift_nocol)))
#error: Caused by error in `apply()`:! dim(X) must have a positive length



</code></pre>
<p>All non-manual attempts fail. See code examples and error outputs</p>
","2024-09-06 17:34:21","1","Question"
"78957964","78957925","","<p>Package up your commands in a separate &quot;iCanCauseError&quot; executable script file that starts with a shebang.</p>
<p>Then <code>iCanCauseError || read -p &quot;Press enter&quot;</code> suffices.</p>
<p>A zero exit value will be interpreted as True,
satifying the short-circuiting OR operator,
so it doesn't have to evaluate that second disjunct.
Notice that we have a separate Bash child running the commands,
rather than say a (subshell) or function within current shell.</p>
<hr />
<p>Also, when setting <code>-e</code>, you might as well set this:</p>
<pre class=""lang-bash prettyprint-override""><code>set -e -o pipeline
</code></pre>
<p>Imagine you do <code>grep x y | sort | awk ... | wc -l</code>,
and the <code>awk</code> script bombs out with non-zero exit status.
The effect of setting the pipeline option is to make that fatal,
similar to how <code>set -e</code> makes non-zero status fatal for single command.
It's just less surprising.</p>
<p>And while you're at it, the unrelated <code>set -u</code> may be of interest.
This will do variable interpolation: <code>echo ${HOME}/</code>.
But imagine there's a typographic error, so we
accidentally get just a <code>/</code> slash output: <code>echo  ${HOMS}/</code>.
The &quot;unset variable&quot; <code>-u</code> setting will make that typo a fatal error.</p>
","2024-09-06 16:16:13","1","Answer"
"78957925","","shell exit function for set -e","<p>I have a <code>script.command</code> file with a shell script inside, so that I can double click it to execute in a new terminal window. When it finishes the script it automatically closes regardless of the exit code. Back in the days I used to put ifs after every troublesome command like this:</p>
<pre><code>iCanCouseError
if [[ $? -ne 0 ]]; then
    read -p &quot;Press enter to close&quot;
    exit 1
fi
</code></pre>
<p>This was keeping the terminal open until I press a button, so that I could read the logs and determine what caused an exception.</p>
<p>But now I switched to a much more convenient method: <code>set -e</code> at the beginning of the file. It automatically exits the script with an error code if any command fails. But now I can't read logs before the terminal closes. I wonder if there is some way to set an exit function in addition to <code>set -e</code> that will always execute right before script exits, so that I could put <code>read</code> command there to stop terminal from closing in case of non-zero exit code.</p>
","2024-09-06 16:03:23","1","Question"
"78955827","78955786","","<p>Because functions are hoisted, <code>a()</code> is available even if you define it after using <code>eval()</code>:</p>
<pre class=""lang-js prettyprint-override""><code>eval(&quot;function a (){console.log (\&quot;this is a1\&quot;)}&quot;); // a() is hoisted, this will change a()

function a () // this is available right away (move to the top)
{
   console.log(&quot;this is a2&quot;);
}
a();
</code></pre>
","2024-09-06 06:11:55","1","Answer"
"78955823","78955786","","<p>For non-strict mode, <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function#hoisting"" rel=""nofollow noreferrer"">this is about hoisting</a>; your normal <code>function a() { ... }</code> function declaration gets (invisibly) hoisted to the top of the block, so it functionally happens before the <code>eval</code>.</p>
<pre><code>$ cat aa.js
console.log(a.toString());  // If it wasn't for hoisting, this would be an error!
eval(&quot;function a (){console.log (\&quot;this is a1\&quot;)}&quot;);
function a (){console.log(&quot;this is a2&quot;);}
a();

$ node aa.js
function a (){console.log(&quot;this is a2&quot;);}
this is a1
</code></pre>
<p>If you change it to an assignment of a <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function"" rel=""nofollow noreferrer"">function expression</a>, this doesn't happen, since assignment statements aren't hoisted.</p>
<pre><code>$ cat aa.js
eval(&quot;function a (){console.log (\&quot;this is a1\&quot;)}&quot;);
var a = function a (){console.log(&quot;this is a2&quot;);}
a();

$ node aa.js
this is a2
</code></pre>
<hr />
<p><code>eval</code>'s behavior in general also depends on the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode"" rel=""nofollow noreferrer"">strictness mode</a> of the surrounding context (which itself can be <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval#direct_and_indirect_eval"" rel=""nofollow noreferrer"">modulated depending on how you call <code>eval</code></a>).</p>
<p>In strict mode, the function does not leak out of the <code>eval</code> at all:</p>
<pre><code>$ cat aa.js
&quot;use strict&quot;;
eval(&quot;function a (){console.log (\&quot;this is a1\&quot;)}&quot;);
function a (){console.log(&quot;this is a2&quot;);}
a();

$ node aa.js
this is a2
</code></pre>
","2024-09-06 06:10:14","2","Answer"
"78955786","","Function declaration in the eval does not overwrite the previous one","<p>Let's say we have code like below. The function <code>a</code> is declared twice. and we know  the output in the console should be</p>
<blockquote>
<p>this is a2</p>
</blockquote>
<p>because the second declaration of function <code>a</code> overwrite the previous function <code>a</code>.</p>
<pre><code>function a ()
{
   console.log(&quot;this is a1&quot;);
}
function a ()
{
   console.log(&quot;this is a2&quot;);
}
a();
</code></pre>
<p>But the things are different when using <code>eval</code>.</p>
<p>Let's say we change the code like below.</p>
<pre><code>eval(&quot;function a (){console.log (\&quot;this is a1\&quot;)}&quot;);

function a ()
{
   console.log(&quot;this is a2&quot;);
}
a();
</code></pre>
<p>the output shows</p>
<blockquote>
<p>this is a1</p>
</blockquote>
<p>My question is why the function <code>a</code> is not overwritten in this scenario?</p>
","2024-09-06 05:56:11","3","Question"
"78955721","78951218","","<p>After talking to the WP All Import support I got my solution which was very simple but I couldn't find searching on the web.
In order to get the value I used the following string on the product weight field of the Woocommerce Add-on for WP All Import : {attributes[1]/attribute[title = &quot;Καθαρό βάρος (Kg)&quot;]/value[1]}
That takes the value under the Arribute with title &quot;Καθαρό βάρος (Kg)&quot;. It's documented under the XPath Cheat Sheet here : <a href=""https://www.wpallimport.com/documentation/custom-xpath/#cheat-sheet"" rel=""nofollow noreferrer"">https://www.wpallimport.com/documentation/custom-xpath/#cheat-sheet</a>, where you can find other solutions related to this.</p>
<p>I couldn't have found it.
Their support is amazing !!!</p>
","2024-09-06 05:27:22","0","Answer"
"78954543","78954456","","<p>First of all, beware that your original function is broken (beyond the syntax error):</p>
<pre class=""lang-r prettyprint-override""><code>foo1 &lt;- function(y) function(x) x+y

a &lt;- 10
myfoo &lt;- foo1(a)

a &lt;- 20
myfoo(1)
# [1] 21
</code></pre>
<p>You <em>probably</em> wanted the last call to return 11, not 21.</p>
<p>To fix this, we need to force eager evaluation of <code>y</code> - otherwise it will be lazily evaluated when it’s used, and not before:</p>
<pre><code>foo1 &lt;- function (y) {
    force(y)
    function (x) x + y
}
</code></pre>
<p>Next, to answer your actual question: your <code>foo3</code> <em>almost</em> works! R just tricks you, because it stores the “source code” of the function in an attribute (<code>srcref</code>) of the function. And when displaying the function definition via <code>print</code>, it prints that <code>srcref</code> (if available) instead of the actual body. We can delete the attribute to fix that:</p>
<pre><code>foo &lt;- function (y) {
    fun &lt;- eval(substitute(function(x) x + dummy, env = list(dummy = y)))
    attr(fun, 'srcref') &lt;- NULL
    fun
}
</code></pre>
<pre><code>foo(1.2)
# x + 1.2
# &lt;environment: 0x108952138&gt;
</code></pre>
<p>(Note that we don’t need to explicitly force evaluation of <code>y</code> in this definition of <code>foo()</code>, since passing it to <code>list()</code> (and then to <code>substitute()</code>) will cause it to be evaluated anyway.)</p>
","2024-09-05 19:21:03","8","Answer"
"78954456","","A 'metafunction' in R to create functions with evaluated/explicit parameter? (Don't know how to phrase this exactly)","<p>I want to create a function that returns another function with a parameter from the former, e.g.</p>
<pre><code>foo1 &lt;- function(y) function(x) x+y
</code></pre>
<p>(Edit: I wrote <code>foo1 &lt;- function(y) function(x+y)</code> originally, changed this. Also, see the answer of @Konrad Rudolph as to why this is a bad definition.)</p>
<p>but! I would like to be able to see what parameter value 'y' was chosen. The above prints like</p>
<pre><code>foo1(1.2)
#&gt; function(x) x + y
#&gt; &lt;environment: 0x000001dd24275a90&gt;
</code></pre>
<p>Now, I could achieve this through</p>
<pre><code>foo2 &lt;- function(y){
    eval(parse(text = sprintf(&quot;function(x) x + %s&quot;, y)))
}
</code></pre>
<p>Then printing 'foo2' shows what parameter value 'y' was used in its creation</p>
<pre><code>foo2(1.2)
#&gt; function(x) x + 1.2
#&gt; &lt;environment: 0x000001dd242604a0&gt;
</code></pre>
<p>However, I suspect there is a more elegant solution.</p>
<p>I thought something like</p>
<pre><code>foo3 &lt;- function(y){
   eval(substitute(function(x) x+dummy, env = list(dummy=y)))
}
</code></pre>
<p>could work, but no. That will print</p>
<pre><code>foo3(1.2)
#&gt; function(x) x+dummy
#&gt; &lt;environment: 0x000001dd23e137d0&gt;
</code></pre>
<p>Does anyone have a more elegant solution than my 'foo2'?</p>
","2024-09-05 18:51:41","5","Question"
"78954369","78953871","","<p>On SQL Server 2014, you should be able to do this with an inline table-valued function, you just need to put in some bounds for your longest possible length of <code>Value</code>:</p>
<pre><code>CREATE FUNCTION dbo.RenderPattern2014
(
  @Value varchar(10) -- or longest possible LEN(Value)
)
RETURNS TABLE WITH SCHEMABINDING
AS
  RETURN
  (
    WITH y AS
    (  
      SELECT x.ordinal, result = COALESCE(p.result, 'x') 
      FROM (VALUES(1),(2),(3),(4),(5),(6),(7),(8),(9),(10)
            -- keep adding up to longest LEN(Value)
            -- or search for numbers table solutions,
            -- &quot;tally&quot; CTEs, or recursive CTEs
      ) AS x(ordinal)
      LEFT OUTER JOIN  
      (VALUES('%[A-Za-z]%', 'a'),('%[0-9]%', '1')) AS p(pattern, result)
      ON SUBSTRING(@Value, x.ordinal, 1) LIKE p.pattern
      WHERE x.ordinal &lt;= LEN(@Value)
    )
    SELECT DISTINCT pattern = (SELECT y2.result
      FROM y AS y2 ORDER BY y2.ordinal
      FOR XML PATH, TYPE).value(N'.[1]',N'varchar(max)')
    FROM y
  );
</code></pre>
<p>In SQL Server 2022, you could be much tidier imo:</p>
<pre><code>CREATE FUNCTION dbo.RenderPattern2022
(
  @Value varchar(10) -- or longest possible LEN(Value)
)
RETURNS TABLE WITH SCHEMABINDING
AS
  RETURN 
  (
    SELECT pattern = STRING_AGG(COALESCE(p.result, 'x'), '')
                     WITHIN GROUP (ORDER BY x.ordinal)
      FROM STRING_SPLIT(REPLICATE(',', LEN(@Value)-1), ',', 1) AS x
      LEFT OUTER JOIN (VALUES('%[A-Za-z]%', 'a'),('%[0-9]%', '1'))
        AS p(pattern, result)
        ON SUBSTRING(@Value, x.ordinal, 1) LIKE p.pattern
);
</code></pre>
<p>In either case, your query then becomes:</p>
<pre><code>SELECT src.&lt;columns&gt;, src.Value, fn.pattern
  FROM dbo.src 
 CROSS APPLY dbo.RenderPattern(src.Value) AS fn;
</code></pre>
<ul>
<li>Example <a href=""https://dbfiddle.uk/soU2gCqI"" rel=""nofollow noreferrer"">db&lt;&gt;fiddle</a></li>
</ul>
<p>Results:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;"">id</th>
<th style=""text-align: center;"">Value</th>
<th style=""text-align: center;"">pattern</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">1</td>
<td style=""text-align: center;"">jam\21</td>
<td style=""text-align: center;"">aaax11</td>
</tr>
<tr>
<td style=""text-align: center;"">2</td>
<td style=""text-align: center;"">byt9*9</td>
<td style=""text-align: center;"">aaa1x1</td>
</tr>
<tr>
<td style=""text-align: center;"">3</td>
<td style=""text-align: center;"">21y 21</td>
<td style=""text-align: center;"">11ax11</td>
</tr>
<tr>
<td style=""text-align: center;"">4</td>
<td style=""text-align: center;"">Jam21&amp;I 32</td>
<td style=""text-align: center;"">aaa11xax11</td>
</tr>
</tbody>
</table></div>
","2024-09-05 18:17:31","1","Answer"
"78954271","78953871","","<p>Such UDF is simple to create...</p>
<pre><code>CREATE OR ALTER FUNCTION dbo.F_COMPUTE_PATTERN (@STRING NVARCHAR(4000))
RETURNS NVARCHAR(4000)
WITH RETURNS NULL ON NULL INPUT
AS
BEGIN
   IF @STRING = N''
      RETURN N'';
   DECLARE @I SMALLINT = 1, @C NCHAR(1), @RETURN NVARCHAR(4000) = N'';
   WHILE @I &lt;= LEN(@STRING)
   BEGIN
      SET @C = SUBSTRING(@STRING, @I, 1);
      SET @RETURN = @RETURN
                  + CASE 
                       WHEN @C BETWEEN '0' AND '9' THEN '1'                       
                       WHEN @C BETWEEN 'a' AND 'z' THEN 'a'
                       ELSE '-'
                    END;
      SET @I = @I + 1;
   END;
   RETURN @RETURN
END;
GO
</code></pre>
<p>And now you can do :</p>
<pre><code>WITH
T AS (SELECT * 
      FROM (VALUES (1, 'jam\21'), 
                   (2, 'byt9*9'), 
                   (3, '21y 21')) A (id, val)
      )
SELECT *, dbo.F_COMPUTE_PATTERN(val) AS PATTERN
FROM   T;
</code></pre>
<p>That's the results :</p>
<pre><code>id   val     PATTERN
---- ------- ---------
1    jam\21  aaa-11
2    byt9*9  aaa1-1
3    21y 21  11a-11
</code></pre>
<p>But beware of collations...</p>
","2024-09-05 17:45:30","2","Answer"
"78954228","78953949","","<p>Rather than modify the function code wrap the variable together with the function in the same environment using <code>local</code> .  (Depending on what is in the function you may need to add the <code>envir = .GlobalEnv</code> argument to <code>local</code>.)</p>
<pre><code>fn &lt;- local({
  variable &lt;- 10
  function() {message(variable*2)}
})

fn()
## 20
</code></pre>
","2024-09-05 17:32:24","3","Answer"
"78954041","78953949","","<p>Like @MrFlick in his comment, I don't know why you would want to do this.  But in case you have a reason for it, here's one way to do it:</p>
<pre class=""lang-r prettyprint-override""><code>fn &lt;- function() 1 # dummy declaration

body(fn) &lt;- substitute(
  # The body of the function
  {message(variable*2)},  
     
  # The substitutions you want                  
  list(variable = 10)) 

fn
#&gt; function () 
#&gt; {
#&gt;     message(10 * 2)
#&gt; }
</code></pre>
<p><sup>Created on 2024-09-05 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.1</a></sup></p>
<p>Edited to add:</p>
<p>I just read your response to his comment.  I think you are taking the wrong approach here.  This is a better way to do what you want:</p>
<pre class=""lang-r prettyprint-override""><code>makeFn &lt;- function(variable) {
  force(variable)   # Make sure it is evaluated
  function() {message(variable*2)}
}

fn10 &lt;- makeFn(10)
fn20 &lt;- makeFn(20)
fn10()
#&gt; 20
fn20()
#&gt; 40
</code></pre>
<p><sup>Created on 2024-09-05 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.1</a></sup></p>
","2024-09-05 16:31:43","3","Answer"
"78954016","78953902","","<p>From <code>?readline</code>:</p>
<blockquote>
<p>In non-interactive use the result is as if the response was RETURN and the value is &quot;&quot;.</p>
</blockquote>
<p>So one idea would be to couple <code>interactive()</code> with <code>ui == &quot;&quot;</code> to try to determine if one is running the vignette:</p>
<pre class=""lang-r prettyprint-override""><code>if (TRUE) {
  repeat{
    ui = readline(&quot;Strong evidence... &quot;)
    
    in_vignette &lt;- !interactive() &amp;&amp; ui == &quot;&quot;
    
    if (ui == 2)
      stop(&quot;User is...&quot;)
    else if (ui == 1 || in_vignette) {
      cat(&quot;Continuing analysis...&quot;)
      return()
    }
    else
      cat(&quot;Invalid input...&quot;)
  }
}
#&gt; Strong evidence... 
#&gt; Continuing analysis...
</code></pre>
<p><sup>Created on 2024-09-05 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.1</a></sup></p>
","2024-09-05 16:24:19","0","Answer"
"78953949","","Avoid names of variables ending into function definitions in R","<p>I would like to use values within variables for defining functions in R. However, after declaring the function I can still see the variable names instead of their values inside the function definition. Here is an example:</p>
<pre><code>&gt; variable &lt;- 10
&gt; fn &lt;- function() {message(variable*2)}
&gt; fn
function() {message(variable*2)}
</code></pre>
<p>And what I am expecting to see:</p>
<pre><code>&gt; variable &lt;- 10
&gt; fn &lt;- function() {message(variable*2)}
&gt; fn
function() {message(10*2)}
</code></pre>
<p>How could I fix this?</p>
","2024-09-05 16:07:14","0","Question"
"78953902","","R markdown and readline()","<p>I am attempting to create a vignette in R Markdown for a package that I have created. Within one of these R functions, it has a <code>readline()</code> requiring user input to confirm continuing an analysis based on certain thresholds. This works in the terminal, as the user can simply answer the question. However, for an R Markdown it automatically spits out a warning. Is there a way to get around this functionality, or to prespecify the user response, or is this not a possibility within R markdown?</p>
<p>I have no issues running in the console, but this will not knit in R markdown. The function asks the user whether to continue and prompts a Yes(1) or No(2) answer. If no, the function stops and prints a warning. If yes, the function continues on. In R Markdown, it automatically spits out the warning.</p>
<p><img src=""https://i.sstatic.net/IlJ3xJWk.png"" alt=""I am including screenshots of the end portion of this script with the readline prompt here."" /></p>
","2024-09-05 15:56:51","0","Question"
"78953871","","Is there a SQL function that extract the alpha-ness/numeric-ness/whitespace-ness of characters in a string?","<p>I'm using SQL Server 2014 and SSMS, and I have some data that's like  'abc123-123', I'd like to query whether all the entries look like this not.</p>
<p>Is there a way of creating this column &quot;pattern&quot;:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>Value</th>
<th>Pattern</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>jam\21</td>
<td>aaax11</td>
</tr>
<tr>
<td>2</td>
<td>byt9*9</td>
<td>aaa1x1</td>
</tr>
<tr>
<td>3</td>
<td>21y 21</td>
<td>11ax11</td>
</tr>
</tbody>
</table></div>
<p>So that I can do a count grouped by pattern?</p>
<p>As long as it can differentiate alpha characters from numeric characters and those two from anything else, I can probably make it work!</p>
<p>Basically looking for something along the lines of:</p>
<pre><code>SELECT PATTERN, COUNT(*)
FROM 
    (SELECT id, value, GETPATTERN(value) AS PATTERN
     FROM have) AS A
GROUP BY PATTERN
ORDER BY 2 DESC
</code></pre>
<p>With some help around this <code>GETPATTERN</code> function, assuming such a thing exists.</p>
<p>In Python it's basically trivial:</p>
<pre><code>def getalphanumberwhite(inString):
    resultList = []
    resultstring = &quot;&quot;
    for i in inString:
        if i.isnumeric():
            resultList.append(&quot;1&quot;)
        elif i.isalpha():
           resultList.append(&quot;a&quot;)
        else:
            resultList.append(&quot;x&quot;)    
    resultstring=''.join(resultList)
    return resultstring

print(getalphanumberwhite(&quot;Jam21&amp;I 32&quot;))
#Returns aaa11xax11
</code></pre>
<p>Thanks</p>
","2024-09-05 15:47:10","1","Question"
"78953031","78952146","","<p>This appears to be a <code>lintr</code> bug or design flaw.</p>
<p>When I put your code in a file and run <code>library(dplyr); lintr::lint(&quot;sample.R&quot;)</code>, I get a sequence of warnings about the formatting, as well as the global variable warning:</p>
<pre><code>sample.R:1:13: style: [assignment_linter] Use &lt;-, not =, for assignment.
globalconst = 5
            ^
sample.R:3:17: style: [assignment_linter] Use &lt;-, not =, for assignment.
examplefunction = function(df){
                ^
sample.R:3:31: style: [brace_linter] There should be a space before an opening curly brace.
examplefunction = function(df){
                              ^
sample.R:3:31: style: [paren_body_linter] There should be a space between a right parenthesis and a body expression.
examplefunction = function(df){
                              ^
sample.R:6:20: warning: [object_usage_linter] no visible binding for global variable 'globalconst'
    mutate(power = globalconst)
                   ^~~~~~~~~~~
</code></pre>
<p>Following the formatting advice makes your source look like this:</p>
<pre><code>globalconst &lt;- 5

examplefunction &lt;- function(df) {
  df %&gt;%
    select(dist) %&gt;%
    mutate(power = globalconst)
}

examplefunction(cars)
</code></pre>
<p>That also makes the global variable warning go away.  So apparently the assignment using <code>=</code> is insufficient for <code>lintr</code> to recognize the assignment to a global.  I'd call that a bug, but maybe they are just very serious about wanting you to use <code>&lt;-</code>.</p>
","2024-09-05 12:28:45","0","Answer"
"78952146","","Is the 'No visible binding for global variable' warning a serious problem?","<p>I have started working with <code>lintr</code> recently, but there is one warning that keeps coming up <code>[object_usage_lintr] No visible binding for global variable</code> - it occurs in functions either when I refer to specific column names or to global constants that I have set. I am wondering why this is a problem and if so what I can do to fix it.</p>
<p>For example,</p>
<pre><code>globalconst = 5

examplefunction = function(df){
  df %&gt;%
    select(dist) %&gt;%
    mutate(power = globalconst)
  }

examplefunction(cars)
</code></pre>
<p>In this case, it would flag that I had used the column name <code>dist</code> without binding and also the <code>globalconst</code> value. I was led to understand that local environments could happily draw from the global environment. The functions are only going to be used on dataframes with the columns mentioned in the function, so I don't see what the issue is there either. If it is a problem, I also have no idea how to fix it.</p>
","2024-09-05 08:59:41","1","Question"
"78951218","","Get value from specific element using functions in WP All Import","<p>I have this XML here: <a href=""https://www.bazakas.gr/ProductsXML"" rel=""nofollow noreferrer"">https://www.bazakas.gr/ProductsXML</a>, which I am importing into Woocommerce,  where on some products there is the value for weight, which I want to use for the products, under the attributes / attribute / value. The problem is that on some products that value is under {attributes[1]/attribute[18]/value[1]} i.e. on the first product and on some others its under {attributes[1]/attribute[16]/value[1]}.</p>
<p>Reading the documentation I created the following simple function:</p>
<pre><code>&lt;?php
function get_weight ($title, $value){
if ($title = &quot;Καθαρό βάρος (Kg)&quot;) {
return $value;}
}
?&gt;
</code></pre>
<p>which basicallly returns the attiblute value when the attribute title is &quot;Καθαρό βάρος (Kg)&quot;
The problem is that I cannot use something like [get_weight ({attributes[x]}, {attributes[x]/value[x]} )] into the weight field of the product.
Is there another implementation that I can use to do what I want?
How can I get the value of attribute when the attribute title is &quot;Καθαρό βάρος (Kg)&quot;. Please explain all needed steps.
Thanks</p>
","2024-09-05 03:38:08","0","Question"
"78950463","78950438","","<p>Use <code>globals()</code></p>
<pre><code>import pandas as pd


df1 = pd.DataFrame()
df2 = pd.DataFrame()

def func():
    # Get all dataframes in memory
    alldfs = [name for name,var in globals().items() if isinstance(var, pd.core.frame.DataFrame)]

    # do something

    return alldfs

print(func())  # returns df1 and df2

df3 = pd.DataFrame()
print(func())
</code></pre>
<p>This outputs</p>
<pre><code>$ python myfile.py
['df1', 'df2']
['df1', 'df2', 'df3']
</code></pre>
<p>This clearly contains <code>df3</code>, the newly created df, which is also in global scope</p>
","2024-09-04 20:31:44","2","Answer"
"78950438","","How to get most recent globals variables everytime a function as ran","<p>I'm creating a function that get a list of all the global dataframes in memory and does something with them. Example:</p>
<pre><code>df1 = pd.DataFrame()
df2 = pd.DataFrame()

def func():
    # Get all dataframes in memory
    alldfs = [var for var in dir() if isinstance(eval(var), pd.core.frame.DataFrame)]
    
    # do something

    return dict(zip(tables_filtered, [ps.from_pandas(globals()[table]) for table in tables_filtered]))

func()  # returns df1 and df2

df3 = pd.DataFrame()

func()  # returns df1 and df2
</code></pre>
<p>The issue is that the global variables at the time of creation are stored and used everytime I run the function, but I want it to read the most up to date globals everytime its ran. So if 5 more dataframes are created after, it will return those.</p>
<p>Originally, I was trying to write the function in another module and import it, but the globals wasn't working so now doing it in the same notebook but having the same issue.</p>
<h5>UPDATE</h5>
<p>Okay to add more context since it seems like this is a bad approach. My goal was to pack the pyspark.sql feature into a function so that others using the notebook could easily just write sql queries on the dataframes:</p>
<pre><code>def get_all_dataframes():
    return = [name for name,var in globals().items() if isinstance(var, pd.core.frame.DataFrame)]



def query_data(query):
    # Gather all dataframes saved in memory
    dataframes = get_all_dataframes()
    
    # Find all table names after FROM or JOIN
    tables = re.findall(r'FROM\s+(\w+)|JOIN\s+(\w+)', query, re.IGNORECASE)
    tables = [table for sublist in tables for table in sublist if table]

    tables_found = []
    # Check if tables exist in memory and replace them with curly brackets
    for table in tables:
        if table in dataframes:
            query = re.sub(r'\b' + table + r'\b', f'{{{table}}}', query)
            if table not in tables_found:
                tables_found.append(table)
        else:
            raise ValueError(f&quot;Table '{table}' does not exist in memory.&quot;)

    # Create the query args and turn Pandas DF into a Pyspark DF
    print(f&quot;Tables detected: {tables_found}&quot;)
    query_args = dict(zip(tables_found, [ps.from_pandas(globals()[table]) for table in tables_found]))

    def _run_query(**query_args):
        return ps.sql(
            query, 
            **query_args
        ).to_pandas()

    query_results = _run_query(**query_args)
    print(f&quot;Table created with {query_results.shape[0]:,} rows and {query_results.shape[1]:,} columns.&quot;)

    return query_results
</code></pre>
<p>So that way, instead of having to write this:</p>
<pre><code>ps.sql('''
  SELECT m1.a, m2.b
  FROM {table1} m1 INNER JOIN {table2} m2
  ON m1.key = m2.key
  ORDER BY m1.a, m2.b''',
  table1=ps.from_pandas(table1),
  table2=ps.from_pandas(table2))
</code></pre>
<p>You can just write this:</p>
<pre><code>run_query(
&quot;&quot;&quot;
SELECT m1.a, m2.b
  FROM table1 m1 INNER JOIN table2 m2
  ON m1.key = m2.key
  ORDER BY m1.a, m2.b
&quot;&quot;&quot;
)
</code></pre>
<p>This is a simple example. The queries are much more complex. And the reason for the sql is that I'm transitioning a lot of code to Python and a lot of the transformations were using PROC SQL (SAS). So in order for the end user to be able to make changes a bit easier.</p>
","2024-09-04 20:21:59","0","Question"
"78938230","78935864","","<p>@Hamdallah thank you for your method, but woocommerce default button still adds products to cart, but it should not be happening in my case.</p>
<p>That what I could make by now:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>// removing default woocommerce button only for on-backorder type of products

add_filter( 'woocommerce_loop_add_to_cart_link', 'remove_add_to_cart_onbackorder_products', 25, 2 );
              
function remove_add_to_cart_onbackorder_products( $add_to_cart_html, $product ) {
    
    if( $product-&gt;is_type('simple') &amp;&amp; $product-&gt;is_on_backorder()) {
        return '';
    }
    return $add_to_cart_html;
    
}

// making forminator button to call pop-up preorder form 

function preorderbtn(){
    echo do_shortcode( '[button text=""Pre-order"" link=""#checkprice"" class=""clickbutton""]' );
}

// calling button on-backorder products 

add_filter('woocommerce_product_add_to_cart_url', 'pre_order_button_url', 10, 2); 
function pre_order_button_url($url, $product) { 
    if ($product-&gt;is_on_backorder()) { 
    preorderbtn();
    } 
    return $url; 
} </code></pre>
</div>
</div>
</p>
<p>This works only for product category pages. I still need make it for single product page.</p>
<p>This action for single product page - remove_action('woocommerce_single_product_summary')
doesn't let me replace default button to my own, as the place for button is getting invisible.</p>
","2024-09-01 19:41:03","1","Answer"
"78936081","78935864","","<p>Please check this code</p>
<pre><code>add_filter('woocommerce_loop_add_to_cart_link', 'custom_pre_order_button', 10, 2);
add_filter('woocommerce_single_product_summary', 'custom_pre_order_button_single', 30);

function custom_pre_order_button($button, $product) {
    if ($product-&gt;is_on_backorder()) {
        $button = '&lt;a href=&quot;#&quot; class=&quot;button pre-order-button&quot; onclick=&quot;openFormcraftForm()&quot;&gt;Pre-order Now&lt;/a&gt;';
    }
    return $button;
}

function custom_pre_order_button_single() {
    global $product;

    if ($product-&gt;is_on_backorder()) {
        remove_action('woocommerce_single_product_summary', 'woocommerce_template_single_add_to_cart', 30);
        echo '&lt;a href=&quot;#&quot; class=&quot;button pre-order-button&quot; onclick=&quot;openFormcraftForm()&quot;&gt;Pre-order Now&lt;/a&gt;';
    }
}

function openFormcraftForm() {
    ?&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        function openFormcraftForm() {
            jQuery('#formcraft-form-id').trigger('click');
        }
    &lt;/script&gt;
    &lt;?php
}
</code></pre>
","2024-08-31 20:49:05","-1","Answer"
"78935864","","Woocommerce ho to change action for backorder button?","<p>How to make the Formcraft contact form be called when clicking the pre-order button? (only pre-order products) Thank you!</p>
<p>Unfortunately I did not find any information in the wordpress CODEX on how I can influence the add to cart button via functions.php to change button link only for products on-backorder.</p>
","2024-08-31 18:39:00","-1","Question"
"78935825","78935811","","<p>You need to pass the function itself (without parentheses) and its arguments separately, and then use the <code>apply</code> method to call the function with the provided arguments:</p>
<pre class=""lang-js prettyprint-override""><code>function timer(func, ...args) {
   let start = Date.now();
   func.apply(null, args);
   console.log(Date.now() - start);
}
</code></pre>
<p>And this is how you use it:</p>
<pre class=""lang-js prettyprint-override""><code>timer(sortFunc1, arrayGenerator(COUNT), arg1, ...);
timer(sortFunc2, arrayGenerator(COUNT), arg1, ...);
// ...
timer(sortFunc10, arrayGenerator(COUNT), arg1, ...);
</code></pre>
","2024-08-31 18:18:02","0","Answer"
"78935811","","How to write timer function correctly?","<p>I have several complex sort functions that take parameters from other functions
I want to write a <em>timer</em> function that will take a complex function with parameters, which call look smthng this:</p>
<pre><code>timer(sortFunc1(arrayGenerator(COUNT), arg1...,))
timer(sortFunc2(arrayGenerator(COUNT), arg1...,))
...
timer(sortFunc10(arrayGenerator(COUNT), arg1...,))
</code></pre>
<p>but my timer function throw 'func is not a function':</p>
<pre><code>function timer(func) {
   let start = Date.now();
   func();
   console.log(Date.now() - start);
}
</code></pre>
<p>How I should write function timer to call it like way above?</p>
<p>I've tried reading articles about complex functions, returning a function from a function</p>
","2024-08-31 18:10:53","0","Question"
"78935044","78935003","","<p>From the <code>IRAM_ATTR</code> I'm assuming you're working with ESP8266 (or ESP32). The Arduino ESP8266 core has an <code>attachInterrupt()</code> overload that accepts a <code>std::function</code>, which can be produced by a <code>std::bind()</code> from an <em>object</em> and a <em>member function</em>. You are calling the wrong overload that is meant for just a function pointer to a static function.</p>
<p>See</p>
<ul>
<li><a href=""https://github.com/esp8266/Arduino/blob/ccea72823ac50290bc05c67350d2be6626e65547/cores/esp8266/FunctionalInterrupt.cpp#L37"" rel=""nofollow noreferrer"">https://github.com/esp8266/Arduino/blob/ccea72823ac50290bc05c67350d2be6626e65547/cores/esp8266/FunctionalInterrupt.cpp#L37</a></li>
<li><a href=""https://github.com/esp8266/Arduino/blob/ccea72823ac50290bc05c67350d2be6626e65547/cores/esp8266/Arduino.h#L186"" rel=""nofollow noreferrer"">https://github.com/esp8266/Arduino/blob/ccea72823ac50290bc05c67350d2be6626e65547/cores/esp8266/Arduino.h#L186</a></li>
<li><a href=""https://github.com/esp8266/Arduino/pull/2745"" rel=""nofollow noreferrer"">https://github.com/esp8266/Arduino/pull/2745</a></li>
</ul>
<p>So you just have to change this to use it:</p>
<pre><code>#include &lt;FunctionalInterrupt.h&gt;

uint8_t MethodA::Init() {
  pinMode( PIN_A, OUTPUT );
  digitalWrite( PIN_B, LOW );
  pinMode( PIN_B, INPUT_PULLUP );
  attachInterrupt(
    digitalPinToInterrupt(PIN_B),
    std::bind(&amp;MethodA::FlowCounter, this),
    FALLING);
  return true;
}
</code></pre>
<p><em>Edit</em>: Added include for <code>FunctionalInterrupt.h</code>.</p>
","2024-08-31 12:01:49","1","Answer"
"78935003","","How to attach a class function as an ISR callback","<p>I am trying to attach a class function as an ISR callback but I am getting this error:</p>
<pre><code>lib/classA/classA.cpp: In member function 'uint8_t MethodA::Init()':
lib/classA/classA.cpp:32:71: error: invalid use of non-static member function 'void MethodA::FlowCounter()'
   attachInterrupt( digitalPinToInterrupt(PIN_B), FlowCounter, FALLING );
                                                                       ^
lib/classA/classA.cpp:12:16: note: declared here
 void IRAM_ATTR MethodA::FlowCounter() {
                ^~~~~~~
*** [.pio\build\featheresp32\lib71a\classA\classA.cpp.o] Error 1
</code></pre>
<p>How do I correctly reference the <code>FlowCounter</code> function in the <code>attachInterrupt</code> call?</p>
<p>This is the main.cpp file:</p>
<pre><code>#include &lt;Arduino.h&gt;
#include &quot;classA.h&quot;

MethodA myMethod( 5, 6 );

void setup() {
  myMethod.Init(); 
}

void loop() {
}

</code></pre>
<p>This is the classA.h file:</p>
<pre><code>#pragma once

#include &lt;Arduino.h&gt;

class MethodA {

  public:

    MethodA( uint8_t _PIN_A, uint8_t _PIN_B );

    uint32_t stopCount;
    static const uint32_t stepCount;

    uint8_t Init();
    void Update();
    void StartCycle();
    
  private:

    volatile uint32_t flowCount;
    uint8_t pumpDone;

    void IRAM_ATTR FlowCounter();
    uint8_t PIN_A;
    uint8_t PIN_B;
 
};
</code></pre>
<p>And the classA.cpp file:</p>
<pre><code>#include &lt;Arduino.h&gt;

#include &quot;classA.h&quot;

const uint32_t MethodA::stepCount = 10;

MethodA::MethodA( uint8_t _PIN_A, uint8_t _PIN_B ) {
    PIN_A = _PIN_A;
    PIN_B = _PIN_B;
}

void IRAM_ATTR MethodA::FlowCounter() {

    flowCount++;

    if ( flowCount &gt;= stopCount ) {
        digitalWrite( PIN_A, LOW );
        pumpDone = true;
    }

    return;
}

uint8_t MethodA::Init() {
  
  pinMode( PIN_A, OUTPUT );
  
  digitalWrite( PIN_B, LOW );

  pinMode( PIN_B, INPUT_PULLUP );
  
  attachInterrupt( digitalPinToInterrupt(PIN_B), FlowCounter, FALLING );

  return true;
}

void MethodA::Update() {

    if ( pumpDone ) {
        Serial.print( &quot;Cycle complete.&quot;);
    }

    return;
}

void MethodA::StartCycle() {

    stopCount = flowCount + stepCount;
    digitalWrite( PIN_A, HIGH );
    pumpDone = false;
    return;
}

</code></pre>
<p>I tried making the ISR function static by <code>static void IRAM_ATTR FlowCounter();</code> but that made the compiler scream about the variable inside the function.  I tried referencing it by <code>MethodA::FlowCounter</code> but that yielded the same error.  I tried using a pointer <code>&amp;FlowCounter</code> and <code>&amp;Method::FlowCounter</code> to no avail.  So I am missing something fundamental about cpp programming (I more familiar with the relative ease of Python).</p>
","2024-08-31 11:43:45","2","Question"
"78934746","78934295","","<p>I believe that's what <a href=""https://docs.python.org/3/library/functools.html#functools.singledispatch"" rel=""nofollow noreferrer"">single dispatch decorators</a> can be used for:</p>
<pre class=""lang-py prettyprint-override""><code>from functools import singledispatch

@singledispatch
def negative(arg):
    return f'unsupported type: {type(arg)}'

@negative.register
def _(arg: tuple):
    return tuple(-e for e in arg)

@negative.register
def _(arg: list):
    return list(-e for e in arg)

print(negative(10))
print(negative('abc'))
print(negative([1, 2, 4]))
print(negative((1, 2, 3)))
</code></pre>
<p>Notes:</p>
<ul>
<li>I would rather raise an exception than return an error string, that part is just for easier demonstration.</li>
<li>You can further differentiate by using e.g. <code>list[int]</code> or <code>tuple[float]</code>, the linked documentation has examples there and a websearch should turn up many more.</li>
</ul>
","2024-08-31 09:11:55","3","Answer"
"78934533","78934295","","<p>So we can also use the <code>Iterable</code> class making it more robust</p>
<pre><code>from collections.abc import Iterable
import numpy as np


def negative(a):
    if isinstance(a, Iterable):
        result = (-e for e in a)
        if isinstance(a, list):
            return list(result)
        elif isinstance(a, tuple):
            return tuple(result)
        elif isinstance(a, np.ndarray):
            return np.negative(a)
        else:
            raise TypeError(&quot;Not supported iterable type.&quot;)
    else:
        raise TypeError(&quot;Interables only.&quot;)
</code></pre>
","2024-08-31 07:11:40","1","Answer"
"78934310","78934295","","<p>You can determine the type at run time</p>
<pre><code>def negative(a):
    return type(a)(-e for e in a)
</code></pre>
","2024-08-31 04:24:56","4","Answer"
"78934306","78934295","","<p>You can use the <a href=""https://docs.python.org/3/library/functions.html#isinstance"" rel=""nofollow noreferrer"">isinstance</a> function to check the type of the input and then return the appropriate type.</p>
<pre><code>def negative_sequence(a):
    if isinstance(a, list):
        return [-e for e in a]
    elif isinstance(a, tuple):
        return tuple(-e for e in a)
    else:
        raise TypeError(&quot;Input must be a list or a tuple&quot;)

# Example usage:
print(negative_sequence([1, 2, 3]))  # Output: [-1, -2, -3]
print(negative_sequence((1, 2, 3)))  # Output: (-1, -2, -3)
</code></pre>
","2024-08-31 04:21:43","4","Answer"
"78934295","","Can these two Python functions be replaced by a single generic one taking either a list or a tuple argument?","<p>Can these two Python functions:</p>
<pre><code>def negativeList(a):
  return [-e for e in a]

def negativeTuple(a):
  return tuple(-e for e in a)
</code></pre>
<p>be replaced by an equvalent single generic function <code>negative(a)</code>?</p>
","2024-08-31 04:13:26","1","Question"
"78932592","78932155","","<p>CReate a named vector and lookup the names:</p>
<pre><code>with(class_ref_table, setNames(phase, code))[x]
##        A        B        C        A        D        F 
## &quot;phase1&quot; &quot;phase2&quot; &quot;phase3&quot; &quot;phase1&quot; &quot;phase4&quot; &quot;phase6&quot; 
</code></pre>
<p>Based on the median column it is 16x faster in this test using the data in the question (and Note below):</p>
<pre><code>library(microbenchmark)
microbenchmark(unit = &quot;relative&quot;,
  class_reference = class_reference(x, 2), 
  setNames = with(class_ref_table, setNames(phase, code))[x]
)
## Unit: relative
##             expr      min       lq     mean  median       uq      max neval cld
##  class_reference 21.45902 18.84083 18.45559 16.0528 13.98784 129.3793   100  a 
##         setNames  1.00000  1.00000  1.00000  1.0000  1.00000   1.0000   100   b
</code></pre>
<h2>Note</h2>
<p>Input in reproducible form:</p>
<pre><code>class_ref_table &lt;- data.frame(
  code = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;),
  phase = c(&quot;phase1&quot;, &quot;phase2&quot;, &quot;phase3&quot;, &quot;phase4&quot;, &quot;phase5&quot;, &quot;phase6&quot;),
  desc = c(&quot;Desc 1&quot;, &quot;Desc 2&quot;, &quot;Desc 3&quot;, &quot;Desc 4&quot;, &quot;Desc 5&quot;, &quot;Desc 6&quot;)
)

x &lt;- c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;A&quot;, &quot;D&quot;, &quot;F&quot;)

class_reference &lt;- function(vector, column) {
  temp_vector &lt;- seq_along(vector)
  for (word in class_ref_table[[1]]) {
    z &lt;- which(class_ref_table[[1]] == word)
    temp_vector[grep(word, vector)] &lt;- class_ref_table[z, column]
  }
  temp_vector
}
</code></pre>
","2024-08-30 14:43:04","0","Answer"
"78932537","78932155","","<p>You could also convert your vector <code>x</code> into a dataframe and use an <code>inner_join</code>.  This outputs a dataframe with more information:</p>
<pre><code>library(dplyr)

x &lt;- c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;A&quot;, &quot;D&quot;, &quot;F&quot;)

df_x &lt;- data.frame(code = x)

class_ref_table &lt;- structure(list(code = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;), phase = c(&quot;phase1&quot;, 
&quot;phase2&quot;, &quot;phase3&quot;, &quot;phase4&quot;, &quot;phase5&quot;, &quot;phase6&quot;), desc = c(&quot;Desc 1&quot;, 
&quot;Desc 2&quot;, &quot;Desc 3&quot;, &quot;Desc 4&quot;, &quot;Desc 5&quot;, &quot;Desc 6&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, 
6L))

inner_join(df_x, class_ref_table)
  code  phase   desc
1    A phase1 Desc 1
2    B phase2 Desc 2
3    C phase3 Desc 3
4    A phase1 Desc 1
5    D phase4 Desc 4
6    F phase6 Desc 6
</code></pre>
","2024-08-30 14:31:07","0","Answer"
"78932219","78932155","","<p>You could try indexing using <code>match</code>:</p>
<pre><code>class_ref_table[match(x, class_ref_table$code), &quot;phase&quot;]
</code></pre>
<p>Output</p>
<pre><code># [1] &quot;phase1&quot; &quot;phase2&quot; &quot;phase3&quot; &quot;phase1&quot; &quot;phase4&quot; &quot;phase6&quot;
</code></pre>
<p>(If you want to return the whole data frame, just remove the <code>“phase”</code> from the above code)</p>
<p>This seems to be about 12x faster than the original function:</p>
<pre><code>microbenchmark::microbenchmark(
  op_function = class_reference(vector = x, 2),
  match = class_ref_table[match(x, class_ref_table$code), &quot;phase&quot;]
)

#        expr     min       lq      mean   median       uq     max neval cld
# op_function 180.030 190.2205 202.04175 197.2335 199.0600 562.735   100  a 
# match        14.746  15.5965  17.16169  16.4825  17.8845  54.653   100   b
</code></pre>
<p>This seems to hold true if you increase the size of the data frame (here, 1000x the size of the example data)</p>
<pre><code>big_df &lt;- data.frame(sapply(df, rep.int, times = 1e3))

# Unit: microseconds
#        expr        min           lq         mean      median          uq         max neval cld
# op_function 951551.544 1038882.8955 1196466.9788 1201759.472 1314753.790 1638215.506   100  a 
# match          146.573     166.3865     189.6446     183.148     211.942     250.211   100   b
</code></pre>
","2024-08-30 13:18:29","1","Answer"
"78932155","","How do you vectorize a function that assigns a value to an element based on a look up to a reference table?","<p>I'm trying to match a category to each string in a vector based on it's adjacent value on a reference data.frame. Essentially this is the same thing as vlookup in Excel.</p>
<p>Here is an example of the vector I'm assigning values to:</p>
<p><code>x &lt;- c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;A&quot;, &quot;D&quot;, &quot;F&quot;)</code></p>
<p>Here is an example of the data.frame called <code>class_ref_table </code>I am referencing:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>code</th>
<th>phase</th>
<th>desc</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>phase1</td>
<td>Desc 1</td>
</tr>
<tr>
<td>B</td>
<td>phase2</td>
<td>Desc 2</td>
</tr>
<tr>
<td>C</td>
<td>phase3</td>
<td>Desc 3</td>
</tr>
<tr>
<td>D</td>
<td>phase4</td>
<td>Desc 4</td>
</tr>
<tr>
<td>E</td>
<td>phase5</td>
<td>Desc 5</td>
</tr>
<tr>
<td>F</td>
<td>phase6</td>
<td>Desc 6</td>
</tr>
</tbody>
</table></div>
<pre><code>class_ref_table &lt;- structure(list(code = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;), phase = c(&quot;phase1&quot;, 
&quot;phase2&quot;, &quot;phase3&quot;, &quot;phase4&quot;, &quot;phase5&quot;, &quot;phase6&quot;), desc = c(&quot;Desc 1&quot;, 
&quot;Desc 2&quot;, &quot;Desc 3&quot;, &quot;Desc 4&quot;, &quot;Desc 5&quot;, &quot;Desc 6&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, 
6L))
</code></pre>
<p>Here is my current code:</p>
<pre><code>class_reference &lt;- function(vector, column) {
  temp_vector &lt;- seq_along(vector)
  for (word in class_ref_table[[1]]) {
    z &lt;- which(class_ref_table[[1]] == word)
    temp_vector[grep(word, vector)] &lt;- class_ref_table[z, column]
  }
  temp_vector
}
</code></pre>
<p>Result example:</p>
<pre><code>class_reference(x, 2)

[1] &quot;phase1&quot;
[2] &quot;phase2&quot;
[3] &quot;phase3&quot;
[4] &quot;phase1&quot;
[5] &quot;phase4&quot;
[6] &quot;phase6&quot;

</code></pre>
<p>Currently this code works fine, but it's a little slow. Currently it takes ~8.5 minutes to run this across ~3000 vectors with a total of ~100,000 elements. Is there a way to vectorize this function so it's really fast?</p>
<p>I vectorized a similar function before which reduced the run time from exponential time to linear time (10 minutes for 400,000 elements down to 0.2 seconds), however I have no idea how to do something similar here.</p>
<p>Any suggestions would be appreciated.</p>
","2024-08-30 13:06:04","1","Question"
"78931863","78931397","","<blockquote>
<p>Ideally I'd want one default in the main routine, and different default in the #included routine - is that possible?</p>
</blockquote>
<p>You cannot have that behavior from default argument.</p>
<p>From <a href=""https://en.cppreference.com/w/cpp/language/default_arguments"" rel=""nofollow noreferrer"">Default arguments</a></p>
<blockquote>
<p>If an inline function is declared in different translation units, the accumulated sets of default arguments must be the same at the end of each translation unit.</p>
</blockquote>
<p>and since C++20:</p>
<blockquote>
<p>If a non-inline function is declared in the same namespace scope in different translation units, the corresponding default arguments must be the same if present (but some default arguments can be absent in some TU).</p>
</blockquote>
","2024-08-30 11:57:11","1","Answer"
"78931607","78931397","","<p>You gonna be surprised...</p>
<p>If I understood correctly, you want to have a one file with function foo, e.g. <code>myfunc.cpp</code>:</p>
<pre><code>#include &lt;iostream&gt;

void foo(int bar) {
    printf(&quot;Hello world %i !&quot;, bar);
};
</code></pre>
<p>and other e.g. <code>externexample.cpp</code> that uses function <code>foo</code> with default argument:</p>
<pre><code>void foo(int foo = 99);

int main()
{
    foo();
}
</code></pre>
<p>So you have to understand that default values are not part of object file (maybe we should say that they are not part of ABI - Application Binary Interface), similarly parameter names are not either (I changed <code>int bar</code> to <code>int foo</code>).</p>
<p>Default values are set by the compiler in the calling code, the called function has no idea that such a value has been used. In sufficiently messy code, there may even be different default values for different files.</p>
<p>So it is important to use common header <code>.h</code> files to standardise the function call in all places. And such a <code>.h</code> file should keep a declaration with default value.</p>
","2024-08-30 10:49:42","2","Answer"
"78931397","","How do I deal with default values in extern functions?","<p>The basic function:</p>
<pre class=""lang-cpp prettyprint-override""><code>void foo(int bar=99){
};
</code></pre>
<p>And in the <code>#include</code>'d routine:</p>
<pre class=""lang-cpp prettyprint-override""><code>extern void foo(int);
foo();
</code></pre>
<p>This doesn't compile as it says 1 argument is required for <code>foo()</code>.  If I make it:</p>
<pre class=""lang-cpp prettyprint-override""><code>extern void foo(int=99);
foo();
</code></pre>
<p>This also doesn't compile, saying the default value was previously specified.  Ideally I'd want one default in the main routine, and a different default in the <code>#include</code>'d routine - is that possible?</p>
<p>I've also tried:</p>
<pre class=""lang-cpp prettyprint-override""><code>extern void foo(int bar=99);
</code></pre>
","2024-08-30 09:55:45","0","Question"
"78928977","78928933","","<p>You arent setting <code>number1_var</code> anywhere, so <code>number1=number1_var.get()</code> is returning an empty string every time. But apart from that, what you'll want to do in <code>check_PIN</code> is just call <code>entry_PIN.get()</code> instead.</p>
<pre><code>from tkinter import *

root = Tk()
root.geometry ('800x300')
root.title('Check PIN')


def button_add(number):
    number1 = entry_PIN.get()
    entry_PIN.delete (0, END)
    entry_PIN.insert (0, number1+str(number))


pin = '1234'


def check_PIN():
    if entry_PIN.get() == pin:  # get the value from the Entry here
        label1 = Label (root, text='Correct PIN!')
        label1.grid(row=6, column=1)
    else:
        label2 = Label (root, text='Wrong PIN!')
        label2.grid(row=7, column=1) 


label_pin = Label (root, text='PIN:')
label_pin.grid(row=0, column=0, padx=10, pady=10, sticky='e')

entry_PIN = Entry(root)
entry_PIN.grid (row=0, column=1, padx=10, pady=10)

button1 = Button(root, text='1', width=7, command=lambda: button_add(1))
button2 = Button(root, text='2', width=7, command=lambda: button_add(2)) 
button3 = Button(root, text='3', width=7, command=lambda: button_add(3))
button4 = Button(root, text='4', width=7, command=lambda: button_add(4))
button5 = Button(root, text='5', width=7, command=lambda: button_add(5))
button6 = Button(root, text='6', width=7, command=lambda: button_add(6)) 
button7 = Button(root, text='7', width=7, command=lambda: button_add(7))
button8 = Button(root, text='8', width=7, command=lambda: button_add(8))
button9 = Button(root, text='9', width=7, command=lambda: button_add(9)) 

button1.grid(row=1, column=1, padx=10, pady=10)
button2.grid(row=1, column=2, padx=10, pady=10)
button3.grid(row=1, column=3, padx=10, pady=10)
button4.grid(row=2, column=1, padx=10, pady=10)
button5.grid(row=2, column=2, padx=10, pady=10)
button6.grid(row=2, column=3, padx=10, pady=10)
button7.grid(row=3, column=1, padx=10, pady=10)
button8.grid(row=3, column=2, padx=10, pady=10)
button9.grid(row=3, column=3, padx=10, pady=10)

button_check = Button(root, text='Check PIN!', command=lambda:check_PIN())
button_check.grid(row=5, column=1)

root.mainloop()
</code></pre>
","2024-08-29 17:16:42","1","Answer"
"78928933","","PIN panel giving ""wrong PIN"" message no matter if PIN is correct or not","<p>I have a task to make PIN panel in GUI which is supposed to check if PIN is correct and give a message &quot;Correct PIN&quot; or &quot;Wrong PIN&quot;. I managed to make the whole code, but it returns me &quot;Wrong PIN&quot; message even if I write a correct PIN.</p>
<p>I tried to change type of PIN in string and integer, change a place where I call the function check_pin(), but I get always the same (wrong) input</p>
<p>Code:</p>
<pre><code>from tkinter import *

root = Tk()
root.geometry ('800x300')
root.title('Check PIN')

number1_var = StringVar()

def button_add(number):
    number1 = entry_PIN.get()
    entry_PIN.delete (0, END)
    entry_PIN.insert (0, number1+str(number))

pin = '1234'

def check_PIN():
    number1=number1_var.get()
    if number1 == pin:
        label1 = Label (root, text='Correct PIN!')
        label1.grid(row=6, column=1)
    else:
        label2 = Label (root, text='Wrong PIN!')
        label2.grid(row=7, column=1) 

label_pin = Label (root, text='PIN:')
label_pin.grid(row=0, column=0, padx=10, pady=10, sticky='e')

entry_PIN = Entry(root)
entry_PIN.grid (row=0, column=1, padx=10, pady=10)

button1 = Button(root, text='1', width=7, command=lambda: button_add(1))
button2 = Button(root, text='2', width=7, command=lambda: button_add(2)) 
button3 = Button(root, text='3', width=7, command=lambda: button_add(3))
button4 = Button(root, text='4', width=7, command=lambda: button_add(4))
button5 = Button(root, text='5', width=7, command=lambda: button_add(5))
button6 = Button(root, text='6', width=7, command=lambda: button_add(6)) 
button7 = Button(root, text='7', width=7, command=lambda: button_add(7))
button8 = Button(root, text='8', width=7, command=lambda: button_add(8))
button9 = Button(root, text='9', width=7, command=lambda: button_add(9)) 

button1.grid(row=1, column=1, padx=10, pady=10)
button2.grid(row=1, column=2, padx=10, pady=10)
button3.grid(row=1, column=3, padx=10, pady=10)
button4.grid(row=2, column=1, padx=10, pady=10)
button5.grid(row=2, column=2, padx=10, pady=10)
button6.grid(row=2, column=3, padx=10, pady=10)
button7.grid(row=3, column=1, padx=10, pady=10)
button8.grid(row=3, column=2, padx=10, pady=10)
button9.grid(row=3, column=3, padx=10, pady=10)

button_check = Button(root, text='Check PIN!', command=lambda:check_PIN())
button_check.grid(row=5, column=1)

root.mainloop()
</code></pre>
<p>Thank you for you answers in advance!</p>
","2024-08-29 17:04:47","1","Question"
"78928396","78925077","","<p>The seqid function in collapse can perform the grouping and then we apply the indicated function to each group.</p>
<pre><code>library(collapse)
library(magrittr)

vec2char &lt;- function(x) if (length(x) == 1) x else paste(min(x), &quot;to&quot;, max(x))
test_group %&gt;%
  tapply(., seqid(.), vec2char) %&gt;%
  paste(collapse = &quot;; &quot;)
## [1] &quot;2 to 4; 7 to 10; 14; 20 to 21&quot;
</code></pre>
","2024-08-29 14:42:41","2","Answer"
"78925574","78916099","","<p>Got it figured out in case anyone else gets stuck.</p>
<pre><code>create or replace function filter_events_search(gender varchar, birth_year int, state varchar)
  returns setof events
  stable
  language sql
  as
$$
  select
   e.*
  from
    events e
  join teams t on e.team_id = t.id
  where
    e.status = 'pending'
  and
    t.gender = filter_events_search.gender
  and
    t.birth_year = filter_events_search.birth_year
  and
    t.state = filter_events_search.state
  order by
    e.date;
$$;
</code></pre>
","2024-08-28 23:03:46","0","Answer"
"78925086","78925077","","<p>Maybe you can use <code>diff</code> + <code>cumsum</code> to tag the groups, and then convert the groups into strings</p>
<pre><code>paste0(
  by(
    x,
    cumsum(c(1, diff(x) != 1)),
    \(v) ifelse(length(v) == 1, v, paste0(min(v), &quot; to &quot;, max(v)))
  ),
  collapse = &quot;; &quot;
)
</code></pre>
<p>which gives</p>
<pre><code>&quot;2 to 4; 7 to 10; 14; 20 to 21&quot;
</code></pre>
","2024-08-28 20:03:24","5","Answer"
"78925077","","Is there a way to make a function which automatically group vectors?","<p>I'm trying to create a function that automatically group sequence vectors, where I can choose different signs/text to separate both the numbers and the groups. But have run into some obstacles.</p>
<p><strong>The basis for the function is:</strong></p>
<pre><code>test_group &lt;- c(2:4, 7:10, 14, 20:21)
a_function &lt;- function(test_group, to_from = &quot; to &quot;, sep_group = &quot;; &quot;)
</code></pre>
<p><strong>The Output I'm trying to get</strong></p>
<pre><code>a_function (test_group)
[1] &quot;2 to 4; 7 to 10; 14; 20 to 21&quot;
</code></pre>
<p><strong>What I have done</strong><br />
I've managed to get the correct output by manually adding numbers, and using <code>paste</code>  function:</p>
<pre><code>test_group &lt;- c(2:4, 7:10, 14, 20:21)
to_from &lt;- c(' to ')  
sep_group &lt;- c('; ')

a_function &lt;- function(test_group){  
   x1 &lt;- paste ( 2, 4, sep=to_from)
   x2 &lt;- paste ( 7,10, sep=to_from)
   x3 &lt;- paste( 14, sep=to_from)
   x4 &lt;- paste( 20,21, sep=to_from)  
   print (paste (x1, x2, x3, x4, sep=sep_group))
}
</code></pre>
<p><code>[1] &quot;2 to 4; 7 to 10; 14; 20 to 21&quot;</code></p>
<p>But ideally I'd like to automatic the process, so that the numbers in the text group can be changed (e.g. from a list from 0 - 100) without needing to change the function.</p>
<p>Any advice?</p>
","2024-08-28 20:00:51","2","Question"
"78921184","78918924","","<p>The <strong>technical</strong> answer to this is to use <a href=""https://docs.cypress.io/api/commands/origin#Dependencies--Sharing-Code"" rel=""noreferrer"">Cypress.require</a> to invoke the function both inside and outside the <code>cy.origin()</code>.</p>
<p>First move the function to an external support file, since <code>require()</code> requires a file to load.</p>
<p><strong>/cypress/support/utils.js</strong></p>
<pre class=""lang-js prettyprint-override""><code>export const searchFlight = () =&gt; { 
  cy.get('#sel-departure-0').should('be.visible').type('FRA');
}
</code></pre>
<p>Then <code>require()</code> it both inside and outside the <code>cy.origin()</code></p>
<pre class=""lang-js prettyprint-override""><code>const {searchFlight} = require('../support/utils.js')

if (...) {
  cy.origin('www.example.com', () =&gt; { 
    const {searchFlight} = Cypress.require('../support/utils.js')
    searchFlight();
  })
} else {
  searchFlight(); 
}
</code></pre>
<hr />
<p>The <strong>real</strong> answer is - why are you using <code>cy.origin()</code> for this?</p>
<p>You should be changing the URL in <code>cy.visit(url)</code> instead.</p>
","2024-08-28 00:49:37","3","Answer"
"78920871","78920649","","<p>There's a really big question here: &quot;Why on Earth would you want to do that?!&quot;</p>
<p>Classes, while allowed, are not the primary organizational tool of python, modules are.  When importing a module, they all become available in that module's namespace.  And, to quote <em>The Zen of Python</em>, &quot;Flat is better than nested.&quot; and &quot;Namespaces are one honking great idea -- let's do more of those!&quot;</p>
<p>Without a specific example of how you want to put functions into classes, it's hard to say what it is that you're actually trying to do.  But, it feels like you're not interested in encapsulating state with a class/object, rather, you seem interested in logically grouping functions and purpose.  To do that with modules consider this file tree:</p>
<pre><code>my_package/
    __init__.py
    user/
        __init__.py
        profile.py
        settings.py
    data/
        __init__.py
        processing.py
        transform.py
</code></pre>
<p>By moving your functions related to the user's profile into <code>my_package/user/profile.py</code> then you can import just the functions you need like this:</p>
<pre class=""lang-py prettyprint-override""><code>from my_package.user.profile import update_profile
# and call
update_profile(data)

# or if you think that being explicit is better than implicit
import my_package.user.profile as profile
# and call
profile.update_profile(data)
</code></pre>
<p>This is definitely <a href=""https://docs.python.org/dev/tutorial/modules.html#packages"" rel=""nofollow noreferrer"">the most pythonic way to organize your code</a>, rather than to try to force your functions into a class-as-namespace as static methods.
The important part of this is that <code>__init__.py</code>  in the file-tree.  That's what tells the interpreter that these folders are modules.</p>
<p>What's more is that if you do things this way, you may even be able to use the <a href=""https://packaging.python.org/en/latest/tutorials/packaging-projects/"" rel=""nofollow noreferrer"">build module</a> to make this module unloadable to a nexus/pypi repo for use in other projects... but I won't go into that here.</p>
","2024-08-27 21:55:32","2","Answer"
"78920649","","Converting functions to methods in Python 3.12","<p>I have a Python program that has 1,000s of functions (def), and none of them are using classes.</p>
<p>Is there an automated way to convert these functions into class methods? I would group related functions together as needed.</p>
<p>I tried snippets (Python 3.x), and python code, but nothing worked as expected.</p>
","2024-08-27 20:32:07","-2","Question"
"78919078","78917225","","<p><code>getRandomElement&lt;number&gt;</code> is an <strong><a href=""https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-7.html#instantiation-expressions"" rel=""nofollow noreferrer"">instantiation expression</a></strong>, as implemented in <a href=""https://github.com/microsoft/TypeScript/pull/47607"" rel=""nofollow noreferrer"">microsoft/TypeScript#47607</a> and introduced in TypeScript 4.7.</p>
<p>We've always been able to manually specify a <a href=""https://www.typescriptlang.org/docs/handbook/2/generics.html"" rel=""nofollow noreferrer"">generic</a> function's type arguments when we call it, like <code>f&lt;X, Y&gt;(a, b, c)</code>:</p>
<pre><code>declare const f: &lt;T, U&gt;(x: T, y: U, z: T[]) =&gt; [T, U]
// const f: &lt;T, U&gt;(x: T, y: U, z: T[]) =&gt; [T, U]    

declare const a: X;
declare const b: Y;
declare const c: X[];
f&lt;X, Y&gt;(a, b, c); // calling a generic function
</code></pre>
<p>but instantiation expressions let you do that <em>without</em> calling it, like <code>f&lt;X, Y&gt;</code>. That is, you can now write <code>(f&lt;X, Y&gt;)(a, b, c)</code>, where <code>f&lt;X, Y&gt;</code> is its own expression:</p>
<pre><code>(f&lt;X, Y&gt;)(a, b, c); // calling an instantiation expression
</code></pre>
<p>The resulting function <code>(f&lt;X, Y&gt;)</code> is not generic, and can be saved to its own variable:</p>
<pre><code>const g = (f&lt;X, Y&gt;);
// const g: (x: X, y: Y, z: X[]) =&gt; [X, Y]
</code></pre>
<p>This function can then be called reused with the same type arguments:</p>
<pre><code>g(a, b, c);
declare const d: X;
declare const e: Y;
g(d, e, [a, d]); 
</code></pre>
<p><a href=""https://www.typescriptlang.org/play/?#code/FASwdgLgpgTgZgQwMZQAQA1UG9UA8BcqAjKgL6iSyIqoCa2qAnoQExnAAmUSANgjGiQB7MAGcIqBIXQBuTtz4DUwsRIBGhWnK69+gkeOXSA2gF0583UpWG4hADwAVADSoAqgD4AFAVQumhG6uAF6EjmYAlKgAvB6oxv5u5sAA9CnKBhJ2qE6unj5hrszuIWGRMXEJeabAwHD26K603giuaq5IETKoacoIPDzgAOaSqENQYLAgSKhwAK5gSBAgIsBe9Y10HhFerajtyl096Uj9g2AjCKhgIgC045Mw07MLSytgqADuABbT36jfBCifZQCbKAQIaAcfaMSQfcDiBCQECQ96oKC4AAOAlEonetRsEhG0VQ6waTW2cl6hLGhAKGCKmlKGHKsXim1oNSGuzaHS6tR0in0qlQHGk2gUegyIqgmjk3I4rigrmMew4piOtXmi2WIjGUAgACUkRwhABbACiPCgZomECc3hA0DNojKGrC2GAqFQ1okMCRAEkwFxcDFUABZSHfAB0cB4QiEMC8kYgMf9wfNXiiACpUE6baJo9aLqn+d6BBA5jB4c7RMZ00GQ8lyMBffqjSbzQA5Oa2p5IK02u1h8YdjOW622yD2MC9tSwDzyg3G8c9vvTQdTiBeYxEVwsVwAZg13V6QgA1ghGMBRyvTWa11MB5O7TuACyuACsrgAbCfjqgF5Xjey6dg+vZPpur7GAARAgMGuDBagIagMFIDB-69LAMCJgAhEAA"" rel=""nofollow noreferrer"">Playground link to code</a></p>
","2024-08-27 13:10:12","1","Answer"
"78918924","","Function can not be called inside origin in cypress","<pre class=""lang-js prettyprint-override""><code>    const searchFlight = async () =&gt; {
      cy.get('#sel-departure-0').should('be.visible', 'Abreise').type('FRA');    
    }

    if (Preprod === url.preprod_url_de) {
      cy.origin('www.example.com', () =&gt; { 
        searchFlight();
      })
    } 

    else {
      searchFlight(); 
    }
</code></pre>
<p>I have a program here. Where I have to create function first and call it in if and else. This works fine in else, however it does not work in if. Because I am using Origin there. and It says.
You can not call function inside the origin.</p>
<p>Any solution?</p>
<p>The Error message is :</p>
<blockquote>
<p>&quot;Variables must either be defined within the cy.origin() command or passed in using the args option.</p>
<p>Using require() or import() within the cy.origin() callback is not supported. Use Cypress.require() to include dependencies instead, but note that it currently requires enabling the experimentalOriginDependencies flag&quot;</p>
</blockquote>
<p>How can I call the function in origin ?</p>
","2024-08-27 12:36:30","-1","Question"
"78917641","78917225","","<p>Ironically, what you just did with the line below is quite normal in many programming languages:</p>
<pre><code>let result = getRandomElement&lt;number&gt;;
</code></pre>
<p>You merely assigned a function to variable and this is completely valid in JavaScript/Typescript. That is why TypeScript won't complain - <em>you haven't done nothing wrong - not just yet</em> ;-)</p>
<p>Notice that you are <em>not calling the function</em>... <em>only merely assigning it to another variable</em>. This also means that you can simply call the assigned function directly, if you wish, as in:</p>
<pre><code>const dummyItems = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;];
const assignedFunction = getRandomElement&lt;string&gt;;
const resultOfRunningAssignedFunction = assignedFunction(dummyItems);
</code></pre>
<p>That line of code ( <strong>function invocation</strong> ) is necessary if your intent would be to see something happen. In other words, you may need to call a function to see any reasonable output/result.</p>
","2024-08-27 07:33:58","1","Answer"
"78917225","","what is the name of event that pass only type arguments into generic function in typescript?","<p>I am learning about typescript generics. I have created a generic function like the following:</p>
<pre><code>
function getRandomElement&lt;T&gt;(items: T[]): T {
    let ranIndex = Math.floor(Math.random() * items.length);
    return items[ranIndex];
}
</code></pre>
<p>then I intentionally called that function and passed type only (not passing argument into the function).</p>
<pre><code>let result = getRandomElement&lt;number&gt;;
</code></pre>
<p>Then I expected that Ts compiler give me error message about creating <strong>result</strong> variable statement, But nothing happened. <em>result</em> after that became a function (<code>(items: number[]) =&gt; number</code>).
I want to study more about this feature of typescript. But after search a while I don't find any essential information talking about.</p>
<p>Could you help explain this feature or give me a keyword about it?
Thanks for considering my stupid question.</p>
","2024-08-27 05:23:58","1","Question"
"78916967","78915462","","<p>The first function (is invalid) but if valid it would return &quot;one&quot; string that has quotes and commas and digits in it. of which to_varchar(id) will never match (the only single string you have)...</p>
<pre><code>CREATE OR REPLACE FUNCTION LOCATIONS()
RETURNS STRING
LANGUAGE SQL
AS
$$
  '''1'',''2'',''3'',''4'',''9'''
$$;
</code></pre>
<p><a href=""https://i.sstatic.net/H8Y5VwOy.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/H8Y5VwOy.png"" alt=""showing the result of the SQL is a single string"" /></a></p>
<p>where-as the explicit list of strings, is actually a completely different thing.</p>
<pre><code>select $1 as id
    ,id::text as id_t
    ,id_t in ('1','2','3','4')
    ,id_t in ('''1'',''2'',''3'',''4'',''9''')
    ,id_t in (LOCATIONS())
from values
    (1),
    (4),
    (100);
</code></pre>
<p>gives:</p>
<p><a href=""https://i.sstatic.net/iDew1qj8.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/iDew1qj8.png"" alt=""showing the results of this block of sql"" /></a></p>
<p>So this can work if you change the string from <code>locations</code> to be a single string:</p>
<pre><code>CREATE OR REPLACE FUNCTION LOCATIONS()
RETURNS STRING
LANGUAGE SQL
AS
$$
  '1,2,3,4,9'
$$;
</code></pre>
<p>then you can <a href=""https://docs.snowflake.com/en/sql-reference/functions/split"" rel=""nofollow noreferrer"">SPLIT</a> this to an array, and then use <a href=""https://docs.snowflake.com/en/sql-reference/functions/array_contains"" rel=""nofollow noreferrer"">ARRAY_CONTAINS</a></p>
<pre><code>select $1 as id
    ,id::text as id_t
    ,split(LOCATIONS(),',') as loc_s
    ,array_contains(id_t::variant, loc_s)
from values
    (1),
    (4),
    (100);
</code></pre>
<p><a href=""https://i.sstatic.net/v8zp1p5o.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/v8zp1p5o.png"" alt=""enter image description here"" /></a></p>
<p>or more simply:</p>
<pre><code>select $1 as id
from values
    (1),
    (4),
    (100)
where array_contains($1::text::variant, split(LOCATIONS(),','))
</code></pre>
<p><a href=""https://i.sstatic.net/bYCNYEUr.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/bYCNYEUr.png"" alt=""enter image description here"" /></a></p>
","2024-08-27 03:04:29","1","Answer"
"78916099","","Supabase function for querying related tables with GraphQL","<p>Pretty bummed to find out Supabase does not allow queries on related tables out of the box with GraphQL. I'm trying to create a function to help accomplish this but I'm stuck. When I run this SQL script it does so successfully but when I try to hit it in the GraphiQL playground the function doesn't exist.</p>
<pre><code>CREATE OR REPLACE FUNCTION filter_events_search(gender VARCHAR)
  RETURNS TABLE(
    id UUID
  )
LANGUAGE plpgsql
AS $$
BEGIN
  RETURN QUERY
  SELECT
    e.id
  FROM 
    events e 
    JOIN teams t ON e.team_id = t.id
  WHERE
    t.gender = filter_events_search.gender;
END;
$$;
</code></pre>
<p>Any suggestions? I've tried stable vs immutable as well.</p>
","2024-08-26 19:55:41","0","Question"
"78915907","78915462","","<p>try this</p>
<pre><code>CREATE OR REPLACE FUNCTION LOCATIONS()
RETURNS TABLE (example_col varchar2(100))
LANGUAGE SQL
AS
$$
     (with data as ( SELECT * FROM VALUES ('1'),('2'),('3'),('4'),('9')) select * from data)

$$
; 

select * from table(LOCATIONS())

create table t1 (id char(20));
insert into t1  (
    SELECT * FROM VALUES ('1'),('2'),('3'),('4'));
select * from t1 where id in (select * from table(LOCATIONS()));
</code></pre>
<p><a href=""https://i.sstatic.net/Um8NDAAE.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Um8NDAAE.png"" alt=""enter image description here"" /></a></p>
","2024-08-26 18:48:53","1","Answer"
"78915872","78915610","","<p>Quotes will denote strings, its not like postgres in that regard. You can use the ` mark (I think its called a backtick) for telling bigquery to evaluate it properly, like</p>
<pre><code>SELECT `date` FROM `bigquery-public-data.noaa_gsod.gsod2020` 
</code></pre>
","2024-08-26 18:32:49","0","Answer"
"78915610","","How do I troubleshoot when a schema has the same name as a query?","<p>How do I troubleshoot when a schema has the same name as a query?
For example:</p>
<pre><code>SELECT
   date -- This keeps wanting to become the DATE function, even though there is a column called &quot;date&quot;

FROM
    bigquery-public-data.noaa.gsod.gsod2020
</code></pre>
<p>I've tried using quotation and apostrophes, but that hasn't worked.</p>
","2024-08-26 17:10:24","0","Question"
"78915462","","Snowflake Function that returns string to be used in IN statement on Where Clause","<p>I have created a Function in Snowflake that returns a string, its a list of numbers with a single quotes separating them.</p>
<pre><code>CREATE OR REPLACE FUNCTION LOCATIONS()
RETURNS STRING
LANGUAGE SQL
AS
$$
  '''1','2','3','4','9'''
$$;
</code></pre>
<p>This returns the following: '1','2','3','4','9'</p>
<p>I want to use this in an in Statement like:</p>
<pre><code>select *
from Table
where ID in ( select LOCATIONS() )
</code></pre>
<p>That table, the ID column is a number format, so I did the following:</p>
<pre><code>select *
from Table
where to_varchar(ID) in ( select LOCATIONS() )
</code></pre>
<p>If I run this, it returns 0 results. If I copy the line above from the direct output of the function (select LOCATIONS() ) it returns results for me:</p>
<pre><code>select *
from Table
where to_varchar(ID) in ( '1','2','3','4','9' )
</code></pre>
<p>What am I missing, I am not getting errors, and everything seems to be operating as it should.</p>
<p>I was expecting to get results from my query, but there is nothing.</p>
","2024-08-26 16:27:42","0","Question"
"78914312","78911594","","<p>If you're unsure about how the file was included, you can surround the declaration with a &quot;guard code&quot;</p>
<pre><code>if (!function_exists('truncateString')) {
    function truncateString($string, $length, $ellipsis = '...') {
        // the code
    }
}
</code></pre>
<p>That way you should not have a problem with multiple <code>include</code> instead of <code>include_once</code>.</p>
","2024-08-26 12:06:13","0","Answer"
"78911864","78911594","","<p>As said in other replies, this means you have a function declared with the same name.</p>
<p>By the way, you could simplify your function like that :</p>
<pre><code>function truncateString($string, $length, $ellipsis = '...') {
    return strlen($string) &gt; $length 
        ? rtrim(substr($string, 0, strrpos(substr($string, 0, $length + 1), ' '))) . $ellipsis 
        : $string;
}

$string = 'The quick brown fox jumps over the lazy dog';
$truncatedText = truncateString($string, 20);

echo $truncatedText;
</code></pre>
","2024-08-25 17:40:38","0","Answer"
"78911594","","redeclaration error for function to truncate a string in php","<p>At the moment, I'm programming on a blog website where several blog posts will be listed!
For the first post it's already working with the attached code snippet but unfortunately not for all the following ones!</p>
<p>I've got following error: &quot;Fatal error: Cannot redeclare truncateString()&quot; for the code below:</p>
<pre class=""lang-php prettyprint-override""><code>function truncateString($string, $length, $ellipsis = '...') {

    if (strlen($string) &lt;= $length) {
        return $string;
    }

    $truncatedString = substr($string, 0, $length);
    $lastSpace = strrpos($truncatedString, ' ');

    if ($lastSpace !== false) {
        $truncatedString = substr($truncatedString, 0, $lastSpace);
    }

    return $truncatedString . $ellipsis;
}

$string = $post['body'];
$truncatedText = truncateString($string, 200);

echo $truncatedText;
</code></pre>
<p>Do you you have any recommendations, ideas how to solve it?</p>
<p>I would love to get it working for all the posts and featured posts on the website!</p>
<p><a href=""https://i.sstatic.net/0b7sTUvC.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
","2024-08-25 15:48:00","0","Question"
"78911144","78911125","","<p>You test <code>encode_or_decode</code> inside the <code>for</code> loop, and if its <code>decode</code>, you keep multiplying the <code>shift_amount</code> by <code>-1</code> on each iteration, which causes the wrong result when decoding. Move the check outside the loop, and you should be fine:</p>
<pre class=""lang-py prettyprint-override""><code>def caesar(encode_or_decode,original_text, shift_amount):
    output_text = &quot;&quot;
    if encode_or_decode == &quot;decode&quot;: # encode_or_decode check moved here
        shift_amount *= -1
    for letter in original_text:
        shifted_position = alphabet.index(letter) + shift_amount
        shifted_position %= len(alphabet)
        output_text += alphabet[shifted_position]
    print(f&quot;Here is the {encode_or_decode}d result: {output_text}&quot;)
</code></pre>
","2024-08-25 11:52:56","3","Answer"
"78911125","","Caesar cipher shifts the letters in an alphabet list incorrectly","<p>I'm following a course, where you write a caesar cipher. After doing the task myself with slightly different code (which worked), I have now tried to replicate the code exactly from the course, and it does not seem to work (ChatGPT says it should be working too)</p>
<p>If I choose to 'decode', type the letter 'C' and shift it by 2 (which will become -2), it correctly shows the letter 'a'.</p>
<p>But if i try to decode a full word, for example by choosing 'decode', writing 'khoor' and shifting by '3', it should show 'hello', but instead shows 'hklro'.</p>
<p>Here is the code:</p>
<pre><code>alphabet = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']

direction = input(&quot;Type 'encode' to encrypt, type 'decode' to decrypt:\n&quot;).lower()
text = input(&quot;Type your message:\n&quot;).lower()
shift = int(input(&quot;Type the shift number:\n&quot;))

def caesar(encode_or_decode,original_text, shift_amount):
    output_text = &quot;&quot;
    for letter in original_text:
        if encode_or_decode == &quot;decode&quot;:
            shift_amount *= -1
        shifted_position = alphabet.index(letter) + shift_amount
        shifted_position %= len(alphabet)
        output_text += alphabet[shifted_position]
    print(f&quot;Here is the {encode_or_decode}d result: {output_text}&quot;)

caesar(original_text=text, shift_amount=shift, encode_or_decode=direction)
</code></pre>
<p>My input was</p>
<pre><code>&quot;decode&quot;, &quot;khoor&quot;, &quot;3&quot;
</code></pre>
","2024-08-25 11:41:59","1","Question"
"78907348","78907121","","<p>Just delay your congratulations alert by 10 ms and it should work just fine:</p>
<pre><code>if (diamond == guess) {
      // window.alert(&quot;Congratulations! You have found the diamond.&quot;);
      document.getElementById(&quot;messageBox&quot;).innerHTML =
        &quot;Congratulations! You have found the diamond!&quot;;

      setTimeout(() =&gt; {
        again = window.prompt(
          &quot;Would you like to play another game? Enter Y or N.&quot;,
          &quot;Y&quot;
        );

        if (again == &quot;N&quot; || again == &quot;n&quot;) {
          window.alert(&quot;Thanks for playing. Goodbye.&quot;);
          window.close();
        } else {
          window.alert(
            &quot;The diamond has been hidden. You can now try again.&quot;
          );
          window.location.reload();
        }
      }, 100);
    }
</code></pre>
","2024-08-23 19:29:40","0","Answer"
"78907121","","Why does the congratulations message not display in a div using document.getElementById","<p>I've written the below code and need to change the window.alert messages so that they show in a div box instead. However, I've started with the initial congratulations message and it doesn't appear at all. Below is my code:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;title&gt; Hide And Seek &lt;/title&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;script&gt;
var diamond;
var number_of_guesses;

diamond = Math.ceil(Math.random() * 10);

number_of_guesses = 0;

function check(guess) {
    if(diamond == guess)
    {
        // window.alert(&quot;Congratulations! You have found the diamond.&quot;);
        document.getElementById('messageBox').textContent = 'Congratulations! You have found the diamond!';
        
        again = window.prompt(&quot;Would you like to play another game? Enter Y or N.&quot;, &quot;Y&quot;);
        
        if(again == &quot;N&quot; || again == &quot;n&quot;)
        {
            window.alert(&quot;Thanks for playing. Goodbye.&quot;);
            window.close();
        }
        else
        {
            window.alert(&quot;The diamond has been hidden. You can now try again.&quot;);
            window.location.reload();
        }
    }
    else
    {
        number_of_guesses = number_of_guesses + 1;
        
        if(diamond &lt; guess)
        {
            result = &quot;lower&quot;
        }
        else
        {
            result = &quot;higher&quot;
        }
        window.alert(&quot;Guess number &quot; + number_of_guesses + &quot; is incorrect. Diamond is &quot; + result + &quot;.&quot;);
    }
    if(number_of_guesses &gt;= 3)
    {
        window.alert(&quot;Sorry, you have run out of guesses! The diamond was in box &quot; + diamond);
        
        again = window.prompt(&quot;Would you like to play another game? Enter Y or N.&quot;, &quot;Y&quot;);
        
        if(again == &quot;N&quot; || again == &quot;n&quot;)
        {
            window.alert(&quot;Thanks for playing. Goodbye.&quot;);
            window.close();
        }
        else
        {
            window.alert(&quot;The diamond has been hidden. You can now try again.&quot;);
            window.location.reload();
        }
    }
}
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;form name=&quot;hidenseek&quot;&gt;
    &lt;input id=&quot;box1&quot; type=&quot;button&quot; value=&quot;1&quot; onClick=&quot;check(box1.value)&quot;&gt;
    &lt;input id=&quot;box2&quot; type=&quot;button&quot; value=&quot;2&quot; onClick=&quot;check(box2.value)&quot;&gt;
    &lt;input id=&quot;box3&quot; type=&quot;button&quot; value=&quot;3&quot; onClick=&quot;check(box3.value)&quot;&gt;
    &lt;input id=&quot;box4&quot; type=&quot;button&quot; value=&quot;4&quot; onClick=&quot;check(box4.value)&quot;&gt;
    &lt;input id=&quot;box5&quot; type=&quot;button&quot; value=&quot;5&quot; onClick=&quot;check(box5.value)&quot;&gt; &lt;br&gt;
    &lt;input id=&quot;box6&quot; type=&quot;button&quot; value=&quot;6&quot; onClick=&quot;check(box6.value)&quot;&gt;
    &lt;input id=&quot;box7&quot; type=&quot;button&quot; value=&quot;7&quot; onClick=&quot;check(box7.value)&quot;&gt;
    &lt;input id=&quot;box8&quot; type=&quot;button&quot; value=&quot;8&quot; onClick=&quot;check(box8.value)&quot;&gt;
    &lt;input id=&quot;box9&quot; type=&quot;button&quot; value=&quot;9&quot; onClick=&quot;check(box9.value)&quot;&gt;
    &lt;input id=&quot;box10&quot; type=&quot;button&quot; value=&quot;10&quot; onClick=&quot;check(box10.value)&quot;&gt; &lt;p&gt;
&lt;/form&gt;

&lt;h3 id=&quot;messageBox&quot;&gt; Click on the box of your choice. &lt;/h3&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>I've changed all other window.alert messages to the same and they work fine, apart from the congratulations message</p>
","2024-08-23 18:07:54","0","Question"
"78905858","78905827","","<p>When testing locally, use the Firebase Functions emulator. Make sure to set the environment configuration for the emulator as well:</p>
<pre><code>firebase functions:config:get &gt; .runtimeconfig.json
</code></pre>
<p>This command creates a .runtimeconfig.json file in your functions directory, which the emulator will use.</p>
","2024-08-23 12:16:05","0","Answer"
"78905827","","I get Error TypeError: Cannot read properties of undefined (reading 'key')","<p>I'm experiencing a couple of issues with configuring and using OpenAI in a Firebase function.</p>
<p>When trying to access the OpenAI API key in the openaiConfig.ts file, I get the error:</p>
<pre><code>TypeError: Cannot read properties of undefined (reading 'key')
</code></pre>
<p>Here's the relevant part of the code:</p>
<pre><code>import OpenAI from 'openai';
import * as functions from 'firebase-functions';

const openaiApiKey = functions.config().openai.key;

export const openai = new OpenAI({
    apiKey: openaiApiKey,
});
</code></pre>
<p>I set the environment variable using the command:</p>
<pre><code>firebase functions:config:set openai.key=&quot;MY_KEY&quot;
</code></pre>
<p><strong>Additional Information:</strong></p>
<p>The functions execute normally when deployed to the cloud.
The issue occurs only when running locally with the command:</p>
<pre><code>firebase emulators:start
</code></pre>
<p>Version:
firebase-admin: &quot;^12.1.0&quot;,
firebase-functions: &quot;^5.0.0&quot;,
openai: &quot;^4.56.0&quot;</p>
","2024-08-23 12:10:00","0","Question"
"78905576","78904626","","<p>This problem can relate to the user under which the python app is run. For that user the workbook should be in trusted location.</p>
<p>Log in the system under the user, run Excel and setup trusted locations.</p>
","2024-08-23 11:02:41","0","Answer"
"78904626","","Problems when calling macro from Python: Cannot run the macro SAPLogon","<p>I have an excel file that runs a macro. The macro runs with no problem when I run it from the Excel file. However, I want to open it and run the macro automatically each day. The PY script below manages to make sure SAP Analysis addin actived and open my desired excel file and start the macro:</p>
<pre><code>import xlwings as xw

# Path to your Excel file
excel_file_path = 'Excel.xlsm'

# Create an instance of the Excel application
app = xw.App(visible=False)  # Change to visible=True to debug

# Access the COMAddIns collection from the Excel API
com_addins = app.api.COMAddIns

# Specify the ProgID of the COM Add-In
addin_prog_id = &quot;SapExcelAddIn&quot;

# Enable the specified COM Add-In
for addin in com_addins:
    if addin.ProgID == addin_prog_id:
        if not addin.Connect:
            addin.Connect = True

# Open the workbook
wb = app.books.open(excel_file_path)

# Run the macro
wb.api.Application.Run('RefreshData')

# Optionally, save and close the workbook
wb.save()
wb.close()

# Quit Excel application
app.quit()
</code></pre>
<p>Here is the macro RefreshData. Just simple connect to SAP Analysis, set var and refresh data</p>
<pre><code>' Call SAP Logon
Application.Run &quot;SAPLogon&quot;, &quot;DS_1&quot;, &quot;810&quot;, &quot;user&quot;, &quot;password&quot;, &quot;EN&quot;

' Set refresh behavior to off
Application.Run &quot;SAPSetRefreshBehaviour&quot;, &quot;Off&quot;

' Set the variable
Application.Run &quot;SAPExecuteCommand&quot;, &quot;PauseVariableSubmit&quot;, &quot;On&quot;
Application.Run &quot;SAPSetVariable&quot;, &quot;0I_DAYIN&quot;, dateRange, &quot;INPUT_STRING&quot;, &quot;DS_1&quot;
Application.Run &quot;SAPExecuteCommand&quot;, &quot;PauseVariableSubmit&quot;, &quot;Off&quot;

' Restore refresh behavior to on
Application.Run &quot;SAPSetRefreshBehaviour&quot;, &quot;On&quot;

' Refresh all SAP Analysis data sources in the active workbook
Application.Run &quot;SAPExecuteCommand&quot;, &quot;RefreshData&quot;

' Save workbook
ThisWorkbook.Save
</code></pre>
<p>But when run python scripts. The following error message appears</p>
<p><a href=""https://i.sstatic.net/65TrJxFB.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/65TrJxFB.png"" alt=""enter image description here"" /></a></p>
<p>// Update
I think i found the root casue
I tried debug using app = xw.App(visible=True)
When running Python code, the workbook opens, but the Analysis tab does not load
<a href=""https://i.sstatic.net/YC89AWx7.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/YC89AWx7.png"" alt=""enter image description here"" /></a></p>
<p>Normally, it shows as below
<a href=""https://i.sstatic.net/263WpqDM.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/263WpqDM.png"" alt=""enter image description here"" /></a></p>
<p>I also found a post about this issue on the SAP forum, but there is no solution
<a href=""https://community.sap.com/t5/technology-q-a/ao-2-0-addin-vba-functions/qaq-p/11230581"" rel=""nofollow noreferrer"">enter link description here</a></p>
","2024-08-23 06:47:32","0","Question"
"78904240","78903950","","<p>Yes, Chapel supports routines that accept a variable number of arguments (<em>varargs</em> or <em>variadic arguments</em>), so it is possible to write such routines yourself.  I'll also note that you're not alone in your request for a routine that inserts spaces between arguments, as noted in issues like <a href=""https://github.com/chapel-lang/chapel/issues/14108"" rel=""nofollow noreferrer"">this</a> and <a href=""https://github.com/chapel-lang/chapel/issues/25695"" rel=""nofollow noreferrer"">this</a>.</p>
<p>As a simple example, the following procedure accepts an arbitrary number of arguments of arbitrary type and prints them out with spaces between each [<a href=""https://ato.pxeger.com/run?1=VU9LDoIwEN33FC-sJMEmysZgvINXQGihCbakDCHEeBI3bPROehqHX4yrybzfzHu8sjKtVTUMz5b09vD-ZM5qU4BHQ8jVpS1wAvlWHYWovctw7c_eWKrsJvVFI6UMcROA0YuaSmXReUOKJUGWVpXK0RkqEwQRJg_1tUoa4pgiPLJXOz8SMHbikTsGMYeMVyIECCblmsvLXYjfK7sI-wgxw_-YjNmrXevZPjdciq6Fvw"" rel=""nofollow noreferrer"">try it on ATO</a>]:</p>
<pre><code>config const debug = true;

proc myPrintln(args...) {
  if debug then writeln(&quot;called with: &quot;, args.type:string);
  for arg in args do
    write(arg, &quot; &quot;);
  writeln();
}

myPrintln(1, 2, 3);
myPrintln(1, 2.3, &quot;four&quot;);
</code></pre>
<p>In such routines, the single formal argument identifier representing the variable number of arguments represents all of the arguments as a tuple type.  So here, whether I pass in 3 ints or an int, real, and string, <code>args</code> will be a tuple representing those arguments, as indicated by the debug print at the routine's start.  I then iterate over those arguments, printing them out one at a time.</p>
<p>Here's a second variation where I loop over the tuple's indices in order to detect the last element and squash the extra trailing space [<a href=""https://ato.pxeger.com/run?1=VZDNSgMxFIVxG_AdDllZSIO1G2k77-C-uEhnkpkLaTIkGUotPombbvSh-jReZ1rFVcjlOz-cj6-6M7315_PnUNz8-XJ3X8fgqAU_uaCxu6FFBWd8tmsh-hRr7I8viULx4cGkNmutZzgJgNwVL50NOCQqlhFZG-9tgwOVbgWpMGrKsberXNimna1Z62JCb5LZg0ABj1pvRi7Tm0UTmcDkOEZu6VX9xBGqCr_cfDElSwnLbSEhR-9bE_68C_FXfqHwpLDk8_-bXipIF4fE8mmV6zi3kb4B"" rel=""nofollow noreferrer"">ATO</a>]:</p>
<pre><code>config const debug = false;

proc myPrintln(args...) {
  if debug then writeln(&quot;called with: &quot;, args.type:string);
  for param i in 0..&lt;args.size do
    write(args[i], if i == args.size-1 then &quot;&quot; else &quot; &quot;);
  writeln();
}

myPrintln(1, 2, 3);
myPrintln(1, 2.3, &quot;four&quot;);
</code></pre>
<p>Additional decorators can be attached to formal varargs arguments to constrain them to be a specific type (e.g., &quot;a variable number of integers&quot;) or to query things like the number of arguments passed to the varargs routine.  See <a href=""https://chapel-lang.org/docs/primers/varargs.html"" rel=""nofollow noreferrer"">this primer</a> or <a href=""https://chapel-lang.org/docs/language/spec/procedures.html#index-16"" rel=""nofollow noreferrer"">this section in the language specification</a> for more details.</p>
","2024-08-23 03:48:47","2","Answer"
"78903950","","Making a `writeln` like function with an arbitrary number of arguments","<p><code>writeln()</code> is useful for printing variables, but one inconvenience (to me) is that it does not insert spaces between variables (unlike <code>print()</code> in Python). For example,</p>
<pre><code>var x = 100, y = 200;
writeln(x, y);                   // 100200
writeln(&quot;x, y =&quot;, x, y);         // x, y =100200
writeln(&quot;x, y = &quot;, x, &quot; &quot;, y);   // x, y = 100 200 (need manual spaces)
</code></pre>
<p>One can enclose all the arguments in parentheses (to make them a tuple)</p>
<pre><code>writeln((&quot;x, y =&quot;, x, y));       // (x, y =, 100, 200)
</code></pre>
<p>but the output becomes a bit awkward because of additional commas (depending on the data to be printed).</p>
<p>So, I am wondering if it is possible to make a custom <code>writeln()</code> like function that inserts spaces between all the arguments. For this purpose, is there some method for writing a function that receives an arbitrary number of arguments? (As a workaround, I could overload different versions of &quot;myprint()&quot;, for example, but I guess there may be a different approach.)</p>
<pre><code>proc myprint(x1) { writeln(x1); }
proc myprint(x1, x2) { writeln(x1, &quot; &quot;, x2); }

myprint(&quot;hello&quot;);            // hello
myprint(&quot;hello&quot;, &quot;world&quot;);   // hello world
</code></pre>
","2024-08-23 00:36:06","3","Question"
"78901563","78900937","","<h2>Function declarations</h2>
<p>A modern <a href=""https://en.cppreference.com/w/c/language/function_declaration"" rel=""nofollow noreferrer"">function declaration in C</a> will at least specify</p>
<ul>
<li>the return value type or <code>void</code></li>
<li>the name</li>
<li>argument types with their (optional) names <em><strong>or</strong></em> <code>void</code></li>
</ul>
<p>The specification of <code>extern</code> binding is implied for function declarations. The return value is missing (which is acceptable until C23) but the comma after the <code>void</code> parameter specification is syntactically wrong.</p>
<h2>Preprocessor macros</h2>
<p>In your example, <code>MY_CODE</code> is <em>defined</em> but doesn't have a text to be replaced with (which can be used to branch in the preprocessor for creating code variants). So will have a hard time to use it productively between a comma and a closing parenthesis in C. You may, on the other hand, include also commas into macro definitions.</p>
<h2>Function pointers (as arguments)</h2>
<p>From your comment on the accepted answer, I read that you are trying to call a function with a function pointer as an argument. <a href=""https://en.cppreference.com/w/c/language/pointer#Pointers_to_functions"" rel=""nofollow noreferrer"">Function pointers</a> look a bit complicated, so they are often made more accessible via <a href=""https://en.cppreference.com/w/c/language/typedef"" rel=""nofollow noreferrer""><code>typedef</code></a>:</p>
<pre><code>/* translate1: pointer to a function that takes and returns a char */
char (*translate1)(char);

/* translate_function_t is a name for above function type 
   translate2 is again a pointer to a function that takes and returns a char
*/
typedef char (*translate_function_t)(char);
translate_function_t translate2;

/* transliterate: replaces each char in str by calling your_translate */
void transliterate(char* str, translate_function_t your_translate);
</code></pre>
<p>The <code>transliterate</code> function in the above example takes function pointer arguments in the second parameter <code>your_translate</code>.</p>
<h3>Simple function pointer example</h3>
<pre><code>#include &lt;stdio.h&gt;

/* translate_function_t: pointer to a function that takes and returns a char */
typedef char (*translate_t)(char);

/* transliterate: replaces each char in str by calling translate */
void transliterate(char* str, translate_t translate);

char my_trans(char a)
{
    if (a == 'x')
        return 'u';
    if (a == 'u')
        return 'x';
    return a;
}

void transliterate(char* str, translate_t translate)
{
    while (*str) {
        *str = translate(*str);
        str++;
    }
}

int main()
{
    char msg[] = &quot;Hello world! (xu)&quot;;
    printf(&quot;%s\n&quot;, msg);
    transliterate(msg, my_trans);
    printf(&quot;%s\n&quot;, msg);
    return 0;
}
</code></pre>
","2024-08-22 12:26:28","3","Answer"
"78900985","78900937","","<p>MyLatestUpdate is turned into 1u by the preprocessor. You try to compile</p>
<pre><code>extern FUNC (void, ) 1u()(void);
</code></pre>
<p>Which is complete nonsense.</p>
","2024-08-22 10:13:22","1","Answer"
"78900937","","C compilation error ""called object is not a function or function pointer""","<p>I got a snippet of C code from online, and I am trying to compile it. I am getting the following error.</p>
<pre><code>error: expected declaration specifiers or '...' before ')' token
    6 | extern FUNC(void, MY_CODE) MyLatestUpdate()(void);
      |                          ^
ERROR!
/tmp/RkrMFH0deT.c: In function 'main':
/tmp/RkrMFH0deT.c:11:41: error: called object is not a function or function pointer
   11 | #define STD_ON                          1u
      |                                         ^~
</code></pre>
<p>Below is the snippet of the code</p>
<p>In .h file</p>
<pre><code>#define MY_CODE

extern FUNC(void, MY_CODE) MyLatestUpdate()(void);
</code></pre>
<p>In another .h file</p>
<pre><code>#define MyLatestUpdate()    MyPreValue()
#define MyPreValue()        UPDATE_VALUE
#define UPDATE_VALUE        STD_ON
#define STD_ON              1u
</code></pre>
<p>in .c file</p>
<pre><code>int main() {
    // Write C code here
    MyLatestUpdate()();
    printf(&quot;test code&quot;);
    return 0;
}
</code></pre>
<p>Seems like I am getting the error in the .h file</p>
<pre><code>extern FUNC(void, MY_CODE) MyLatestUpdate()(void);

error: expected declaration specifiers or '...' before ')' token
</code></pre>
<p>Is the function declared as a function pointer or a function macro? How can I resolve these issues? Any help</p>
","2024-08-22 10:00:08","-3","Question"
"78899792","78899394","","<p>Here's a simple recursive function to split a data frame sequentially by column.  Be warned that this will perform poorly as the number of columns and also distinct values within columns increases.</p>
<pre><code>recursive_split &lt;- function(data, n = 1) {
  if (n &gt; ncol(data)) return(data)
  lapply(split(data, data[[n]]), recursive_split, n + 1)
}

res &lt;- recursive_split(Data_Frame)

identical(res, Split_Data)
[1] TRUE
</code></pre>
<p>A more performant and flexible recursive split function is available in the <code>collapse</code> package:</p>
<pre><code>collapse::rsplit(Data_Frame, Data_Frame, keep.by = TRUE)
</code></pre>
","2024-08-22 04:30:27","1","Answer"
"78899436","78899394","","<p>I‘m not entirely sure if you need help in specifically writing your recursive function or if you want to be able to dynamically pass the number of columns to split by.</p>
<p>If the latter you could simply do:</p>
<pre><code>library(tidyverse)

col_names &lt;- c('Factor_1', 'Factor_2', 'Factor_3')


Data_Frame %&gt;%
  group_by(across(all_of(!!col_names))) %&gt;%
  group_split()
</code></pre>
<p>In this example I manually define the three columns, but in other use cases you could automate this dynamically as well, e.g.:</p>
<pre><code>col_names &lt;- names(Data_Frame)[2:6]
</code></pre>
<p>or things like that.</p>
","2024-08-22 00:58:44","0","Answer"
"78899394","","Recursively Converting a Data Frame to a Nested List Where the Level of Nestedness of the List Equals the Number of Columns in the Data Frame","<p>I have the following data frame.</p>
<pre><code>Data_Frame &lt;- structure(list(Factor_1 = c(&quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;AA&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;BB&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;CC&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;, &quot;DD&quot;), Factor_2 = c(&quot;aa&quot;, &quot;aa&quot;, &quot;aa&quot;, &quot;bb&quot;, &quot;bb&quot;, &quot;bb&quot;, &quot;cc&quot;, &quot;cc&quot;, &quot;cc&quot;, &quot;dd&quot;, &quot;dd&quot;, &quot;dd&quot;, &quot;ee&quot;, &quot;ee&quot;, &quot;ee&quot;, &quot;aa&quot;, &quot;aa&quot;, &quot;aa&quot;, &quot;bb&quot;, &quot;bb&quot;, &quot;bb&quot;, &quot;cc&quot;, &quot;cc&quot;, &quot;cc&quot;, &quot;dd&quot;, &quot;dd&quot;, &quot;dd&quot;, &quot;ee&quot;, &quot;ee&quot;, &quot;ee&quot;, &quot;aa&quot;, &quot;aa&quot;, &quot;aa&quot;, &quot;bb&quot;, &quot;bb&quot;, &quot;bb&quot;, &quot;cc&quot;, &quot;cc&quot;, &quot;cc&quot;, &quot;dd&quot;, &quot;dd&quot;, &quot;dd&quot;, &quot;ee&quot;, &quot;ee&quot;, &quot;ee&quot;, &quot;aa&quot;, &quot;aa&quot;, &quot;aa&quot;, &quot;bb&quot;, &quot;bb&quot;, &quot;bb&quot;, &quot;cc&quot;, &quot;cc&quot;, &quot;cc&quot;, &quot;dd&quot;, &quot;dd&quot;, &quot;dd&quot;, &quot;ee&quot;, &quot;ee&quot;, &quot;ee&quot;), Factor_3 = c(&quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;, &quot;xxx&quot;, &quot;yyy&quot;, &quot;zzz&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, -60L))
</code></pre>
<p>I want to write a recursive function that will split this data frame into a nested list. The output should look like the following object.</p>
<pre><code>Split_Data &lt;- lapply(lapply(split(Data_Frame, Data_Frame[, 1]), function (x) {
  split(x, x[, 2])
}), function (x) {
  lapply(x, function (y) {
    split(y, y[, 3])
  })
})
</code></pre>
<p>In other words, the data frame should be split first by the value of the first column, then by the value in the second column, and so on and so forth until all the columns have been used to split the data into smaller and smaller data frames (the list becomes more and more nested with each split).</p>
<p>In this example, there are only three columns in the data frame, but in practice, there could be any number of columns, and so I'd like a recursive function to be able to handle any number of columns.</p>
<p><code>base</code> R solutions are preferred.</p>
<p>Thanks!</p>
","2024-08-22 00:27:17","1","Question"
"78899003","78893252","","<p>I figured it out, my main mistake (among others) was the {} in the AddColumn function.
This is how it should look like:</p>
<pre><code>   ShoviHibrid=

      let
         X= Table.FromRecords(Table.TransformRows(IDandKvutsa, (r)=&gt;

         Record.TransformFields(r, {&quot;CSV Table With ID and Kvutsa&quot;, 
         (TableField)=&gt;

        Table.AddColumn(TableField,&quot;Hybrid Value&quot;, (SubRecord)=&gt;             

              if Text.Contains(SubRecord[ID],&quot;Meyuadot&quot;) then

                        &quot;Success&quot; else &quot;not success&quot;

              )})))

     in

         X
</code></pre>
","2024-08-21 21:06:04","0","Answer"
"78896573","78895954","","<p>The problem is that your global is still referencing to $anna.</p>
<p>you can check it by adding print_r($GLOBALS['girl']):</p>
<pre><code>function change(){
    global $girl, $bella;
    $girl = &amp;$bella;
    print_r($girl); //referencing to bella
    print_r($GLOBALS['girl']); //referencing to Anna
    output_girl(); // This still outputs 'Anna'
}
</code></pre>
<p>}</p>
<p>I don't know the correct solution for this, but there is a way around it. Just add:</p>
<pre><code>function change(){
    global $girl, $bella;
    $GLOBALS['girl'] = &amp;$bella;
    output_girl(); // now is 'Bella'
}
</code></pre>
","2024-08-21 10:57:38","2","Answer"
"78896498","78895954","","<p>It's impossible to do that in PHP with only <code>global</code> keyword.</p>
<p>This is because <code>references</code> in php are not same as <code>pointers</code> as we know them for example from C/C++.</p>
<p>When you do <code>$girl = &amp;$anna;</code> on line 3 it doesn't store address of <code>$anna</code> variable in $girl variable. Rather the new symbol <code>$girl</code> is created to reference same variable as symbol <code>$anna</code>.</p>
<p>When you do <code>global $girl, $bella;</code> inside of a function. New local symbols <code>$girl</code> and <code>$bella</code> are created and they are made to reference their global counterpart.</p>
<p>When you do <code>$girl = &amp;$bella;</code> inside the function the local symbol <code>$girl</code> is changed to reference same variable as local symbol <code>$bella</code> but the global symbol <code>$girl</code> is not changed. After doing that both local symbols <code>$girl</code> and <code>$bella</code> are referencing same global symbol <code>$bella</code>.</p>
","2024-08-21 10:41:45","5","Answer"
"78896378","78896257","","<p>IMO you will probably use the socket later after using your <code>initialize_server</code> method. So you should keep your second snippet to avoid constantly passing the server AND the socket to each function targetting this connection.</p>
<p>After typing correction, my favorite option is:</p>
<pre class=""lang-py prettyprint-override""><code>class Server:
    def __init__(self, host: Optional[str] = None,
                 port: int = 8000,
                 debug_mode: bool = False) -&gt; None:
        self.host = host if host is not None else socket.gethostbyname('localhost')
        self.port: int = port
        self.server_sock: Optional[socket.socket] = None
        self.initialize_server()
        self.debug_mode = debug_mode

    def initialize_server(self) -&gt; None:
        try:
            self.server_sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
            self.server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
            self.server_sock.setblocking(False)
            self.server_sock.bind((self.host, self.port))
        except socket.error as e:
            self.server_sock = None
</code></pre>
<p>One more advice, start to log everything when you handle your socket (example: at the <em>exception</em> you should log the error with <code>logging</code> module)</p>
","2024-08-21 10:16:12","0","Answer"
"78896257","","Passing a socket to a function and modifying it, or creating a socket inside the function and returning it","<p>I am creating a simple python ASGI server and I have doubts about my implementation of the function that creates the server's socket.</p>
<p>Should I create the server's socket inside the function and return it like this:</p>
<pre><code>class Server:
    def __init__(self, host: Optional[str] = None,
                 port: Optional[int] = None,
                 debug_mode: bool = False) -&gt; None:
        self.host = host if host is not None else socket.gethostbyname('localhost')
        self.port = port if port is not None else 8000
        self.server_sock = self.initialize_server()
        self.debug_mode = debug_mode

    def initialize_server(self) -&gt; Optional[socket.socket]:
        try:
            server_sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
            server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
            server_sock.setblocking(False)
            server_sock.bind((self.host, self.port))
            return server_sock
        except socket.error as e:
            return None
</code></pre>
<p>Or should I pass an empty socket object to the function, modify it, like so:</p>
<pre><code>class Server:
    def __init__(self, host: Optional[str] = None,
                 port: Optional[int] = None,
                 debug_mode: bool = False) -&gt; None:
        self.host = host if host is not None else socket.gethostbyname('localhost')
        self.port = port if port is not None else 8000
        self.server_sock = None
        self.initialize_server()
        self.debug_mode = debug_mode

    def initialize_server(self) -&gt; Optional[socket.socket]:
        try:
            self.server_sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
            self.server_sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
            self.server_sock.setblocking(False)
            self.server_sock.bind((self.host, self.port))
        except socket.error as e:
            self.server_sock = None
</code></pre>
<p>I would like to know if one implementation is preferable over the other, why, and if it can be implemented even better somehow.</p>
","2024-08-21 09:48:44","0","Question"
"78895954","","PHP: Update global reference variabele inside function scrope","<p>I'm trying to change a global value that is currently a reference to another value. My current implementation doesn't work:</p>
<pre><code>$anna = array('Name' =&gt; &quot;Anna&quot;);
$bella = array('Name' =&gt; &quot;Bella&quot;);
$girl = &amp;$anna;

function change(){
    global $girl, $bella;
    $girl = &amp;$bella;
    // $girl['Name'] is now 'Bella'
    output_girl(); // This still outputs 'Anna'
}

function output_girl(){
    global $girl;
    echo $girl['Name'];
}

change();

// What do we want to see?
echo $anna['Name']; // Should still be 'Anna'
echo $bella['Name']; // Should still be 'Bella'
echo $girl['Name']; // Should now be 'Bella' (in above example this will still be 'Anna')
</code></pre>
<p>Important notes:</p>
<ul>
<li>A workaround with a return value like <code>$girl = &amp;change();</code> is not a solution to my problem. It's important that the global <code>$girl</code> is changed before the end of the <code>change()</code> function. (Reason being this is a problem inside a complex project with nested function calls all wanting to use the same global variables.)</li>
<li>I am aware a workaround could be coded using the <code>$GLOBALS</code> array. However, I am specifically interested if this problem can be solved using the <code>global</code> keyword as seen in the example code. And if not, to know why this isn't possible in PHP.</li>
<li>Removing the <code>&amp;</code>to make it <code>$girl = $bella</code> is also not a solution. The global $girl object needs to always be a <strong>reference</strong> to the original arrays defined at the start of the script. We cannot ever make copies / break references.</li>
</ul>
<p><strong>Question:</strong> Is this an impossibility in PHP when I use the <code>global</code> keyword? If so, can someone explain why? If not, can someone explain how to make this work?</p>
","2024-08-21 08:41:55","2","Question"
"78894583","78894402","","<p>You can define a recursive function like this</p>
<pre><code>f &lt;- function(data, fct) {
  if (length(fct) == 1) split(data, data[fct])
  lapply(split(data, data[fct[1]]), f, fct = fct[-1])
}
</code></pre>
<p>such that</p>
<pre><code>&gt; f(Data_Frame, Factors_to_Split_by)
$A
$A$a
$A$a$`1`
  Factor_1 Factor_2 Factor_3 Response
1        A        a        1 25.91996
2        A        a        1 25.12079

$A$a$`2`
  Factor_1 Factor_2 Factor_3 Response
3        A        a        2 24.88218
4        A        a        2 24.77660


$A$b
$A$b$`1`
  Factor_1 Factor_2 Factor_3 Response
5        A        b        1 25.63426
6        A        b        1 24.64074

$A$b$`2`
  Factor_1 Factor_2 Factor_3 Response
7        A        b        2 26.60224
8        A        b        2 25.17982


$A$c
$A$c$`1`
   Factor_1 Factor_2 Factor_3 Response
9         A        c        1 24.90249
10        A        c        1 26.12602

$A$c$`2`
   Factor_1 Factor_2 Factor_3 Response
11        A        c        2 25.87801
12        A        c        2 24.82886



$B
$B$a
$B$a$`1`
   Factor_1 Factor_2 Factor_3 Response
13        B        a        1 25.29955
14        B        a        1 24.74579

$B$a$`2`
   Factor_1 Factor_2 Factor_3 Response
15        B        a        2 25.06018
16        B        a        2 27.33450


$B$b
$B$b$`1`
   Factor_1 Factor_2 Factor_3 Response
17        B        b        1 25.78050
18        B        b        1 24.96464

$B$b$`2`
   Factor_1 Factor_2 Factor_3 Response
19        B        b        2 24.04945
20        B        b        2 23.52038


$B$c
$B$c$`1`
   Factor_1 Factor_2 Factor_3 Response
21        B        c        1 25.68414
22        B        c        1 25.25209

$B$c$`2`
   Factor_1 Factor_2 Factor_3 Response
23        B        c        2 24.32218
24        B        c        2 25.81953



$C
$C$a
$C$a$`1`
   Factor_1 Factor_2 Factor_3 Response
25        C        a        1 23.61297
26        C        a        1 25.52444

$C$a$`2`
   Factor_1 Factor_2 Factor_3 Response
27        C        a        2 27.80018
28        C        a        2 24.85324


$C$b
$C$b$`1`
   Factor_1 Factor_2 Factor_3 Response
29        C        b        1 24.63975
30        C        b        1 23.95888

$C$b$`2`
   Factor_1 Factor_2 Factor_3 Response
31        C        b        2 24.93261
32        C        b        2 23.85798


$C$c
$C$c$`1`
   Factor_1 Factor_2 Factor_3 Response
33        C        c        1 25.29823
34        C        c        1 25.16727

$C$c$`2`
   Factor_1 Factor_2 Factor_3 Response
35        C        c        2 25.36553
36        C        c        2 24.99169



$D
$D$a
$D$a$`1`
   Factor_1 Factor_2 Factor_3 Response
37        D        a        1 24.53971
38        D        a        1 24.72733

$D$a$`2`
   Factor_1 Factor_2 Factor_3 Response
39        D        a        2 25.74960
40        D        a        2 24.56601


$D$b
$D$b$`1`
   Factor_1 Factor_2 Factor_3 Response
41        D        b        1 22.72847
42        D        b        1 24.29836

$D$b$`2`
   Factor_1 Factor_2 Factor_3 Response
43        D        b        2 24.69552
44        D        b        2 23.77094


$D$c
$D$c$`1`
   Factor_1 Factor_2 Factor_3 Response
45        D        c        1 24.07517
46        D        c        1 26.21868

$D$c$`2`
   Factor_1 Factor_2 Factor_3 Response
47        D        c        2 26.46018
48        D        c        2 24.44250
</code></pre>
","2024-08-20 22:29:53","3","Answer"
"78894472","78894402","","<p>Here is one possible approach using <code>Reduce</code> and a custom function:</p>
<pre class=""lang-r prettyprint-override""><code>split_df &lt;- function(x, split) {
  if (is.data.frame(x)) {
    split(x, x[split])
  } else {
    lapply(x, split_df, split = split)  
  }
}

Output2 &lt;- Reduce(split_df, Factors_to_Split_by, init = Data_Frame)

identical(Output, Output2)
#&gt; [1] TRUE
</code></pre>
","2024-08-20 21:43:17","5","Answer"
"78894402","","Using a Recursive Function to Create a List Nested n Times","<p>I have the following data frame.</p>
<pre><code>Data_Frame &lt;- data.frame(Factor_1 = rep(LETTERS[1:4], each = 12, length.out = 48), Factor_2 = rep(letters[1:3], each = 4, length.out = 48), Factor_3 = rep(1:2, each = 2, length.out = 48), Response = rnorm(48, 25, 1))
</code></pre>
<p>I want to create a nested list where I've split the data frame by each of the factors in the study in succession. I'll start with a vector containing the column names which contain the factors I want to split the data frame by (this vector will contain the factors in the order I want the resulting list to be nested in).</p>
<pre><code>Factors_to_Split_by &lt;- c(&quot;Factor_1&quot;, &quot;Factor_2&quot;, &quot;Factor_3&quot;)
</code></pre>
<p>The resulting list should look like the following <code>Output</code> object.</p>
<pre><code>Output &lt;- lapply(lapply(split(Data_Frame, Data_Frame[, which(colnames(Data_Frame) == Factors_to_Split_by[1])]), function (x) {
  split(x, x[, which(colnames(x) == Factors_to_Split_by[2])])
}), function (x) {
  lapply(x, function (y) {
    split(y, y[, which(colnames(y) == Factors_to_Split_by[3])])
  })
})
</code></pre>
<p>How can I write a recursive function using <code>Factors_to_Split_by</code> as the input and returning the desired <code>Output</code> list as the output? I may have more than 3 factors to split the data by, and I'd like something modular and efficient and programmatic.</p>
<p>Thanks!</p>
","2024-08-20 21:07:32","3","Question"
"78893718","78893668","","<p>setState calls in React are asynchronous. That means that after you call <code>setElem(true)</code>, <code>elem</code> hasn't updated yet when the if statement runs and is therefore still false.</p>
<p>Instead, you can set the state after you run the if statement like so:</p>
<pre class=""lang-js prettyprint-override""><code>const handleClick = () =&gt; {
    if(!elem) {
        document.getElementById('item').classList.toggle('show');
        document.getElementById('item').classList.toggle('hide');
    }
    setElem(true);
}
</code></pre>
<p>Alternatively, you could use <a href=""https://dev.to/csituma/when-do-you-use-setstate-with-a-callback-1f3g"" rel=""nofollow noreferrer""><code>setElem</code> with a callback</a> or the <code>useEffect</code> hook.</p>
","2024-08-20 17:24:33","0","Answer"
"78893703","78893668","","<p><code>setElem()</code> does not immediately mutate elem but creates a pending state transition. Accessing <code>elem</code> after calling this method can potentially return the existing value.</p>
<p>You can use <code>useEffect</code> hook.</p>
<pre><code>import { useState, useEffect } from &quot;react&quot;;
    
    function myComponent() {
    
        const [elem, setElem] = useState(false);
        const handleClick = () =&gt; {
            setElem(true);
           
        }
    
    useEffect(()=&gt;{
     if(elem) {
             document.getElementById('item').classList.toggle('show');
             document.getElementById('item').classList.toggle('hide');
     }
    },[elem])
    
        return (
            &lt;button onClick={handleClick}&gt;touch me&lt;/button&gt;
        );
    }
    
    export default Navbar;
</code></pre>
","2024-08-20 17:20:29","1","Answer"
"78893668","","onClick does not work on first click in React","<p>I have a button that shows/hides an element when click but it does not work on first click but it works on the following clicks. I'm expecting it to work on the first click.</p>
<pre><code>import { useState } from &quot;react&quot;;

function myComponent() {

    const [elem, setElem] = useState(false);
    const handleClick = () =&gt; {
        setElem(true);
        if(elem) {
            document.getElementById('item').classList.toggle('show');
            document.getElementById('item').classList.toggle('hide');
        }
    }

    return (
        &lt;button onClick={handleClick}&gt;touch me&lt;/button&gt;
    );
}

export default Navbar;
</code></pre>
<p>What I imagine that is happening under the hood is that when the button is clicked it will set the elem to 'true' then the 'if' statement runs because the elem is 'true'. I also tried to console.log the elem outside and inside the if statement and it shows false and the if statement doesn't run on the first click. I could just remove the if statement and not use a State but I want to do other things if the button is clicked. Can someone explain to me what really is happening here under the hood? Thank you!</p>
","2024-08-20 17:11:16","0","Question"
"78893252","","Power Query- Nested functions and IF statements","<p>I need to add a column to a nested table with values based on a condition.
Each field in the new column &quot;Hybrid Value&quot; should get the value of field &quot;AlutMufchetetColumn&quot;, if the value of ID equals &quot;Meyuadot&quot;</p>
<p>This is the code, I think I still can't get my head around the passed on variables and scopes.</p>
<p><a href=""https://i.sstatic.net/GP9ymhKQ.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/GP9ymhKQ.png"" alt=""This is the nested table located in column &quot;CSV Table With ID and Kvutsa&quot; "" /></a></p>
<p>You can see the numbers under Hybrid Value, which are taken from Column Alutmufchetet, only when the values of ID include the string &quot;AlutMuf&quot;</p>
<pre><code>ShoviHibrid=

      let
         X= Table.FromRecords(Table.TransformRows(IDandKvutsa, (r)=&gt;

         Record.TransformFields(r, {&quot;CSV Table With ID and Kvutsa&quot;, 
         (TableField)=&gt;

        Table.AddColumn([CSV Table With ID and Kvutsa],{&quot;Hybrid Value&quot;,              

              if Text.Contains(TableField[ID],&quot;Meyuadot&quot; ) then

                        &quot;Success&quot; else &quot;not success&quot;  })

               })))

     in

         X
</code></pre>
","2024-08-20 15:22:23","0","Question"
"78892213","78892199","","<p>Is it because let counter is pre-initialized with a function where count = 1 ; But in the other case, as the function is called every time, it's resetting the count to 0</p>
","2024-08-20 11:35:22","-1","Answer"
"78892212","78892199","","<p>In the first example, the closure is created once and reused, so the state (count) is maintained across calls.</p>
<p>In the second example, a new closure (and hence a new count variable) is created each time increment() is called, so the state is not shared across the loop iterations.</p>
","2024-08-20 11:35:16","0","Answer"
"78892199","","Anonymous Functions Vs Classic Function","<p>I'm not able to figure out the reason for this behavior, can any one help me understand</p>
<pre><code>  let counter= (function (){
    let count = 0;
    return function() {
        count+=1;
        return count;
    }
})()

for (let i = 0; i&lt; 3; i++){
    console.log(counter());
}
</code></pre>
<p>This prints an output of</p>
<pre><code> 1
 2
 3
</code></pre>
<p>Where as the below code</p>
<pre><code> function increment() {
    let count = 0;
    return function() {
        count+=1;
        return count;
    }
}

for (let i = 0; i&lt; 3; i++){
    console.log(increment()());
}
</code></pre>
<blockquote>
<p><strong>Prints 1 1 1 1</strong></p>
</blockquote>
","2024-08-20 11:32:23","-6","Question"
"78887906","78887421","","<p>It means that the default value for the parameter is <code>-1</code> (of whatever duration type, by default milliseconds). This value (or probably any negative value) is presumably used to denote &quot;no timeout&quot;, however the documentation for this class is entirely silent on the meanings of any of the parameters to any of the member functions.</p>
","2024-08-19 12:27:51","2","Answer"
"78887638","78878662","","<hr />
<pre><code>title: &quot;Print From Function&quot;
execute:
  echo: true
  eval: true
  warning:  false
format:
  html:
    css: style.css
---

```{r }
library(knitr)

fun &lt;- function(df) {
  print(kable(df, format = &quot;html&quot;, table.attr = 'class=&quot;scrollable-table&quot;'))
  return(head(df,3))
}

create_reactable &lt;- function(values) {
  df &lt;- data.frame(
    Column1 = values,
    Column3 = values^2
  )
  fun(df)
}
```

```{r, output='asis'}
a&lt;-create_reactable(1:10)
b&lt;-create_reactable(20:30)
c&lt;-create_reactable(30:40)
```
</code></pre>
<p>Above is the actual code that did produce the tables from within the function. Based on inputs from answer by @julien.leroux5. Please note the usage of output='asis' in the second chunk. Also had to use kable instead of reactable in the original question.
<a href=""https://i.sstatic.net/UmaZbp0E.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/UmaZbp0E.png"" alt=""enter image description here"" /></a></p>
","2024-08-19 11:22:33","0","Answer"
"78887421","","C++: What does the (-1) mean at the end of the parameter list in this function?","<p>I don't understand the definition of a function below: What does the (-1) mean at the end of the parameter list?</p>
<pre class=""lang-cpp prettyprint-override""><code>template&lt;typename RatioT = std::milli&gt;                
bool rclcpp::client::ClientBase::wait_for_service (std::chrono::duration&lt; int64_t, RatioT &gt; timeout = std::chrono::duration&lt; int64_t, RatioT &gt;(-1) )
</code></pre>
<p>Source:</p>
<ul>
<li><a href=""https://docs.ros2.org/beta3/api/rclcpp/classrclcpp_1_1client_1_1ClientBase.html#a2999c323a3ee4935cd74d12675e668a0"" rel=""nofollow noreferrer"">https://docs.ros2.org/beta3/api/rclcpp/classrclcpp_1_1client_1_1ClientBase.html#a2999c323a3ee4935cd74d12675e668a0</a></li>
</ul>
<p>From this tutorial:</p>
<ul>
<li><a href=""https://docs.ros.org/en/foxy/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html"" rel=""nofollow noreferrer"">https://docs.ros.org/en/foxy/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Service-And-Client.html</a></li>
</ul>
","2024-08-19 10:22:47","-4","Question"
"78884919","78884897","","<p>The error happens because you're passing a tuple instead of separate arguments to f. To fix it, unpack the tuple like this:</p>
<pre><code>def g(t1, t3, *theta):
    S = 0
    for i, ti in enumerate(theta):
        remaining = theta[:i] + theta[i+1:]
        S += f(t1, ti, t3, *remaining)
    return S
</code></pre>
","2024-08-18 15:03:31","1","Answer"
"78884917","78884897","","<pre><code>for ti in theta:
    list_i.remove(ti)
    S += f(t1, ti, t3, *list_i)
</code></pre>
","2024-08-18 15:03:20","-1","Answer"
"78884897","","Python function with variable number of arguments *arg","<p>I have a function in python that takes the form <code>f(t1, t2, t3, *theta)</code>. And I would like to define a new function <code>g(t1, t3, *theta)</code> defined by</p>
<p><a href=""https://i.sstatic.net/Lqz3xLdr.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Lqz3xLdr.png"" alt=""enter image description here"" /></a></p>
<p>So for example, g(1,2,3,4,5) = f(1,2,3,4,5) + f(1,4,3,2,5) + f(1,5,3,4,2)</p>
<p>Here is what i have tried:</p>
<pre><code>def g(t1, t3, *theta):
  S = 0
  list_i = list(theta)
  for ti in theta:
    list_i.remove(ti)
    tuple_i = tuple(list_i)
    S += f(t1, ti, t3, tuple_i)
  return S
</code></pre>
<p>but it gives the error <code>TypeError: unsupported operand type(s) for -: 'float' and 'tuple'</code></p>
","2024-08-18 14:53:47","-3","Question"
"78884191","78884149","","<p>The return statement you have inside the forEach will return from the closure, not the calling function.</p>
<p>One approach is to use a straightforward <code>for-of</code> loop instead of a <code>forEach</code> call:</p>
<pre class=""lang-js prettyprint-override""><code>for (entity of feed.entity) {
  if (entity.id.includes(tgv_number)) {
    answser = entity.tripUpdate.stopTimeUpdate
    console.log(answser)
    return answser
  }
}
</code></pre>
","2024-08-18 09:28:58","1","Answer"
"78884190","78884149","","<p>Because it was written in the definition： var answer
But using in ：（）</p>
<pre><code>if (entity.id.includes(tgv_number)) {
          answser = entity.tripUpdate.stopTimeUpdate
          console.log(answser)
          return answser
        }
</code></pre>
<p>so it will be undefied，because you have not define answser, change &quot;answser&quot; to &quot;answer&quot; it will be fixed</p>
","2024-08-18 09:28:55","-3","Answer"
"78884149","","Function return undefined","<p>I have a function that return a undefined thing even if it normally need to return something defined.</p>
<p>I have this code with a function:</p>
<pre class=""lang-js prettyprint-override""><code>const GtfsRealtimeBindings = require(&quot;gtfs-realtime-bindings&quot;);
const fetch = require(&quot;node-fetch&quot;);
const long = require(&quot;long&quot;);

async function getTGVStops(tgv_number){

    var answer

    try {
      const response = await fetch(&quot;https://proxy.transport.data.gouv.fr/resource/sncf-tgv-gtfs-rt-trip-updates&quot;, {
        headers: {
          //&quot;x-api-key&quot;: &quot;&lt;redacted&gt;&quot;,
          // replace with your GTFS-realtime source's auth token
          // e.g. x-api-key is the header value used for NY's MTA GTFS APIs
        },
      });
      if (!response.ok) {
        const error = new Error(`${response.url}: ${response.status} ${response.statusText}`);
        error.response = response;
        throw error;
        process.exit(1);
      }
      const buffer = await response.arrayBuffer();
      const feed = GtfsRealtimeBindings.transit_realtime.FeedMessage.decode(
        new Uint8Array(buffer)
      );
      feed.entity.forEach((entity) =&gt; {
        if (entity.id.includes(tgv_number)) {
          answser = entity.tripUpdate.stopTimeUpdate
          console.log(answser)
          return answser
        }
      })
    }
    catch (error) {
      console.log(error);
      process.exit(1);
    }
}

module.exports = { getTGVStops }
</code></pre>
<p>and want to call it in another files,</p>
<pre class=""lang-js prettyprint-override""><code>const tgv = require(&quot;./tgv_information.js&quot;)
const station = require(&quot;./station.js&quot;)
const GtfsRealtimeBindings = require(&quot;gtfs-realtime-bindings&quot;);

tgv.getTGVStops(&quot;6033&quot;).then((answer) =&gt; { 
    console.log(&quot;test&quot;)
    console.log(answer); 
});
</code></pre>
<p>But it always returns undefined.</p>
","2024-08-18 09:01:43","-3","Question"
"78881595","78881494","","<p>This isn't a recommendation, but if you're looking to increase the readability in your codebase, consider using a decorator that validates **kwargs based on a provided dataclass. This way, you can avoid passing a dataclass instance when calling your function. Instead, the dataclass serves solely for validating that the correct arguments are passed, similar to how a Python function with named arguments would behave if an argument is missing. You define the decorator once (in this case <code>args_with_class</code>) and then you can reuse it on all your functions. You are free to change the name to something that makes sense for you.</p>
<p>This validation in the decorator is just an example, Pydantic might be a good option here.</p>
<pre><code>from dataclasses import dataclass, fields
from typing import Callable, Type

@dataclass
class FunArgs:
    first: int
    second: str

def args_with_class(dataclass_type: Type):
    def decorator(func: Callable):
        def wrapper(*args, **kwargs):
            # Extract dataclass fields
            required_fields = {f.name for f in fields(dataclass_type)}
            
            # Check if all required fields are present in kwargs
            missing_fields = required_fields - kwargs.keys()
            if missing_fields:
                raise TypeError(f&quot;Missing required arguments: {', '.join(missing_fields)}&quot;)

            # Call the actual function
            return func(*args, **kwargs)

        return wrapper
    return decorator



@args_with_class(FunArgs)
def my_fun(**kwargs):
    print(f'This is first: {kwargs[&quot;first&quot;]}')
    print(f'This is second: {kwargs[&quot;second&quot;]}')

if __name__ == &quot;__main__&quot;:
    # Correct usage
    my_fun(first=1, second=2)

    # Example with incorrect types
    try:
        my_fun(first=1, second=&quot;OK&quot;)
    except TypeError as e:
        print(e)

    # Example with missing arguments
    try:
        my_fun(first=1)
    except TypeError as e:
        print(e)
</code></pre>
","2024-08-17 07:06:52","0","Answer"
"78881543","78881494","","<p>I won't go too much into details about the appropriateness of such an approach to class design (after all, Python's philosophy is basically <em>&quot;do whatever you want as long as you know what you are doing&quot;</em>).</p>
<p>The simplest way you can get to such a syntax is using <code>dataclass</code>.</p>
<pre class=""lang-py prettyprint-override""><code>from dataclasses import dataclass

@dataclass
class FunArgs:
    first: int
    second: int

def my_fun(fun_args: FunArgs):
    print(f'This is first: {fun_args.first}')
    print(f'This is second: {fun_args.second}')

if __name__ == &quot;__main__&quot;:
    my_fun(FunArgs(1, &quot;OK&quot;))
</code></pre>
","2024-08-17 06:35:32","1","Answer"
"78881494","","How can a class be used to define function args in Python?","<p>I'm wondering if it's possible to use a class to define function args in pure Python, or maybe by using a package.</p>
<p>For example:</p>
<pre class=""lang-py prettyprint-override""><code>class FunArgs:
    first: int
    second: str

def my_fun(FunArgs):
    pass

if __name__ == &quot;__main__&quot;:
    my_fun(first=1, second=&quot;OK&quot;)
</code></pre>
<p>The reason to use that syntax is just its simplicity.</p>
<p>Often we tend to add too much of args in functions and also put notes about them, which reduce its readability.</p>
<p>The example is very simple, but in general those types are longer and more complex, which reduce readability more.</p>
","2024-08-17 05:49:47","-1","Question"
"78880802","78880770","","<p>The <code>append</code> method will modify an array in place if there is capacity in the underlying array, overwriting the current contents of the slice. Which means <code>arr[0]</code> is always 6 since you get to the end condition first, before the addition is run. If you examined the value of <code>arr</code>, you would see <code>[6, 6, 6]</code>.</p>
<p>There's really no need to delete the entry from the slice. Instead just sum the values after the first entry (assuming you really want recursion):</p>
<pre><code>sum := arr[0] + recursiveSum(arr[1:])
</code></pre>
<p>Though a much better option is to skip recursion on do this in a standard loop:</p>
<pre><code>sum := 0
for _, i := range arr {
    sum += i
}
</code></pre>
","2024-08-16 20:48:59","3","Answer"
"78880770","","Problem with recursive function that sums all numbers in array in Go","<p>I want to sum all the numbers in array using recursive function</p>
<pre><code>
import (
    &quot;fmt&quot;
)

func RemoveIndex(s []int, index int) []int {
    return append(s[:index], s[index+1:]...)
}

func recursiveSum(arr []int) int {
    if len(arr) == 1 {
        return arr[0]
    }

    sum := arr[0] + recursiveSum(RemoveIndex(arr, 0))
    return sum
}

func main() {
    var arr = []int{2, 4, 6}
    fmt.Println(recursiveSum(arr))
}
</code></pre>
<p>I have such code. In fact there isn't any function for deleting element in array by index in Go, so I wrote function that did that. So, generaly I expected to get 12 and for some reason I get 18. Can please someone help and explain what exactly goes wrong here.</p>
","2024-08-16 20:35:52","-4","Question"
"78878907","78878662","","<p>As you can see <a href=""https://github.com/quarto-dev/quarto-cli/discussions/2695"" rel=""nofollow noreferrer"">here</a>, this is due to the way Quarto handles printing objects with the <code>knitr</code> package.</p>
<p>You can obtain your printed reactable objects by using the <code>knit_print()</code> function (after loading <code>knitr</code> with <code>library(knitr)</code>) instead of <code>print</code>.</p>
<p>As a general recommendation (see the discussion in answers of <a href=""https://stackoverflow.com/questions/39233378/r-function-print-when-not-assigned"">this post</a>), you should probably print the objects once created, not directly in the function to create them, by calling <code>knit_print</code> outside the function:</p>
<pre class=""lang-r prettyprint-override""><code>a = create_reactable(1:10)
knit_print(a)
</code></pre>
","2024-08-16 11:21:06","1","Answer"
"78878662","","An issue with print in R when followed by return and assignment","<p>A minimal example is given at the bottom and it does work as expected.
Issue is when the returned table is assigned (see below), all the printing disappears.
(I am rendering as html in Quarto.)</p>
<pre><code>a&lt;-create_reactable(1:10)
dosomething(a)
b&lt;-create_reactable(20:30)
dosomething(b)
c&lt;-create_reactable(30:40)
dosomething(c)
</code></pre>
<p>What I am trying to do is having a little function that does some processing, <strong>prints the processed table and returns</strong> the processed table. (This function should later be used for calling from a loop)</p>
<pre><code>{r}
# Load the reactable package
library(reactable)

# Define the function
create_reactable &lt;- function(values) {
  # Create a data frame with values and their squares
  df &lt;- data.frame(
    Column1 = values,
    Column3 = values^2
  )
  
  # Create the reactable
  table &lt;- reactable(df)
  
  # Print the reactable
  print(reactable(df))
  
  # Return the reactable
  return(table)
}

# Call the function for different ranges
create_reactable(1:10)
create_reactable(20:30)
create_reactable(30:40)
</code></pre>
<p>I did come to realize that R handle return a little differently. However could not reach a solution that works with printing, return and assignment of return as outlined.</p>
<p>Please advise.</p>
<p>Expected output: <a href=""https://i.sstatic.net/vfcb93o7.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/vfcb93o7.png"" alt=""Fig 1"" /></a>
Issue when assigned :<a href=""https://i.sstatic.net/oJlFrZdA.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/oJlFrZdA.png"" alt=""Fig2"" /></a></p>
","2024-08-16 10:13:43","1","Question"
"78875146","78873157","","<p>I experimented with about 6 different variations.</p>
<p>The best I could come up with involves creating an explicit <code>Builder</code> interface for building the desired object.</p>
<p>The basic idea is that the incoming <code>input</code> object is of the correct type T already, so it makes sense to ask that object to build a new object of the same type T.</p>
<pre><code>private &lt;T extends FourVector &amp; Builder&lt;T&gt;&gt; T transformVector(T input, TransformInto direction) {
    //the core calculation uses matrices, so we convert back and forth like so
    Matrix input_matrix = Matrix.asMatrix(input);
    Matrix output_matrix = lambdaMatrix(direction.sign()).times(input_matrix);
    return input.build(fromComponents(output_matrix));
  }
</code></pre>
<p>With the <code>Builder</code> interface as the translator from the lower-level data structure to the desired higher-level data structure:</p>
<pre><code>public interface Builder&lt;T&gt; {
  
  /** Build a new T object out of the given components. */
  public T build(Map&lt;Axis, Double&gt; components);

}
</code></pre>
<p>The unusual thing about this is that object creation is not through a constructor, but through a regular object method.</p>
","2024-08-15 12:44:37","0","Answer"
"78873755","78873308","","<p>Be explicit, provide a default value and test if the default was provided:</p>
<pre><code>def new_fun(df, var_a=None):
    group = 'vehicle' if var_a is None else ['vehicle', var_a]
    return df.groupby(group, as_index = False)['id'].count()

out = new_fun(df_attempt)
</code></pre>
<p>Output:</p>
<pre><code>  vehicle  id
0    bike   1
1     car   2
2   truck   2
</code></pre>
<p>If <code>None</code> is possibly a valid column name, you could use a special default (pandas uses <code>sep=_NoDefault.no_default</code> for example in <a href=""https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html"" rel=""nofollow noreferrer""><code>read_csv</code></a>).</p>
<p>Here is a more generic example, that also accepts lists of  columns:</p>
<pre><code>from pandas._libs.lib import no_default
def new_fun(df, var_a=no_default):
    group = ['vehicle']
    if var_a is not no_default:
        group.extend(var_a if isinstance(var_a, list) else [var_a])
    return df.groupby(group, as_index = False)['id'].count()

new_fun(df_attempt)
new_fun(df_attempt, 'col1')
new_fun(df_attempt, ['col1', 'eng'])
</code></pre>
","2024-08-15 05:34:32","1","Answer"
"78873732","78873698","","<p>I assume that you provided an example for the more complex question about storing output into a variable and try to answer on that generic level.</p>
<p>If you want to store the result of the function for later, find an efficient way to store it. For that I recommend to condense to the information core of the output, separated from the representation fluff.</p>
<p>The example function you show has the informational core of a sequence of numbers of length <code>length</code>.</p>
<p>Side issues of your code I will not discuss, I will just name those which struck me (and others in comments):<br />
Call srand() only once, call srand before rand(), make <code>length</code> a parameter instead of a global, if your prototype says that your function returns an integer then do so, for real randomness use something else.</p>
<p>For storing the information core of the function when it is called:</p>
<ul>
<li>use an array or a memory region of size <code>length</code></li>
<li>because the function gets the length as parameter, it cannot use an array (which are of fixed size in C)</li>
<li>either provide an array of suitable size to the function, which in the example you can, because outside of the function the length is fixed</li>
<li>(C does have variable length arrays, which could be used inside the function as a local variable, but they are not suitable if you want to hand the content over back to the caller of the function)</li>
<li>or create a dynamic memory area of suitable size (look up <code>malloc()</code>)</li>
<li>give the start address of the array of allocated memory to the function</li>
<li>inside the function fill the information into the memory/array</li>
<li>I do not see a need for the function to have a return value, the returned information is found where the parameter address points to</li>
<li>you could use an additional return value to e.g. signal success or failure of whatever operation was done, if it can fail, then react in the calling function</li>
</ul>
<p>Then, when you later want to use/print the output of the function:</p>
<ul>
<li>use the information core from where you had it stored when calling the function</li>
<li>add the representation fluff</li>
</ul>
<p>I.e. read the stored numbers from the array and turn it into a string to output.</p>
<p>Gist of it:</p>
<ul>
<li>one function with <code>rand()</code> calls and the <code>%</code> operator inside a loop, storing to the memory</li>
<li>one function wiht the <code>putchar()</code> in a loop for representing to output</li>
</ul>
<p>This concept is more generic than the output of random hex strings, which seems to be your goal in the example.</p>
","2024-08-15 05:22:29","1","Answer"
"78873716","78873698","","<p>Well, you have a lot wrong, but let's take it one by one.</p>
<ul>
<li><p>Your <code>hxrnd()</code> has no <code>return</code> statement -- so it cannot return anything to assign to <code>x</code> or <code>y</code>.</p>
</li>
<li><p>You should only call <code>srand()</code> once, in <code>main()</code> before the first use of <code>rand()</code>.</p>
</li>
<li><p>You attempt to create a random hex-string from <code>str[]</code>, but fail to save the characters in any buffer in <code>hxrnd()</code> or fail to keep a running total of what the final hex-value would be.</p>
</li>
<li><p>Your code will not be portable to systems where <code>unsigned long</code> is 4-bytes (like x86), consider using <code>unsigned long long</code> and <code>strtoull()</code> -- up to you.</p>
</li>
<li><p>(avoid the use of global variables, pass parameters as needed to your functions)</p>
</li>
</ul>
<p>If I understand your goal, you can fix <code>hxrnd()</code> by building a character string with your random hex characters and then call <code>strtoul()</code> to convert the random string to a value for return. (you should also validate the conversion by <code>strtoul()</code> -- that I leave to you).</p>
<p>Putting all the pieces together, you could do something similar to the following. Note a VLA is used as the buffer, but you can user a plain old array by declaring the array long enough to hold your max number of character +1 for the nul-terminating character.</p>
<p>That said, you could do something like:</p>
<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;time.h&gt;

#define BASE    16      /* if you need a constant, #define one or more */

unsigned long int hxrnd (const char *str, size_t len)
{
  char buffer[len * 2];                 /* variable length array */
  int index = 0;                        /* index to fill in buffer */
  
  while (len--)                         /* loop length times */
  {
    int c = str[rand() % BASE];         /* get char from string */
    while (index == 0 &amp;&amp; c == 0) {      /* avoid leading 0 */
      c = str[rand() % BASE];
    }
    buffer[index] = c;                  /* save char in buffer at index */ 
    putchar(buffer[index]);             /* output your char (optional) */
    index += 1;                         /* increment index */
  }
  putchar ('\n');                       /* tidy up with newline */
  
  buffer[index] = 0;                    /* nul-terminate buffer */
  
  return strtoul (buffer, NULL, BASE);  /* convert to base-16 unsigned and return */
}

int main (void)
{
  char str[] = &quot;0123456789ABCDEF&quot;;      /* avoid globals, pass parameters */
  size_t length = strlen (str);         /* use strlen() for string length */
  unsigned long x = 0,                  /* initialize all variables */
                y = 0;
  srand((unsigned int) time(0) + getpid());   /* call srand() once */
  
  printf (
    &quot;\n&quot;
    &quot;======================\n&quot;
    &quot; Simple Psuedo Random\n&quot;
    &quot;   Hex Key Generator\n&quot;
    &quot;======================\n&quot;
  );
  
  x = hxrnd (str, length);              /* strtoul() validation omitted */
  printf(&quot;\nx: %lu\n\n&quot;, x);
  
  length = 10;
  y = hxrnd (str, length);              /* strtoul() validation omitted */
  printf(
    &quot;\n&quot;
    &quot;y: %lu\n&quot;
    &quot;===================\n&quot;
    &quot;\n&quot;, 
    y
  );
}
</code></pre>
<p>(<strong>note:</strong> the test for <code>index == 0 &amp;&amp; c == 0</code> to protect against the first hex-char being randomly chosen as <code>0</code>)</p>
<p>Most importantly, learn to compile with <em>warnings enabled</em>, and <strong>do not</strong> accept code until it <em>compiles without warning</em>. To enable warnings add <code>-Wall -Wextra -pedantic</code> to your <code>gcc/clang</code> compile string (also consider adding <code>-Wshadow</code> to warn on shadowed variables and <code>-Werror</code> to treat warnings as errors). For <strong>VS</strong> (<code>cl.exe</code> on windows), use <code>/W3</code>. All other compilers will have similar options. Read and understand each warning -- then go fix it. The warnings will identify any problems, and the exact line on which they occur. You can learn a lot by listening to what your compiler is telling you.</p>
<p><strong>Example Use/Output</strong></p>
<p><em>Compile with gcc:</em></p>
<p>With your source in <code>randhexstr.c</code></p>
<pre class=""lang-none prettyprint-override""><code>gcc -Wall -Wextra -pedantic -Wshadow -Werror -std=c11 -Ofast -o randhexstr randhexstr.c
</code></pre>
<p>(omit <code>-Ofast</code> optimization and add <code>-g</code> to generate debug symbols for debugging)</p>
<p><em>Sample Output</em></p>
<pre class=""lang-none prettyprint-override""><code>$ ./randhexstr

======================
 Simple Psuedo Random
   Hex Key Generator
======================
BB61D5D9C37E6A74

x: 13502308289097919092

B2A61B5621

y: 767290988065
===================
</code></pre>
<p>Read the comments included in the code and let me know if you have further questions.</p>
","2024-08-15 05:15:41","2","Answer"
"78873698","","Redirect the Output of a Function to a Variable","<p>I need to redirect the output of a function to a variable, to be called later.  I don't want the function output to show, except to the variable.  Here is my code:</p>
<pre><code>#include &lt;time.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;

char str[] = &quot;0123456789ABCDEF&quot;;
int length;
unsigned long int hxrnd()
{
  while(length--)
  {
    putchar(str[rand() % 16]);
    srand(rand());
  }
}
int main(void)
{
  printf (&quot;\n======================\n Simple Psuedo Random\n   Hex Key Generator\n======================\n&quot;);
  srand((unsigned int) time(0) + getpid());
  length = 16;
  int x = hxrnd();
  printf(&quot;\n%d\n&quot;, x);
  length = 10;
  int y = hxrnd();
  printf(&quot;\n%d\n===================\n\n&quot;, y);
  return 0;
}
</code></pre>
<p>As it is, the output of the function shows and the variable returns 0.  As you can tell, I don't know much about programming.</p>
","2024-08-15 05:06:10","1","Question"
"78873308","","Add Optional Variables in Groupby Function Pandas","<p>Let's say I have the following data frame, and I want to have var_a be optional, so that if it is not supplied there will not be a default value; it will only group by the variable vehicle. How do I do that? I was trying to figure out with **Kwargs, but I am not getting it.</p>
<pre><code>d = {'col1': ['1', '2', '2', '4', '5'], 'vehicle': ['car', 'car', 'truck', 'truck', 'bike'], 'eng': [2, 2, 6, 6, 0], 'id' : ['1','2','3','4','5']}
df_attempt = pd.DataFrame(data=d)

def new_fun(df, var_a):

   return df.groupby(['vehicle', var_a], as_index = False)['id'].count()

new_fun(df_attempt, 'col1') 
</code></pre>
<p>Trying with **kwargs:</p>
<pre><code>def new_fun(df, **kwargs):
    var_a = kwargs.get('var_a', None)
    return df.groupby(['vehicle', var_a], as_index = False)['id'].count()

new_fun(df_attempt, 'col1')  
``
</code></pre>
","2024-08-15 00:39:58","1","Question"
"78873157","","Is there a better way of building this <T> object?","<p>For the method below, is there a better way of building the returned object?
It's of type <code>&lt;T&gt;</code>.</p>
<p>The first <code>input</code> parameter has the same type as the returned object.</p>
<p>The last <code>builder</code> parameter is what makes me anxious.
It currently points to a static factory method in each T class.</p>
<p>If you wanted to avoid passing the <code>builder</code> param, how would you handle that?</p>
<p>(I would prefer not to resort to a cast, and to use a technique that is friendly towards immutable objects.)</p>
<pre><code>public &lt;T extends FourVector&gt; T transformVector(T input, TransformInto direction, Function&lt;Map&lt;Axis, Double&gt;, T&gt; builder) {
  //the core calculation uses matrices, so we convert back and forth like so
  Matrix input_matrix = Matrix.asMatrix(input);
  Matrix result = physicsMatrix(direction.sign()).times(input_matrix);
  //I need to build a new T object here; hence the builder param
  return builder.apply(asComponents(result));
}
</code></pre>
","2024-08-14 23:02:10","-1","Question"
"78872537","78872309","","<p>One of several approaches, using the iris dataset and a linear model for demonstration:</p>
<ul>
<li>create a grid of all combinations of group (here: Species) and formulas:</li>
</ul>
<pre><code>combinations &lt;- 
expand.grid(group = unique(iris$Species),
            formula = c(as.formula('Sepal.Width ~ Sepal.Length'),
                        as.formula('Sepal.Width ~ Petal.Width + Petal.Length')
                        )
            )

    ## &gt; combinations 
    ##        group                                  formula
    ## 1     setosa               Sepal.Width ~ Sepal.Length
    ## 2 versicolor               Sepal.Width ~ Sepal.Length
    ## 3  virginica               Sepal.Width ~ Sepal.Length
    ## 4     setosa Sepal.Width ~ Petal.Width + Petal.Length
    ## 5 versicolor Sepal.Width ~ Petal.Width + Petal.Length
    ## 6  virginica Sepal.Width ~ Petal.Width + Petal.Length

</code></pre>
<p>Iterate this data frame rowwise, using group and formula to run a model and extract the model coefficients. <a href=""https://r4ds.had.co.nz/many-models.html#list-columns-1"" rel=""nofollow noreferrer"">Use <code>list</code> to store objects</a> whose length is neither 1 nor <code>nrow</code> into a single &quot;cell&quot;.</p>
<p>Finally, <code>unnest_wider</code> the coefficients into separate columns:</p>
<pre><code>library(dplyr)
library(tidyr)

combinations |&gt; 
  rowwise() |&gt; ## !
  mutate(model = list( ## `list` packs result into single cell
                    lm(data = iris |&gt; filter(Species == group),
                       formula = formula
                      )
                    ),
         ## because model is stored in a single-item list, we
         ## need to extract the model with `[[1]]` to work on it,
         ## then `list`-pack the two-item result (coefficients) again
         coeffs = list(model[[1]])
                      
  ) |&gt; 
  ## spread coefficients into separate columns:
  unnest_wider(coeffs)


    ##   group      formula   model  `(Intercept)` Sepal.Length Petal.Width Petal.Length
    ##   &lt;fct&gt;      &lt;list&gt;    &lt;list&gt;         &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
    ## 1 setosa     &lt;formula&gt; &lt;lm&gt;          -0.569        0.799      NA          NA     
    ## 2 versicolor &lt;formula&gt; &lt;lm&gt;           0.872        0.320      NA          NA     
    ## 3 virginica  &lt;formula&gt; &lt;lm&gt;           1.45         0.232      NA          NA     
    ## 4 setosa     &lt;formula&gt; &lt;lm&gt;           2.89        NA           0.702       0.247 
    ## 5 versicolor &lt;formula&gt; &lt;lm&gt;           1.25        NA           0.929       0.0669
    ## 6 virginica  &lt;formula&gt; &lt;lm&gt;           1.06        NA           0.535       0.149 

</code></pre>
","2024-08-14 18:55:57","0","Answer"
"78872401","78871962","","<p>We can solve this explicitly using Ryacas0.  Note that there are two roots
and that the argument of <code>sqrt</code> is negative if F1 &gt; 50 so using 50 as the
upper bound instead of 100 and plotting the two roots (positive root is black)
we have:</p>
<pre><code>library(Ryacas0)

m &lt;- s &lt;- 1
R1 &lt;- R2 &lt;- 100
F1 &lt;- Sym(&quot;F1&quot;)
F2 &lt;- Sym(&quot;F2&quot;)
z &lt;- (F1 / F2^m * (R1 - F1)^((1 - s) / s)) -
  (m * (((R1 - F1))^(1 / s) + ((R2 - F2))^(1 / s)) / (F1^m + F2^m))
zs &lt;- Simplify(z)
F2solve &lt;- Solve(zs, F2)
F2solve
## Yacas vector:
## [1] F2 == (200 - 2 * F1 + sqrt((2 * F1 - 200)^2 - 4 * F1^2))/2
## [2] F2 == (200 - 2 * F1 - sqrt((2 * F1 - 200)^2 - 4 * F1^2))/2

f1 &lt;- seq(0.1, 50, .1)
f2p &lt;- (200 - 2 * f1 + sqrt((2 * f1 - 200)^2 - 4 * f1^2))/2
f2m &lt;- (200 - 2 * f1 - sqrt((2 * f1 - 200)^2 - 4 * f1^2))/2

matplot(f1, cbind(f2p, f2m))
</code></pre>
<p><a href=""https://i.sstatic.net/UPWOKtED.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/UPWOKtED.png"" alt=""screenshot"" /></a></p>
","2024-08-14 18:13:03","3","Answer"
"78872309","","How to use multiple formulas on nested data","<p>I am trying to run multiple different formulas on nested data. I was able to code most of what I need, but I am not very familiar with functions or dealing with nested data, so I don't know how to get the information out of the lists now that I have it.</p>
<pre><code>#packages and data
library(tidyverse)
library(broom)
install.packages(&quot;AER&quot;)
library(&quot;AER&quot;)
data(Affairs, package=&quot;AER&quot;)

#creating response variable
Affairs$ynaffair[Affairs$affairs &gt;  0] &lt;- 1
Affairs$ynaffair[Affairs$affairs == 0] &lt;- 0

#factoring some of the variables
Affairs &lt;- Affairs %&gt;% 
  mutate_at(c(&quot;affairs&quot;, &quot;religiousness&quot;, &quot;occupation&quot;, &quot;rating&quot;, &quot;ynaffair&quot;), as.factor)

#nesting by religious group
by_relig_group &lt;- Affairs %&gt;%
  group_by(religiousness) %&gt;%
  nest()

#Create formulas
gender_formula &lt;- as.formula(&quot;ynaffair ~ gender&quot;)
age_formula &lt;- as.formula(&quot;ynaffair ~ age&quot;)
occupation_formula &lt;- as.formula(&quot;ynaffair ~ occupation&quot;)
formula_list &lt;- list(gender_formula,age_formula, occupation_formula)

# Designate the models and function
model &lt;- function(df, formula_list, index) {
    list(glm(formula = formula_list[[index]] , family=binomial, data = Affairs))
}

#Apply to each data group and formula list by formula number 
df1 &lt;- by_relig_group %&gt;% 
  mutate(model1 = map(data, ~model(., formula_list, 1)), 
         model2 = map(data, ~model(., formula_list, 2))) 
</code></pre>
<p>And it looks like the code worked, but now I am not quite sure how to get it out of its current form.</p>
<p>At a smaller level, I was able to get all of this to run</p>
<pre><code>#create nested data frame
by_relig_group &lt;- Affairs %&gt;%
  group_by(religiousness) %&gt;%
  nest()

#create a function to run the linear models
model &lt;- function(df){
  glm(ynaffair~gender + age + yearsmarried + children + religiousness + education + occupation + rating,
               family = binomial,
             data = Affairs)
}

#run the models
by_relig_group &lt;- by_relig_group %&gt;%
  mutate(model = map(data,model))


#unnest the models using the broom package 
by_relig_group_unnest &lt;- by_relig_group %&gt;%
  mutate(tidy = map(model, broom::tidy)) %&gt;% ## I can't figure out how to apply these two lines of code above
  unnest(tidy)
</code></pre>
<p>The end goal is to get the frequency of each level(next problem to solve), estimate (which I'll exponentiate to get the OR), CI, and p-value and export to Excel. If you have any suggestions on how to get CI while I am running this code, I'd be grateful for the advice.</p>
","2024-08-14 17:44:22","0","Question"
"78871962","","Plotting a nonlinear function in R","<p>I am currently struggling to plot the next function in R.</p>
<p>(F1 / F2^m * (R1 - F1)^((1 - s) / s)) - (m * (((R1 - F1))^(1 / s) + ((R2 - F2))^(1 / s)) / (F1^m + F2^m)) = 0</p>
<p>Where I want to plot F2 as a function of F1. That is, F2 in y-axis and F1 in the x-axis. The values R1,R2 are fixed constants and s,m are also fixed.</p>
<p>As the function is non-linear, I was suggested to use a numeric approximation to find the values of F2 in a domain of F1 previously defined.</p>
<p>I developed the next code defining first the constants, then the function, and the root finding function as:</p>
<pre><code>rm(list=ls())

library(ggplot2)

R1_values &lt;- c(100)  # Example values for R1
R2_values &lt;- c(100)  # Example values for R2
s_values &lt;- c(1)  # Example values for s
m_values &lt;- c(1)  # Example values for m

# Define the original function to solve for F2
F2_function &lt;- function(F1, F2, R1, R2, s, m) {
  (F1 / F2^m * (R1 - F1)^((1 - s) / s)) - (m * (((R1 - F1))^(1 / s) + ((R2 - F2))^(1 / s)) / (F1^m + F2^m))
}


F1_values &lt;- seq(0.01, 100, by = 0.1)
# Solve for F2
F2_values &lt;- sapply(F1_values, function(F1) {
  tryCatch({
    # 
    uniroot(F2_function, c(0.01, 100), F1 = F1, R1 = R1, R2 = R2, s = s, m = m, tol = 1e-8)$root
  }, error = function(e) NA)
})

data &lt;- data.frame(F1 = F1_values, F2 = F2_values)

ggplot(data, aes(x = F1, y = F2)) +
  geom_line() +
  labs(title = &quot;F2 as a Function of F1&quot;,
       x = &quot;F1&quot;,
       y = &quot;F2&quot;) +
  theme_minimal()
</code></pre>
<p>Everything however, returns a NA or extremly large values (randomly knowing when or how). Even when the function is clearly defined in other software (Geogebra) picture attached.</p>
<p><a href=""https://i.sstatic.net/MtTssopB.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/MtTssopB.png"" alt=""enter image description here"" /></a></p>
<p>Hence, I would like to ask help of how to do the plot (and recover the values of F2 for each part of the domain of F1).</p>
<p>The equation in mathematical terms looks like:</p>
<p><a href=""https://i.sstatic.net/GPuBk6eQ.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/GPuBk6eQ.png"" alt=""enter image description here"" /></a></p>
<p>PD: I think F2 has two results for each F1, but I am also unable to sort this out.</p>
","2024-08-14 16:10:25","0","Question"
"78871344","78871324","","<p>You need to get the value of the inputs after clicking of the button. In your code the value of <code>num1</code> &amp; <code>num2</code> will be undefined as</p>
<p><code>let num1 = parseInt(document.getElementById('num1').value); let num2 = parseInt(document.getElementById('num2').value);</code> are executing before the button click and those inputs are initially empty</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let button = document.querySelector(""#button"");;

function operacao(a, b) {
  console.log(a, b)
  let resp = a * b;
  return resp;
}


button.addEventListener(""click"", function() {
  let num1 = parseInt(document.getElementById('num1').value);
  let num2 = parseInt(document.getElementById('num2').value)
  let resto = operacao(num1, num2)
  document.getElementById('resto').innerHTML = 'O resultado é: ' + resto
});</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;label&gt;
  Informe os numeros:  
  &lt;br&gt;
  &lt;input type=""number"" id=""num1""&gt;
  &lt;p&gt;x&lt;/p&gt;
  &lt;input type=""number"" id=""num2""&gt;
&lt;/label&gt;
&lt;br&gt;
&lt;br&gt;
&lt;button id=""button"" onclick=(operacao)&gt;Multiplicar&lt;/button&gt;
&lt;p id=""resto""&gt;&lt;/p&gt;</code></pre>
</div>
</div>
</p>
","2024-08-14 13:56:09","0","Answer"
"78871342","78871324","","<p>You're reading the values from the inputs and performing a calculation on them <em>immediately</em> upon loading the page, before the user has had a chance to <em>enter</em> any values:</p>
<pre><code>let num1 = parseInt(document.getElementById('num1').value);
let num2 = parseInt(document.getElementById('num2').value);
//...
let resto = operacao(num1, num2)
</code></pre>
<p>Instead, read the values from the input and perform the calculation in the button click handler:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let button = document.querySelector(""#button"");

function operacao(a, b) {
  let resp = a * b;
  return resp;
}

button.addEventListener(""click"", function() {
  // Calculate the result here...
  let num1 = parseInt(document.getElementById('num1').value);
  let num2 = parseInt(document.getElementById('num2').value);
  let resto = operacao(num1, num2);
  document.getElementById('resto').innerHTML = 'O resultado é: ' + resto
});</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;label&gt;
  Informe os numeros:  
  &lt;br&gt;
  &lt;input type=""number"" id=""num1""&gt;
  &lt;p&gt;x&lt;/p&gt;
  &lt;input type=""number"" id=""num2""&gt;
&lt;/label&gt;
&lt;br&gt;
&lt;br&gt;
&lt;button id=""button"" onclick=(operacao)&gt;Multiplicar&lt;/button&gt;
&lt;p id=""resto""&gt;&lt;/p&gt;</code></pre>
</div>
</div>
</p>
","2024-08-14 13:55:54","0","Answer"
"78871324","","Why is my JavaScript is returning NaN when I run the code?","<p>I started learning programming a little while ago, but I got stuck on the functions and intervals part.</p>
<p>What I wanted was a very simple system, to do multiplication, using HTML and JavaScript, passing the input numbers as parameters.</p>
<p>However, when I run the code, it returns NaN as the result.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let button = document.querySelector(""#button"");
let num1 = parseInt(document.getElementById('num1').value);
let num2 = parseInt(document.getElementById('num2').value);

function operacao(a, b) {
  let resp = a * b;
  return resp;
}

let resto = operacao(num1, num2)
button.addEventListener(""click"", function() {
  document.getElementById('resto').innerHTML = 'O resultado é: ' + resto
});</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;label&gt;
  Informe os numeros:  
  &lt;br&gt;
  &lt;input type=""number"" id=""num1""&gt;
  &lt;p&gt;x&lt;/p&gt;
  &lt;input type=""number"" id=""num2""&gt;
&lt;/label&gt;
&lt;br&gt;
&lt;br&gt;
&lt;button id=""button"" onclick=(operacao)&gt;Multiplicar&lt;/button&gt;
&lt;p id=""resto""&gt;&lt;/p&gt;</code></pre>
</div>
</div>
</p>
","2024-08-14 13:50:56","-1","Question"
"78871183","78871131","","<p>It says <code>S_ISREG</code> is undefined because the preprocessor doesn't ignore the parenthesis. <code>#define FOO()</code> defines <code>FOO()</code>, not <code>FOO</code>.</p>
<p>Also, your function expects a function pointer as parameter, but macros are compile-time only symbols, you can't take its address.</p>
<p>But you can just wrap it in a function instead:</p>
<pre class=""lang-cpp prettyprint-override""><code>int isReg(int mode)
{
    return S_ISREG(mode);
}
</code></pre>
<p>Now you can use it as you wanted:</p>
<pre class=""lang-cpp prettyprint-override""><code>checkExists(old, isReg);
</code></pre>
<p>And you keep the flexibility of your original code.</p>
","2024-08-14 13:22:56","3","Answer"
"78871142","78871131","","<p>No, you can't do what you are trying to achieve without extra steps.</p>
<p><code>S_ISREG</code> doesn't exist, and there's no telling into what <code>S_ISREG(x)</code> expands.</p>
<hr />
<p>Remember that macros simply perform token substitution, which means that <code>S_ISREG(x)</code> gets replaced with different code before parsing even begins (in theory). Say it expands to something like <code>((x) &amp; S_IFREG)</code>. How can you pass that to the your function? You'd have to create a function from it.</p>
<pre class=""lang-c prettyprint-override""><code>typedef int ModeCheck( int );

int s_isreg( int mode ) {
   return S_ISREG( mode );
}

int check_exists( const char *qfn, ModeCheck *mode_check ) {
   ...

   if ( mode_check( st.st_mode ) ) { 
      ...
   }

   ...
}

check_exists( qfn, s_isreg );
</code></pre>
<hr />
<p>Alternatively, you could pass <code>S_IFREG</code> (which expands to a mask) and do the appropriate bit operation yourself.</p>
<pre class=""lang-c prettyprint-override""><code>int check_exists( const char *qfn, int mode_mask ) {
   ...

   if ( ( st.st_mode &amp; S_IFMT ) == mode_mask ) ) ) { 
      ...
   }

   ...
}

check_exists( qfn, S_IFREG );
</code></pre>
<p>However, you have less flexibility with this second approach. With the first approach, you could use more complex checks.</p>
<pre class=""lang-c prettyprint-override""><code>int s_isreg_or_dir( int mode ) {
   return S_ISREG( mode ) || S_ISDIR( mode );
}
</code></pre>
<p>But you can't do so with the second approach.</p>
","2024-08-14 13:16:58","1","Answer"
"78871137","78871131","","<p>The <code>S_ISREG</code> macro is a function-like macro, so simply using it as <code>S_ISREG</code> is invalid.</p>
<p>You'll need to instead pass in the flag for the mode in question, i.e. <code>S_IFREG</code>, an perform a bitmask with that and the file mode.</p>
<pre><code>int checkExists(const char *name, int ftype) {
   struct stat st ;
   int returnValue = DOES_NOT_EXIST ;
   BOOL isInSourceHierarchy, isInTargetHierarchy ;

   if (stat(name, &amp;st) != -1) {
      returnValue = EXISTS ;
      if (memcmp(name, top_dir, strlen(top_dir)))
         returnValue |= IN_SOURCE_STRUCTURE ;
      if (memcmp(name, tgt_dir, strlen(tgt_dir)))
         returnValue |= IN_TARGET_STRUCTURE ;
     if ((st.st_mode &amp; S_IFMT) == ftype)
        returnValue |= RIGHT_TYPE ;
   }

   return returnValue ;
}

. . . 

if (checkExists(old, S_IFREG)) {
   // Do something
 } else { // Old file doesn't exist
   // Do something else
 }
</code></pre>
","2024-08-14 13:15:48","0","Answer"
"78871131","","Using S_ISREG() (and other macros) as parameter to function","<p>I am trying to create a function that will be generally used to determine if a file/directory exists, if it is within a certain path, and if it is of the specified type (S_ISREG, S_ISDIR, ...</p>
<p>Here are the parts of the source pertaining to this question:</p>
<pre><code>int checkExists(const char *name, void *func(int))) {
   struct stat st ;
   int returnValue = DOES_NOT_EXIST ;
   BOOL isInSourceHierarchy, isInTargetHierarchy ;

   if (stat(name, &amp;st) != -1) {
      returnValue = EXISTS ;
      if (memcmp(name, top_dir, strlen(top_dir)))
         returnValue |= IN_SOURCE_STRUCTURE ;
      if (memcmp(name, tgt_dir, strlen(tgt_dir)))
         returnValue |= IN_TARGET_STRUCTURE ;
      if (func != NULL) {
         if (objType == func(st.st_mode))
            returnValue |= RIGHT_TYPE ;
      }
   }

   return returnValue ;
}

. . . 

if (S_ISREG(0)) {} // Yes, I know, I know.  This is for demonstration only.
if (checkExists(old, S_ISREG)) {
   // Do something
 } else { // Old file doesn't exist
   // Do something else
 }
</code></pre>
<p>When trying to compile this, I get:</p>
<pre><code>linkStructure.c:642:31: error: ‘S_ISREG’ undeclared (first use in this function)
  642 |          if (checkExists(old, S_ISREG)) {
      |                               ^~~~~~~
</code></pre>
<p>As can be seen, there is no complaint about the macro used as designed, of course.  So my question is: Is there a way for me to reference the macro in my source like this?  Or will I be left to basically emulate the macro in my function?  (I suppose I could pass the expected type rather than the function, but for the sake of clarity, I would like to understand this limitation.)</p>
","2024-08-14 13:12:53","1","Question"
"78871051","78870897","","<p>Try</p>
<pre class=""lang-r prettyprint-override""><code>file_names = with(data1_sim, paste0(band, &quot;_&quot;, song, &quot;.csv&quot;))
lapply(seq(nrow(data1_sim)), \(i) write.table(data1_sim[i, ], file_names[i])) |&gt;
  invisible() # optional
</code></pre>
<p>or choose a different file format (cp. <code>&quot;.csv&quot;</code>). At least on Mac OS, <code>write.table</code> works without any ending.</p>
","2024-08-14 12:54:26","0","Answer"
"78870897","","How to write as a file each separate row in the dataframe, with file names indicated in a separate data frame?","<p>I would like to be able to write each separate row of a dataframe into a file, with a file name being indicated in the corresponding index entry of a different data frame.
Here is the data frame for which I'd like to save rows as files:</p>
<pre><code>data1_sim &lt;- data.frame(band = c(&quot;Pink Floyd&quot;, &quot;Queen&quot;, &quot;Kanye West&quot;), song = c(&quot;Shine on You Crazy Diamond&quot;, &quot;My Melancholic Blues&quot;, 
                                                                                &quot;Pablo Saint&quot;), Album=c(&quot;Album1&quot;, &quot;Album2&quot;, &quot;Album3&quot;),
                                                                                review=c(&quot;Live on, you crazy Diamond!&quot;, 
                                                                                         &quot;I'm forever in your dept, Queen!&quot;,
                                                                                         &quot;Both crazy and in dept, can't compete with that!&quot;))
</code></pre>
<p>Here is the vector of file names:</p>
<pre><code>file_names &lt;- paste0(data1_sim$band, &quot;_&quot;, data1_sim$song)
</code></pre>
<p>I tried to use both for cycle and a function apply (function obviously would be a much better solution). Here is the code I tried:</p>
<pre><code>list_files1 &lt;- lapply(1:nrow(data1_sim), 
                     function(i) write.table(data1_sim[i,],
                                             file = file_names[i],
                                             row.names = FALSE, col.names = FALSE,
                                             sep = &quot;\t&quot;))
</code></pre>
<p>But it gives out a list of empty entries. What's the problem?</p>
","2024-08-14 12:23:49","-1","Question"
"78868157","78868065","","<p>I agree that just creating an R package for all your functions is the easiest way to share them. You could choose to give all the functions from one file a common prefix to make it easier to look up. You could also explicitly load your functions in a custom environment. Then you could do</p>
<pre><code>my_source &lt;- new.env()
source(&quot;my_source.R&quot;, local=my_source)
my_source$foo()
</code></pre>
<p>After you load data into R, as long as the &quot;keep.source&quot; options is set to TRUE, you can get the the file an imported function name from with</p>
<pre><code>getSrcFilename(my_source$foo)
</code></pre>
<p>But that's at runtime. It wouldn't be helpful if you were just looking at code</p>
","2024-08-13 20:10:22","1","Answer"
"78868065","","R Indicate Functions in Source File","<p>In R, suppose that I have a first file <code>my_source.R</code>, which contains a function :</p>
<pre><code>#my_source.R

foo &lt;- function(){
    ...
}
</code></pre>
<p>In another file <code>main.R</code>, I want to use the function <code>foo</code>. I would write :</p>
<pre><code>#main.R

source(&quot;my_source.R&quot;)

foo()
</code></pre>
<p>The problem I am facing is that, when there are too many source files and too many functions, whereas each source file contains several functions, my teammates tell me that they have trouble finding the referenced function. That is, in this example, they claim to have difficulty tracking down that <code>foo</code> comes from <code>my_source.R</code> when they are looking at <code>main.R</code>.</p>
<p>Therefore, I am now looking for a way to indicate in my code that the function <code>foo</code> comes from <code>my_source.R</code>. That is, something similar to <code>&quot;my_source.R&quot;::foo</code>. Is there a way to achieve this?</p>
","2024-08-13 19:45:15","0","Question"
"78867032","78866923","","<p>Aside from your mistakes with assigning maleToggle and femaleToggle, and using femaleToggle twice, there is a fair canonical way to do this: Remove from elements that should no longer have the style, then add it to the element that was selected</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>var change = (event) =&gt; {
  let f = document.querySelector("".foo"");
  if (f) f.classList.remove(""foo"");
  event.target.classList.add(""foo"");
}

document.querySelectorAll("".toggle &gt; div"").forEach((e) =&gt; e.addEventListener(""click"", change));</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.foo {
  background-color: red;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""gender-toggle""&gt;
        &lt;div class=""toggle""&gt;
          &lt;div id=""male-toggle""&gt;
            &lt;p&gt;Male&lt;/p&gt;
          &lt;/div&gt;
          &lt;div id=""female-toggle""&gt;
            &lt;p&gt;Female&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-08-13 15:09:55","1","Answer"
"78866988","78866328","","<p>So this seems to work:</p>
<pre><code>for(var in c(&quot;Age&quot;, &quot;Female&quot;)) {
  
  dynamic_fun &lt;- paste0(
    &quot;existing_fun &lt;- function(args){ 
    V=list()
    V[[\&quot;first\&quot;]] = &quot;, c(&quot;delta_a&quot;,&quot;gamma_Age_a*Age&quot;,&quot;gamma_Female_a*Female&quot;) %&gt;%
             str_subset(var, negate = TRUE) %&gt;%
             paste(collapse = &quot;+&quot;),
    &quot;}&quot;
  )
  eval(parse(text = dynamic_fun))
}
</code></pre>
","2024-08-13 14:59:34","0","Answer"
"78866937","78866923","","<p>You're not passing the <code>#male-toggle</code> element. You're passing the return value of <code>.addEventListener</code> which is <code>undefined</code>. Split the declaration and the event listener assignment to two separate rows:</p>
<pre><code>const maleToggle = document.getElementById('male-toggle');

maleToggle.addEventListener('click', changeGenderClick);
</code></pre>
<p>Do the same thing to <code>#female-toggle</code>.</p>
<hr />
<p>For accessibility, use <code>radio-buttons</code>. If you do that, then you don't need specific javascript to toggle between the genders, and you can use CSS to style the radio-button based on if it's <code>:checked</code> or not.</p>
","2024-08-13 14:50:22","1","Answer"
"78866923","","My function that changes the elements background color isn't working but works fine when changing the documents background color?","<p>I'm using a switch statement to determine which button is being pressed, they both work with the same function when changing the documents background color, however, when I pass in the actual element and target it within the function and attempt to change it's background color nothing is happening.</p>
<p>Changing the background color of the actual document works fine, but changing the background color of elements passed into the function is not working.</p>
<pre><code>&lt;div class=&quot;gender-toggle&quot;&gt;
        &lt;div class=&quot;toggle&quot;&gt;
          &lt;div id=&quot;male-toggle&quot;&gt;
            &lt;p&gt;Male&lt;/p&gt;
          &lt;/div&gt;
          &lt;div id=&quot;female-toggle&quot;&gt;
            &lt;p&gt;Female&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code>const maleToggle = document.getElementById('male-toggle').addEventListener('click', changeGenderClick);
const femaleToggle = document.getElementById('female-toggle').addEventListener('click', changeGenderClick);

function changeGenderClick(event){
  const genderId = event.target.id;
  switch(genderId){
    case 'male-toggle':
      changeGender(femaleToggle);
      break;
    case 'female-toggle':
      changeGender(femaleToggle);
    break;
  }
}

function changeGender(currentGender){
  currentGender.style.backgroundColor = 'red';
};

</code></pre>
","2024-08-13 14:47:15","1","Question"
"78866821","78866328","","<p>A dynamic formula could be handed over like this:</p>
<pre><code>fun &lt;- function(args, ...){
  further_args &lt;- list(...)
  V=list()
  V[[&quot;first&quot;]] &lt;- further_args$my_formula
  
  ## test:
  lm(formula = V[['first']], data = mtcars)
}
</code></pre>
<ul>
<li>generate a formula and pass it to <code>fun</code>:</li>
</ul>
<pre><code>fun(foo = pi, bar = 'a',
    my_formula = as.formula(sprintf('mpg ~ %s + %s', 'cyl', 'disp'))
    )

## Call:
## lm(formula = further_args$my_formula, data = mtcars)
## 
## Coefficients:
## (Intercept)          cyl         disp  
##    34.66099     -1.58728     -0.02058  
</code></pre>
","2024-08-13 14:21:51","0","Answer"
"78866514","78863937","","<p>First of all, beware of premature optimization. If <code>g(f())</code> calls are relatively infrequent then the difference might be negligible.</p>
<p>Next, creating an extra table takes time, so option (1) is always slower than (3).</p>
<p>Concerning option (2), it really depends on what <code>g()</code> actually does with the arguments. <code>local args = {...}</code> is an equivalent of option (1), while <code>local x, y, z = ...</code> is the same as (3).</p>
","2024-08-13 13:13:20","1","Answer"
"78866328","","R: Dynamic function specification","<p>I'm using a choice modelling package (apollo) that has a function that needs to be specified as part of the model input parameters.</p>
<p>I want to dynamically specify a function such that in each iteration of a loop, part of the function is specified with a different subset of parameters. But there's a couple of constraints. First, I can't change the arguments the function accepts. Second, the function uses <code>attach</code>.</p>
<p>I think there should be a hack but I'm not sure what it is! This is where I've got to so far:</p>
<pre><code>for(var in c(&quot;Age&quot;, &quot;Female&quot;) {
  x &lt;- parse(text = c(&quot;delta_a&quot;,&quot;gamma_Age_a*Age&quot;,&quot;gamma_Female_a*Female&quot;) %&gt;%
              str_subset(var, negate = TRUE) %&gt;%
              paste(collapse = &quot;+&quot;))
  
  assign(&quot;dynamic_fun&quot;, function(args){
    x
})  
}
</code></pre>
<p>Here, in each iteration of the loop, the parsed expression should be as follows:</p>
<pre><code>[1] expression(delta_a+gamma_Female_a*Female)
[2] expression(delta_a+gamma_Age_a*Age)
</code></pre>
<p>But it doesn't work because <code>x</code> in the function is just <code>x</code> rather than an unevaluated expression. In the existing function, the expression is specified like so:</p>
<pre><code>existing_fun &lt;- function(args){
...
    V=list()
    V[[&quot;first&quot;]] = delta_a + gamma_Age_a*Age + gamma_Female_a*Female 
...
}
</code></pre>
<p>But I can't see how it's possible to recreate this structure while filtering the formula elements...</p>
<p>The desired outcome is a loop that creates a set of functions like this:</p>
<pre><code>fun &lt;- function(args){
...
    V=list()
    V[[&quot;first&quot;]] = delta_a + gamma_Female_a*Female 
...
}

fun &lt;- function(args){
...
    V=list()
    V[[&quot;first&quot;]] = delta_a + gamma_Age_a*Age 
...
}
</code></pre>
<p>The name of the function doesn't need to change, only the expression it contains</p>
","2024-08-13 12:35:47","1","Question"
"78865986","78865781","","<p>Here is a 1:1 conversion with the added handling of the difference between JS modulo and Python</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const coloring = (a) =&gt; {
    a = ((a % 255) + 255) % 255; // Adjusted to handle negative numbers like Python instead of a = a % 255;
    const akM = Math.floor(a / 43);
    const ypD = a % 43;
    const ratio = ypD * 255 / 43;

    const colorFunctions = [
        [255, ratio, 0],
        [255 - ratio, 255, 0],
        [0, 255, ratio],
        [0, 255 - ratio, 255],
        [ratio, 0, 255],
        [255, 0, 255 - ratio]
    ];

    return colorFunctions[akM];
};

const test_cases = [
    0,   // Minimum edge case
    42,  // Edge case before transition
    43,  // Transition point (akM changes from 0 to 1)
    44,  // Just after the transition
    84,  // Another transition point (akM changes from 1 to 2)
    85,  // Just after the transition
    126, // Another transition point (akM changes from 2 to 3)
    127, // Just after the transition
    168, // Another transition point (akM changes from 3 to 4)
    169, // Just after the transition
    210, // Another transition point (akM changes from 4 to 5)
    211, // Just after the transition
    254, // Maximum before wrapping to 0
    255, // Wraps around to equivalent of 0
    -1,  // Negative value to check behavior
    256, // Wrap-around behavior (equivalent to 1)
    299, // Random higher value
    512  // Large value (equivalent to 0 after modulo)
];

test_cases.forEach(test =&gt; console.log(test,JSON.stringify(coloring(test)?.map(n =&gt; n.toFixed()))));</code></pre>
</div>
</div>
</p>
<p>Python testcases - note that -1 in Python gives 254 - we need more code to do that in JavaScript</p>
<p></p>
<pre><code>coloring(0) = (255, 0.0, 0)
coloring(42) = (255, 249.06976744186048, 0)
coloring(43) = (255.0, 255, 0)
coloring(44) = (249.06976744186048, 255, 0)
coloring(84) = (11.860465116279073, 255, 0)
coloring(85) = (5.930232558139522, 255, 0)
coloring(126) = (0, 255, 237.2093023255814)
coloring(127) = (0, 255, 243.13953488372093)
coloring(168) = (0, 23.720930232558146, 255)
coloring(169) = (0, 17.790697674418595, 255)
coloring(210) = (225.34883720930233, 0, 255)
coloring(211) = (231.27906976744185, 0, 255)
coloring(254) = (255, 0, 23.720930232558146)
coloring(255) = (255, 0.0, 0)
coloring(-1) = (255, 0, 23.720930232558146)
coloring(256) = (255, 5.930232558139535, 0)
coloring(299) = (249.06976744186048, 255, 0)
coloring(512) = (255, 11.86046511627907, 0)
</code></pre>
","2024-08-13 11:26:02","0","Answer"
"78865781","","color function from python to javascript","<p>How can we translate the below python function to javascript? Thanks.</p>
<pre><code>def coloring(a): #takes an integer number, returns rgb color
    a = a % 255 
    akM = a // 43 
    ypD = a % 43 
    if   akM == 0: color = (255, ypD*255/43, 0)
    elif akM == 1: color  = (255-ypD*255/43, 255, 0)
    elif akM == 2: color = (0, 255, ypD*255/43)
    elif akM == 3: color = (0, 255-ypD*255/43, 255)
    elif akM == 4: color = (ypD*255/43, 0, 255)
    elif akM == 5: color = (255, 0, 255-ypD*255/43)
    return color
</code></pre>
<p>Finally, I tried this and ok. Is there a better simpler or other solution?</p>
<pre><code>function coloring(a) {  //takes an integer number, returns rgb color
    var ypD = a % 43;   
    if        (akM == 0) return (&quot;rgb(&quot; + 255 + &quot;,&quot; + ypD*255/43 + &quot;,&quot; + 0 + &quot;)&quot;) 
    else { if (akM == 1) return (&quot;rgb(&quot; + 255-ypD*255/43 + &quot;,&quot; + 255 + &quot;,&quot; + 0 + &quot;)&quot;)
    else { if (akM == 2) return (&quot;rgb(&quot; + 0 + &quot;,&quot; + 255 + &quot;,&quot; + ypD*255/43 + &quot;)&quot;) 
    else { if (akM == 3) return (&quot;rgb(&quot; + 0 + &quot;,&quot; + 255-ypD*255/43 + &quot;,&quot; + 255 + &quot;)&quot;) 
    else { if (akM == 4) return (&quot;rgb(&quot; + ypD*255/43 + &quot;,&quot; + 0 + &quot;,&quot; + 255 + &quot;)&quot;) 
    else { if (akM == 5) return (&quot;rgb(&quot; + 255 + &quot;,&quot; + 0 + &quot;,&quot; + 255-ypD*255/43 + &quot;)&quot;) 
    else {} } } } } }
}
</code></pre>
","2024-08-13 10:37:51","-2","Question"
"78865655","78865211","","<p>In C language, programmer should not care too much for low level optimizations<sup>(*)</sup>. The mantra says <em>the compiler is smarter than you</em>. That means that such low level details are normally handled by the optimizing compilers.</p>
<p>What should matter are:</p>
<ul>
<li>using efficient algorithms. A more efficient algorithm can lead to better performances in orders of magnitude</li>
<li><strong>readability</strong>. If a co-worker (or even you) has to fix or improve something later in a code you have written, it is essential that all intends are clear.</li>
</ul>
<p>Here the <code>(void)</code> cast mainly says that the programmer <em>willingly</em> discarded the return value and that they did not forget it <em>by mistake</em>.</p>
<hr />
<p><sup>(*)</sup> As for any rule, there are of course exceptions. When you are writing code where execution time is critical, you should carefully profile it and care for low-level optimizations in the portions where most time is spent. But you must be aware that those optimizations only make sense on a specific architecture and a specific compiler. It was even common to use assembly language in this use case.</p>
","2024-08-13 10:10:27","2","Answer"
"78865476","78865211","","<p>This does not matter at all for speed. With or without cast, the returned value is discarded. This is effectively instant either way.</p>
","2024-08-13 09:35:25","1","Answer"
"78865211","","Casting function result into a void speed comparison","<p>I wonder how casting function into a void will affect speed. By that i mean :</p>
<pre><code>int a,b;

int main (){
  (void)my_func();
}

int my_func(){
  return a+b;
}
</code></pre>
<p>What would compiler do with this.</p>
<pre><code>int a,b;

int main (){
  my_func();
}

int my_func(){
  return a+b;
}
</code></pre>
<p>Which of this blocks of code would be faster. If noone of them, then what is the purpose of writing <strong>(void)</strong> before function call</p>
","2024-08-13 08:37:26","-1","Question"
"78863937","","Performance of calling a function, passing multiple return values from another function call?","<p>A function <code>f()</code> returns multiple values, which are to be fed into a second function <code>g()</code>. I cannot change <code>f()</code>, but I can change <code>g()</code> and all calls to it. I'm wondering if it's possible to say which variant performs best? What does it depend on?</p>
<ul>
<li><p>Function header with one table argument</p>
<pre class=""lang-lua prettyprint-override""><code>function g(arg)
--code
end
</code></pre>
<p>and function call with table constructor</p>
<pre class=""lang-lua prettyprint-override""><code>g({f()})
</code></pre>
</li>
<li><p>Function header with variable number of arguments</p>
<pre class=""lang-lua prettyprint-override""><code>function g(...)
--code
end
</code></pre>
<p>and regular function call</p>
<pre class=""lang-lua prettyprint-override""><code>g(f())
</code></pre>
</li>
<li><p>Function header with multiple variables (assuming number of <code>f()</code> return values is known)</p>
<pre class=""lang-lua prettyprint-override""><code>function g(x, y, z)
--code
end
</code></pre>
<p>and regular function call</p>
<pre class=""lang-lua prettyprint-override""><code>g(f())
</code></pre>
</li>
<li><p>A completely different variant?</p>
</li>
</ul>
","2024-08-12 23:45:35","1","Question"
"78863673","78863647","","<p>I don't think you can do precisely what you want, but you can use the dictionary argument approach and then merge it with the default:</p>
<pre><code>def my_function(params: dict = {})
    params = the_defaults | params
    # rest of code
</code></pre>
","2024-08-12 21:36:51","0","Answer"
"78863647","","Define default arguments using a dict","<p>I have an unusual situation where a dict of keyword-type argument defaults, <code>the_defaults</code>, is created before a function <code>my_function</code> is defined:</p>
<pre><code>the_defaults = {'kwarg_a': 1, 'kwarg_b': 2}
def my_function(my_args = the_defaults):
  print(my_args['kwarg_a'])
  print(my_args['kwarg_b'])
</code></pre>
<p>This code is ugly because my function body has to address entries of <code>my_args</code> instead of using local variables.
Is there any way to avoid this?
I am imagining a dynamic function header <code>def my_function(**kwargs=**the_defaults): [...]</code> but this is obviously meaningless.</p>
","2024-08-12 21:23:28","0","Question"
"78860288","78830442","","<pre class=""lang-golang prettyprint-override""><code>func GetSSAFunction(ssaPkg *ssa.Package, structName string, funcName string) *ssa.Function {
    if len(structName) == 0 {
        return ssaPkg.Func(funcName)
    } else {
        t := ssaPkg.Type(structName)
        ti := t.Type()

        named, ok := ti.(*types.Named)
        if !ok {
            return nil
        }

        var key *types.Func
        for i, n := 0, named.NumMethods(); i &lt; n; i++ {
            method := named.Method(i)
            if method.Name() == funcName {
                key = method
                break
            }
        }
        return ssaPkg.Prog.FuncValue(key)
    }
}
</code></pre>
<p>this function solve my problem.</p>
","2024-08-12 06:46:24","0","Answer"
"78858160","78857199","","<p>The problem you are having here is that <code>credentialFunc</code> is some kind of global state, so <a href=""https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-join-new-project.html"" rel=""nofollow noreferrer"">all usual caveats</a> apply, including having an intransparent API. Another might be that it makes calls to <a href=""https://pkg.go.dev/testing#T.Parallel"" rel=""nofollow noreferrer""><code>T.Parallel</code></a> impossible without even noticing, so you might introduce hidden test bugs. Not being able to execute tests in parallel has obvious performance implications.</p>
<p>Using global state as a poor mans dependency injection is generally a bad idea. There might be exceptions, so I wouldn't say that every usage is wrong, but I would discourage making a habit out of it. Consider using some DI framework, like <a href=""https://pkg.go.dev/github.com/google/wire"" rel=""nofollow noreferrer""><code>wire</code></a>, for the job.</p>
","2024-08-11 11:02:41","0","Answer"
"78857233","78857199","","<p>The Go standard library uses the pattern.  Here are some examples:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Package</th>
<th>Function</th>
<th>Test</th>
</tr>
</thead>
<tbody>
<tr>
<td>database/sql</td>
<td><a href=""https://github.com/golang/go/blob/d36353499f673c89a267a489beb80133a14a75f9/src/database/sql/sql.go#L50"" rel=""nofollow noreferrer"">nowFunc</a></td>
<td><a href=""https://github.com/golang/go/blob/d36353499f673c89a267a489beb80133a14a75f9/src/database/sql/sql_test.go#L2348-L2349"" rel=""nofollow noreferrer"">sql_test.go</a></td>
</tr>
<tr>
<td>net</td>
<td><a href=""https://github.com/golang/go/blob/d36353499f673c89a267a489beb80133a14a75f9/src/net/hook_unix.go#L17-L20"" rel=""nofollow noreferrer"">connectFunc and others</a></td>
<td><a href=""https://github.com/golang/go/blob/d36353499f673c89a267a489beb80133a14a75f9/src/net/dial_unix_test.go#L25-L32"" rel=""nofollow noreferrer"">dial_unix_test.go</a></td>
</tr>
</tbody>
</table></div>
<p>If the standard library uses the pattern, then it's probably not an anti-pattern.</p>
","2024-08-10 23:47:35","2","Answer"
"78857199","","Is assigning functions to package variables a Go antipattern even if it makes unit testing easier?","<p>While working on a new microservice written in Go I've gotten into the habit of assigning my functions to global variables and then calling those variables in my actual code.  This has been incredibly helpful for unit testing because I am able to easily mock not only my own functions, but also the functions of libraries my code calls</p>
<p>Here's an example of what I'm doing:</p>
<pre><code>package mycode

import identityLibrary

var credentialFunc = identityLibrary.NewCredential

func myLogic() {
    ...
    credential := credentialFunc()
    ...
}
</code></pre>
<p>Then I might write a unit test for <code>myLogic</code> like this:</p>
<pre><code>func myTest(t *testing.T) {
    originalCredFunc := credentialFunc
    defer func() {
        credentialFunc = originalCredFunc
    }

    credentialFunc = func() {
        return errors.New(&quot;mock error&quot;)
    }

    err := myLogic()
    
    if err == nil {
        t.Error(&quot;Expected error, got nil&quot;)
    }
}
</code></pre>
<hr />
<p>While this approach has helped me maintain code coverage I'm concerned that I may have stumbled into an anti-pattern by using package/global level variables for my functions.  Certainly reassigning one of those variables to a new function in my own application logic would be disastrous, but if I'm disciplined about doing so only in tests am I ok?</p>
<p>I'm also unsure if there are any performance concerns I might run into at scale?  I think by assigning the functions to global variables I may have made the functions singletons, but I don't know what the performance implications would be?  maybe it depends on whether the function in question is doing something like managing network connections or something?</p>
","2024-08-10 23:18:31","0","Question"
"78855446","78855437","","<p>Bash is not python. In bash a function call is just a command. There is nothing dynamic about it.</p>
<pre><code>filterTxtforfunc() {
   echo does something
}
input_file=&quot;input.txt&quot;
while IFS= read -r line; do
   # Extract the first 8 characters from the line
   code=&quot;${line:0:8}&quot;
   # Dynamically build the command and execute it
   filterTxtforfunc &quot;$0&quot; &quot;$code&quot;
done &lt; &quot;$input_file&quot;
</code></pre>
<p>Consider researching an introduction to bash and bash functions. Remember to check your scripts with shellcheck.</p>
","2024-08-10 07:16:16","2","Answer"
"78855437","","Reading a text file and using each line as an input for a function","<p>I have a file in which there are more than thousand lines and in each line there is a string of 12 characters. I also have a script in which there is a function. I want the file to be read every time the function is executed and the first 8 characters of each line of this file will be received as input and the function will be executed for each line of the file.
I'd checked similar topics but they didn't help me. I don't have the possibility to use Python, Jason and other languages ​​and libraries except shell script.
The script I wrote is as follows, which seems to work correctly, but returns an error:</p>
<pre><code>#!/bin/bash
input_file=&quot;input.txt&quot;
while IFS= read -r line; do
# Extract the first 8 characters from the line
code=&quot;${line:0:8}&quot;
# Dynamically build the command and execute it
eval &quot;filterTxtforfunc(\$0,\&quot;$code\&quot;)&quot;
done &lt; &quot;$input_file&quot;
</code></pre>
<p>An Err:</p>
<blockquote>
<p>-bash: eval: line 12: syntax error near unexpected token `$0,&quot;PRI3ZNPZ&quot;'</p>
</blockquote>
<blockquote>
<p>-bash: eval: line 12: `filterTxtforfunc($0,&quot;&quot;PRI3ZNPZ&quot;)'</p>
</blockquote>
<p>The <code>filterTxtforfunc($0,&quot;&quot;PRI3ZNPZ&quot;)</code> is exactly what I want to generate automatically and use automatically in my script.</p>
<p>input.txt is like this:</p>
<pre><code>WRM3BHIZ0004
NRB1SAPB0122
LRT1SYGM0114
KRF1LAEI0451
JRU1TEEE0764
ZRQ1LQWS0666
PRH1DCHK0904
...
</code></pre>
","2024-08-10 07:11:33","1","Question"
"78855057","78855031","","<p>If the arrays are all of the same size you can create an array of pointers to those arrays and then use them like a 2d array.  There is a caveat that since it uses pointers to arrays then you need to dereference the pointer to get the array.  That can look like</p>
<pre><code>int main()
{
    int arr1[] = {1,2,3,4};
    int arr2[] = {5,6,7,8};
    int arr3[] = {9,10,11,12};
    
    int (*data[3])[4] = {&amp;arr1, &amp;arr2, &amp;arr3};
    //         ^   ^this 4 is for the size of the arrays
    //         |- this 3 is number of pointers to the arrays
    
    for (const auto&amp; row : data)
    {
        for (const auto&amp; elem : *row) // dereference pointer to array to get elements
            std::cout &lt;&lt; elem &lt;&lt; &quot; &quot;;
        std::cout &lt;&lt; &quot;\n&quot;;
    }
}
</code></pre>
<p>You can see it working in this <a href=""https://coliru.stacked-crooked.com/a/a0cb27c178239ffc"" rel=""nofollow noreferrer"">live example</a>.</p>
<hr />
<p>In a more modern approach you can have a <a href=""https://en.cppreference.com/w/cpp/container/array"" rel=""nofollow noreferrer""><code>std::array</code></a> of <a href=""https://en.cppreference.com/w/cpp/container/span"" rel=""nofollow noreferrer""><code>std::span</code></a>s that let you stich the separate arrays into one.  That looks like</p>
<pre><code>int main()
{
    int arr1[] = {1,2,3};
    int arr2[] = {4,5,6};
    int arr3[] = {7,8,9};
    
    std::array&lt;std::span&lt;int&gt;, 3&gt; data = {std::span{arr1}, std::span{arr2}, std::span{arr3}};
    
    for (const auto&amp; row : data)
    {
        for (const auto&amp; elem : row)
            std::cout &lt;&lt; elem &lt;&lt; &quot; &quot;;
        std::cout &lt;&lt; &quot;\n&quot;;
    }
}
</code></pre>
<p>and you can see it working in this <a href=""https://coliru.stacked-crooked.com/a/e67b07717afd86af"" rel=""nofollow noreferrer"">live example</a>.</p>
","2024-08-10 02:15:14","3","Answer"
"78855031","","How to address variables dynamically and sequentially? Such as Variable1, Variable2, and so on","<p>Let's say I have 3 separate arrays (which could be combined into a two-dimensional array, but let's say that's not allowed) of equal size.</p>
<p>I want to use a <em>for loop</em> to step through these arrays. We all know the subscript of an array can be referenced dynamically:</p>
<pre><code>for (int i = 0; i &lt; size; i++)
{
    cout &lt;&lt; array1[i];
}
</code></pre>
<p>But how can I jump to the <strong>next</strong> array programmatically/dynamically? I.E. nested for loop.
How can I do something akin to array<strong>X</strong>[i]?</p>
<p>Other than condensing separate variables (or arrays) into arrays, to enable dynamic stepping via the subscript, is there any way to do this?</p>
<p>I've considered the idea of using pointers, but I believe that would have to rely on the assumption that these arrays would be allocated sequentially in memory, using the known memory size of the array as an offset and making calculated jumps. Is this typically the rule with C++ if variables/arrays are declared immediately after each other or in the same line? If not, is there a way to ensure this?</p>
<p>I tried writing the function calls out individually, which is not scalable.</p>
","2024-08-10 01:50:56","0","Question"
"78854391","77789995","","<p>You can extract the <code>for i = 1...end</code> part as a separate function. In addition, since we are on the topic of clean code, you can also make the if block <code>return</code>. Then the <code>else</code> code block can be inside the function body and de-nested for one level.</p>
<pre><code>local function hook(frame, method)
    for i = 1, #frame.buttons do
        frame.buttons[i]:HookScript(&quot;OnMouseDown&quot;, method)
    end
end

local function myfunc(frame, method)
    if frame:IsShown() then
        hook(frame, method)
        return
    end
    frame:SetScript(
        &quot;OnShow&quot;,
        function(frame)
            hook(frame, method)
        end
    )
end
</code></pre>
","2024-08-09 19:40:55","1","Answer"
"78854375","78854346","","<p>Try this:</p>
<pre><code>    let value = prompt(&quot;enter value&quot;);
    console.log(&quot;Value entered:&quot; + value);
    console.log(&quot;Type of value: &quot; + typeof value);

    if (!isNaN(parseFloat(value))) {
    console.log(&quot;String contains a number&quot;);
    }else {
    console.log(&quot;NaN&quot;);
    }
</code></pre>
","2024-08-09 19:35:41","-1","Answer"
"78854346","","why does it always executing the else block of code?","<p>I was trying to make an isNaN() function that checks the user's input if its a NaN or not, but it always skips the the first condition whatever the user's input is.</p>
<pre><code>function isNaN() {
    let value = prompt(&quot;enter value&quot;);

    if (typeof value === &quot;number&quot;) {
    console.log(&quot;value is number&quot;);
    }else {
    console.log(&quot;NaN&quot;);
    }
} isNaN();
</code></pre>
<p>I made the program to checks the user's input data type by typeof operator.</p>
","2024-08-09 19:22:34","-3","Question"
"78854223","78854079","","<p>We can do this quite easily in base R as well</p>
<pre><code>bound &lt;- data.frame(myfilelist[[1]][1:2], do.call(cbind, lapply(myfilelist, &quot;[&quot;, 4)))
colnames(bound)[-(1:2)] &lt;- paste0(&quot;sample&quot;, seq(length(myfilelist)))
bound
#                   V1       V2 sample1 sample2
# 1 ENSG00000000003.15   TSPAN6    7094    2616
# 2  ENSG00000000005.6     TNMD       2      23
# 3 ENSG00000000419.13     DPM1    4355    3746
# 4 ENSG00000000457.14    SCYL3    1149    1288
# 5 ENSG00000000460.17 C1orf112     372     510
# 6 ENSG00000000938.13      FGR     585    1578
</code></pre>
","2024-08-09 18:44:12","0","Answer"
"78854119","78854079","","<p>It's not clear to me how you want to join this list of data frames (are the first two columns identical?), but here is an option using left-join:</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)
library(purrr)

imap(myfilelist, \(df, i) select(df, 1:2, &quot;sample{i}&quot; := 4) ) |&gt;
  reduce(left_join, by = join_by(V1, V2))
</code></pre>
<p>If the first two columns are identical across all data frames then you could bind them together:</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)
library(purrr)

bind_cols(myfilelist[[1]][1:2],
          imap(myfilelist, \(df, i) select(df, &quot;sample{i}&quot; := 4)) |&gt; bind_cols())
</code></pre>
","2024-08-09 18:02:58","1","Answer"
"78854079","","How do I bind/combine selected columns from multiple dataframes into one","<p>I have many <code>data.frames</code> (448) with the same columns names (9 in total), like this:</p>
<pre><code>       V1              V2      V4    ... V9
ENSG00000000003.15   TSPAN6   7095
ENSG00000000005.6     TNMD    4355
       .                .       .
       .                .       .
</code></pre>
<p>i want to create another <code>data.frame</code>, maintaining the first 2 columns (V1 and V2), these are identical in every <code>data.frame</code>, and merge V4 column (these are different for every <code>data.frame</code>) from all <code>data.frame</code>s, the rest of the columns should be excluded.</p>
<p>If it could be possible, I would like to rename the V4 columns to &quot;sample1&quot;, &quot;sample2&quot; and so on, until 448.</p>
<p>So the final dataframe should be:</p>
<pre><code>       V1              V2     V4_1    V4_2 ... V4_448
ENSG00000000003.15   TSPAN6   7095    3856       .
ENSG00000000005.6     TNMD    4355    2976       .
       .                .       .      .         . 
       .                .       .      .         .
</code></pre>
<p>I already did this:</p>
<pre><code>reader &lt;- function(f){
  read.table(f, sep='\t', skip=6, header=FALSE)
}

files &lt;- list.files(path, 
                    recursive=TRUE, full.names=TRUE)

myfilelist &lt;- lapply(files, reader)
</code></pre>
<p>But I don't know how to combine only these selected columns</p>
<p>This is the output of <code>dput(lapply(myfilelist[1:2], head))</code>:</p>
<pre><code>myfilelist &lt;- list(structure(list(V1 = c(&quot;ENSG00000000003.15&quot;, &quot;ENSG00000000005.6&quot;, 
&quot;ENSG00000000419.13&quot;, &quot;ENSG00000000457.14&quot;, &quot;ENSG00000000460.17&quot;, 
&quot;ENSG00000000938.13&quot;), V2 = c(&quot;TSPAN6&quot;, &quot;TNMD&quot;, &quot;DPM1&quot;, &quot;SCYL3&quot;, 
&quot;C1orf112&quot;, &quot;FGR&quot;), V3 = c(&quot;protein_coding&quot;, &quot;protein_coding&quot;, 
&quot;protein_coding&quot;, &quot;protein_coding&quot;, &quot;protein_coding&quot;, &quot;protein_coding&quot;
), V4 = c(7094L, 2L, 4355L, 1149L, 372L, 585L), V5 = c(3573L, 
1L, 2201L, 953L, 553L, 281L), V6 = c(3521L, 1L, 2154L, 883L, 
579L, 308L), V7 = c(59.9764, 0.052, 138.3704, 6.4018, 2.3896, 
6.6335), V8 = c(20.5827, 0.0178, 47.4859, 2.197, 0.8201, 2.2765
), V9 = c(22.2037, 0.0192, 51.2256, 2.37, 0.8847, 2.4558)), row.names = c(NA, 
6L), class = &quot;data.frame&quot;), structure(list(V1 = c(&quot;ENSG00000000003.15&quot;, 
&quot;ENSG00000000005.6&quot;, &quot;ENSG00000000419.13&quot;, &quot;ENSG00000000457.14&quot;, 
&quot;ENSG00000000460.17&quot;, &quot;ENSG00000000938.13&quot;), V2 = c(&quot;TSPAN6&quot;, 
&quot;TNMD&quot;, &quot;DPM1&quot;, &quot;SCYL3&quot;, &quot;C1orf112&quot;, &quot;FGR&quot;), V3 = c(&quot;protein_coding&quot;, 
&quot;protein_coding&quot;, &quot;protein_coding&quot;, &quot;protein_coding&quot;, &quot;protein_coding&quot;, 
&quot;protein_coding&quot;), V4 = c(2616L, 23L, 3746L, 1288L, 510L, 1578L
), V5 = c(1369L, 9L, 1876L, 1015L, 681L, 797L), V6 = c(1250L, 
14L, 1871L, 984L, 693L, 782L), V7 = c(16.8063, 0.4541, 90.4417, 
5.4531, 2.4895, 13.5969), V8 = c(4.8615, 0.1314, 26.1617, 1.5774, 
0.7201, 3.9331), V9 = c(6.0158, 0.1625, 32.3733, 1.9519, 0.8911, 
4.867)), row.names = c(NA, 6L), class = &quot;data.frame&quot;))
</code></pre>
","2024-08-09 17:51:42","1","Question"
"78849715","78848383","","<p>Despite the Google Apps Scripts Editor autocomplete showing <code>getBorder</code> and <code>getBorders</code> for the <code>Class SpreadsheetApp.Range</code> these methods aren't included in <a href=""https://developers.google.com/apps-script/reference/spreadsheet/range"" rel=""nofollow noreferrer"">https://developers.google.com/apps-script/reference/spreadsheet/range</a>, the official reference page for this class.</p>
<p>I understand that, as of August 8th, 2024, <code>getBorder</code> works, which leads us to expect that <code>getBorders</code> works too, but as they aren't included in the official references, &quot;complaining&quot; about this will not help in the short term.</p>
<p>Instead of these methods, use the Advanced Spreadsheet Service to play on the safe side. Below is a question about using this service to get the borders</p>
<ul>
<li><a href=""https://stackoverflow.com/q/56055708/1595451"">What is the most efficient way to get borders in Google Apps Script</a></li>
</ul>
<p>Note:<br />
I just tested the sample code from Tanike's answer to the above question. It works.</p>
<pre><code>function getBorderAdvanced(){
    const spreadsheetId = SpreadsheetApp.getActiveSpreadsheet().getId();
    const res = Sheets.Spreadsheets.get(spreadsheetId, {ranges: &quot;Sheet1!A1&quot;, fields: &quot;sheets/data/rowData/values/userEnteredFormat/borders&quot;});
    Logger.log(res)
}
</code></pre>
<h3>Related</h3>
<ul>
<li><a href=""https://stackoverflow.com/q/48754286/1595451"">Retrieving Google Sheets cell border style programmatically</a></li>
<li><a href=""https://stackoverflow.com/q/63125292/1595451"">.getBorder() not showing borders set from other cells</a></li>
</ul>
","2024-08-08 17:29:31","1","Answer"
"78849524","78849362","","<p>This is an answer to part a) of your question, and a guess at part b).</p>
<p>If you deparse the expression <code>fueltype:=&quot;PETROL&quot;</code>, you'll see the changed code:</p>
<pre><code>&gt; deparse(quote(fueltype:=&quot;PETROL&quot;))
[1] &quot;`:=`(fueltype, \&quot;PETROL\&quot;)&quot;
</code></pre>
<p>This isn't a change, it's just the way the deparser works.  The parser recognizes <code>:=</code> as an infix operator, but R itself never uses it, so the deparser doesn't deparse it as one.</p>
<p>Why does this happen with a package but not in a function?  We see</p>
<pre><code>&gt; function() { fueltype:=&quot;PETROL&quot; }
function() { fueltype:=&quot;PETROL&quot; }
</code></pre>
<p>because by default, R keeps the source code as part of a function entered at the console or via a script.  However, the default for packages is not to keep the source code.</p>
<p>You can override the default for packages by using the option <code>--with-keep.source</code> if installing the package from the command line.  Then when you print a function from the package you'll see comments and original formatting, and you won't see the <code>:=</code> expressions rearranged.</p>
<p>As to part b):  are you sure that <code>y1</code> is really a <code>data.table</code> object?  If you try to do that with a dataframe or a matrix, you'll get the error you saw.  For example,</p>
<pre><code>&gt; library(data.table)
&gt; mtcars[, disp := 4]
Error: Check that is.data.table(DT) == TRUE. Otherwise, :=, `:=`(...) and let(...) are defined for use in j, once only and in particular ways. See help(&quot;:=&quot;).
</code></pre>
","2024-08-08 16:34:58","3","Answer"
"78849458","78848956","","<p>I used @mplungjan's snippet as the point of departure. First, I fixed the CSS so we can actually see something. Next, I have realized that you check whether current player equals with player1 in which case you evaluate to player1 instead of setting the current player to player2 and vice versa, second, you missed the initial initialization, you need to handle the case when current player is still undefined, finally, you are calling game play upon any click as well as upon clicking on a square, so you are switching the player twice when someone clicks on a box, because it's a click on a box as well as a click per se.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const gameBoard = (function() {
  // Select DOM elements
  const playerInput1 = document.querySelector(""#player-select1"");
  const playerButton = document.querySelector("".add-player"");
  const playerInput2 = document.querySelector(""#player-select2"");
  const playerPara1 = document.querySelector("".player1"");
  const playerPara2 = document.querySelector("".player2"");
  const showPlayers = document.querySelector("".player-shows"");
  const boxes = document.querySelectorAll("".box"");

  // Game markers
  const gameMarker = [""O"", ""X""];
  let currentPlayer;
  let player1, player2;

  // Player factory function
  const playerSelection = (name, marker) =&gt; {
    let score = 0;
    return {
      name,
      marker,
      getScore: function() {
        return score;
      },
      scorePlus: function() {
        score++;
        return score;
      }
    };
  };

  // Initialize players
  player1 = playerSelection(""Name"", gameMarker[0]);
  player2 = playerSelection(""Name"", gameMarker[1]);

  // Event listener for player names
  playerButton.addEventListener(""click"", () =&gt; {
    showPlayers.innerHTML = """";
    player2.name = playerInput2.value.trim();
    player1.name = playerInput1.value.trim();

    if (player1.name === """" || player2.name === """") {
      showPlayers.innerHTML = ""Please add two players to start"";
      return;
    }  
    playerPara1.textContent = `First Player is: ${player1.name} (${player1.marker})`;
    playerPara2.textContent = `Second Player is: ${player2.name} (${player2.marker})`;
    
    showPlayers.append(playerPara1);
    showPlayers.append(playerPara2);
    currentPlayer = player1; // initialise

  });

  // Add an event listener to the board
  board.addEventListener(""click"", (e) =&gt; {
    let element = e.target.closest('.box'); // handle nested elements
    if (!element || !currentPlayer || element.textContent.trim() !== """") return;
    element.textContent = currentPlayer.marker;
    playGame();
  });
  // Function to switch current player - using a ternary
  const playGame = () =&gt;  currentPlayer = (currentPlayer === player2) ? player1 : player2;

  // Return public methods
  return {
    playerSelection,
    playGame
  };
})();</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>#board {
  display: table;
}

#board .row {
  display: flex;
}

.box {
  background-color: gray;
  font-size: xx-large;
  width: 100px;
  height: 100px;
  border: 1px solid black;
  display: flex;
  justify-content: center;
  align-items: center;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;input type=""text"" id=""player-select1"" placeholder=""please enter a name""&gt;
&lt;button class=""add-player""&gt;Add&lt;/button&gt;
&lt;input type=""text"" id=""player-select2"" placeholder=""please enter a name""&gt;
&lt;p class=""player1""&gt;&lt;/p&gt;
&lt;p class=""player2""&gt;&lt;/p&gt;

&lt;div class=""player-shows""&gt;Please add two players to start&lt;/div&gt;

&lt;div id=""board""&gt;
  &lt;div class=""row""&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=""row""&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=""row""&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
    &lt;div class=""box""&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-08-08 16:17:58","1","Answer"
"78849362","","Creating function in package is changing data table syntax from := to `:=`","<p>I have written a function - just running the text of it works fine, setting it up as a function works fine, but when I create a package to load the function it changes some of the syntax and then crashes.</p>
<p>Due to the complexity of the issue, I am not certain a reproducible example is possible....</p>
<p>One example of the code is it changing this:</p>
<pre><code>y1[fueltype==&quot;Petrol&quot;,fueltype:=&quot;PETROL&quot;]
</code></pre>
<p>to this:</p>
<pre><code>y1[fueltype == &quot;Petrol&quot;, `:=`(fueltype, &quot;PETROL&quot;)]
</code></pre>
<p>and although this should be OK as far as I can tell (and indeed if I just run the code from the function that has been changed it runs OK), when I run the function it returns the error:</p>
<p>&quot;Error: Check that is.data.table(DT) == TRUE. Otherwise, :=, <code>:=</code>(...) and let(...) are defined for use in j, once only and in particular ways. See help(&quot;:=&quot;).:</p>
<p>Is there any reason why:
a) it insists on changing the code when I create the function via a package
b) it refuses to run the edited code, even when it appears to have changed it to something that should be acceptable.</p>
<p>Again - apologies for the lack of reproducible code but as the process involves setting up new packages it didn't seem that this was practicable.</p>
","2024-08-08 15:56:21","0","Question"
"78848956","","Switching users in tic tac toe game","<p>I am currently working on tic tac toe project with javascript html css.
The problem is I did set the constructors by the input of the user but
I cannot switch over the user when I play my game</p>
<p>My expectations are be able to switch user when you play your turn.
I tried if else by assigning currentplayer to player 1 if player 1 - I want to change it to player2</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const gameBoard = (function() {
  // Select DOM elements
  const playerInput1 = document.querySelector(""#player-select1"");
  const playerButton = document.querySelector("".add-player"");
  const playerInput2 = document.querySelector(""#player-select2"");
  const playerPara1 = document.querySelector("".player1"");
  const playerPara2 = document.querySelector("".player2"");
  const showPlayers = document.querySelector("".player-shows"");
  const boxes = document.querySelectorAll("".box"");

  // Game markers
  const gameMarker = [""O"", ""X""];
  let currentPlayer;
  let player1, player2;

  // Player factory function
  const playerSelection = (name, marker) =&gt; {
    let score = 0;
    return {
      name,
      marker,
      getScore: function() {
        return score;
      },
      scorePlus: function() {
        score++;
        return score;
      }
    };
  };

  // Initialize players
  player1 = playerSelection(""Name"", gameMarker[0]);
  player2 = playerSelection(""Name"", gameMarker[1]);

  // Event listener for player names
  playerButton.addEventListener(""click"", () =&gt; {
    player2.name = playerInput2.value.trim();
    player1.name = playerInput1.value.trim();

    if (player1.name === """" || player2.name === """") {
      alert(""Please enter a name"");
    } else {
      playerPara1.textContent = `First Player is: ${player1.name} (${player1.marker})`;
      playerPara2.textContent = `Second Player is: ${player2.name} (${player2.marker})`;
      showPlayers.innerHTML = """";
      showPlayers.append(playerPara1);
      showPlayers.append(playerPara2);

      // Start the game by setting the initial player
      playGame();
    }
  });

  // Add event listeners to boxes
  boxes.forEach((element) =&gt; {
    element.addEventListener(""click"", () =&gt; {
      if (element.textContent === """" &amp;&amp; currentPlayer) { // Ensure box is empty and a player is set
        element.textContent = currentPlayer.marker; // Mark the box with the current player's marker
        playGame(); // Switch to the next player
      }
    });
  });

  // Function to switch current player
  const playGame = () =&gt; {
    if (currentPlayer === player1) {
      player1
    } else if (currentPlayer === player2) {
      player2
    }


  };

  // Return public methods
  return {
    playerSelection,
    playGame
  };
})();</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;input type=""text"" id=""player-select1""&gt;
&lt;buttton class=""add-player""&gt;Add&lt;/button&gt;
&lt;input type=""text"" id=""player-select2""&gt;
&lt;p class=""player1""&gt;&lt;/p&gt;
&lt;p class=""player2""&gt;&lt;/p&gt;

&lt;div class=""player-shows""&gt;&lt;/div&gt;

&lt;div id=""board""&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;br&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;br&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;div class=""box""&gt;&lt;/div&gt;
&lt;br&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-08-08 14:21:28","0","Question"
"78848383","","Function SpreadsheetApp.Range.getBorders() Not Working","<p>I was trying to get the information about the borders of a range, doing so I tried the <b>getBorders()</b> function, but received the following error:</p>
<blockquote>
<p><b><i>Exception: Unexpected error while getting the method or property getBorders on object SpreadsheetApp.Range.</b></i></p>
</blockquote>
<p>Here is the code below:</p>
<pre><code>function test(){
  var ss = SpreadsheetApp.getActiveSpreadsheet();
  var pg = ss.getActiveSheet();
  var range = pg.getRange(1,1,10,5);
  var border = range.getBorders();
}
</code></pre>
<p>For a workaround I needed to do a getBorder() for each cell on the range:</p>
<pre><code>function getBorders(range){
  var pg            =     range.getSheet();
  var fr            =     range.getRow();
  var fc            =     range.getColumn();
  var lr            =     range.getLastRow();
  var lc            =     range.getLastColumn();
  var row         =     []
  var finalArray    =     []
  for(var r = fr;r&lt;=lr;r++){
    for(var c = fc;c&lt;=lc;c++){
      var exactRange   =  pg.getRange(r,c);
      if(exactRange.isPartOfMerge()){
      //For some reason I found that trying to get the border of an Merged cell is impossible
        var hexTop    =   &quot;#000000&quot;;
        var hexLeft   =   &quot;#000000&quot;;
        var hexRight  =   &quot;#000000&quot;;
        var hexBottom =   &quot;#000000&quot;;
      } else {
        var bottomColor  =  exactRange.getBorder().getBottom().getColor();
        var topColor     =  exactRange.getBorder().getTop().getColor();
        var leftColor    =  exactRange.getBorder().getLeft().getColor();
        var rightColor   =  exactRange.getBorder().getRight().getColor();
        var bcolorType   =  bottomColor.getColorType();
        var tcolorType   =  topColor.getColorType();
        var rcolorType   =  rightColor.getColorType();
        var lcolorType   =  leftColor.getColorType();

        const getHexColor= (color,type) =&gt; {
          switch(type){
            case SpreadsheetApp.ColorType.RGB:
             var hex = color.asRgbColor().asHexString();
            break
            default:
              var hex = &quot;#000000&quot;
            break
          }
        return hex;
        }

        var hexTop    =   getHexColor(topColor    , tcolorType)
        var hexLeft   =   getHexColor(leftColor   , lcolorType)
        var hexRight  =   getHexColor(rightColor  , rcolorType)
        var hexBottom =   getHexColor(bottomColor , bcolorType)
        }
        row.push([[hexTop],[hexLeft],[hexRight],[hexBottom]]);
      }
      finalArray = finalArray.concat([linha]);
      row= []
    }
  return finalArray;
}
</code></pre>
<p>I was expecting the <b>getBorders()</b> function to return to me an array of the function for each cell just like I did in the workaround, obviously not with the separation for the color values for top, left, right and bottom, which I would do where I would use this array</p>
","2024-08-08 12:20:08","1","Question"
"78847490","78847398","","<p>Most C++ algorithms operate on a <code>[begin, end)</code> pair. In case of a continuous array one uses pointers to the first element and behind the last, which allows for efficient iteration:</p>
<pre><code>float data[SZ];
my_function(data, data+SZ);
//...

void my_function(float* begin, float* end){
  for(float* cur = begin; cur != end; ++cur){
    //do something with *cur
  }
}
</code></pre>
<blockquote>
<p>Using a simple pointer + length variable seems to be inelegant and unsafe.</p>
</blockquote>
<p>In this case, safety <em>is</em> a concern but not more than any other code where you address an array directly (indices of a vector may go out of bounds as well, linked list may lead to dereferencing a null pointer, etc).
C++20 provides <a href=""https://en.cppreference.com/w/cpp/container/span"" rel=""nofollow noreferrer"">std::span</a>, a syntax sugar for this approach:</p>
<pre><code>float data[SZ];
std::span&lt;float&gt; better_data(data);
my_function(better_data); //you can simply call my_function(data) 
                          //for implicit span construction
//...

void my_function(std::span&lt;float&gt; seq){
  for(float&amp; val : seq){
    //do something with val
  }
}
</code></pre>
<p>(Notice that <code>std::span</code> can store static information about an array size but it would run counter to your desire to have one function for all array sizes.)</p>
","2024-08-08 09:06:20","4","Answer"
"78847398","","Pass array of unknown size to function","<p>I want to pass an array which can have different sizes to a function. I am on an embedded system with limited capacities. I thought about the following ways of implementing it:</p>
<ol>
<li>I don't want to use templates, because the function is called with multiple different array sizes. Every call would create a new set of this function, which would unnecessarily
blow up my project.</li>
<li>Using a simple pointer + length variable seems to be inelegant and unsafe. Also I couldn't nicely iterate over such a construct.</li>
<li>Chained lists seems to be well overcomplicated for this problem.</li>
<li>I don't want to use vectors, because they can not be stored statically. So maybe there could be a time, when not enough heap is available for my vector. The firmware needs to be as reliable as possible.</li>
</ol>
<p>Is there a way of accomplishing this? Are my thoughts about the systems reliability too cautious?</p>
<hr />
<p>Edit</p>
<ol start=""5"">
<li>Span would be a nice possibility in my opinion. But, In my case I don't have C++20 support.</li>
<li>Wrapper function for the template as @Some programmer dude suggested would also be an option! An advantage against a &quot;normal&quot; template function would be, that the function itself can still be in the source and doesn't need to be in the header file.</li>
</ol>
","2024-08-08 08:47:09","0","Question"
"78845430","78844689","","<p>You should use data binding and the <code>ComboBox.DataSource</code> property to directly assign an array or list to your combo box items.</p>
<pre><code>public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }

    protected override void OnLoad(EventArgs e)
    {

        comboBox1.DropDownStyle = ComboBoxStyle.DropDownList;
        comboBox1.SelectedIndexChanged += (s, ev) =&gt;
        {
            label2.Text = $&quot;{comboBox1.SelectedValue} baud selected.&quot;;
        };
        comboBox1.DataSource = new [] { 9600, 19200, 38400, 57600 };

    }

    public int[] BaudRates { get =&gt; comboBox1.DataSource as int[]; }
}
</code></pre>
<p><a href=""https://i.sstatic.net/nSi6NrlP.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/nSi6NrlP.png"" alt=""scr1"" /></a></p>
","2024-08-07 19:45:39","1","Answer"
"78845093","78844673","","<p>It worked using bind(),</p>
<pre><code>ngOnInit(): void {
    // @ts-ignore
    google.accounts.id.initialize({
      client_id: '205706621989-pken44sei0ti29vd95ukk3o2ja4e4gh1.apps.googleusercontent.com',
      callback: this.handleCredential.bind(this)
    });

}
</code></pre>
","2024-08-07 17:53:13","1","Answer"
"78845026","78844596","","<p>I guess you saved the workbook with <code>#VALUE!</code>. The sheets do not recalculate on workbook open, so the saved values display. Just recalculate the sheet and save the workbook. It should be OK.</p>
","2024-08-07 17:32:53","0","Answer"
"78844780","78844689","","<p>If you want to run this on click, control event handlers have to follow a specific signature. <a href=""https://learn.microsoft.com/en-us/dotnet/api/system.windows.forms.control.click"" rel=""nofollow noreferrer"">The click event</a> signature looks like this:</p>
<pre><code>private void button1_Click(object sender, System.EventArgs e)
</code></pre>
<p>The <code>EventArgs</code> does not have space for your <code>baud</code> array. There are two solutions here: one is to inherit a new class from <code>EventArgs</code> with a property for your array, and use that. But that's overkill. The other is to just reference the array as a member of the form's class. Let's go with that for now.</p>
<p><em>(But if you did want to use EventArgs, the type would be <code>int[]</code>, rather than the <code>Array</code> used with the method in the question).</em></p>
<p>So now we have this:</p>
<pre><code>int[] baud = { 9600, 19200, 38400, 57600 };
baudBox3.Click += AddToCombo;

private void AddToCombo(object sender, System.EventArgs e)
{
    var cb = sender as ComboBox;
    cb.Items.Clear();
    foreach (var b in baud)
    {
        cb.Items.Add(b);
    }
}
</code></pre>
<p>Or even better:</p>
<pre><code>int[] baud = { 9600, 19200, 38400, 57600 };
baudBox3.Click += AddToCombo;

private void AddToCombo(object sender, System.EventArgs e)
{
    var cb = sender as ComboBox;
    cb.Items.Clear(); 
    cb.Items.AddRange(baud);
}
</code></pre>
<p>But also, we need more details on what you mean by &quot;not work properly&quot;. In what way? What behavior do you see instead?</p>
<p>Finally, this won't run until someone does a click action on the box, and not every mouse-down action is a formal &quot;click&quot;. Are you sure this shouldn't just run when the form loads? You can do it with just one line in the <code>Form_Load</code> event:</p>
<pre><code>baudBox3.Items.AddRange(new int[] {9600, 19200, 38400, 57600 });
</code></pre>
","2024-08-07 16:21:14","-1","Answer"
"78844689","","Add array values to combo boxes via function - Winforms C#","<p>im trying to systematically assign Baud rate options to 4 different combo boxes, but i dont want to hard code it like i currently am.</p>
<p>CURRENT SOLUTION:</p>
<pre><code>baudBox3.Items.Add(9600);
baudBox3.Items.Add(19200);
baudBox3.Items.Add(38400);
baudBox3.Items.Add(57600);
baudBox3.SelectedItem = 9600;
</code></pre>
<p>I'd prefer to have a function i could pass the values of an array into with the combobox i want to update like so, but it can't get it to work properly.</p>
<pre><code>int[] baud = { 9600, 19200, 38400, 57600 };
baudBox3.Click += AddToCombo(baud, baudBox3);

public void AddToCombo(Array array, ComboBox c)
{
    foreach (var a in array)
    {
        c.Items.Add(a);
    }
}
</code></pre>
<p>If it makes more sense to just hard code in the baud values, then i'll do that instead.</p>
","2024-08-07 16:03:40","-1","Question"
"78844673","","Nested function doesn't call, why?","<p>I am using Google sign in API in my project, and I try to call a function to post received credential to Backendless, but that function did not call, I used console.log function to check that, but it did not print, so function is not calling !</p>
<p>Code:</p>
<p>Google settings:</p>
<pre><code>ngOnInit(): void {
    // @ts-ignore
    google.accounts.id.initialize({
      client_id: '205706621989-pken44sei0ti29vd95ukk3o2ja4e4gh1.apps.googleusercontent.com',
      callback: this.handleCredential
    });

}

login() {
    // @ts-ignore
    google.accounts.id.prompt();
}
</code></pre>
<pre><code>handleCredential(response: { credential: string }) {
    this.authService.loginWithProvider(response.credential);
}
</code></pre>
<pre><code> loginWithProvider(credential: string) {
    console.log(credential); // this isn't calling

    this.http.post('https://brainyclub-eu.backendless.app/api/users/oauth/googleplus/login', {
      'accessToken': credential
    },
      {
        headers: new HttpHeaders({ 'Content-Type': 'application/json' })
      }).subscribe((result) =&gt; {
        console.log(result);

   });
  }


</code></pre>
","2024-08-07 16:00:40","1","Question"
"78844596","","Why am I getting #VALUE! and how do I fix it?","<p>I have a worksheet that is comparing a bunch of text against a template and coloring the box based on how similar it is to the template. I needed to get a code that could count how many are green(good) and how many are red(bad) and I then have this number referenced in the back which is further used to create a pivot chart in the first sheet. My issue is that when I first open the file I get these #VALUE! errors seen below (<a href=""https://i.sstatic.net/GPd2sI6Q.png"" rel=""nofollow noreferrer"">https://i.sstatic.net/GPd2sI6Q.png</a>) and it really confuses me because I click the box and hit the enter button and the code runs just fine and gives me the results below (<a href=""https://i.sstatic.net/Yj8CJiCx.png"" rel=""nofollow noreferrer"">https://i.sstatic.net/Yj8CJiCx.png</a>) I am using the code below to count the colors</p>
<pre><code>Function GetColorCount(CountRange As Range, CountColor As Range)
Dim CountColorValue As Integer
Dim TotalCount As Integer
Dim rCell As Range
CountColorValue = CountColor.Interior.ColorIndex
Set rCell = CountRange
For Each rCell In CountRange
  If rCell.Interior.ColorIndex = CountColorValue Then
    TotalCount = TotalCount + 1
  End If
Next rCell
GetColorCount = TotalCount
End Function
</code></pre>
<p>and interestingly enough when I hit enter on the row that gives me the &quot;compliance green&quot; number it also runs &quot;compliance red&quot; and has no issues giving the correct number</p>
<p>I have ensured that the calculation option is set to automatic. I have no idea what is causing this to happen? Any ideas? I am using Excel version 2405 btw</p>
","2024-08-07 15:43:48","0","Question"
"78842608","78841502","","<p>The issues you encounter during the deployment to Azure likely due to the differences in environment configurations between your local setup and Azure.Here’s below steps to ensure your Function can send emails using SendGrid, along with the necessary configurations:</p>
<p>You need to store your SendGrid API key in the environment variables.</p>
<ul>
<li><strong>Local development</strong>: Use a <code>.env</code> file to store your API key.</li>
</ul>
<pre><code>SENDGRID_API_KEY=your_sendgrid_api_key_here
</code></pre>
<ul>
<li><strong>Azure</strong>: Set the application settings in the Azure portal.</li>
</ul>
<p><img src=""https://i.imgur.com/R3R2luy.png"" alt=""enter image description here"" /></p>
<p>I Followed this <a href=""https://www.twilio.com/docs/sendgrid/for-developers/partners/microsoft-azure-2021"" rel=""nofollow noreferrer"">link</a> to Send Email with Microsoft Azure  with  SendGrid</p>
<p><strong>Add sender:</strong></p>
<p><img src=""https://i.imgur.com/ubtbrKr.png"" alt=""enter image description here"" /></p>
<ul>
<li>Create API keys and replace all the details</li>
</ul>
<p><img src=""https://i.imgur.com/sXh9VdO.png"" alt=""enter image description here"" /></p>
<blockquote>
<p>I also used this <a href=""https://www.twilio.com/docs/sendgrid/for-developers/sending-email/quickstart-python"" rel=""nofollow noreferrer"">link</a> and <a href=""https://github.com/sendgrid/sendgrid-python"" rel=""nofollow noreferrer"">git</a> to learn how to send email with Python in SendGrid.</p>
</blockquote>
<p>Here is a sample Python script using Flask and SendGrid:</p>
<pre class=""lang-py prettyprint-override""><code>from flask import Flask, request, jsonify
import sendgrid
import os
from sendgrid.helpers.mail import Mail, Email, To, Content

app = Flask(__name__)

@app.route('/')
def welcome():
    return &quot;Welcome to the email sending app!&quot;

@app.route('/send-email', methods=['POST'])
def send_email():
    try:
        sg = sendgrid.SendGridAPIClient(api_key=os.environ.get('SENDGRID_API_KEY'))
        
        data = request.get_json()
        from_email = Email(data.get('from_email'))  
        to_email = To(data.get('to_email'))          
        subject = data.get('subject')
        content = Content(&quot;text/plain&quot;, data.get('content'))
        
        mail = Mail(from_email, to_email, subject, content)
        
        response = sg.client.mail.send.post(request_body=mail.get())
        
        return jsonify({
            'status_code': response.status_code,
            'headers': dict(response.headers),
            'body': response.body.decode('utf-8')
        })
    
    except Exception as e:
        return jsonify({'error': str(e)}), 500

if __name__ == '__main__':
    app.run(debug=True)


</code></pre>
<p>Set Up Your Environment Variable with .env file:</p>
<pre><code>SENDGRID_API_KEY=your_sendgrid_api_key_here
</code></pre>
<p><strong>requirements.txt:</strong></p>
<pre><code>python-dotenv
sendgrid
Flask
</code></pre>
<p>Set Up a Virtual Environment:</p>
<pre class=""lang-bash prettyprint-override""><code>python -m venv venv
source venv/bin/activate 

</code></pre>
<p><strong>Local Output:</strong>
<img src=""https://i.imgur.com/NmH50PF.png"" alt=""enter image description here"" />
with  below return in <code>/send-email</code></p>
<pre class=""lang-py prettyprint-override""><code>return  f&quot;Send email to xyz@yourdomain.com with subject: {email_subject}&quot;

</code></pre>
<p><img src=""https://i.imgur.com/5c4l3DB.png"" alt=""enter image description here"" />
I followed this <a href=""https://learn.microsoft.com/en-us/azure/app-service/quickstart-python?tabs=flask%2Cwindows%2Cvscode-aztools%2Cvscode-deploy%2Cdeploy-instructions-azportal%2Cterminal-bash%2Cdeploy-instructions-zip-azcli"" rel=""nofollow noreferrer"">MSDOC</a> to deploy a Python (Flask) web app to Azure - Azure App Service.</p>
<p><strong>Deployed status of the app in Visual Studio Code:</strong></p>
<p><img src=""https://i.imgur.com/bpPAhZK.png"" alt=""enter image description here"" /></p>
<p><strong>Azure Web App Output:</strong>
<img src=""https://i.imgur.com/dK7BGLP.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/2EEpij2.png"" alt=""enter image description here"" /></p>
","2024-08-07 08:30:06","0","Answer"
"78842591","78839844","","<p>Just for future readers, I write here down the code that worked for me.
This code employes the solutions of @Prateekshit Jaiswal and @OldBoy, who I thank a lot!</p>
<pre><code>def MultiplicateLists(a):
    import random
    rand_list=[]
    for i in range(10):
        rand_list.append(random.randint(3,9))
    b = np.array(rand_list)
    result = a * b
    print(a)
    print(b)
    print(result)
    
if __name__ == &quot;__main__&quot;:
    import sys
    import numpy as np
    input_list = list(map(int, sys.argv[1].strip('[]').split(',')))
    a = np.array(input_list)
    MultiplicateLists(a)
</code></pre>
<p>Then, in the terminal, I type the following:</p>
<pre><code>% python3 MyFunction.py 1,3,5,6,4,6,7,1,2,7
</code></pre>
<p>And I get this result:</p>
<pre><code>[1 3 5 6 4 6 7 1 2 7]
[7 4 6 9 6 4 5 7 7 6]
[ 7 12 30 54 24 24 35  7 14 42]
</code></pre>
","2024-08-07 08:27:00","0","Answer"
"78841502","","Email from Azure using SendGrid","<p>I have an APP on Azure that if I run locally from my laptop using CMD runs perfectly and will use the send email function. I can also run an email test using BASH and the email is sent instantly. Now the issue if I use the desktop/home screen version of the APP everything works except the send email function. Relevant Parts of Code (Python)</p>
<pre><code># Load environment variables
load_dotenv()
SENDGRID_API_KEY = os.getenv('SENDGRID_API_KEY')
</code></pre>
<pre><code>- def send_email(to_email, subject, content):
- message = Mail(
- from_email='App@My Domain.com',  # Use your verified email address
- to_emails=to_email,
- subject=subject,
- plain_text_content=content
-     )
- try:
- sg = SendGridAPIClient(SENDGRID_API_KEY)
- response = sg.send(message)
- print('Status Code:', response.status_code)
- print('Body:', response.body.decode('utf-8') if response.body else '')  # Ensure body is in readable format
- print('Headers:', response.headers)
- except Exception as e:
- if hasattr(e, 'body'):
- print('Error Body:', e.body.decode('utf-8'))  # Ensure body is in readable format
- else:
- print('Error:', str(e))
</code></pre>
<p>From App Rout:</p>
<pre><code>print(f&quot;Sending email to xyz@MY Domain.com with subject: {email_subject}&quot;)
                print(f&quot;Email content: {email_content}&quot;)

                try:
                    send_email('xyz@My Domain.com', email_subject, email_content)
                    flash('Project submitted for quote successfully.', 'success')
                except Exception as e:
                    flash(f'Project submitted for quote successfully, but email notification failed: {e}', 'warning')

                return redirect(url_for('welcome'))
</code></pre>
<p>Test that runs from BASH:#!/bin/bash</p>
<pre><code>#!/bin/bash

API_KEY=&quot;Send Grid Key&quot;
EMAIL_TO=&quot;xyz@My Domain.com&quot;
EMAIL_FROM=&quot;app@my domain.com&quot;
SUBJECT=&quot;Test Email from Azure&quot;
CONTENT=&quot;This is a test email from your Azure app.&quot;

curl --request POST \
  --url https://api.sendgrid.com/v3/mail/send \
  --header &quot;Authorization: Bearer $API_KEY&quot; \
  --header &quot;Content-Type: application/json&quot; \
  --data '{
    &quot;personalizations&quot;: [
      {
        &quot;to&quot;: [
          {
            &quot;email&quot;: &quot;'&quot;$EMAIL_TO&quot;'&quot;
          }
        ],
        &quot;subject&quot;: &quot;'&quot;$SUBJECT&quot;'&quot;
      }
    ],
    &quot;from&quot;: {
      &quot;email&quot;: &quot;'&quot;$EMAIL_FROM&quot;'&quot;
    },
    &quot;content&quot;: [
      {
        &quot;type&quot;: &quot;text/plain&quot;,
        &quot;value&quot;: &quot;'&quot;$CONTENT&quot;'&quot;
      }
    ]
  }'
</code></pre>
<p>I am at a loose as to why the app won't send an email from the Azures default domain. Any help is greatly appreciated.</p>
<p>Hoping to get my App running correctly.</p>
","2024-08-07 01:08:10","-1","Question"
"78839967","78839844","","<p>Few things to note down are:-</p>
<ol>
<li><p>Calling import inside a function in Python is however generally not recommended as importing modules is a relatively expensive operation.</p>
</li>
<li><p>What you are trying to do is passing argument to the file <code>MyFunction.py</code> which needs to be handled by the code itself as system arguments .Hence to call a function from a Python file from the terminal, you'll need to modify your file to accept command-line arguments or to define a main function that calls your desired function.</p>
<pre class=""lang-py prettyprint-override""><code>if __name__ == &quot;__main__&quot;:
    input_list = list(map(int, sys.argv[1].split(',')))
    a = np.array(input_list)
    MultiplicateLists(a)
</code></pre>
</li>
</ol>
<p>Now You can easily call it by the following command:-</p>
<pre><code>python Myfunction.py 1,3,5,6,4,6,7,1,2,7
</code></pre>
","2024-08-06 15:50:07","0","Answer"
"78839915","78839844","","<p>You cannot execute a Python program in that way. You need a main driver part which reads the inputs, creates an array, and passes them in to the <code>MultiplicateLists</code> function.
So add the following to the end of your file:</p>
<pre><code>if __name__ == &quot;__main__&quot;:
    numbers = []
    for x in map(int, sys.argv[1].split(',')):
        numbers.append(x)

    print(numbers)
    MultiplicateLists(np.array(numbers))
</code></pre>
<p>You can now run the script by a command in the following form:</p>
<pre><code>python Myfunction.py 1,3,5,6,4,6,7,1,2,7
</code></pre>
","2024-08-06 15:37:21","1","Answer"
"78839844","","zsh: no matches found: MultiplicateLists(np.array([1,3,5,6,4,6,7,1,2,7]))","<p>I would like to import a list in a python function and run the function from the terminal of Visual Studio Code. My function, that I called &quot;<em>MyFunction.py</em>&quot;, and that I temporarily saved on the Desktop, is the following one:</p>
<pre><code>def MultiplicateLists(a):
    import numpy as np
    import random
    rand_list=[]
    for i in range(10):
        rand_list.append(random.randint(3,9))
    b = np.array(rand_list)
    result = a * b
    print(a)
    print(b)
    print(result)
</code></pre>
<p>However, when I try to call and make the function run from the terminal of Visual Studio Code, I get the following error, i.e. &quot;zsh: no matches found&quot;:</p>
<pre><code>(anaconda3) (base) xxxyyyzzz@xxx Desktop % python3 MyFunction.py MultiplicateLists(np.array([1,3,5,6,4,6,7,1,2,7]))
zsh: no matches found: MultiplicateLists(np.array([1,3,5,6,4,6,7,1,2,7]))
</code></pre>
<p>Here following a screenshot from Visual Studio Code</p>
<p><a href=""https://i.sstatic.net/fzEaNlm6.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>Might it be that the command &quot;<em>python3 MyFunction.py MultiplicateLists()</em>&quot; is wrong? How can I fix it?</p>
","2024-08-06 15:17:36","0","Question"
"78837998","78836560","","<p>You can try</p>
<pre><code>df %&gt;%
    mutate(Duplicates = map(DataID, \(x) setdiff(DataID, x)), .by = Key)
</code></pre>
<p>or a faster version than <code>setdiff</code></p>
<pre><code>df %&gt;%
    mutate(Duplicates = map(DataID, \(x) DataID[DataID != x]), .by = Key)
</code></pre>
<p>which gives</p>
<pre><code>   Key DataID Duplicates
1    A    493        475
2    A    475        493
3    B    445   427, 420
4    B    427   445, 420
5    B    420   445, 427
6    C    429   464, 459
7    C    464   429, 459
8    C    459   429, 464
9    D    438        490
10   D    490        438
</code></pre>
<h1>data</h1>
<pre><code>&gt; dput(df)
structure(list(Key = c(&quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, 
&quot;D&quot;, &quot;D&quot;), DataID = c(493L, 475L, 445L, 427L, 420L, 429L, 464L,
459L, 438L, 490L)), class = &quot;data.frame&quot;, row.names = c(NA, -10L
))
</code></pre>
","2024-08-06 08:23:33","1","Answer"
"78837646","78836701","","<blockquote>
<p>but I don't any log from my logInformation that worked before and I don't see any evidency that my ActivityTrigger run.</p>
</blockquote>
<p>You do not need to use dependency injection, you can log using below code:</p>
<p><strong>Program.cs:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>    using Microsoft.Azure.Functions.Worker;
    using Microsoft.Extensions.DependencyInjection;
    using Microsoft.Extensions.Hosting;
    using Microsoft.Extensions.Logging;
    
    
    var rith = new HostBuilder()
        .ConfigureFunctionsWebApplication()
        .ConfigureServices(services =&gt;
        {
            services.AddApplicationInsightsTelemetryWorkerService();
            services.ConfigureFunctionsApplicationInsights();
    
        })
        .ConfigureLogging(logging =&gt;
        {
            logging.AddConsole();
        })
    
        .Build();
    
    rith.Run();
</code></pre>
<p><strong>Function.cs:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>    using Microsoft.Azure.Functions.Worker;
    using Microsoft.Azure.Functions.Worker.Http;
    using Microsoft.DurableTask;
    using Microsoft.DurableTask.Client;
    using Microsoft.Extensions.Logging;
    
    namespace FunctionApp
    {
        public static class Function1
        {
            [Function(&quot;Function1_Rith_HttpStart&quot;)]
            public static async Task&lt;HttpResponseData&gt; Rith_HttpStart(
                [HttpTrigger(AuthorizationLevel.Anonymous, &quot;get&quot;, &quot;post&quot;)] HttpRequestData ri,
                [DurableClient] DurableTaskClient rcl,
                FunctionContext rct)
            {
                ILogger ri_lg = rct.GetLogger(&quot;Function1_Rith_HttpStart&quot;);
                string inid = await rcl.ScheduleNewOrchestrationInstanceAsync(nameof(Rith_Orchestrator));
                ri_lg.LogInformation(&quot;SHello Rithwik Bojja,  Orchestrator ID = '{instanceId}'.&quot;, inid);
                return await rcl.CreateCheckStatusResponseAsync(ri, inid);
            }
        }
        public class Rith_Orchestrator
        {
            private readonly ILogger&lt;Rith_Orchestrator&gt; ri_log;
    
            public Rith_Orchestrator(ILogger&lt;Rith_Orchestrator&gt; lg)
            {
                ri_log = lg;
            }
    
            [Function(&quot;Rith_Orchestrator&quot;)]
            public async Task&lt;string&gt; RunAsync([OrchestrationTrigger] TaskOrchestrationContext ricxt)
            {
                ri_log.LogInformation(&quot;Hello Rithwik Bojja, Logging from Orchestrator&quot;);
                return await ricxt.CallActivityAsync&lt;string&gt;(nameof(Rith_Test_Activity), &quot;Rithwik_Bojja&quot;);
            }
        }
        public class Rith_Test_Activity
        {
            private readonly ILogger&lt;Rith_Test_Activity&gt; ri_lger;
    
            public Rith_Test_Activity(ILogger&lt;Rith_Test_Activity&gt; lg)
            {
                ri_lger = lg;
            }
    
            [Function(&quot;Rith_Test_Activity&quot;)]
            public async Task&lt;string&gt; RunAsync([ActivityTrigger] string ri)
            {
                ri_lger.LogInformation(&quot;Hello Rithwik Bojja, inside activity and the name is {ri}.&quot;, ri);
                return await Task.FromResult($&quot; Activity is {ri}!&quot;);
            }
        }
    }
</code></pre>
<p><strong>Output:</strong></p>
<p><img src=""https://i.imgur.com/b0h23rG.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/war9vtF.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/2wWgMum.png"" alt=""enter image description here"" /></p>
","2024-08-06 07:07:19","1","Answer"
"78837387","78836556","","<p>This is currently not supported, as we currently only support transaction statements as top-level statements, not as part of function bodies, blocks, or subqueries.</p>
<p>Feel free to weigh in on your Feature Request regarding the same: <a href=""https://github.com/surrealdb/surrealdb/issues/3404#issuecomment-2167723725"" rel=""nofollow noreferrer"">https://github.com/surrealdb/surrealdb/issues/3404#issuecomment-2167723725</a></p>
","2024-08-06 05:36:22","1","Answer"
"78837238","78836560","","<p>A <code>fuzzyjoin</code> solution:</p>
<pre><code>library(fuzzyjoin); library(dlpyr)

fuzzy_join(df, df, by = c(&quot;Key&quot;, &quot;DataID&quot;), 
     match_fun=list(`==`, `!=`)) |&gt;
  summarise(Duplicates=paste(DataID.y, collapse=&quot;, &quot;), 
    .by=c(Key.x, DataID.x))
</code></pre>
<hr />
<pre><code># A tibble: 10 x 3
   Key.x DataID.x Duplicates
   &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;     
 1 A          493 475       
 2 A          475 493       
 3 B          445 427, 420  
 4 B          427 445, 420  
 5 B          420 445, 427  
 6 C          429 464, 459  
 7 C          464 429, 459  
 8 C          459 429, 464  
 9 D          438 490       
10 D          490 438
</code></pre>
<hr />
<p>Data:</p>
<pre><code>df &lt;- structure(list(Key = c(&quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, 
&quot;D&quot;, &quot;D&quot;), DataID = c(493, 475, 445, 427, 420, 429, 464, 459, 
438, 490)), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, 
-10L))
</code></pre>
","2024-08-06 04:24:12","1","Answer"
"78836814","78836464","","<p>So, one of the main drawbacks of nested functions is that they are not unit testable. Or are not easy to unit test - as we shall see, it is possible.</p>
<p>One can't simply retrieve the <em>function</em> defined internally to another function, because it simply doesn't &quot;exist&quot; - the function object for the inner is created dynamically only when the outer function is executed, and the <code>def</code> statement (along with its body) is executed inside it.</p>
<p>If the outer function happens to return the inner function, then one can grab a reference to it, by calling the function. Even then, if the nested function does anything with nonlocal variables, one won't have control over those for testing.</p>
<p>And if it doesn't use nonlocal variables, i.e. variables local to the outer function scope, there is no reason for it to be a nested function to start with - one would be better off just refactoring the code so that the function is no longer nested.</p>
<p>Now - as I said, one can't retrieve the inner function itself at test time - but it is possible to retrieve the elements that &quot;constitute&quot; it, and <em>recreate</em> the inner function inside the test function, in a &quot;clean room&quot;, so to say, and that one can be tested.</p>
<p>The function &quot;core&quot; itself on the other hand is a <em>code</em> object, which is generated at compile time (Python compilation is a transparent step prior to runtime, but it takes place). That one can be retrieved from the outer function's properties - and it can be used to recreate the inner function inside the test.</p>
<p>Some of the inner function elements however - namely its default parameters, are easier got if they are simply hard-coded on the test, instead of trying to introspect them from the outer function. (it is feasible, but through parsing the source code - it would be a whole different approach).</p>
<p>That said, creating a proper test becomes a matter of manipulating code ojects, types.FunctionType, and carefully prepare the nonlocal variables it may need in a nested function inside the test itself:</p>
<pre class=""lang-py prettyprint-override""><code>
from types import FunctionType, CodeType

def outer_function(a, b):
    &quot;&quot;&quot;
    Example outer function that performs some operations.
    &quot;&quot;&quot;
    y = b
    def inner_function(x):  # &quot;y&quot; is not here! 
        &quot;&quot;&quot;
        Nested function that I want to test.
        &quot;&quot;&quot;
        return x + y  # &lt;- included nonlocal variable, or the nested function is meaningless.

    # Some operations using inner_function
    result = inner_function(a)
    return result
...

@pytest.mark.parametrize(&quot;x, y_other, expected&quot;, [
    (1, 2, 3),         # Adding two positive numbers
    (1, -1, 0),        # Adding positive and negative numbers
    ...
])
def test_inner(x, y_other, expected):
    # Extract the code object. 
    # # filtering by  name is important because any comprehensions or lambda expressions
    # will also have code objects present in the outer function constants. 
    code_obj = [obj for obj in outer_function.__code__.co_consts if isinstance(obj, CodeType) and obj.co_name == &quot;inner_function&quot;][0]
    
    def closure_host():
        z = y_other # &lt;- our variable that will take the place of &quot;y&quot; in the inner function
        def inner_fake():
            # fake inner function that uses the &quot;z&quot; nonlocal, so we can attach it to
            # our &quot;sinthetic&quot; inner function
            z  # that is it-  a single reference to the variable is enough
        return inner_fake
    
    closure = closure_host().__closure__
    func = FunctionType(code_obj, outer_function.__globals__, &quot;inner_function&quot;, argdefs=(), closure=closure)
    assert func(x) == expected
</code></pre>
<p>The &quot;argdefs&quot; are the default arguments, and are the ones that, if present in the inner function definition, should be hardcoded back in the test.</p>
<p>I've renamed y to <code>y_other</code> in the test function so it can be clearly perceived that its name have no regards to the name of the variable inside the <code>inner_function</code> being tested.</p>
<p>What makes variable from the <code>closure_host</code> show up in the <code>inner-function</code> is <em>the <strong>order</strong> they appear</em> both in the <code>inner_fake</code> and <code>inner_function</code> bodies, as the closure is an ordinary tuple, the order of its elements is the only information Python uses to refer the nonlocal variables to their counterparts in the outerscope. That is, in source code, they have the same &quot;name&quot; - but once things are compiled into source code, those names are no longer used - and the order they show up is what counts. The <em>contents</em> of this closure tuple are extraordinary &quot;cell&quot; proxy objects, but that is another matter one doesn't need to care about in this scenario.</p>
","2024-08-06 00:15:29","1","Answer"
"78836701","","Unable to debug and see logs of my Class-based Durable Functions","<p>I've created a new FunctionApp (.net 8 Isolated) to run a Orchestration workflow, so after test the template generated it worked fine, I was able to debug the orchestrator function, the activity function and see their respective logs.
But after change my Orchestrator and Activity to be Class-based, I don't see any error happening during the execution, and I see host logs saying that the Orchestratior started and finished, successfully, but I don't any log from my logInformation that worked before and I don't see any evidency that my ActivityTrigger run.</p>
<pre class=""lang-cs prettyprint-override""><code>[DurableTask(nameof(MyActivity))]
public class MyActivity : TaskActivity&lt;string, string&gt;
{
    private readonly ILogger logger;

    public MyActivity(ILogger&lt;MyActivity&gt; logger) // activities have access to DI.
    {
        this.logger = logger;
    }

    public async override Task&lt;string&gt; RunAsync(TaskActivityContext context, string input)
    {
        logger.LogInformation(&quot;Inside Activity&quot;);
        return &quot;it's working&quot;;        
    }
}

[DurableTask(nameof(MyOrchestration))]
public class MyOrchestration : TaskOrchestrator&lt;string, string&gt;
{
    public async override Task&lt;string&gt; RunAsync(TaskOrchestrationContext context, string input)
    {
        ILogger logger = context.CreateReplaySafeLogger&lt;MyOrchestration&gt;(); // orchestrations do NOT have access to DI.

        // An extension method was generated for directly invoking &quot;MyActivity&quot;.
        return await context.CallMyActivityAsync(input);
    }
}
</code></pre>
<p>I've tried the Function-Based rollback and worked fine, changing only the ActivityTrigger to Class-based, it does not enter when I'm debugging, neither I see any logs, but there is no error during the execution.</p>
","2024-08-05 23:07:53","0","Question"
"78836696","78836464","","<p>As stated in @Mark's comment, if a function is nested then it shouldn't be separated from the outer function. That's the whole point of nested functions. Most inner functions may not even work without the outer function (think, a nonlocal variable). However, if you really want to do this, there <em>are</em> multiple ways, but all of them need at least some bit of modification of your outer function's code. The first method is to return the inner function in the outer function along with any other original values that the outer function may return:</p>
<pre><code>def outer_function(a, b):
    &quot;&quot;&quot;
    Example outer function that performs some operations.
    &quot;&quot;&quot;
    def inner_function(x, y):
        &quot;&quot;&quot;
        Nested function that I want to test.
        &quot;&quot;&quot;
        return x + y
    
    # Some operations using inner_function
    result = inner_function(a, b)
    return result, inner_function

res, inner = outer_function(1, 2)
@pytest.mark.parametrize(&quot;x, y, expected&quot;, [
    (1, 2, 3),  # Adding two positive numbers
    (1, -1, 0),  # Adding positive and negative numbers
    (-1, -2, -3),  # Adding two negative numbers
    (0, 5, 5),  # Adding zero to a number
    (3, 0, 3)  # Adding a number to zero
    ])
def test_inner(x, y, expected):
    assert inner(x, y) == expected)

</code></pre>
<p>In the above code, I replaced the decorator with a function call. A second approach to this would be to set an attribute of the outer function to the inner function:</p>
<pre><code>def outer_function(a, b):
    &quot;&quot;&quot;
    Example outer function that performs some operations.
    &quot;&quot;&quot;
    def inner_function(x, y):
        &quot;&quot;&quot;
        Nested function that I want to test.
        &quot;&quot;&quot;
        return x + y
    
    # Some operations using inner_function
    result = inner_function(a, b)
    outer_function.inner = inner_function
    return result

res, inner = outer_function(1, 2), outer_function.inner
@pytest.mark.parametrize(&quot;x, y, expected&quot;, [
    (1, 2, 3),  # Adding two positive numbers
    (1, -1, 0),  # Adding positive and negative numbers
    (-1, -2, -3),  # Adding two negative numbers
    (0, 5, 5),  # Adding zero to a number
    (3, 0, 3)  # Adding a number to zero
    ])
def test_inner(x, y, expected):
    assert inner(x, y) == expected)
</code></pre>
<p>Remember, functions in Python are first-class, so you can just treat them like simple objects that can have a new attribute attached to them. In this case, I attached a reference of the inner function to the outer function, so there's no need to return the inner function as in the first approach. Outside of the outer function, just use the dot notation to fetch the inner function object after calling the outer function first (required here, because without calling the outer function first the <code>outer_function.inner</code> attribute would not be initialized).</p>
<hr />
<p>Note: In both approaches, the pytest decorator must be called manually since the object we have outside is a reference to the inner function. Decorators must occur at the function <em>definition</em>, not just a function object.</p>
","2024-08-05 23:05:01","-2","Answer"
"78836612","78836560","","<pre class=""lang-r prettyprint-override""><code>library(dplyr)
library(purrr)

df |&gt;
  mutate(duplicates = list(DataID), .by = Key) |&gt;
  mutate(duplicates = map2(DataID, duplicates, \(x, y) y[y != x]))
</code></pre>
<p>From your desired output I am not sure what type of column you expect <code>duplicates</code> to be (string perhaps?). Just an FYI, this outputs a list-column but the values are easily concatenated if you prefer string.</p>
<p><strong>Output</strong></p>
<pre class=""lang-r prettyprint-override""><code>   Key DataID duplicates
1    A    493        475
2    A    475        493
3    B    445   427, 420
4    B    427   445, 420
5    B    420   445, 427
6    C    429   464, 459
7    C    464   429, 459
8    C    459   429, 464
9    D    438        490
10   D    490        438
</code></pre>
","2024-08-05 22:20:52","1","Answer"
"78836560","","For every instance if ""A"" in Column1, create a new column with all values associated with ""A"" from Column2","<p><strong>Here is an example data frame:</strong></p>
<pre><code>df &lt;- data.frame(Key = c(rep(&quot;A&quot;, 2), rep(&quot;B&quot;, 4), rep(&quot;C&quot;, 3), rep(&quot;D&quot;, 2)),
                 DataID = round(runif(11, min = 400, max = 500), digits = 0))
</code></pre>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Key</th>
<th>DataID</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>493</td>
</tr>
<tr>
<td>A</td>
<td>475</td>
</tr>
<tr>
<td>B</td>
<td>445</td>
</tr>
<tr>
<td>B</td>
<td>427</td>
</tr>
<tr>
<td>B</td>
<td>420</td>
</tr>
<tr>
<td>C</td>
<td>429</td>
</tr>
<tr>
<td>C</td>
<td>464</td>
</tr>
<tr>
<td>C</td>
<td>459</td>
</tr>
<tr>
<td>D</td>
<td>438</td>
</tr>
<tr>
<td>D</td>
<td>490</td>
</tr>
</tbody>
</table></div>
<p><strong>Problem</strong>
I need to create a new column &quot;Duplicates&quot; that contains all the values in &quot;DataID&quot; associated with the corresponding value in &quot;Key&quot;, except for the &quot;DataID&quot; in that row.</p>
<p><strong>Desired Output</strong></p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Key</th>
<th>DataID</th>
<th>Duplicates</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>493</td>
<td>475</td>
</tr>
<tr>
<td>A</td>
<td>475</td>
<td>493</td>
</tr>
<tr>
<td>B</td>
<td>445</td>
<td>427, 420</td>
</tr>
<tr>
<td>B</td>
<td>427</td>
<td>445, 420</td>
</tr>
<tr>
<td>B</td>
<td>420</td>
<td>445, 427</td>
</tr>
<tr>
<td>C</td>
<td>429</td>
<td>464, 459</td>
</tr>
<tr>
<td>C</td>
<td>464</td>
<td>429, 459</td>
</tr>
<tr>
<td>C</td>
<td>459</td>
<td>429, 464</td>
</tr>
<tr>
<td>D</td>
<td>438</td>
<td>490</td>
</tr>
<tr>
<td>D</td>
<td>490</td>
<td>438</td>
</tr>
</tbody>
</table></div>
<p>I got close using the bit of code below, but I need to exclude the value the corresponds with the DataID in the same row.</p>
<pre><code>library(tidyverse)

lapply(split(df, df$Key), function(x) {
  
    x %&gt;% 
    mutate(Test2 = paste0(across(DataID)))
    
})
</code></pre>
<p><strong>Output</strong></p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Key</th>
<th>DataID</th>
<th>Duplicates</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>459</td>
<td>c(459, 401, 489, 467)</td>
</tr>
<tr>
<td>B</td>
<td>401</td>
<td>c(459, 401, 489, 467)</td>
</tr>
<tr>
<td>B</td>
<td>489</td>
<td>c(459, 401, 489, 467)</td>
</tr>
<tr>
<td>B</td>
<td>467</td>
<td>c(459, 401, 489, 467)</td>
</tr>
</tbody>
</table></div>
","2024-08-05 21:55:24","1","Question"
"78836556","","Transactions inside functions in SurrealDB","<p>Is there a way to commit data inside a function in SurrealDB? It throws a syntax error if I place <code>BEGIN TRANSACTION</code> within the <code>{</code> and <code>}</code> blocks:</p>
<pre><code>There was a problem with the database: Parse error: Expected closing delimiter '}'
    |
193 | BEGIN TRANSACTION;
    |       ^^^^^^^^^^^ 
    |
192 | DEFINE FUNCTION fn::log($message: string) {
    |                                           ^ Expected this delimiter to close
</code></pre>
<p>I've also noticed that, if used within an event handler, the changes my function makes will be rolled-back if an exception is raised outside of my function call. I'm assuming this means that functions and event handlers disallow the use of <code>BEGIN</code> and <code>COMMIT</code>, but I am not sure why.</p>
<p>EDIT: This is in SurrealDB v2.0.0-alpha.8</p>
","2024-08-05 21:53:37","0","Question"
"78836495","78836287","","<p>The way your code is currently structured, a <code>User</code> object does not have a method called <code>show_privileges</code>. Since you initialized <code>admin</code> as a <code>User</code>, it won't have its own <code>show_privileges</code> method even though it has a list of privileges.</p>
<p>One option is to make <code>admin</code> an <code>Admin</code> instead of a <code>User</code>:</p>
<pre class=""lang-py prettyprint-override""><code>admin = Admin(&quot;Fred&quot;, &quot;Osei&quot;, &quot;6&quot;, &quot;fred@fredas.com&quot;, &quot;London&quot;)
</code></pre>
<p>Another is to nix the <code>Admin</code> class entirely and just give each <code>User</code> its own (potentially-empty) list of privileges. This will make it easier to promote base users, which is something you seem to be interested in:</p>
<pre class=""lang-py prettyprint-override""><code>class User:
    def __init__(self, first_name, last_name, login_attempts, email, location):
        self.first_name = first_name
        self.last_name = last_name
        self.login_attempts = login_attempts
        self.email = email
        self.location = location
        self.privileges = [] # Move this from Admin to User
    
    def describe_user(self):
        print(f&quot;{self.first_name} {self.last_name}&quot;)
        print(f&quot;You have {self.login_attempts} login attempts&quot;)
        print(f&quot;{self.email}&quot;)
        print(f&quot;{self.location}&quot;)
    
    def greet_user(self):
        print(f&quot;Hi {self.first_name} {self.last_name} &quot;)
    
    def location_user(self):
        print(f&quot;Hi {self.first_name},you are from London, South&quot;)
    
    def increment_login_attempts(self, login):
        self.login_attempts = + login

    def show_privileges(self): # Move this from Admin to User as well
        print(&quot;\nPrivileges:&quot;)
        for priviledge in self.privileges:
            print(f&quot;- {priviledge}&quot;)

admin = User(&quot;Fred&quot;, &quot;Osei&quot;, &quot;6&quot;, &quot;fred@fredas.com&quot;, &quot;London&quot;)
fred = User(&quot;John&quot;, &quot;Chris&quot;, &quot;8&quot;, &quot;johnchris@life.com&quot;, &quot;Manchester&quot;)
admin.describe_user()

admin.privileges = [&quot;Can Post&quot;, &quot;Can Create Accounts&quot;, &quot;Can Delete Account&quot;]
admin.show_privileges()
</code></pre>
<p>These are just two solutions; there are many others that could work equally well or better depending on your use case.</p>
","2024-08-05 21:26:21","0","Answer"
"78836464","","How to Unit Test a Nested Function Using PyTest Without Modifying the Outer Function","<p>I have a Python function that contains a nested function. I want to write unit tests for the nested function using PyTest, but I don't want to modify the way the nested function is defined or its behavior. I also don't want to call or test the outer function itself, just the nested function.</p>
<p>Here is a simplified example of my code:</p>
<pre class=""lang-py prettyprint-override""><code># example.py

def outer_function(a, b):
    &quot;&quot;&quot;
    Example outer function that performs some operations.
    &quot;&quot;&quot;
    def inner_function(x, y):
        &quot;&quot;&quot;
        Nested function that I want to test.
        &quot;&quot;&quot;
        return x + y
    
    # Some operations using inner_function
    result = inner_function(a, b)
    return result
</code></pre>
<p>I want to create a PyTest test function that only tests <code>inner_function</code> using parameterization, ensuring it covers various scenarios such as:</p>
<ol>
<li>Adding two positive numbers</li>
<li>Adding positive and negative numbers</li>
<li>Adding two negative numbers</li>
<li>Adding zero to a number</li>
</ol>
<p>How can I achieve this in a way that the tests are independent of <code>outer_function</code>?</p>
<h3>Example Test Function:</h3>
<pre class=""lang-py prettyprint-override""><code># test_example.py

import pytest

@pytest.mark.parametrize(&quot;x, y, expected&quot;, [
    (1, 2, 3),         # Adding two positive numbers
    (1, -1, 0),        # Adding positive and negative numbers
    (-1, -2, -3),      # Adding two negative numbers
    (0, 5, 5),         # Adding zero to a number
    (3, 0, 3)          # Adding a number to zero
])
def test_inner_function(x, y, expected):
    &quot;&quot;&quot;
    Describe how to test the inner_function here.
    &quot;&quot;&quot;
    # Code to test inner_function goes here.
</code></pre>
<p>Any guidance or examples on how to properly structure and implement these tests would be greatly appreciated!</p>
","2024-08-05 21:12:35","1","Question"
"78836287","","AttributeError: 'User' object has no attribute 'show_privileges'","<p>Python is not recognizing my def show_privileges function</p>
<pre><code>class User:
    def __init__(self, first_name, last_name, login_attempts, email, location):
        self.first_name = first_name
        self.last_name = last_name
        self.login_attempts = login_attempts
        self.email = email
        self.location = location

    def describe_user(self):
        print(f&quot;{self.first_name} {self.last_name}&quot;)
        print(f&quot;You have {self.login_attempts} login attempts&quot;)
        print(f&quot;{self.email}&quot;)
        print(f&quot;{self.location}&quot;)

    def greet_user(self):
        print(f&quot;Hi {self.first_name} {self.last_name} &quot;)

    def location_user(self):
        print(f&quot;Hi {self.first_name},you are from London, South&quot;)

    def increment_login_attempts(self, login):
        self.login_attempts = + login

class Admin(User):
    def __init__(self, first_name, last_name, login_attempts, email, location):
        super().__init__(first_name, last_name, login_attempts, email, location)
        self.privileges = []

    def show_privileges(self):
        print(&quot;\nPrivileges:&quot;)
        for priviledge in self.privileges:
            print(f&quot;- {priviledge}&quot;)

admin = User(&quot;Fred&quot;, &quot;Osei&quot;, &quot;6&quot;, &quot;fred@fredas.com&quot;, &quot;London&quot;)
fred = User(&quot;John&quot;, &quot;Chris&quot;, &quot;8&quot;, &quot;johnchris@life.com&quot;, &quot;Manchester&quot;)
admin.describe_user()

admin.privileges = [&quot;Can Post&quot;, &quot;Can Create Accounts&quot;, &quot;Can Delete Account&quot;]
admin.show_privileges()
</code></pre>
<p>Im confused as to why it's not recognizing the show_privileges functions. I believe I have done everything right</p>
","2024-08-05 20:12:24","0","Question"
"78832377","78832082","","<p>TL;DR<br>
Use <code>nonlocal</code> instead of <code>global</code>.</p>
<hr />
<p>Python variable system use <em>scopes</em>, that means that variables have a certain domain where they're accessible, and there can be another variable with the same name but another value in another scope. The global scope contains the variables defined directly at the root of the script, not within any function, class or other thing.</p>
<p>When using <code>global activePlayerMon, activeComputerMon</code>, you tell Python to search the variables in the global scope. However, your variables aren't defined in the global scope (because scopes don't inherit), but in the scope of a parent function. To access these variables, you need to use <code>nonlocal activePlayerMon, activeComputerMon</code> at the start of the function where you want to access them.</p>
<p>Here's the new code of the function:</p>
<pre class=""lang-py prettyprint-override""><code>    def switchOption(determine_user):
        nonlocal activePlayerMon, activeComputerMon
        if determine_user == 1:
            print('\n',playerlist[1].name,'\n',playerlist[2].name,'\n',playerlist[3].name,'\n')
            changeMon = int(input('Choose who you\'d like to switch to'))
            activePlayerMon = playerlist[changeMon]
        elif determine_user == 0:
            changeMon = randint(1,3)
            activeComputerMon = computerlist[changeMon]
</code></pre>
","2024-08-05 00:05:44","0","Answer"
"78832082","","Trying to change a value from inside a function but it doesn't change when I exit the function","<p>Trying to make a barebones Pokemon game and switching wont work</p>
<p>When trying to switch Pokemon I can get the code to recognize activePlayerMon= has had a value switch when running through the switchOption() function but once the debugger leaves the function it reverts back to the originally given value when you are first prompted to choose a Mon</p>
<pre><code>def fight(playerlist, computerlist):
    print('\n',playerlist[1].name,'\n',playerlist[2].name,'\n',playerlist[3].name,'\n')
    initFight = int(input('Choose your starting Pokemon\n'))
    playerlist[int(initFight)].fightPrompt(computerlist[1])

    activePlayerMon = playerlist[initFight]
    activeComputerMon = computerlist[1]
    
    def switchOption(determine_user):
        global activePlayerMon, activeComputerMon
        if determine_user == 1:
            print('\n',playerlist[1].name,'\n',playerlist[2].name,'\n',playerlist[3].name,'\n')
            changeMon = int(input('Choose who you\'d like to switch to'))
            activePlayerMon = playerlist[changeMon]
        elif determine_user == 0:
            changeMon = randint(1,3)
            activeComputerMon = computerlist[changeMon]


    while playerlist[1].HP != 0 and playerlist[2].HP != 0 and playerlist[3].HP != 0 or computerlist[1].HP != 0 and computerlist[2].HP != 0 and computerlist[3].HP != 0:
        print('\n',activePlayerMon.name,'- \n',activePlayerMon.HP,'\ ',activePlayerMon.MHP,'\n',activeComputerMon.name,'- \n',activeComputerMon.HP,'\ ',activeComputerMon.MHP,'\n')
        fightOption = int(input('Would you like to-\n  1. Fight\n  2. Heal\n  3. Switch\n'))
        if fightOption == 1:
                &lt;&lt; attacking function call &gt;&gt;
        elif fightOption == 2:
                &lt;&lt; healing function call &gt;&gt;  

        elif fightOption == 3:
            switchOption(1)
</code></pre>
<p>I tried a variation where the switchOption() function is outside the fight() function using arguments for the playerList[] and activePlayerMon= but it did the same thing.</p>
<p>I also had a version that was just hardcoded to work for only the player but pivoted to the strategy to make it easier to code for the computer</p>
<p>I understand that a lot of the code is unoptimized, but I'm genuinely stuck on just making this work in a modular way.</p>
<p>In short, How do I make it so that when activePlayerMon's value is switched inside the switchOption() function, it keeps the change and doesn't just revert back to the old value?</p>
<p>I'm willing to upload the files to GitHub if need be</p>
","2024-08-04 20:42:55","2","Question"
"78830442","","How to get method's *ssa.Function","<p>hello i am new to static analysis and try to use golang's SSA package to analyze function code. i want to get a function's or a method's *ssa.Function in the package, get a function's *ssa.Function code is down, work success:</p>
<pre><code>func GenBlockGraph(filename string, name string) *ssa.Function {
    // Parse the source files.
    fset := token.NewFileSet()

    // read file content
    src, err := os.ReadFile(filename)
    if err != nil {
        log.LogError.Println(&quot;Error reading file:&quot;, err)
    }
    f, err := parser.ParseFile(fset, filename, src, parser.ParseComments)
    if err != nil {
        log.LogError.Print(err) // parse error
    }
    files := []*ast.File{f}

    // Create the type-checker's package.
    pkg := types.NewPackage(f.Name.Name, &quot;&quot;)

    // Type-check the package, load dependencies.
    // Create and build the SSA program.
    res, _, err := ssautil.BuildPackage(
        &amp;types.Config{Importer: importer.Default()}, fset, pkg, files, ssa.SanityCheckFunctions)
    if err != nil {
        log.LogError.Print(err) // type error in some package
    }
    // Print out the package.
    res.WriteTo(os.Stdout)

    // Print out the package-level functions.
    res.Func(name).WriteTo(os.Stdout)
    return res.Func(name)
}
</code></pre>
<p>My question is how to get a method's *ssa.Function? For example get &quot;func (p *China) Speak(slogan string) string&quot;'s *ssa.Function:</p>
<pre><code>package scene

import &quot;fmt&quot;

type Human interface {
    Speak(str string) string
    Language() string
}

type China struct {
    name string
    age  int
}

func (p *China) Speak(slogan string) string {
    return fmt.Sprintf(&quot;I am chinese, my name is %s, age is %s. my slogan is %s!&quot;, p.name, p.age, slogan)
}

func (p *China) Language() string {
    return &quot;Chinese&quot;
}

type Germany struct {
    name string
    age  int
}

func (p *Germany) Speak(slogan string) string {
    return fmt.Sprintf(&quot;I am Germany, my name is %s, age is %s. my slogan is %s!&quot;, p.name, p.age, slogan)
}

func (p *Germany) Language() string {
    return &quot;Germany&quot;
}
</code></pre>
","2024-08-04 06:52:30","0","Question"
"78830273","78830252","","<p>My personal advice, try to avoid the <code>_</code> syntax since it can cause issues outside of very simple code.</p>
<p>But, let's try to explain what happens in each case and maybe that will clear things up.</p>
<h3>A</h3>
<pre><code>val sumFunction: (Int,Int) =&gt; Int = _ + _
</code></pre>
<p>Here we define an immutable variable named <code>sumFunction</code> whose type is <code>(Int, Int) =&gt; Int</code>, in Englih words:</p>
<blockquote>
<p>A function of two arguments, both of type Int, that returns an Int</p>
</blockquote>
<p>And then the body / implementation is the expression <code>_ + _</code> - The compiler expands that as:</p>
<pre class=""lang-scala prettyprint-override""><code>(x, y) =&gt; x + y
</code></pre>
<p>In other words, the <code>_</code> sugar syntax expands each <code>_</code> as a new parameter of a lambda in the innermost scope.</p>
<p>And then, the body type checks with the provided type.</p>
<h4>B</h4>
<pre class=""lang-scala prettyprint-override""><code>val mulFunc = (a: Int, b: Int) =&gt; _ * _
</code></pre>
<p>In this case, you don't provide a type for the <code>val mulFunc</code> but rather you let the compile infer it.</p>
<p>And here the sugar syntax expands like:</p>
<pre class=""lang-scala prettyprint-override""><code>(a: Int, b: Int) =&gt; (x, y) =&gt; x * y
</code></pre>
<p>So you have a function of two parameters, that ignores those parameters, and then returns a new function. And, the compiler actually doesn't have enough information to infer the types.</p>
<h3>C</h3>
<pre class=""lang-scala prettyprint-override""><code>val sumFunction2: (a: Int, b: Int) =&gt; Int = _ + _
</code></pre>
<p>This is simply bad syntax. <strong>Scala</strong> doesn't provide any way to define parameter names at the type level.</p>
<h3>D</h3>
<pre class=""lang-scala prettyprint-override""><code>val mulFunc2 = (a: Int, b: Int) =&gt; a * b
</code></pre>
<p>This is just defining an immutable value called <code>mulFunc2</code> and letting the compiler infer the type.</p>
<p>Then, we say that the expression to which it refers is the lambda <code>(a: Int, b: Int) =&gt; a * b</code>
The compiler then is able to infer the type of <code>mulFunc2</code> as <code>(Int, Int) =&gt; Int</code></p>
<hr />
<p>Personally, I would go with <strong>D</strong>.</p>
","2024-08-04 04:47:32","6","Answer"
"78830252","","Scala Function Variables and Usage Of => and _","<p>I am a newbie in Scala and found it pretty interesting btw. But I am not able get some of its syntactic sugar and the internal meaning why it's working at a place and not in another instance. For example Below are the two</p>
<p>A) val sumFunction: (Int,Int) =&gt; Int = _ + _</p>
<p>B) val mulFunc = (a: Int, b: Int) =&gt; _ * _</p>
<p>I am just curious to understand why _ is not working in case of B?</p>
<p>C) val sumFunction2: (a: Int, b: Int) =&gt; Int = _ + _</p>
<p>D) val mulFunc2 = (a: Int, b: Int) =&gt; a * b</p>
<p>Also what is the usage difference of =&gt; in C and D?</p>
","2024-08-04 04:26:47","1","Question"
"78828892","78828789","","<ol>
<li><p>In a function intended to return a computed value, always return a value. Change <code>rusMult(a, -b);</code> to <code>return rusMult(a, -b);</code>.</p>
</li>
<li><p>Reduce the code. Make it simple. Avoid introducing variables and nested conditions:</p>
</li>
</ol>
<pre><code>int rusMult(int a, int b)
{
    if (b &lt; 0)
        return rusMult(a, -b);
    else if (b == 0)
        return 0;
    else if (b % 2 == 0)
        return rusMult(a*2, b/2);
    else
        return rusMult(a*2, b/2) + a;
}
</code></pre>
<p>Do not print in functions intended for computing, except for debugging or error reporting. Print the value returned by the function, not a value in the function:</p>
<pre><code>int main(void)
{
    printf(&quot;%d\n&quot;, rusMult(100, 37));
}
</code></pre>
","2024-08-03 14:09:30","1","Answer"
"78828789","","Return from recursion","<p>Hello in my program I need to implement a recursive descent and return from recursive calls. Input data (100, 37). I was able to print the recursive descent, but I do not understand how to print the return from recursive calls.</p>
<pre><code>
Descent:
In recursive descent, the first value is a, the second value is b.
100 37
200 18
400 9
800 4
1600 2
3200 1

Return from recursive calls:
Here first result, second a, fourth new_result. The third one is not needed yet.
3200
3200 1600 0 3200
3200 800 0 3200
3200 400 1 3600
3600 200 0 3600
3600 100 1 3700
3700
</code></pre>
<pre><code>
int rusMult(int a, int b)
{
    int res, ost, new_res;
    if (b &lt; 0) 
    {
        rusMult(a, -b);
    }
    
    if(b == 0)
    {
        return 0;
    }
    
    if (b &gt; 0)
    {
        
        if (b % 2 == 0)
        {
            
            printf(&quot;%d %d\n&quot;, a, b);
            return rusMult(a * 2, b / 2);
            //int res = rusMult(a * 2, b / 2);
            //printf(&quot;%d\n&quot;, res);
        }
        else
        {
            //int new_res = rusMult(a * 2, b / 2)+a;
            //printf(&quot;%d\n&quot;, new_res);
            //printf(&quot;%d\n&quot;, new_res);
            printf(&quot;%d %d\n&quot;, a, b);
            return rusMult(a * 2, b / 2) + a;

        }
    }
    
}
</code></pre>
","2024-08-03 13:28:35","0","Question"
"78827007","78826885","","<p>For application insights set the log level under Logging/ApplicationInsights/LogLevel. This is in addition to Logging/LogLevel</p>
<pre><code>{
  &quot;Logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Warning&quot;
    },
    &quot;ApplicationInsights&quot;: {
      &quot;LogLevel&quot;: {
        &quot;Default&quot;: &quot;Information&quot;
      }
    }
  }
}
</code></pre>
<p>Also, update the default behavior of applicationInsights by removing the default filter rule (see <a href=""https://learn.microsoft.com/en-us/azure/azure-functions/dotnet-isolated-process-guide?tabs=windows#managing-log-levels"" rel=""nofollow noreferrer"">Managing log levels</a>)</p>
<pre><code>var applicationInsightsProviderName = &quot;Microsoft.Extensions.Logging.ApplicationInsights.ApplicationInsightsLoggerProvider&quot;;

var host = new HostBuilder()
    .ConfigureFunctionsWorkerDefaults()
    .ConfigureServices(services =&gt;
    {
        services.AddApplicationInsightsTelemetryWorkerService();
        services.ConfigureFunctionsApplicationInsights();
    })
    .ConfigureLogging(logging =&gt;
    {
        logging.Services.Configure&lt;LoggerFilterOptions&gt;(options =&gt;
        {
            var defaultRule = options.Rules.FirstOrDefault(rule =&gt; rule.ProviderName == applicationInsightsProviderName);

            if (defaultRule is not null)
            {
                options.Rules.Remove(defaultRule);
            }
        });
    })
    .Build();
</code></pre>
","2024-08-02 19:38:52","0","Answer"
"78826885","","Azure function app not logging information messages to app insights traces log","<p>Please bear with me as this is my first question.</p>
<p>I have a function app (V4 runtime) with an EventHub trigger created in VS 2022 in C# and deployed to Azure.  I have configured app insights so I can log to there from the code.</p>
<p>I am seeing the warning and error messages getting logged to the traces table but not information or trace messages, using a KQL query like this:</p>
<pre><code>traces
| where timestamp &gt; ago(60min) 
| order by timestamp desc

</code></pre>
<p>Here is a block of debug code I have in the function app:</p>
<pre><code>            _logger.Log(LogLevel.Information, $&quot;(LOG) Received event count = {events.Length}&quot;);
            _logger.LogInformation($&quot;(INFO) Received event count = {events.Length}&quot;);
            _logger.LogWarning($&quot;(WARN) Received event count = {events.Length}&quot;);
            _logger.LogError($&quot;(ERR) Received event count = {events.Length}&quot;);
            _logger.LogTrace($&quot;(TRACE) Received event count = {events.Length}&quot;);

</code></pre>
<p>I am getting only the (WARN) and (ERROR) logs.</p>
<p>I've tried numerous settings in the host.json and I cant get this to show the information messages.</p>
<p>Per this:  <a href=""https://learn.microsoft.com/en-us/azure/azure-functions/configure-monitoring?tabs=v2#configure-categories"" rel=""nofollow noreferrer"">https://learn.microsoft.com/en-us/azure/azure-functions/configure-monitoring?tabs=v2#configure-categories</a></p>
<p>Under the &quot;loglevel&quot; in host.json, I've tried &quot;Function.myfunc.User&quot;:&quot;Information&quot; I've tried &quot;Function&quot;:&quot;Information&quot;, &quot;Function.myfunc&quot;:&quot;Information&quot; all to no avail. (I am using myfunc here but in the host.json I have the name of the function).   I am assuming I am supposed to use the name of the Function() attribute and not the actual name of the function &quot;app&quot;.   And yes I have checked that it matches the case exactly of the function name.</p>
<p>I've tried with and without a &quot;default&quot;:&quot;Information&quot;, still not working.</p>
<p>Per this:  <a href=""https://stackoverflow.com/questions/76510745/azure-function-application-insights-logging-not-honoring-host-json-configuration"">Azure Function Application Insights Logging not Honoring Host.json Configuration</a></p>
<p>It says to remove the default filters, but I have no default filter listed there.</p>
<p>Clearly the app insights connection is working since I am getting some messages.</p>
<p>Note that if I run this in the debugger I get all messages to the console screen as expected.</p>
<p>Also this is a very low volume application (5000 items a day spread out) so performance is not really an issue here.</p>
<p>If there's an easier way to do some simple logging I am open for suggestions.</p>
<p><strong>UPDATED</strong> Here is my complete host.json, and I am still getting only warnings and errors:</p>
<pre><code>
{
  &quot;version&quot;: &quot;2.0&quot;,
  &quot;logging&quot;: {
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Warning&quot;
    },
    &quot;ApplicationInsights&quot;: {
      &quot;LogLevel&quot;: {
        &quot;Default&quot;: &quot;Information&quot;
      }
    }
  }
}

</code></pre>
<p>Thank you.</p>
","2024-08-02 18:59:52","0","Question"
"78826336","78826261","","<p>I don't think you need such a complicated function, you can split the values in the columns and then do a setdiff. For example</p>
<pre><code>mydata_q2 %&gt;%
  left_join(mydata_q3) %&gt;%
  mutate(across(starts_with(&quot;reports&quot;), ~strsplit(.x, &quot;, &quot;))) %&gt;% 
  mutate(new_employees = purrr::map2_int(reports_q3, reports_q2, ~length(setdiff(.x, .y))))
</code></pre>
<p>returns</p>
<pre><code>  leader reports_q2 reports_q3 new_employees
   &lt;dbl&gt; &lt;list&gt;     &lt;list&gt;             &lt;int&gt;
1      1 &lt;chr [3]&gt;  &lt;chr [5]&gt;              2
</code></pre>
<p>If you don't care about the actual employee ID numbers, you can just count the different in commas</p>
<pre><code>mydata_q2 %&gt;%
  left_join(mydata_q3) %&gt;%
  mutate(new_employees = stringr::str_count(reports_q3, &quot;,&quot;) - stringr::str_count(reports_q2, &quot;,&quot;))
</code></pre>
<p>to get</p>
<pre><code>  leader reports_q2       reports_q3                     new_employees
   &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;                                  &lt;int&gt;
1      1 2222, 3333, 4444 2222, 3333, 4444, 55555, 66666             2
</code></pre>
","2024-08-02 16:00:40","1","Answer"
"78826333","78826261","","<p>The ifelse statement is not working correctly.  You need to use the if/then/else construct.  Then calculate the difference between the two vector lenghts.</p>
<pre><code>calculate_number_new_emps &lt;- function(reports_time1, reports_time2) {
   if (is.na(reports_time1)) 
      {time_1_reports &lt;-character(0)}
   else 
      {time_1_reports &lt;- str_split(reports_time1, &quot;,\\s*&quot;)[[1]]}
   
   print(time_1_reports)
   time_2_reports &lt;- str_split(reports_time2, &quot;,\\s*&quot;)[[1]]
   num_new_employees &lt;- length(time_2_reports) - length(time_1_reports)
   num_new_employees
}

#Join data and count number of new staff--get wrong answer
mydata_q2 %&gt;%
   left_join(mydata_q3) %&gt;%
   mutate(new_staff_count = calculate_number_new_emps(reports_q2, reports_q3))
</code></pre>
<p>EDIT from Original Poster:</p>
<p>Thank you, Dave! I was able to simplify. Also, I modified the equation because I got negative numbers of new staff if someone had more count at time 1 than time 2, and if employees just changed, then it gave the wrong count.</p>
<pre><code>calculate_number_new_emps &lt;- function(reports_time1, reports_time2) {
  time_1_reports &lt;- str_split(reports_time1, &quot;, &quot;)[[1]]
  time_2_reports &lt;- str_split(reports_time2, &quot;, &quot;)[[1]]
  length(setdiff(time_2_reports, time_1_reports))
}
</code></pre>
","2024-08-02 15:57:26","1","Answer"
"78826273","78823580","","<p>As requested by OP in comments.  Here's an example of how to return a value from a function and hence avoid a call to <code>assign</code>.  Also, since the value of <code>lakeselection</code> passed as an argument to the function is immediately overwritten, I have deleted it.</p>
<pre><code>askForLakes &lt;- function() {
  lakeselection &lt;- readline(&quot;What lakes would you like to run? &quot;)
  lakeselection &lt;- c(unlist(strsplit(lakeselection,split = c(&quot;,&quot;))))
  lakeselection &lt;- trimws(lakeselection)
  laketypes &lt;- c('BVR','CMR','CHL','MNR','PRR','BRR','BHR','CFK','CRR','GRR','NRR','RRR','TAR','CCK','CBR','WFR','EFR')
  if(all(lakeselection %in% laketypes) == TRUE) {
    writeLines(paste(&quot;Lakes chosen:&quot;, list(lakeselection)))
  } else if(lakeselection == &quot;ALL&quot;){
    writeLines(paste(&quot;Lakes chosen:&quot;, list(laketypes)))
  } else {
    write_lines(paste(&quot;Sorry,&quot;, lakeselection, &quot;contains a lake that is not applicable&quot;))
  }
  lakeselection
}

&gt; answer &lt;- askForLakes()
What lakes would you like to run? ALL
Lakes chosen: c(&quot;BVR&quot;, &quot;CMR&quot;, &quot;CHL&quot;, &quot;MNR&quot;, &quot;PRR&quot;, &quot;BRR&quot;, &quot;BHR&quot;, &quot;CFK&quot;, &quot;CRR&quot;, &quot;GRR&quot;, &quot;NRR&quot;, &quot;RRR&quot;, &quot;TAR&quot;, &quot;CCK&quot;, &quot;CBR&quot;, &quot;WFR&quot;, &quot;EFR&quot;)
&gt; answer
[1] &quot;ALL&quot;
&gt; answer &lt;- askForLakes()
What lakes would you like to run? BVR,CMR, BRR
Lakes chosen: c(&quot;BVR&quot;, &quot;CMR&quot;, &quot;BRR&quot;)
&gt; 
&gt; answer
[1] &quot;BVR&quot; &quot;CMR&quot; &quot;BRR&quot;
&gt; 
</code></pre>
<p>It might help the generalisability of the function to make <code>laketypes</code> (and perhaps the prompt text) parameters (with useful defaults) parameters to the function.</p>
<p><strong>Edit</strong>
To answer OP's question in comments:</p>
<p>&quot;Aren't th[e]y already parameters inside the function?&quot;.</p>
<p>Not really.  To my mind, a parameter can vary.  The way you've written the funcyion, the prompt and the acceptable values are both fixed.</p>
<p>Here is one way to write a function that lets you change the prompt and the valid selections.</p>
<pre><code>askForLakes &lt;- function(
    prompt = &quot;What lakes would you like to run? &quot;,
    validSelections = c('BVR','CMR','CHL','MNR','PRR','BRR','BHR','CFK','CRR','GRR','NRR','RRR','TAR','CCK','CBR','WFR','EFR')
) {
  lakeselection &lt;- readline(prompt)
  lakeselection &lt;- c(unlist(strsplit(lakeselection, split = c(&quot;,&quot;))))
  lakeselection &lt;- trimws(lakeselection)
  if(all(lakeselection %in% validSelections) == TRUE) {
    writeLines(paste(&quot;Lakes chosen:&quot;, list(lakeselection)))
  } else if(lakeselection == &quot;ALL&quot;){
    writeLines(paste(&quot;Lakes chosen:&quot;, list(validSelections)))
    lakeselection &lt;- validSelections
  } else {
    write_lines(paste(&quot;Sorry,&quot;, lakeselection, &quot;contains a lake that is not applicable&quot;))
  }
  lakeselection
}
</code></pre>
<p>This works the same as the original function.  But it also lets you write things like</p>
<pre><code>askForLakes(prompt = &quot;Who are your favourite Beatles? &quot;, c(&quot;John&quot;, &quot;Paul&quot;, &quot;George&quot;, &quot;Ringo&quot;))

Who are your favourite Beatles? John, Ringo
Lakes chosen: c(&quot;John&quot;, &quot;Ringo&quot;)
[1] &quot;John&quot;  &quot;Ringo&quot;
</code></pre>
<p>With this greater flexibility it would make sense to refactor some of the function's internals as well so that their purpose remains clear. (And the intermediate output doesn't confuse the user by referring to lakes when the request was to choose some pop stars...</p>
","2024-08-02 15:44:18","1","Answer"
"78826261","","In R, how do you find the number of different values between 2 character strings?","<p>I'm trying to see the number of new employees a manager got between time one and time 2. I have a string of all employee ids that roll up under that manager.</p>
<p>My below code always says there is 1 new employee, but as you can see, there's 2. How do I find out how many new employees there are? The ids aren't guaranteed to always be in the same order, but they will always be split by a &quot;, &quot;.</p>
<pre><code>library(dplyr)
library(stringr)

#First data set
mydata_q2 &lt;- tibble(
  leader = 1,
  reports_q2 = &quot;2222, 3333, 4444&quot;
) 

#Second dataset
mydata_q3 &lt;- tibble(
  leader = 1,
  reports_q3 = &quot;2222, 3333, 4444, 55555, 66666&quot; 
) 

#Function to count number of new employees
calculate_number_new_emps &lt;- function(reports_time1, reports_time2) {
  time_1_reports &lt;- ifelse(is.na(reports_time1), character(0), str_split(reports_time1, &quot; ,\\s*&quot;)[[1]])
  time_2_reports &lt;- str_split(reports_time2, &quot; ,\\s*&quot;)[[1]]
  num_new_employees &lt;- length(setdiff(time_1_reports, time_2_reports))
  num_new_employees
}

#Join data and count number of new staff--get wrong answer
mydata_q2 %&gt;%
  left_join(mydata_q3) %&gt;%
  mutate(new_staff_count = calculate_number_new_emps(reports_q2, reports_q3))
</code></pre>
<p>EDIT:</p>
<p>The output that I want is for new_staff_count = 2 for this example.</p>
<p>That's because there are 2 new employees (55555 and 66666) in q3 that weren't in time q2.</p>
","2024-08-02 15:40:20","1","Question"
"78825417","78824874","","<p>If we need each parameter to be individually typed, as in your example, then I believe there is no better way than providing multiple functions.</p>
<p>This is actually a common pattern used in both Java and Kotlin world. For example, the <a href=""https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/combine.html"" rel=""nofollow noreferrer"">combine</a> function in Kotlin Flow API is duplicated for 2-5 parameters.</p>
","2024-08-02 12:07:02","3","Answer"
"78825270","78825078","","<p>Used the answer from s_baldur to allow me to functionise this and complete the question;</p>
<pre><code>DT &lt;- as.data.table(datasets::swiss, keep.rownames=TRUE)
Tib &lt;- tibble::as_tibble(tibble::rownames_to_column(datasets::swiss))

output &lt;- 
  microbenchmark(
  data.table = setnames(dt, old = &quot;rn&quot;, new = &quot;Region&quot;),
  dplyr = rename(tb, Region = rowname),
  setup = {dt &lt;- copy(DT); tb &lt;- copy(Tib)},
  unit = &quot;ms&quot;,
  times = 100)

combine_benchmarks &lt;- 
  function(microbenchmark_object) {
  med &lt;- summary(microbenchmark_object, unit = &quot;ms&quot;)[,c(1,5)]
  relative &lt;- summary(microbenchmark_object, unit = &quot;relative&quot;)[,c(1,5)]
  names(relative)[2] &lt;- &quot;relative&quot;
  res &lt;- merge(med, relative, by = &quot;expr&quot;)
  return(res)
}

combine_benchmarks(output)

        expr  median relative
1 data.table 0.03345  1.00000
2      dplyr 0.42210 12.61883
</code></pre>
","2024-08-02 11:34:25","0","Answer"
"78825189","78825078","","<p>You can use the setup argument:</p>
<pre><code>microbenchmark(
  data.table = setnames(dt, old = &quot;rn&quot;, new = &quot;Region&quot;),
  dplyr = rename(tb, Region = rowname),
  setup = {dt &lt;- copy(DT); tb &lt;- copy(Tib)},
  unit = &quot;ms&quot;,
  times = 100
)
</code></pre>
","2024-08-02 11:15:40","2","Answer"
"78825078","","R: Microbenchmark library, how to best create a table of multiple timing results where the results also need to be modified. Ideally functionised","<p>I wish to compare the speed between data.table and dplyr functions.</p>
<p>Namely, I wish to rename a column with each library and see what the median and relative timings are for each.</p>
<p>The following code uses the inbuilt dataset &quot;swiss&quot;. What I've done works however it will bloat the script if I want to do it multiple times so I'm after a approach that could functionise what I've done or a different but more efficient approach;</p>
<pre><code>library(microbenchmark)
library(dplyr)
library(data.table)


DT &lt;- as.data.table(datasets::swiss, keep.rownames=TRUE)
Tib &lt;- tibble::as_tibble(tibble::rownames_to_column(datasets::swiss))

res &lt;-
microbenchmark(
  data.table = setnames(copy(DT), old = &quot;rn&quot;, new = &quot;Region&quot;),
  copyOverhead = copy(DT),
  dplyr = rename(Tib, Region = rowname),
  unit = &quot;ms&quot;,
  times = 100
)
</code></pre>
<p>Note that since data.table modifies the object by reference I had to create a copy of it within the benchmark otherwise it would fail after the first iteration since the 'setnames' old value would be changed. As such I need to record the time that 'copy()' takes and subtract this from the data.table setnames() timing.</p>
<pre><code>res &lt;- setDT(summary(res))

res &lt;- res[1, median := median - res[2, median]][c(1,3), .(expr, median)] # subtract the time it takes to copy and delete the copyOverhead row afterwards

res[which.max(res[, median]), relative := res[which.max(res[, median]), median] / res[which.min(res[, median]), median]] # calculate the relative timings

res[which.min(res[, median]), relative := 1]

res
</code></pre>
<p>As I had to subtract the time of the copy() operation, the microbenchmark object is now a data.table object so I cant just print the relative units with print(res, unit = &quot;relative), I had to do it manually.</p>
<p>So, this works. But I want to create many different comparisons of this nature. Is there somehow I could functionise the approach to remove the timings of the copy() operation and somehow wrap the microbenchmark function within this? I thought it might involve something with the ... argument however I dont actually know how this properly works and cant make the arguments passed to ... in the wrapper function use the arguments from the microbenchmark function.</p>
<p>I'd also be open to a different approach alltogether!</p>
","2024-08-02 10:49:46","2","Question"
"78824874","","Variable number of generic parameters","<p>I have a set of some parameters of different types. And I want to do some operation with them. But only if at least of one them is not null.</p>
<p>My code is something like this:</p>
<pre><code>fun &lt;A, B, C, R&gt; atLeastOneNotNull(a: A?, b: B?, c: C?, block: (A?, B?, C?) -&gt; R): R? {
    return if (atLeastOneNotNull(a, b) { _, _ -&gt; } != null || c != null) {
        block(a, b, c)
    } else {
        null
    }
}
</code></pre>
<p>But the number of parameters varies in different use cases. In this example we have 3, but it could be 2 or 5.
Is it possible to create a function that would do the same but accept variable amount of parameters?</p>
<p>I have multiple functions for different number of paramaters, but i would like to have just one generic function.</p>
","2024-08-02 09:56:42","1","Question"
"78824650","78806987","","<p>Sometimes, though the function code deployment succeeds, it struggles to sync the trigger due to various reasons, refer <a href=""https://github.com/BillmanH/exoplanets/blob/main/docs/Troubleshooting_azure_functions.md#error-function-does-deploy-but-doesnt-show-in-the-portal"" rel=""nofollow noreferrer"">article</a>.</p>
<p><strong>Test the functions locally before deploying to Azure and check if able to sync the trigger:</strong></p>
<p><img src=""https://i.imgur.com/mzhRwDY.png"" alt=""enter image description here"" /></p>
<p>It could also be due to the modules required for the project are missing in <code>requirements.txt</code></p>
<p>Check the function definition and the code to make sure the configuration is valid, Sync triggers issue occurs if there are any variables declared outside of the wrapped function.</p>
<ul>
<li>Create a new sample python function project and compare your files and configurations with the sample function project.</li>
</ul>
<p><strong>Code Snippet:</strong></p>
<pre class=""lang-py prettyprint-override""><code>app = func.FunctionApp()

@app.route(route=&quot;http_trigger&quot;, auth_level=func.AuthLevel.ANONYMOUS)
def http_trigger(req: func.HttpRequest) -&gt; func.HttpResponse:
    logging.info('Python HTTP trigger function processed a request.')

    name = req.params.get('name')
    if not name:
        try:
            req_body = req.get_json()
        except ValueError:
            pass
        else:
            name = req_body.get('name')

    if name:
        return func.HttpResponse(f&quot;Hello, {name}. This HTTP triggered function executed successfully.&quot;)
    else:
        return func.HttpResponse(
             &quot;This HTTP triggered function executed successfully. Pass a name in the query string or in the request body for a personalized response.&quot;,
             status_code=200
        )
</code></pre>
<p>The settings in <code>local.setting.json</code> should match the application settings of function app, especially <code>AzureWebJobsStorage</code>.</p>
<p><strong>local.settings.json:</strong></p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;IsEncrypted&quot;: false,
  &quot;Values&quot;: {
    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;python&quot;,
    &quot;AzureWebJobsFeatureFlags&quot;: &quot;EnableWorkerIndexing&quot;,
    &quot;AzureWebJobsStorage&quot;: &quot;&lt;Storage_connection_string(which function app uses)&gt;&quot;
  }
}
</code></pre>
<ul>
<li>Azure function app might not be able to sync the latest code changes properly. Restart the Function App in the Azure portal to force a reload of the code changes.</li>
</ul>
","2024-08-02 09:11:52","0","Answer"
"78823580","","User response is unable to be read in script","<p>I am producing a QC check script for my job. In it, I have set it up where you define a year, then it prompts the user with a question about what quality control types and lakes they want to run the script using (I do water quality, that's why it is lakes). I am new to r so it has been a workload just to get to this point and now I have hit a block. I think showing what I am asking will be easier than typing. Here is my code for the prompt and user response in regards to lakes.</p>
<pre><code>askforLakes &lt;- \(lakeselection){
  
  assign(&quot;lakeselection&quot;, readline(&quot;What lakes would you like to run?&quot;))
  lakeselection &lt;- c(unlist(strsplit(lakeselection,split = c(&quot;,&quot;))))
  lakeselection &lt;- trimws(lakeselection)
  laketypes &lt;- c('BVR','CMR','CHL','MNR','PRR','BRR','BHR','CFK','CRR','GRR','NRR','RRR','TAR','CCK','CBR','WFR','EFR')
  if(all(lakeselection %in% laketypes) == TRUE) {
    writeLines(paste(&quot;Lakes chosen:&quot;, list(lakeselection)))
  } else if(lakeselection == &quot;ALL&quot;){
    writeLines(paste(&quot;Lakes chosen:&quot;, list(laketypes)))
  } else {
    write_lines(paste(&quot;Sorry,&quot;, lakeselection, &quot;contains a lake that is not applicable&quot;))
  }
}
</code></pre>
<p>This works perfect! Yet it runs into a problem when I use the argument later in the grand function. Here at this spot, instead of filtering using all the lakes, it insteads returns at the end of the function a blank table:</p>
<pre><code>'QC-Samples' &lt;- `QC-Samples` %&gt;% filter(substr(QC_SAMPLE,1,4)==paste(year_select)) %&gt;% filter(substr(LOC_ID,1,3) == lakeselection)
</code></pre>
<p>I find that this problem only occurs when using typing in <code>ALL</code> as the response to the prompt, not when individually putting in the lake types. This is necessary to have as otherwise you would have to type in all 17 codes for the lakes instead. I believe the problem is that the script is not reading <code>ALL</code> in lakeselection as a list containing all the laketypes, and instead is taking that information as something else.</p>
<p>This is my first sort of in-depth project and trying to figure everything out has been a chore, but also so reewarding in the end. Any help is much appreciated and in general, any tips for cleaning up my script or better ways to automate this would be helpful. Thank you and let me know if anymore information is needed.</p>
","2024-08-02 02:20:16","0","Question"
"78822506","78822274","","<p>You could set up a global action handler. Whenever you perform an action, get the action from the button and find its section.</p>
<p>Now, you can toggle the state of the section, based on the action type.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const messageCount = 15;
for (let i = 0; i &lt; messageCount; i++) {
  addSection({ title: `Section ${i}`, content: 'Hello World' });
}

// Globally listen to all action buttons
document.addEventListener('click', function(event) {
  if (event.target.classList.contains('section-action')) {
    handleAction(event);
  }
});

function handleAction(event) {
  const section = event.target.closest('.section');
  const { action } = event.target.dataset;
  switch (action) {
    case 'collapse':
      const isExpanded = section.dataset.expanded === 'true';
      section.dataset.expanded = !isExpanded;
      break;
    case 'close':
      const isClosed = section.dataset.closed === 'true';
      section.dataset.closed = !isClosed;
      break;
    default:
      throw new Error(`unknown action: ${action}`)
  }
}

function addSection({ title, content }) {
  document.body.insertAdjacentHTML('beforeend', `
    &lt;div class=""section"" data-closed=""false"" data-expanded=""true""&gt;
      &lt;div class=""section-header""&gt;
        &lt;div class=""section-header-content""&gt;${title}&lt;/div&gt;
        &lt;div class=""section-actions""&gt;
          &lt;span class=""section-action"" data-action=""collapse""&gt;&lt;/span&gt;
          &lt;span class=""section-action"" data-action=""close""&gt;&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class=""section-content""&gt;${content}&lt;/div&gt;
    &lt;/div&gt;
  `);
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 0.25rem;
}

.section {
  display: flex;
  flex-direction: column;
  border: thin solid grey;
}

.section[data-closed=""true""] {
  display: none;
}

.section[data-closed=""false""] {
  display: flex;
}

.section[data-expanded=""true""] .section-content {
  display: flex;
}

.section[data-expanded=""false""] .section-content {
  display: none;
}

.section-header {
  display: flex;
  flex-direction: row;
  background: #eee;
  gap: 1rem;
  padding: 0.25rem;
  border-bottom: thin solid grey;
}

.section-header-content {
  flex: 1;
}

.section-actions {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
}

.section-action {
  display: flex;
  align-items: center;
  justify-content: center;
  border: thin solid grey;
  width: 1rem;
  height: 1rem;
  background: grey;
  color: white;
  font-weight: bold;
  font-family: monospace;
}

.section-action:hover {
  cursor: pointer;
}

.section [data-action=""close""] {
  background: red;
}
.section [data-action=""close""]:after {
  content: ""x"";
}

.section [data-action=""collapse""] {
  background: blue;
}
.section [data-action=""collapse""]:after {
  content: ""&gt;"";
}
.section[data-expanded=""true""] [data-action=""collapse""]:after {
  content: ""v"";
}

.section-content {
  padding: 0.25rem;
}</code></pre>
</div>
</div>
</p>
","2024-08-01 18:18:17","0","Answer"
"78822374","78822274","","<p>When you use <code>querySelectorAll</code> it returns an array of HTML elements, if you want to add a listener to all of them you could iterate over the array and add a listener to each element</p>
<pre class=""lang-js prettyprint-override""><code>let closeItems = document.querySelectorAll(&quot;.close&quot;);

closeItems.forEach(close=&gt;{
  close.addEventListener(&quot;click&quot;,function () {
      alert(&quot;msg&quot;);
  })
})
</code></pre>
","2024-08-01 17:45:20","0","Answer"
"78822274","","how can i select all the elements and still add addEventListener for each of them?","<p>I want to have closing button in some sections in my web.
what js code do i need so that i can select all the divs with the class &quot;close&quot; and all of them do their jobs</p>
<p>i tried this but it only applies for the first element.
and when i change it to querySelectorAll i get the error that this is not a function.</p>
<pre><code>let close = document.querySelector(&quot;.close&quot;);
close.addEventListener(&quot;click&quot;,function () {
    alert(&quot;msg&quot;);
})
</code></pre>
","2024-08-01 17:22:19","0","Question"
"78813584","78813254","","<p>This can be easily done in base R without loops.</p>
<p>Define a function</p>
<pre><code>RPD = \(x1, x2) { 
  ## the following line is not needed   
  x1[is.na(x1)] = 0L; x2[is.na(x2)] = 0L 
  ## but there since you mention it 
  (x1 - x2) / ((x1 + x2) * .5) * 100L
  }
## i.e. given your toy data 
# RPD = \(x1, x2) (x1 - x2) / ((x1 + x2) * .5) * 100L
## would be enough
</code></pre>
<p>where <code>\(x1, x2)</code> is shorthand notation for <code>function(x1, x2)</code>,
and apply it:</p>
<p><strong>1)</strong> with <code>within()</code> like</p>
<pre><code>&gt; within(QCandResults, {RPD = RPD(Value_QC, Value_Results)})
                   anl_short   Sample_Num    QC_SAMPLE   Loc_ID Units_QC Value_QC Text_Value_QC QC_Type Units_Results Value_Results Text_Value_Results       RPD
1  Water Temp                2.023091e+14 2.023091e+14 GRR20001    deg C    19.26         19.26     DUP         deg C         19.39              19.39 -0.6727038
3  Water Temp                2.023083e+14 2.023083e+14 CFK20001    deg C    27.01         27.01     DUP         deg C         26.95              26.95  0.2223870
5  Water Temp                2.023081e+14 2.023081e+14 CCK20001    deg C    17.19         17.19     DUP         deg C         17.28              17.28 -0.5221932
7  Water Temp                2.023082e+14 2.023082e+14 CRR20001    deg C    26.39         26.39     DUP         deg C         26.30               26.3  0.3416208
9  Water Temp                2.023080e+14 2.023080e+14 BVR20001    deg C     8.51          8.51     DUP         deg C          8.53               8.53 -0.2347418
11 Water Temp                2.023083e+14 2.023083e+14 CFK20001    deg C    11.60          11.6     DUP         deg C         11.53              11.53  0.6052745
</code></pre>
<p>or <strong>2)</strong> with <code>transform()</code></p>
<pre><code>transform(QCandResults, RPD = RPD(Value_QC, Value_Results))
</code></pre>
<p>or <strong>3)</strong> with <code>with()</code></p>
<pre><code>QCandResults$RPD = with(QCandResults, RPD(Value_QC, Value_Results))
</code></pre>
<p>This is less to write than the very basic <strong>4)</strong></p>
<pre><code>QCandResults$RPD = RPD(QCandResults$Value_QC, QCandResults$Value_Results)
</code></pre>
<p>Just use one (once).</p>
","2024-07-30 20:34:46","1","Answer"
"78813393","78813254","","<p>calling your data.frame structure <code>some_temps</code>, first add a 'receiver' column called <code>rpd_qc_rslts</code></p>
<pre><code>some_temps['rpd_qc_rslts'] &lt;- NA
for (i in 1:nrow(some_temps)) {

some_temps$rpd_qc_rslts[i] &lt;- ((some_temps$Value_QC[i] - some_temps$Value_Results[i])/((some_temps$Value_QC[i] + some_temps$Value_Results[i])/2)) * 100

}

some_temps$rpd_qc_rslts

[1] -0.6727038  0.2223870 -0.5221932  0.3416208 -0.2347418  0.6052745
</code></pre>
","2024-07-30 19:26:33","0","Answer"
"78813390","78813254","","<p>You can do this with the <code>mutate()</code> function from the <code>dplyr</code> package. Here is an example:</p>
<pre><code>df &lt;- mutate(df, 
   Value_Results = if_else(is.na(Value_Results), 0, Value_Results), # Replaces NA with 0 in Value_results
   Value_QC = if_else(is.na(Value_QC), 0, Value_QC),# Replaces NA with 0 in Value_QC
   RPD = ((Value_Results-Value_QC)/((Value_Results+Value_QC)/2))*100) # Calculates RPD
</code></pre>
<p>The <code>mutate</code> function modifies (or creates) a column in the dataset, first we replace all <code>NA</code> in our two columns by using <code>is.na()</code> which will return <code>TRUE</code> if a value is <code>NA</code>. Then we use that output in the <code>dplyr</code> <code>if_else</code> function which will return 0 if the <code>is.na</code> returns <code>TRUE</code> or just return the current value if the <code>is.na</code> returns <code>FALSE</code>, finally we create a new column <code>RPD</code> by implementing the formula you included above and assigning it to RPD.</p>
","2024-07-30 19:25:04","1","Answer"
"78813331","78813264","","<p>The issue is that you use <code>str_wrap</code> after converting to a <code>factor</code>. This way you are converting your <code>factor</code> to a (wrapped) <code>character</code> which gets ordered alphabetically. Switch both lines of code and instead of using <code>Data$Recommendations</code> use <code>forcats::fct_inorder</code> or <code>levels = unique(Recommendations)</code> (or use <code>rev(unique(Recommendations)))</code> to reverse the order) as I do below:</p>
<pre class=""lang-r prettyprint-override""><code>library(tidyverse)
library(scales)

DATA %&gt;%
  mutate(
    Recommendations = stringr::str_wrap(Recommendations, 30),
    Recommendations = factor(Recommendations, levels = unique(Recommendations)),
  ) %&gt;%
  ggplot(aes(y = Recommendations, x = `Number of Responses`)) +
  geom_col(fill = &quot;steelblue&quot;) +
  geom_text(aes(label = paste0(`Number of Responses`, &quot;(&quot;, scales::percent(`Number of Responses` / sum(`Number of Responses`), accuracy = 1), &quot;)&quot;)),
    hjust = 0, nudge_x = 1,
    size = 3, fontface = 2
  ) +
  theme_minimal(16) +
  theme(
    panel.grid = element_blank(),
    axis.line.y = element_line(),
    axis.text = element_text(size = 9)
  )
</code></pre>
<p><img src=""https://i.imgur.com/xeJqAYe.png"" alt="""" /></p>
","2024-07-30 19:06:23","0","Answer"
"78813264","","Ordering Y-axis labels in ggplot2 when using a leveled factor doesn't work","<p>I'm using the following to generate a column plot of my data. But despite converting the variable <code>Recommendations</code> into a leveled factor, the Y-axis labels still are NOT ordered the way they are listed in the <code>DATA</code>.</p>
<p>Is there any other fix to order the Y-axis labels the way they are listed in the <code>DATA</code>?</p>
<pre><code>library(tidyverse)
library(scales)

DATA %&gt;% mutate(Recommendations = factor(Recommendations, 
                                        levels = DATA$Recommendations),
                                        Recommendations = stringr::str_wrap(Recommendations, 30)) %&gt;% 
  ggplot(aes(y = Recommendations, x = `Number of Responses`)) +
  geom_col(fill = &quot;steelblue&quot;) +
  geom_text(aes(label = paste0(`Number of Responses`, &quot;(&quot;, scales::percent(`Number of Responses` / sum(`Number of Responses`), accuracy = 1), &quot;)&quot;)), hjust = 0, nudge_x = 1,
            size = 3, fontface=2)+
  theme_minimal(16) +
  theme(panel.grid = element_blank(),
        axis.line.y = element_line(),
        axis.text = element_text(size = 9))
</code></pre>
<pre><code>DATA &lt;- structure(list(Recommendations = c(&quot;Criteria/guidance for authenticating transcripts&quot;, 
&quot;Training on international schooling systems&quot;, &quot;Interview/Schooling history templates&quot;, 
&quot;Repository of international transcripts/previously reviewed courses annotated with grade and credit equivalency&quot;, 
&quot;Course articulation agreements with specific countries&quot;, &quot;Proficiency assessments in students’ home languages&quot;, 
&quot;A professional learning community or community of practice for staff members who are responsible for evaluating credits earned outside of the U.S.&quot;, 
&quot;Hiring an external expert or agency to evaluate transcripts&quot;, 
&quot;Other&quot;), `Number of Responses` = c(115, 81, 39, 88, 39, 55, 
58, 26, 9)), class = &quot;data.frame&quot;, row.names = c(NA, 9L))
</code></pre>
","2024-07-30 18:46:51","0","Question"
"78813254","","How to develop Relative Percent Difference Function for dataframe?","<p>I am new to R and so I assume this is something rather simple but I can not find an adequate explanation online or a easy way to go about it. I have a table consisting of rows containing quality control values and original values. I want to create a function that goes through each of the rows, obtains the relative percent difference (RPD) between the Value_QC and Value_Results and then creates a new row on the end with the result. I believe what I need is a function that iterates the RPD formula (attached below) through each row in the column, pulling the Value_QC and Value_Results as the variables. There are also some NAs in the value columns, and I would like to set those to 0 if possible but not sure how to do that either. I know what I want to accomplish, I just don't have the skills yet in function building in order to develop it. Any help, especially with explanation, would help immensely! Thanks!</p>
<p><a href=""https://i.sstatic.net/kExW0iJb.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/kExW0iJb.jpg"" alt=""enter image description here"" /></a></p>
<pre><code>dput(head(QCandResults))
structure(list(anl_short = c(&quot;Water Temp               &quot;, &quot;Water Temp               &quot;, 
&quot;Water Temp               &quot;, &quot;Water Temp               &quot;, &quot;Water Temp               &quot;, 
&quot;Water Temp               &quot;), Sample_Num = c(202309111300030, 
2.02308301e+14, 202308091000030, 202308221000020, 202308031100110, 
202308301000060), QC_SAMPLE = c(202309111341030, 202308301041000, 
202308091041030, 202308221041020, 202308031141110, 202308301041060
), Loc_ID = c(&quot;GRR20001&quot;, &quot;CFK20001&quot;, &quot;CCK20001&quot;, &quot;CRR20001&quot;, 
&quot;BVR20001&quot;, &quot;CFK20001&quot;), Units_QC = c(&quot;deg C&quot;, &quot;deg C&quot;, &quot;deg C&quot;, 
&quot;deg C&quot;, &quot;deg C&quot;, &quot;deg C&quot;), Value_QC = c(19.26, 27.01, 17.19, 
26.39, 8.51, 11.6), Text_Value_QC = c(&quot;19.26&quot;, &quot;27.01&quot;, &quot;17.19&quot;, 
&quot;26.39&quot;, &quot;8.51&quot;, &quot;11.6&quot;), QC_Type = c(&quot;DUP&quot;, &quot;DUP&quot;, &quot;DUP&quot;, &quot;DUP&quot;, 
&quot;DUP&quot;, &quot;DUP&quot;), Units_Results = c(&quot;deg C&quot;, &quot;deg C&quot;, &quot;deg C&quot;, &quot;deg C&quot;, 
&quot;deg C&quot;, &quot;deg C&quot;), Value_Results = c(19.39, 26.95, 17.28, 26.3, 
8.53, 11.53), Text_Value_Results = c(&quot;19.39&quot;, &quot;26.95&quot;, &quot;17.28&quot;, 
&quot;26.3&quot;, &quot;8.53&quot;, &quot;11.53&quot;)), row.names = c(1L, 3L, 5L, 7L, 9L, 
11L), class = &quot;data.frame&quot;)

  anl_short   Sample_Num    QC_SAMPLE   Loc_ID Units_QC Value_QC Text_Value_QC QC_Type Units_Results Value_Results Text_Value_Results
1  Water Temp                2.023091e+14 2.023091e+14 GRR20001    deg C    19.26         19.26     DUP         deg C         19.39              19.39
3  Water Temp                2.023083e+14 2.023083e+14 CFK20001    deg C    27.01         27.01     DUP         deg C         26.95              26.95
5  Water Temp                2.023081e+14 2.023081e+14 CCK20001    deg C    17.19         17.19     DUP         deg C         17.28              17.28
7  Water Temp                2.023082e+14 2.023082e+14 CRR20001    deg C    26.39         26.39     DUP         deg C         26.30               26.3
9  Water Temp                2.023080e+14 2.023080e+14 BVR20001    deg C     8.51          8.51     DUP         deg C          8.53               8.53
11 Water Temp                2.023083e+14 2.023083e+14 CFK20001    deg C    11.60          11.6     DUP         deg C         11.53              11.53
</code></pre>
","2024-07-30 18:42:43","0","Question"
"78810225","78809864","","<p>Edit: I've given the conventional approach as well(in the way you tried)</p>
<p>It's easy to resolve. I'm using a better formula for finding the roots of the quadretic equation(trinomial). i.e</p>
<pre><code>-b ± √(b²-4ac)
_________________
     2a
</code></pre>
<p>Code:</p>
<pre><code>a = int(input('a'))
b = int(input('b'))
c = int(input('c'))
x_1 = (-1*b + ((b**2-4*a*c))**(1/2))/(2*a)
x_2 = (-1*b - ((b**2-4*a*c))**(1/2))/(2*a)
op = f'the roots of the given equation {a}x\u00b2 + {b}x + {c} are:\n {x_1} and {x_2}'
print(op)
</code></pre>
<p>Input &amp; Output in python interpreter:</p>
<pre><code>a
4
b
16
c
-9
the roots of the given equation 4x² + 16x + -9 are:
 0.5 and -4.5
</code></pre>
<p>Note: <code>x\u00b2</code> is given to get the alt code of x²</p>
<p>You can use the same logic if you want to do with iteration.</p>
<p>Edit : As you preferred conventional method, I've given below the conventional approach:</p>
<pre><code>def factor(product, summation):

    prod_ref = abs(product)
    factors = []
    i = 1
    l = prod_ref
    while i &lt;= prod_ref:
        if prod_ref % i == 0:
            l = i 
            m = prod_ref/i
            factors.append([l,m])
        i += 1
    if product &gt; 0 and summation &gt; 0: pass
    elif product &gt; 0 and summation &lt; 0:
        for i in range(len(factors)):
            factors[i][0] = -1*factors[i][0]
            factors[i][1] = -1*factors[i][1]
    elif product &lt; 0 and summation &lt; 0:
        for i in range(len(factors)):
            big = max(factors[i])
            idx = factors[i].index(big)
            factors[i][idx] = -1*big
    else:
        for i in range(len(factors)):
            small = min(factors[i])
            idx = factors[i].index(small)
            factors[i][idx] = -1*small
    
    
    for x in factors:
        if sum(x) == summation:           
            
            roots = (((-1*x[0])/a),((-1*x[1])/a))
            break

    return roots


a = int(input('Enter A: '))
b = int(input('Enter B: '))
c = int(input('Enter C: '))


product = a*c 
summation = b
#Give a space between everything
print(' ')
print (f'{a}x^2 + {b}x + {c}')

roots = factor(product, summation)
print(roots)
</code></pre>
","2024-07-30 07:07:14","0","Answer"
"78809864","","How do I assign multiple variables to a single argument in a function in python?","<p>I am trying to make a program where it takes a trinomial and factors it, if possible. Whenever the user inputs A, B, and C, the trinomial is supposed to be taken through the factor(product, summation) function. I don’t want to use the quadratic formula, as I’ve already made that. Instead, my goal is to use the X method where you multiply A and C for the top, and use B for the bottom. Then, you find two numbers that add to get (A*C) and add to get B. The user is supposed to enter A, B, and C, and then the equation is taken through the for loop to find the two numbers that multiply to get one and add to get another. I can't seem to figure out how to assign A and C to the product arg and B to the summation.</p>
<pre><code>import math
import cmath

def factor(product, summation):
        
  for i in range(-abs(product), abs(product) + 1):
    if i == 0:
            continue
    if product % i == 0:  # Ensure i is a factor of the product
            j = product // i  # Find the corresponding factor
            if i + j == summation:  # Check if the sum of the factors matches the given summation
                return i, j
    return None
  

#Assign the coefficients
print('Follow this format: Ax^2 + Bx + C')

a = float(input('Enter A: '))
b = float(input('Enter B: '))
c = float(input('Enter C: '))



#Give a space between everything
print(' ')
print (f'{a}x^2 + {b}x + {c}')

factor(product, summation)
</code></pre>
<p>I tried declaring different variables outside the function, product = (a*c) and summation = b, but it doesn't make sense and I am overall lost on how to tie all of this together.</p>
","2024-07-30 04:56:27","0","Question"
"78809222","78809061","","<p>I think a Likert-style plot would be appropriate here:</p>
<pre class=""lang-r prettyprint-override""><code>library(tidyverse)

DATA %&gt;%
  lapply(as.vector) %&gt;%
  as.data.frame(check.names = FALSE) %&gt;%
  pivot_longer(-1, names_to = &quot;Response&quot;) %&gt;%
  mutate(Challenge = stringr::str_wrap(Challenge, 30),
         Response = factor(Response, names(DATA)[c(6, 4, 3, 2, 5)])) %&gt;%
  ggplot(aes(value, Challenge, fill = Response)) +
  geom_col() +
  geom_text(aes(label = value), position = position_stack(vjust = 0.5)) +
  scale_x_continuous(&quot;Number of responses&quot;, expand = c(0, 0)) +
  scale_fill_brewer(palette = &quot;Spectral&quot;) +
  theme_minimal(16) +
  theme(panel.grid = element_blank(),
        axis.line.y = element_line())
</code></pre>
<p><a href=""https://i.sstatic.net/cWGeT2xg.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/cWGeT2xg.png"" alt=""enter image description here"" /></a></p>
","2024-07-29 22:27:57","1","Answer"
"78809181","78809061","","<p>A small multiples plot would be best IMO:</p>
<pre><code>library(ggplot2)
library(dplyr)
library(tidyr)
DATA |&gt;
  dplyr::mutate(across(-Challenge, as.integer)) |&gt;
  tidyr::pivot_longer(
    cols = -Challenge,
    names_to = &quot;name&quot;, 
    values_to = &quot;value&quot;, 
    ) |&gt;
  dplyr::mutate(
    name = factor(
      name, 
      levels = rev(
        c( &quot;Not at all challenging&quot;, &quot;Somewhat challenging&quot;, &quot;Very challenging&quot;,
          &quot;This is not a part of our process&quot;, &quot;I don't know&quot;)
        ))) |&gt;
  ggplot(aes(y = name, x = value)) +
  geom_col() +
  geom_text(aes(label = value), hjust = 0, nudge_x = 1) +  
  facet_wrap(~Challenge) 
</code></pre>
<h1></h1>
<pre><code># this version shows percentages

library(ggplot2)
library(dplyr)
library(tidyr)
library(scales)

DATA |&gt;
  # counts are integer
  dplyr::mutate(across(-Challenge, as.integer)) |&gt;
  # one observation per row
  tidyr::pivot_longer(
    cols = -Challenge,
    names_to = &quot;name&quot;, 
    values_to = &quot;value&quot;, 
    ) |&gt;
  # order the levels of the factor to sort the bars on the y-axis
  dplyr::mutate(
    name = factor(
      name, 
      levels = rev(
        c( &quot;Not at all challenging&quot;, &quot;Somewhat challenging&quot;, &quot;Very challenging&quot;,
          &quot;This is not a part of our process&quot;, &quot;I don't know&quot;)
        ))) |&gt;  
  # replace NA values with 0
  tidyr::replace_na(list(value = 0)) %&gt;%
  # calaculate opercentages per challenge
  dplyr::mutate(.by = Challenge, pct = value/sum(value)) |&gt;
  ggplot(aes(x = pct, y = name)) +
  geom_col() +
  geom_text(aes(label = scales::label_percent(accuracy = .1)(pct)), hjust = 0, nudge_x = 0.02) +
  scale_x_continuous(labels = scales::label_percent(), breaks = seq(0, 1, .2), limits = c(0,1)) +
  facet_wrap(~Challenge) 
</code></pre>
<h1></h1>
<p>fun variant on a likert scale, but with columns that allows comparisons</p>
<pre><code>  ggplot(aes(x = pct, y = stringr::str_wrap(Challenge, 24))) +
  geom_col(aes(fill = name)) +
  theme(legend.position = &quot;none&quot;) +
  facet_wrap(~name, nrow = 1)
</code></pre>
","2024-07-29 22:06:41","1","Answer"
"78809061","","How to plot a small matrix-like data in R or ggplot2","<p>I have a small matrix like <code>DATA</code> below where for each row on variable <code>Challenge</code> there is a <strong>count</strong> on the subsequent columns showing how many people responded from &quot;I don't know&quot; to &quot;Very challenging&quot; to that challenge.</p>
<p>The goal is to show these counts on a plot for all challenges.</p>
<p>I wonder if there is a plotting function in base R or ggplot2 can represent this data in a single plot?</p>
<pre><code>DATA &lt;- structure(list(Challenge = c(&quot;Obtaining  documents from the student's previous school2&quot;, 
&quot;Authenticating obtained documents 2&quot;, &quot;Translating the documents into English2&quot;, 
&quot;Conducting schooling history interviews or other methods to obtain non-transcript course history information2&quot;, 
&quot;Administering assessment for placement or proficiency-based credit2&quot;, 
&quot;Evaluating course equivalency; what credit will be awarded for prior work2&quot;, 
&quot;Making placement decisions&quot;, &quot;Lack of clarity around process, practices, roles, or responsibilities&quot;, 
&quot;Your own understanding of what is recorded on the transcript&quot;
), `I don't know` = structure(c(16L, 32L, 20L, 22L, 32L, 17L, 
15L, 18L, 11L), dim = 9L, class = &quot;table&quot;, dimnames = list(NULL)), 
    `Not at all challenging` = structure(c(7L, 20L, 46L, 27L, 
    28L, 22L, 21L, 34L, 47L), dim = 9L, class = &quot;table&quot;, dimnames = list(
        NULL)), `Somewhat challenging` = structure(c(86L, 67L, 
    85L, 80L, 64L, 93L, 110L, 65L, 90L), dim = 9L, class = &quot;table&quot;, dimnames = list(
        NULL)), `This is not a part of our process` = structure(c(2L, 
    12L, 1L, 18L, 31L, 8L, 6L, 1L, NA), dim = 9L, class = &quot;table&quot;, dimnames = list(
        NULL)), `Very challenging` = structure(c(69L, 49L, 28L, 
    33L, 25L, 40L, 28L, 62L, 32L), dim = 9L, class = &quot;table&quot;, dimnames = list(
        NULL))), class = &quot;data.frame&quot;, row.names = c(NA, -9L))
</code></pre>
","2024-07-29 21:11:28","0","Question"
"78809055","78805072","","<p>I would not use the <code>Bid</code> price, but rather the <code>OrderClosePrice()</code> <a href=""https://docs.mql4.com/trading/ordercloseprice"" rel=""nofollow noreferrer"">see MQL4 reference</a>
That's my first thought on this.</p>
<p>Let us know what happens.</p>
","2024-07-29 21:09:51","0","Answer"
"78807569","78807047","","<p>The <code>deleteObject</code> call deletes one object. It won't delete multiple objects under a given prefix. You have to enumerate the objects under that prefix/directory using <a href=""https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#listObjectsV2-property"" rel=""nofollow noreferrer"">listObjectsV2</a> and delete them all using <a href=""https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#deleteObjects-property"" rel=""nofollow noreferrer"">deleteObjects</a>, up to 1000 at a time.</p>
<p>Also note that if you call <code>deleteObject</code> on a non-existent object, that call will succeed. So, in your case it's likely that you are calling <code>deleteObject(&quot;folder1/&quot;)</code> and that call is succeeding but deleting nothing, unless there happens to be an object with the key <code>folder1</code>/ in which case that object will be deleted (but it won't delete anything else below <code>folder1/</code>).</p>
<p>S3 object storage is <a href=""https://stackoverflow.com/questions/42918205/why-aws-s3-uses-objects-and-not-file-directories"">not like a regular file system</a> (e.g. NTFS or FAT32). A 'directory' doesn't need to exist for there to be files that are logically in that directory.</p>
","2024-07-29 14:04:58","3","Answer"
"78807047","","This simple AWS function to delete a directory is not working","<p>I am writing this simple code to delete a directory that is asked to be deleted</p>
<p>here is the function regarding deleting it</p>
<pre><code>async function deleteProject (data) {
    const params = {
        Bucket: process.env.S3_BUCKET,
        Key: data,
    };
    try {
        await s3.deleteObject(params).promise();
        // console.log(`Successfully deleted ${key} from S3`); // Debug log
        return { success: true };
    } catch (error) {
        // console.error(`Error deleting ${key} from S3:`, error.message); // Debug log
        return { success: false, message: error.message };
    }
}
</code></pre>
<p>now this function is getting the key,(debugged it)
and this function isnt producing any errors but the function isnt deleting the folder it is asked to</p>
<p>Kindly help!</p>
","2024-07-29 12:22:16","-2","Question"
"78806987","","Functions are found and ran when 'func start' command is entered, however functions are NOT recognised when commanding func azure publish","<p>essentially I have a function that I'm trying to deploy to azure. When i type 'func start', the function runs locally and post requests can be sent to it. When I try and deploy my function to azure however, the deployment is always successful, yet the function itself is never pushed to azure. I.e.</p>
<p>Remote build succeeded!
[2024-07-26T15:17:11.932Z] Syncing triggers...
Functions in : ... (blank)...</p>
<p>Any ideas why I'm not seeing any errors thrown on the deployment end and the function isn't being recognized here? It's a very large project hence why I'm not providing code.</p>
<p>Any help would be appreciated, thanks !</p>
","2024-07-29 12:08:44","-1","Question"
"78805072","","MT4 - mql4 function for close any opened sell position?","<p>I'm not very familiar with mt4.
I want to close any sell position that is available, and if it is not available open a new buy position every time that function is executed. any solution or idea. I would greatly appreciate it. I am trying doing by this code but not working.order not closing.</p>
<pre><code>///////

bool deleteLastSell()
{
  bool success = true;
  int lastSellOrder = -1;
  for (int i = OrdersTotal() - 1; i &gt;= 0; --i) 
  {  
    if (OrderSelect(i, SELECT_BY_POS))
    {
      if (OrderType() == OP_SELL)
      {
        lastSellOrder = i;
        break;
      }
    }
  }
  if (lastSellOrder != -1)
  {
    if (!OrderClose(OrderSelect(lastSellOrder, SELECT_BY_POS), OrderLots(), Bid, Slippage))
    {
      Alert(&quot;Order #&quot;, OrderTicket(), &quot; was not closed&quot;);
      success = false;
    }
  }
  else
  {
    Alert(&quot;No sell orders to delete&quot;);
  }
  return success;
}


//////////
</code></pre>
","2024-07-29 00:11:52","0","Question"
"78804439","78803872","","<p>You must print the result after it is computed, but you have 2 returns in the function and also after them you need to print. You must remove the returns.</p>
<p>And &quot;%ld&quot; is the format to print <code>long int</code>, the format &quot;%u&quot; is the one to print <code>unsigned int</code>.</p>
<pre class=""lang-c prettyprint-override""><code>void  simpleFactors( unsigned int a, unsigned int last, unsigned int n ) {
    if ( a % last == 0 ) {
        if ( a &gt; 1 ) {
            simpleFactors( a / last, last, n+1 );
        }
    }
    else {
        if ( a != 1 ) {
            if ( last * last &gt; a ) {
                printf( &quot;%u &quot;, a );
            }
            else {
                simpleFactors( a, last+1, 0 );
            }
        }
        printFactor( last, n );
    } 
}
void  printFactor( unsigned int last, unsigned int n ) {
    if ( n == 0 )
        return;
    if ( n == 1 )
        printf( &quot;%u &quot;, last );
    else
        printf( &quot;%u^%u &quot;, last, n );
}
</code></pre>
","2024-07-28 17:43:38","1","Answer"
"78803929","78803734","","<p>If you're open to using just a loop with builtin <code>input()</code>, you can do as follows:</p>
<pre class=""lang-py prettyprint-override""><code>import math
def operation(value: str):
    trig_functions = {
        'sin': math.sin,
        'cos': math.cos,
        'tan': math.tan,
        'arcsin': math.asin,
        'arccos': math.acos,
        'arctan': math.atan
    }

    trig_func, deg_value = value.split('(')
    deg_value = deg_value.strip(')')

    deg_value = float(deg_value)

    radians_value = math.radians(deg_value)
    
    if trig_func in trig_functions:
        result = trig_functions[trig_func](radians_value)
        print(f&quot;The result of {trig_func}({deg_value}) is: {result}&quot;)
    else:
        print(&quot;Invalid trigonometric function. Please use sin, cos, tan, arcsin, arccos, or arctan.&quot;)


def main():
    running = True
    while running:
        print('Follow format: trig(deg)')
        val1 = input(&quot;Enter: &quot;)
        if val1 == 'quit':
            running = False
        operation(val1)


if __name__ == '__main__':
    main()
</code></pre>
<p>I'd also advise you to use:</p>
<pre class=""lang-py prettyprint-override""><code># We check if the input begins with any of the available keys
if not any(
            map(
                lambda f_names: value.startswith(f_names),
                trig_functions.keys()
            )):
        print(&quot;Invalid trigonometric function. Please use sin, cos, tan, arcsin, arccos, or arctan.&quot;)
        return
</code></pre>
<p>At the beginning of <code>operation()</code> instead of the IF statement you've used at it's bottom, as this way you avoid raising errors with any typos.</p>
","2024-07-28 13:48:50","0","Answer"
"78803872","","Function output recursion","<p>please tell me how to rework the function so that its output is the opposite. When entering the value -105, it should output (7 5 3), but for me it outputs (3 5 7).</p>
<pre><code>#include &lt;stdio.h&gt;
 
void simpleFactors(unsigned int a, unsigned int last, unsigned int n);
void printFactor(unsigned int last, unsigned int n);
 
int main()
{
    unsigned int a;
    
    scanf(&quot;%u&quot;, &amp;a);
 
    simpleFactors(a, 2, 0);
 
    printf(&quot;\n&quot;);
 
    return 0;
}
void simpleFactors(unsigned int a, unsigned int last, unsigned int n)
{
    if (a % last == 0)
    {
        if (a &gt; 1)
            simpleFactors(a / last, last, n + 1); 
    }
    
    else
    {
        printFactor(last, n); 
        
        if (a == 1) return;
 
        if (last * last &gt; a)
        { 
            printf(&quot;%ld &quot;, a);
            return; 
        }
        simpleFactors(a, last + 1, 0);
        printf(&quot;\n&quot;);
        
    }
}
 
void printFactor(unsigned int last, unsigned int n)
{
    if (n == 0)
        return;
    if (n == 1)
        printf(&quot;%ld &quot;, last);
    else
       printf(&quot;%ld^%ld &quot;, last, n);
}
</code></pre>
<p>I made some small changes in function. This program should pass some tests. I am interested in the correct output when entering the number 105. I managed to reverse the output, but now the program outputs (7 5), without the third digit.</p>
<pre><code>void simpleFactors(unsigned int a, unsigned int last, unsigned int n)
{

    if (a % last == 0)

    {
        if (a &gt; 1)
            simpleFactors(a / last, last, n+1);
    }

    else
    {
        if (last &gt; a) {
            printFactor(last, n);
        }

        if (a == 1) return;

        if (last * last &gt; a)
        {
            printf(&quot;%ld &quot;, a);
            printFactor(last, n);
            return;
        }

        simpleFactors(a, last + 1, 0);
        printf(&quot;\n&quot;);
    }

}
</code></pre>
","2024-07-28 13:18:24","1","Question"
"78803764","78803734","","<p>The script asks for input and waits for the user to enter something and press Enter. The program then moves to the next line, which sets up the hotkey.
But at this point, the program has finished running. It doesn't wait for another Enter press.</p>
<p>Instead the keybord you can use a <code>while</code> loop or just <code>opeartion(val1)</code></p>
<pre><code>while True:
    val1 = input(&quot;Enter (or 'quit'): &quot;)
    if val1.lower() == 'quit':
        break
    operation(val1)
</code></pre>
","2024-07-28 12:32:05","0","Answer"
"78803759","78803734","","<p>Your hotkey doesn't work because your code instantly terminates after you add the hotkey.  In your case however, you don't even need to use a hotkey, as the <code>input</code> function you call waits for the user to press enter, before continuing to execute the program. Because of this, you can just call your <code>operation</code> function after you ask the user for input like this:</p>
<pre><code>print('Follow format: trig(deg)')
val1 = input(&quot;Enter: &quot;)
operation(val1)
</code></pre>
<p>If you want this to work in a loop (not having to restart the program for each new calculation) you'd have to add a <code>while True</code> loop around the last three lines of code.</p>
","2024-07-28 12:28:32","0","Answer"
"78803734","","Is it possible to call functions in Python based on keypresses along with data entry?","<p>My goal is to make a trig calculator; I am doing this for fun. I tested out the code that gives you the value for the specific trig value, e.g sin30 = 0.5, and it works. However, when I got to the part where the function is called when the user presses the enter key, it fails to be called. I was expecting for the user to input a trig value, e.g cos60 = 0.5, and then press enter, which would trigger the operation(val1) function.</p>
<pre><code>import math
import cmath
import keyboard

def operation(val1):
  
  trig_func, deg_value = val1.split('(')
  deg_value = deg_value.strip(')')

  deg_value = float(deg_value)


  radians_value = math.radians(deg_value)

  trig_functions = {
    'sin': math.sin,
    'cos': math.cos,
    'tan': math.tan,
    'arcsin': math.asin,
    'arccos': math.acos,
    'arctan': math.atan
  }


  if trig_func in trig_functions:

    result = trig_functions[trig_func](radians_value)
    print(f&quot;The result of {trig_func}({deg_value}) is: {result}&quot;)
  else:
    print(&quot;Invalid trigonometric function. Please use sin, cos, tan, arcsin, arccos, or arctan.&quot;)

print('Follow format: trig(deg)')

val1 = input(&quot;Enter: &quot;)

keyboard.add_hotkey('enter', lambda: operation(val1))
</code></pre>
<p>I tried using a while True loop at the end. However, that slowed down my program and made everything sloppier; it didn't even work and gave me the same issue as using a keyboard.add_hotkey function.</p>
","2024-07-28 12:17:57","0","Question"
"78803289","78796594","","<p>You just have to plug in the <a href=""https://en.wikipedia.org/wiki/Bilinear_interpolation"" rel=""nofollow noreferrer"">Bilinear Interpolation</a> formula and use index/match to get the values of x1, x2 etc. It's straightforward although rather long and it's unfortunate that you can't use x1, x2 etc. in a Let statement because they are valid cell references. I have chosen to make the x direction correspond to columns and the y direction to rows - that means that the y-axis is going downwards, but the geometry still works. Because the x and y increments aren't constant across the whole table, I have had to do it slightly differently from @Solar Mike in the previous question.</p>
<pre><code>=LET(xRange,$B$1:$D$1,
     yRange,$A$2:$A$4,
     zRange,$B$2:$D$4,
     x,F2,y,G2,
     col,XMATCH(x,xRange,-1),
      row,XMATCH(y,yRange,-1),
      x_1,INDEX(xRange,col),
      x_2,INDEX(xRange,col+1),
      y_1,INDEX(yRange,row),
      y_2,INDEX(yRange,row+1),
      f_11,INDEX(zRange,row,col),
      f_12,INDEX(zRange,row+1,col),
      f_21,INDEX(zRange,row,col+1),
      f_22,INDEX(zRange,row+1,col+1),
      (f_11*(x_2-x)*(y_2-y)+f_21*(x-x_1)*(y_2-y)+f_12*(x_2-x)*(y-y_1)+f_22*(x-x_1)*(y-y_1))/((x_2-x_1)*(y_2-y_1))
      )
</code></pre>
<p><a href=""https://i.sstatic.net/4a6KEPuL.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/4a6KEPuL.png"" alt=""enter image description here"" /></a></p>
","2024-07-28 08:25:08","0","Answer"
"78800626","78800201","","<p>The issue is that <code>expo</code> is a column of the dataset <code>data</code> you pass to your plotting function. To account for that you can use</p>
<pre><code>max(data[[deparse(substitute(exposure))]], na.rm = TRUE)
</code></pre>
<p>to compute overall maximum of the <code>expo</code> in the data. In the code below I also compute the max value once outside of the call to <code>stat_summary</code> and store it in a variable <code>max_y</code>.</p>
<p>In your case you might also consider using a <code>geom_text</code> with <code>stat=&quot;count&quot;</code>:</p>
<pre><code>geom_text(
      aes(label = after_stat(count), y = after_stat(max_y)),
      stat = &quot;count&quot;, color = &quot;blue&quot;, size = 6
    ) +
</code></pre>
<pre class=""lang-r prettyprint-override""><code>library(ggplot2)

boxplot_cat_er &lt;- function(data, exposure, response, cat, title = NULL, xlab = NULL, ylab = NULL) {
  max_y &lt;- max(data[[deparse(substitute(exposure))]], na.rm = TRUE)

  give.n &lt;- function(x) {
    c(y = max_y, label = length(x))
  }

  ggplot(
    data = data,
    aes(x = as.factor(as.character({{ response }})), y = {{ exposure }})
  ) +
    geom_boxplot(outlier.shape = NA) +
    geom_jitter(width = 0.25) +
    stat_summary(
      fun.data = give.n, geom = &quot;text&quot;,
      color = &quot;blue&quot;, size = 6
    ) +
    facet_grid(cols = vars(cat), scales = &quot;free&quot;, space = &quot;free&quot;) +
    labs(x = xlab, y = ylab, title = title) +
    theme_bw() +
    theme(
      axis.text.x = element_text(size = 15), axis.text.y = element_text(size = 15),
      axis.title.y = element_text(size = 15), axis.title.x = element_text(size = 15),
      legend.text = element_text(size = rel(1.2)), legend.title = element_text(size = rel(1.5)),
      plot.title = element_text(size = 20, hjust = 0.5, vjust = 1),
      strip.text.x = element_text(size = 15)
    )
}

boxplot_cat_er(dummy_data, expo, resp, cat)
</code></pre>
<p><img src=""https://i.imgur.com/nMatyNL.png"" alt="""" /></p>
","2024-07-27 05:56:16","1","Answer"
"78800418","78800299","","<p>Example data</p>
<pre><code>library(terra)
r &lt;- rast(nrow=5, ncol=5, nlyr=100, xmin=0, xmax=1, ymin=0, ymax=1, crs=&quot;local&quot;)
r &lt;- init(r, runif)
</code></pre>
<p>Get the 90th quantile</p>
<pre><code>q &lt;- quantile(r, .9)

q
#class       : SpatRaster 
#dimensions  : 5, 5, 1  (nrow, ncol, nlyr)
#resolution  : 0.2, 0.2  (x, y)
#extent      : 0, 1, 0, 1  (xmin, xmax, ymin, ymax)
#coord. ref. : Cartesian (Meter) 
#source(s)   : memory
#name        :      q0.9 
#min value   : 0.8204033 
#max value   : 0.9477986 
</code></pre>
<p>Sum the number of cells with a value &gt;= the quantile</p>
<pre><code>sum(r &gt;= q)

#class       : SpatRaster 
#dimensions  : 5, 5, 1  (nrow, ncol, nlyr)
#resolution  : 0.2, 0.2  (x, y)
#extent      : 0, 1, 0, 1  (xmin, xmax, ymin, ymax)
#coord. ref. : Cartesian (Meter) 
#source(s)   : memory
#name        : sum 
#min value   :  10 
#max value   :  10 
</code></pre>
<p>The way you were going about it is not valid. The function applied to app should not access the data from another SpatRaster. For something like that you could instead use <code>lapp</code> with a SpatRasterDataset (one dataset is the temperature data, the other the quantile); but in this case that is unnecessary complex given the above.</p>
","2024-07-27 03:10:24","1","Answer"
"78800299","","Reclassifying a large rasterstack in Terra based on another raster","<p>I'm trying to do the following:</p>
<p>I have a stack of monthly temperature rasters, and from this I calculate the 90th quantile of the stack.</p>
<p>Then, I want to have a count for how often each raster cell is equal to or above this quantile. This way I'll end up with a raster with summed values for the frequency with which the 90th quantile is exceeded. I'm aware this may seem unnecessary since I'm taking the 90th quantile, but it will make it easier to then repeat the process for a stack of projected (future) rasters, so I can look at the change in frequencies of exceeding the threshold between past and present.</p>
<p>So I start with:
<a href=""https://i.sstatic.net/26WXewLM.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/26WXewLM.png"" alt=""enter image description here"" /></a>
and then take the 90th quantile:
<a href=""https://i.sstatic.net/1Wimif3L.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/1Wimif3L.png"" alt=""enter image description here"" /></a></p>
<p>I then try to look at each layer of hist_temp_stack and want, for each cell in the raster, the count where the layer exceeds the value for T90:</p>
<pre><code>  hist_extreme_temp &lt;- app(hist_temp_stack, fun = function(x) ifelse(x &gt;= T90[], 1, 0))
 
  hist_extreme_temp_count &lt;- sum(hist_extreme_temp)
</code></pre>
<p>resulting in</p>
<pre><code>There were 50 or more warnings (use warnings() to see the first 50)

&gt;   warnings()
Warning messages:
1: In x &gt;= T90[] :  longer object length is not a multiple of shorter object length
</code></pre>
<p>And after all those warnings...</p>
<pre><code>&gt;   hist_extreme_temp_count
class       : SpatRaster 
dimensions  : 180, 360, 1  (nrow, ncol, nlyr)
resolution  : 1, 1  (x, y)
extent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
coord. ref. : +proj=longlat +ellps=WGS84 +no_defs 
source      : spat_362c1f613e88_13868.tif 
name        :   sum 
min value   :     4 
max value   : 62977 
</code></pre>
<p>But this max value does not make any sense.
The max value should not be above 492 (the number of layers in hist_temp_stack), as I'm trying to sum, for each cell, the number of layers in hist_temp_stack that exceed the 90th quantile (T90).</p>
<p>To avoid the warnings related to hist_temp_stack being longer than T90,  I've also done the following, but this results in a memory error saying I'd need 8TB of memory...</p>
<pre><code> T90 &lt;- rep(T90, nlyr(hist_temp_stack))

  hist_extreme_temp &lt;- app(hist_temp_stack, fun = function(x) ifelse(x &gt;= T90[], 1, 0))
</code></pre>
","2024-07-27 01:16:21","0","Question"
"78800201","","How to pass arguments from within a function to ggplot stat_summary function","<p>I am trying to create a faceted box plot within a function to do an exposure-response analysis on patient data. The plot is to be faceted by category, with exposure on the y-axis and a categorical response on the x-axis. I would also like to annotate the plot with the number of observations.</p>
<p>Some data:</p>
<pre><code>set.seed(100)
dummy_data = data.frame(id = rep(1:50, each = 3),
                        expo = rnorm(50*3, mean = 50000, sd = 10000),
                        cat = rep(c(&quot;cat1&quot;, &quot;cat2&quot;, &quot;cat3&quot;), times = 3, length.out = 50*3),
                        resp = sample(0:3, 50*3, replace = T))
outliers = data.frame(id = rep(51:60, each = 3),
                      expo = rnorm(10*3, mean = 300000, sd = 100000),
                      cat = rep(c(&quot;cat1&quot;, &quot;cat2&quot;, &quot;cat3&quot;), times = 3, length.out = 10*3),
                      resp = 0)
dummy_data = rbind(dummy_data, outliers)
</code></pre>
<p>Here is my code so far:</p>
<pre><code>boxplot_cat_er = function(data, exposure, response, cat, title = NULL, xlab = NULL, ylab = NULL) {
  give.n &lt;- function(x){
    return(c(y = max(eval(substitute(exposure), data), na.rm = T), label = length(x)))
    # experiment with the multiplier to find the perfect position
  }
  
  ggplot(data=data, 
         aes(x = as.factor(as.character({{response}})) , y = {{exposure}}))+ 
    geom_boxplot(outlier.shape = NA) + 
    geom_jitter(width = 0.25) + 
    stat_summary(fun.data = give.n, geom = &quot;text&quot;, color = &quot;blue&quot;, fun.y = median, size=6) +
    xlab(xlab)+ 
    ylab(ylab)+
    ggtitle(title) +
    theme_bw() +
    theme(axis.text.x=element_text(size=15),axis.text.y=element_text(size=15),
          axis.title.y=element_text(size=15),axis.title.x=element_text(size=15),
          legend.text=element_text(size=rel(1.2)), legend.title = element_text(size = rel(1.5)),
          plot.title = element_text(size = 20)) +
    facet_grid(as.formula(paste(&quot;~&quot;, paste(substitute(cat)))), scales = &quot;free&quot;, space = &quot;free&quot;) +
    theme(strip.text.x = element_text(size = 15)) +
    theme(plot.title = element_text(hjust = 0.5, vjust = 1))
}
</code></pre>
<p>I want it to look like this:
<a href=""https://i.sstatic.net/wihvuQkY.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/wihvuQkY.png"" alt=""enter image description here"" /></a></p>
<p>Everything works except the blue annotations. The issue seems to be with my custom <code>give.n</code> function being passed to the <code>stat_summary</code> function. When I run <code>boxplot_cat_er(dummy_data, expo, resp, cat)</code>, I get the plot without the annotations and this error:
<a href=""https://i.sstatic.net/Z4cwB8Rm.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Z4cwB8Rm.png"" alt=""enter image description here"" /></a></p>
<p>Evaluations still allude me in R. What am I doing wrong?</p>
","2024-07-26 23:53:15","1","Question"
"78799731","78799478","","<p>I just wanted to give it a shot and show another solution. I think you can use the map, reduce and Math.max function (the latter gives you the highest number in array). You can get the desired result as follow where I am returning an object with the index of the name with the highest sum, that name and the highest sum</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let myArray = ['john', '123450', 'johnDoe',  '123', '12', '1']


function sumAscii(arrayOfNames) {
    let array2
       let SumArray = arrayOfNames.map(elem=&gt;{
            let array1 =  Array.from(elem)
            return  array2 = array1.reduce((sum, letter)=&gt;{return sum + letter.toLowerCase().charCodeAt(0)}, 0)
        })
        let maxScore = Math.max(...SumArray)
        let wantedIndex = SumArray.indexOf(maxScore)
        return  {'index' : wantedIndex, 'name' : myArray[wantedIndex], 'maxscore': maxScore}
  }



  console.log(sumAscii(myArray))</code></pre>
</div>
</div>
</p>
","2024-07-26 20:00:44","0","Answer"
"78799652","78799478","","<p>Your code is almost ready. You just need to fix some logic errors:
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function sumAscii(arrayOfNames) {
  function getAsciiScore(name) {
    let sum = 0;
    name.split("""").forEach((letter) =&gt; {
        sum += letter.toLowerCase().charCodeAt(0);
    });
    return sum;
  }

  let highestScore = -1;
  let highestScoreName = null;
  for (const name of arrayOfNames) {
    let score = getAsciiScore(name);
    if (score &gt; highestScore) {
      highestScore = score;
      highestScoreName = name;
    }
  }
  return highestScoreName;
}

console.log(sumAscii([""John"", ""Paul"", ""George"", ""Ringo""]));</code></pre>
</div>
</div>
</p>
<p>Here's a shorter method:
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const sumAscii = (arrayOfNames) =&gt; {
    const getWordScore = (word) =&gt; [...word].reduce((acc, cur) =&gt; acc + cur.toLowerCase().charCodeAt(0), 0);
    return arrayOfNames.sort((a, b) =&gt; getWordScore(b) - getWordScore(a))[0];
};

// Test
console.log(sumAscii([""John"", ""Paul"", ""George"", ""Ringo""]));</code></pre>
</div>
</div>
</p>
<p>But this is more inefficient than your code since it calculates each word's score multiple times. But this way is ok for small lists of small names.</p>
<p>This can be fixed with by storing the words with their score.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const sumAscii = (arrayOfNames) =&gt; {
    const getWordScore = (word) =&gt; [...word].reduce((acc, cur) =&gt; acc + cur.toLowerCase().charCodeAt(0), 0);
    let combined = arrayOfNames.map(n =&gt; {return {name: n, score: getWordScore(n)}});
    return combined.sort((a, b) =&gt; b.score - a.score)[0].name;
};

// Test
console.log(sumAscii([""John"", ""Paul"", ""George"", ""Ringo""]));</code></pre>
</div>
</div>
</p>
<p>This is still less efficient, but the code is cleaner.</p>
","2024-07-26 19:30:49","0","Answer"
"78799478","","The function sumAscii should take an array of names and calculate each name's score based on the total of each character's lowercase ASCII value","<p>The function sumAscii should take an array of names and calculate each name's score based on the total of each character's lowercase ASCII value. It should return the name with the highest score. E.g. The name 'John' would get the score 431 because 'j' has the ASCII code 106, 'o' has the ASCII code 111, 'h' has the ASCII code 104 and 'n' has the ASCII code 110.</p>
<pre><code>function sumAscii(arrayOfNames) {
  function getAsciiScore() {
    let sum = 0;
    let arrayOfAsciiCodes = [];
    for (const name of arrayOfNames) {
      name.split(&quot;&quot;).forEach((letter) =&gt; {
        sum += letter.toLowerCase().charCodeAt(0);
      });
    }
    return sum;
  }

  let highestScore = &quot;&quot;;
  for (const name of arrayOfNames) {
    for (const letter of name) {
      return getAsciiScore(letter);
    }
  }
}
</code></pre>
<p>My function returns the total Ascii code score of all the names</p>
","2024-07-26 18:23:45","-1","Question"
"78796594","","Calculations with the MS excel tool using the functions and formulas in a single cell","<p><a href=""https://i.sstatic.net/mKTCadDs.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/mKTCadDs.png"" alt=""enter image description here"" /></a></p>
<p>How do we calculate Coefficient C if R/W=0.64 and H/W=1.8? using functions in a single cell/step.</p>
<p>Detailed query:
If We have a table with some rows and columns, How do we calculate the respective value of any input not present in that first column/row from an array?</p>
","2024-07-26 06:45:54","0","Question"
"78794573","78794512","","<p>You can use this pattern:</p>
<pre><code>/^\s*([^,\r\n]+)[,]?\s+([a-z]{2})\s+([0-9]{5})-?([0-9]{4})?\b/gim
</code></pre>
<h3>Example</h3>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const regex = /^\s*([^,\r\n]+)[,]?\s+([a-z]{2})\s+([0-9]{5})-?([0-9]{4})?\b/gim;

const str = `San Jose, CA 95126
San Jose, CA 95126
San Jose, CA 95126-1234
San Jose, CA 951261234
san jose CA   951261234
san jose ca   951261234
san jose ca   9512612345`;
let m;

while ((m = regex.exec(str)) !== null) {
  if (m.index === regex.lastIndex) {
regex.lastIndex++;
  }

  m.forEach((match, groupIndex) =&gt; {
console.log(`${groupIndex}: ${match}`);
  });
}</code></pre>
</div>
</div>
</p>
<h3>Details:</h3>
<ul>
<li><p><code>^</code> start of the line.</p>
</li>
<li><p><code>\s*</code>: possible spaces.</p>
</li>
<li><p><code>([^,\r\n]+)</code>: extraction of city.</p>
</li>
<li><p><code>[,;]?</code>: possible comma or any similar chars.</p>
</li>
<li><p><code>\s+</code>: one or more spaces.</p>
</li>
<li><p><code>([a-z]{2})</code>: state.</p>
</li>
<li><p><code>([0-9]{5})</code>: zipcode.</p>
</li>
<li><p><code>-?([0-9]{4})?\b</code>: possible dash and four other digits in the zipcode.</p>
</li>
</ul>
","2024-07-25 16:49:27","0","Answer"
"78794512","","Issue retrieving City/State/Zip line from block of text","<p>I have a bunch of blocks of text that will contain address information such as:</p>
<pre><code>Fake Name
Business name
60 N Address Ave.
San Jose, CA 95126
(555)255-5555
Email: emailaddress@aol.com
</code></pre>
<p>I need to extract the line with the city/state/zip but it can be on a different line in every block of text. I have tried using regex but am not getting any returned results. Any help would be appreciated!</p>
<pre><code>function findStateLine(text) {
    const lines = text.split(&quot;\n&quot;);

    const regex = /\b[A-Z]{2}\b/;

    for (let i = 0; i &lt; lines.length; i++) {
        if (regex.test(lines[i])) {
            return lines[i].trim();
        }
    }

    return null;
}


const stateLine = findStateLine(text);
console.log(stateLine);

</code></pre>
<p>Expect the line from above 'San Jose, CA 95126' but am not getting any results</p>
<p><strong>Also tried '/[\w ]+, \w{2} \d{5}/' as well in regex const but did not get results as well.</strong></p>
","2024-07-25 16:36:59","-1","Question"
"78793279","78793196","","<p>What I see in your case is the missing/lack of proper project organization. In a professional python project, not all the files included in the project are executable ones. There could be readme.md or requirement.txt files that enhance the readability and understanding of the code while giving the reader information about the possible of relationship/dependencies of one file on another.</p>
<p>Your question falls in the correct organization of the project files. What I would suggest is to not any import/include any package in the main file. The correct place of importing package is where you are using them. Or if you are not comfortable with that, you need to include the file in the main file as given in the example below.</p>
<pre><code>from module1 import function_a
from module2 import function_b

# Main logic
function_a()
function_b()
</code></pre>
<p>where module1.py could be defined in following way</p>
<pre><code>import numpy as np  # Import only what is needed

def function_a():
  print(np.array([1, 2, 3]))
</code></pre>
<p>and module2.py as</p>
<pre><code>import pandas as pd  # Import only what is needed

def function_b():
    print(pd.DataFrame({'A': [1, 2, 3]}))
</code></pre>
<p>and so on. And finally to remind yourself and others which packages you have included, you can include a requirement.txt that could look something like this</p>
<pre><code>numpy
panda
...
</code></pre>
","2024-07-25 12:21:59","1","Answer"
"78793196","","What is the best practice on importing packages for functions in a multi-file project","<p>I have a multi-file project, where I have one main file and import almost all necessary functions from other files. Some of these functions require certain packages.<br />
I would import all packages at the beginning of the main file, but then the functions I am importing do not work without being imported in the main file. Is this considered bad practice? If so, what would be the best way to implement this?</p>
","2024-07-25 12:04:08","0","Question"
"78792529","78791684","","<p>This is a good try to understand the caching mechanism called <a href=""https://en.wikipedia.org/wiki/Memoization"" rel=""nofollow noreferrer"">memoization</a>.</p>
<ul>
<li><p><strong>inputs</strong>: As you are using <strong>dictionary caching</strong> for positional and keyword arguments, they have to be <a href=""https://docs.python.org/3/glossary.html#term-hashable"" rel=""nofollow noreferrer""><em>hashable</em></a> for the cache to work, whatever their complexity.</p>
</li>
<li><p><strong>outputs</strong>: For the result of the cached function calls, it should not change over the calls, so the cached function should be <a href=""https://en.wikipedia.org/wiki/Pure_function"" rel=""nofollow noreferrer""><em>pure</em></a> i.e.</p>
<ul>
<li>return values are identical for identical arguments</li>
<li>no side effects</li>
</ul>
</li>
</ul>
<hr />
<p>Python provides a <a href=""https://docs.python.org/3/library/functools.html"" rel=""nofollow noreferrer"">built-in cache</a> (since Python 3.9) that is doing what you are doing (example taken from the official documentation).</p>
<blockquote>
<p>[...] a thin wrapper around a dictionary lookup for the function arguments.</p>
</blockquote>
<p>By looking closely at the documentation of this cache, and its underlying implementation <a href=""https://docs.python.org/3/library/functools.html#functools.lru_cache"" rel=""nofollow noreferrer""><code>lru_cache</code></a>, you will get more details about this feature and its limitations.</p>
<pre class=""lang-py prettyprint-override""><code>from functools import cache

@cache
def factorial(n):
    print(f&quot;computing factioral({n}) ...&quot;)
    return n * factorial(n-1) if n else 1

print(factorial(4))  # no previously cached result
print(&quot;----------&quot;)
print(factorial(2))  # just looks up cached value result


# computing factioral(4) ...
# computing factioral(3) ...
# computing factioral(2) ...
# computing factioral(1) ...
# computing factioral(0) ...
# 24
# ----------
# 2
</code></pre>
","2024-07-25 09:29:12","-2","Answer"
"78791684","","Confusion about Caching with Decorators in Python","<p>I'm working with Python decorators to implement caching for functions. I understand the basic concept of caching results to improve performance, but I'm struggling with how to handle different function arguments and ensure the cache updates when the underlying data changes.</p>
<p>I've implemented a basic decorator that stores function results in a dictionary based on arguments. However, this approach doesn't handle situations where the function arguments might have complex structures (like nested lists) or when the underlying data the function relies on might be modified.</p>
<pre><code>def simple_cache(func):
  cache = {}
  def wrapper(*args, **kwargs):
    key = (args, kwargs)  # Basic key based on arguments
    if key not in cache:
      cache[key] = func(*args, **kwargs)
    return cache[key]
  return wrapper

@simple_cache
def calculate_something(data):
  # Simulates complex calculation
  # ...
  return result
</code></pre>
","2024-07-25 06:10:04","2","Question"
"78790430","78789240","","<h1>Update</h1>
<p>If you care about the largest root <em><strong>only</strong></em>, a minor change to previous code is to <strong>&quot;locate the interval where the sign change happens&quot;</strong>, e.g.,</p>
<pre><code>&gt; idx &lt;- max(which(rowSums(sign(embed(res, 2))) == 0))

&gt; uniroot(h.root, c(h[idx], h[idx + 1]), x = x)$root
[1] 0.5524001
</code></pre>
<hr />
<h1>Previous Answer</h1>
<p>Probably you can use a numerical way to solve the largest root</p>
<pre><code>idx &lt;- which(rowSums(sign(embed(res, 2))) == 0)
sols &lt;- rowMeans(cbind(h[idx], h[idx + 1]))
</code></pre>
<p>and you obtain the roots (from the left to the right, where the largest is the right-most one)</p>
<pre><code>&gt; sols
[1] 0.1065 0.2545 0.5525
</code></pre>
<p>and you can verify the solutions</p>
<pre><code>&gt; h.root(x, sols)
[1] -7.801779e-05 -1.402256e-04 -6.189450e-05
</code></pre>
<p>and verify the results in the plot</p>
<pre><code>plot(h, res, type = &quot;l&quot;)
abline(h = 0, lty = 2)
points(sols, h.root(x, sols), col = &quot;red&quot;, cex = 3)
</code></pre>
<p><a href=""https://i.sstatic.net/YjHYKFzx.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/YjHYKFzx.png"" alt=""enter image description here"" /></a></p>
<h1>Data</h1>
<p>Actually you can vectorize your <code>h.root</code> and provide higher resolution of <code>h</code> (spacing by <code>1e-3</code> or even denser), e.g.,</p>
<pre><code># function whose largets root h is to be found
h.root &lt;- Vectorize(function(x, h) {
    n &lt;- length(x)
    f2 &lt;- function(y) {
        h2 &lt;- h * h
        (sum(((x - y)^2 / h2 - 1) * dnorm((x - y) / h)) / (n * h * h2))^2
    }
    f2.int &lt;- integrate(Vectorize(f2), -Inf, Inf)$value
    (0.5 / sqrt(pi) / f2.int / n)^0.2 - h
}, vectorize.args = &quot;h&quot;)

# examples for problematic seeds: 45, 36
set.seed(36)
x &lt;- rnorm(50)
h &lt;- seq(0.05, 0.6, 1e-3)
res &lt;- h.root(x, h)
</code></pre>
","2024-07-24 20:23:05","1","Answer"
"78789240","","Finding largest root of a function in R","<p>I have a function that is data generated and not a polynomial. For most data, it only has one root, but it can also have two roots, as in in the following plot:</p>
<p><a href=""https://i.sstatic.net/yW5l2A0w.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/yW5l2A0w.png"" alt=""enter image description here"" /></a></p>
<p><code>uniroot()</code> tends to fail because the function has the same sign at both a small value for <em>h</em> and a large value for <em>h</em>, which I use at the interval endpoints.</p>
<p>Is there a way to find the <em>greatest</em> root of a function in R for a function that is known to go to minus infinity for large values of its argument?</p>
<p>As a workaround, I have placed the search interval around a large value for <em>h</em>, i.e. into a region on the right where I know the function has no roots, and then used the argumend <code>extendInt=&quot;downX&quot;</code>. I wonder however whether there is something more robust.</p>
<p>As requested by the comments, here is a reproducible example:</p>
<pre><code># function whose largets root h is to be found
h.root &lt;- function(x, h) {
  n &lt;- length(x)
  f2 &lt;- function(y) {
    h2 &lt;- h*h
    (sum(((x-y)^2/h2 - 1) * dnorm((x-y)/h)) / (n*h*h2))^2
  }
  f2.int &lt;- integrate(Vectorize(f2), -Inf, Inf)$value
  (0.5 / sqrt(pi) / f2.int / n)^0.2 - h
}

# examples for problematic seeds: 45, 36
set.seed(36)
x &lt;- rnorm(50)
h &lt;- seq(0.05, 0.6, 0.01)
res &lt;- h
for (i in 1:length(h)) res[i] &lt;- h.root(x,h[i])
plot(h, res, type=&quot;l&quot;)
abline(h=0, lty=2)

print(uniroot(h.root, c(0.05, 10), x=x)$root)
</code></pre>
","2024-07-24 15:22:37","1","Question"
"78786768","78780444","","<p>The following demonstrates an approach to performing asynchronous/concurrent procedures using <code>dblink</code>.</p>
<p>Begin by installing the <code>dblink</code> extension (supplied with PostgreSQL):</p>
<pre><code>CREATE EXTENSION IF NOT EXISTS dblink;
</code></pre>
<p>Next, we'll create three procedures to be called. For this example, they each perform the same operation; i.e. sleeping for a requested number of seconds. We could also have used a single procedure and invoked it multiple times concurrently.</p>
<pre><code>CREATE OR REPLACE PROCEDURE procedure_one(delay_in_seconds DOUBLE PRECISION) LANGUAGE plpgsql AS
$proc$
BEGIN
  PERFORM pg_sleep(delay_in_seconds);
END;
$proc$;

CREATE OR REPLACE PROCEDURE procedure_two(delay_in_seconds DOUBLE PRECISION) LANGUAGE plpgsql AS
$proc$
BEGIN
  PERFORM pg_sleep(delay_in_seconds);
END;
$proc$;

CREATE OR REPLACE PROCEDURE procedure_three(delay_in_seconds DOUBLE PRECISION) LANGUAGE plpgsql AS
$proc$
BEGIN
  PERFORM pg_sleep(delay_in_seconds);
END;
$proc$;
</code></pre>
<p>The final part of setup is to create the main procedure which will call the others:</p>
<pre><code>CREATE OR REPLACE PROCEDURE main_procedure () LANGUAGE plpgsql AS
$proc$
DECLARE
  -- connection string
  connstr TEXT := 'hostaddr=127.0.0.1 port=5432 dbname=so_wip user=postgres';
BEGIN
  -- invoke a procedure synchronously within the current session
  CALL procedure_one(5);
  -- establish two named connections
  PERFORM dblink_connect('con1', connstr);
  PERFORM dblink_connect('con2', connstr);
  -- asynchronously invoke a procedure on each named connection
  PERFORM dblink_send_query('con1', 'CALL procedure_two(10);');
  PERFORM dblink_send_query('con2', 'CALL procedure_three(5);');
  -- disconnect the named connections
  PERFORM dblink_disconnect('con1');
  PERFORM dblink_disconnect('con2');
END;
$proc$;
</code></pre>
<p>Finally, call the main procedure:</p>
<pre><code>CALL main_procedure();
</code></pre>
<p>By querying <code>pg_stat_activity</code> from a separate connection (or using pgAdmin's dashboard) while the procedures are running, one can see that they are indeed running concurrently. Polling the named connections, using <code>dblink_is_busy</code>, can be used to determine when asynchronous procedures have completed.</p>
","2024-07-24 06:53:02","1","Answer"
"78786066","78785801","","<p>As mentioned by @StephaneLaurent in comments, a standard installation of R doesn't include the source code <em>in a human-readable text format</em>; it's instead in a binary format that is more convenient for R to unpack.</p>
<p>From the console/terminal window, <code>R RHOME</code> will give you R's home directory (provided R is in your path so that it can be found ...) Starting from this directory, changing to <code>library\stats\R</code> will show you where the code actually lives. Unfortunately, the package code is stored as two binary files, <code>stats.rdb</code> and <code>stats.rdx</code>. <a href=""https://stackoverflow.com/questions/46184224/how-to-open-rdb-file-using-r"">This question</a> asks how to open <code>.rdb</code> files (not trivial). These files are more thoroughly described in <a href=""https://cran.r-project.org/doc/manuals/r-release/R-ints.html#Lazy-loading"" rel=""nofollow noreferrer"">the section on &quot;Lazy loading&quot; in the R internals manual</a>. (<a href=""https://journal.r-project.org/articles/RN-2004-009/RN-2004-009.pdf"" rel=""nofollow noreferrer"">This article by Brian Ripley</a> explains what &quot;lazy loading&quot; is, why it is useful, and how R uses the <code>rdb</code>/<code>rdx</code> machinery.)</p>
<p>It would be more practical to either download and unpack the R source code from CRAN (and navigate to <code>src/library/stats/R/chisq.test.R</code>), or to look at the corresponding file on the <a href=""https://github.com/r-devel/r-svn/blob/main/src/library/stats/R/chisq.test.R"" rel=""nofollow noreferrer"">r-svn Github mirror</a> (or on the official <a href=""https://svn.r-project.org/R/trunk/src/library/stats/R/chisq.test.R"" rel=""nofollow noreferrer"">R Subversion server</a>).</p>
","2024-07-24 01:01:22","3","Answer"
"78785824","78785801","","<p>You can execute the function <code>.libPaths()</code> to get the file paths where your packages are installed. One of those folders is for user-installed packages, and other is for base packages, like <code>{stats}</code>. This answer is based on <a href=""https://stackoverflow.com/a/2615147/4467386"">this StackOverflow answer.</a></p>
<p>Another option is the <code>R.home()</code> function, which will return the path of your R installation. In that folder, the <code>library</code> directory contains base packages, such as <code>{stats}</code>.</p>
<p><a href=""https://github.com/jimhester/lookup?tab=readme-ov-file#readme"" rel=""nofollow noreferrer"">The <code>{lookup}</code> package</a> also allows you to browse function definitions, including compiled code, S3 and S4 methods:</p>
<pre><code># install.packages(&quot;devtools&quot;)
# devtools::install_github(&quot;jimhester/lookup&quot;)

library(lookup)

lookup(chisq.test)

lookup::lookup_usage(&quot;chisq.test&quot;)

</code></pre>
<p>You can also <a href=""https://github.com/wch/r-source"" rel=""nofollow noreferrer"">browse R's source code in the GitHub mirror</a></p>
","2024-07-23 22:38:47","1","Answer"
"78785801","","How to find the file that contains the code of an R function?","<p>I have R 4.3.2 installed on my Windows PC. I downloaded it from <a href=""https://cran.r-project.org/bin/windows/base/"" rel=""nofollow noreferrer"">https://cran.r-project.org/bin/windows/base/</a>. I have not downloaded the .tar.gz file with the R source code.</p>
<p>I know how to view the code of a function. If I type <code>chisq.test</code> in the console, for example, I get the code for the <code>chisq.test</code> function. This is a base function from the package <code>stats</code>.</p>
<p>The thing is: that code shown in the console <strong>must be stored</strong> somewhere, in some file on my computer. The code could not be displayed if it were not so.</p>
<p><strong>Where is it?</strong> Is it a general method to find such locations?</p>
<p>I really tried to find it with no results. It's nowhere in C:/Program Files/R/R-4.3.2. I uploaded it to a GitHub repository and searched <code>chisq.test</code> and got no results either. I also looked in other folders in the same hard drive and found nothing. I didn't find anything useful on stackoverflow either.</p>
<p>I expect the code to be stored somewhere.</p>
","2024-07-23 22:31:45","3","Question"
"78784662","78782662","","<p>Symbols and variables are different things. Bare symbols in code are variables (or syntax like <code>let</code>) and the same symbols in a quoted list are just symbols that has nothing to do with the variable <code>square</code> or the variable <code>a</code></p>
<p>When you write code like <code>(square a)</code> Scheme evaluates the operator, the variable <code>square</code>. Since it evaluates to a procedure it evaluates the variable <code>a</code>, then applies the procedure with the evaluated operands.</p>
<p>Now if I were to make a list eg. <code>to-apply</code> like <code>(define to-apply '(square a)))</code> and then try to print this <code>(display to-apply)</code> you'll see the exact same as you wrote because you quoted it. <code>(apply (car to-apply) (cdr to-apply))</code> will give you the exact same error message as you encountered since the symbol <code>square</code> is not a procedure.</p>
<p>However if you define it like  <code>(define to-apply (list square a)))</code> and then do  <code>(display to-apply)</code> you'll see something like <code>(#&lt;procedure-suqare&gt; 3)</code> and <code>(apply (car to-apply) (cdr to-apply))</code> will give you <code>9</code></p>
<p>Instead of <code>list</code> you can use the quasiquote syntax:</p>
<pre><code>((func_polynomial_minimal_unit `((,square . 3) (,(lambda (x) (* 3 x)) . 2))) 3)
</code></pre>
<p>Since numbers are self evaluating you don't need to unquote them, but if you were to use a variable you would need to do it there as well :-)</p>
","2024-07-23 16:42:30","1","Answer"
"78784283","78784188","","<p>You could do it this way with <code>cumprod</code> and <code>lag</code>:</p>
<pre><code>df |&gt; mutate(starting_n_calc = lag((starting_n[1] * cumprod(growth_rate+1))))

#&gt; # A tibble: 3 × 4
#&gt;   date       starting_n growth_rate starting_n_calc
#&gt;   &lt;date&gt;          &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;
#&gt; 1 2024-07-01        100        0.05             NA 
#&gt; 2 2024-08-01         NA        0.05            105 
#&gt; 3 2024-09-01         NA        0.05            110.
</code></pre>
","2024-07-23 15:13:05","1","Answer"
"78784188","","Dynamically perform calculation down column in R","<p>I have data that looks like this:</p>
<pre><code>library(tidyverse)
df&lt;-tibble(date = as.Date(&quot;2024-07-01&quot;), starting_n = 100, growth_rate = 0.05)%&gt;%
bind_rows(
tibble(date = seq.Date(as.Date(&quot;2024-08-01&quot;), as.Date(&quot;2024-09-01&quot;), by = &quot;month&quot;), growth_rate = 0.05))
# A tibble: 3 × 3
  date       starting_n growth_rate
  &lt;date&gt;          &lt;dbl&gt;       &lt;dbl&gt;
1 2024-07-01        100        0.05
2 2024-08-01         NA        0.05
3 2024-09-01         NA        0.05
</code></pre>
<p>I am trying to calculate <code>starting_n</code> based on the initial <code>starting_n</code> and <code>growth_rate</code> such that the growth rate is applied cumulatively down the column like this:</p>
<pre><code># A tibble: 3 × 4
  date       starting_n growth_rate starting_n_calc
  &lt;date&gt;          &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;
1 2024-07-01        100        0.05             NA 
2 2024-08-01         NA        0.05            105 
3 2024-09-01         NA        0.05            110.25
</code></pre>
<p>I have tried the following:</p>
<pre><code>df%&gt;%mutate(starting_n_calc=lag(first(starting_n)*growth_rate+first(starting_n)))
   date       starting_n growth_rate starting_n_calc
  &lt;date&gt;          &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;
1 2024-07-01        100        0.05              NA
2 2024-08-01         NA        0.05             105
3 2024-09-01         NA        0.05             105
</code></pre>
<p>As shown, it only produces the first calculation and fills down, rather than dynamically calculating down the column.</p>
<p>I have tried a few other combinations of <code>lag</code>, <code>first</code>, and <code>cumsum</code> but nothing seems to work. Please help! Thanks.</p>
","2024-07-23 14:55:08","0","Question"
"78782742","78771762","","<p>You cannot directly terminate one sub orchestrator and run another at the same time. One way is using if else statement in Main Orchestrator as below:</p>
<pre><code>@rithapp.orchestration_trigger(context_name=&quot;context&quot;)
def rith_main_orc(context):
    val = []
    rithrun_suborc1 = True  
    rithrun_suborc2 = False 
    if rithrun_suborc1:
        val_1 = context.call_sub_orchestrator(&quot;rith_sub_orc1&quot;)
        val.append(val_1)
    if rithrun_suborc2:
        val_2 = context.call_sub_orchestrator(&quot;rith_sub_orc2&quot;)
        val.append(val_2)
    ri_out = yield context.task_all(val) if val else []
    result = {}
    if rithrun_suborc1:
        result[&quot;test1&quot;] = ri_out[0] if ri_out else None
    if rithrun_suborc2:
        result[&quot;test2&quot;] = ri_out[1] if len(ri_out) &gt; 1 else None
    return result

@rithapp.orchestration_trigger(context_name=&quot;context&quot;)
def rith_sub_orc1(context):
    return &quot;Rithwik From sub 1&quot;

@rithapp.orchestration_trigger(context_name=&quot;context&quot;)
def rith_sub_orc2(context):
    return &quot;Rithwik From sub 2&quot;
</code></pre>
<p>Here, I am giving true/false value directly(you can send those values to main orchestrator) in main orchestrator and if the value is true it executes the sub orchestrator, if it is false it will not execute it.</p>
<p><strong>Output:</strong></p>
<p>If  sub 1  is True:</p>
<p><img src=""https://i.imgur.com/pgRvhcP.png"" alt=""enter image description here"" /></p>
<p>if both are True:</p>
<p><img src=""https://i.imgur.com/RWS1XjV.png"" alt=""enter image description here"" /></p>
","2024-07-23 09:44:57","0","Answer"
"78782662","","""The object square is not applicable"" but `square` is one internal procedure in MIT-Scheme","<p>Recently when I self-learnt MIT 6.5151 course, I first read CS 61AS Unit 0 as the preparation. Then I have read SICP 1 to 2.1 (with related lecture notes) as <a href=""https://groups.csail.mit.edu/mac/users/gjs/6.945/psets/ps00/dh.pdf"" rel=""nofollow noreferrer"">ps0</a> requires (also read 2.2.1 as <a href=""https://people.eecs.berkeley.edu/%7Ebh/61a-pages/Volume2/notes.pdf"" rel=""nofollow noreferrer"">CS 61A notes</a> requires) and then <a href=""https://mitpress.ublish.com/ebook/software-design-for-flexibility-preview/12618/27"" rel=""nofollow noreferrer"">Software Design for Flexibility (SDF)</a> Prologue, chapter 1 and partly Appendix on Scheme.</p>
<p>I uses MIT-Scheme.</p>
<p>Currently I am reading SDF chapter 2 and doing exercise 2.5 (b).</p>
<p>The following code has weird results throwing errors &quot;;The object square is not applicable.&quot; and &quot;;The object (lambda (x) (square x)) is not applicable.&quot;. Here <code>func_polynomial_minimal_unit</code> calculates something like <code>(f(f(g(x)))</code> when calling <code>(func_polynomial_minimal_unit '((f . 2) (g . 1)))</code></p>
<pre class=""lang-lisp prettyprint-override""><code>(define (compose f g)
  (define (the-composition . args)
    (call-with-values (lambda () (apply g args))
      f))
  the-composition)

(define (iterate n)
  (define (the-iterator f)
    (if (= n 0)
        identity
        (compose f ((iterate (- n 1)) f))))
  the-iterator)

(define (identity x) x)

(define (func_polynomial_minimal_unit . func_pow_pair_lst)
  (if (null? (car func_pow_pair_lst)) ; contain one null pair
    identity
    (let ((cur_func_pow (caar func_pow_pair_lst)))
      (newline)
      (display cur_func_pow)
      (compose 
        ((iterate (cdr cur_func_pow)) (car cur_func_pow)) 
        (func_polynomial_minimal_unit (cdr func_pow_pair_lst))))))

;; equivalent lambda for the following `func_polynomial_minimal_unit`.
((lambda (x) (expt (* x 9) (expt 2 3))) 3)
;; these works
((compose ((iterate 3) (lambda (x) (square x))) (lambda (x) (* 3 x))) 3)
((compose ((iterate 3) square) (lambda (x) (* 3 x))) 3)

;; these doesn't work
((func_polynomial_minimal_unit '((square . 3) ((lambda (x) (* 3 x)) . 2))) 3)
((func_polynomial_minimal_unit '(((lambda (x) (square x)) . 3) ((lambda (x) (* 3 x)) . 2))) 3)
</code></pre>
<p>But as the above code shows, these procedures can be applicable. So why are these errors thrown?</p>
","2024-07-23 09:28:38","0","Question"
"78781849","78780198","","<p>No, there is no way to create a constraint like you want.</p>
<p>If you use a model that follows the first normal form, like</p>
<pre><code>CREATE TABLE item (
   id bigint PRIMARY KEY
);

CREATE TABLE label (
   id bigint REFERENCES item NOT NULL,
   value smallint NOT NULL,
   PRIMARY KEY (id, value)
);
</code></pre>
<p>it is simple to create the constraint you want:</p>
<pre><code>ALTER TABLE label ADD UNIQUE (value);
</code></pre>
","2024-07-23 06:24:35","1","Answer"
"78780444","","PostgreSQL Trigger Procedures Asynchronously From Main Overall Procedure","<p>I am currently working on building a pipeline using a PostgreSQL DB hosted by AWS RDS. In my pipeline, I have a stored procedure in PostgreSQL that is triggered by cron and used to executed other stored procedures. A summary of the procedure is below:</p>
<pre><code>CREATE OR REPLACE PROCEDURE &lt;postgres_schema&gt;.main_procedure()
LANGUAGE plpgsql
AS $procedure$
begin
    
call &lt;postgres_schema&gt;.procedure_one();
call &lt;postgres_schema&gt;.procedure_two();
call &lt;postgres_schema&gt;.procedure_three();

END;
$procedure$
;
</code></pre>
<p>I was wondering, is there a way to execute the last two of these procedures (procedure_two, and procedure_three) in parallel, or at least asynchronously? I am trying to set up a process where the main_procedure() is called, procedure_one() is executed first, then once that procedure is complete procedure_two() and procedure_three() are called at the same time and execute in the background.</p>
","2024-07-22 19:18:33","0","Question"
"78780328","78776528","","<p>Each k6 VU (virtual user) is independent and you cannot share data between two VUs. Each VU fully parses your test script file, executes any code in your <em>init context</em> (the part outside the exported functions), and then executes your test function repeatedly.
You can think of the <code>setup</code>, <code>teardown</code>, and <code>handleSummary</code> lifecycle functions as &quot;special VUs&quot;: they do not share data nor state with any other VU, but some can return data and others can receive data as a function parameter.</p>
<p>Unfortunately, the start time of the scenarios is not available in the object passed to <code>handleSummary</code>. It only contains <code>state.testRunDurationMs</code> which coudl be used to calculate the approximate start time of the test (not each scenario, mind you).</p>
","2024-07-22 18:44:09","0","Answer"
"78780198","","PostgreSQL - Get duplicate values of an Array","<p>I have a table in which one the columns is an ARRAY of smallint.</p>
<pre><code>ID | Array
--------------------
1 |  [1,2,3]
2 |  [4,5,6]
3 |  [7,8,9]
</code></pre>
<p>What I'm looking for is... a function where every time I INSERT new data, it first validates if a value of my new array is already in the table and gets the duplicate values.</p>
<p>I know that OVERLAP(&amp;&amp;) resolves part of the issue, if I insert the array [1,4,11], [1,4] are my duplicate values, but OVERLAP only returns true, what I need is know which values are the one that already exist in the table.</p>
","2024-07-22 18:08:57","-1","Question"
"78777821","78769028","","<p>Managed to solve it, it turns out there were two issues
the 1st was solved by Zegarek in the comments - I needed to change the language to PLPGSQL and that got rid of one error.</p>
<p>The second error is to do with the fact that I have more than one schema so needed to ensure the correct schema is referenced in both the function and trigger:</p>
<pre><code>CREATE or REPLACE FUNCTION data.update_tp_tag_field()
RETURNS TRIGGER as $$
BEGIN
NEW.&quot;telco pole tag&quot; = RIGHT(NEW.&quot;structure name&quot;, 
STRPOS(REVERSE(NEW.&quot;structure name&quot;),':')-1);
RETURN NEW;
END;
$$ language plpgsql;
</code></pre>
<p>and</p>
<pre><code>CREATE TRIGGER populate_tp_tag_field
BEFORE INSERT
ON data.pia_point_structures
FOR EACH ROW
EXECUTE FUNCTION data.update_tp_tag_field();
</code></pre>
","2024-07-22 09:08:42","1","Answer"
"78776528","","K6 Tests - Summary Output to include timestamps","<p>I have a K6 test that is running multiple scenarios. I would like to export the test summary to Elastic and as part of it, would like to include the start and end times for the test run. I am trying to set these values inside my default function but then the values don't stick when i get to  the handleSummary() method.</p>
<pre><code>`let startTime;
export default function () {
.. all scenarios and at the end i have a check
    if (!startTime){
        startTime = exec.scenario.startTime;
    }
}`
</code></pre>
<p><code>export async function handleSummary(data) { console.log(&quot;Start Time&quot;, startTime); }</code></p>
<p>The startTime is undefined inside my handleSummary method. Has anyone tried this before? Is there a better/easier way to get this info in the summary method?</p>
<p>Thank you in advance!</p>
","2024-07-21 23:14:04","0","Question"
"78773278","78773189","","<p>you could use a class with a factory function</p>
<pre><code>class MyLabels:

    def __init__(self, label_list):
        for label in label_list:
            setattr(self, label, self.label_factory(label))

    def label_factory(self, label):
        def my_func(arg: str):
            if len(arg) &gt; len(label):
                print(f'the word {arg} has more letters than the word {label}')
        return my_func

exampleList=['label1','label2','label3','label4']
ml = MyLabels(exampleList)
ml.label1('stackoverflow') #the word stackoverflow has more letters than the word label1
</code></pre>
","2024-07-20 16:10:37","1","Answer"
"78773189","","Pulling labels for def defined functions from a list of strings in python","<p>I would like to create functions using the normal def procedure in Python with labels assigned to the namespace that are pulled from a list of strings. How can this be achieved?</p>
<p>An example problem: given an arbitrary list of strings exampleList=['label1','label2','label3',...] of length k, initialize k def defined functions of the form</p>
<pre><code>exampleList=['label1','label2','label3','label4']
def label1(arg: str):
    if len(arg)&gt;exampleList[0]
        print('the word '+arg+' has more letters than the word '+exampleList[0])
def label2(arg: str):
    if len(arg)&gt;exampleList[1]
        print('the word '+arg+' has more letters than the word '+exampleList[1])
# ...etc.
</code></pre>
<p>programmatically.</p>
<p>If the functions to be defined only involve operations implementable within lambda functions, then this can be done with lambda functions by updating the globals() dict. E.g., one can write something like</p>
<pre><code>exampleList=['label1','label2','label3']
exampleOperation= lambda j,k: len(j)-len(k)
globals().update(zip(exampleList,[lambda k:exampleOperation(j,k) for j in exampleList]))
</code></pre>
<p>The above example initialized some lambda functions with labels assigned from the list <code>exampleList</code>. I would, however, like to accomplish the analogous task with normal def defined functions rather than lambda functions.</p>
","2024-07-20 15:36:52","2","Question"
"78772284","78767691","","<p><strong></strong> you need to make that div empty before starting the For-loop.</p>
<p>add this <strong>result.innerHTML = ' '</strong>  before For-loop.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let names = [];
let todoListHTML = ''

function handleAddTodo(){
     
     const todo_input = document.querySelector('.js-input-todo')
     const todoValue = todo_input.value
     const result = document.querySelector('.todo-list')

     result.innerHTML = ''
     names.push(todoValue)

     for(let i = 0; i &lt;  names.length ; i++){

          let todoName = names[i]
          const html = `&lt;p&gt;${todoName}&lt;/p&gt;`
          todoListHTML = html
          result.innerHTML +=todoListHTML
          todo_input.value = ''
     }

}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt;
&lt;html lang=""en""&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;p class=""title""&gt; Todo List &lt;/p&gt;
    &lt;input type=""text"" class=""js-input-todo"" placeholder=""Todo name""&gt;
    &lt;button type=""submit"" class=""js-btn-todo"" onclick=""handleAddTodo()""&gt;Add&lt;/button&gt;

    &lt;div class=""todo-list""&gt;&lt;/div&gt;

 &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
<p>base on your code i think you are new to programing. i recommend you to use an IDE(vs code) for better code formatting.</p>
<p>you don't really need a loop for that.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt;
&lt;html lang=""en""&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;script&gt;

let names = [];
let todoListHTML = ''

function handleAddTodo(){

     const todo_input = document.querySelector('.js-input-todo')
     const todoValue = todo_input.value
     const result = document.querySelector('.todo-list')


     names.push(todoValue)

     let todoName = names[names.length-1]
     const html = `&lt;p&gt;${todoName}&lt;/p&gt;`
     result.innerHTML +=html
     todo_input.value = ''
}

&lt;/script&gt;


&lt;body&gt;
    &lt;p class=""title""&gt; Todo List &lt;/p&gt;
    &lt;input type=""text"" class=""js-input-todo"" placeholder=""Todo name""&gt;
    &lt;button type=""submit"" class=""js-btn-todo"" onclick=""handleAddTodo()""&gt;Add&lt;/button&gt;

    &lt;div class=""todo-list""&gt;&lt;/div&gt;

 &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
","2024-07-20 08:56:17","1","Answer"
"78771974","78771614","","<p>By default, if a function's execution doesn't end at a <code>return</code> statement, or if the <code>return</code> keyword doesn't have an expression after it, then the <code>return</code> value is <em><strong><code>undefined</code></strong></em>.</p>
<p><em><code>xhrcall()</code> <code>return</code>s <code>undefined</code></em> <sup>[1]</sup></p>
<p>This value is assigned to <code>fn</code> and neither the global property <code>undefined</code> nor the primitive value <code>undefined</code> are invocable hence your observations are consistent.</p>
<hr/>
<p>If you need the value that the arrow function assigned to <code>xhr.onload</code> will <code>return</code>, you have to find a different way to collect that value since the arrow function will not be invoked synchronously.</p>
<p>You can collect that value using an <code>EventTarget</code> that an <code>Event</code> will be dispatched to when the arrow function assigned to <code>xhr.onload</code> is fired and completes. <code>Event</code> listeners listening to this <code>EventTarget</code> will be invoked when this <code>Event</code> is dispatched.</p>
<p>For example:</p>
<pre><code>const xhrApiTarget = <b>new EventTarget()</b></code></pre>
<pre><code>xhr.onload = () => {
    let x = xhr.status == 200 ? xhr.response : false
    const apiResEvt = <b>new Event(""api-res"")</b>
    apiResEvt.<b>response</b> = x
    xhrApiTarget.<b>dispatchEvent</b>(apiResEvt)
}</code></pre>
<pre><code>xhrApiTarget.<b>addEventListener(""api-res"", (apiResEvt) => { apiResEvt.response })</b></code></pre>
<hr/>
<p><sub><sup>[1]</sup> Don’t confuse with the <code>return</code> in the arrow function assigned to <code>xhr.onload</code>.</sub></p>
","2024-07-20 06:02:51","1","Answer"
"78771883","78767691","","<p>Try this ,</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;/head&gt;
    &lt;script&gt;
        let names = [];
        let todoListHTML = ''

function handleAddTodo(){
  const todo_input = document.querySelector('.js-input-todo').value;
  const todoValue = todo_input.value
  const result = document.querySelector('.todo-list');
 
  names.push(todoValue); 
   const html = `&lt;p&gt;${todo_input} &lt;/p&gt;`
   todoListHTML = html;
  result.innerHTML +=todoListHTML;
  todo_input.value = '';
}
&lt;/script&gt;

&lt;body&gt;
    &lt;p class=&quot;title&quot;&gt; Todo List &lt;/p&gt;
    &lt;input type=&quot;text&quot; class=&quot;js-input-todo&quot; placeholder=&quot;Todo name&quot;&gt;
    &lt;button type=&quot;submit&quot; class=&quot;js-btn-todo&quot; onclick=&quot;handleAddTodo()&quot;&gt;Add&lt;/button&gt;

    &lt;div class=&quot;todo-list&quot;&gt;&lt;/div&gt;

 &lt;/body&gt;
&lt;/html&gt;

</code></pre>
","2024-07-20 05:05:50","0","Answer"
"78771762","","Terminating sub orchestrator in azure durable function","<p>Is it possible to terminate sub-orchrastrators. How is it done?</p>
<p>Scenario. I have an orchestrator calling 2 sub-orchestrators</p>
<p>I want to terminate just one of them. Is it possible? I use python.</p>
","2024-07-20 03:16:38","0","Question"
"78771614","","Why my javascript function detected as not function on callback?","<p>recently I try to jump into coding again after stopping for almost 7 years long.
What I'm troubled now is a simple case where function became &quot;not&quot; function on callback.</p>
<p>Here is where it happens:</p>
<pre><code>function xhrcall() {
   let xhr = new XMLHttpRequest();
   xhr.responseType = &quot;json&quot;;
   xhr.open(&quot;POST&quot;, &quot;/api&quot;, true);
   xhr.setRequestHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;);
   xhr.send(&quot;token=xxxxxxx&quot;);
   xhr.onload = () =&gt; {
      let x = xhr.status == 200 ? xhr.response : false;     //console.log(x) gives proper response
      return x;
   }
}
</code></pre>
<p>When I try to declare it in variable or use it as callback it gives me <strong>Uncaught Error</strong>.</p>
<p>For example if I declare it like this</p>
<pre><code>let fn = xhrcall()
console.log(fn)        //will gives me undefined result
</code></pre>
<pre><code>window.callback = xhrcall()
callback()             //will gives uncaught error not a function
</code></pre>
<p>As I recalled, this should be fine and working yet it not.</p>
<p>This could be duplicate questions but I hope someone could explain what is actually wrong here. Did I miss the function scope? or is it the problem with return x?</p>
<p>Thank you.</p>
","2024-07-20 01:19:56","0","Question"
"78771164","78771116","","<p>I'd suggest to return a dataframe from the function. Then use lapply to call that function, the outputs from the lapply will be then assigned to a list object that would hold all the dataframes.</p>
<p>Something like this (not tested):</p>
<pre><code>read_report &lt;- function(df_name = NULL){
  file_path &lt;- choose.files(multi = FALSE,
                            filters = cbind(&quot;Excel (*.xlsx)&quot;, &quot;*.xlsx&quot;), 
                            caption = &quot;Select Excel File&quot;)
  wb = loadWorkbook(paste0(file_path))
  df_data &lt;- read.xlsx(wb, 1, colNames = TRUE)
  return(df_data)
  }

list_dfs &lt;- c(&quot;df_workers&quot;, &quot;df_headcount&quot;, &quot;df_terms&quot;)

myList &lt;- lapply(list_dfs, read_report)
</code></pre>
<p>Also, note, there was a typo in your function definition. It is fixed.</p>
","2024-07-19 20:44:25","2","Answer"
"78771116","","Pass element form character vector in loop to function and use in assign","<p>I have a function that chooses, reads and formats Excel reports from Workday, and produces data.frames. I've simplified for purposes of begging for your help. :-)</p>
<p>In the function, I pass a parameter called <code>df_name</code>. I want to pass this parameter in a loop to produce many data.frames in a single call.</p>
<pre><code>library(openxlsx)
read_report &lt;- function(
     df_name=NULL
     wb= loadWorkbook(paste0(file_path))
     file_path &lt;- choose.files(multi = FALSE, filters = cbind(&quot;Excel (*.xlsx)&quot;, &quot;*.xlsx&quot;), caption = &quot;Select Excel File&quot;)
          df_data &lt;- read.xlsx(wb,1,colNames = TRUE)
     assign(substitute(df_name), df_data, envir=.GlobalEnv)
)
</code></pre>
<p>I have a vector of character strings <code>list_dfs</code> that represent the names of different data.frames:</p>
<pre><code>list_dfs &lt;- c(&quot;df_workers&quot;, &quot;df_headcount&quot;, &quot;df_terms&quot;)
</code></pre>
<p>I have a loop that iterates <code>list_df</code> which passes the parameter <code>df_name</code> the function  <code>read_report</code></p>
<pre><code>for (i in list_dfs) {
   read_report(df_name = i)
}
</code></pre>
<p>This line causes the function to break.</p>
<pre><code>assign(substitute(df_name), df_data, envir=.GlobalEnv)
</code></pre>
<p>What's goofy is that when I do this, as I do routinely, outside of a loop, I have no problem, as in the following:</p>
<pre><code>read_report(df_name = &quot;df_workers&quot;)
</code></pre>
<p>Why does that line choke on the variable <code>i</code>, which is of character type, and not the explicit parameter <code>df_worker</code>?</p>
<p>I can't figure it out. Any help would be appreciated.</p>
","2024-07-19 20:25:07","1","Question"
"78769656","78769604","","<p>Just create a function and pass the option index as a parameter, like</p>
<pre><code>function yourFunction(optionIndex) {
    let quizCheckOption = document.querySelectorAll ('.js-quiz_step2check'+optionIndex+'_option-popup');
    let quizCheckImg = document.querySelectorAll ('.js-quiz_step2check'+optionIndex+'_img');
    let quizCheckTitle = document.querySelectorAll ('.js-quiz_step2check'+optionIndex+'_title');
    quizCheckOption.forEach(label =&gt; {
        label.addEventListener('click', function() {
            quizCheckImg.forEach(img =&gt; {
                img.setAttribute (&quot;src&quot;, label.dataset.src);
                document.getElementById('quiz2-option-'+optionIndex).checked=true;
            })
            quizCheck3Title.forEach(title =&gt; {
                title.innerText = label.dataset.name;
            })
        })
    })
}
</code></pre>
<p>then you can call it 3 times, or as many as you need (<code>yourFunction(2)</code>)</p>
","2024-07-19 13:31:23","0","Answer"
"78769604","","How to optimize three almost-the-same functions into one?","<p>so basically i have this:</p>
<pre><code>let quizCheck1Option = document.querySelectorAll ('.js-quiz_step2check1_option-popup');
let quizCheck1Img = document.querySelectorAll ('.js-quiz_step2check1_img');
let quizCheck1Title = document.querySelectorAll ('.js-quiz_step2check1_title');
    quizCheck1Option.forEach(label =&gt; {
        label.addEventListener('click', function() {
            quizCheck1Img.forEach(img =&gt; {
                img.setAttribute (&quot;src&quot;, label.dataset.src);
                document.getElementById('quiz2-option-1').checked=true;
            })
            quizCheck1Title.forEach(title =&gt; {
                title.innerText = label.dataset.name;
            })
        })
    })

let quizCheck2Option = document.querySelectorAll ('.js-quiz_step2check2_option-popup');
let quizCheck2Img = document.querySelectorAll ('.js-quiz_step2check2_img');
let quizCheck2Title = document.querySelectorAll ('.js-quiz_step2check2_title');
    quizCheck2Option.forEach(label =&gt; {
        label.addEventListener('click', function() {
            quizCheck2Img.forEach(img =&gt; {
                img.setAttribute (&quot;src&quot;, label.dataset.src);
                document.getElementById('quiz2-option-2').checked=true;
            })
            quizCheck2Title.forEach(title =&gt; {
                title.innerText = label.dataset.name;
            })
        })
    })

let quizCheck3Option = document.querySelectorAll ('.js-quiz_step2check3_option-popup');
let quizCheck3Img = document.querySelectorAll ('.js-quiz_step2check3_img');
let quizCheck3Title = document.querySelectorAll ('.js-quiz_step2check3_title');
    quizCheck3Option.forEach(label =&gt; {
        label.addEventListener('click', function() {
            quizCheck3Img.forEach(img =&gt; {
                img.setAttribute (&quot;src&quot;, label.dataset.src);
                document.getElementById('quiz2-option-3').checked=true;
            })
            quizCheck3Title.forEach(title =&gt; {
                title.innerText = label.dataset.name;
            })
        })
    })
</code></pre>
<p>These three blocks of code are the same except 1-2-3 numbers (quizCheck1-, quizCheck2-, quizCheck3-). I am sure there is a way to optimize this.
I'm a newbie at JS so any other suggestions to improve the code would be appreciated!</p>
<p>I am sure there is a way to make these three blocks into one but with swithing those 1-2-3 numbers with something like i++ thingy...</p>
","2024-07-19 13:22:49","0","Question"
"78769028","","Postgresql creating a function to update a field with a subset of another","<p>When adding new data to an existing table, I am trying to populate an existing field with a subset of data from another field. I'm using PGAdmin on postgres version 9 with postGIS extension</p>
<p>To achieve this I'm trying to create a function and trigger. This is what I have but I cant get it to run correctly - I'm getting syntax errors but not sure where.
The function is</p>
<pre><code>CREATE or REPLACE FUNCTION update_tp_tag_field()
   RETURNS TRIGGER as $$
   BEGIN
   SET NEW.&quot;telco pole tag&quot; = RIGHT((NEW.&quot;structure name&quot;), STRPOS(REVERSE(NEW.&quot;structure name&quot;),':')-1);
   RETURN NEW;
   END;
   $$ language sql;

</code></pre>
<p>and the trigger is:</p>
<pre><code>CREATE TRIGGER populate_tp_tag_field
   BEFORE INSERT on data.PIA_Point_Structures
   FOR EACH ROW
   EXECUTE FUNCTION update_tp_tag_field();

</code></pre>
<p>The trigger saved ok, but the function gives a syntax error:
ERROR: syntax error at or near &quot;CREATE&quot; LINE 6: AS
$BODY$CREATE or REPLACE FUNCTION update_tp_tag_field()</p>
<p>or if added from scratch I get:
ERROR: SQL functions cannot return type trigger
SQL state: 42P13</p>
<p>I tried a less complex function to try and identify some of the syntax errors:</p>
<pre><code>BEGIN
NEW.&quot;telco pole tag&quot; = &quot;structure name&quot;;
RETURN NEW;
</code></pre>
<p>and although that was accepted, it didnt produce any results in the field at all. Any help getting this to work would be appreciated</p>
","2024-07-19 11:08:08","0","Question"
"78767941","78767691","","<pre><code>    const names = [];
    const result = document.querySelector(&quot;.todo-list&quot;);
    const todo_input = document.querySelector(&quot;.js-input-todo&quot;);
    function handleAddTodo() {
      const todoValue = todo_input.value;
      const html = document.createElement(&quot;p&quot;);
      html.innerHTML = todoValue;
      result.append(html);
      names.push(todoValue);
      todo_input.value = &quot;&quot;;
      console.log(names, &quot;names&quot;);
    }
</code></pre>
","2024-07-19 06:58:41","0","Answer"
"78767691","","Todo list using array and loop","<p>I want to create a todo list using array and loop and display the list in div container. I am able to display the list but it is muliplying the same list stored and is displayed.</p>
<pre><code>&lt;body&gt;
    &lt;p class=&quot;title&quot;&gt; Todo List &lt;/p&gt;
    &lt;input type=&quot;text&quot; class=&quot;js-input-todo&quot; placeholder=&quot;Todo name&quot;&gt;
    &lt;button type=&quot;submit&quot; class=&quot;js-btn-todo&quot; onclick=&quot;handleAddTodo()&quot;&gt;Add&lt;/button&gt;

    &lt;div class=&quot;todo-list&quot;&gt;&lt;/div&gt;

 &lt;script src=&quot;script/11-arrays-loop.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;

//script 

let names = []

let todoListHTML = ''

function handleAddTodo(){
  const todo_input = document.querySelector('.js-input-todo');
  const todoValue = todo_input.value
  const result = document.querySelector('.todo-list');
 
  names.push(todoValue);
  for(let i = 0; i &lt;  names.length ; i++){
   let todoName = names[i]
   const html = `&lt;p&gt;${todoName} &lt;/p&gt;`
   todoListHTML = html;
   result.innerHTML +=todoListHTML;
   
   todo_input.value = '';
  }
  
  

}
</code></pre>
<p>I want to the array value to not repeat and displayed in the output</p>
","2024-07-19 05:47:05","-1","Question"
"78763717","78763674","","<p>It has to do with javascript automatic semicolon insertion.
If a line starts with one of the below special character</p>
<p><strong>(, [, `, +, / -</strong> then the previous line should end with a semicolon.</p>
<p>This line <code>[a, b] = [b, a % b];</code> starts with <code>[</code> but in the previous line is <code>console.log</code> does not end with <code>;</code></p>
<p>In your case you need to add a semicolon like <code>console.log(a,b);</code></p>
","2024-07-18 10:06:22","2","Answer"
"78763674","","Why is the below piece of code giving error when I add console log line and working fine if I remove it?","<p>The code below works fine if I remove the console log line but not with it</p>
<pre><code>function gcd(a, b) {
    while (b !== 0) {
        console.log(a,b)
        [a, b] = [b, a % b];
    }
    return a;
}

console.log(gcd(4,96))
</code></pre>
<p>The error I am getting</p>
<pre><code>TypeError: Cannot set properties of undefined (setting '96')
    at gcd (C:\Users\Rajashekar\example.js:332:16)
    at Object.&lt;anonymous&gt; (C:\Users\Rajashekar\example.js:337:13)
    at Module._compile (node:internal/modules/cjs/loader:1241:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1295:10)
    at Module.load (node:internal/modules/cjs/loader:1091:32)
    at Module._load (node:internal/modules/cjs/loader:938:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:83:12)
    at node:internal/main/run_main_module:23:47
</code></pre>
","2024-07-18 09:58:39","0","Question"
"78759993","78759802","","<p>You could use a mixin...</p>
<pre><code>function requireCheckC(callable){
    return function(inputParam){
        if(!inputParam.valueC) {
            // Do error handling
            return;
        }
        return callable(inputParam);
    }
}

const funcA = requireCheckC(function(inputParam) {
    if(!inputParam.valueA) {
       // Do error handling
       return;
    }
    // Do stuff
});
</code></pre>
<p>Basically the requireCheckC will return a function that first checkC and then follow with the execution of the function passed in parameter.</p>
<p>While I'd still say the best way would be to use error throwing for... well, handling errors...</p>
","2024-07-17 14:07:43","-1","Answer"
"78759802","","Common check for two functions which prevents calling functions from executing further","<p>Let's say we have two functions which first do some parameter checking. They return early if the checks are not met. Then they do stuff. Quite simple:</p>
<pre><code>function funcA (inputParam) {
  if(!inputParam.valueA) {
     // Do error handling
     return;
  }
  // Do stuff
}

function funcB (inputParam) {
  if(!inputParam.valueB) {
     // Do error handling
     return;
  }
  // Do stuff
}
</code></pre>
<p>Now, after implementing and using those functions frequently, we realize that there is another condition which needs to be met in both functions. Of course, we do not want to copy&amp;paste that parameter check, but re-use it for both functions. It is not that simple to put it into a function and call the function because the called function would need to make sure that the rest of the caller function is not executed if the param check fails.</p>
<p>A function like</p>
<pre><code>function checkC (inputParam) {
  if(!inputParam.valueC) {
     // Do error handling
     return;
  }
}
</code></pre>
<p>will not work, because if we call it like</p>
<pre><code>function funcA (inputParam) {
  checkC(inputParam)
  // Do stuff
}
</code></pre>
<p>then it will always reach <code>Do stuff</code> no matter the outcome of the parameter check, but if you do</p>
<pre><code>function funcA (inputParam) {
      return checkC(inputParam)
      // Do stuff
    }
</code></pre>
<p>then <code>Do stuff</code> will never be reached of course.</p>
<p>So, what would be the most elegant way which requires the least refactoring?</p>
<p>Ideas I came up with:</p>
<ol>
<li>Build a common function which would to be called first like</li>
</ol>
<pre><code>function commonFunction(inputParam, proceedWithAOrB) {
  if(!inputParam.valueC) {
    // Do error handling
    return;
  }
  if(proceedWithAOrB === 'a') {
    return funcA (inputParam);
  }
  if(proceedWithAOrB === 'b') {
    return funcB (inputParam);
  }
}
</code></pre>
<p>But that would require a significant amount of refactoring.</p>
<ol start=""2"">
<li>Split up the common function into one which checks the param and one which does the error handling like</li>
</ol>
<pre><code>    function checkParamC (inputParam) {
      if(!inputParam.valueC) {
         return false;
      }
      return true
    }
    
    function checkParamCErrorHandling (inputParam) {
      // Do error handling
    }
    
    function funcA (inputParam) {
      if(!checkParamC (inputParam)) {
         return checkParamCErrorHandling (inputParam);
      }
      // Do stuff
    }
</code></pre>
<p>That way, we would not need to copy&amp;paste actual logic, but it is still not very elegant.</p>
<p>I feel like that I'm missing something and there must be a more elegant solution to this?</p>
<p><strong>Edit</strong> For some reason, <code>throw new Error...</code> is not an option in my case.</p>
","2024-07-17 13:25:31","1","Question"
"78756787","78756676","","<p><code>self</code> is special :)</p>
<p>I think that the issue is that <code>local a = function() self.b;</code> is being immediately/serially evaluated (i.e. no lazy evaluation, as every <code>local</code>), hence it gets that <code>self</code> &quot;collapsed&quot; into its value at that time.</p>
<p>If you want that function to be lazy-evaluated, you'd need to pass such reference, for example (note I dupped the function verbatim for <code>c</code> and <code>cRoot</code> for the sake of just showing the same construct):</p>
<h2>foo.jsonnet</h2>
<pre class=""lang-jsonnet prettyprint-override""><code>{
  c: local a = function(ref) ref.b; { x: a(self), b: 'inner' },
  cRoot: local a = function(ref) ref.b; { x: a($), b: 'inner' },
  b: 'outer',
}
</code></pre>
<h2>output</h2>
<pre class=""lang-json prettyprint-override""><code>{
   &quot;b&quot;: &quot;outer&quot;,
   &quot;c&quot;: {
      &quot;b&quot;: &quot;inner&quot;,
      &quot;x&quot;: &quot;inner&quot;
   },
   &quot;cRoot&quot;: {
      &quot;b&quot;: &quot;inner&quot;,
      &quot;x&quot;: &quot;outer&quot;
   }
}
</code></pre>
","2024-07-16 21:21:28","-1","Answer"
"78756676","","Referential transparency of Jsonnet functions","<p>The <a href=""https://jsonnet.org/ref/language.html"" rel=""nofollow noreferrer"">Jsonnet Language Reference</a> has this to say about Jsonnet functions:</p>
<blockquote>
<p>Functions in Jsonnet are referentially transparent, meaning that any function call can be replaced with its definition, without changing the meaning of the program.</p>
</blockquote>
<p>Then why does the following Jsonnet program:</p>
<pre><code>{
    c: local a = function() self.b; {x: a(), b: 'inner'},
    b: 'outer'
}
</code></pre>
<p>manifest as follows:</p>
<pre><code>{
   &quot;b&quot;: &quot;outer&quot;,
   &quot;c&quot;: {
      &quot;b&quot;: &quot;inner&quot;,
      &quot;x&quot;: &quot;outer&quot;
   }
}
</code></pre>
<p>whereas the following program, which is the same as the first but for replacing the function <code>a</code> by its definition:</p>
<pre><code>{
    c: {x: self.b, b: 'inner'},
    b: 'outer'
}
</code></pre>
<p>manifest thus:</p>
<pre><code>{
   &quot;b&quot;: &quot;outer&quot;,
   &quot;c&quot;: {
      &quot;b&quot;: &quot;inner&quot;,
      &quot;x&quot;: &quot;inner&quot;
   }
}
</code></pre>
<p>which is different from the manifestation of the first program in the value associated with the <code>x</code> key?</p>
","2024-07-16 20:44:08","1","Question"
"78755983","78755584","","<p>As mentioned by LMc, you have multiple options. I just want to add the option to include <code>lapply()</code> in your function and add a parameter to select an element from the array.</p>
<pre><code>QA2Char_dec &lt;- function(num, arr_sel = all()){
  # Decimal to binary
  
  char &lt;- lapply(num, function(.x){
    paste(sapply(strsplit(paste(rev(intToBits(.x))),&quot;&quot;),`[[`,2),
          collapse=&quot;&quot;)})
  # Extract the last 16 digits
  char &lt;- substr(char, 17, 32)
  
  # Create NA's
  char &lt;- ifelse(char == &quot;0000000000000000&quot;, NA_character_,
                 char)
  
  qa.arr &lt;- lapply(char,
                   function(.x){
                     c(substr(.x, 1, 1), # 15 Reserved
                     substr(.x, 2, 3), # 13-14 Aerosol Model
                     substr(.x, 4, 4), # 12 Glint Mask
                     substr(.x, 5, 8), # 8-11 QA AOD
                     substr(.x, 9, 11), # 5-7 Ajacency Mask
                     substr(.x, 12, 13), # 3-4 Land Water Snow/Ice Mask
                     substr(.x, 14, 16))[arr_sel]})
  
  return(qa.arr)
}

library(tidyverse)
QA.values &lt;- c(1, 1291, NA, 1288, 1000, NA) #numeric 
df &lt;- data.frame(QA.values)


df %&gt;%
  mutate(QA.check = QA2Char_dec(QA.values, 4))

  QA.values QA.check
1         1     0000
2      1291     0101
3        NA       NA
4      1288     0101
5      1000     0011
6        NA       NA
</code></pre>
","2024-07-16 17:28:30","0","Answer"
"78755584","","How to vectorize a custom function to use with mutate() and case_when() in R?","<p>I'm trying to run a custom function, QA2Char, to iterate down all the rows of a specific column in my dataframe and then append the output as a new column.</p>
<p>QA2Char takes a decimal/integer and outputs a character array of length 7. If the function's argument is an integer, I only want the string at index 4 in the new column. If the function's argument is NA, I just need the new column value at the same row to be NA as well.</p>
<p>Ideally, this should be easy to do, but I've run into two key issues: making sure that I have the right classes in case_when() and editing my custom function to allow vectors as arguments.</p>
<p>My custom function, QA2Char_dec, looks like this:</p>
<pre><code>QA2Char_dec &lt;- function(num) {
  if (!is.na(num)) {
    # Decimal to binary
    char &lt;- paste(sapply(strsplit(paste(rev(intToBits(num))),&quot;&quot;),`[[`,2),collapse=&quot;&quot;)
    # Extract the last 16 digits
    char &lt;- substr(char, 17, 32)
    # QA array
    qa.arr &lt;- c(substr(char, 1, 1), # 15 Reserved
                substr(char, 2, 3), # 13-14 Aerosol Model
                substr(char, 4, 4), # 12 Glint Mask
                substr(char, 5, 8), # 8-11 QA AOD
                substr(char, 9, 11), # 5-7 Ajacency Mask
                substr(char, 12, 13), # 3-4 Land Water Snow/Ice Mask
                substr(char, 14, 16)) # 0-2 Cloud Mask
  } else {
    qa.arr &lt;- rep(NA_character_, 7)
  }
  return(qa.arr)
}
</code></pre>
<p>This function takes a decimal (ex: 1291) and returns a character array of <code>&quot;0&quot; &quot;00&quot; &quot;0&quot; &quot;0101&quot; &quot;000&quot; &quot;01&quot; &quot;011&quot;</code>. I only need the string in index 4: <code>0101</code></p>
<p>As an example, I shoudl be able to run this function over a very basic dataframe with 1 column:</p>
<pre><code>library(tidyverse)
QA.values &lt;- c(1, 1291, NA, 1288, 1000, NA) #numeric 
df &lt;- data.frame(QA.values)
</code></pre>
<p>And append the output as a new column, QA.check:</p>
<pre><code>df &lt;- df %&gt;%
    mutate(QA.check = case_when(QA.values &gt;= 0 ~ QA2Char_dec(QA.values)[4], TRUE ~              NA_character_))

   QA.values   QA.check
1         1      0000
2      1291      0101
3        NA       NA
4      1288      0101
5      1000      0011
6        NA       NA
</code></pre>
<p>The dataframe above is what I need the final df to look like. However, I keep getting error messages about <code>Error in if (!is.na(num)) { : the condition has length &gt; 1</code>. I know that the custom function doesn't take vectors as arguments, but applying a function down a column and mutating the output to a new column shouldn't be this difficult!</p>
<p>I have also tried using <code>mutate(QA_Check = sapply(QA.values, QA2Char_dec)[4])</code>, but it ignores NA values and seems to just use the output of the first QA.value and repeat it for the rest of the column.</p>
<p>What can I change?</p>
","2024-07-16 15:57:21","0","Question"
"78755049","77749565","","<p>As jonathan-leffler said, in order to write in everything you need in a  file, adding a parameter FILE * could be a great idea</p>
<pre><code>void show(FILE *fd, int player, t_Pit p[], t_Pit s[], int win) {
    int a = player, o = !a; // 'a'ctive &amp; 'o'pponent

    int x = a ? 0 : 6;
    int y = a ? 6 : 0;
    char *str = win ? &quot;Wins the game\n\n&quot; : &quot;Select pit (1-6)\nSave board state (0): &quot;;
    fprintf(fd, 
        &quot;\n&quot;
        &quot;----+-----player%d-----+\n&quot;
        &quot;%2d  |%2d|%2d|%2d|%2d|%2d|%2d|\n&quot;
        &quot;----+-----------------+\n&quot;
        &quot;%2d  |%2d|%2d|%2d|%2d|%2d|%2d|\n&quot;
        &quot;----+-----player%d-----+\t&quot;

        &quot;\nPlayer %d %s&quot;,
        o,  s[o], p[y+5], p[y+4], p[y+3], p[y+2], p[y+1], p[y+0], // NB: custom indexing
        s[a], p[x+0], p[x+1], p[x+2], p[x+3], p[x+4], p[x+5], a,
        a, str
    );
}
</code></pre>
<p>Please note that it could also work with a classic <code>open()</code></p>
","2024-07-16 14:02:57","1","Answer"
"78754426","78751702","","<p>SFINAE happens only on &quot;direct&quot; context.
Here, template are fixed by class, and it becomes an hard error.</p>
<p>As you have C++20, you might use <code>requires</code>:</p>
<pre><code>template &lt;typename T&gt;
concept is_printable = requires(T t) { print(t); };
</code></pre>
<p><a href=""https://godbolt.org/z/fKPsxTEe7"" rel=""nofollow noreferrer"">Demo</a></p>
","2024-07-16 11:58:35","3","Answer"
"78752080","78752032","","<p>The Problem associated in your code is method calling. you are not calling method like lower() you are calling method reference like lower. You could replace lower to lower().</p>
","2024-07-15 22:22:38","1","Answer"
"78752049","78752032","","<p>The issue is that you're not actually envoking the <code>yn.lower</code> method, you're just comparing the function object to the string <code>&quot;n&quot;</code></p>
<pre><code>yn = &quot;&quot;
while (yn.lower() != &quot;n&quot;): # &lt;&lt;---- See yn.lower VS yn.lower()
    usr_choice = userChoice()
    com_choice = compChoice()
    winner(usr_choice, com_choice)
    yn = input(&quot;Would you like to continue? y/n: &quot;)
</code></pre>
","2024-07-15 22:06:56","4","Answer"
"78752032","","While loop won't end","<p>I have a while loop that calls on three functions. The three functions work as intended and at the end it asks for a user input. If the user input is 'n' the loop is supposed to end, but it continues regardless of what I put.</p>
<p>Here's my code:</p>
<pre><code>yn = &quot;&quot;
while (yn.lower != &quot;n&quot;):
    usr_choice = userChoice()
    com_choice = compChoice()
    winner(usr_choice, com_choice)
    yn = input(&quot;Would you like to continue? y/n: &quot;)
</code></pre>
<p>I've tried formatting the while loop in various ways and ensuring no variable names matched regardless of their location but I still can't end the loop by typing n or N. If possible I'd like to have the while loop end with either n or no, but first I need to get it working.</p>
","2024-07-15 22:00:10","0","Question"
"78751702","","How can I check if a certain function overload is invalid?","<p>I am making a type erased class <code>TypeErased</code> using <code>std::variant</code>, that could be an integer, a complex number, a vector, or an error.</p>
<p>While I am making the addition operator (which uses <code>std::visit</code>), I have come into a problem that I don't want certain types to be added together, and it seems very impractical to create overloads for every single unwanted combination.</p>
<p>For example, it should be able to add an integer with a complex number, but not a vector and an integer. To do this, I have tried to use SFINAE (I believe) to create a struct that can tell if a function overload exists:</p>
<pre><code>#include&lt;iostream&gt;
#include&lt;string&gt;

void print(int) {}

template&lt;auto FuncPtr, typename ...Args&gt;
struct FuncExists
{
  template&lt;typename = decltype(FuncPtr(std::declval&lt;Args&gt;()...))&gt;
  constexpr static std::true_type test(int);
  constexpr static std::false_type test(...);

  constexpr static bool value = decltype(test(0))::value;
};

int main()
{
  std::cout&lt;&lt;&quot;print string exists: &quot;&lt;&lt;FuncExists&lt;print, std::string&gt;().value;
}
</code></pre>
<p>I expected that it would be able to tell whether it was valid or not, but whenever I try to test it on something that shouldn't work, a compiler error is produced. When I try to pass <code>std::string</code>:</p>
<pre><code>error: cannot convert 'std::__cxx11::basic_string&lt;char&gt;' to 'int' in argument passing
12 |   constexpr static auto test(int) -&gt; decltype(FuncPtr(std::declval&lt;Args&gt;()...),        std::true_type());
</code></pre>
<p>Why does this not work, and how could I change it to make it work?</p>
<p>For clarity, I am trying to see if a certain overload exists for ANY function (like operator+, sin etc). So if I try to add a variant with an integer and a variant with a vector, it can throw an exception</p>
","2024-07-15 20:00:40","0","Question"
"78747858","78747703","","<p>You don't actually need to render all the data at the first time,just filter out the useful data,then render them at once using innerHTML instead of appendChild.
<div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;style&gt;
  .listItem {
    display: block;
  }
&lt;/style&gt;
&lt;input id=""searchbar"" type=""text""&gt;
&lt;button onclick=""search()""&gt;search&lt;/button&gt;
&lt;div id=""list""&gt;&lt;/div&gt;

&lt;script&gt;
  function search() {
    let listContainer = document.getElementById('list');
    let input = document.getElementById('searchbar').value;
    let listItem = ''
    if (input) {
      input = input.toLowerCase();
      let num = 0;
      parts.find((country, index) =&gt; {
        if (country.toLowerCase().includes(input)) {
          const link = links[index];
          listItem += `&lt;a class=""listItem"" href=""stens${link}""&gt;${country}&lt;/a&gt;`
          num++;
        }
        //limit 25 stop the Loop 
        return num === 25
      })
    }
    if (!listItem) listItem = 'noResults !';
   // render all listItem at once
    listContainer.innerHTML = listItem;
  }
  // Data to be used in the searchbar
  let parts = [
    '102-305 Air Filter for Kohler 25 083 01-S',
    '120-485 Oil Filter for Briggs &amp; Stratton 492932S',
    '100-780 Inner Air Filter for Kohler 25 083 04-S',
    '120-380 Transmission Filter for Exmark 1-513211',
    '120-712 Fuel Filter for John Deere AT17387',
    '102-604 Air Filter for John Deere AT171853',
    '102-600 Air Filter for John Deere AT20728',
    '102-077 Inner Air Filter for Toro 108-3816',
    '102-608 Inner Air Filter for John Deere AT171854',
    '102-073 Air Filter for Toro 108-3814',
    '435-221 Electric Starter for Kubota 1G772-63010',
    '120-764 Oil Filter for Bobcat 6511730',
    '079-2657 20"" Laminate Sprocket Nose Bar .325 pitch .050 gauge 78 DL',
    '435-954 Alternator for John Deere SE501843',
    '075-1847 18"" Replaceable Sprocket Nose Bar .325 pitch .058 gauge 72 DL',
    '075-4377 16"" Replaceable Sprocket Nose Bar .325 pitch .050 gauge 66 DL',
    '435-922 Electric Starter for John Deere TY6615'
  ];
  let links = [
    '/102-305/',
    '/120-485/',
    '/100-780/',
    '/120-380/',
    '/120-712/',
    '/102-604/',
    '/102-600/',
    '/102-077/',
    '/102-608/',
    '/102-073/',
    '/435-221/',
    '/120-764/',
    '/079-2657/',
    '/435-954/',
    '/075-1847/',
    '/075-4377/',
    '/435-922/'
  ];
&lt;/script&gt;</code></pre>
</div>
</div>
</p>
","2024-07-15 02:26:58","0","Answer"
"78747703","","Is there a way to limit the long list of search results in my live javascript search bar so it responds faster on desktop browsers?","<p>I have a javascript live search bar, it reads a .js file that holds the records. I added about 20,000 records to the original and an equal amount of corresponding links for those records. On my mobile device it is fast, works perfectly, no issues at all. Why? On desktop it slows down the browser quite a bit; possibly as much as :15 seconds after the first key stroke. I was looking for a way to limit the returned search results per keystroke, to 25 or so, instead of a giant list of all the results. My thought is, the html rendering of such a long list is the bottleneck on my desktop; but I don't really know. So far I am only using Firefox for desktop testing. Thank you all in advance for any ideas you may have to find a solution.</p>
<p>I am not a coding expert, I have limited experience with basic Javascript and searched all over, found some tips that I tried to no avail...</p>
<p>removed and replaced this line:</p>
<p>for (i = 0; i &lt; listItems.length; i++)</p>
<p>for (i = 0; i &lt; 25; i++)  ---- didn't work, was expecting the entire list to still be searched, but the displayed results would be limited to 25. It would only search the first 25 lines in the file.</p>
<p>Added this:</p>
<p>let list = document.getElementById('list').max = &quot;25&quot;;  ---- didn't work, had to remove because the search wouldn't work at all after.</p>
<p>Here is the code from my .js file; products and links reduced to 17 each.</p>
<pre><code>function search() {

let listContainer = document.getElementById('list');
let listItems = document.getElementsByClassName('listItem');
let input = document.getElementById('searchbar').value
input = input.toLowerCase();
let noResults = true;
for (i = 0; i &lt; listItems.length; i++) { 
    if (!listItems[i].innerHTML.toLowerCase().includes(input) || input === &quot;&quot;) {
        listItems[i].style.display=&quot;none&quot;;
        continue;
    }
    else {
        listItems[i].style.display=&quot;flex&quot;;
        noResults = false; 
    }

listContainer.style.display = noResults ? &quot;none&quot; : &quot;block&quot;;

}

}

function loadSearchData() {
  // Data to be used in the searchbar
let parts = [
    '102-305 Air Filter for Kohler 25 083 01-S',
    '120-485 Oil Filter for Briggs &amp; Stratton 492932S',
    '100-780 Inner Air Filter for Kohler 25 083 04-S',
    '120-380 Transmission Filter for Exmark 1-513211',
    '120-712 Fuel Filter for John Deere AT17387',
    '102-604 Air Filter for John Deere AT171853',
    '102-600 Air Filter for John Deere AT20728',
    '102-077 Inner Air Filter for Toro 108-3816',
    '102-608 Inner Air Filter for John Deere AT171854',
    '102-073 Air Filter for Toro 108-3814',
    '435-221 Electric Starter for Kubota 1G772-63010',
    '120-764 Oil Filter for Bobcat 6511730',
    '079-2657 20&quot; Laminate Sprocket Nose Bar .325 pitch .050 gauge 78 DL',
    '435-954 Alternator for John Deere SE501843',
    '075-1847 18&quot; Replaceable Sprocket Nose Bar .325 pitch .058 gauge 72 DL',
    '075-4377 16&quot; Replaceable Sprocket Nose Bar .325 pitch .050 gauge 66 DL',
    '435-922 Electric Starter for John Deere TY6615'


  ];

let links = [
    '/102-305/',
    '/120-485/',
    '/100-780/',
    '/120-380/',
    '/120-712/',
    '/102-604/',
    '/102-600/',
    '/102-077/',
    '/102-608/',
    '/102-073/',
    '/435-221/',
    '/120-764/',
    '/079-2657/',
    '/435-954/',
    '/075-1847/',
    '/075-4377/',
    '/435-922/'


  ];

// Get the HTML element of the list
let list = document.getElementById('list');
// Add each data item as an &lt;a&gt; tag
    parts.forEach((country, index)=&gt;{
    const link = links[index];
    let a = document.createElement(&quot;a&quot;);
    a.innerText = country;
    a.href = `stens${link}`;
    a.classList.add(&quot;listItem&quot;);
    list.appendChild(a);
})


}
</code></pre>
","2024-07-15 00:35:51","0","Question"
"78747297","78744982","","<pre><code>import inspect
import sys
from pathlib import Path

class LoggerHelper:

    @staticmethod
    def get_current_file_path():
        return inspect.getfile(inspect.currentframe())

    @staticmethod
    def get_current_file_name():
        return Path(LoggerHelper.get_current_file_path()).name

    @staticmethod
    def get_current_function_name():
        return inspect.currentframe().f_code.co_name

    @staticmethod
    def get_current_function_args():
        frame = inspect.currentframe()
        return inspect.getargvalues(frame).args

    @staticmethod
    def get_calling_function_name():
        return sys._getframe(2).f_code.co_name

    @staticmethod
    def get_calling_file_path():
        return sys._getframe(2).f_code.co_filename

    @staticmethod
    def get_calling_file_name():
        return Path(LoggerHelper.get_calling_file_path()).name

    @staticmethod
    def get_calling_function_line_number():
        return sys._getframe(2).f_lineno

# Example usage
if __name__ == &quot;__main__&quot;:
    def sample_function():
        print(&quot;Current file path:&quot;, LoggerHelper.get_current_file_path())
        print(&quot;Current file name:&quot;, LoggerHelper.get_current_file_name())
        print(&quot;Current function name:&quot;, LoggerHelper.get_current_function_name())
        print(&quot;Current function arguments:&quot;, LoggerHelper.get_current_function_args())
        print(&quot;Calling function name:&quot;, LoggerHelper.get_calling_function_name())
        print(&quot;Calling file path:&quot;, LoggerHelper.get_calling_file_path())
        print(&quot;Calling file name:&quot;, LoggerHelper.get_calling_file_name())
        print(&quot;Calling function line number:&quot;, LoggerHelper.get_calling_function_line_number())

    def calling_function():
        sample_function()

    calling_function()
</code></pre>
","2024-07-14 19:31:13","1","Answer"
"78747045","78746548","","<p>Maybe something like the following solves the problem.<br />
The code where the t-test is performed is changed to check the number of levels of <code>g</code> first. If <code>g</code> has exactly 2 levels a t-test is performed, if not, an ANOVA is performed.</p>
<pre><code>pvalue &lt;- function(x, ...) {
  # Construct vectors of data y, and groups (strata) g
  y &lt;- unlist(x)
  g &lt;- factor(rep(1:length(x), times = lengths(x)))
  if (is.numeric(y)) {
    # For numeric variables, perform a standard 2-sample t-test
    if(nlevels(g) == 2L) {
      p &lt;- t.test(y ~ g)$p.value
    } else if(nlevels(g) &gt; 2L) {
      a &lt;- aov(y ~ g) |&gt; summary()
      p &lt;- a[[1L]][[&quot;Pr(&gt;F)&quot;]][1L]
    } else stop(&quot;Factor with less than 2 levels.&quot;)
  } else if(is.character(y) || is.factor(y)){
    # For categorical variables, perform a chi-squared test of independence
    p &lt;- chisq.test(table(y, g))$p.value
  } else { 
    # not implemented
    warning(&quot;Not implemented, returning NULL.&quot;)
    return(invisible(NULL))
  }
  # Format the p-value, using an HTML entity for the less-than sign.
  # The initial empty string places the output on the line below the variable label.
  c(&quot;&quot;, sub(&quot;&lt;&quot;, &quot;&amp;lt;&quot;, format.pval(p, digits=3, eps=0.001)))
}
</code></pre>
","2024-07-14 17:41:28","0","Answer"
"78746548","","How to modify the function in Table1 package to get a p value for ANOVA","<p>I am using R markdown and trying to simulate the vignette for table1 package on the following link and using the melanoma2 data set.
The link: <a href=""https://cran.r-project.org/web/packages/table1/vignettes/table1-examples.html"" rel=""nofollow noreferrer"">Using the table1 Package to Create HTML Tables of Descriptive Statistics (r-project.org)</a></p>
<p>I got the to the step of creating an extra column for example creating a column for the p value and creating the following function for the p value.
This function works on 2 variables only and it gives the p value for chisquare test for categorical variable or paired t test for numerical variables.</p>
<pre><code>pvalue &lt;- function(x, ...) {
    # Construct vectors of data y, and groups (strata) g
    y &lt;- unlist(x)
    g &lt;- factor(rep(1:length(x), times=sapply(x, length)))
    if (is.numeric(y)) {
        # For numeric variables, perform a standard 2-sample t-test
        p &lt;- t.test(y ~ g)$p.value
    } else {
        # For categorical variables, perform a chi-squared test of independence
        p &lt;- chisq.test(table(y, g))$p.value
    }
    # Format the p-value, using an HTML entity for the less-than sign.
    # The initial empty string places the output on the line below the variable label.
    c(&quot;&quot;, sub(&quot;&lt;&quot;, &quot;&amp;lt;&quot;, format.pval(p, digits=3, eps=0.001)))
}
</code></pre>
<p>My question is : How to create a function to give the P value for ANOVA test between 3 or more groups?</p>
<p>I tried the same as a above but changed the table to create 3 groups for a numeric variable and changed the function as per the following but it did not work !.</p>
<pre><code>pvalue &lt;- function(x, ...) {
    # Construct vectors of data y, and groups (strata) g
    y &lt;- unlist(x)
    g &lt;- factor(rep(1:length(x), times=sapply(x, length)))
    if (is.numeric(y)) {
        # For numeric variables, perform a standard 2-sample t-test
        p &lt;- t.test(y ~ g)$p.value
    } else {
        # For categorical variables, perform a chi-squared test of independence
        p &lt;- chisq.test(table(y, g))$p.value
} else { 
# For more than 2 numeric variables, perform ANOVA test
p &lt;- aov (table(y, g))$p.value
    }
    # Format the p-value, using an HTML entity for the less-than sign.
    # The initial empty string places the output on the line below the variable label.
    c(&quot;&quot;, sub(&quot;&lt;&quot;, &quot;&amp;lt;&quot;, format.pval(p, digits=3, eps=0.001)))
}
</code></pre>
<p>How can I modify the function to give P value for ANOVA when there are 3 or more groups for the numeric variables?</p>
","2024-07-14 13:53:06","0","Question"
"78744983","78744982","","<p>Here are all needed code examples for this purpose:</p>
<p><strong>To get the file path do this:</strong></p>
<pre><code>import inspect
...
source_file_path = inspect.getfile(inspect.currentframe())
</code></pre>
<p>Or this:</p>
<pre><code>source_file_path = __file__
</code></pre>
<p>Or this:</p>
<pre><code>import sys
...
source_file_path = sys._getframe().f_code.co_filename
</code></pre>
<p>All of them return the same thing: The full path of the file in which the calling function resides:</p>
<pre><code>/home/james/Documents/pythonExamples/example1.py
</code></pre>
<p><strong>If you wan to get only the file name use 'Path' to help you:</strong></p>
<pre><code>from pathlib import Path
...
source_file_path = Path(source_file_path).name
</code></pre>
<p><strong>To get the current function name do this:</strong></p>
<pre><code>import sys
...
source_func_name = sys._getframe().f_code.co_name
</code></pre>
<p>Or this:</p>
<pre><code>import inspect
...
source_func_name = inspect.currentframe().f_code.co_name
</code></pre>
<p><strong>If you'd like to also get the arguments' list of current function do this:</strong></p>
<pre><code>import inspect
...
frame = inspect.currentframe()
argsList = inspect.getargvalues(frame).args
</code></pre>
<p><strong>If you need the name of the calling function (one step back in the call-stack) - do this:</strong></p>
<pre><code>import sys
...
calling_function_name = sys._getframe().f_back.f_code.co_name
</code></pre>
<p><strong>If you also want the calling function file name - do this:</strong></p>
<pre><code>calling_file_name = Path(sys._getframe().f_back.f_code.co_filename).name
</code></pre>
<p><strong>And if you want the calling function line number in its file do this:</strong></p>
<pre><code>calling_function_line = sys._getframe().f_back.f_lineno
</code></pre>
<p>Hope this had helped.</p>
","2024-07-13 21:04:18","1","Answer"
"78744982","","How to get the current function name and file name and location (path) in python ? And how to get the calling function data as-well?","<p>I've been searching for some useful code examples on this subject for creating a simple logger for my program.</p>
<p>Here are the things I've searched:</p>
<ol>
<li>Getting the current function info (name, arguments, file name and path)</li>
<li>Getting the calling function into (name, file name and path, line number)</li>
</ol>
<p>For some reason this information is scattered over many posts and locations and it would be nice to have them in one single location.</p>
","2024-07-13 21:04:18","0","Question"
"78741508","78741479","","<p>The main issue is that you are not correctly passing the average score to the <code>grades</code> function. You need to call the <code>grades</code> function with the result of the <code>getAvg</code> function like:</p>
<pre><code>avg = getAvg()
grades(avg)
</code></pre>
<p>Also, your <code>getAvg</code> function can be optimized further by</p>
<pre><code>def getAvg():
    grades_input = input('Type in your grades separated by spaces: ')
    grade_list = grades_input.split()
    scores = [int(grade) for grade in grade_list]  # Convert input to list of integers
    avg = sum(scores) / len(scores)  # Calculate average
    return avg
</code></pre>
","2024-07-12 16:57:48","0","Answer"
"78741479","","is there a way to get the avg score into the grades function without it having an error","<p>I'm  relearning python and I decided to make a student grade analyzer program where you enter your grades then it gets the avg of all grades and go to grades function that I made and checks what grades.</p>
<pre><code># Define Grades 
def grades(score) :
    if score &gt;= 90 and score &lt;= 100:
        print('A')
    elif score &gt;= 80 and score &lt;= 89:
        print('B')
    elif score &gt;= 70 and score &lt;= 79:
        print('C')
    elif score &gt;= 60 and score &lt;= 69:
        print('D')
    else:
        print('F')

def getAvg():
    grades_input = input('Type in your grades no commas ')
    grade_list = grades_input.split()
    scores = []
    i = 0
    for grade in grade_list:
        if ( i &lt; len(grade_list)):
            scores.append(int(grade))
    avg = lambda x: sum(scores) / len(scores)
    return avg(scores)

getAvg()
grades(getAvg)
</code></pre>
<p>i tried puting the get avg function inside <code>grades()</code> when I called it I tried putting the scores inside the <code>grades</code> nothing, the <code>getAvg()</code> function works completely fine and proud of it no Ai used but my expextions was that the user puts in grades lets say the grades were <code>44 53 22 30</code> and lets say the avg was <code>78</code> and like it will go back to the grades function and print out 'C</p>
","2024-07-12 16:49:13","0","Question"
"78740990","78740845","","<blockquote>
<p>It doesn't have to use the OneOf-Package</p>
</blockquote>
<p>If it doesn't have to use your package, you can use standard C# and switch expressions with pattern matching to achieve the same (and probably more efficiently as well):</p>
<pre><code>object? input = ...; // or common interface or class
var name = input switch
{
    ClassA { } classA =&gt; classA.Name,
    ClassB { } classB =&gt; classB.Name,
    ClassC { } classC =&gt; classC.Name,
};
</code></pre>
<p>Alternatively, you can also use <code>dynamic</code> code for duck typing:</p>
<pre><code>dynamic input = ...;
var name = input.Name;
</code></pre>
","2024-07-12 14:48:36","0","Answer"
"78740967","78740845","","<p><strong>You can use a lambda function based on the type of input and get the appropriate name accordingly.</strong></p>
<p>Refer the code below:</p>
<pre><code>using System;
using OneOf;

public class ClassA
{
    public string Name { get; set; }

    public ClassA(string name)
    {
        Name = name;
    }
}

public class ClassB
{
    public string Name { get; set; }

    public ClassB(string name)
    {
        Name = name;
    }
}

public class ClassC
{
    public string Name { get; set; }

    public ClassC(string name)
    {
        Name = name;
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        var A = new ClassA(&quot;Paul&quot;);
        var B = new ClassB(&quot;John&quot;);
        var C = new ClassC(&quot;Sam&quot;);

        OneOf&lt;ClassA, ClassB, ClassC&gt; inputA = A;
        OneOf&lt;ClassA, ClassB, ClassC&gt; inputB = B;
        OneOf&lt;ClassA, ClassB, ClassC&gt; inputC = C;

        Console.WriteLine(&quot;Class A Name : &quot;+GetName(inputA)); // Class A Name : Paul
        Console.WriteLine(&quot;Class B Name : &quot;+GetName(inputB)); // Class B Name : John
        Console.WriteLine(&quot;Class C Name : &quot;+GetName(inputC)); // Class C Name : Sam
    }


    /*
    * Method get Name given a OneOf from Class A , B , C
    */

    public static string GetName(OneOf&lt;ClassA, ClassB, ClassC&gt; input)
    {
        var variable = input.Match(
            classA =&gt; classA.Name,
            classB =&gt; classB.Name,
            classC =&gt; classC.Name
        );

        return variable;
    }
}
</code></pre>
<blockquote>
<p>Refer to the working .netfiddle <a href=""https://dotnetfiddle.net/fnq5vw"" rel=""nofollow noreferrer"">here</a></p>
</blockquote>
","2024-07-12 14:43:42","2","Answer"
"78740845","","How to get the value of an input variable from a function using OneOf C#","<p>I want to get the input value from a function.
I call the function:</p>
<pre><code>Name=GetName(Paul)
</code></pre>
<p>Where <code>Paul</code> is a member of <code>ClassA, ClassB</code> or <code>Class C</code>. I want to use the following function to call other functions with <code>Paul</code> as an input depending on the class <code>Paul</code> is really in.</p>
<pre><code>public static string GetName(OneOf&lt;ClassA,ClassB,ClassC&gt; input)
{
    var Variable = input.Match(
    ClassA =&gt; doSomethingWithA(input),
    ClassB =&gt; doSomethingWithB(input),
    ClassC =&gt; doSomethingWithC(input),
    );
}
</code></pre>
<p>When I try to <code>input.Value</code> or something like that, I just get the name of the class, but not <code>Paul</code>, which is unfortunate, because then I don't have the input I need for my functions <code>doSomethingWith</code>.</p>
<p>Has someone an idea how to solve this? It doesn't have to use the <code>OneOf</code>-Package.</p>
","2024-07-12 14:19:12","1","Question"
"78740136","78739864","","<p><strong>NEVER</strong> use <code>TO_DATE</code> on a value that is already a date.</p>
<pre class=""lang-sql prettyprint-override""><code>ld_datesub :=trunc(to_date(ad_submissiondate,'dd/mm/yyyy'));
</code></pre>
<p>Should, assuming <code>ad_submissiondate</code> is named as such because it is the <code>DATE</code> data-type, be:</p>
<pre class=""lang-sql prettyprint-override""><code>ld_datesub :=trunc(ad_submissiondate);
</code></pre>
<p>Similarly:</p>
<pre class=""lang-sql prettyprint-override""><code>WHERE TO_DATE(Fromdate, 'dd/mm/yyyy') &lt;= TO_DATE(ld_date, 'dd/mm/yyyy')
</code></pre>
<p>Should be:</p>
<pre class=""lang-sql prettyprint-override""><code>WHERE TRUNC(Fromdate) &lt;= TRUNC(ld_date)
</code></pre>
<p>and</p>
<pre class=""lang-sql prettyprint-override""><code>TRUNC(VALIDTO) &gt;= TO_DATE(ld_date, 'dd/mm/yyyy')
</code></pre>
<p>should be:</p>
<pre class=""lang-sql prettyprint-override""><code>TRUNC(VALIDTO) &gt;= TRUNC(ld_date)
</code></pre>
<p>and anywhere else you use <code>TO_DATE</code> the <code>TO_DATE</code> either needs removing or replacing with <code>TRUNC</code> (if you are intending on removing the time component from the date).</p>
","2024-07-12 11:32:01","2","Answer"
"78739864","","Oracle DB function to display with date manipulations","<p>I have created a PL SQL function to calculate amount based of rates stored in the database for different period, The function is supposed to iterate through given month and get the rate of each month and do calculation for all months and obtain the total amount for all month as the result.
Unfortunately the function display different results when run in different computer with different data format. Could i be missing the calculation of months in the logic?</p>
<p>This is the PL/SQL function to calculate amount based on different rate stored in Database declare the function and the amount it accepts</p>
<p>For instance  in this function the submission date is today 12 July 2024 and months is 7 it is supposed to iterate in the loop for 7 monthes but in some cases it iterate 7 months, others 6 months and other 4 months. what will i be missing the logic? kindly assist</p>
<p>``FUNCTION of_calc_function(ad_submissiondate IN DATE,  as_type IN VARCHAR,  as_group IN VARCHAR, an_months IN NUMBER,an_tax IN NUMBER,<code> </code>an_result OUT NUMBER, as_message OUT VARCHAR ) RETURN NUMBER IS`</p>
<p>Declaration of variables required for calculation given the request submission date and the month required to iterate</p>
<pre><code>ld_date                            DATE; 
ld_maxdate                      DATE; 
ln_rate                            NUMBER(10,4);
 ln_pn                        NUMBER(30,2); 
ln_pn_supprt                 NUMBER(30,2);
 ln_amount                       NUMBER(30,2); 
ln_spoint              NUMBER(30,2);
 ls_message                   VARCHAR2(4000); 
ld_pn_sdate                  DATE; 
ln_totval                    NUMBER(38,18); 
ln_totval_support            NUMBER(38,18); 
ln_months                    NUMBER; 
ld_datesub  DATE; 
BEGIN
ln_pn := 0;
ln_totval := 0;
ln_totval_support := 0;
ln_amount   := an_tax;
ln_months  := an_months;  
ld_datesub :=trunc(to_date(ad_submissiondate,'dd/mm/yyyy'));
--Minus the month acceptance from the function to get the start date to start  penalty calculation ld_pn_sdate:=trunc(to_date(ADD_MONTHS(ld_datesub,-ln_months),'dd/mm/yyyy'));

The following block is to select the maximim valid date from rate table and specific rates, then Iterates from the current month to the last valid date to get the amount

SELECT TRUNC(MAX(Fromdate))
INTO ld_maxdate
FROM RATES_TABLE
WHERE type=as_type and group =as_group;  
 ----    
FOR li_index  IN  1 .. ln_months 
LOOP

 ld_date :=to_date(ADD_MONTHS(ld_pn_sdate, li_index), 'dd/mm/yyyy');   ---start  compute penalty from next month after startdate 
 
    --get  rates for the dates 
IF TO_DATE(ld_date, 'dd/mm/yyyy') &gt;=TO_DATE(ld_maxdate, 'dd/mm/yyyy')   THEN
  SELECT tr, lsp
  INTO   ln_rate, ln_spoint
  FROM   RATES_TABLE
  WHERE  TO_DATE(Fromdate, 'dd/mm/yyyy') = TO_DATE(ld_maxdate, 'dd/mm/yyyy')
              AND type=as_type and group =as_group;
ELSE
  SELECT tr, lsp
  INTO   ln_rate, ln_spoint
  FROM   RATES_TABLE
  WHERE TO_DATE(Fromdate, 'dd/mm/yyyy') &lt;= TO_DATE(ld_date, 'dd/mm/yyyy') AND TRUNC(VALIDTO) &gt;= TO_DATE(ld_date, 'dd/mm/yyyy')
             AND type=as_type AND group =as_group;
END IF; 

ln_pn_supprt    := ln_spoint;
ln_pn        := ln_amount*ln_rate*0.01;

ln_totval:=ln_totval+ln_pn;
ln_totval_support:=ln_totval_support+ln_pn_supprt;


END LOOP;  

   -- Pick the highest value of the two The higher of ln_totval and ln_totval_support
IF ln_totval &lt;   ln_totval_support THEN
   ln_totval  :=  ln_totval_support;
END IF;

   an_result :=  ln_totval;
END of_calc_function;`
</code></pre>
","2024-07-12 10:29:31","0","Question"
"78739039","78737976","","<p>Summary of what has been written and some own thoughts:</p>
<p><strong>a)</strong> The fact that the Cell shows <code>=fullname(B2,C2)</code> instead of the result of the function is most likely caused by the fact that the cell is <strong>formatted as Text</strong>. In that case Excel will not interpret what is entered as formula (or number, or date) but keep it exactly as it is.</p>
<p>This is true for all kind of formulas, not only for UDFs. Change the format of the cells in column G to anything else (General, for example). Nothing will happen - you need to tell Excel that you have new content for that cell.</p>
<p>Click on the cell containing the formula, click on the formula bar and press enter - Excel will think you entered new content and reinterpret the string. As it starts with an <code>=</code>, now Excel will know it's a formula.</p>
<p><strong>b)</strong> There are many ways to concatenate strings in Excel (not VBA). I'm a big fan of writing a small VBA function when a formula gets too complicated, but VBA functions have the big drawback that you need to have VBA enabled, and in professional environments that's not always the case (and not in the hand of the users to change that).</p>
<p>In Excel, there are (at least) 3 ways to concatenate cells B2 and C2</p>
<pre><code>=B2&amp;&quot; &quot;&amp;C2
=CONCAT(B2;&quot; &quot;;C2)
=TEXTJOIN(&quot; &quot;;TRUE;B2:C2)
</code></pre>
<p><strong>c)</strong> If you want to use VBA to create a function, you should use VBA commands. The string concatenation operator in VBA is <code>&amp;</code>.</p>
<pre><code>Function fullName(first, last)
    fullName = first &amp; &quot; &quot; &amp; last
End Function
</code></pre>
<p>The <code>&amp;</code>-operator is pure VBA and has nothing to do with Excel. The same function would work in any other VBA environment (Word, AutoCAD, Powerpoint, Corel, Solidworks...).</p>
<p>Your attempts using Excel functions from VBA will work. Your first version is correct, the second will fail because you are missing quotes - for a corrected version see MGonets answer.<br />
<strong>However</strong>, this attempts have several drawbacks:<br />
<strong>o</strong> It limits the usage of the code to Excel<br />
<strong>o</strong> It makes the code complicated and slow. What happens: (1) Excel asks VBA <em>&quot;Please execute the function <code>fullname</code> for the input <code>John</code> and <code>Doe</code></em>&quot;. (2) VBA asks Excel: <em>&quot;Please concatenate the strings <code>John</code> and <code>Doe</code> for me.&quot;</em> (3) Excel returns that concatenation to VBA. (4) VBA returns that result to Excel.</p>
<p>Use <code>WorksheetFunction</code> only when needed - when there is a build-in function in Excel that your code needs (VLookup is a common example). Especially bad is to use <code>Evaluate</code> because in that case you force Excel first to parse the content of the argument.</p>
","2024-07-12 07:12:44","2","Answer"
"78738902","78736507","","<p><code>void*</code> is rarely ever the correct solution to any problem these days. And &quot;casting away const&quot; is not only problematic in a MISRA perspective but also in standard C where you risk invoking undefined behavior in case the value is de-referenced and written to later. Why the MISRA rule exists to begin with.</p>
<p>The obvious solution is to rewrite the function so that it returns a <code>const int16*</code> as it ought to have done in the first place. You should also get rid of &quot;home-brewed&quot; standards in favour of standard C and use <code>int16_t</code> from <code>stdint.h</code>.</p>
<pre class=""lang-c prettyprint-override""><code>const int16_t* Gain_FiP16_GetAddress (const GAIN_FIP16* block, uint16_t elementId)
{
    const int16_t* addr;

    switch (elementId)
    {
        case 1:  addr = block-&gt;In;   break;
        case 2:  addr = &amp;block-&gt;Out; break;
        default: addr = NULL;        break;
    }
    return addr;
}
</code></pre>
","2024-07-12 06:32:19","0","Answer"
"78738053","78737976","","<p>The first function is correct, the second should read:</p>
<pre><code>Function FULLNAME1(first, last)
   Dim COMBO As String
   COMBO = first &amp; &quot; &quot; &amp; last
   FULLNAME1 = Application.Evaluate(&quot;&quot;&quot;&quot; &amp; COMBO &amp; &quot;&quot;&quot;&quot;)
End Function
</code></pre>
<p>If you don't get the result your cells are probably formatted as text. Should be <code>General</code> format.</p>
","2024-07-11 23:42:43","0","Answer"
"78737976","","Excel custom function in VB","<h2>Intention</h2>
<p>I would like to create a custom function in excel with VB that concatenates two cells together, separated by a space.</p>
<h2>My Attempt (failed)</h2>
<pre class=""lang-vb prettyprint-override""><code>Function FULLNAME(first, last)

    FULLNAME = Application.WorksheetFunction.Concat(first, &quot; &quot;, last)

End Function
</code></pre>
<p>or</p>
<pre class=""lang-vb prettyprint-override""><code>Function FULLNAME(first,last)
   
   COMBO = first &amp;&quot; &quot;&amp; last
   FULLNAME = Application.Evaluate(COMBO)

End Function
</code></pre>
<p>I then select cell <code>D2</code> and type in <code>=fullname(B2,C2)</code></p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Comment</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>1</td>
<td><strong>First Name</strong></td>
<td><strong>Last Name</strong></td>
<td><strong>Result</strong></td>
</tr>
<tr>
<td>What I want</td>
<td>2</td>
<td>John</td>
<td>Doe</td>
<td>John Doe</td>
</tr>
<tr>
<td>What I get with my attempts</td>
<td>3</td>
<td>John</td>
<td>Doe</td>
<td>=fullname(B2,C2)</td>
</tr>
</tbody>
</table></div>
<hr />
<p><strong>Question</strong>:
What am I doing wrong, and how can I achieve the result I am intending?</p>
","2024-07-11 23:03:45","-1","Question"
"78736507","","How to return an address of a const struct member in compliance to MISRA from a C function?","<p>I have a C function that gets the address of a struct member and returns it as a void pointer.
The first parameter of the function provides a pointer to the struct. This parameter is provided as <code>const</code> to prevent the struct members being modified by the function.
MISRA 2023 rule C.11.8 however, does not allow to cast a <code>const</code> pointer to a pointer.</p>
<p>Structure type:</p>
<pre><code>typedef struct {
    uint16          ID;
    int16           *In;
    int16           Out;
    int16           V;
    int8            sfr;
} GAIN_FIP16;
</code></pre>
<p>C function:</p>
<pre><code>void* Gain_FiP16_GetAddress(const GAIN_FIP16* block, uint16 elementId)
{
    void* addr;
    switch (elementId)
    {
        case 1:
            addr = (void*)block-&gt;In;
            break;
        case 2:
            addr = (void*)&amp;block-&gt;Out;
            break;
        default:
            addr = NULL;
            break;
    }
    return (addr);
}
</code></pre>
<p>The MISRA checker does complain about the cast <code>(void*)&amp;block-&gt;Out</code>.
This violates the MISRA rule:</p>
<blockquote>
<p>A conversion shall not remove any const, volatile or _Atomic
qualification from the type pointed to by a pointer.</p>
</blockquote>
<p>AFAIK I do have the following possibilities:</p>
<ul>
<li>Remove the <code>const</code> qualifier of the first function argument (but that also removes the 'nice' read-only behavior)</li>
<li>Create a MISRA deviation</li>
</ul>
<p>Is there possibly another solution to this problem?</p>
<p>I removed the const qualifier from the <code>block</code> parameter.
This solves the MISRA warning but at the cost of losing the 'read-only' feature.</p>
","2024-07-11 15:42:47","1","Question"
"78732023","78728714","","<p>That can be done if you use a wrapping function (there's no overloading in dart). With <code>Function.apply</code> you can call a function and pass arguments to the function without directly specifying them.</p>
<pre class=""lang-dart prettyprint-override""><code>Map&lt;String, dynamic&gt; prepareArgs() {
  return {
    &quot;bar&quot;: 1,
    &quot;ber&quot;: [2, 3]
  };
}

bool myFunc(String foo, {int? bar, List&lt;int&gt;? ber}) {
  print('myFunc(foo: &quot;$foo&quot;, bar: $bar, ber: $ber)');
  return true;
}

bool myMetaFunc(String foo, Map&lt;String, dynamic&gt; kargs) {
  return Function.apply(
    myFunc,
    [foo],
    kargs.map((k, v) =&gt; MapEntry(Symbol(k), v)),
  );
}

void main() {
  final ok = myMetaFunc('hello', prepareArgs());
}
</code></pre>
","2024-07-10 17:35:02","0","Answer"
"78730256","78729671","","<p>First of all we should know that during page loading. JS engine read all the codes from top to bottom.</p>
<p>As pseudocode example :</p>
<pre><code>ReadFromFile

function DoingSomething(){ ... }

WriteToFile
</code></pre>
<p>During page load JS Engine read and <strong>operate</strong> first line. Then for second line (for function) creates a structure in memory that allows functions to be called later. Not invoke this function. Then read third line and <strong>operate</strong> it. (means write to file but without DoingSomething function. This function will operate after call in your case after click button).</p>
<p>So every page load (refresh) <em>ReadFromFile</em> and <em>WriteToFile</em> codes will run.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>console.warn(""Reading from file."");

function something(){
  console.log(""this is something function that will write.."");
}

console.warn(""Writing to file."");</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt;
&lt;html lang=""en""&gt;
&lt;head&gt;
  &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p&gt;During every refresh 'reading' and 'writing' logs appear but 'function something' NOT&lt;/p&gt;
  &lt;button onclick='console.log(""log"")' &gt;Call func.&lt;/button&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
","2024-07-10 11:22:51","0","Answer"
"78729671","","localStorage in javascript Does not update score if placed outside of function","<p>I have this code when when you click a button, it randomly generates a win or lose count; I want to save the score of the win/lose counts so even when the page is refreshed I can still continue.</p>
<p>My problem is that when I put the <code>localStorage.setItem()</code> within the function, it runs perfectly and updates the score every time, but when I put the <code>localStorage.setItem()</code> **outside of the function, then when the page is refreshed it starts all the way back as if the score wasn't updating.</p>
<pre class=""lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;functions&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;button onclick=&quot;
        winLose()
      &quot;&gt;Click to win&lt;/button&gt;
  &lt;script&gt;
    const score = JSON.parse(localStorage.getItem('score'));

    function winLose() {
      const evaluatedNumber = Math.random();
      if (evaluatedNumber &gt; 0 &amp;&amp; evaluatedNumber &lt;= 0.5) {
        score.lose++;
        console.log(`You lost, lose count: ${score.lose}`)
      } else if (evaluatedNumber &gt; 0.5 &amp;&amp; evaluatedNumber &lt;= 1) {
        score.win++;
        console.log(`You won, win count: ${score.win}`)
      }
    }

    localStorage.setItem('score', JSON.stringify(score))
  &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<p>I am pretty sure the answer might be something very simple but I can not connect the dots here. I am also beginner so a simpler language used for explaining will be much appreciated</p>
","2024-07-10 09:23:42","0","Question"
"78728714","","dart named parameters as object","<p>I'm new to dart. I'm trying to factorize some code, and it involves pre-building a few values which are then passed into named parameters (external library).</p>
<p>I'd like to know if i can do the following:</p>
<pre class=""lang-dart prettyprint-override""><code>dynamic prepareArgs() {
  return {
    &quot;bar&quot;: 1,
  }
}

void myFunc(String foo, { num: bar }); // ← the said external library

void main() {
  myFunc(&quot;hello&quot;, ...prepareArgs());
}
</code></pre>
<p>i know that, type-wise, it doesn't check out. what i'm looking for is a solution to make this happen. can i avoid passing a dozen named parameters at every <code>myFunc</code> call?</p>
","2024-07-10 05:16:53","0","Question"
"78726559","78726485","","<p>You can use <a href=""https://docs.python.org/3/library/functions.html#locals"" rel=""nofollow noreferrer""><code>locals</code></a> to update the current &quot;local symbol table&quot;, e.g.,</p>
<pre><code>listOfChars = ['feature1', 'feature2']
listOfBins = [[0,1,2], [15,20,30]]

l = locals()
for lob, feature in zip(listOfBins, listOfChars):
    l[feature] = lob

print(feature1, feature2)
[0, 1, 2] [15, 20, 30]
</code></pre>
<p>Just to note, I'd be very wary of playing about with <code>locals</code> in &quot;production&quot; code.</p>
","2024-07-09 15:41:05","-1","Answer"
"78726531","78726337","","<p>I found the solution if someone is interested.
It was a problem of formal parameters and current parameters.
I had to write and recall the function in a different way.
I leave here the photo of an exercise I did to solve the problem.<a href=""https://i.sstatic.net/51xbbALH.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/51xbbALH.png"" alt=""This is the main"" /></a></p>
<p><a href=""https://i.sstatic.net/lGIpoVP9.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/lGIpoVP9.png"" alt=""This is how the function has to be written"" /></a></p>
","2024-07-09 15:35:36","1","Answer"
"78726519","78726485","","<p>I can see that you are asking for a dynamic way to create variables from strings. But since you have imported pandas, I'm guessing you may be looking for a way to organise a Dataset and access the features without having to deal with raw strings everytime. If so, you can try this:</p>
<pre><code>import pandas as pd

listOfChars = ['feature1','feature2']
listOfBins = [[0,1,2],[15,20,30]]

df = pd.DataFrame(dict(zip(listOfChars, listOfBins)))
print(df.feature1) # Access the feature without the annoying raw string.
print(df.feature2)

</code></pre>
","2024-07-09 15:33:21","3","Answer"
"78726485","","How to convert a python character to a python object","<p>I have the following python lists</p>
<pre><code>import pandas as pd
import numpy as np

listOfChars = ['feature1','feature2']
listOfBins = [[0,1,2],[15,20,30]]
</code></pre>
<p>I need to define each of the elements in <code>listOfChars</code> and assign them the correspondent <code>listOfBins</code> element.</p>
<p>For example, I'd like to get:</p>
<pre><code>feature1 = [0,1,2]
feature2 = [15,20,30]
</code></pre>
<p>Notice that <code>feature1</code> and <code>feature2</code> have no quotes.</p>
<p>And if I print <code>feature1</code> I get:</p>
<pre><code>[0,1,2]
</code></pre>
<p>Does anybody know how to do it in Python?</p>
","2024-07-09 15:25:46","0","Question"
"78726337","","Why I receive an unknown variable error in my function?","<p><a href=""https://i.sstatic.net/z1gcufi5.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/z1gcufi5.png"" alt=""This is the flow chart on AlgoBuild"" /></a></p>
<p>I'm using AlgoBuild and inside the &quot;input_vet()&quot; function there's a while loop and in its condition I recall the variable N, which I assign a value in the main, and shows a unknown variable error.
The problem asks me to choose the dimension of the array (N), sort it, and I have to find the max number, the arithmetic average. I can't get over this error but I know how to find the other answers to the problem
<a href=""https://i.sstatic.net/V0gOZ7lt.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/V0gOZ7lt.png"" alt=""This is the pseudo-code of the input_vet()"" /></a></p>
","2024-07-09 14:53:53","-1","Question"
"78721460","78714285","","<p>You do not convert HEX to DEC because there is no conversion, it is the same set of bits. It is only a matter of representation. You can see the number as a HEX or as a DEC</p>
<pre><code>a := 16#01F4;
b := 500;
</code></pre>
<p>You assign equal value to <code>a</code> and <code>b</code>, but you write this value as HEX or DEC.</p>
","2024-07-08 14:38:12","1","Answer"
"78718241","78718140","","<p>Firstly you need to define your letter() function, thats why it was not working. Secondly the best way to iterate through your string and call the appropriate function for each letter is as Sayse suggest in the first comment. Add your letters to a dictionary and then call the appropriate function.</p>
<pre><code>import time

from time import sleep
import winsound as win

frequency = 1000
duration = 250

frequency1 = 1000
duration1 = 500

def short():
    sleep(0.1)

def med():
    sleep(0.75)

def long():
    sleep(1.5)


def lb():
    win.Beep(frequency1,duration1)

def sb():
    win.Beep(frequency,duration)

def a():
    sb()
    short()
    lb()

def b():
    lb()
    short()
    sb()
    short()
    sb()
    short()
    sb()

def c():
    lb()
    short()
    sb()
    short()
    lb()
    short()
    sb()

def d():
    lb()
    short()
    sb()

def e():
    sb()

def f():
    sb()
    short()
    sb()
    short()
    lb()
    short()
    sb()

def g():
    lb()
    short()
    lb()
    short()
    sb()

def h():
    sb()
    short()
    sb()
    short()
    sb()
    short()
    sb()

def i():
    sb()
    short()
    sb()

def j():
    sb()
    short()
    lb()
    short()
    lb()
    short()
    lb()

def k():
    lb()
    short()
    sb()
    short()
    lb()

def l():
    sb()
    short()
    lb()
    short()
    sb()
    short()
    sb()

def m():
    lb()
    short()
    lb()

def n():
    lb()
    short()
    sb()

def o():
    lb()
    short()
    lb()
    short()
    lb()

def p():
    sb()
    short()
    lb()
    short()
    lb()
    short()
    sb()

def q():
    lb()
    short()
    lb()
    short()
    sb()
    short()
    lb()

def r():
    sb()
    short()
    lb()
    short()
    sb()
    
def s():
    sb()
    short()
    sb()
    short()
    sb()

def t():
    lb()

def u():
    sb()
    short()
    sb()
    short()
    lb()

def v():
    sb()
    short()
    sb()
    short()
    sb()
    short()
    lb()

def w():
    sb()
    short()
    lb()
    short()
    lb()

def x():
    lb()
    short()
    sb()
    short()
    sb()
    short()
    lb()

def y():
    lb()
    short()
    sb()
    short()
    lb()
    short()
    lb()

def z():
    lb()
    short()
    lb()
    short()
    sb()
    short()
    sb()

morse_code_dict = {
    'a': a,
    'b': b,
    'c': c,
    'd': d,
    'e': e,
    'f': f,
    'g': g,
    'h': h,
    'i': i,
    'j': j,
    'k': k,
    'l': l,
    'm': m,
    'n': n,
    'o': o,
    'p': p,
    'q': q,
    'r': r,
    's': s,
    't': t,
    'u': u,
    'v': v,
    'w': w,
    'x': x,
    'y': y,
    'z': z
}

# Function to call the appropriate letter function
def letters(input_string):
    for letter in input_string.lower():
        if letter in morse_code_dict:
            morse_code_dict[letter]()
        else:
            print(f&quot;Character '{letter}' not supported in Morse code.&quot;)

translate = 'hi'
letters(translate)

 
</code></pre>
","2024-07-07 19:31:13","1","Answer"
"78718140","","How do I take individual letters and spaces from a variable and then use those letters to call a function","<p>Here is my code(I know it's probably inefficient):</p>
<pre><code>import time
from time import sleep
import winsound as win

frequency = 1000
duration = 250

frequency1 = 1000
duration1 = 500

def short():
    sleep(0.1)

def med():
    sleep(0.75)

def long():
    sleep(1.5)

def lb():
    win.Beep(frequency1,duration1)

def sb():
    win.Beep(frequency,duration)

def a():
    sb()
    short()
    lb()

def b():
    lb()
    short()
    sb()
    short()
    sb()
    short()
    sb()

def c():
    lb()
    short()
    sb()
    short()
    lb()
    short()
    sb()

def d():
    lb()
    short()
    sb()

def e():
    sb()

def f():
    sb()
    short()
    sb()
    short()
    lb()
    short()
    sb()

def g():
    lb()
    short()
    lb()
    short()
    sb()

def h():
    sb()
    short()
    sb()
    short()
    sb()
    short()
    sb()

def i():
    sb()
    short()
    sb()

def j():
    sb()
    short()
    lb()
    short()
    lb()
    short()
    lb()

def k():
    lb()
    short()
    sb()
    short()
    lb()

def l():
    sb()
    short()
    lb()
    short()
    sb()
    short()
    sb()

def m():
    lb()
    short()
    lb()

def n():
    lb()
    short()
    sb()

def o():
    lb()
    short()
    lb()
    short()
    lb()

def p():
    sb()
    short()
    lb()
    short()
    lb()
    short()
    sb()

def q():
    lb()
    short()
    lb()
    short()
    sb()
    short()
    lb()

def r():
    sb()
    short()
    lb()
    short()
    sb()
    
def s():
    sb()
    short()
    sb()
    short()
    sb()

def t():
    lb()

def u():
    sb()
    short()
    sb()
    short()
    lb()

def v():
    sb()
    short()
    sb()
    short()
    sb()
    short()
    lb()

def w():
    sb()
    short()
    lb()
    short()
    lb()

def x():
    lb()
    short()
    sb()
    short()
    sb()
    short()
    lb()

def y():
    lb()
    short()
    sb()
    short()
    lb()
    short()
    lb()

def z():
    lb()
    short()
    lb()
    short()
    sb()
    short()
    sb()


translate = input(&quot;What should be translated into morse code?&quot;)

for letter in translate:
    letter()
</code></pre>
<p>How do I take out a single letter at a time from translate and go through all the letters in translate and use those to call functions, like if translate = &quot;hi&quot; then it goes through translate and takes out the h and then calls a function in this case h() and then call it something like this, letter() and then continues going through translate.</p>
<p>I just tried letter() and I was expecting it to most likely not work.</p>
","2024-07-07 18:45:28","0","Question"
"78718015","78716221","","<p>I tried the following, but I'm not an expert and am not sure if it is bad, or how bad it can be. But anyway, here's my code:</p>
<pre class=""lang-py prettyprint-override""><code>#!/usr/bin/env python3

a=1
print(f&quot;a={a}&quot;)                # a=1

def func():
    global a
    a = a+1

print(&quot;func()&quot;)                # func()
func()
print(f&quot;a={a}&quot;)                # a=2

source_code = &quot;&quot;&quot;
global a
a = a+17
&quot;&quot;&quot;
code_obj = compile(source_code, '&lt;string&gt;', 'exec')

print(&quot;func.__code__ = code_obj&quot;)
func.__code__ = code_obj

print(&quot;func()&quot;)                # func()
func()
print(f&quot;a={a}&quot;)                # a=19
</code></pre>
<p>Obviously, The function in this example takes no arguments, and does not explicitly return a value. Please don't ask me how to make it work for a function that takes arguments or returns a value.</p>
<hr />
<p>P.S., If you use this trick in a program in which the contents of the <code>source_code</code> string could come from anywhere outside of the program, then you are opening a <em>HUGE</em> security hole. If you publish the program, then you are opening that security hole on your customer's computers. If you use the trick in a server or in &quot;the cloud&quot;, then you are opening that hole on the hosting company's computers.</p>
","2024-07-07 17:48:30","0","Answer"
"78717897","78712677","","<p>did you try logging file before executing?</p>
<pre><code>const onDeleteFile = () =&gt; {
   console.log({file, id: file.id})
   // deleteFile(id, file.id)
}
</code></pre>
","2024-07-07 16:54:57","0","Answer"
"78716221","","Is there any way to construct a code object from a code string and assign it to an existing function using Python?","<p>My problem is like this: I need to change how a function behave, but I can't access or change the file with which the function is located. I <em>could</em> <code>import</code> it though, and I would like to change the implementation a bit. However, since I can't access the source code itself, I can't change it directly. I want to actually <em>change</em> the function implementation so that all other files that <code>import</code> it will also have the new function. I'm currently trying to manipulate the code bytes of the function's <code>__code__.co_code</code> attribute (I know this is very bad software practice, but I <em>really</em> have no choice.). The <code>__code__.co_code</code> returns a series of bytes characters, which is very incomprehensible and extremely hard to change (I mean, like, how am I going to write a code using bytes??). I would like to inject a new code object into the function. Is there any way to first convert a Python string containing the new implementation to a series of byte characters and then inject it safely into the old function?</p>
<p>For a minimal reproducible example, suppose I have the following function:</p>
<pre><code>def func1():
    return 1
</code></pre>
<p>and I want to change it to:</p>
<pre><code>def func1():
    return 0
</code></pre>
<p>I've managed to access the byte code sequences of the function's <code>__code__.co_code</code> attribute, like this:</p>
<pre><code>def func1():
    return 1

code_obj = func1.__code__.co_code
print(code_obj) # prints b'd\x01S\x00'
new_code = b'd\x01S\x00' # copied the original code bytes sequence. How am I going to write `return 0` in bytes?
func1.__code__.co_code = new_code
print(func1)
code_obj2 = func1.__code__.co_code
</code></pre>
<p>And it gives me this error:</p>
<pre><code>Traceback (most recent call last):
  File &quot;C:\Program Files\JetBrains\PyCharm 2024.1\plugins\python\helpers\pydev\pydevconsole.py&quot;, line 364, in runcode
    coro = func()
  File &quot;&lt;input&gt;&quot;, line 7, in &lt;module&gt;
AttributeError: readonly attribute
</code></pre>
<p>It tells me that I cannot change the <code>__code__.co_code</code> attribute of the function. Additionally, I <em>really</em> don't know how to write the new function implementation (<code>return 0</code>) in bytes sequences. I know that I can probably make use of ASTs but I don't know how to use them either. Can anyone help me? I'm really stuck here. (Side note: I can't just shadow the old function with a new implementation because I want other files that import the library to also have the change. Also, I don't want to set the function in the module using <code>import lib; lib.old_function = new_function</code>.)</p>
","2024-07-07 00:39:03","-1","Question"
"78714882","78714877","","<p>Functions in Python are objects, just like any other object. This means they can be passed around, and even after being passed around, they can still be called with the <code>()</code> operator.</p>
<p>The <code>call</code> function in this example takes two arguments- <code>fn</code> is a function and <code>arg</code> is the argument to pass to that function. So <code>call(mult_by_five, 1)</code> will result in <code>mult_by_five(1)</code> being called.</p>
","2024-07-06 12:51:04","4","Answer"
"78714877","","How do I apply functions to functions in Python?","<p>Can someone explain the code below?</p>
<pre><code>def mult_by_five(x):
    return 5 * x

def call(fn, arg):
    &quot;&quot;&quot;Call fn on arg&quot;&quot;&quot;
    return fn(arg)

def squared_call(fn, arg):
    &quot;&quot;&quot;Call fn on the result of calling fn on arg&quot;&quot;&quot;
    return fn(fn(arg))

print(
    call(mult_by_five, 1),
    squared_call(mult_by_five, 1), 
</code></pre>
<p>How do I use the <code>call</code> function? What are <code>fn</code> and <code>arg</code>?</p>
","2024-07-06 12:47:11","-1","Question"
"78714285","","How to convert Hex to Dec in Codesys ST?","<p>I'm using Codesys V3 ST language
I'm writing a code to communicate motor controller unit which uses CANOpen protocol
I want to use CAN raw messages to communicate</p>
<p>I put CAN bus messages bytes in an array
-- myDataFF82 : ARRAY [0..7] OF BYTE; //(incoming message)</p>
<p>Then I put together first byte and second byte</p>
<pre><code>raw := UserVarGlobal.myDataFF82[1] ; 
raw1 := UserVarGlobal.myDataFF82[0] ;
raw2 := MEM.PackBytesToWord(byHighByte:=raw1 , byLowByte:=raw); //real message is '01F4' which is Hex
</code></pre>
<p>At this point I want to convert '01F4' into Decimal value ('01F4' Hex is '500' in Dec)</p>
<p>I don't see any function to do that in Codesys
Can you help?</p>
<p>Thank you in advance</p>
","2024-07-06 08:17:11","0","Question"
"78714240","78713196","","<p>I've seen highly cited papers that still included such missing codes in their statistics. You <strong>definitely</strong> should set them to <code>NA</code> before analysis to avoid this mistake.</p>
<p>Actually it's quite easy by equating your dataset with the missing codes. If these were e.g. -77777, -88888, -99999, you would proceed as follows:</p>
<pre><code>&gt; dat
      V1     V2     V3     V4
1      4 -77777      5      3
2      3 -99999      3      5
3 -88888      5      2      5
4      1      2 -88888      5
5      5 -99999      2 -99999
6      3      3      2      1
&gt; dat[dat == -77777 | dat == -88888 | dat == -99999] &lt;- NA
&gt; dat
  V1 V2 V3 V4
1  4 NA  5  3
2  3 NA  3  5
3 NA  5  2  5
4  1  2 NA  5
5  5 NA  2 NA
6  3  3  2  1
</code></pre>
<p>To get summary statistics of the <em>median, minimum, maximum,</em> and <em>IQR</em> of specific columns, you can write a small <code>stat_fun()</code> that combines their calculation.</p>
<p>You already know you can use <code>lapply</code> (like <em>list-apply</em>) to loop over columns. If you're expecting just numbers as a result you can use <code>sapply</code> (like <em>simplified-apply</em>) which simplifies the result in a numeric matrix. Maybe you know, that you can also use <em>functions</em> as a function argument. So we can write <code>stat_fun()</code> in a way it <code>sapply</code>es a <em>named</em> vector of the functions <code>median, min, max, IQR</code> over a numeric vector (a column), and then we <code>sapply</code> this function over specific columns to get the statistics; importantly we include the <code>na.rm=TRUE</code> argument since we now have <code>NA</code>s in the data:</p>
<pre><code>&gt; stat_fun &lt;- \(x) sapply(c(median=median, min=min, max=max, IQR=IQR), \(f) {
+   f(x, na.rm=TRUE)
+ })
&gt; 
&gt; ord_vars &lt;- c('V1', 'V2', 'V4')
&gt; sapply(dat[ord_vars], stat_fun)
       V1  V2 V4
median  3 3.0  5
min     1 2.0  1
max     5 5.0  5
IQR     1 1.5  2
</code></pre>
<p><em><strong>Note,</strong></em> that missing values are usually imputed during data analysis; you should look into <a href=""https://en.wikipedia.org/wiki/Imputation_(statistics)"" rel=""nofollow noreferrer"">data imputation</a>.</p>
<hr />
<p><em>Data:</em></p>
<pre><code>&gt; dput(dat)
structure(list(V1 = c(4, 3, -88888, 1, 5, 3), V2 = c(-77777, 
-99999, 5, 2, -99999, 3), V3 = c(5, 3, 2, -88888, 2, 2), V4 = c(3, 
5, 5, 5, -99999, 1)), class = &quot;data.frame&quot;, row.names = c(NA, 
-6L))
</code></pre>
","2024-07-06 07:56:13","0","Answer"
"78713687","78713516","","<p>To use <code>for</code> loop, you could try something like this:</p>
<pre><code>events &lt;- c(1:300)
graph &lt;- paste0(&quot;Graph&quot;, events, &quot;.jpeg&quot;)
for (i in events) {
  CustomFunction(i)
  ggsave(graph[i])
}
</code></pre>
","2024-07-06 01:47:27","0","Answer"
"78713516","","Is there a way to loop through a custom function to generate multiple ggplot2 graphs in R?","<p>I created a custom function in R to standardize multiple graphs. The function is essentially as follows:</p>
<pre><code>CustomFunction &lt;- function(SpecificEvent) {
     ggplot()+
        geom_point(data = df[df$SpecificEvent])+
        geom_point(data = df2[df2$SpecificEvent])+
        etc.
}
</code></pre>
<p>Currently I manually assign the graph created to the global environment:</p>
<pre><code>Graph1 &lt;- CustomFunction(1)
Graph2 &lt;- CustomFunction(2)
Graph3 &lt;- CustomFunction(3)
</code></pre>
<p>I am looking for a way to automate this because the number of events that I am graphing is getting out of hand. Is there a way to do this with a for loop and a list? Similar to the following:</p>
<pre><code>for (i in 1:300) {
graph_list &lt;- list()
graph[[i]] &lt;- CustomFunction(i)
}

#Call graph to view or save with:
graph_list[[1]]
ggsave(&quot;Graph1.jpeg&quot;, graph_list[[1]]) 
</code></pre>
<p>I apologize if this doesn't make sense. Please let me know if you need more clarification.
Thanks!</p>
","2024-07-05 23:37:19","0","Question"
"78713471","78707561","","<p>You need to pack SELECT-s into a PROCEDURE, not a FUNCTION in Vertica.</p>
<p>You could work with inout parameters, though - I can't say if they fit your purpose, as you can't, for example, embed them into a SELECT that is not at the top level of your query. This works however:</p>
<pre><code>CREATE TABLE IF NOT EXISTS raw.type (srch,type) AS (
            SELECT 'aaaaaaa',1
  UNION ALL SELECT 'bbbbbbb',2
  UNION ALL SELECT 'ccccccc',3
  UNION ALL SELECT 'ddddddd',4
  UNION ALL SELECT 'eeeeeee',5
);
-- out CREATE TABLE
-- out Time: First fetch (0 rows): 10.143 ms. All rows formatted: 10.203 ms

CREATE OR REPLACE PROCEDURE raw.getType(
 INOUT input_string VARCHAR
,OUT _type INT
) LANGUAGE PLvSQL SECURITY INVOKER AS $$
BEGIN
RAISE NOTICE 'searching with  %', input_string;
     SELECT srch,type
     INTO input_string,_type
     FROM raw.type
     WHERE srch LIKE input_string || '%' ;
END;
$$;
-- out CREATE PROCEDURE
-- out Time: First fetch (0 rows): 16.096 ms. All rows formatted: 16.197 ms

CALL raw.getType('d');
-- out NOTICE 2005:  searching with  d
-- out  input_string | _type 
-- out --------------+-------
-- out  ddddddd      |     4
-- out (1 row)
-- out 
-- out Time: First fetch (1 row): 81.213 ms. All rows formatted: 81.338 ms                  
</code></pre>
","2024-07-05 23:07:06","0","Answer"
"78713385","78713352","","<p>You are not pivotting all the columns:</p>
<pre><code>dat8 &lt;- DATA %&gt;% pivot_longer(
  mT:nC, # change here
  names_to = c(&quot;.value&quot;, &quot;group&quot;),
  names_pattern = &quot;(m|n|sd)(T|C)&quot;
)
</code></pre>
<p>Everything else seems correct?</p>
","2024-07-05 22:14:26","0","Answer"
"78713373","78713196","","<p>If you use <code>filter</code>, you can create a symbol from you string, then defuse with <code>{{</code>, so:</p>
<pre><code>ord_table &lt;- function (x) {
  table_ord &lt;- data.frame(Median = double(length = 1),
                          Minimum = double(length = 1),
                          Maximum = double(length = 1),
                          IQR = double(length = 1)
  )
  x &lt;- sym(x)
  table_ord$Median &lt;- data %&gt;% filter({{x}} &gt; 0) %&gt;% pull(x) %&gt;% median()
  table_ord$Minimum &lt;- data %&gt;% filter({{x}} &gt; 0) %&gt;% pull(x) %&gt;% min()
  table_ord$Maximum &lt;- data %&gt;% filter({{x}} &gt; 0) %&gt;% pull(x) %&gt;% max()
  table_ord$IQR &lt;- data %&gt;% filter({{x}} &gt; 0) %&gt;% pull(x) %&gt;% IQR() 
  return(table_ord) 
}
</code></pre>
<p>But I would probably do something like this, and actually set the values as <code>NA</code> (ideally you would do this when you read in the data):</p>
<pre><code>library(tidyverse)
data |&gt; 
  mutate(across(test_vars, \(v) na_if(v, -99999))) |&gt; 
  pivot_longer(cols = test_vars) |&gt; 
  drop_na() |&gt; 
  summarise(
    mean = mean(value), min = min(value), max = max(value), IQR = IQR(value),
    .by = name
  )
</code></pre>
<blockquote>
<pre><code># A tibble: 4 × 5
  name   mean   min   max   IQR
  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 var3   3.2      1     5   2  
2 var4   2.58     1     5   1.5
3 var2   2.44     1     5   2  
4 var1   3.33     1     5   1
</code></pre>
</blockquote>
","2024-07-05 22:06:54","0","Answer"
"78713352","","Long to wide format based on variable suffixes in tidyverse in R","<p>I wonder if there is a way for my <code>DATA</code> to be reformatted to my <code>Desired_output</code> below?</p>
<p>Specifically, for each unique <code>study</code>, we stick together a pair of <code>pre</code> and <code>postNUMBER</code> together, separately for <code>T</code> and <code>C</code>.</p>
<p>ps. If a unique <code>study</code> in <code>DATA</code>, didn't have a <code>pre</code> (only consisted of postNUMBER) or postNUMBER (only consisted of <code>pre</code>), we simply leave it out (in this case, <code>Jasmi</code> and <code>Zill</code> studies are left out).</p>
<p><em>I tried the following without success:</em></p>
<pre><code>DATA &lt;- read.table(header=TRUE,text=&quot;
study    year    mT   sdT    nT    mC   sdC    nC  time
Al_Ajmi  2015  1.68  1.07    25  1.44  1.08    31  pre
Al_Ajmi  2015  7.4   2.22    25  1.08  1.12    31  post1
Al_Ajmi  2015  8.08  1.75    25  1.48  1.08    31  post2
Jasmi    2020  1.3   1       30  2     1       30  pre
Zill     2019  2     1       41  3     2       32  post1
Zill     2019  3     3       41  1     1       32  post2&quot;)


Desired_output &lt;- read.table(header=T, text=&quot;
study    year    time         group  n    mpre     mpost  sdpre  sdpost
Al_Ajmi  2015    pre-post1    T      25   1.68     7.4    1.07   2.22
Al_Ajmi  2015    pre-post2    T      25   1.68     8.08   1.07   1.75
Al_Ajmi  2015    pre-post1    C      31   1.44     1.08   1.08   1.12
Al_Ajmi  2015    pre-post2    C      31   1.44     1.48   1.08   1.08
&quot;)

# I tried the following without success:
library(tidyverse)
dat8 &lt;- DATA %&gt;% pivot_longer(nT:sdC, 
                        names_to = c(&quot;.value&quot;,&quot;group&quot;),
                        names_pattern = &quot;(n|m|sd)(T|C)&quot;) 

output &lt;- 
  left_join(filter(dat8, time !=&quot;pre&quot;),
            filter(dat8, time ==&quot;pre&quot;),
            by = c(&quot;study&quot;,&quot;group&quot;),
            suffix= c(&quot;post&quot;,&quot;pre&quot;) ) %&gt;% 
  select(study:sdpost,npre:sdpre) %&gt;% 
  rename_with(~str_remove(.,&quot;post&quot;), -c(&quot;mpost&quot;,&quot;sdpost&quot;)) %&gt;% 
  mutate(time=recode(time, &quot;post1&quot;=&quot;pre-post1&quot;, &quot;post2&quot;=&quot;pre-post2&quot;)) %&gt;% 
  arrange(study, group)
</code></pre>
","2024-07-05 21:55:35","1","Question"
"78713196","","How to get column-wise summary statistics with missing codes?","<p>I have written a custom function <code>ord_table()</code> to extract summary statistics from a series of databases. To get those summary statistics, I have to filter out missing data codes (all codes are large negative numbers).</p>
<pre><code>&gt; data
     var1 var2   var3   var4
1       3    2      2      1
2  -99999    3      1      1
3       3    5 -99999      2
4       2    3      3      3
5       2    3      4      4
6  -99999    1 -99999      5
7       3    4      1      5
8       5    1      3      3
9       4    1      5 -99999
10 -99999    5      4      1
11 -99999    3      2      2
12      1    2      5      5
</code></pre>
<p>The column names are in a vector <code>ord_vars</code>.</p>
<p>I am applying the function with <code>lapply</code>.</p>
<pre><code>ordinal &lt;- lapply(ord_vars, ord_table)
</code></pre>
<p>Here is my function:</p>
<pre><code>ord_table &lt;- function(x) {
  table_ord &lt;- data.frame(Median=double(length=1), 
                          Minimum=double(length=1), 
                          Maximum=double(length=1), 
                          IQR=double(length=1))
  table_ord$Median &lt;- data %&gt;% subset(x &gt; 0) %&gt;% pull(x) %&gt;% median()
  table_ord$Minimum &lt;- data %&gt;% subset(x &gt; 0) %&gt;% pull(x) %&gt;% min()
  table_ord$Maximum &lt;- data %&gt;% subset(x &gt; 0) %&gt;% pull(x) %&gt;% max()
  table_ord$IQR &lt;- data %&gt;% subset(x &gt; 0) %&gt;% pull(x) %&gt;% IQR() 
  return(table_ord)
}
</code></pre>
<p>It is all working except for the subsetting to remove the negative values that code for missing data.</p>
<p>I have tried <code>filter()</code> and <code>subset()</code>, and both with <code>unquote(x)</code> instead of <code>x</code>.</p>
<p>For each dataframe, I get results including missing data codes:</p>
<pre><code>[[1]]
  Median Minimum Maximum      IQR
1      2  -99999       5 100002.2
</code></pre>
<p>Where I want to get:</p>
<pre><code>[[1]]
  Median Minimum Maximum  IQR
1    2.5       2       5 2.25
</code></pre>
<h2>data</h2>
<pre><code>set.seed(123)  ## for sake of reproducibility
a &lt;- c(1, 2, 3, 4, 5, -99999)
var1 &lt;- sample(a, 12, replace=TRUE)
var2 &lt;- sample(a, 12, replace=TRUE)
var3 &lt;- sample(a, 12, replace=TRUE)
var4 &lt;- sample(a, 12, replace=TRUE)
data &lt;- cbind(var1, var2, var3, var4) %&gt;% as.data.frame()

ord_vars &lt;- data %&gt;% colnames() %&gt;% as.vector() 
</code></pre>
","2024-07-05 20:33:08","1","Question"
"78712677","","Unable to get ""id"" even though it is working perfectly in other functions and everything is right","<p>So I wrote this function which calls a function in a different file use Context in React JS</p>
<p>I am getting this error only in this function as in other function which are similar it works perfectly</p>
<p>Code
Index.js</p>
<pre><code>import { useContext } from &quot;react&quot;;
import { PlaygroundContext } from &quot;../../../Providers/PlaygroundProvider&quot;;
import { ModalContext, modalConstants } from &quot;../../../Providers/ModalProvider&quot;;
import { Modal } from &quot;../../../Providers/Modals/Modal.js&quot;;

const Folder = ({folderTitle, cards, id, file}) =&gt;{

    const {deleteFolder, deleteFile} =useContext(PlaygroundContext);
    const {openModal} = useContext(ModalContext)
    const {folders} = useContext(PlaygroundContext)
    const navigate = useNavigate();

 
    const onDeleteFile = () =&gt; {
        deleteFile(id, file.id);
    }

     return(  
                        &lt;div&gt;&lt;span class=&quot;material-symbols-outlined&quot; onClick={onDeleteFile}&gt;delete&lt;/span&gt;
                        {/* &lt;span class=&quot;material-symbols-outlined&quot;&gt;edit&lt;/span&gt; */}
                        &lt;/div&gt;


)             
</code></pre>
<p>This is the function</p>
<pre><code>    const deletefile = (fileId, id) =&gt; {
        console.log(id, fileId);
        const copiedFolders = [...folders]
        for(let i=0 ; i &lt; copiedFolders.length; i++){
            if(copiedFolders[i].id === id){
                const files = [...copiedFolders[i].files];
                copiedFolders[i].files = files.filter((file) =&gt; {
                    return file.id !== fileId;
                })
                break;
            }
        }
        localStorage.setItem('data', JSON.stringify(copiedFolders));
        setFolders(copiedFolders);
    }

</code></pre>
<p>Later I pass it to the index file properly</p>
<p>And the error is</p>
<pre><code>Cannot read properties of undefined (reading 'id')
TypeError: Cannot read properties of undefined (reading 'id')
    at onDeleteFile (http://localhost:3000/main.a4ed982a4138ab8e8eb8.hot-update.js:72:25)
    at HTMLUnknownElement.callCallback (http://localhost:3000/static/js/bundle.js:34521:18)
    at Object.invokeGuardedCallbackDev (http://localhost:3000/static/js/bundle.js:34565:20)
    at invokeGuardedCallback (http://localhost:3000/static/js/bundle.js:34622:35)
    at invokeGuardedCallbackAndCatchFirstError (http://localhost:3000/static/js/bundle.js:34636:29)
    at executeDispatch (http://localhost:3000/static/js/bundle.js:38779:7)
    at processDispatchQueueItemsInOrder (http://localhost:3000/static/js/bundle.js:38805:11)
    at processDispatchQueue (http://localhost:3000/static/js/bundle.js:38816:9)
    at dispatchEventsForPlugins (http://localhost:3000/static/js/bundle.js:38825:7)
    at http://localhost:3000/static/js/bundle.js:38985:16
</code></pre>
<p>I tried debugging using various method but they didnt work at all...</p>
","2024-07-05 17:22:14","0","Question"
"78710871","78710737","","<p>Your current code has several issues:</p>
<pre class=""lang-py prettyprint-override""><code>def square(num):
    square == num ** 2
    print(square(10))
    return
</code></pre>
<ol>
<li>You should call your <code>square</code> function from outside of it; otherwise, it will keep calling itself recursively.</li>
<li>When assigning a variable, use <code>=</code>. However, you've used <code>==</code> instead, which is a binary operator.</li>
<li>The function currently returns nothing (None) instead of returning the computed result.</li>
</ol>
<p>To fix these problems, use this code:</p>
<pre class=""lang-py prettyprint-override""><code>def square(num):
    result = num ** 2
    return result

# Call the func and print its result
print(square(10)) # Output: 100
</code></pre>
","2024-07-05 10:09:05","1","Answer"
"78710737","","Function returning ""None""","<p>I wrote the short program below while practising how to use a custom function.</p>
<pre><code>def square(num):
    square==(num**2) 
    print(square(10))
    return 
</code></pre>
<p>I was expecting that when I call the function:</p>
<pre><code>print(square(10))
</code></pre>
<p>it should give me <code>100</code> but it just returns a blank screen or sometimes <code>None</code>.</p>
","2024-07-05 09:39:56","-5","Question"
"78707561","","Create Function issue in the Vertica","<p>I want to create this function but facing issue</p>
<pre><code>CREATE OR REPLACE FUNCTION RAW.getType(input_string VARCHAR)
RETURN VARCHAR AS
BEGIN
   RETURN (
        SELECT Type
        FROM RAW.TYPE
        WHERE LENGTH(input_string) = LENGTH  
          AND input_string LIKE PATTERN || '%' 
         LIMIT 1 
     );
 END;
</code></pre>
<p>Gives Error as Column &quot;input_string&quot; does not exist</p>
<p>also tried with declare result</p>
<pre><code>CREATE OR REPLACE FUNCTION RAW.getType(num VARCHAR)
RETURN VARCHAR
AS
BEGIN
    DECLARE result VARCHAR;

    SELECT Type INTO result
    FROM RAW.TYPE
    WHERE LENGTH(num) = LENGTH  
      AND num LIKE PATTERN || '%'  
    LIMIT 1;  

    RETURN result;
END;
</code></pre>
<p>This gives the syntax error</p>
<p>Need to create function query for above select query</p>
","2024-07-04 14:06:25","0","Question"
"78706581","78706143","","<p>Well Though I have given my answer through my comments Still I think I need to clarify some key-points about the code.</p>
<p>Here are these points.</p>
<ol>
<li><p>When you use <code>optional-parameter</code>(i.e <code>{marque?}</code>) in routes you need to properly map the parameter to its corresponding Controller's method (in your case <code>marque($slug)</code>) like this.</p>
<p><code>function marque(?string $marque = null) { ....... ..... }</code></p>
<p>For more information check the docs link</p>
<p><a href=""https://laravel.com/docs/11.x/routing#parameters-optional-parameters"" rel=""nofollow noreferrer"">https://laravel.com/docs/11.x/routing#parameters-optional-parameters</a></p>
</li>
<li><p>When you pass the parameter value to <code>route('catalogue.marque', ['slug' =&gt; $brand-&gt;slug])</code> , It does not match with the <code>route-defination</code>. So inside <code>marque($slug)</code> method it doesn't get any matching records through <code>$slug</code> during fetching of the <code>Brand</code> model and returns <code>null</code>. Hence when you try to use <code>paginate(12)</code> on the fetched result you are getting this error.</p>
<p><code>Call to a member function products() on null</code></p>
</li>
</ol>
","2024-07-04 10:34:03","0","Answer"
"78706143","","Laravel : sorting filter brands doesn't works but error points to an other function (which works)","<p>I am trying to display my categories and brands when I click on them (a screen if needed). Categories work, but not brands. When I click on a brand, I get the error &quot;Call to a member function products() on null&quot; pointing to the line in the categories function <code>-&gt;products()-&gt;paginate(12);</code>. Why is this happening, and how can I fix it? Thank you.</p>
<pre><code>// My brand route
Route::get('catalogue/marque/{marque?}', 'App\Http\Controllers\CatalogueController@marque')-&gt;name('catalogue.marque');

// My brand function
function marque($slug)
{
    $products = \App\Models\Brand::where('slug', $slug)
                 -&gt;first()
                 -&gt;products()-&gt;paginate(12);

    $categories = \App\Models\Category::all();
    $brands = \App\Models\Brand::all();

    return view('catalogue.index', compact('products', 'categories', 'brands'));
}

// My view
&lt;ul&gt;
@foreach($brands as $brand)
    &lt;li&gt;&lt;a href=&quot;{{ route('catalogue.marque', ['slug' =&gt; $brand-&gt;slug]) }}&quot;&gt;{{ $brand-&gt;name }}&lt;/a&gt;&lt;/li&gt;
@endforeach
&lt;/ul&gt;
</code></pre>
","2024-07-04 09:12:06","0","Question"
"78705318","78705284","","<p>Nested functions can access variables from their parent functions. However, in your first case, not only you are accessing the value of the <code>balanced</code> variable, but you are also attempting to modify it.</p>
<p>Whenever you create a variable in a nested function with the same name as a variable in the parent function, the nested function uses its own variable that is created inside the nested function.</p>
<p>So in this code</p>
<pre><code>    def node_height(root):
        if not root or not balanced:
            return 0
        
        left_height = node_height(root.left)
        right_height = node_height(root.right)
        
        if abs(left_height - right_height) &gt; 1:
            balanced = False #  You are creating the variable here, 
                             #  but you are trying to access it above in the first if-else statement. 
                             # That is why you are getting the UnboundlocalError
            return 0
        
        return 1 + max(left_height, right_height)
</code></pre>
<p>And about the first list approach, as you know list are mutable so you can update them inside the function, and it will update in all scope, so that is why it was working.</p>
<hr />
<p>And in this example, As already <a href=""https://stackoverflow.com/a/78705304/17507911""><code>Answered by Aemyl</code></a> and mentioned by me above (<em>&quot;Nested functions can access variables from their parent functions.&quot;</em>),
In this code you are not updating the value instead you are just accessing the value of the parent's variable(s), so that is why you are not getting any error.</p>
<pre class=""lang-py prettyprint-override""><code>class solution:
    def func(): 
        a = 5
        b = 7
        c = True
        def nested_func():
            return (a + b, c)
        return nested_func()
        
    print('sum is:', func())
</code></pre>
","2024-07-04 06:17:41","5","Answer"
"78705304","78705284","","<p>You can use the <a href=""https://docs.python.org/3/reference/simple_stmts.html#the-nonlocal-statement"" rel=""nofollow noreferrer""><code>nonlocal</code></a> keyword for that:</p>
<pre><code>...
        balanced = True
        def node_height(root):
            nonlocal balanced
...
</code></pre>
<blockquote>
<p>When the definition of a function or class is nested (enclosed) within the definitions of other functions, its nonlocal scopes are the local scopes of the enclosing functions.</p>
</blockquote>
<p>In your case, <code>node_height</code> is nested within <code>isBalanced</code>, so <code>nonlocal balanced</code> will tell the interpreter to use the same <code>balanced</code> reference as <code>isBalanced</code>, instead of creating a new reference that shadows the other one.</p>
<p>In your second example, <code>nonlocal</code> is not necessary because <code>nested_func</code> is only reading the variables. If you look at the following comparison:</p>
<pre><code>&gt;&gt;&gt; import dis
&gt;&gt;&gt; dis.dis(&quot;def f(): return a&quot;)
&lt;7 lines omitted&gt;
Disassembly of &lt;code object f at 0x0000026F07FDC510, file &quot;&lt;dis&gt;&quot;, line 1&gt;:
  1           0 RESUME                   0
              2 LOAD_GLOBAL              0 (a)
             12 RETURN_VALUE
&gt;&gt;&gt; dis.dis(&quot;&quot;&quot;
... def f():
...     a = 7
...     return a&quot;&quot;&quot;)
&lt;7 lines omitted&gt;
Disassembly of &lt;code object f at 0x0000026F07FDE4C0, file &quot;&lt;dis&gt;&quot;, line 2&gt;:
  2           0 RESUME                   0

  3           2 LOAD_CONST               1 (7)
              4 STORE_FAST               0 (a)

  4           6 LOAD_FAST                0 (a)
              8 RETURN_VALUE
</code></pre>
<p>You can see that the first function has the instruction <code>LOAD_GLOBAL</code>, whereas the second function uses <code>LOAD_FAST</code>, because it assigns a value to <code>a</code>, telling the interpreter that it is a local variable.</p>
","2024-07-04 06:13:01","3","Answer"
"78705284","","using variable out of nested function","<pre><code>class Solution:
    def isBalanced(self, root: Optional[TreeNode]) -&gt; bool:
        balanced = [True]
        
        def node_height(root):
            if not root or not balanced[0]:
                return 0
            
            left_height = node_height(root.left)
            right_height = node_height(root.right)
            
            if abs(left_height - right_height) &gt; 1:
                balanced[0] = False
                return 0
            
            return 1 + max(left_height, right_height)
            
        node_height(root)
        return balanced[0]
</code></pre>
<p>I understand why the code above works but when I change the value of variable 'balanced' to
<code>balanced = True</code> instead of <code>balanced = [True]</code> in line 3 and
change balanced[0] to balanced in line 6, 13 and 19, I get an error.</p>
<pre><code>class solution:
    def func(): 
        a = 5
        b = 7
        c = True
        def nested_func():
            return (a + b, c)
        return nested_func()
        
    print('sum is:', func())
</code></pre>
<p>So I tried the code above to test (maybe nested function cannot get variable that has boolean as a value) but was able to get the result of 'sum is: (12, True)'
which shows that nested functions are able to get variables outside of them.</p>
<p>Could someone explain this?</p>
","2024-07-04 06:08:00","4","Question"
"78704117","78704045","","<p>does the following help you ?
inside the <strong>browse</strong> function we reference the input_folder as global so the value supplied is visible to the <strong>action</strong> function</p>
<pre><code>input_folder=&quot;&quot;
def browse():
     global input_folder
     input_folder = input('enter directory:')
 
def action():
     print('input_folder:', input_folder )

</code></pre>
","2024-07-03 20:38:33","1","Answer"
"78704045","","Using a variable inside a function without calling the function","<p>I want to get a directory with a function and use the obtained path in another function.
For example, I'm just giving a simple code sample.</p>
<pre><code>def browse_folder():
    input_folder = input(&quot;enter your directory: &quot;)
 
def action():
    print(input_folder)
</code></pre>
<p>The thing is: until I call the first function, you can't use the variable from the first function in the second function.</p>
<p>But I can't call the first function first because it's graphical (tkinter) and the user needs to click a button first and specify the path, and then call the function inside the button.</p>
<p>Thanks in advance for your guidance.</p>
<p>I have used 'return' and 'global', but they haven't been effective.</p>
","2024-07-03 20:07:36","-2","Question"
"78701425","78701307","","<p>There is a lot of flexibility in how you document function parameters in R.  The checks will complain if you give no documentation, but they don't enforce a style or details.</p>
<p>What I find most useful is for the individual parameter descriptions to be quite short, with expanded details in the Details section (as @Bart suggested) or in a Note, or in a separate help page.  For example, you might have something like this in your Rd file:</p>
<pre><code>\arguments{
  \item{arg1}{
A list containing model information.  See Details below.
}
  \item{arg2}{
A model object of class \code{\link{modelObject}}
}
}
\details{
Argument \code{arg1} is a list containing two components:
\describe{
\item{first}{This is the first component}
\item{second}{This is the second component}
}
</code></pre>
<p>If you are using Roxygen you'd put similar text in your Roxygen comments and it would build the Rd file for you.</p>
<p>For examples, you can either create data in the example, use a standard dataset, or read one of your own.  If you do use your own data, don't store a complex structure, store simple data in a format that a user might have, and then show how to build the complex structure in the example code.</p>
","2024-07-03 10:16:13","2","Answer"
"78701307","","How do I document complex function parameters in my own R package?","<p>I am currently transforming my big R-Project into a package and I am trying to document it properly with enough examples and tests.</p>
<p>Some of my functions use parameters that are of a complex type like a list of two dataframes. I don't want to seperate them into two parameters as they belong together and can not be changed independently. How do I deal with that, that means:</p>
<ol>
<li><p>How do I describe this parameter in the function parameter description? Should every necessary dataframe and every necessary column of the dataframes be mentioned and described here or is there a better place?</p>
</li>
<li><p>How do I create a good example and a good test for this function? Is it common to put an example for this complex parameter into the data-subdirectory, so it can be used in the function example?</p>
</li>
</ol>
","2024-07-03 09:52:35","0","Question"
"78701090","78701027","","<p>Are you sure it doesn't just support procedures in pl/pgsql?</p>
<p><a href=""https://docs.aws.amazon.com/redshift/latest/dg/c_PLpgSQL-structure.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/redshift/latest/dg/c_PLpgSQL-structure.html</a></p>
<p><a href=""https://docs.aws.amazon.com/redshift/latest/dg/user-defined-functions.html"" rel=""nofollow noreferrer"">https://docs.aws.amazon.com/redshift/latest/dg/user-defined-functions.html</a></p>
","2024-07-03 09:13:28","0","Answer"
"78701027","","Language plpgsql not supported for CREATE FUNCTION","<p>I have created a function in redshift. But it is throwing an error of language plpgsql not supported for create function. How do I resolve this?</p>
<p>Expected other languages but didn't work. Also I tried to review the logic if it fits as per my requirement which I believe is correct.</p>
<pre><code>Create or Replace Function update_tablename_tablecounts(c_date TEXT)
Returns void 
volatile
AS $$ language plpgsql
Declare
    table_name TEXT;
    row_count INT;
Begin
Create temp table temp_table (
        table_name TEXT unique,
        row_count INT
);

For table_name in Select table_name 
From information_schema.tables
Where table_schema = 'MMO_MMO_proc_'||c_date||'' 
And table_name in ('elig_59_v02', 'prvtonet_6_v03', 'prvtonet_6_v03_pass0','prvtonet_6_v03_pass1','prvtonet_6_v03_final','roster_final') 
Loop
Execute 'SELECT COUNT(*) FROM ' || table_name INTO row_count;
Insert Into temp_table (table_name, row_count)
Values (table_schema.table_name, row_count);
End Loop;
   
Create table if not exists table_counter (
        table_name TEXT,
        row_count INT
);
    
Insert into table_counter
Select * from temp_table;

Drop table temp_table;
 

End;
$$ language plpgsql;
</code></pre>
","2024-07-03 08:58:17","0","Question"
"78700270","78700244","","<p>In JavaScript, all <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function"" rel=""nofollow noreferrer""><code>function</code></a> declarations are <a href=""https://developer.mozilla.org/en-US/docs/Glossary/Hoisting"" rel=""nofollow noreferrer"">hoisted</a> to the top of the scope. Function declarations themselves create a <a href=""https://developer.mozilla.org/en-US/docs/Glossary/Scope"" rel=""nofollow noreferrer"">scope</a>, so in this case, the code is really interpreted as:</p>
<pre class=""lang-js prettyprint-override""><code>let a=5;
function show(){
  function a(){};
  a=10;
  return a;
}
let res=show();
</code></pre>
<p>This means that the outer <code>a</code> reference never changes.
A related SO question: <a href=""https://stackoverflow.com/questions/14665160/javascript-scope-of-function-declarations"">javascript scope of function declarations</a></p>
","2024-07-03 05:49:02","1","Answer"
"78700244","","javascript variable as function","<p>If a javascript variable is called as function, then what is the working process?</p>
<pre><code>let a=5;
function show(){
  a=10;
  function a(){};
  return a;
}
let res=show();
console.log(a,res); //output:5 10
</code></pre>
<p>Can anyone please explain why it is showing 5 for a, what is the meaning of function a(){}?</p>
","2024-07-03 05:38:12","-2","Question"
"78695244","78694607","","<p>You seem to be trying to do a non-parametric bootstrap, i.e. a resampling rows with replacement, which may not be the best idea with mixed models because the <em>terrarium</em> clusters will be of different sizes in each replication. Better do a parametric bootstrap which simulates <em>pronotum</em> outcomes by repeatedly adding residuals drawn from a normal distribution with the parameters from the model (mean, SD) to the fitted values <em>y_hat</em>. Check whether the residuals of your model are approximately normally distributed first.</p>
<pre><code>&gt; library(lme4)
&gt; MMfit &lt;- lmer(pronotum ~ 1 + temperature + (1 | terrarium), data=data)
&gt; resid(MMfit) |&gt; summary()
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
-0.308875 -0.089320 -0.005235  0.000000  0.076235  0.340211 
</code></pre>
<p></p>
<pre><code>&gt; hist(resid(MMfit), 'fd')
</code></pre>
<p><a href=""https://i.sstatic.net/fRIsOl6t.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/fRIsOl6t.png"" alt=""enter image description here"" /></a></p>
<pre><code>&gt; resid(MMfit) |&gt; shapiro.test()

    Shapiro-Wilk normality test

data:  resid(MMfit)
W = 0.99026, p-value = 0.009482
</code></pre>
<p>In the Shapiro test, focus on <em>W</em> if <code>W &gt;= 0.9</code> (i.e. close to 1) or at least <code>p &gt; 0.0001</code>, which looks good in this case.</p>
<p><code>lme4</code> has a <code>bootMer()</code> function which does a parametric bootstrap, you won't need the <code>boot</code> package.</p>
<pre><code>&gt; her_pro &lt;- function(mod) {
+   var_comp &lt;- as.data.frame(VarCorr(mod))
+   family &lt;- var_comp$vcov[var_comp$grp == &quot;terrarium&quot;]
+   residual &lt;- var_comp$vcov[var_comp$grp == &quot;Residual&quot;]
+   heritability &lt;- family/(family + residual)
+   return(heritability)
+ }
&gt; boo01 &lt;- 
+   bootMer(MMfit, her_pro, nsim=5e3, seed=42, parallel='multicore', ncpus=7L)
&gt; boo01

PARAMETRIC BOOTSTRAP


Call:
bootMer(x = MMfit, FUN = her_pro, nsim = 5000, seed = 42, parallel = &quot;multicore&quot;, 
    ncpus = 7)


Bootstrap Statistics :
      original        bias    std. error
t1* 0.06467749 -0.0001821324  0.04021775

112 message(s): boundary (singular) fit: see help('isSingular')

&gt; confint(boo01)
            2.5 %  97.5 %
[1,] 0.0008393493 0.15477
</code></pre>
<p>If you want to know whether you are calculating the heritability statistics correctly, you'd better ask on <a href=""https://stats.stackexchange.com/help/on-topic""><em>Cross Validated</em></a>.</p>
<hr />
<p><em>Data:</em></p>
<pre><code>&gt; dput(data)
structure(list(treatment = c(&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, 
&quot;control&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, &quot;ivermectin&quot;, 
&quot;ivermectin&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, &quot;pla2guicide&quot;, 
&quot;pla2guicide&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, &quot;parasitism&quot;, 
&quot;parasitism&quot;), temperature = c(29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 
29, 29, 29, 29, 29, 29, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 
33, 33, 33, 33, 33, 33, 33, 33), pronotum = c(4.14027463438795, 
4.17330445009485, 4.35219303045809, 4.20337303818563, 4.20925097255927, 
4.3678286977315, 4.2424138196421, 4.06981607558252, 4.12763691385382, 
4.15175600203318, 4.26397560852273, 4.17754881148452, 4.18164457383819, 
4.15263570037329, 4.08598331530338, 4.32025874245909, 4.19135247660171, 
3.94490571311582, 4.21170301893515, 4.09428828800599, 4.06148021615587, 
4.14646509528873, 4.06566214192383, 4.09537346382544, 4.10575865996963, 
3.99959325568031, 4.25204129120401, 4.18359989853821, 4.05444889305336, 
4.29364407886155, 4.24120434450127, 4.16905077405436, 4.28807048845809, 
4.28637127110689, 4.28071603051733, 4.26742194776359, 4.25394968770734, 
4.19236675129591, 4.16796165597959, 4.16051082225235, 4.16406410054465, 
4.21274307063474, 4.10699516327987, 4.45043039497055, 4.3543309982672, 
4.12122394011636, 4.19324631490679, 4.18686926307438, 4.31153131027033, 
4.22519789178951, 4.14280452422822, 4.11461799729388, 4.11318562709961, 
4.25433290123019, 4.09489557426282, 4.2691197332717, 3.96259739240572, 
4.17593404779235, 4.12985809721321, 4.13906682970314, 4.22047623631542, 
4.13227994272851, 4.1491915496725, 4.08065474972873, 4.07533316539188, 
4.21286515217986, 4.22733326590238, 4.18781271071249, 4.27473903482741, 
4.38752075660215, 4.18871720532162, 4.00690343436319, 4.3383941743735, 
4.16690024566904, 4.16901946028054, 4.34037745889694, 4.20934302122217, 
4.11574855070182, 4.25595066990219, 4.22393118568337, 4.17363596059111, 
4.21158758211375, 4.13599353882188, 4.237497196853, 4.15101088581925, 
4.20623773839269, 4.28274344331606, 4.2165776910845, 4.140466383448, 
4.28794030384623, 4.31071498167986, 4.26620429203445, 4.23523776959479, 
4.14857398847971, 4.34742984093665, 4.15133863736893, 4.4300978953853, 
4.36462565870217, 4.1877945601736, 4.10872250605297, 4.22528154267325, 
4.32201056995883, 4.27165301119694, 4.2615679391034, 4.20116034231667, 
4.29181942656228, 4.21783175209747, 4.12952800538436, 4.2582995470144, 
4.38822185994925, 4.18403273251794, 4.30236386100129, 4.07977915794987, 
4.23601123222633, 4.29350814917313, 4.27168276499545, 4.25213504819368, 
4.17749682794824, 4.15659699417542, 4.13915454971829, 4.28002724646457, 
4.17351512533607, 4.21920684238449, 4.24265336753473, 4.45264878727778, 
4.20306759658501, 4.29180124398304, 4.27605867171093, 4.17207692334154, 
4.26113177814219, 4.44301300819592, 4.34370832766151, 4.30268121455288, 
4.25630823911962, 4.09323320019953, 4.411691643695, 4.1524939152611, 
4.37255267344132, 4.48946827927533, 4.1541686062564, 4.40371323197417, 
4.30731504949645, 4.17632038252215, 4.18206803305852, 4.17338118107924, 
4.28044414621967, 4.18735923993711, 4.40232647573428, 4.54354569248926, 
4.20483175083318, 4.29624655757626, 4.29437689692884, 4.25069293072376, 
4.11663501200104, 4.20552741216568, 4.18943313931172, 4.27377162615079, 
4.18022879721836, 4.31517001149731, 4.18001458705204, 4.38778343459737, 
4.17759458737283, 4.15649676356363, 4.60661628153368, 4.24082652922339, 
4.31233504719351, 4.34616925544282, 4.23413422546856, 4.3341984924708, 
4.31940874077794, 4.3162822711631, 4.34434962527981, 4.33441359655343, 
4.55066551182889, 4.26368671229999, 4.22822069521981, 4.34159916184438, 
4.36886839687159, 4.38147266981829, 4.29198378865616, 4.166726928604, 
4.39937805961007, 4.23809450320577, 4.18650825573578, 4.24943158510701, 
4.25334195256626, 4.38405157097248, 4.28153327122084, 4.34846492051957, 
4.22313034028389, 4.33280912704181, 4.27889600493456, 4.320822948901, 
4.22182826028589, 4.18028444275085, 4.51108593455844, 4.37143547845089, 
4.18623745992115, 4.2502480044156, 4.19281658762392, 4.61620323393155, 
4.52756349668653, 4.36980769337354, 4.45064160496639, 4.35488820425129, 
4.34869750958162, 4.31746191525815, 4.33686047229723, 4.56141294577685, 
4.39091938653463, 4.35349195242154, 4.36593617173869, 4.46481501662732, 
4.2899610456843, 4.24231671373958, 4.5091371220191, 4.29745110708825, 
4.26926083178479, 4.21794011689045, 4.213095856547, 4.31086523882476, 
4.43006116847121, 4.47924740064753, 4.43902142213811, 4.33189685704503, 
4.37423758049301, 4.29780294038655, 4.29654077059715, 4.45672763665225, 
4.2667033288942, 4.59408731890283, 4.389525962957, 4.42001180501651, 
4.32470515187963, 4.34111905337726, 4.26685630912306, 4.38026538351631, 
4.44045616284603, 4.43098835676972, 4.32040427364811, 4.3546726013513, 
4.38331492660241, 4.58314086542133, 4.31980443637012, 4.41562963899868, 
4.62377098060459, 4.42343730990382, 4.29755072805456, 4.36705785490929, 
4.48208079632718, 4.27991238566177, 4.26128503647377, 4.2830809494159, 
4.32652233754267, 4.47732354994333, 4.30861616161486, 4.4255526224439, 
4.3805480843938, 4.30610868327813, 4.16418247253968, 4.33040055628418, 
4.33352524272559, 4.38722773131559, 4.51253215580612, 4.61182018542255, 
4.53727039393781, 4.36919719160654, 4.20685954848367, 4.34363430163226, 
4.39143301034677, 4.52232162233402, 4.5340731187757, 4.50625126486892, 
4.29829288694733, 4.52278462649061, 4.39316460028455, 4.4553005919434, 
4.44527543964465, 4.48063699842433, 4.44028782020989, 4.20631203224255, 
4.44670913847847, 4.41166219883609, 4.3464943794733, 4.38487399310579, 
4.38646340653797, 4.39516148885722, 4.53714415859887, 4.35115450410777, 
4.38986608038959, 4.52820298339056, 4.51678269842134, 4.52589090712168, 
4.35361779597769, 4.61161286911293, 4.41803468317667, 4.59804978055433, 
4.27627432748058, 4.41346295471907, 4.53635605318057, 4.1747979803209, 
4.1710533022214, 4.15246832868249, 4.1410708711093, 4.20260624572514, 
4.27944011633907, 4.0449011492511, 4.2675202423804, 4.36998970368483, 
4.45007960086722, 4.32168502799884, 4.26724490515838, 4.01889438886735, 
4.1314167579781, 4.15636278312052, 4.26191981905447, 4.1810002953784, 
4.06570256597277, 4.36001099958819, 4.28270655795838, 4.24200561400366, 
4.34007344778714, 4.08438515803106, 4.28434461653353, 4.16597134912321, 
4.28663713893963, 4.21218039128855, 4.2815586580577, 4.35181434826049, 
4.21899159578624, 4.35031378604879, 4.12971451883879, 4.17639747830998, 
4.4004796934924, 4.28629671965598, 4.04333564031021, 4.11215417714535, 
4.22847982079467, 4.33513586278703, 4.23836959678206, 4.34595354563876, 
4.37943533621548, 4.45064028132299, 4.28913647176419, 4.27833660781861, 
4.10821106252247, 4.29346755784548, 4.22634979264714, 4.18613384015629, 
4.26554417533194, 4.26896699010311, 3.96819782395989, 4.1247447441082, 
4.17913640118702, 4.07815191582325, 4.20086296707867, 4.20861566489032, 
4.16416905690115, 3.92088285345274, 4.42461848741541, 4.21198236229262, 
4.2976316161982, 4.25988893714309, 4.33497961152127, 4.31427823267685, 
4.21153297091659, 4.27032906526029, 4.13797140492705, 4.31820458912937, 
4.186408454151, 4.52949765730609, 4.12271543235846, 4.24142159763067, 
4.3703583082032, 4.33883357661514, 4.22887221807577, 4.18814224770652, 
4.30226789239834, 4.28638958061058, 4.10879219820087, 4.22651464871451, 
4.24208257357037, 4.2405321816993, 4.11755783774085, 4.27067286983138, 
4.36091655569704, 4.2686831823191, 4.10950069496369, 4.17949499503193, 
4.25766990395648, 4.19666003295182, 4.04559996258212, 4.34978967808647, 
4.17841683492119, 4.20400856900682, 4.4117546569841, 4.18395010312311, 
4.34593775010258, 4.13529630820177, 4.22591035577625), terrarium = c(&quot;a&quot;, 
&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, 
&quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, 
&quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, 
&quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, 
&quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, 
&quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, 
&quot;h&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;j&quot;, &quot;j&quot;, 
&quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, 
&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, 
&quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;d&quot;, 
&quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, 
&quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, 
&quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, 
&quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, 
&quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, 
&quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, 
&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;, 
&quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, 
&quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, 
&quot;e&quot;, &quot;e&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;g&quot;, 
&quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, 
&quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, 
&quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, 
&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, 
&quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, 
&quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;c&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, &quot;d&quot;, 
&quot;d&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;e&quot;, &quot;f&quot;, &quot;f&quot;, 
&quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;f&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, 
&quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;g&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, &quot;h&quot;, 
&quot;h&quot;, &quot;h&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;i&quot;, &quot;j&quot;, 
&quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;, &quot;j&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, 
-400L))
</code></pre>
","2024-07-02 05:54:21","1","Answer"
"78695163","78689156","","<p>The issue is related from how the <code>$foo</code> argument is handled within the <code>Foo_Control</code> class. When we add custom arguments to a <code>Customizer control</code>, these arguments should be passed to the constructor and stored as class properties so we can made given changes to confirm the <code>custom argument foo</code> is properly utilized and does not conflict with the enqueue function.</p>
<p>Could you please try to replace</p>
<pre><code>public function __construct( $manager, $id, $args = array(), $options = array() ) {
    
    parent::__construct( $manager, $id, $args );
        
    add_action( 'customize_controls_enqueue_scripts', array( $this, 'foo_enqueue' ), 15 );                      
 }
</code></pre>
<p>with the given code</p>
<pre><code>public function __construct( $manager, $id, $args = array(), $options = array() ) {
    
    parent::__construct( $manager, $id, $args );

    if ( isset( $args['foo'] ) ) {
        $this-&gt;foo = $args['foo']; // Here we are assigning the custom argument.
    }
        
    add_action( 'customize_controls_enqueue_scripts', array( $this, 'foo_enqueue' ), 15 );                      
 }
</code></pre>
<p>Also please try to replace the given code</p>
<pre><code>public function foo_enqueue() {
                        
    wp_enqueue_script( 'foo-script', get_template_directory_uri() . '/js/foo-script.js', array( 'jquery' ), '1.0', true );
    
    // $this-&gt;foo = $foo_dir;   
    // wp_enqueue_script( 'foo-script', get_template_directory_uri() . '/js/'.$foo_dir.'.js', array( 'jquery' ), '1.0', true );

    // js file is not loading with $foo_dir and brokes display foo at render_content after apply                    
 }
</code></pre>
<p>with the given one</p>
<pre><code>    public function foo_enqueue() {
        // Ensure that the foo property is set before using it
        if ( ! empty( $this-&gt;foo ) ) {
            wp_enqueue_script( 'foo-script', get_template_directory_uri() . '/js/' . $this-&gt;foo . '.js', array( 'jquery' ), '1.0', true );
        }
    }

</code></pre>
","2024-07-02 05:31:20","0","Answer"
"78694607","","bootstrap for model estimation with a created function","<p>I am trying to make comparisons between treatments of my heritability estimates, values ​​that I calculated with the following function:</p>
<pre><code>data &lt;- 
  data.frame(treatment=c(&quot;control&quot;, &quot;ivermectin&quot;, &quot;pla2guicide&quot;, &quot;parasitism&quot;),
             temperature=c(&quot;29&quot;, &quot;33&quot;), pronotum=c(4.12, 4.21, 4.33, 4.26, 4.34, 
                                                   4.21, 4.52, 4.35))
data

her_pro &lt;- function(data, indices) {
  mod &lt;- lmer(pronotum ~ 1 + (1 | terrarium), data = data[indices, ])
  df &lt;- as.data.frame(VarCorr(mod))
  family &lt;- df[1, 4]
  residual &lt;- df[2, 4]
  heritability &lt;- family/(family + residual)
  return(heritability)
}
</code></pre>
<p>I used that function to obtain a heritability index, from a mixed model. Then I made a Bootstrap as follows:</p>
<pre><code>BC29_p &lt;- boot(data=data, statistic=her_pro, R=100)
</code></pre>
<p>Now, I want to know if that value of heritability is statistically different between treatments.</p>
<p>What test can I do to compare heritability values?
I've been trying with the finalfit library and the boot_predict function, but I'm not sure if I'm doing it right?</p>
","2024-07-02 00:00:56","1","Question"
"78691529","78691481","","<p>That is a matter of using bit operators:</p>
<pre><code>const getValueOf = y =&gt; (1&lt;&lt;y)-1;
</code></pre>
<p>So for instance, if <code>y</code> is 4, this shifts a 1 bit four times to the left, which in binary is 10000, and then it subtracts 1, which is 1111 in binary.</p>
","2024-07-01 09:57:22","2","Answer"
"78691481","","Convert the greatest binary number (by number of binary digits) to decimal","<p>Given a number of characters, I want to generate the greatest integer whose binary representation fits in that number of characters.</p>
<p>My code working perfectly fine:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const getValueOf=(y)=&gt;{return parseInt('1'.repeat(y),2)};

/*

| Chars   | Binary        | Decimal
| 4       | 1111          | 15

*/

console.log(getValueOf(4)); // = 15

/*

| Chars   | Binary        | Decimal
| 10      | 1111111111    | 1023

*/

console.log(getValueOf(10)); // = 1023

/* -------------- */

console.time('Time spent on 10000000 executions');
for(let z=0;z&lt;10000000;++z){getValueOf(10)};
console.timeEnd('Time spent on 10000000 executions')</code></pre>
</div>
</div>
</p>
<p>However, this is too slow for my purposes. For 10000000 executions it takes about 666ms. I guess the conversion to text makes it sluggish. How can I make this run faster?</p>
","2024-07-01 09:47:19","0","Question"
"78690549","78690513","","<p>Your function only accept 2 arguments: title VARCHAR(250), rating VARCHAR(250)</p>
<p>however, your query seemed to pass 3 arguments -- based on the error message. (The <code>SELECT</code> query you provided does seem to be different to the <code>SELECT</code> query shown in the error message) :</p>
<p><code>SELECT DISTINCT rental_string(title, '', rating), c.name, l...</code></p>
<p>that seems to be the reason for the error <code>HINT: No function matches the given name and argument types. You might need to add explicit type casts.</code></p>
<p>double check the query and remove the second argument ('') if any or what causes it. It should solve the problem!</p>
","2024-07-01 05:11:38","1","Answer"
"78690513","","I am trying to figure out why my INSERT INTO code does not accept my Function(rental_string)","<p>The function alone seems to be working. pgAdmin gave me the thumbs up on it, as well as the table. I tried many different ways to type the function and INSERT INTO portion. I have been working on this for over an hour and seem stuck. I was doing okay up until this portion. Any ideas?</p>
<pre><code>CREATE FUNCTION rental_string (title VARCHAR(250), rating VARCHAR(250))
RETURNS VARCHAR(250)
LANGUAGE plpgsql
AS
$$
BEGIN
RETURN CONCAT(title,' - '  ,rating);
END;
$$;


INSERT INTO detailed_table 
    SELECT DISTINCT rental_string(f.title, f.rating), c.name, l.name
    FROM inventory AS i 
    JOIN film as f ON f.film_id = i.film_id
    JOIN film_category as fc ON fc.film_id = f.film_id 
    JOIN category AS c ON c.category_id = fc.category_id
    JOIN language AS l ON l.language_id = f.language_id
    GROUP BY f.title, c.name, l.name
    ORDER BY f.title;


CREATE TABLE detailed_table (
name_rating VARCHAR(250),
category VARCHAR(250),
film_language VARCHAR(250)
);
</code></pre>
<p>I keep getting these errors:</p>
<blockquote>
<p>ERROR:  function rental_string(character varying, unknown, mpaa_rating) does not exist<br />
LINE 3:  SELECT DISTINCT rental_string(title, '', rating), c.name, l...<br />
^<br />
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.</p>
<p>SQL state: 42883<br />
Character: 47</p>
</blockquote>
","2024-07-01 04:53:19","-1","Question"
"78690109","78690078","","<p>Are you trying to pass 3 values from the java program to the Python program, capture its output back to the java program?   If so, then you are going about this way.  The <code>Desktop</code> approach is really just to launch a new program, as you would do by clicking on an icon on a GUI desktop. (Fire and forget)</p>
<p>If you want to take programmatic control of Python, then you need to use <code>ProcessBuilder</code>.  (There is a older and lower level method you'll find documentation for <code>Runtime.exec()</code>).</p>
<p>You'll want to write something like this:</p>
<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;/path/program.py&quot;, &quot;val1&quot;, &quot;val2&quot;, &quot;val3);
Process process = processBuilder.start();
</code></pre>
<p>Plenty of tutorials exist, e.g.: <a href=""https://www.baeldung.com/java-lang-processbuilder-api"" rel=""nofollow noreferrer"">https://www.baeldung.com/java-lang-processbuilder-api</a></p>
<p>It gets tricky reading the output of the program (<code>process.getInputStream()</code>), knowing how to parse the output from the program, when it has finished, etc and then stopping the invocation of the program.</p>
","2024-07-01 00:13:08","0","Answer"
"78690078","","Run Python function (with parameters) from Java","<p>I'm making a java program that requires me to use python as well. What I want to do is get 3 values from the java code and then call a function from a python file with the 3 values as parameters. How do I go about this?</p>
<p>So far I've tried opening the file with simply:</p>
<pre><code>File file = new File(&quot;python file location&quot;);
Desktop desktop = Desktop.getDesktop();
if(file.exists()) desktop.open(file);
</code></pre>
<p>and catching any IOException but this just runs the entire python file and not the specific function.</p>
","2024-06-30 23:50:48","0","Question"
"78689156","","Wp customizer Custom control class - get value from custom argument to enqueue function inside class","<p>I'm working with custom control in wp customizer.</p>
<p>Got custom argument for this control ( foo ) and trying to get its value as a part of enqueue directory.</p>
<p>So, custom argument foo shows up properly in function render_content();</p>
<p>As I try to do the same in function foo_enqueue(); ( yeah, I know its linked with action ) its broking.
After that, even in render content - foo argument output dissapears.
Class looks like that:</p>
<pre><code>class Foo_Control extends WP_Customize_Control {

 public $type = 'foo_control';  
    
 public $foo; // declare foo argument


 public function __construct( $manager, $id, $args = array(), $options = array() ) {
    
    parent::__construct( $manager, $id, $args );
        
    add_action( 'customize_controls_enqueue_scripts', array( $this, 'foo_enqueue' ), 15 );                      
 }
 
 public function foo_enqueue() {
                        
    wp_enqueue_script( 'foo-script', get_template_directory_uri() . '/js/foo-script.js', array( 'jquery' ), '1.0', true );
    
    // $this-&gt;foo = $foo_dir;   
    // wp_enqueue_script( 'foo-script', get_template_directory_uri() . '/js/'.$foo_dir.'.js', array( 'jquery' ), '1.0', true );

    // js file is not loading with $foo_dir and brokes display foo at render_content after apply                    
 }

 public function render_content() {

    echo $this-&gt;label;          // Foo label
    echo $this-&gt;description;    // Foo desc

    echo $this-&gt;foo;  // foo-script                         
 }
}
</code></pre>
<p>And Setting with control added to $wp_customize looks like:</p>
<pre><code>$wp_customize-&gt;add_setting( 'my_foo_control', array(
    'type' =&gt; 'theme_mod',
));

$wp_customize-&gt;add_control( new Foo_Control( $wp_customize,'my_foo_control', array(
    'section'       =&gt; 'homepage',
    'label'         =&gt; 'Foo label',
    'description'   =&gt; 'Foo desc',       
    'foo'           =&gt; 'foo-script', // custom argument

) ));
</code></pre>
<ul>
<li><p>Tried with $this-&gt;foo,</p>
</li>
<li><p>Tried with function a , function b($a)</p>
</li>
<li><p>Tried with function a() { b(); }</p>
</li>
<li><p>Tried with function a { $this-&gt;b();}</p>
</li>
<li><p>Tried with function a { self::b(); }</p>
</li>
</ul>
<p>Still can't make it.</p>
","2024-06-30 16:22:01","0","Question"
"78686678","78686338","","<p>This is where you can use recursion. This means you have a function that takes care of creating subarrays of a given size, but relies on the following observation:</p>
<p>If we can do the job for subarrays which are one item shorter than the given size, then we can do it also for the given size: we just execute the function to generate the arrays that are one item shorter, and then append to each the &quot;current&quot; element.</p>
<p>Here is a recursive implementation that outputs the same table as your example:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function getSubarrays(arr, depth, take=0) {
    if (depth &lt;= 0) return [[]]; // One result: an empty subarray
    depth--;
    const subarrays = [];
    for (let i = take; i &lt; arr.length - depth; i++) {
        for (const subarray of getSubarrays(arr, depth, i + 1)) {
            subarrays.push([...subarray, arr[i]]);
        }
    }
    return subarrays;
}

const arr = ['a','e','i','o','u'];
const results = getSubarrays(arr, 3);
// Output with console.log
for (const row of results) console.log(...row);</code></pre>
</div>
</div>
</p>
<p>So the second argument given to <code>getSubarrays</code> is the number of nested loops you want to execute. This argument is decreased one step at a time in recursion.</p>
","2024-06-29 17:33:09","3","Answer"
"78686629","78682747","","<p>There really isn't a useful specific type that works this way. You'd like to say that you'll allow <code>T</code> to have any extra key not present in <code>T</code>, and the property at that key will be of type <code>(val: T) =&gt; T</code>. The stumbling block is that you can't say &quot;any key except for <code>keyof T</code>&quot;.  That would require something like a &quot;rest index signature&quot; or a &quot;default property type&quot; as requested in <a href=""https://github.com/microsoft/TypeScript/issues/17867"" rel=""nofollow noreferrer"">microsoft/TypeScript#17867</a>. But that isn't part of the language. There are various workarounds discussed at <a href=""https://stackoverflow.com/q/61431397/2887218"">How to define Typescript type as a dictionary of strings but with one numeric &quot;id&quot; property</a>.  You could certainly describe a <a href=""https://www.typescriptlang.org/docs/handbook/2/generics.html#generic-constraints"" rel=""nofollow noreferrer"">generic <em>constraint</em></a> which validates objects like this, but it won't let you <a href=""https://www.typescriptlang.org/docs/handbook/type-inference.html#contextual-typing"" rel=""nofollow noreferrer"">infer the parameter type</a> of the functions you add. It's a mess to do it that way.</p>
<p>It would be much much better for you to add a single property with a known key (like <code>fns</code>) that <em>contains</em> values of type <code>(val: T) =&gt; T</code>... pushing those functions down one level.  That can be described as a specific type like this:</p>
<pre><code>type Expand&lt;T&gt; =
  T extends object ? {
    [K in keyof T]: Expand&lt;T[K]&gt; } &amp;
  { fns?: { [k: string]: (val: T) =&gt; T } } :
  T
</code></pre>
<p>It's a <a href=""https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html#recursive-conditional-types"" rel=""nofollow noreferrer"">recursive conditional type</a> that <a href=""https://www.typescriptlang.org/docs/handbook/2/objects.html#intersection-types"" rel=""nofollow noreferrer"">intersects</a> each object type with an object optionally containing a <code>fns</code> property with an <a href=""https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures"" rel=""nofollow noreferrer"">index signature</a>.  For</p>
<pre><code>type ICreate = {
  param: {
    first: {
      value: number;
    }
  }
}
</code></pre>
<p>the expanded version is equivalent to</p>
<pre><code>type ExpandICreate = Expand&lt;ICreate&gt;;
/* type ExpandICreate = {
    param: {
        first: {
            value: number;
            fns?: { [k: string]: (val: { value: number }) =&gt; { value: number }}
        }
        fns?: { [k: string]: 
          (val: { first: { value: number }}) =&gt; { first: { value: number }}
        }
    }
    fns?: { [k: string]: (val: ICreate) =&gt; ICreate }
} */
</code></pre>
<p>That's enough to make your original version <em>sort of</em> work, but an index signature doesn't &quot;remember&quot; which keys are present, and optional properties don't &quot;remember&quot; if they are there or not:</p>
<pre><code>const create = &lt;T,&gt;(params: Expand&lt;T&gt;) =&gt; params;

const result = create&lt;ICreate&gt;({
  param: {
    first: {
      value: 1,
      fns: {
        change: (val) =&gt; val,
      }
    }
  }
});

result.param.first.value.toFixed(); // okay
result.param.first.fns.change({ value: 1 }); // error, fns might be undefined
result.param.first.fns?.change({ value: 1 }); // okay
result.param.first.fns?.whaaaaa({ value: 1 }); // also okay
</code></pre>
<p>If you want TS to know that <code>fns</code> exists under <code>first</code> and that <code>change</code> exists under <code>fns</code> and that <code>whaaaaaa</code> does <em>not</em> exist under <code>fns</code>, then you need to make <code>create()</code> even more <a href=""https://www.typescriptlang.org/docs/handbook/2/generics.html"" rel=""nofollow noreferrer"">generic</a>. You'd <em>like</em> to write</p>
<pre><code>const create = &lt;T, U extends Expand&lt;T&gt;&gt;(params: U) =&gt; params;
</code></pre>
<p>but there's no way to call this where you manually specify <code>T</code> and have the compiler infer <code>U</code>. That would be <a href=""https://github.com/microsoft/TypeScript/issues/26242"" rel=""nofollow noreferrer"">microsoft/TypeScript#26242</a> and it isn't part of the language. The workaround here is <a href=""https://en.wikipedia.org/wiki/Currying"" rel=""nofollow noreferrer"">currying</a>:</p>
<pre><code>const create = &lt;T,&gt;() =&gt; &lt;U extends Expand&lt;T&gt;&gt;(params: U) =&gt; params;
</code></pre>
<p>So you call <code>create&lt;ICreate&gt;()</code> and that <em>returns</em> a function you call with <code>params</code>:</p>
<pre><code>const result = create&lt;ICreate&gt;()({
  param: {
    first: {
      value: 1,
      fns: {
        change: (val) =&gt; val,
      }
    }
  }
})

result.param.first.value.toFixed(); // okay
result.param.first.fns.change({ value: 1 }); // okay
result.param.first.fns.whaaaaa({ value: 1 }); // error
</code></pre>
<p>That now works how you'd like it.</p>
<p><a href=""https://www.typescriptlang.org/play/?target=7&amp;noErrorTruncation=true&amp;ts=5.5.2#code/FAFwngDgpgBAogDwgQwHYBMA8AVAfDAXmBhmxigRCgwGcYB7AIwCsoBjEGAfhgG9iSMANoBpGAEtUMANZQw9AGakAugC54SNFmyjl+AL4wAZAN4wFqGl3Vmh09TRAAnSQHM1MABQA3ZABt1bABKQnwyQ0NVAWxgUEhYAEkAYScoZCpCPgEUJ2QAWxsBEgVxJ0dCwUFfPwBXKHVUGrzGKCcAbiKYfQFu7vBoDRQMZNT02AJBrUwRtKpcDoB6ACoYfthEIfQZscz+Spz8isrBErKQI+Pj6rqGppb2zsviy2s+YXsYRxdUd3UffxsMGu9RgjWarS6IQI+DMwNu4KcXW6Ty6jxOL0BdgczjcHjRlX+ATep3KbzhoLuEP0+ihMPMpVJsP8NwpCKR+NRlWR6KsmI+X1xf2q6m2VFpMFFsF6MCWC1iwFQ+SgNBQbFgKQAjFkSGx6JZOGxRhkJjgADS4TwHPI0dQbKZ4cVWmgdAS6-UwVI0Gp+TgTQ2zKDTFIBi17QRWi4nBnnbVPcka00ciw22MotgACzQrhBhPF1UTKO5XM63JpHRInu9IAAdFbqySa8DqyB6AAxcQIKDoTxBNowBYLBjSZBgASVn215C5PL16P1yzVjNZqCeJm1EFasv9wetJz0Jym8yWGB5cSudOcFowGoYKAlVBdsfKquT6ezs7zqyLzM-Fdrlmbr225DiOT5ehOdYNp+XDVgA7pmyCIcgq5AsyG6Qn2A4wP4ND0CBo7dMAFAQPuBp6o4MD+jsJrYOaPahDAmAAKrkJQ1DoHQdoYDguAWtkU75CmTGOgJ1oum6FHjr6lFGoGkoWkEq78dOkYNpGJDxgWxzJupghLr+Qr+Hm-hacWZmojSsRSa++Tvo41ZNi27adt2QFYfQw6jtZkFzsm37Lih8YYcBHmgd5ol2TWfnwUhiGBWh6iAZhO5OHuTjAEAA"" rel=""nofollow noreferrer"">Playground link to code</a></p>
","2024-06-29 17:05:31","0","Answer"
"78686566","78686433","","<p>The design you want is pointless. Just call the methods directly:</p>
<pre class=""lang-py prettyprint-override""><code>from turtle import Screen, Turtle

t = Turtle()
t.forward(50)
t.right(90)
Screen().done()
</code></pre>
<p>...and always use instance mode, never call methods on the module.</p>
<p>You basically never need <code>getattr</code>, like you never need <code>global</code> or <code>sys.setrecursionlimit</code>. These are footgun features provided by the language that should be ignored, only leading to pain in the long run.</p>
","2024-06-29 16:37:34","2","Answer"
"78686543","78686433","","<p>Any parameters passed to function must be defined, as the solution Mureinik said, you could pass the function as a string, since the functions you mentioned are instance method of a class, <code>getattr</code> is a prefer way for them.</p>
<p>However, as your question's title stated, a more generic way is to pass a function as a common parameter directly, of course, the function symbol must be exist before using it:</p>
<pre class=""lang-py prettyprint-override""><code>import turtle as t

pen=t.Turtle

def forward_pen(pen, var):
    pen.forward(var) 

def right_pen(pen, var):
    pen.right(var) 

def orders(funcp, var):
    funcp(pen, var)

orders(forward_pen, 50)
orders(right_pen, 90)
t.done()
</code></pre>
","2024-06-29 16:23:55","0","Answer"
"78686463","78686433","","<p>You can use <a href=""https://docs.python.org/3/library/functions.html#getattr"" rel=""nofollow noreferrer""><code>getattr</code></a> to get the relevant function from its name:</p>
<pre class=""lang-py prettyprint-override""><code>import turtle as t

pen=t.Turtle()

def orders(name, var):
    if hasattr(pen name):
        getattr(pen, name)(var)

# Note that the names should be strings
orders('forward', 50)
orders('right', 90)
t.done()
</code></pre>
","2024-06-29 15:45:48","0","Answer"
"78686433","","Can we use commands as a parameters?","<p>I want to use the commands as parameters in a function.
Is there any way ?</p>
<pre><code>import turtle as t

pen=t.Turtle

def orders(name,var) :
    pen.name(var)

orders(forward,50)
orders(right,90)
t.done()
</code></pre>
<p>I am expecting it will do ...</p>
<pre class=""lang-py prettyprint-override""><code>pen.forward(50)
pen.right(90)
</code></pre>
","2024-06-29 15:34:04","0","Question"
"78686338","","Creating Internal Loops Dynamically","<p>My code is working perfectly :</p>
<pre><code>const i=['a','e','i','o','u'];
let q=[];

for(let t=0,l=i.length;t&lt;l;++t)
{
    for(let e=t+1,l=i.length;e&lt;l;++e)
    {
        for(let z=e+1,l=i.length;z&lt;l;++z)
        {
            q.push([i[z],i[e],i[t]]);
        }
    }
}

console.table(q);
</code></pre>
<p>But my goal is to make the internal loops dynamically so I could modify the number on the <strong>internal loops</strong> (<em>3 at that specific case</em>).</p>
<p>For example if I would want to modify the internal loops to 4 I would need to rewrite the code as such:</p>
<pre><code>const i=['a','e','i','o','u'];
let q=[];

for(let t=0,l=i.length;t&lt;l;++t)
{
  for(let e=t+1,l=i.length;e&lt;l;++e)
  {
    for(let z=e+1,l=i.length;z&lt;l;++z)
    {
      for(let c=z+1,l=i.length;c&lt;l;++c)
      {
        q.push([i[c],i[z],i[e],i[t]]);
      }
    }
  }
}

console.table(q);
</code></pre>
<p>Therefore, I want to be able to make the internal loops <strong>DYNAMICALLY</strong> with the same exact formula.</p>
","2024-06-29 14:59:48","-2","Question"
"78684591","78684531","","<p>I would slightly adjust your assumptions:</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; import datetime
&gt;&gt;&gt; start_dt = datetime.datetime(2024, 1, 1)
&gt;&gt;&gt; min_week = min(df.week_nbr.str.rsplit(&quot; &quot;).str[-1].astype(int))
&gt;&gt;&gt; df[&quot;new_cal_date&quot;] = datetime.timedelta(days=7)*df.week_nbr.str.rsplit(&quot; &quot;).str[-1].astype(int).sub(min_week) + start_dt
&gt;&gt;&gt; df
  state_territory_code week_nbr new_cal_date
0                   CA  WEEK 49   2024-01-01
1                   CA  WEEK 49   2024-01-01
2                   FL  WEEK 49   2024-01-01
3                   CA  WEEK 50   2024-01-08
4                   TN  WEEK 50   2024-01-08
5                   HI  WEEK 50   2024-01-08
6                   GA  WEEK 51   2024-01-15
7                   FL  WEEK 51   2024-01-15
</code></pre>
<p><strong>Explanation:</strong> you probably mean to map week, per its number to date - not rely on order (even if it's given).
You also will be better off using vectorized computing, <code>apply</code> is usually slower.
The only caveat here is, if year marker changes - but you can easily mitigate it with grouping/conditional mapping.</p>
","2024-06-28 22:15:55","1","Answer"
"78684531","","Function not capturing change in values","<p><strong>I have the following dataframe:</strong></p>
<pre><code>state_territory_code    week_nbr
 CA                     WEEK 49
 CA                     WEEK 49
 FL                     WEEK 49
 CA                     WEEK 50
 TN                     WEEK 50
 HI                     WEEK 50
 GA                     WEEK 51
 FL                     WEEK 51
</code></pre>
<p><strong>I am trying to essentially perform the following:</strong></p>
<ul>
<li>If the current week number during iteration is different than the
next (if it changes) - then take the date, add 7 days, and create a
new column.</li>
</ul>
<p><strong>The output should be:</strong></p>
<pre><code>state_territory_code    week_nbr          new_cal_date
     CA                     WEEK 49         01/01/2024
     CA                     WEEK 49         01/01/2024
     FL                     WEEK 49         01/01/2024
     CA                     WEEK 50         01/08/2024
     TN                     WEEK 50         01/08/2024
     HI                     WEEK 50         01/08/2024
     GA                     WEEK 51         01/15/2024
     FL                     WEEK 51         01/15/2024
</code></pre>
<p><strong>Here is my code:</strong></p>
<pre><code>def cal_week_start(some_df):
    start_dt = datetime.datetime(2024, 1, 1)
    
    for i, wk in enumerate(some_df):
        if i &lt; (len(some_df)-1): ## Keep running as long as we haven't reached end of DF
            next_value = some_df[i+1] ## index pos of next value
            if wk != next_value: ## if value changes from one to the next do something
                new_dt = start_dt + timedelta(days = 7) ## Add 7 days.
                start_dt = new_dt ## reinitiate variable to add 7 days, 14, 21, etc.
                return start_dt 
        else:
            return start_dt

df_new['new_cal_date'] = df_new['week_nbr'].apply(cal_week_start)
</code></pre>
<p>It's a little wonky I know/not fool-proof, but I just need it to execute on a large dataset. It works when I test it outside of the function for some reason, not sure why it just repeats 01/08/2024 all the way through. Any help would be greatly appreciated. I am still learning.</p>
","2024-06-28 21:46:14","1","Question"
"78683962","78683491","","<p>You can use recursive CTE like this.</p>
<pre><code>CREATE TABLE #populationChanges 
(
    id INT, 
    originaltype VARCHAR(50),
    NewType VARCHAR(50),
    percentOfPopulation DECIMAL(5,4)
)

INSERT INTO #populationChanges (id, [originaltype],[NewType], [percentOfPopulation])
VALUES (1, 'trout', 'bass', 0.4000),
       (2, 'trout', 'shark',0.6000),
       (3, 'shark', 'clownFish', 0.3000),
       (4, 'shark', 'PufferFish', 0.7000),
       (5, 'PufferFish', 'Tuna', 0.7000),
       (6, 'PufferFish', 'Coy', 0.1000),
       (7, 'PufferFish', 'Shrimp', 0.2000),
       (8, 'coy', 'lobster', 1.0000),
       (9, 'Shrimp', 'King Crab', 0.6000)

declare @orig varchar(50) = 'PufferFish'
,@initVal int = 1000

;with fish as (
--anckor query
select id,originaltype,NewType,cast(percentOfPopulation as float) percentOfPopulation, 1 lvl
from #populationChanges
where originaltype= @orig
union all
--recursive query
select p.id,p.originaltype,p.NewType,p.percentOfPopulation * f.percentOfPopulation, lvl+1 
from #populationChanges p
inner join fish f on p.originaltype=f.NewType
)
select percentOfPopulation * @initVal val, NewType
from fish f
--filter out intermediates
where not exists (select 1 from fish f1 where f.NewType=f1.originaltype)

drop table #populationChanges
</code></pre>
<p>Result.</p>
<pre><code>700 Tuna
120 King Crab
100 lobster
</code></pre>
<p>I think <code>shrimp</code> in OP expected result is a mistake / typo.</p>
","2024-06-28 18:19:25","0","Answer"
"78683813","78681623","","<p>This is not about the lateral join as such.  The function acts as an optimization barrier.  The function is being called once for each row, instead of being optimized away to be processed in bulk using hash tables or hash joins.</p>
<p>(lateral joins can also act as optimization barriers, but do not in this particular case)</p>
<p>If the view is generally used with a very restrictive WHERE clause which will be pushed into table1, this could actually turn out to be a benefit as the bulk operation can be inefficient when only a few rows will be needed.</p>
<p>You could use some kind of macros system to simplify repetitive code.  PostgreSQL doesn't provide such, it would be up to your code repository or framework or whatever you use to manage your code.</p>
","2024-06-28 17:40:41","1","Answer"
"78683491","","Need to create recursive conversion function or stored procedure in SQL server for population","<p>I am working with a population of items that goes through conversions from 1 type to another based on percentages in a table.</p>
<p>The conversion hapen iteratively until there are conversions left.
What i would like to be able to do input a type and population and return a table of the converted population.</p>
<p>I'm really looking for ideas on how to approach this (using SQL Server).  I'll give a simple example below.</p>
<pre><code>CREATE TABLE populationChanges 
(
    id INT, 
    originaltype VARCHAR(50),
    NewType VARCHAR(50),
    percentOfPopulation DECIMAL(5,4)
)

INSERT INTO [dbo].[populationChanges] (id, [originaltype],[NewType], [percentOfPopulation])
VALUES (1, 'trout', 'bass', 0.4000),
       (2, 'trout', 'shark',0.6000),
       (3, 'shark', 'clownFish', 0.3000),
       (4, 'shark', 'PufferFish', 0.7000),
       (5, 'PufferFish', 'Tuna', 0.7000),
       (6, 'PufferFish', 'Coy', 0.1000),
       (7, 'PufferFish', 'Shrimp', 0.2000),
       (8, 'coy', 'lobster', 1.0000),
       (9, 'Shrimp', 'King Crab', 0.6000)
</code></pre>
<p>For example if I start with 1000 Shrimp since there is only 1 conversion it simply would return 600,'Lobster', but if there are multiple conversions I need to go through multiple steps</p>
<p>For example: 1000 puffer fish becomes 700 tuna, 100 coy and 200 shrimp, but the coy and shrimp go through another conversion so what a really end up with is</p>
<pre><code>700 tuna, 
100 lobster, 
120 shrimp
</code></pre>
<p>My actual data has thousands of types and and up to 20 layers of conversions, and I can't wrap my head around where to start.
Any help would be appreciated</p>
","2024-06-28 16:18:25","-1","Question"
"78683082","78211862","","<p>The problem lies in the usage of <strong>@return</strong>. In SCSS, <strong>@return</strong> is used within a function to return a value, but it seems you’re trying to use it directly within the media queries. Instead, you should <strong>define the device type</strong> (e.g., mobile, tablet, or desktop) <strong>as a variable</strong> and then return that variable outside the media queries.</p>
<p>Here’s a corrected version of your code:</p>
<pre><code>@function getDevice() {
    $device: null; // Initialize the variable

    @media screen and (max-width: 800px) {
        $device: mobile;
    }
    @media screen and (min-width: 801px) and (max-width: 1024px) {
        $device: tablet;
    }
    @media screen and (min-width: 1025px) {
        $device: desktop;
    }

    @return $device; // Return the device type
}

</code></pre>
","2024-06-28 14:38:59","0","Answer"
"78682793","78681623","","<p>You did not show actual query plans (output of <code>EXPLAIN (ANALYZE, BUFFERS, SETTINGS)</code>), but there are several performance traps in your function. Rewrite as:</p>
<pre><code>CREATE OR REPLACE FUNCTION does_t2_record_exist(_object_id int8, _table_name text)
  RETURNS bool
  LANGUAGE sql STABLE PARALLEL SAFE AS  -- !
$func$
SELECT EXISTS (
   SELECT FROM table2 t2
   WHERE  t2.fk = _object_id
   AND    lower(t2.table_name) = _table_name
   );
$func$;
</code></pre>
<p>And your query then is simply:</p>
<pre class=""lang-sql prettyprint-override""><code>SELECT ...
     , does_t2_record_exist(t1.id, 't1') AS t2_record_exists
FROM   table1 t1
</code></pre>
<p>No need for the <code>LATERAL</code> join, once you have wrapped the <strong>correlated subquery</strong> into the function.</p>
<p>The expression <code>lower(t2.table_name)</code> is not <a href=""https://en.wikipedia.org/wiki/Sargable"" rel=""nofollow noreferrer"">sargable</a>. Be sure to have a (default) B-tree multicolumn, expression <a href=""https://www.postgresql.org/docs/current/indexes.html"" rel=""nofollow noreferrer""><strong>index</strong></a> on <code>table2(fk, lower(tablename))</code>. (Or just on one of both index fields <strong>if</strong> that is selective enough on its own.)</p>
<p>You don't need PL/pgSQL for the simple function. Switching to <code>LANGUAGE sql</code> possibly allows function inlining.</p>
<p>Add the function labels <code>PARALLEL SAFE</code> and <code>STABLE</code> (because they both actually apply!) to allow various performance optimizations.</p>
<p>Still, if anything, the function can only be slower than putting the <code>EXISTS</code> expression with a correlated subquery into the <code>SELECT</code> list directly. Very little, though, if you do everything right.</p>
<p>That said, a <code>LATERAL</code> join, or your function running a <strong>correlated subquery</strong> has to be executed once per qualifying row in the query. If that results in querying the majority of rows that a plain subquery  would have to process, a join (not <code>LATERAL</code>) is still the fastest option. (Or your original query, which may result in the same query plan.) Like:</p>
<pre class=""lang-sql prettyprint-override""><code>SELECT ...
     , t2.fk IS NOT NULL AS t2_record_exists
FROM   table1 t1
LEFT   JOIN (
   SELECT DISTINCT t2.fk  -- do we even need DISTINCT?
   FROM   table2 t2
   WHERE  lower(t2.table_name) = 't1'
   ) t2 ON t2.fk = t1.id
</code></pre>
<p>See:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/28550679/what-is-the-difference-between-a-lateral-join-and-a-subquery-in-postgresql/28557803#28557803"">What is the difference between a LATERAL JOIN and a subquery in PostgreSQL?</a></li>
</ul>
<h3>Added query plans reveal ...</h3>
<p>Your table <code>table2</code> only has 372 rows, 113 of which are filtered. That's tiny. You won't need an index! Postgres gets it done with a sequential scan in one fell swoop for the original query.<br />
Wrapping the functionality into the black box of a PL/pgSQL function forced Postgres to execute it <strong><code>loops=1477585</code></strong> times. That's bad.</p>
<p>My rewritten version may fix this. Or revert to your original query. (Or my appended alternate.)</p>
","2024-06-28 13:36:13","2","Answer"
"78682749","78682689","","<p><code>errno</code> is implementation defined. See <a href=""https://en.cppreference.com/w/cpp/error/errno"" rel=""nofollow noreferrer"">cppreference</a>:</p>
<blockquote>
<p>errno is a preprocessor macro used for error indication. It expands to a static(until C++11)thread-local(since C++11) modifiable lvalue of type <code>int</code>.</p>
</blockquote>
<p>From what you already found out, we can conclude that <code>__errno_location()</code> is a function (or some callable) returning a pointer to <code>int</code> which encodes the last error on the implementation you are using.</p>
<p>As mentioned in a comment, the identifier <code>errno</code> is reserved by POSIX.</p>
<p>Now, what happens in your code is more or less this:</p>
<pre><code>int* foo() { 
    static int x = 42;
    return &amp;x;
}

int main() {
    try {

    } catch(const int (*foo()) ){

    }
}
</code></pre>
<p>Which also compiles (see here: <a href=""https://godbolt.org/z/3v8nsPr74"" rel=""nofollow noreferrer"">https://godbolt.org/z/3v8nsPr74</a>).</p>
<p>The reason is that <code>const int (*foo())</code> is actually declaring a parameter named <code>foo</code> of type <code>const int(*)()</code>, ie a pointer to a function with no parameter and returning a <code>const int</code>.</p>
<p>And as you already discovered, the name is just coincidence. Your parameter is called <code>__errno_location</code>, and inside the <code>catch</code> block it shadows the actual function with the same name.</p>
<p>The lesson to learn here is how evil macros are. They pollute the global namespace. That's why you had the surprise when using <code>errno</code> as the name of the parameter. And secondly, macros are evil, because an innocent-looking name can turn a <code>const int*</code> into something of a totally different type. Unfortunately, here you have no choice to not use the macro. You only have to be careful to avoid the name.</p>
","2024-06-28 13:27:45","1","Answer"
"78682747","","Extending the object type of a function argument","<p>I want to extend the function argument type by adding a function with any name to each object and return it, but i am facing a problem with naming the key of the added function</p>
<pre><code>
export type Expand&lt;T&gt; = {
  [K in keyof T as K]: T[K] extends { [K in string]: unknown }
    ? ExpandData&lt;T[K]&gt;
    : T[K] | ((p: T) =&gt; T);
};
type ExpandData&lt;T extends { [K in string]: unknown }&gt; = T | Expand&lt;T&gt;;

export const create = &lt;T,&gt;(params: Expand&lt;T&gt;): Expand&lt;T&gt; =&gt; {
  return params;
};

</code></pre>
<p>I want to use it like this, where the function change: (val) =&gt; val will return me the value of the object where it is located ( with any name instead of &quot;change&quot; )</p>
<pre><code>
type ICreate = {
  param: {
    first: {
      value: number;
    }
  }
}

const result = create&lt;ICreate&gt;({param: {
  first: {
    value: 1,
    change: (val)=&gt; val, // type val = { value: number }
  }
}})
</code></pre>
<p>and get as a result type in the form</p>
<pre><code>  {
    param: {
      first: {
        value: number
        change: Function 
      }
    }
  }
</code></pre>
<p>How to do this correctly?
( ICreate type may change, I'm looking for a generic solution )</p>
","2024-06-28 13:27:18","1","Question"
"78682689","","What does the variable declaration `const int *__errno_location ()` inside this catch statement actually do?","<p>While working on an exercise for my C++ class where we were working on Exception handling, I came across a puzzling issue. I initially had the following exception handler (Please don't roast the use of <code>int</code>s as exceptions, this was the task we were given):</p>
<pre><code>#include &lt;iostream&gt;
//...

try {
    // Code that throws an int
}
catch(const int errno) {
    std::cout &lt;&lt; errno &lt;&lt; std::endl;
}
</code></pre>
<p>To the untrained eye, this would seem like a normal declaration of an integer exception variable. However, the unsafe code kept evading the catch block, despite throwing an integer itself. After some investigation, it turned out that a Macro in <code>errno.h</code> declared <code>#define errno (*__errno_location ())</code> caused a Macro Expansion into the following code</p>
<pre><code>try {
    // Code that throws an int
}
catch(const int (*__errno_location())) {
    std::cout &lt;&lt; (*__errno_location()) &lt;&lt; std::endl;
}
</code></pre>
<p>I was unsure what exactly is being declared in the catch Expression. I tried using <a href=""https://cdecl.org/"" rel=""nofollow noreferrer"">C Gibberish to English</a>, but unsurprisingly that didn't help much, telling me that it was declaring a function returning an <code>int*</code>. ChatGPT was also puzzled by this expression, calling it &quot;unconventional formatting&quot;.</p>
<p>Playing around with it a little, I came up with the following code:</p>
<pre><code>const int *blah() {
    return new int(10);
}

int main() {
    try {
        throw &amp;blah;
    }
    catch(const int *foo()) {
        std::cout &lt;&lt; *foo () &lt;&lt; std::endl;
    }
}
</code></pre>
<p>Which outputs the number 10 to the console. Changing the values in the integer constructor also causes that integer to be output to the console as well. So my current hypothesis is that <code>const int *foo()</code> is declaring that a function pointer returning an int pointer be caught in this catch block, and in the print statement we simply call that function and dereference the pointer. I would like my hypothesis be verified or corrected by more experienced C++ programmers though.</p>
","2024-06-28 13:14:26","0","Question"
"78682065","78681623","","<p>When the <code>EXISTS</code> operation is directly in the query, then PostgreSQL can transform the subquery into a semantically equivalent <code>JOIN</code>; however, when the <code>EXISTS</code> operation is hidden behind a function call, the query engine no longer has the information it needs to perform such optimizations. Running <code>EXPLAIN (ANALYZE, BUFFERS, VERBOSE)</code> on each query should make the reason for the performance difference evident: wrapping the <code>EXISTS</code> in a function causes the subquery to be executed for each row instead of using a more efficient <code>JOIN</code>.</p>
","2024-06-28 10:58:01","1","Answer"
"78681623","","Performance loss introducing lateral join in Postgres query","<p>I am dealing with a PostgreSQL (v14) query of this kind</p>
<pre><code>SELECT
    ...,
    EXISTS (
        SELECT 1
        FROM table2 t2
        WHERE t2.fk = t1.id
          AND LOWER(t2.table_name) = 't1'
    ) AS t2_record_exists
FROM table1 t1;
</code></pre>
<p>and was hoping to extract the logic in a function to be used in lateral join, in order to compute that field in a more readable way (as it is to be used in a view).</p>
<p>This is the resulting query</p>
<pre><code>SELECT
    ...,
    t2_record_exists.t2_record_exists
FROM table1 t1
    LEFT JOIN LATERAL does_t2_record_exist(t1.id, 't1') t2_record_exists(t2_record_exists) ON TRUE;
</code></pre>
<p>That makes use of this function</p>
<pre><code>CREATE OR REPLACE FUNCTION does_t2_record_exist(object_id int8, _table_name text)
    RETURNS bool
    LANGUAGE plpgsql
AS $function$
BEGIN
    RETURN EXISTS (
        SELECT 1
        FROM table2 t2
        WHERE t2.fk = object_id
            AND LOWER(t2.table_name) = _table_name
    );
END $function$;
</code></pre>
<p>The second query suffers a severe performance loss, as it executes in about 6000ms, while the first gets it done in 300ms.</p>
<p>I don't know why this would happen, as I naively assumed that the very same operation (the EXISTS subquery) would be executed the same amount of times (once per row).</p>
<p>What is going wrong here? How can one foresee such performance issues beforehand?</p>
<p>EDIT: Here are the query plans (obtained with <code>EXPLAIN ANALYZE</code>) for my specific case</p>
<p>Query 1 (with subquery):</p>
<pre><code>Index Only Scan using cos_table1 on table1 t1 (cost=0.43..3723311.61 rows=1481535 width=9) (actual time=56.299..247.674 rows=1477585 loops=1)
  Heap Fetches: 46760
  SubPlan 2
    -&gt;  Seq Scan on table2 t2  (cost=0.00..15.27 rows=2 width=8) (actual time=11.300..11.454 rows=372 loops=1)
          Filter: (lower(table_name) = 't1'::text)
          Rows Removed by Filter: 113
Planning Time: 0.085 ms
JIT:
  Functions: 13
  Options: Inlining true, Optimization true, Expressions true, Deforming true
  Timing: Generation 0.769 ms, Inlining 17.544 ms, Optimization 24.557 ms, Emission 13.652 ms, Total 56.524 ms
Execution Time: 276.285 ms
</code></pre>
<p>Query 2 (with LATERAL JOIN):</p>
<pre><code>Nested Loop Left Join  (cost=0.68..56512.74 rows=1481535 width=9) (actual time=0.039..5978.865 rows=1477585 loops=1)
  -&gt;  Index Only Scan using cos_table1 on table1 t1 (cost=0.43..26881.79 rows=1481535 width=8) (actual time=0.011..179.682 rows=1477585 loops=1)
        Heap Fetches: 46760
  -&gt;  Function Scan on does_t2_record_exist t2_record_exist (cost=0.25..0.26 rows=1 width=1) (actual time=0.004..0.004 rows=1 loops=1477585)
Planning Time: 0.065 ms
Execution Time: 6024.267 ms
</code></pre>
","2024-06-28 09:18:55","0","Question"
"78675379","78674784","","<p>You are using jQuery's <code>click</code> function. This method triggers a click event on the element and once the click event finishes it runs the callback function that you supply it. I believe that you might be trying to add an event listener to the element instead which can be achieved using the <code>on</code> method.</p>
<p>Replace</p>
<pre class=""lang-js prettyprint-override""><code>$(&quot;#btn&quot;).click(function() {
    alert(&quot;This is an alert message!&quot;);
});
</code></pre>
<p>with</p>
<pre class=""lang-js prettyprint-override""><code>$(&quot;#btn&quot;).on(&quot;click&quot;, function() {
    alert(&quot;This is an alert message!&quot;);
});
</code></pre>
<p>Now the callback will be run when the user clicks the button.</p>
<p>Secondly by &quot;delete a function&quot; I am assuming that you are wanting to remove the event listener. You can do this using jQuery's <code>off</code> method.</p>
<pre class=""lang-js prettyprint-override""><code>function triggerAlert() {
    alert(&quot;This is an alert message!&quot;);
}

// the button now alerts when the user clicks it
$(&quot;#btn&quot;).on(&quot;click&quot;, triggerAlert);

// the button no longer alerts when the user clicks it
$(&quot;#btn&quot;).off(&quot;click&quot;, triggerAlert);
</code></pre>
<p>One important thing to note is that you must pass in the exact function you want to remove to the <code>off</code> method which means you must store the function exteriorly rather than inlining it in the .on method call.</p>
","2024-06-27 02:53:42","0","Answer"
"78674802","78674763","","<p>You can create the combined variable before doing the <code>pivot_wider()</code> and it should give your required result</p>
<pre><code>Desired_output &lt;- DATA %&gt;%
    transmute(ID, District, Year, newvar = paste(Type, Language, sep=&quot;_&quot;)) %&gt;%
    pivot_wider(names_from = Year, values_from = newvar)

Desired_output
#   ID        District     `1617`     `1718`
# 1  1   GreshamBarlow 5F_Spanish 5F_Spanish
# 2  2 JeffersonCounty 5F_English 5F_English
</code></pre>
","2024-06-26 21:51:04","0","Answer"
"78674801","78674763","","<pre><code>DATA %&gt;% 
   unite(Type, Type, Language) %&gt;% 
   pivot_wider(names_from = Year, values_from = Type)

# A tibble: 2 × 4
     ID District        `1617`     `1718`    
  &lt;int&gt; &lt;chr&gt;           &lt;chr&gt;      &lt;chr&gt;     
1     1 GreshamBarlow   5F_Spanish 5F_Spanish
2     2 JeffersonCounty 5F_English 5F_English
</code></pre>
","2024-06-26 21:50:37","3","Answer"
"78674784","","How To Cancel / Delete a Function (when changing screen size) - Jquery","<p>How do you cancel / delete a function, dependant on the screen size?
Currently, my functions carry over from portrait to landscape (and vice versa)
.<br />
So is it possible to delete/cancel a function? And if not what else should I do?</p>
<p>Jsfiddle for demo &amp; more explanation: <a href=""https://jsfiddle.net/tmcoqLgu/67/"" rel=""nofollow noreferrer"">https://jsfiddle.net/tmcoqLgu/67/</a></p>
<p>Updated Jsfiddle with answer from <strong>Vexcess:</strong> <a href=""https://jsfiddle.net/9kt0f3cs/8/"" rel=""nofollow noreferrer"">https://jsfiddle.net/9kt0f3cs/8/</a></p>
<p>Jquery Code:</p>
<pre><code>  var width = [0, 575];
  var height = [0, 575];

  function ScreenTrigger() {
    if (window.innerWidth &gt;= width[0] &amp;&amp; window.innerWidth &lt; width[1]) {
      $('.display').addClass(&quot;portrait&quot;);
      $('.display').removeClass(&quot;landscape&quot;);
      if ($('.display').hasClass(&quot;portrait&quot;)) {

        // This function will carry over to both screen sizes once you resize the screen.
        $(&quot;#btn&quot;).click(function() {
          alert(&quot;This is an alert message!&quot;);
        });

      };
    } else if (window.innerHeight &gt;= height[0] &amp;&amp; window.innerHeight &lt; height[1]) {
      $('.display').addClass(&quot;landscape&quot;);
      $('.display').removeClass(&quot;portrait&quot;);
      if ($('.display').hasClass(&quot;landscape&quot;)) {
        //
        /* 

            Delete Alert Function Here

        */
        //
      };
    } else {
      $('.display').removeClass(&quot;landscape&quot;);
      $('.display').removeClass(&quot;portrait&quot;);
    }
  };
  window.onresize = ScreenTrigger;
  ScreenTrigger();
</code></pre>
<p>Adding double functions in both screen sizes (the same function, but with different content to counter act eachother), doesn't work for me because the DIV that I'm targetting is used different in both screens sizes.</p>
<p>Using <code>if ($('.display').hasClass(&quot;portrait&quot;))</code> to wrap around the functions, to cancel 1 or the other,  doesn't work either.</p>
","2024-06-26 21:45:26","0","Question"
"78674763","","Wide format data by pasting two sets of variables into one in R","<p>I've tried to wide-format my <code>DATA</code> into my <code>Desired_output</code> using:</p>
<p><code>pivot_wider(DATA, names_from = Year, values_from = c(Type, Language))</code></p>
<p>without success. Is there a way to achieve my <code>Desired_output</code>?</p>
<pre><code>library(tidyverse)

DATA &lt;- read.table(header=TRUE, text=&quot;
ID District       Type Year Language
1 GreshamBarlow   5F  1617   Spanish
1 GreshamBarlow   5F  1718   Spanish
2 JeffersonCounty 5F  1617   English
2 JeffersonCounty 5F  1718   English&quot;)


Desired_output &lt;- read.table(header=TRUE, text=&quot;
ID District        1617             1718 
1  GreshamBarlow   5F_Spanish       5F_Spanish
2  JeffersonCounty 5F_English       5F_English&quot;)
</code></pre>
","2024-06-26 21:39:06","2","Question"
"78674176","78672006","","<p>As CBroe indicated, you're having a timing issue. Your main function responsible for combining the images - <code>layers2single</code> - is requesting loading and subsequently drawing three images. Afterwards your calling <code>layers.toDataURL()</code>.
e.g.</p>
<pre><code>                img1 = new Image();
                img1.onload = function() {
                    ctx.drawImage(img1, 0, 0);
                };
                img1.src = L11;

                img2 = new Image();
                img2.onload = function() {
                    ctx.drawImage(img2, 0, 0);
                };
                img2.src = L12;

                img3 = new Image();
                img3.onload = function() {
                    ctx.drawImage(img3, 0, 0);
                };
                img3.src = L13;


                dataURL = layers.toDataURL();
</code></pre>
<p>Unfortunately though things are not happening in that straight order. So sometimes it might occur that the <code>onload</code> event happens <strong>after</strong> calling <code>toDataUrl</code>.
You can help yourself by making the outer function <strong>async</strong> and <strong>await</strong> loading of the images.</p>
<pre><code>function loadImage(src) {
    return new Promise((resolve, reject) =&gt; {
        let img = new Image();
        img.onload = () =&gt; resolve(img);
        img.onerror = reject;
        img.src = src;
    });
}

async function layers2single(w, h, L11, L12, L13) {
    var layers, ctx;
    var img1, img2, img3, img4, img5, img6;
    var dataURL;

    layers = document.createElement(&quot;canvas&quot;);
    layers.class = &quot;canvas&quot;;
    layers.width = w;
    layers.height = h;

    ctx = layers.getContext(&quot;2d&quot;);

    img1 = await loadImage(L11);
    ctx.drawImage(img1, 0, 0);

    img2 = await loadImage(L12);
    ctx.drawImage(img2, 0, 0);

    img3 = await loadImage(L13);
    ctx.drawImage(img3, 0, 0);


    dataURL = layers.toDataURL();

    return dataURL;
}
</code></pre>
","2024-06-26 18:46:27","2","Answer"
"78672006","","Convert overlapped png images to a single one with returning Base64 on javascript, multi browser suport?","<p>There are some png images: 1 of them is not transparent, other - are transparent.
All of it are at Base64 string.</p>
<p>It is necessary to overlap each other, convert overlapped images to monolithic image and return Base64 strig of the resulted single image.
It is necessary to do by iavascript with supporting of main browsers: IE, Edge, Opera, Chrome, Firefox, Safary.
It is NOT necessary to display it all !!
Only conversion and returning is necessary !!</p>
<p>Then it has to be shown at console or to be used in in other javascript functions.</p>
<p>To reach it I use canvas element - create it programmatically and use drawImage:</p>
<pre><code>&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;Тест 93 !&lt;/title&gt;
    &lt;/head&gt;
    &lt;body onload=&quot;init()&quot;&gt;
        &lt;h1&gt;Test 95 !&lt;/h1&gt;

        &lt;script type=&quot;text/javascript&quot;&gt;
            function init() {
                const layer1Data = &quot;data:image/png;base64,...&quot;;

                const layer2Data = &quot;data:image/png;base64,...&quot;;
                const layer3Data = &quot;data:image/png;base64,...&quot;;

                var single = layers2single(710, 750, layer1Data, layer2Data, layer3Data);

                console.log(single);
            }

            function layers2single(w, h, L11, L12, L13) {
                var layers, ctx;
                var img1, img2, img3, img4, img5, img6;
                var dataURL;

                layers = document.createElement(&quot;canvas&quot;);
                layers.class = &quot;canvas&quot;;
                layers.width = w;
                layers.height = h;

                ctx = layers.getContext(&quot;2d&quot;);

                img1 = new Image();
                img1.onload = function() {
                    ctx.drawImage(img1, 0, 0);
                };
                img1.src = L11;

                img2 = new Image();
                img2.onload = function() {
                    ctx.drawImage(img2, 0, 0);
                };
                img2.src = L12;

                img3 = new Image();
                img3.onload = function() {
                    ctx.drawImage(img3, 0, 0);
                };
                img3.src = L13;


                dataURL = layers.toDataURL();

                return dataURL;
            }
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>But either empty dataURL is returned or in Chrome, Edge, Opera, not empty dataURL is returned after reload page but even after reload, it can be empty from time to time.</p>
<p>How is to make it stable working in IE, Edge, Opera, Chrome, Firefox ?</p>
","2024-06-26 11:05:59","-1","Question"
"78671609","78671248","","<p>You need to add (&quot;&quot;) around the <strong>thisWorks</strong> word. like this: <code>console.log (&quot;thisWorks&quot;)</code></p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;html&gt;
   &lt;head&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;script&gt;
         function x() {
         console.log (""thisWorks"")
         }
      &lt;/script&gt;
      &lt;button onclick=""x()""&gt;Click Me!&lt;/button&gt;
   &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
","2024-06-26 09:44:13","1","Answer"
"78671248","","im trying to run some very basic javascript on a click event and im getting an undefined function error","<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script&gt;
  function x() {
    console.log(""thisWorks"")
  }
&lt;/script&gt;
&lt;button onclick=""x()""&gt;&lt;/button&gt;</code></pre>
</div>
</div>
</p>
<p>my hopes were that clicking the button would trigger the console command and i could add more code, but when i click it i get an error that looks like this <a href=""https://i.sstatic.net/Z4seGCem.png"" rel=""nofollow noreferrer"">error message</a>
im using opera GX browser about:blank page.</p>
<p>I checked w3schools and copied directly from their page, where it worked, i still got the error. (<a href=""https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_onclick"" rel=""nofollow noreferrer"">https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_onclick</a>)
i tried moving the functions before the button element, i tried putting the script in the parent element of the button, i tried copying from the html in the w3schools page and it's the same error.</p>
<p>honestly im a very novice coder and it's probably something stupid but i would appreciate some help</p>
<p>edit: i asked a friend to do the same thing on their computer with the same result, so it's not my pc.</p>
<p>i have no clue why this works in the stack overflow preview but not in about:blank</p>
","2024-06-26 08:41:29","-1","Question"
"78669344","78668993","","<p>Answer:</p>
<p>Yes, it's doing what you think it's doing. An easy way to tell is just to add some print statements.</p>
<pre class=""lang-py prettyprint-override""><code>def initialize(initialState):
    state = initialState
    print(f&quot;I am executed on initialization: {state}&quot;)
    def f(increment): 
        nonlocal state
        print(f&quot;I am incrementing {state} by {increment}&quot;)
        state = state + increment

    return f

fun = initialize(10)
fun(5)
fun(20)
</code></pre>
<p>output</p>
<pre><code>I am executed on initialization: 10
I am incrementing 10 by 5
I am incrementing 15 by 20
</code></pre>
<p>Aside:</p>
<p>Your example may just be too reductive, but the logic you're extracting is extremely simple. You're not going to get <em>that</em> much of speed up. I'm not sure if there's extra code between the conditional and the return, but declaring the return value and then incrementing it based on the condition's result is unnecessary.</p>
<p>Here, I've compared your approach, with two different simplifications and both achieve a speedup. Python is truly a strange language. Every compiled language I know of is able to eliminate branching instructions when using a ternary. I would expect the ternary approach to be the fastest.</p>
<pre class=""lang-py prettyprint-override""><code>import timeit

def approach1(): 
    def preprocessor (parameter_array):
        condition = parameter_array[0]
        index = parameter_array[1]
        return lambda x_array: x_array[index] ** 2 if condition else x_array[index] - 5
    test_parameters = [True, 1]
    function = preprocessor(test_parameters)
    sum = 0
    for i in range(100000):
        sum += function([i, i])
    
def approach2():
    def preprocessor (parameter_array):
        condition = parameter_array[0]
        index = parameter_array[1]
        def f (x_array):
            result = 0
            if (condition):
                result += x_array[index] ** 2
            else:
                result += x_array[index] - 5
            return result
        return f
    
    test_parameters = [True, 1]
    function = preprocessor(test_parameters)
    sum = 0
    for i in range(100000):
        sum += function([i, i])

def approach3():
    def preprocessor (parameter_array):
        condition = parameter_array[0]
        index = parameter_array[1]
        def f (x_array):
            if (condition):
                return x_array[index] ** 2
            return x_array[index] - 5
        return f
    test_parameters = [True, 1]
    function = preprocessor(test_parameters)
    sum = 0
    for i in range(100000):
        sum += function([i, i])

n = 100
print(timeit.timeit(approach1, number=n))
print(timeit.timeit(approach2, number=n))
print(timeit.timeit(approach3, number=n))
</code></pre>
<p>output</p>
<pre><code>0.8117037120027817
0.9467067930017947
0.8014805819984758
</code></pre>
<p>P.S.</p>
<p>While these types of optimizations can be fun and help you learn about performance characteristics of the language, your time is much better spent on optimizing things like the algorithms you're using. If you <em>really</em> need performance, Python is not the language for you.</p>
","2024-06-25 20:06:18","0","Answer"
"78668993","","""Preprocessing"" a Python function, to avoid excess evaluation of conditional logic","<p>I am writing some Python code that includes functions with two sets of parameters. The first set of parameters will be different every single time the function is called. The second set of parameters will be the same for large groups of function calls (e.g., these change every 10000s of evaluations of the function). I am hoping to write this function in such a way that the conditional logic is run only once whenever the values of the second set of parameters change. I have included some code that I think might work, but after some testing with the time module, the improvement seems very small. Is this code actually doing what I am describing? And if not, is there some way to do this in Python?</p>
<pre><code>def preprocessor(parameter_array):
    # example parameters
    condition = parameter_array[0]
    index = parameter_array[1]

    def f(x_array):
        result = 0
        if (condition):
            result += x_array[index] ** 2
        else:
            result += x_array[index] - 5
        # ...
        return result

    return f

# define some test parameters
test_parameters = [True, 1]

# run the function 100000 times with these parameters
function = preprocessor(test_parameters)

sum = 0
for i in range(100000):
    sum += function([i, i])

print(sum)
</code></pre>
<p>My hope is that, written in this way, the if statement is only evaluated whenever I call the <code>preprocessor</code> function. Thus, it speeds up the evaluation of the for loop, where only the x values change. This took around 0.024 seconds to run, while a control took around 0.028 seconds to run. I have also included the code I used for the control below (everything is without the time module for readability).</p>
<pre><code>def f(x_array, parameter_array):
    # example parameters
    condition = parameter_array[0]
    index = parameter_array[1]

    result = 0
    if (condition):
        result += x_array[index] ** 2
    else:
        result += x_array[index] - 5
    # ...
    return result

# define some test parameters
test_parameters = [True, 1]

# run the function 100000 times without using the preprocessed function
sum = 0
for i in range(100000):
    sum += f([i, i], test_parameters)

print(sum)
</code></pre>
","2024-06-25 18:23:54","0","Question"
"78668868","78668522","","<p>There seem to be be a few things going on here:</p>
<ol>
<li><code>let</code> creates a block-scoped variable, so it can only be used within the block it's declared it. You would need to create a global variable instead or pass the variable to <code>checkFormErrors()</code>.</li>
<li><code>checkFormErrors()</code> returns the error count, but you're not saving the result to use in your click listener. Update <code>errors</code> with <code>errors = checkFormErrors(...)</code>;</li>
</ol>
","2024-06-25 17:50:08","2","Answer"
"78668522","","Custom function to check blank inputs","<p>Trying to build a custom function that checks for errors and then shows the error.</p>
<p>As of right now, the whole process looks like this:</p>
<pre><code>$(&quot;#addRecordSubmit&quot;).on(&quot;click&quot;, function(e) {
  e.preventDefault();
  let errors = &quot;&quot;;

  let addobj = {
    addReference: $(&quot;#addReference&quot;).val(),
    addAccount: $(&quot;#addAccount&quot;).val(),
    addDescription: $(&quot;#addDescription&quot;).val(),
    // some more items
  };

  if (addobj.addReference == &quot;&quot;) {
    $(&quot;#addReferenceError&quot;).show();
    errors = errors + 1;
  }
  if (addobj.addAccount == &quot;&quot;) {
    $(&quot;#addAccountError&quot;).show();
    errors = errors + 1;
  }
  if (addobj.addDescription == &quot;&quot;) {
    $(&quot;#addDescriptionError&quot;).show();
    errors = errors + 1;
  }
  // some more if statements

  if (errors &gt; 0) {
    return false;
  } else {
    // process submit
  }
});
</code></pre>
<p>So a reusable function would help me out here.</p>
<p>So I started to build a reusable function outside of the on click function above.  It currently looks like this:</p>
<pre><code>function checkFormErrors(obj, errorMessage) {
  if(obj == &quot;&quot;) {
    $(errorMessage).show();
    errors = errors + 1;
  }
  return errors;
}
</code></pre>
<p>Then inside my on click function, I am calling the checkFormErrors function like this:</p>
<pre><code>checkFormErrors(addobj.addReference, &quot;#addReferenceError&quot;);
</code></pre>
<p>Upon submitting the form, I am getting the console error:</p>
<pre><code>ReferenceError: errors is not defined
</code></pre>
<p>What did I do wrong, and how can I make this function work properly?</p>
<p>*** EDIT ***</p>
<p>So I'm passing &quot;errors&quot; from the on click into the checkFormErrors function like so:</p>
<pre><code>$(&quot;#addRecordSubmit&quot;).on(&quot;click&quot;, function(e) {
  e.preventDefault();
  let errors = &quot;&quot;;

  let addobj = {
    addReference: $(&quot;#addReference&quot;).val(),
    addAccount: $(&quot;#addAccount&quot;).val(),
    addDescription: $(&quot;#addDescription&quot;).val(),
    // some more items
  }

  checkFormErrors(addobj.addReference, &quot;#addReferenceError&quot;, errors);

  if (errors &gt; 0) {
    return false;
  } else {
    // process submit
  }
});
</code></pre>
<p>So the checkFormErrors function now looks like this:</p>
<pre><code>function checkFormErrors(obj, errorMessage, errors) {
  if(obj == &quot;&quot;) {
    $(errorMessage).show();
    errors = errors + 1;
  }
  return errors;
}
</code></pre>
<p>I'm no longer getting the &quot;error is not defined&quot; message, but I am not getting the error count returned back into the on click function.</p>
<p>How can I fix this?</p>
","2024-06-25 16:21:06","1","Question"
"78665128","78664170","","<p>Let me guess, you are a developer who wants perfect identification of newline sequences regardless of the environment AND you want to keep all of your hair?</p>
<p>PHP has had a solution for this for a long time and it doesn't involve Minoxidil; just use <code>\R</code>.  I'll replace each newline sequence with an asterisk to show how it reliably respects all possible newline sequences across all environments and treats them as whole newline sequences whenever appropriate.</p>
<p>Code: (<a href=""https://3v4l.org/2IogX"" rel=""nofollow noreferrer"">Demo</a>)</p>
<pre><code>$inputs = [
    'Windows' =&gt; &quot;Dog\r\nCat\r\nMouse&quot;,
    'Linux' =&gt; &quot;Bicycle\nCar\nTrain\nAirplane&quot;,
    'Mac' =&gt; &quot;iPhone\riPod\rMacBook&quot;,
    'Win + Linux' =&gt; &quot;int main() {\n   return 0;\r\n}\n&quot;,
    'All mixed up' =&gt; &quot;This is a Windows new line\r\n, followed by a Linux new line\n and finally an old Mac with a single carriage return\rat the end&quot;,
];

var_export(
    preg_replace('/\R/', '*', $inputs)
);
</code></pre>
<p>Output:</p>
<pre><code>array (
  'Windows' =&gt; 'Dog*Cat*Mouse',
  'Linux' =&gt; 'Bicycle*Car*Train*Airplane',
  'Mac' =&gt; 'iPhone*iPod*MacBook',
  'Win + Linux' =&gt; 'int main() {*   return 0;*}*',
  'All mixed up' =&gt; 'This is a Windows new line*, followed by a Linux new line* and finally an old Mac with a single carriage return*at the end',
)
</code></pre>
<p>If you need an array of newline sequences, just use <code>preg_match_all()</code> with the same, lone pattern. <a href=""https://3v4l.org/GdREZ"" rel=""nofollow noreferrer"">Demo</a></p>
<pre><code>foreach ($inputs as $env =&gt; $input) {
    preg_match_all('/\R/', $input, $matches);
    var_dump(
        $env,
        json_encode($matches[0])
    );
}
</code></pre>
<p>Relevant reading on implementations of <code>\R</code>:</p>
<ul>
<li><a href=""https://stackoverflow.com/a/70914630/2943403"">Replace multiple new lines with a single newline</a></li>
<li><a href=""https://stackoverflow.com/a/63922758/2943403"">Explode PHP string by new line</a></li>
<li><a href=""https://stackoverflow.com/a/63923234/2943403"">Reliably split user-submitted textarea value on newlines</a></li>
<li><a href=""https://stackoverflow.com/a/78598738/2943403"">Validate predictable phrases in multiline text separated by commas</a></li>
<li><a href=""https://stackoverflow.com/a/65384851/2943403"">Split string by new line characters</a></li>
<li><a href=""https://stackoverflow.com/a/77575000/2943403"">Remove new line and carriage return characters in a string</a></li>
<li><a href=""https://stackoverflow.com/a/78094818/2943403"">How to insert string before last line?</a></li>
<li><a href=""https://stackoverflow.com/a/49205087/2943403"">PHP - Export name and email address from file</a></li>
</ul>
","2024-06-25 02:04:14","1","Answer"
"78664346","78664170","","<p>In my opinion, your code is fine. It's just your input which is a mixture.</p>
<pre class=""lang-php prettyprint-override""><code>&lt;?php

$LINE_TYPES = [
    '\\r\\n' =&gt; '/\\r\\n/',
    '\\n' =&gt; '/(?&lt;!\\r)\\n/',
    '\\r' =&gt; '/\\r(?!\\n)/',
];

$inputs = [
    'Windows' =&gt; &quot;Dog\r\nCat\r\nMouse&quot;,
    'Linux' =&gt; &quot;Bicycle\nCar\nTrain\nAirplane&quot;,
    'Mac' =&gt; &quot;iPhone\riPod\rMacBook&quot;,
    'Win + Linux' =&gt; &quot;int main() {\n   return 0;\r\n}\n&quot;,
    'All mixed up' =&gt; &quot;This is a Windows new line\r\n, followed by a Linux new line\n and finally an old Mac with a single carriage return\rat the end&quot;,
];

foreach ($inputs as $label =&gt; $input) {
    $found_types = [];
    foreach ($LINE_TYPES as $type =&gt; $regex) {
        if (preg_match($regex, $input)) {
            $found_types[] = $type;
        }
    }
    print &quot;Found types for $label is &quot; . implode(', ', $found_types) . PHP_EOL;
}

</code></pre>
<p>Outputs the following:</p>
<pre><code>Found types for Windows is \r\n
Found types for Linux is \n
Found types for Mac is \r
Found types for Win + Linux is \r\n, \n
Found types for All mixed up is \r\n, \n, \r
</code></pre>
<p>which seems completely normal.</p>
<p>You can test/play with it here: <a href=""https://onlinephp.io/c/4ce47"" rel=""nofollow noreferrer"">https://onlinephp.io/c/4ce47</a></p>
","2024-06-24 19:41:59","2","Answer"
"78664170","","Finding all types of end-of-line delimiters in a file","<p>I have the following function to get all of the different types of end-of-line delimiters in a file. There may be one or more, so I want to return an array of all types.</p>
<pre class=""lang-php prettyprint-override""><code>function ddtt_get_file_eol( $file_contents, $incl_code = true ) {
    $types = [
        '\r\n',
        '\n',
        '\r'
    ];
    $found = [];
    foreach ( $types as $type ) {
        if ( $type == '\r\n' ) {
            $regex = &quot;/\r\n/&quot;;
        } elseif ( $type == '\n' ) {
            $regex = &quot;/(?&lt;!\r)\n/&quot;;
        } else {
            $regex = &quot;/\r(?!\n)/&quot;;
        }
        if ( preg_match( $regex, $file_contents ) ) {
            $found[] = ( $incl_code ) ? '&lt;code class=&quot;hl&quot;&gt;'.$type.'&lt;/code&gt;' : $type;
        }
    }
    return $found;
} // End ddtt_get_php_eol()
</code></pre>
<p>The problem I am having is that it is recognizing <code>\r\n</code> as two separate types and outputting <code>[ '\n', '\r' ]</code>. I want to output <code>[ '\r\n' ]</code> if it is just using that type, or <code>[ '\r\n', '\n' ]</code> if using both types, etc. How do I modify my code to correctly fetch all types used?</p>
","2024-06-24 18:49:49","1","Question"
"78662918","78662663","","<p>Your table was created by, perhaps IMPORT, TRANSPOSE or some array-based pivot, and there are some numbered columns that are not present.</p>
<p>You can concatenate a list of variables using the <code>OF</code> operator.</p>
<p>Example:</p>
<p>The similar prefix (<code>:</code>) specifier is used to make a list of all variables that start with underscore (<code>_</code>)</p>
<pre><code>length result $32767 ;
result = catx('+', of _:) ;
</code></pre>
<p>A more sophisticated variable selection can be done with <code>SQL</code> and <code>DICTIONARY.COLUMNS</code></p>
<pre><code>%let names = &quot;&quot; ; %* for the case of no prxmatches ;
proc sql noprint ;
  select name into :names separated by ','
  from dictionary.columns
  where libname = 'WORK' and memname = 'HAVE'
  and prxmatch ('m/^_\d+$/,trim(name))
  order input(substr(name,2),best8.);
data want;
  set WORK.HAVE ;
...
  result = catx('+', &amp;names) ;
...
</code></pre>
","2024-06-24 13:56:33","0","Answer"
"78662885","78662663","","<p><code>validvarnames=any</code> is likely enabled, and you need to use name literals with these columns. For example:</p>
<p><code>'1'n</code>, <code>'2'n</code>, <code>'3'n</code>, etc.</p>
<p>To use <code>catx()</code> on these columns, use name literal format instead:</p>
<p><code>catx('+', of '1'n--'26'n)</code></p>
<p>To force SAS to add an underscore on these column names, set <code>validvarname=v7</code>:</p>
<p><code>options validvarname=v7;</code></p>
<p>SAS will replace invalid characters with underscores, and add underscores in front of columns that start with numbers.</p>
","2024-06-24 13:50:49","1","Answer"
"78662663","","Wrong Column names on SAS","<p>I have a table with several columns, some of which are named using numbers (e.g., 1, 2, 3, …). When I attempt to use the CATX function with these column names (e.g., CATX(&quot;+&quot;, _1, _2, _3, ..., _26)), I encounter an issue where it reports that the columns do not exist. This behavior used to work in regular SAS, but now that I’m working with SAS Grid, it no longer functions as expected. I have an error saying that those columns don't exist.</p>
","2024-06-24 13:06:03","1","Question"
"78660550","78660460","","<p>I think you will pay $ and not only print $ string signs,right?</p>
<pre><code>class Salesman:
        def __init__ (self, salesman, sales_id, years_worked):
            self.salesman = salesman  
            self.sales_id = sales_id
            self.years_worked = years_worked
        def __str__(self):
            print_me =  '\nSalesman: ' + str(self.salesman)
            print_me += '\nSales ID: ' + str(self.sales_id)
            print_me += '\nAnniversary: ' + str(self.years_worked) + &quot;years&quot;
            return print_me
        def bonus(self): # each method need, at leats self
            # def 4th attribute,
            self.bonus = f&quot;${self.years_worked}&quot;
            print(f&quot;{self.salesman} earned, {self.bonus} bonus so far this year!&quot;)
            
def main():
    # define two objects
    print(&quot;\nWe would like to Congratulate the following Employees&quot;, end = &quot; &quot;)
    print(&quot;who have hit their workiversary&quot;)
    salesman1 = Salesman(&quot;Frank&quot;, 1234, 10)
    salesman2 = Salesman(&quot;Justin&quot;, 5678, 5)
    print(salesman1)
    print(salesman2)

    #set and print bonus
    salesman1_bonus = salesman1.bonus()
    salesman2_bonus = salesman2.bonus()

    # call Franks bonus attribute
    print(&quot;Frank earned additionally&quot;)
    print(&quot;Bonus:&quot;, salesman1.bonus)
    

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
<p>Output:</p>
<pre><code>We would like to Congratulate the following Employees who have hit their workiversary

Salesman: Frank
Sales ID: 1234
Anniversary: 10years

Salesman: Justin
Sales ID: 5678
Anniversary: 5years

Frank earned, $10 bonus so far this year!
Justin earned, $5 bonus so far this year!

Frank earned additionally
Bonus: $10
</code></pre>
<p>As a hint or question, why not define all attributes directly with the initialization of the object:</p>
<pre><code>def __init__ (self, salesman, sales_id, years_worked):
    self.salesman = salesman  
    self.sales_id = sales_id
    self.years_worked = years_worked
    self.bonus = f&quot;${self.years_worked}&quot;
</code></pre>
<p>In your solution, if you change the year attribute, the bonus will not influenced, until you set the bonus by bonus function call!</p>
","2024-06-24 04:32:37","0","Answer"
"78660474","78660460","","<p>Let's say we define an object called my_remote, then we give method/s to the object (my_remote) like: power_off, power_on, ok, and other methods.</p>
<p>If we want to call the method power_off, then use <code>power_off()</code>. If we want to do activities, use <code>my_remote.power_off()</code>.</p>
","2024-06-24 03:51:12","-2","Answer"
"78660460","","How do you Define and Call an object","<p>Class Salesman has 3 attributes: salesman, sales_id, and years_worked.
I would like to define bonus, using the years_worked.  I want to add &quot;$&quot; for each year worked.
How do I def bonus()?</p>
<p>The following gives me this error: &lt;function Salesman.bonus at 0x000002602DCAF9C0&gt;</p>
<pre><code>    class Salesman:
        def __init__ (self, salesman, sales_id, years_worked):
            self.salesman = salesman  
            self.sales_id = sales_id
            self.years_worked = years_worked
        def __str__(self):
            print_me =  '\nSalesman: ' + str(self.salesman)
            print_me += '\nSales ID: ' + str(self.sales_id)
            print_me += '\nAnniversary: ' + str(self.years_worked) + &quot;years&quot;
            return print_me
        def bonus():
            bonus = &quot;$&quot; * self.years_worked
            print(salesman, 'earned ', bonus, 'so far this year!')
    def main():
        print(&quot;\nWe would like to Congratulate the following Employees&quot;, end = &quot; &quot;)
        print(&quot;who have hit their workiversary&quot;)
        salesman1 = Salesman(&quot;Frank&quot;, 1234, 10)
        salesman2 = Salesman(&quot;Justin&quot;, 5678, 5)
        print(salesman1)
        print(salesman2)
        print()salesman1_bonus = Salesman.bonus(&quot;Frank&quot;, 10)
        print(salesman1_bonus)
</code></pre>
","2024-06-24 03:41:06","0","Question"
"78659302","78659273","","<p>The <code>process</code> block is invoked per each value from pipeline, each item is passed one by one and processed. That's not the case when you bind the array to your parameter. If you want to handle both cases equally, binding from pipeline and parameter binding, you will need a loop over your parameter. See also <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_functions_advanced_methods?view=powershell-7.4#process"" rel=""nofollow noreferrer""><code>process</code> from about Functions Advanced Methods</a>.</p>
<pre class=""lang-bash prettyprint-override""><code>Function foo {
    [CmdletBinding()]
    Param(
        [Parameter(ValueFromPipeline, ValueFromPipelineByPropertyName)]
        [array] $path
    )

    Begin {
        '---begin---' ; $path
    }
    Process {
        foreach ($item in $path) {
            '---Process---' ; $item
        }
    }
    End {
        '---End---' ; $path
    }
}
</code></pre>
<p>As an aside, values are not treated as a multi-line string when not using the pipeline, they're always treated as what the parameter is typed to, an array in this case. You will always need a loop, be it from the pipeline or not.</p>
<pre class=""lang-bash prettyprint-override""><code>function foo {
    [CmdletBinding()]
    Param(
        [Parameter(ValueFromPipeline)]
        [array] $path
    )

    Process {
        $path.GetType()
    }
}

foo 1, 2, 3
1, 2, 3 | foo
</code></pre>
","2024-06-23 16:49:07","3","Answer"
"78659273","","without using the pipeline, values to array parameter are being treated as multi line string","<pre><code>Function foo{
    [CmdletBinding()]
    Param(
    [Parameter(ValueFromPipeline, ValueFromPipelineByPropertyName)]
    [array]$path
    #[string[]]$path    #I tried this too, same issue as above.
    )

    Begin{&quot;---begin---&quot; ; $path}
    Process{&quot;---Process---&quot; ; $path}
    End{&quot;---End---&quot; ; $path}
    }
</code></pre>
<p>without the pipeline, multiple values passed to the <code>path</code> parameter are always seen as a multi line string, <code>foo -path 'C:\temp\green', 'C:\temp\blue', 'C:\temp\red'</code>:</p>
<pre><code>---begin---
red
blue
green
---Process---
red
blue
green
---End---
red
blue
green
</code></pre>
<p>with the pipeline, values to <code>path</code> are correctly treated as array elements, <code>foo -path 'red', 'blue', 'green'</code>:</p>
<pre><code>---begin---
---Process---
red
---Process---
blue
---Process---
green
---End---
green
</code></pre>
<p>I dont understand this sudden change of behaviour, I am expect both instances of invoking <code>foo</code> (with or without pipeline) to output values to <code>path</code> as single array elements.</p>
<p>win11/pwsh 7.4</p>
","2024-06-23 16:33:21","3","Question"
"78659053","78659009","","<p>Aggregate, <a href=""https://pandas.pydata.org/docs/reference/api/pandas.Series.shift.html"" rel=""nofollow noreferrer""><code>shift</code></a>, then <a href=""https://pandas.pydata.org/docs/reference/api/pandas.Series.map.html"" rel=""nofollow noreferrer""><code>map</code></a> and get the <a href=""https://numpy.org/doc/stable/reference/generated/numpy.minimum.html"" rel=""nofollow noreferrer""><code>minimum</code></a> with <a href=""/questions/tagged/numpy"" class=""s-tag post-tag"" title=""show questions tagged &#39;numpy&#39;"" aria-label=""show questions tagged &#39;numpy&#39;"" rel=""tag"" aria-labelledby=""tag-numpy-tooltip-container"" data-tag-menu-origin=""Unknown"">numpy</a>:</p>
<pre><code>prev = (df.groupby('trend')['price'].min()
          .shift(fill_value=np.inf)
        )

df['minimum'] = np.minimum(df['price'], df['trend'].map(prev))
</code></pre>
<p>Output:</p>
<pre><code>    trend  price  minimum
0       1     23       23
1       1     43       43
2       1     56       56
3       1     21       21
4       2     43       21
5       2     55       21
6       3     54       43
7       3     32       32
8       3      9        9
9       3     12       12
10      3     11       11
11      3     12       12
12      4     23        9
13      4      3        3
14      4      2        2
15      4      1        1
16      4      1        1
</code></pre>
","2024-06-23 15:07:29","1","Answer"
"78659009","","Get minimum through record iterations in pandas dataframe","<p>I have created the following pandas dataframe:</p>
<pre><code>import pandas as pd
import numpy as np

ds = { 'trend' : [1,1,1,1,2,2,3,3,3,3,3,3,4,4,4,4,4], 'price' : [23,43,56,21,43,55,54,32,9,12,11,12,23,3,2,1,1]}

df = pd.DataFrame(data=ds)
</code></pre>
<p>The dataframe looks as follows:</p>
<pre><code>display(df)

    trend   price
0      1     23
1      1     43
2      1     56
3      1     21
4      2     43
5      2     55
6      3     54
7      3     32
8      3     9
9      3     12
10     3     11
11     3     12
12     4     23
13     4     3
14     4     2
15     4     1
16     4     1
</code></pre>
<p>I have saved the dataframe to a .csv file called <code>df.csv</code>:</p>
<pre><code>df.to_csv(&quot;df.csv&quot;, index = False)
</code></pre>
<p>I need to create a new field called <code>minimum</code> which:</p>
<ol>
<li>iterates through each and every record of the dataframe</li>
<li>takes the mimimum between the <code>price</code> observed at each iteration and the last <code>price</code> observed in the previous <code>trend</code>.</li>
</ol>
<p>For example:</p>
<ul>
<li>I iterate at record 0 and the minimum price is 23 (there is only that one).</li>
<li>I iterate at record 1 and take the minimum between 43 and 23: the result is 23.</li>
</ul>
<p>Fast forward to record 4.</p>
<ul>
<li>I need to calculate the minimum between the <code>price</code> observed at record 4 (<code>price: 43</code>) and the last <code>price</code> observed for the previous <code>trend</code> (<code>price: 21</code>). The result is 21.</li>
</ul>
<p>Fast forward to record 14.</p>
<ul>
<li>I need to calculate the minimum between the <code>price</code> observed at record 14 (<code>price: 2</code>) and the last <code>price</code> observed for the previous <code>trend</code> (<code>price: 12</code>). The result is 2.</li>
</ul>
<p>And so on.</p>
<p>I have then written this code:</p>
<pre><code>minimum = []

for i in range(len(df)):
    ds = pd.read_csv(&quot;df.csv&quot;, nrows=i+1)
    d = ds.groupby('trend', as_index=False).agg(
                                                    {'price':'last'})

    d['minimum'] = d['price'].min()
    minimum.append(d['minimum'].iloc[-1])


ds['minimum'] = minimum
</code></pre>
<p>The resulting dataframe looks as follows:</p>
<p>display(ds)</p>
<pre><code>        trend   price   minimum
0          1     23         23
1          1     43         43
2          1     56         56
3          1     21         21
4          2     43         21
5          2     55         21
6          3     54         21
7          3     32         21
8          3      9          9
9          3     12         12
10         3     11         11
11         3     12         12
12         4     23         12
13         4      3          3
14         4      2          2
15         4      1          1
16         4      1          1
</code></pre>
<p>The resulting dataframe is correct.</p>
<p>The problem is that I have to apply this process to a dataframe which contains about 1 million records and it will take about 48 years to complete.</p>
<p>Does anybody know a quicker way to obtain the same results above?</p>
","2024-06-23 14:50:24","1","Question"
"78658472","","LSP and virtual methods","<p>I came across this example when I was trying to learn more about LSP, I am new to the OOPs world. You can find my question after the example. The example is as follows.</p>
<p>In mathematics, a <code>Square</code> is a <code>Rectangle</code>. Indeed it is a specialization of a rectangle. The &quot;is a&quot; makes you want to model this with inheritance. However if in code you made <code>Square</code> derive from <code>Rectangle</code>, then a <code>Square</code> should be usable anywhere you expect a <code>Rectangle</code>. This makes for some strange behavior.</p>
<p>Imagine you had <code>setWidth</code> and <code>setHeight</code> methods on your <code>Rectangle</code> base class; this seems perfectly logical. However if your <code>Rectangle</code> reference pointed to a <code>Square</code>, then <code>setWidth</code> and <code>setHeight</code> don't make sense because setting one would change the other to match it. In this case <code>Square</code> fails the Liskov Substitution Test with <code>Rectangle</code> and the abstraction of having <code>Square</code> inherit from <code>Rectangle</code> is a bad one.</p>
<p>My question is : What kind of methods are we talking about here? Are we talking about virtual methods that can be overriden? If not, I don't see a scenario where the derived class can provide it's own implementation. In the example mentioned above, if both the methods <code>setWidth</code> and <code>setHeight</code> are non virtual methods that belongs to the base class and it sets the width and height respectively , then these methods should work just fine. So is it about standards and not about the methods working as expected? By standard I mean , having a method <code>setWidth</code> and <code>setHeight</code> accessible from a square object doesn't make sense eventhough it works.</p>
<p>I did not try anything , I ran into this confusion and thought I'd look for some answers.</p>
","2024-06-23 11:04:11","2","Question"
"78655311","78655291","","<p>Once you identify that the user has entered &quot;q&quot;, you set <code>create_album</code> to <code>False</code>, but then you fall through to the next input.</p>
<p>You could add a <code>break</code>, or in this case even a <code>continue</code>, to the <code>if</code> bodies of the tests for <code>'q'</code>.  Also, <code>artist == 'q'.lower()</code> doesn't make sense, since <code>'q'</code> is <em>already</em> lowercase.  Instead, you want <code>artist.lower() == 'q'</code>:</p>
<pre><code>    if artist.lower() == 'q':
        create_album = False
        break
</code></pre>
<p>But for this code it really doesn't make sense to have <code>create_album</code> at all.  Instead, you can replace the entire thing with:</p>
<pre><code>while True:   
    artist = input(&quot;Enter atrist's name: &quot;).title()
    if artist.lower() == 'q':
        break
        
    album = input(&quot;Enter album's name: &quot;).capitalize()
    if album.lower() == 'q':
        break
        
    number_of_tracks = input(&quot;(Optional) Enter number of tracks: &quot;)
    if number_of_tracks.lolwer()=='q':
        break
    elif number_of_tracks:
        print(make_album(artist, album, number_of_tracks))
    else:
        print(make_album(artist, album))
</code></pre>
","2024-06-22 06:54:59","1","Answer"
"78655291","","I can't break a while loop with user input","<p>I'm learning to use functions in while loops. My goal is to ask the user for input inside the while loop and use the input as an argument in the function. But if input at any moment is == 'q', the loop should be terminated.</p>
<p>The function is following:</p>
<pre><code>def make_album(artist_name, album_name, tracks = None):
    if tracks:
        album = {
            'artist': artist_name,
            'album': album_name,
            'number of tracks': tracks
        }
        return album
    else:
        album = {
            'artist': artist_name,
            'album': album_name,
            
        }
        return album
</code></pre>
<p>It is placed inside the while loop:</p>
<pre><code>create_album = True
while create_album:
    
    artist = input(&quot;Enter atrist's name: &quot;).title()
    if artist == 'q'.lower():
        create_album = False
        
    album = input(&quot;Enter album's name: &quot;).capitalize()
    if album == 'q'.lower():
        create_album = False
        
    number_of_tracks = input(&quot;(Optional) Enter number of tracks: &quot;)
    if number_of_tracks =='q'.lower():
        create_album = False
    elif number_of_tracks:
        print(make_album(artist, album, number_of_tracks))
    else:
        print(make_album(artist, album))
</code></pre>
<p>Despite the fact that every input is checked with if statement and should change the value of create_album to False if input is 'q', it only works properly in the last part of the code:</p>
<pre><code>number_of_tracks = input(&quot;(Optional) Enter number of tracks: &quot;)
    if number_of_tracks =='q'.lower():
        create_album = False
</code></pre>
<p>How do I fix the program, so it terminates the while loop in any moment if 'q' is entered by the user?</p>
<p>I've tried to change various ways to solve the issue.</p>
<p>1)</p>
<pre><code>    if artist == 'q'.lower():
        break
</code></pre>
<p>The result is:
<code>Enter album's name: </code></p>
<p>2)</p>
<pre><code>    if artist == 'q'.title():
        create_album = False
</code></pre>
<pre><code>    if artist == 'q':
        create_album = False
</code></pre>
<pre><code>    if artist == 'Q':
        create_album = False
</code></pre>
<p>The result is:</p>
<p><code>Enter album's name: </code></p>
","2024-06-22 06:48:34","-2","Question"
"78652498","78650645","","<p>Pass a scriptblock to <code>Start-Job</code>, then make sure to dot-source the script before calling the function:</p>
<pre><code>Start-Job -ScriptBlock {
  param($RootPath)

  # dot-source script
  . (Join-Path $RootPath -ChildPath MyFunction.ps1)

  # invoke function
  MyFunction -Path $RootPath
} -ArgumentList $PSScriptRoot
</code></pre>
","2024-06-21 12:59:27","1","Answer"
"78650645","","How do I use Start- Job to start a function with parameters stored in another ps1?","<p>the ps1 containing the function:</p>
<pre><code>function MyFunction ($path) {
#does something
}
</code></pre>
<p>the ps1 calling the function:</p>
<pre><code>Import-Module .\FunctionParent.ps1
$job = Start-Job -ArgumentList $PSScriptRoot -FilePath &quot;MyFunction .ps1&quot;

$dll = $PSScriptRoot+'\Interop.CCProjectMgrLib.dll'
Write-Host $dll -foreground Yellow

Start-Sleep 5

$JobStatus = $job.State
Write-Host $job.State -foreground Yellow
</code></pre>
<p>noob question I know but how do I call the start-job command properly?</p>
","2024-06-21 06:04:15","0","Question"
"78649921","78335751","","<p>For the rule against the first digit being 0, there are a couple of solutions.</p>
<p>Using Dan Nagel's indexing, a simple &quot;if&quot; statement that tests if the character at the first_digit_index is 0 should work.</p>
<p>It is also possible to test all the digit-related requirements.</p>
<p>Test number related rules without indexing:</p>
<pre><code>has_digit =  &quot;unchecked&quot; #prealocating
for char in s:
    if char.isdigit():
        if char == &quot;0&quot; and has_digit != True:
            return False
        else:
            has_digit = True 
    if char.isalpha() == True and has_digit == True:
        return False
</code></pre>
","2024-06-20 23:29:47","0","Answer"
"78641246","78638023","","<p>In addition to <a href=""https://stackoverflow.com/a/78638384/712649"">Orace's suggestion</a> to close over the referenced variables, I'd suggest getting rid of the <code>[ref]</code> parameters - if you want to reference the instantiated controls afterwards simply output them from the function:</p>
<pre><code>function Group_WPF {
    param (
        [Windows.Controls.Canvas]$canvas,
        [int]$top,
        [string]$n1,
        [string]$n2
    )

    $f1 = New-Object Windows.Controls.TextBox
    $f1.Width = 380
    [Windows.Controls.Canvas]::SetLeft($f1, 10)
    [Windows.Controls.Canvas]::SetTop($f1, $top + 25)
    [void]$canvas.Children.Add($f1)

    $f1.Add_MouseDoubleClick({
        param ($source, $e)
        $source.SelectAll()
    })

    $f2 = New-Object Windows.Controls.TextBox
    $f2.Width = 380
    [Windows.Controls.Canvas]::SetRight($f2, 10)
    [Windows.Controls.Canvas]::SetTop($f2, $top + 25)
    [void]$canvas.Children.Add($f2)

    $f2.Add_MouseDoubleClick({
        param ($source, $e)
        $source.SelectAll()
    })

    $isR = New-Object Windows.Controls.CheckBox
    $isR.Content = &quot;Re&quot;
    $isR.IsChecked = $true
    [Windows.Controls.Canvas]::SetLeft($isR, 210)
    [Windows.Controls.Canvas]::SetTop($isR, $top + 50)
    [void]$canvas.Children.Add($isR)

    $isB = New-Object Windows.Controls.CheckBox
    $isB.Content = &quot;Bu&quot;
    [Windows.Controls.Canvas]::SetLeft($isB, 290)
    [Windows.Controls.Canvas]::SetTop($isB, $top + 50)
    [void]$canvas.Children.Add($isB)

    $bu = New-Object Windows.Controls.TextBox
    $bu.Width = 380
    $bu.IsReadOnly = $true
    $bu.Background = [System.Windows.Media.Brushes]::Gainsboro
    [Windows.Controls.Canvas]::SetRight($bu, 10)
    [Windows.Controls.Canvas]::SetTop($bu, $top + 50)
    [void]$canvas.Children.Add($bu)

    $bu.Add_MouseDoubleClick({
        param ($source, $e)
        $source.SelectAll()
    })

    $isB.Add_Checked({
        $bu.IsReadOnly = $false
        $bu.Background = [System.Windows.Media.Brushes]::White
        $isR.IsChecked = $false
    })

    $isB.Add_Unchecked({
        $bu.IsReadOnly = $true
        $bu.Background = [System.Windows.Media.Brushes]::Gainsboro
    })

    $isR.Add_Checked({
        $isB.IsChecked = $false
    })

    return [pscustomobject]@{
      F1 = $f1
      F2 = $f2
      IsR = $isR
      IsB = $isB
      BU = $bu
    }
}
</code></pre>
<p>Not only does this make the function easier to read, it also becomes much easier to invoke:</p>
<pre><code>$myGroup = Group_WPF -top $top -n1 $n1 -n2 $n2

# now you can reference the individual controls via the properties on the output object:
if ($myGroup.IsB.IsChecked) {
  $myGroup.BU.Text
}
</code></pre>
","2024-06-19 08:10:39","1","Answer"
"78640545","78640288","","<p>You need to keep track on which positions in the arrays that you have already checked/used. You can do this by marking the array elements with special (and otherwise illegal) values.</p>
<p>Further, check for correct value and location before checking for misplaced values as that has higher priority.</p>
<p>If you don't do that values like:</p>
<pre><code>int numbers[4] = {4, 4, 4, 4};
int code[4] = {1, 2, 3, 4};
</code></pre>
<p>will count the first three <code>4</code> in <code>numbers</code> as misplaced and the last <code>4</code> as correct. That is obviously wrong.</p>
<p>With tracking the code could be something like:</p>
<pre><code>void checkCode(int *numbers, int *code){
    int misplacedPieces = 0;
    int correct = 0;

    // Check for correct location
    for (int i = 0; i &lt; 4; i++) 
    {
        if (numbers[i] == code[i])
        {
            correct++;
            // Mark locations as used/checked 
            //    (note: using different illegal values for code/numbers)
            code[i] = -1;
            numbers[i] = -2;
        }
    }

    // Check for correct value but wrong location
    for (int i = 0; i &lt; 4; i++) 
    {
        for (int j = 0; j &lt; 4; j++) {
            if (numbers[i] == code[j]) {
                misplacedPieces++;
                // Mark location as used 
                //   (note: sufficient to mark code)
                code[j] = -1;
                break;
            }
        }
    }    
    printf(&quot;Well placed pieces: %d\nMisplaced pieces: %d\n&quot;, correct, misplacedPieces); 
}
</code></pre>
<p>Notice:</p>
<ol>
<li><p>This solution assumes that the input arrays are valid, i.e. only contains values in range [0..9].</p>
</li>
<li><p>This solution assumes that the function is allowed to change the input arrays.</p>
</li>
</ol>
<p>Unrelated to the question:</p>
<p>You need to rewrite your <code>main</code> function to be much more strict when parsing user input. As it is now it only works when the user &quot;behaves nice&quot; and give correctly formatted input. But there are several ways a user can &quot;behave bad&quot; and break the reading of input so that the rest of the code will run using uninitialized values.</p>
","2024-06-19 04:47:41","1","Answer"
"78640362","77962390","","<p>Here's a <a href=""https://github.com/slackapi/bolt-python/compare/main...seratch:bolt-python:azure-functions#diff-57b0d35924e79cfb2f3c68221289da3bf13fb03044819de78b8301780e1b9375"" rel=""nofollow noreferrer"">link with sample code that may help you solve your issue</a>. I almost completed the implementation (I got to the point of receiving the message payload from Slack), but decided to use Azure Web Apps instead.
From the link above, it seems like they use a custom adaptor, and that they convert the Azure Function request to a Bolt request to handle it with the custom adaptor. Before returning the response, they convert the Bolt response to an Azure Function response.</p>
<p>Notice the use of environment variables to set &amp; read the necessary tokens and signing secret.</p>
<p>For your Slack app, remember to enable events on the app configuration page (<a href=""https://api.slack.com/apps/"" rel=""nofollow noreferrer"">https://api.slack.com/apps/</a>&lt;your_app_id&gt;/event-subscriptions) and, if you have already done so, subscribe to the proper event(s) from that same page (e.g., message.channels, message.groups, etc.).</p>
<p>If you'd like to listen to the message events on a private channel, you'll need to add your app bot as a member of the private channel.</p>
<p>Also, if you want to reply to the message in thread, you'll need the timestamp of the parent message and use it in the <code>thread_ts</code> parameter for <a href=""https://slack.dev/bolt-python/api-docs/slack_bolt/context/say/say.html#slack_bolt.context.say.say.Say"" rel=""nofollow noreferrer"">say()</a> or <a href=""https://api.slack.com/methods/chat.postMessage"" rel=""nofollow noreferrer"">chat.postMessage()</a>.</p>
","2024-06-19 03:14:08","0","Answer"
"78640288","","Trouble with counting misplaced pieces in Mastermind game implementation","<p>I'm working on a C program to implement the Mastermind game, and I'm having trouble accurately counting the misplaced pieces when comparing the player's guess with the secret code. Here's the relevant part of my code:</p>
<pre><code>#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;ctype.h&gt;
#include &quot;secretcode.h&quot;

#define MAX_INPUT_LENGTH 100

void random_code(char *code);

void checkCode(int *numbers, int *code){
int misplacedPieces = 0;
int correct = 0;

for (int i = 0; i &lt; 4; i++) 
{
    if (numbers[i] == code[i]) 
        correct++;
    else {
        int found = 0;
        for (int j = 0; j &lt; 4; j++) {
            if (numbers[i] == code[j] &amp;&amp; i != j) {
                found = 1;
                break;
            }
        }
        if (found) {
            misplacedPieces++;
        }
    }
} 
printf(&quot;Well placed pieces: %d\nMisplaced pieces: %d\n&quot;, correct, misplacedPieces); 





int main(int argc, char **argv) {
char input[MAX_INPUT_LENGTH]; 
char secret_code[5];
int max_attempts = 10;
int attempt_count = 0;

for (int index = 1; index &lt; argc; index++) {
    if (strcmp(argv[index], &quot;-t&quot;) == 0 &amp;&amp; index + 1 &lt; argc) {
        max_attempts = atoi(argv[index + 1]);
        break;
    } else if (strcmp(argv[index], &quot;-c&quot;) == 0 &amp;&amp; index + 1 &lt; argc) {
        char *secret = argv[index + 1];
        if (strlen(secret) == 4 &amp;&amp; isdigit(secret[0]) &amp;&amp; isdigit(secret[1])
            &amp;&amp; isdigit(secret[2]) &amp;&amp; isdigit(secret[3])) {
            strncpy(secret_code, secret, 4);
            secret_code[4] = '\0';
            break;
        } else {
            random_code(secret_code); 
        }
    }
}

printf(&quot;Will you find the secret code?\n&quot;);
printf(&quot;Please enter a valid guess\n&quot;);

while (attempt_count &lt; max_attempts) {
       int i = 0;
       char c;
    while (i &lt; 4) {
        ssize_t bytes_read = read(STDIN_FILENO, &amp;c, 1);
        if (bytes_read == 0 || c == '\n') {
            break;
        } else if (!isdigit(c)) { 
            printf(&quot;Wrong input!\n&quot;);
            break; 
        } else {
            input[i++] = c;
        } 
    }
    input[i] = '\0'; 

    if (strcmp(input, secret_code) == 0) {
        printf(&quot;Congratz! You did it!\n&quot;);
        return 0; 
    } else {
        int numbers[4];
        int code[4];

        for (int i = 0; i &lt; 4; i++) {
            numbers[i] = input[i] - '0';
            code[i] = secret_code[i] - '0';
        }
        
        checkCode(numbers, code);
    }
    attempt_count++;
}
return 0;
}
</code></pre>
<p>The issue I'm facing is that the checkCode function doesn't correctly count the misplaced pieces when comparing the player's guess (input) with the secret code (secret_code). The function seems to count correct pieces accurately but fails to count misplaced pieces as expected.
I'd appreciate any insights or suggestions on how to correct the checkCode function so that it accurately counts both well-placed and misplaced pieces according to the rules of the Mastermind game. Thank you!</p>
","2024-06-19 02:41:43","2","Question"
"78638384","78638023","","<p>Because you need the local variables from the caller context (ie: <code>$bu</code>, <code>$isR</code> and <code>$isB</code>) you need to call <a href=""https://learn.microsoft.com/en-us/dotnet/api/system.management.automation.scriptblock.getnewclosure?view=powershellsdk-7.4.0"" rel=""nofollow noreferrer"">GetNewClosure</a>:</p>
<pre><code>$isB.Value.Add_Checked({
    $bu.Value.IsReadOnly = $false
    $bu.Value.Background = [System.Windows.Media.Brushes]::White
    $isR.Value.IsChecked = $false
}.GetNewClosure())

$isB.Value.Add_Unchecked({
    $bu.Value.IsReadOnly = $true
    $bu.Value.Background = [System.Windows.Media.Brushes]::Gainsboro
}.GetNewClosure())

$isR.Value.Add_Checked({
    $isB.Value.IsChecked = $false
}.GetNewClosure())
</code></pre>
<p>I found this solution <a href=""https://stackoverflow.com/a/70072582/361177"">here</a>.</p>
","2024-06-18 15:31:26","2","Answer"
"78638023","","Powershell event Add_Checked, Add_Unchecked does not occur in custom function","<p>Since I need to create this pattern multiple times in a WPF window, I created a function like below.</p>
<pre><code>function Group_WPF {
    param (
        [Windows.Controls.Canvas]$canvas,
        [int]$top,
        [ref]$f1,
        [string]$n1,
        [ref]$f2,
        [string]$n2,
        [ref]$isR,
        [ref]$isB,
        [ref]$bu,
    )

    $f1.Value = New-Object Windows.Controls.TextBox
    $f1.Value.Width = 380
    [Windows.Controls.Canvas]::SetLeft($f1.Value, 10)
    [Windows.Controls.Canvas]::SetTop($f1.Value, $top + 25)
    $canvas.Children.Add($f1.Value)

    $f1.Value.Add_MouseDoubleClick({
        param ($source, $e)
        $source.SelectAll()
    })

    $f2.Value = New-Object Windows.Controls.TextBox
    $f2.Value.Width = 380
    [Windows.Controls.Canvas]::SetRight($f2.Value, 10)
    [Windows.Controls.Canvas]::SetTop($f2.Value, $top + 25)
    $canvas.Children.Add($f2.Value)

    $f2.Value.Add_MouseDoubleClick({
        param ($source, $e)
        $source.SelectAll()
    })

    $isR.Value = New-Object Windows.Controls.CheckBox
    $isR.Value.Content = &quot;Re&quot;
    $isR.Value.IsChecked = $true
    [Windows.Controls.Canvas]::SetLeft($isR.Value, 210)
    [Windows.Controls.Canvas]::SetTop($isR.Value, $top + 50)
    $canvas.Children.Add($isR.Value)

    $isB.Value = New-Object Windows.Controls.CheckBox
    $isB.Value.Content = &quot;Bu&quot;
    [Windows.Controls.Canvas]::SetLeft($isB.Value, 290)
    [Windows.Controls.Canvas]::SetTop($isB.Value, $top + 50)
    $canvas.Children.Add($isB.Value)

    $bu.Value = New-Object Windows.Controls.TextBox
    $bu.Value.Width = 380
    $bu.Value.IsReadOnly = $true
    $bu.Value.Background = [System.Windows.Media.Brushes]::Gainsboro
    [Windows.Controls.Canvas]::SetRight($bu.Value, 10)
    [Windows.Controls.Canvas]::SetTop($bu.Value, $top + 50)
    $canvas.Children.Add($bu.Value)

    $bu.Value.Add_MouseDoubleClick({
        param ($source, $e)
        $source.SelectAll()
    })

    $isB.Value.Add_Checked({
        $bu.Value.IsReadOnly = $false
        $bu.Value.Background = [System.Windows.Media.Brushes]::White
        $isR.Value.IsChecked = $false
    })

    $isB.Value.Add_Unchecked({
        $bu.Value.IsReadOnly = $true
        $bu.Value.Background = [System.Windows.Media.Brushes]::Gainsboro
    })

    $isR.Value.Add_Checked({
        $isB.Value.IsChecked = $false
    })
}
</code></pre>
<p>All works, except the Add_Checked and Add_Unchecked events.  When I tried them, I received the following error:</p>
<pre><code>The property 'IsReadOnly' cannot be found on this object. Verify that the property exists and can be set.
At line:111 char:9
+         $bu.Value.IsReadOnly = $false

The property 'Background' cannot be found on this object. Verify that the property exists and can be set.
At line:112 char:9
+         $bu.Value.Background = [System.Windows.Media.Brushes]::White

The property 'IsChecked' cannot be found on this object. Verify that the property exists and can be set.
At line:113 char:9
+         $isR.Value.IsChecked = $false
</code></pre>
<p>Please forgive me for my stupidity. Please guide me how to solve this problem. Sincerely thank you.</p>
","2024-06-18 14:18:00","2","Question"
"78637960","78637852","","<p>If you check out the <code>?partial</code> help page, you'll see how you can pass unnamed parameters. This should work</p>
<pre><code>my_func = compose(
  partial(rename, &quot;milespergallon&quot; = mpg),
  partial(mutate, new_col = milespergallon + cyl),
  partial(select, ... = , milespergallon, cyl, new_col),
  partial(filter, ... = , cyl &gt; 2),
  partial(filter, ... = , milespergallon &gt; 20),
  head,                                            
  .dir = &quot;forward&quot;
)
</code></pre>
<p>You can see the function that it creates otherwise with</p>
<pre><code>partial(select,  milespergallon, cyl, new_col)
# &lt;partialised&gt;
# function (...) 
# select(milespergallon, cyl, new_col, ...)
</code></pre>
<p>Notice how it's passing the <code>...</code> at the end of the parameter list. If you use named parameters like in the first two <code>rename</code> and <code>mutate</code> calls, this really doesn't matter and the data frame will be passed as the first parameter since it's unnamed. Compare that to</p>
<pre><code>partial(select,  ... = , milespergallon, cyl, new_col)
# &lt;partialised&gt;
# function (...) 
# select(..., milespergallon, cyl, new_col)
</code></pre>
<p>And now you see that the <code>...</code> will come before the unnamed parameters so it will pass the data.frame in the correct part of the call.</p>
<p>You could also use <code>. %&gt;%</code> to make function</p>
<pre><code>my_func = compose(
  . %&gt;% rename(&quot;milespergallon&quot; = mpg),
  . %&gt;% mutate(new_col = milespergallon + cyl),
  . %&gt;% select(milespergallon, cyl, new_col),
  . %&gt;% filter(cyl &gt; 2),
  . %&gt;% filter(milespergallon &gt; 20),
  head,
  .dir = &quot;forward&quot;
)
</code></pre>
<p>or use the mapper syntax</p>
<pre><code>my_func = compose(
  ~rename(., &quot;milespergallon&quot; = mpg),
  ~mutate(., new_col = milespergallon + cyl),
  ~select(., milespergallon, cyl, new_col),
  ~filter(., cyl &gt; 2),
  ~filter(., milespergallon &gt; 20),
  head,
  .dir = &quot;forward&quot;
)
</code></pre>
","2024-06-18 14:05:21","2","Answer"
"78637852","","Problem using select and filter when used in purrr::compose with purrr::partial in R","<p>I'm trying to compose a set of partially applied functions using the <code>purrr</code> package. I'm noticing that I can do this with some functions but not others and I would like to know why (or what am I missing if it's possible)?</p>
<p>Specifically, I can use <code>rename</code>, <code>select</code> and <code>head</code> (and I've also successfully used custom functions that I defined), but I can't seem to use <code>select</code> and <code>filter</code>.</p>
<p>In the code below, if I uncomment any of those lines I get an error like <code>object 'milespergallon' not found</code>.</p>
<p>I've tried quoting the variables, playing in which I compose the functions, but nothing seems to work - is there a general restriction at play here?</p>
<pre><code>library(&quot;purrr&quot;)
library(&quot;dplyr&quot;)

my_func = compose(
  partial(rename, &quot;milespergallon&quot; = mpg),         # works fine
  partial(mutate, new_col = milespergallon + cyl), # works fine
  # partial(select, milespergallon, cyl, new_col), # not sure why this one fails?
  # partial(filter, cyl &gt; 2),                      # not sure why this one fails?
  # partial(filter, milespergallon &gt; 20),          # not sure why this one fails?
  head,                                            # works fine
  .dir = &quot;forward&quot;
)

my_func(mtcars)
</code></pre>
<p>Uncommenting the offending lines, I get a sensible output:</p>
<pre><code>my_func(mtcars)
                  milespergallon cyl disp  hp drat    wt  qsec vs am gear carb new_col
Mazda RX4                   21.0   6  160 110 3.90 2.620 16.46  0  1    4    4    27.0
Mazda RX4 Wag               21.0   6  160 110 3.90 2.875 17.02  0  1    4    4    27.0
Datsun 710                  22.8   4  108  93 3.85 2.320 18.61  1  1    4    1    26.8
Hornet 4 Drive              21.4   6  258 110 3.08 3.215 19.44  1  0    3    1    27.4
Hornet Sportabout           18.7   8  360 175 3.15 3.440 17.02  0  0    3    2    26.7
Valiant                     18.1   6  225 105 2.76 3.460 20.22  1  0    3    1    24.1
</code></pre>
","2024-06-18 13:46:14","1","Question"
"78637013","78633143","","<p>Roblox Studio does not support documentation comments so adding any comments to code won't be reflected in its popup.</p>
<p>Documentation comments for Roblox Studio has been requested for years now on the <a href=""https://devforum.roblox.com/"" rel=""nofollow noreferrer"">Roblox Developer Forum</a>:</p>
<ul>
<li><a href=""https://devforum.roblox.com/t/110378"" rel=""nofollow noreferrer"">Custom Intellisense Documentation Comments</a></li>
<li><a href=""https://devforum.roblox.com/t/860413"" rel=""nofollow noreferrer"">Add script editor support for Lua code documentation using comments (DocBlocks)</a></li>
</ul>
<p>There have been developments for documentation comments, called user-defined function documentation, but as of now, it isn't publicly available and requires you to modify Roblox Studio to get it:</p>
<ul>
<li><a href=""https://devforum.roblox.com/t/2859011"" rel=""nofollow noreferrer"">What do you guys think about User user defined function Documentation? A FFlag option</a></li>
</ul>
<p>In order to get documentation comments there's nothing you can do now but wait for the official release of user-defined function documentation or to use a different IDE such as <a href=""https://code.visualstudio.com/"" rel=""nofollow noreferrer"">Visual Studio Code</a> which does support code documentation using the syntax you are describing.</p>
<pre class=""lang-lua prettyprint-override""><code>-- Given a string, turns it into a number
local function numberify(n: string): ()
    return tonumber(n)
end
</code></pre>
<p>For the above in Visual Studio Code, it shows the popup as:</p>
<blockquote>
<p>Given a string, turns it into a number</p>
</blockquote>
","2024-06-18 11:03:46","0","Answer"
"78635816","78633825","","<p>If you just want to move other items below the selected exercise by one row up, then update <code>addExercise()</code> as below:</p>
<pre><code>def addExercise(self, exercise):
    # save current grid information of selected exercise
    info = exercise.grid_info()
    # move the selected exercise to cell (1, 1)
    exercise.grid(column=1, row=1)
    exercise.tkraise()
    # move other exercises below selected one up a row
    max_rows = exercise.master.grid_size()[-1] # get max. number of rows
    for row in range(info[&quot;row&quot;]+1, max_rows):
        item = exercise.master.grid_slaves(row=row, column=info[&quot;column&quot;])
        if item:   # item is a list
            # move item one row up
            item[0].grid(row=row-1, column=info[&quot;column&quot;])
</code></pre>
","2024-06-18 06:32:58","0","Answer"
"78635657","78633143","","<p>I don't have Roblox Studio to test, but according to its documentation a block comment like this should be used to document functions</p>
<pre><code>--[[
    Shuts off the cosmic moon ray immediately.

    Should only be called within 15 minutes of midnight Mountain Standard
    Time, or the cosmic moon ray may be damaged.
]]
</code></pre>
<p>Maybe <code>-- [[ ... ]]</code> does not work because it is a single line?</p>
","2024-06-18 05:46:34","0","Answer"
"78634169","78633825","","<p>If you want to move buttons in the same frame then you may keep buttons on list to keep order.</p>
<pre><code>exercises = []
</code></pre>
<p>And button would have function which send itself to function</p>
<pre><code>item = tk.Button(frame, text=f&quot;...&quot;)
item.grid(column=i, row=0)

item['command'] = (lambda x=item:move_to_beginning(x))  # send button to function

exercises.append(item)
</code></pre>
<p>And function could move item on list to first place</p>
<pre><code>def move_to_beginning(item):
    exercises.remove(item)
    exercises.insert(0, item)

    recreate_items()
</code></pre>
<p>And other function could use <code>grid()</code> to put all elements again - using order from list <code>exercises</code></p>
<pre><code>def recreate_items():
    for i, item in enumerate(exercises):
        item.grid(column=i, row=0)
</code></pre>
<hr />
<p>Minimal working code in <code>tkinter</code></p>
<pre><code>import tkinter as tk
        
# --- functions ---

def move_to_beginning(item):
    exercises.remove(item)
    exercises.insert(0, item)
    recreate_items()
    
def recreate_items():
    #for item in exercises:
    #    item.grid_forget()
    for i, item in enumerate(exercises):
        item.grid(column=i, row=0)
      
# --- main ---

exercises = []

root = tk.Tk()

frame = tk.Frame(root)
frame.pack()

for i in range(10):
    item = tk.Button(frame, text=f&quot;{i+1:02}&quot;)
    item['command'] = lambda x=item:move_to_beginning(x)  # send button to function
    item.grid(column=i, row=0)
    exercises.append(item)

root.mainloop()   
</code></pre>
<hr />
<p>Other example which uses <code>bind()</code> to</p>
<ul>
<li>move to the beginning when left mouse button is pressed</li>
<li>move to the end when right mouse button is pressed</li>
</ul>
<p>Bind sends <code>even</code> with <code>event.widget</code> so it doesn't need to use <code>lambda</code> to send button.</p>
<pre><code>import tkinter as tk
        
# --- functions ---

def move_to_end(event):
    item = event.widget
    exercises.remove(item)     # remove from list
    exercises.append(item)     # add at the end
    
    recreate_items()

def move_to_beginning(event):
    item = event.widget
    exercises.remove(item)     # remove from list
    exercises.insert(0, item)  # add at the beginning
    
    recreate_items()
    
def recreate_items():
    for i, item in enumerate(exercises):
        item.grid(column=i, row=0)
      
# --- main ---

exercises = []

root = tk.Tk()

frame = tk.Frame(root)
frame.pack()

for i in range(10):
    item = tk.Button(frame, text=f&quot;{i+1:02}&quot;)

    item.bind('&lt;Button-1&gt;', move_to_beginning)
    # &lt;Button-2&gt; = middle mouse button
    item.bind('&lt;Button-3&gt;', move_to_end)
    #item.bind('&lt;Button-4&gt;', move_to_beginning)  # mouse wheel scroll up
    #item.bind('&lt;Button-5&gt;', move_to_end)        # mouse wheel scroll down

    
    item.grid(column=i, row=0)
    exercises.append(item)

root.mainloop()   
</code></pre>
<p>You may add new button in any place on list <code>execises</code> using <code>.insert(position, ...)</code> and run <code>recreate_items()</code> to get it in this place in window.</p>
","2024-06-17 18:36:14","0","Answer"
"78633825","","How can I create a function in python that takes an object, modifies the location of it and other objects using CustomTkinter?","<p>I am creating an app that lets you choose exercises and basically what I've been trying to do is create a function that takes the &quot;.grid&quot; element and for the exercise chosen and moves the column to 1, and for all other objects in column 2 up a row. The object I am trying to move is self.bench_press.</p>
<pre><code>self.exframe = Tk.CTkFrame(master=self.tabview.tab(&quot;Workout Builder&quot;), width=400, height=100, fg_color=&quot;#333333&quot;)
    self.exframe.grid(row=0, column=0, rowspan=4, sticky=&quot;nsew&quot;)
    self.exframe.grid_rowconfigure(4, weight=1)

self.scrollable_frame = Tk.CTkScrollableFrame(master=self.exframe, label_text=&quot;Your Exercises                                                                                               Choose Exercises&quot;, width=1000, height=500, fg_color=&quot;#333333&quot;)
    self.scrollable_frame.grid(row=1, column=5, sticky=&quot;nsew&quot;)
    self.scrollable_frame.grid_columnconfigure(0, weight=1)

    self.bench_press_pic = Tk.CTkImage(light_image=Image.open(&quot;images/bench-press.png&quot;), dark_image=Image.open(&quot;images/bench-press.png&quot;), size=(175, 175))
    self.bench_press = Tk.CTkButton(master=self.scrollable_frame, image=self.bench_press_pic, text=&quot;Barbell Bench Press&quot;, fg_color=&quot;#333333&quot;, text_color=&quot;white&quot;, font=Tk.CTkFont(size=26, weight=&quot;bold&quot;), hover_color=&quot;#444444&quot;, corner_radius=38)
    self.bench_press.grid(row=1, column=2)
</code></pre>
<p>I've tried creating a function that takes the exercise name as the parameter and then runs the .grid line of code inside of the function. That just gave an error.</p>
<pre><code>def addExercise(exercise):
    column, row = 1, 1
    exercise.grid(column=column, row=row)
</code></pre>
","2024-06-17 16:56:16","1","Question"
"78633359","78633157","","<p>@mozway has the right <a href=""https://stackoverflow.com/a/78633178/189418"">answer</a>, but if you are planning on running this for a large set of numbers and need a bit more of performance, you can get rid of the inner loop with:</p>
<pre class=""lang-py prettyprint-override""><code>@np.vectorize
def f2(t):
    candidates = np.arange(1, t+1)
    num_of_divisors = ((t % candidates) == 0).sum()
    return num_of_divisors
</code></pre>
<p>With 1000 elements:</p>
<pre><code>%%timeit 
f(t2)
27.9 ms ± 2.38 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)

%%timeit 
f2(t2)
2.7 ms ± 16.2 μs per loop (mean ± std. dev. of 7 runs, 100 loops each)

np.all(f(t2) == f2(t2))
True
</code></pre>
","2024-06-17 15:02:14","0","Answer"
"78633178","78633157","","<p>You have to vectorize your function.</p>
<p>Since it is inherently iterative, you cannot replace it easily with pure numpy code. A workaround is to use <a href=""https://numpy.org/doc/stable/reference/generated/numpy.vectorize.html"" rel=""nofollow noreferrer""><code>numpy.vectorize</code></a>:</p>
<pre><code>import matplotlib.pyplot as plt
import numpy as np

@np.vectorize
def f(t):
    num_of_divisors = 0
    for i in np.arange(1, t+1):
        if t % i == 0: 
            num_of_divisors += 1
    return num_of_divisors

t2 = np.arange(1, 100, 1)

plt.figure()
plt.plot(t2, f(t2), color='black')
plt.show()
</code></pre>
<p>Output:</p>
<p><a href=""https://i.sstatic.net/iVp7qbEj.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/iVp7qbEj.png"" alt=""enter image description here"" /></a></p>
","2024-06-17 14:20:07","1","Answer"
"78633157","","Plotting graph of a function in Python","<p>I want to graph a function of the number of divisors using Numpy. But there is a problem with np.arange.</p>
<pre><code>import matplotlib.pyplot as plt
import numpy as np

def f(t):
    num_of_divisors = 0
    for i in np.arange(1, t+1):
        if t % i == 0: 
            num_of_divisors += 1
    return num_of_divisors

t2 = np.arange(1, 100, 1)

plt.figure()
plt.plot(t2, f(t2), color='black')
plt.show()
</code></pre>
<pre><code> ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
</code></pre>
<p>I tried, but it was a ValueError:</p>
<p><code>The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()</code>.</p>
","2024-06-17 14:16:02","0","Question"
"78633143","","Add a docstring to a lua function in Roblox Studio","<p>I want to create a docstring for a Lua function in Roblox Studios so that when i look at that function that i instantly know what this function does.</p>
<p>And currently the Popup looks like this:
<a href=""https://i.sstatic.net/BOgolcTz.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/BOgolcTz.png"" alt=""enter image description here"" /></a></p>
<p>But the Popup should look like this:
<a href=""https://i.sstatic.net/H3NtPQUO.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/H3NtPQUO.png"" alt=""enter image description here"" /></a></p>
<p>I tried with:</p>
<pre><code>-- @param

-- Description

--// Description


</code></pre>
<p>and even with:</p>
<pre><code>-- [[ ... ]]
</code></pre>
","2024-06-17 14:13:53","0","Question"
"78628586","78628298","","<p>Here is a way with <a href=""https://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/recordplot.html"" rel=""nofollow noreferrer""><code>recordPlot</code></a>, see also <a href=""https://stackoverflow.com/questions/48650059/plot-several-recorderplot-in-one-new-plot"">this SO post</a>.<br />
Write the function with an extra argument, <code>file</code>, so that the function only saves to file if needed.<br />
After each plot record the plot and after plotting everything, save the plots in a list to be returned to caller.</p>
<pre class=""lang-r prettyprint-override""><code>F4 &lt;- function(data, file) {
  data &lt;- data[, !colnames(data) %in% &quot;blank&quot;]
  names(data) &lt;- c(&quot;district&quot;, &quot;confirmed&quot;, &quot;deceased&quot;, &quot;recovered&quot;)
  data[, &quot;active&quot;] &lt;- data$confirmed - data$recovered - data$deceased
  data &lt;- data[, c(&quot;district&quot;, &quot;active&quot;, &quot;confirmed&quot;, &quot;recovered&quot;, &quot;deceased&quot;)]
  data &lt;- data[1:30, ]
  # save default graphics parameters for later
  old_par &lt;- par(mfrow=c(2, 1), mar=c(4, 4, 4, 4), oma=c(0, 0, 0, 0))
  # start 1st plot
  boxplot(data$active, data$confirmed, data$recovered, data$deceased,
          col=&quot;skyblue&quot;, ylab=&quot;No. of Cases&quot;, 
          main=&quot;Boxplot of COVID-19 status&quot;)
  axis(1, at=1, labels=&quot;Active&quot;)
  axis(1, at=2, labels=&quot;Confirmed&quot;)
  axis(1, at=3, labels=&quot;Recovered&quot;)
  axis(1, at=4, labels=&quot;Deceased&quot;)
  # record 1st plot
  p1 &lt;- recordPlot()
  #
  # start 2nd plot
  barplot(data$confirmed, col=&quot;skyblue&quot;, ylim=c(0, max(data$confirmed)*1.1), 
          names.arg=1:30, xlab=&quot;District&quot;, ylab=&quot;No. of Cases&quot;,
          main=&quot;COVID-19 status by region&quot;)
  barplot(data$recovered, col=&quot;yellowgreen&quot;, add=TRUE)
  barplot(data$deceased, col=&quot;tomato&quot;, add=TRUE)
  legend(&quot;topright&quot;, legend=c(&quot;Confirmed&quot;, &quot;Recovered&quot;, &quot;Deceased&quot;), 
         fill=c(&quot;skyblue&quot;, &quot;yellowgreen&quot;, &quot;tomato&quot;), horiz=TRUE, cex=0.9)
  # record 2nd plot
  p2 &lt;- recordPlot()
  # put graphics parameters back
  par(old_par)
  # save the plots in a list
  p &lt;- list(p1, p2)
  
  # do we want to save to disk?
  if(!missing(file)) {
    png(file, width = 800, height = 1000)
    lapply(p, replayPlot)
    dev.off()
  }

  # return the plots list to caller
  return(p)
}

# this will plot in RStudio's plots pane
p &lt;- F4(data)

# see if the plots were saved in 'p'
dev.new()
# 'p' is a list, must call replayPlot with lapply
lapply(p, replayPlot)
</code></pre>
<p><img src=""https://i.imgur.com/vFmiKq2.png"" alt="""" /></p>
<p><sup>Created on 2024-06-16 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
<p>The call to <code>dev.new</code> opens a graphics device, a new window. And then the two graphs are plotted. The result is the same as above. Here is a screen capture showing it.</p>
<p><a href=""https://i.sstatic.net/CU2eqMRr.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/CU2eqMRr.png"" alt=""enter image description here"" /></a></p>
","2024-06-16 08:07:31","0","Answer"
"78628325","78628298","","<p>Use the <code>return</code> after plotting. Also ensure that <code>width=</code> and <code>height=</code> are large enough. To avoid <code>legend</code> overlap, make a dynamic <code>ylim=(0, max(data$confirmed)*1.1)</code>.</p>
<pre><code>F4 &lt;- function(data) {
  data &lt;- data[, !colnames(data) %in% &quot;blank&quot;]
  names(data) &lt;- c(&quot;district&quot;, &quot;confirmed&quot;, &quot;deceased&quot;, &quot;recovered&quot;)
  data[, &quot;active&quot;] &lt;- data$confirmed - data$recovered - data$deceased
  data &lt;- data[, c(&quot;district&quot;, &quot;active&quot;, &quot;confirmed&quot;, &quot;recovered&quot;, &quot;deceased&quot;)]
  data &lt;- data[1:30, ]
  png(&quot;foo.png&quot;, width=800, height=1000)
  par(mfrow=c(2, 1), mar=c(4, 4, 4, 4), oma=c(0, 0, 0, 0))
  boxplot(data$active, data$confirmed, data$recovered, data$deceased,
          col=&quot;skyblue&quot;, ylab=&quot;No. of Cases&quot;, 
          main=&quot;Boxplot of COVID-19 status&quot;)
  axis(1, at=1, labels=&quot;Active&quot;)
  axis(1, at=2, labels=&quot;Confirmed&quot;)
  axis(1, at=3, labels=&quot;Recovered&quot;)
  axis(1, at=4, labels=&quot;Deceased&quot;)
  barplot(data$confirmed, col=&quot;skyblue&quot;, ylim=c(0, max(data$confirmed)*1.1), 
          names.arg=1:30, xlab=&quot;District&quot;, ylab=&quot;No. of Cases&quot;,
          main=&quot;COVID-19 status by region&quot;)
  barplot(data$recovered, col=&quot;yellowgreen&quot;, add=TRUE)
  barplot(data$deceased, col=&quot;tomato&quot;, add=TRUE)
  legend(&quot;topright&quot;, legend=c(&quot;Confirmed&quot;, &quot;Recovered&quot;, &quot;Deceased&quot;), 
         fill=c(&quot;skyblue&quot;, &quot;yellowgreen&quot;, &quot;tomato&quot;), horiz=TRUE, cex=0.9)
  dev.off()
  return(data)
}
</code></pre>
<p></p>
<pre><code>&gt; F4(data)
      district active confirmed recovered deceased
1   District 1     -2        98        91        9
2   District 2     27       114        48       39
3   District 3     99       123        20        4
4   District 4     89       195        74       32
5   District 5     61       171        62       48
6   District 6     -1        98        61       38
7   District 7     81       177        61       35
8   District 8    -64        96       116       44
9   District 9    -12        73        44       41
10 District 10    -22       120       134        8
11 District 11     70       149        51       28
12 District 12     27       138       100       11
13 District 13    107       159        33       19
14 District 14    -69        69       130        8
15 District 15     96       163        25       42
16 District 16     64       160        62       34
17 District 17     20       180       132       28
18 District 18    -57        90       132       15
19 District 19     52       138        50       36
20 District 20    -64        76       113       27
21 District 21     88       158        25       45
22 District 22     -7        54        57        4
23 District 23      0       141       114       27
24 District 24    127       153        25        1
25 District 25    -68        52       103       17
26 District 26     50       107        34       23
27 District 27    -10        91        53       48
28 District 28     25        73        31       17
29 District 29    -59        92       147        4
30 District 30     87       192        60       45
</code></pre>
<p><a href=""https://i.sstatic.net/fweO2f6t.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/fweO2f6t.png"" alt=""enter image description here"" /></a></p>
<hr />
<p><em>Data:</em></p>
<pre><code>&gt; dput(data)
structure(list(district = c(&quot;District 1&quot;, &quot;District 2&quot;, &quot;District 3&quot;, 
&quot;District 4&quot;, &quot;District 5&quot;, &quot;District 6&quot;, &quot;District 7&quot;, &quot;District 8&quot;, 
&quot;District 9&quot;, &quot;District 10&quot;, &quot;District 11&quot;, &quot;District 12&quot;, &quot;District 13&quot;, 
&quot;District 14&quot;, &quot;District 15&quot;, &quot;District 16&quot;, &quot;District 17&quot;, &quot;District 18&quot;, 
&quot;District 19&quot;, &quot;District 20&quot;, &quot;District 21&quot;, &quot;District 22&quot;, &quot;District 23&quot;, 
&quot;District 24&quot;, &quot;District 25&quot;, &quot;District 26&quot;, &quot;District 27&quot;, &quot;District 28&quot;, 
&quot;District 29&quot;, &quot;District 30&quot;, &quot;District 31&quot;, &quot;District 32&quot;, &quot;District 33&quot;, 
&quot;District 34&quot;, &quot;District 35&quot;, &quot;District 36&quot;, &quot;District 37&quot;, &quot;District 38&quot;, 
&quot;District 39&quot;, &quot;District 40&quot;, &quot;District 41&quot;, &quot;District 42&quot;, &quot;District 43&quot;, 
&quot;District 44&quot;, &quot;District 45&quot;, &quot;District 46&quot;, &quot;District 47&quot;, &quot;District 48&quot;, 
&quot;District 49&quot;, &quot;District 50&quot;), confirmed = c(98L, 114L, 123L, 
195L, 171L, 98L, 177L, 96L, 73L, 120L, 149L, 138L, 159L, 69L, 
163L, 160L, 180L, 90L, 138L, 76L, 158L, 54L, 141L, 153L, 52L, 
107L, 91L, 73L, 92L, 192L, 199L, 107L, 185L, 85L, 117L, 195L, 
158L, 141L, 53L, 148L, 163L, 55L, 183L, 179L, 165L, 52L, 167L, 
198L, 51L, 151L), deceased = c(9L, 39L, 4L, 32L, 48L, 38L, 35L, 
44L, 41L, 8L, 28L, 11L, 19L, 8L, 42L, 34L, 28L, 15L, 36L, 27L, 
45L, 4L, 27L, 1L, 17L, 23L, 48L, 17L, 4L, 45L, 39L, 39L, 20L, 
35L, 35L, 38L, 41L, 17L, 26L, 12L, 18L, 31L, 15L, 28L, 16L, 43L, 
8L, 20L, 42L, 47L), recovered = c(91L, 48L, 20L, 74L, 62L, 61L, 
61L, 116L, 44L, 134L, 51L, 100L, 33L, 130L, 25L, 62L, 132L, 132L, 
50L, 113L, 25L, 57L, 114L, 25L, 103L, 34L, 53L, 31L, 147L, 60L, 
85L, 75L, 117L, 44L, 111L, 126L, 80L, 33L, 143L, 114L, 51L, 47L, 
137L, 56L, 132L, 24L, 54L, 97L, 33L, 141L), blank = c(-1.66109907991481, 
-0.382333726873818, -0.5126502578778, 2.7018910003448, -1.36211623118972, 
0.137256218558607, -1.49362506731629, -1.4704357414368, 0.124702386197007, 
-0.996639134884037, -0.0018226143047082, -0.428258881425815, 
-0.613671606449495, -2.02467784541911, -1.22474795035999, 0.179516441117938, 
0.567620594423535, -0.492877353553475, 6.28840653511241e-05, 
1.12288964337997, 1.43985574297619, -1.09711376840582, -0.117319560250177, 
1.2014984009197, -0.469729580566301, -0.0524694849389963, -0.0861072982370896, 
-0.887679017906432, -0.444684004884738, -0.0294448790882381, 
-0.413868849057924, 1.1133860233682, -0.480992841653982, -0.433169032600729, 
0.696862576552103, -1.05636841317091, -0.0406984751512149, -1.55154482234759, 
1.16716954923568, -0.273645701374081, -0.467845324672254, -1.23825232798621, 
-0.00776203377732663, -0.80028217795166, -0.533492329950436, 
1.28767524558459, -0.175525870242127, -1.07178238415068, 0.163206882467382, 
-0.36273841562795)), class = &quot;data.frame&quot;, row.names = c(NA, 
-50L))
</code></pre>
","2024-06-16 05:26:23","1","Answer"
"78628298","","I made two plots using par(), but it doesn't save","<p>I made a function where I read a .csv file, process the data into the dataframe, make a <code>boxplot</code> and <code>barplot</code> in a (2, 1) layout, and save in <code>png</code> file. If I run a function, it does show the correct dataframe, but the plots are not saved. If I run the plot code independently, Rstudio shows the plots correctly though.</p>
<pre><code>data &lt;- read.csv(&quot;file name here&quot;, stringsAsFactors = FALSE)

F4 &lt;- function(data) {
  data &lt;- data[, !colnames(data) %in% &quot;blank&quot;]
  names(data) &lt;- c(&quot;district&quot;, &quot;confirmed&quot;, &quot;deceased&quot;, &quot;recovered&quot;)
  data[,&quot;active&quot;] &lt;- data$confirmed - data$recovered - data$deceased
  data &lt;- data[, c(&quot;district&quot;, &quot;active&quot;, &quot;confirmed&quot;, &quot;recovered&quot;, &quot;deceased&quot;)]
  data &lt;- data[1:30, ]
  return(data)
  
  png(&quot;png file name here&quot;, width=100, height=500)
  
  par(mfrow = c(2, 1), mar = c(4, 4, 4, 4), oma = c(0, 0, 0, 0))
  boxplot(data$active, data$confirmed, data$recovered, data$deceased, col = &quot;skyblue&quot;, ylab = &quot;No. of Cases&quot;,
          main = &quot;Boxplot of COVID-19 status&quot;)
  axis(1, at = 1, labels = &quot;Active&quot;)
  axis(1, at = 2, labels = &quot;Confirmed&quot;)
  axis(1, at = 3, labels = &quot;Recovered&quot;)
  axis(1, at = 4, labels = &quot;Deceased&quot;)
  barplot(data$confirmed, col = &quot;skyblue&quot;, ylim = c(0, 200), names.arg = 1:30,
          xlab = &quot;District&quot;, ylab = &quot;No. of Cases&quot;, main = &quot;COVID-19 status by region&quot;)
  barplot(data$recovered, col = &quot;yellowgreen&quot;, add = TRUE)
  barplot(data$deceased, col = &quot;tomato&quot;, add = TRUE)
  legend(&quot;topright&quot;, legend = c(&quot;Confirmed&quot;, &quot;Recovered&quot;, &quot;Deceased&quot;), fill=c(&quot;skyblue&quot;, &quot;yellowgreen&quot;, &quot;tomato&quot;), horiz=TRUE, cex = 0.9)
  
  dev.off()
}

</code></pre>
","2024-06-16 04:58:18","1","Question"
"78625463","78625173","","<p>If you are trying to get the rates displayed in the DOM, you can just use a couple of for in loops. What exactly you put inside the for in loops of course depends on what your UI looks like.</p>
<p>But this code snippet is an example of walking through your rates data structure.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>rates = {
    ""M"": {
        ""lab"": {
            ""S"": ""50%""
        },
        ""dme"": {
            ""S"": ""75%""
        },
        ""therapy"": {
            ""S"": ""80%""
        },
        ""radio"": {
            ""S"": ""85%""
        },
        ""drugs"": {
            ""S"": ""100%""
        }
    }
}


displayRates( )

function displayRates( ) {
  let tableSpan = document.querySelector( ""#RatesContainerID span"" )
  let tableBody = document.querySelector( ""#RatesContainerID tbody"" )
  let spanHtml = """"
  let tBodyHtml = """"

  // Work through sections (only M in the example data)
  for( let section in rates ) {
    spanHtml = section

    // Next add all the data rows
    for( let item in rates[section] ) {
      // Capitalize the fisrt character
      let itemName = item.slice(0,1).toUpperCase() + item.slice(1)

      tBodyHtml += `&lt;tr&gt; &lt;td&gt;${itemName}&lt;/td&gt; &lt;td&gt;${rates[section][item].S}&lt;/td&gt; &lt;/tr&gt;`
    }
  }

  tableSpan.innerHTML = spanHtml
  tableBody.innerHTML = tBodyHtml
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>table {
  border: solid 2px gray;
  margin: 2px;
  padding: 0px 4px;
  border-spacing: unset;
}
thead {
  /* background-color: cyan; */
}
tr {
  border: solid 1px maroon;
}
th {
  border-bottom: solid 1px black;
}
th, td {
  padding: 4px 10px 4px 4px;
  text-align: start;
}
td:nth-child(2) {
  text-align: end;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div id=""RatesContainerID""&gt;
  &lt;table&gt;
    &lt;span&gt;X&lt;/span&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;Item&lt;/th&gt; &lt;th&gt;S&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;example&lt;/td&gt;  &lt;td&gt;%&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-06-15 02:04:11","-1","Answer"
"78625173","","Mapping through an object","<p>I'm coding using javascript &amp; react. I have an object named &quot;rates&quot; I'm trying to map through:</p>
<pre><code>{
    &quot;M&quot;: {
        &quot;lab&quot;: {
            &quot;S&quot;: &quot;50%&quot;
        },
        &quot;dme&quot;: {
            &quot;S&quot;: &quot;75%&quot;
        },
        &quot;therapy&quot;: {
            &quot;S&quot;: &quot;80%&quot;
        },
        &quot;radio&quot;: {
            &quot;S&quot;: &quot;85%&quot;
        },
        &quot;drugs&quot;: {
            &quot;S&quot;: &quot;100%&quot;
        }
    }
}
</code></pre>
<p>Here's how I'm mapping through it:</p>
<pre><code>const rateList = rates.M.map(
              (rate) =&gt; {
                return {
                  &quot;DME&quot;: {
                    S: rates.M.dme.S,
                  },
                  &quot;Lab&quot;: {
                    S: rates.M.lab.S,
                  },
                  &quot;Drugs&quot;: {
                    S: rates.M.drugs.S,
                  },
                  &quot;Radio&quot;: {
                    S: rates.M.radio.S,
                  },
                  &quot;Therapy&quot;: {
                    S: rates.M.therapy.S,
                  },
                };
              },
            );

</code></pre>
<p>I keep on getting error &quot;rates.M.map is not a function&quot;. I'm assuming because &quot;rates&quot; is not an array but an object.
How should I remap? So the values from the object is displayed to its corresponding labels?
I appreciate your guidance!</p>
","2024-06-14 22:26:17","0","Question"
"78622455","78621456","","<p>Follow the below steps to create a sample Timer trigger function in the Javascript V4 model and test it locally.</p>
<p><strong>Steps :</strong></p>
<p>Go to the Azure Extension in Visual Studio code and select create  <strong>Azure Functions</strong> &gt; <strong>Create New Project</strong> &gt; select the folder to create the function project as below,</p>
<p><img src=""https://i.imgur.com/Aa9Y6JS.png"" alt=""enter image description here"" /></p>
<p>Select the <strong>Javascript</strong> as the language as below,</p>
<p><img src=""https://i.imgur.com/R9M9jqF.png"" alt=""enter image description here"" /></p>
<p>Click on <strong>Model V4</strong> as below,</p>
<p><img src=""https://i.imgur.com/oe8Npj5.png"" alt=""enter image description here"" /></p>
<p>Select the <strong>Timer trigger</strong> function as below,</p>
<p><img src=""https://i.imgur.com/OBiRQnT.png"" alt=""enter image description here"" /></p>
<p>Provide a name to the function as below,</p>
<p><img src=""https://i.imgur.com/zP4SKma.png"" alt=""enter image description here"" /></p>
<p>Set the time for the timer trigger function as below,</p>
<p><img src=""https://i.imgur.com/TkdsRss.png"" alt=""enter image description here"" /></p>
<p>Click on enter will create the Timer trigger function in the Javascript V4 model as below,</p>
<p><img src=""https://i.imgur.com/kem97US.png"" alt=""enter image description here"" /></p>
<p><strong>src/functions/timerTrigger1 :</strong></p>
<pre class=""lang-js prettyprint-override""><code>const { app } = require('@azure/functions');
app.timer('timerTrigger1', {
    schedule: '0 */5 * * * *',
    handler: (myTimer, context) =&gt; {
        context.log('Timer function processed request.');
    }
});
</code></pre>
<p>I have added the below test code for the above timer trigger function Javascript v4 model.</p>
<p><strong>tests/timerTrigger1.test.js :</strong></p>
<pre class=""lang-js prettyprint-override""><code>jest.mock('@azure/functions', () =&gt; {
  return {
      app: {
          timer: jest.fn()
      }
  };
});
const { app } = require('@azure/functions');
const context = {
  log: jest.fn()
};
let handler;
beforeAll(() =&gt; {
  app.timer.mockImplementation((name, options) =&gt; {
      handler = options.handler;
  });
  require('../src/functions/timerTrigger1');
});
describe('timerTrigger1', () =&gt; {
  beforeEach(() =&gt; {
      jest.clearAllMocks();
  });
  test('should log the expected message', () =&gt; {
      const myTimer = {}; 
      handler(myTimer, context);
      expect(context.log).toHaveBeenCalledWith('Timer function processed request.');
  });
});
</code></pre>
<p><strong>package.json :</strong></p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;name&quot;: &quot;project&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;func start&quot;,
    &quot;test&quot;: &quot;jest&quot;
  },
  &quot;devDependencies&quot;: {
    &quot;@azure/functions&quot;: &quot;^4.5.0&quot;,
    &quot;jest&quot;: &quot;^29.7.0&quot;,
    &quot;mocha&quot;: &quot;^10.4.0&quot;,
    &quot;sinon&quot;: &quot;^18.0.0&quot;
  },
  &quot;main&quot;: &quot;src/functions/*.js&quot;
}
</code></pre>
<p><strong>Output :</strong></p>
<p>I successfully ran the timer trigger function and test code as below.</p>
<p><img src=""https://i.imgur.com/CyQ0qFI.png"" alt=""enter image description here"" /></p>
","2024-06-14 10:37:43","0","Answer"
"78621601","78619683","","<p>Cris answered your direct question <a href=""https://stackoverflow.com/questions/78619683/matlab-check-existence-of-optional-parameters-not-enough-input-arguments#comment138608121_78619683"">in the commments</a>, <code>exist</code> expects you to input the <em>name</em> of the variable, not the variable itself (since it might not exist!)</p>
<pre><code>    if (~exist('opt1', 'var')) % &lt;- char 'opt1' is the variable name
        opt1 = setopt1();
    end
</code></pre>
<p>But there are some slightly nicer ways to do this anyway, the syntax for calling your function would be the same in all cases.</p>
<ol>
<li>Using <code>nargin</code> (<strong>n</strong>umber of <strong>arg</strong>uments <strong>in</strong>put). Since this is directly dependent on the number of input arguments, you can't do something like accidentally define the variable above your input validation and breaking the flow.</li>
</ol>
<pre><code>function my_opt_func(opt1, opt2, opt3)
    if nargin &lt; 1
        opt1 = setopt1();
    end
    if nargin &lt; 2
        opt2 = setopt2();
    end
    if nargin &lt; 3
        opt3 = setopt3();
    end

    ...
</code></pre>
<ol start=""2"">
<li>Using the input parser with optional inputs and default values, in particular using <a href=""https://uk.mathworks.com/help/matlab/ref/inputparser.addoptional.html"" rel=""nofollow noreferrer""><code>addOptional</code></a> means you can keep the function calling syntax the same. Alternatively you could use the input parser for <a href=""https://uk.mathworks.com/help/matlab/ref/inputparser.addparameter.html"" rel=""nofollow noreferrer"">name-value pairs</a>. I find this is often overkill unless you want to utilise the other functionality <code>inputParser</code> offers.</li>
</ol>
<pre><code>function my_opt_func(varargin)
    p = inputParser;
    p.addOptional( 'opt1', setopt1() );
    p.addOptional( 'opt2', setopt2() );
    p.addOptional( 'opt3', setopt3() );
    p.parse( varargin{:} );

    opt1 = p.Results.opt1;
    opt2 = p.Results.opt2;
    opt3 = p.Results.opt3;

    ...
</code></pre>
<ol start=""3"">
<li>Since R2019b you can use the <a href=""https://uk.mathworks.com/help/matlab/ref/arguments.html"" rel=""nofollow noreferrer""><code>arguments</code> syntax</a></li>
</ol>
<pre><code>function my_opt_func(opt1, opt2, opt3)
    arguments
        opt1 double = setopt1()
        opt2 double = setopt2()
        opt3 double = setopt3()
    end

    ...
</code></pre>
<p><strong>Note</strong> that <code>inputParser</code> will run the <code>setoptx</code> functions for the default values <em>regardless if values have been passed in</em>, but the <code>arguments</code> syntax is more efficient since the <code>setoptx</code> functions will only be evaluated if the input isn't given.</p>
","2024-06-14 07:23:18","4","Answer"
"78621456","","How to create new timer trigger function using NodeJS azure and testing locally?","<p>I am beginner for azure services learner. Need to know is there any documentation available to create timer trigger function using visual studio code in Nodejs.</p>
<p>Please share your guidance and recommendation to run locally function for testing.</p>
<p>Thanks!</p>
<p>Found this <a href=""https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-node?tabs=javascript%2Cwindows%2Cazure-cli&amp;pivots=nodejs-model-v4"" rel=""nofollow noreferrer"">https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-node?tabs=javascript%2Cwindows%2Cazure-cli&amp;pivots=nodejs-model-v4</a>, but as a beginner not understand how to start.</p>
","2024-06-14 06:53:54","0","Question"
"78621223","78619642","","<h2>Updated Version:</h2>
<p>The original answer was somewhat thrown together as I experimented, this version is a little more refined.  This function can be used to encrypt a module as Base64 and then generate a new module with the original module (in Base64 form) embedded.  The new module, when imported, will recreated a temporary copy of the original module, import it, and then delete the temporary copy.  All <code>Export-ModuleMember</code> lines from the original module should be appended to the end of the generated module.</p>
<p>This version differs from the original version in the following ways:</p>
<ol>
<li>The Function's name is <code>New-Base64Module</code>.</li>
<li>It generates a new module file instead of trying edit an existing module.</li>
<li>The function checks if the module file to generate already exists, and if it does, it will only replace the file if the file has a special signature.</li>
<li>Its first parameter takes the path where you want the public encrypted module created, and second parameter takes the path for the private source module.</li>
<li>The private source module file is read twice.
<ul>
<li>First time to extract <code>Export-ModuleMember</code> commands that will be appended to the public module.</li>
<li>Second time to get a byte for byte copy that is converted into Base64 string which is embedded in the public module.</li>
</ul>
</li>
</ol>
<pre class=""lang-bash prettyprint-override""><code>function New-Base64Module {
   [CmdletBinding()]
   param (
      [Parameter(Mandatory = $true, Position = 0)]
      [string]$Base64ModulePath,
      [Parameter(Mandatory = $true, Position = 1)]
      [string]$SourceModulePath
   )
   $Signature = '&lt;#--Generated_Public_Base64_Module--#&gt;'
   if ((Test-Path $Base64ModulePath -PathType Leaf) -and (Get-Content -Raw -LiteralPath $Base64ModulePath) -notmatch $Signature) {
      throw @&quot;
The module at '$Base64ModulePath' exists but is missing a valid signature.
To resolve this issue, you have the following options:
1. Manually delete the existing module file and rerun the function to generate a new module.
2. Correct the signature in the existing module file to match the expected signature.
3. Or point this function to a previously generated module file that has the correct signature.
&quot;@
   }
   else {
      $ModuleCode = @'
   {0}
$PSCode = [System.Text.Encoding]::UTF8.GetString([Convert]::FromBase64String('{1}'))

$tempModulePath = [System.IO.Path]::GetTempFileName()
$tempModulePath = [System.IO.Path]::ChangeExtension($tempModulePath, '.psm1')
$PSCode | Out-File -FilePath $tempModulePath -Encoding UTF8
Import-Module -Name $tempModulePath
Remove-Item -Path $tempModulePath

{2}
'@
      $RegEx = '(?mi)(?&lt;=^\s*)export-modulemember\s+.*?(?=\s*$)'
      $PSMod = (Get-Content -LiteralPath $SourceModulePath | Select-String $Regex -AllMatches).Matches.Value -join [Environment]::NewLine
      $B64Str = [System.Convert]::ToBase64String([System.IO.File]::ReadAllBytes($SourceModulePath))
      Set-Content -Path $Base64ModulePath -Value ($ModuleCode -f $Signature, $B64Str, $PSMod)
   }
}
</code></pre>
<p>The following example use will create the module file ModuleWithSecretPS.psm1 located in a sub folder ModulePath, and uses ModuleSourceCode.psm1 for the source module that is converted to base64 and embedded in ModuleWithSecretPS.psm1.</p>
<pre><code>New-Base64Module &quot;$PSScriptRoot\ModulePath\ModuleWithSecretPS.psm1&quot; &quot;$PSScriptRoot\ModuleSourceCode.psm1&quot;
</code></pre>
<h4>Things to consider:</h4>
<ol>
<li>This does not prevent skilled users from decrypting the file and reading the source code.  It makes it difficult enough that most people will not bother.
<ul>
<li>A skilled person could still gain access to the source code, re-write their own version, and use it in their own scripts.</li>
</ul>
</li>
<li>This is something I've never seen done and since I've never used this before, I really don't know what hidden problems may exist in temporarily creating a module, importing it, and then deleting it.</li>
<li>For a more secure method of protecting your code, I would suggest using a PSCmdlet written in C#.  If you look at <a href=""https://stackoverflow.com/a/60161663/4190564"">this answer</a>, you can see that the PSCmdlet is made available on the fly as it is piped into <code>Import-Module</code>.
<ul>
<li>I haven't tried this yet, but in theory you should be able to pipe it into something else , convert that something else to Base64 or CliXml, store it as a string in a module, and then from that module convert it back and pipe it to Import-Module as needed.</li>
</ul>
</li>
</ol>
<h2>Original Answer:</h2>
<p><strong>NOTE:</strong> This is kind of a crazy scheme, <strong>but it appears to work</strong>.  This isn't exactly what you asked for, but does provides similar functionality.</p>
<p><strong>NOTE: This is totally experimental, and just some random idea that I just now came up with.</strong></p>
<p>This scheme involves 4 files:</p>
<ol>
<li>A private module file with your desired code. Users never have this file.</li>
<li>The module file you make available publicly, and is semi-generated from the private module.</li>
<li>A script used to alter the public module to include an encrypted copy of the private module.</li>
<li>The script the user has, and uses import module to import the public module.</li>
</ol>
<p>This is an example private module with a hidden <code>Get-CallerScriptName</code> and <code>Get-CallerPSScriptRoot</code> functions, and the publicly available <code>Write-LogEntry</code> function.  The <code>Write-LogEntry</code> function calls <code>Get-CallerPSScriptRoot</code> to get the equivalent to user's <code>$PSScriptRoot</code> value. The function <code>Get-CallerPSScriptRoot</code> calls <code>Get-CallerScriptName</code>, which works backwards up the PSCallStack until it finds a file that is different than the current script file. When <code>Write-LogEntry</code> gets the <code>$CallerPSScriptRoot</code> value, it then uses it to write a log entry to a log file in the caller's script's folder.</p>
<p><strong>NOTE:</strong> <code>Export-ModuleMember</code> is required to make <code>Write-LogEntry</code> available to the Public module.</p>
<pre class=""lang-bash prettyprint-override""><code>function Get-CallerScriptName {
   $ThisFile = $MyInvocation.ScriptName
   $Index = 0
   $ParentFile = ''
   do {
      $ParentFile = (Get-PSCallStack)[++$Index].ScriptName
   } until ( $ParentFile -ne $ThisFile  )
   return $ParentFile
}
function Get-CallerPSScriptRoot {
   Split-Path -Path (Get-CallerScriptName) -Parent
}

function Write-LogEntry([string]$Entry) {
   $CallerPSScriptRoot = Get-CallerPSScriptRoot
   $Entry | Out-File -LiteralPath &quot;$CallerPSScriptRoot\Entries.log&quot; -Append
}

Export-ModuleMember -Function Write-LogEntry
</code></pre>
<p>This is the public module.  The first line is where an encoded version of the private module will be stored.  When ran, <code>$Base64</code> will be assigned the encrypted text.  <code>$PSCode</code> will contain the decrypted text.  This code creates a temporary module file, saves the module's text to that temporary file, imports the temporary module, and removes the temporary module.</p>
<p><strong>NOTE:</strong> Removing the temporary module does <strong>not</strong> appear to cause problems.  It appears that PowerShell loads the module in memory and never access it again. <strong>BUT,</strong> this may not be true and this may be a cause for problems.  So you may need to remove the line that removes the temporary module file.</p>
<p><strong>NOTE:</strong> <code>Export-ModuleMember</code> is required to make <code>Write-LogEntry</code> available to the user's script.</p>
<pre class=""lang-bash prettyprint-override""><code>$Base64 = 'Random text that will get replaced'
$PSCode = [System.Text.Encoding]::UTF8.GetString([Convert]::FromBase64String($Base64))

$tempModulePath = [System.IO.Path]::GetTempFileName()
$tempModulePath = [System.IO.Path]::ChangeExtension($tempModulePath, &quot;.psm1&quot;)
$PSCode | Out-File -FilePath $tempModulePath -Encoding UTF8
Import-Module -Name $tempModulePath
Remove-Item -Path $tempModulePath

Export-ModuleMember -Function Write-LogEntry
</code></pre>
<p>This is the script used to encrypt the private module and embed it in the public module.  It uses RegEx to find and replace the text in the quoted string with the base64 encoded private module's text.</p>
<pre class=""lang-bash prettyprint-override""><code>function Add-Base64PowerShell {
   [CmdletBinding()]
   param (
      [Parameter(Mandatory = $true, Position = 0)]
      [string]$PSModulePath,
      [Parameter(Mandatory = $true, Position = 1)]
      [string]$PSSourcePath,
      [Parameter(Mandatory = $false, Position = 2)]
      [string]$PSCodeVar = 'Base64'
   )
   $RegEx = &quot;(?mi)(?&lt;=^\s*\x24$PSCodeVar\s*=\s*')([^\r\n']|'')*(?='\s*$)&quot;
   $B64Str = [System.Convert]::ToBase64String([System.IO.File]::ReadAllBytes($PSSourcePath))
   $PSModText = (Get-Content -Raw -LiteralPath $PSModulePath) -replace $RegEx, $B64Str
   Set-Content -Path $PSModulePath -Value $PSModText
}

Add-Base64PowerShell &quot;$PSScriptRoot\OneFileWithSecretPS1.psm1&quot; &quot;$PSScriptRoot\ModuleSourceCode.psm1&quot;
</code></pre>
<p>This is an example user script that imports the public module, which in turn decrypts the private module and imports it.  This script then uses Write-LogEntry to write an entry to the log file.</p>
<pre class=""lang-bash prettyprint-override""><code>Import-Module &quot;$PSScriptRoot\OneFileWithSecretPS1.psm1&quot;

Write-LogEntry &quot;This is a test log entry. #4&quot;
</code></pre>
<p>To use this scheme:</p>
<ol>
<li>Make modifications to the private module.</li>
<li>Run the code to encrypt and embed the private module in the public module.</li>
<li>Replace the old public module the users have with the new public module.</li>
<li>Verify the user's code is seeing the changes made to the private module.</li>
</ol>
","2024-06-14 05:40:08","0","Answer"
"78620763","78620712","","<p>Here's a solution using <code>apply</code> :</p>
<pre><code>sample$match_date &lt;- apply(sample, 1, \(x) names(x[-1][x[-1] %in% x[1]][1]))
sample$match_date
# [1] &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot;
#[11] &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; &quot;END1&quot; NA     &quot;END3&quot; &quot;END3&quot; &quot;END3&quot; &quot;END2&quot;
#[21] &quot;END1&quot;
</code></pre>
<p>We pass the entire dataframe in <code>apply</code> where the first column (<code>x[1]</code>) is the value to compare with rest of the data (<code>x[-1]</code>). Comparison is done using <code>%in%</code> instead of <code>==</code> since it returns <code>FALSE</code> for <code>NA</code> values. The last <code>[1]</code> ensures that it will always return only one column name even if there are multiple dates that match. Additionally, it also helps to return <code>NA</code> when there is no match (like in row 16).</p>
","2024-06-14 02:16:43","2","Answer"
"78620743","78620712","","<p>As a <code>tidyverse</code> / <code>dplyr</code> package user, my suggestion is to use the column names as &quot;variable&quot; for easier manipulations, with <code>pivot_longer()</code>. If you anticipate that there will be a single match on every row, you can use <code>filter()</code>. I don't think that it will slow, some seconds on bigger dataset maybe.</p>
<pre class=""lang-r prettyprint-override""><code>library(tidyverse) 

df = structure(list(fixed_date = structure(c(19267, 19239, 19120, 
                                             18035, 19253, 19211, 19120, 19778, 19120, 19211, 18224, 18224, 
                                             19624, 19211, 19211, 19211, 18409, 18409, 18558, 19876, 19267
), class = &quot;Date&quot;), BEGIN1 = structure(c(19240, 19212, 19086, 
                                         18008, 19240, 19177, 19086, 19751, 19086, 19177, 18197, 18197, 
                                         19597, 19177, 19177, 18197, 18197, 18197, 18477, 18477, 19240
), class = &quot;Date&quot;), END1 = structure(c(19267, 19239, 19120, 18035, 
                                       19253, 19211, 19120, 19778, 19120, 19211, 18224, 18224, 19624, 
                                       19211, 19211, 18224, 18224, 18224, 18488, 18488, 19267), class = &quot;Date&quot;), 
BEGIN2 = structure(c(NA, NA, 18043, NA, NA, NA, NA, NA, 18232, 
                     NA, NA, NA, NA, NA, 18232, 18232, 18232, 18232, 18512, 19849, 
                     18484), class = &quot;Date&quot;), END2 = structure(c(NA, NA, 18070, 
                                                                 NA, NA, NA, NA, NA, 18280, NA, NA, NA, NA, NA, 18280, 18280, 
                                                                 18280, 18280, 18523, 19876, 18495), class = &quot;Date&quot;), BEGIN3 = structure(c(NA, 
                                                                                                                                           NA, 18897, NA, NA, NA, NA, NA, 18323, NA, NA, NA, NA, NA, 
                                                                                                                                           18354, 18354, 18396, 18396, 18547, 19793, 18519), class = &quot;Date&quot;), 
END3 = structure(c(NA, NA, 18924, NA, NA, NA, NA, NA, 18350, 
                   NA, NA, NA, NA, NA, 18381, 18381, 18409, 18409, 18558, 19827, 
                   18530), class = &quot;Date&quot;), BEGIN4 = structure(c(NA, NA, 18113, 
                                                                 NA, NA, NA, NA, NA, 18687, NA, NA, NA, NA, NA, 18722, 18372, 
                                                                 NA, NA, NA, NA, 18554), class = &quot;Date&quot;), END4 = structure(c(NA, 
                                                                                                                             NA, 18140, NA, NA, NA, NA, NA, 18700, NA, NA, NA, NA, NA, 
                                                                                                                             18749, 18399, NA, NA, NA, NA, 18565), class = &quot;Date&quot;), BEGIN5 = structure(c(NA, 
                                                                                                                                                                                                         NA, 18148, NA, NA, NA, NA, NA, 18407, NA, NA, NA, NA, NA, 
                                                                                                                                                                                                         18407, 18407, NA, NA, NA, NA, NA), class = &quot;Date&quot;), END5 = structure(c(NA, 
                                                                                                                                                                                                                                                                                NA, 18175, NA, NA, NA, NA, NA, 18434, NA, NA, NA, NA, NA, 
                                                                                                                                                                                                                                                                                18434, 18434, NA, NA, NA, NA, NA), class = &quot;Date&quot;)), row.names = c(NA, 
                                                                                                                                                                                                                                                                                                                                                  -21L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))


df %&gt;% mutate(id = 1:n() ) %&gt;% 
  pivot_longer(-c(fixed_date, id) )  %&gt;% 
  group_by(id) %&gt;% 
  filter(fixed_date ==value)
#&gt; # A tibble: 20 × 4
#&gt; # Groups:   id [20]
#&gt;    fixed_date    id name  value     
#&gt;    &lt;date&gt;     &lt;int&gt; &lt;chr&gt; &lt;date&gt;    
#&gt;  1 2022-10-02     1 END1  2022-10-02
#&gt;  2 2022-09-04     2 END1  2022-09-04
#&gt;  3 2022-05-08     3 END1  2022-05-08
#&gt;  4 2019-05-19     4 END1  2019-05-19
#&gt;  5 2022-09-18     5 END1  2022-09-18
#&gt;  6 2022-08-07     6 END1  2022-08-07
#&gt;  7 2022-05-08     7 END1  2022-05-08
#&gt;  8 2024-02-25     8 END1  2024-02-25
#&gt;  9 2022-05-08     9 END1  2022-05-08
#&gt; 10 2022-08-07    10 END1  2022-08-07
#&gt; 11 2019-11-24    11 END1  2019-11-24
#&gt; 12 2019-11-24    12 END1  2019-11-24
#&gt; 13 2023-09-24    13 END1  2023-09-24
#&gt; 14 2022-08-07    14 END1  2022-08-07
#&gt; 15 2022-08-07    15 END1  2022-08-07
#&gt; 16 2020-05-27    17 END3  2020-05-27
#&gt; 17 2020-05-27    18 END3  2020-05-27
#&gt; 18 2020-10-23    19 END3  2020-10-23
#&gt; 19 2024-06-02    20 END2  2024-06-02
#&gt; 20 2022-10-02    21 END1  2022-10-02
</code></pre>
<p><sup>Created on 2024-06-13 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
","2024-06-14 02:05:47","1","Answer"
"78620712","","Return the name of a column which matches a date value","<p>I have a <code>data.frame</code> with about 66k rows and 150 columns. For the purposes of this question, this is a sample. All columns are date objects.</p>
<pre><code>structure(list(fixed_date = structure(c(19267, 19239, 19120, 
18035, 19253, 19211, 19120, 19778, 19120, 19211, 18224, 18224, 
19624, 19211, 19211, 19211, 18409, 18409, 18558, 19876, 19267
), class = &quot;Date&quot;), BEGIN1 = structure(c(19240, 19212, 19086, 
18008, 19240, 19177, 19086, 19751, 19086, 19177, 18197, 18197, 
19597, 19177, 19177, 18197, 18197, 18197, 18477, 18477, 19240
), class = &quot;Date&quot;), END1 = structure(c(19267, 19239, 19120, 18035, 
19253, 19211, 19120, 19778, 19120, 19211, 18224, 18224, 19624, 
19211, 19211, 18224, 18224, 18224, 18488, 18488, 19267), class = &quot;Date&quot;), 
    BEGIN2 = structure(c(NA, NA, 18043, NA, NA, NA, NA, NA, 18232, 
    NA, NA, NA, NA, NA, 18232, 18232, 18232, 18232, 18512, 19849, 
    18484), class = &quot;Date&quot;), END2 = structure(c(NA, NA, 18070, 
    NA, NA, NA, NA, NA, 18280, NA, NA, NA, NA, NA, 18280, 18280, 
    18280, 18280, 18523, 19876, 18495), class = &quot;Date&quot;), BEGIN3 = structure(c(NA, 
    NA, 18897, NA, NA, NA, NA, NA, 18323, NA, NA, NA, NA, NA, 
    18354, 18354, 18396, 18396, 18547, 19793, 18519), class = &quot;Date&quot;), 
    END3 = structure(c(NA, NA, 18924, NA, NA, NA, NA, NA, 18350, 
    NA, NA, NA, NA, NA, 18381, 18381, 18409, 18409, 18558, 19827, 
    18530), class = &quot;Date&quot;), BEGIN4 = structure(c(NA, NA, 18113, 
    NA, NA, NA, NA, NA, 18687, NA, NA, NA, NA, NA, 18722, 18372, 
    NA, NA, NA, NA, 18554), class = &quot;Date&quot;), END4 = structure(c(NA, 
    NA, 18140, NA, NA, NA, NA, NA, 18700, NA, NA, NA, NA, NA, 
    18749, 18399, NA, NA, NA, NA, 18565), class = &quot;Date&quot;), BEGIN5 = structure(c(NA, 
    NA, 18148, NA, NA, NA, NA, NA, 18407, NA, NA, NA, NA, NA, 
    18407, 18407, NA, NA, NA, NA, NA), class = &quot;Date&quot;), END5 = structure(c(NA, 
    NA, 18175, NA, NA, NA, NA, NA, 18434, NA, NA, NA, NA, NA, 
    18434, 18434, NA, NA, NA, NA, NA), class = &quot;Date&quot;)), row.names = c(NA, 
-21L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;))
</code></pre>
<p>What I want is a column that gives me the name of the column across columns 2 and 11 which is equal to the value of column 1. This runs with no errors but no column is created:</p>
<pre><code>sample$match_date_&lt;- apply(sample[,c(2:11)], 1, 
        function(x) names(which(x == sample[,1])))  
</code></pre>
<p>I don't know why this isn't working as expected and also I want to achieve a faster solution since I guess using apply will be slow. Any advice will be much appreciated.</p>
","2024-06-14 01:50:58","0","Question"
"78620421","78620404","","<blockquote>
<p>How to place my arguments so that users have an intuitive sense of which options can go together and which can't?</p>
</blockquote>
<p>The general solution would involve creating a type definition (e.g. a <code>.d.ts</code> file), TypeScript would be helpful in this case.</p>
<pre><code>type Options = {
  A: boolean;
  C?: boolean;
} | {
  B: boolean;
  C?: boolean;
};
declare function printLib(options: Options): Promise&lt;any&gt;;
</code></pre>
<p>This also ensures that either A or B is provided. C can be provided in both options, or omitted.</p>
<p>Using booleans for mutually-exclusive might not be a good fit, and as you pointed out an union can be used:</p>
<pre><code>type Options = {
  AorB: &quot;A&quot; | &quot;B&quot;;
  C?: boolean;
};
declare function printLib(options: Options): Promise&lt;any&gt;;
</code></pre>
","2024-06-13 22:56:58","0","Answer"
"78620404","","What is the idiomatic way to accept arguments to a function that may be mutually exclusive?","<p>I'm building a small library that exposes a function:</p>
<p><code>await printLib({optionsObj})</code></p>
<p>Currently, the options parameter is an object with different (optional) properties.</p>
<pre class=""lang-js prettyprint-override""><code>A?: &lt;boolean&gt;
B?: &lt;boolean&gt;
C?: &lt;boolean&gt;
</code></pre>
<p>Users can pass either true or false to any option. BUT <strong>A and B cannot be both true</strong>, or else an error is thrown.</p>
<p>In my case, although A and B cannot be true at the same time, B and C can have the same boolean values.</p>
<p>How to place my arguments so that users have an intuitive sense of which options can go together and which can't?</p>
<p>Does it call for a redesign of the function?</p>
<p>One solution is to take <code>string</code> values as the parameter: <code>&quot;A&quot; | &quot;B&quot; | &quot;C&quot;</code>. However, this should be applied when all the possible options (A,B,C) are <strong>mutually exclusive</strong> - either A or B or C.</p>
","2024-06-13 22:44:12","0","Question"
"78620266","78615698","","<p>The best way to get started with your test is to let Cypress set it up for you.</p>
<p>If you start with a clean project, install and open Cypress - <code>npx cypress open</code>. The Cypress wizard will automatically configure itself.</p>
<p>After opening the runner, you can either chose &quot;Scaffold example specs&quot; or &quot;Create new spec&quot; - which shows exactly what a working spec looks like.</p>
<p><strong>cypress\e2e\spec.cy.js</strong></p>
<pre class=""lang-js prettyprint-override""><code>describe('template spec', () =&gt; {
  it('passes', () =&gt; {
    cy.visit('https://example.cypress.io')
  })
})
</code></pre>
<p>The <em>test</em> is the <code>it()</code> block which has a description and a callback. You can modify the contents to reflect your own requirements</p>
<pre class=""lang-js prettyprint-override""><code>const url = 'http://www.demo.applitools.com';
const validUsername = 'leilasabolic';
const validPassword = 'qaisfun202';

describe('testing applitools demo', () =&gt; {
  it('logs in', () =&gt; {
    cy.get('#username').type('validUsername');
    cy.get('#password').type('validPassword');
    cy.get('#button').click();
  })
})
</code></pre>
<p>or with a function just call it inside the <code>it()</code> block</p>
<pre class=""lang-js prettyprint-override""><code>const url = 'http://www.demo.applitools.com';
const validUsername = 'leilasabolic';
const validPassword = 'qaisfun202';

function login(validUsername, validPassword) {
  cy.get('#username').type('validUsername');
  cy.get('#password').type('validPassword');
  cy.get('#button').click();
}

describe('testing applitools demo', () =&gt; {
  it('logs in', () =&gt; {
    login(validUsername, validPassword)
  })
})
</code></pre>
<p>There's no need for custom commands for a simple set of actions such as logging in, a function is fine.</p>
<p><strong>More tests</strong></p>
<p>To use your function in more tests, call it in a <code>beforeEach()</code> block</p>
<pre class=""lang-js prettyprint-override""><code>const url = 'http://www.demo.applitools.com';
const validUsername = 'leilasabolic';
const validPassword = 'qaisfun202';

function login(validUsername, validPassword) {
  cy.get('#username').type('validUsername');
  cy.get('#password').type('validPassword');
  cy.get('#button').click();
}

describe('testing applitools demo', () =&gt; {
  it('logs in', () =&gt; {
    login(validUsername, validPassword)
  })

  context('after logging in', () =&gt; {

    beforeEach(() =&gt; {
      login(validUsername, validPassword)
    })

    it('tests something on the page', () =&gt; {
      ...
    })


    it('tests something else on the page', () =&gt; {
      ...
    })
  })
})
</code></pre>
","2024-06-13 21:38:05","0","Answer"
"78619769","78611798","","<p>The following code works nicely:</p>
<pre><code>select sha2(concat('A11111111111111111111',salt2), 512) as &quot;Name&quot;, salt2, myuser 
from usertable;
</code></pre>
<p>I also decided to create the hashes on the client, not the server, but I know how to do both now. Seems like everyone has an opinion on using server or client created hashes.</p>
","2024-06-13 19:12:26","0","Answer"
"78619683","","MATLAB Check Existence of Optional Parameters: not enough input arguments","<p>I have written a Matlab R2020b function that optionally receives three inputs - but if the inputs are not received, they should be set to the defaults within the script.</p>
<pre><code>function my_opt_func(opt1, opt2, opt3)
    if (~exist(opt1, 'var'))
        opt1 = setopt1();
    end
    if (~exist(opt2, 'var'))
        opt2 = setopt2();
    end
    if (~exist(opt3, 'var'))
        opt3 = setopt3();
    end

    disp(string(opt1) + string(opt2) + string(opt3))
    
    function opt1 = setopt1()
        opt1 = 1;
    end
    
    function opt2 = setopt2()
        opt2 = 2;
    end
    
    function opt3 = setopt3()
        opt3 = 3;
    end

end
</code></pre>
<p>Here, the different <code>setopt</code> functions are used to generate the appropriate default values.</p>
<p>Unfortunately, calling this function without parameters, as <code>my_opt_func</code> or <code>my_opt_func()</code> gives the error <code>Not enough input arguments</code>. I tried using a variant of <code>varargin</code>, but got the same error.</p>
<p>When I set the values without using the <code>setopt</code> functions, I don't get this error - but due to the complexity of my actual program, I really need to use functions to develop my defaults.</p>
<p>How do I fix this error so that the user can call the function with or without parameters - as either <code>my_opt_func()</code> or <code>my_opt_func(param1, param2, param3)</code>?</p>
","2024-06-13 18:53:20","2","Question"
"78619642","","powershell function security to limit who is able to call this function - from allowed functions only?","<p>I want to limit some powershell functions, so it is possible to call them only from allowed functions, but not from any function in script code and not by calling directly.
Let's say I have 3 functions:</p>
<pre><code># Major function to be called directly in script code as user implements
function Cleanup-Collection {
    param (
        [string]$CollectionName
    )
    $Collection = Get-Collection -Name $CollectionName
    Cleanup-CollectionReferences -Collection $Collection
}

# Helper sub-function, which can be called only from Cleanup-Collection
function Cleanup-CollectionReferences {
    param (
        [PSObject]$Collection
    )
    $AllowedFunctionsAndHashes = @{...}
    If($PSScript.InvokerFunction -match $AllowedFunctionsAndHashes -And $PSScript.InvokerChecksum -match $AllowedFunctionsAndHashes[FunctionName].Hash) {
       Continue-Script
       ...
    }
}

# Test function
function Test-RestrictedFunctionCall {
    param (
        [string]$CollectionName
    )
    $Collection = Get-Collection -Name $CollectionName
    Cleanup-CollectionReferences -Collection $Collection
}

# Test invocation from script
Cleanup-CollectionReferences -Collection $Collection
</code></pre>
<p>Test function call and Test invocation from script should fail with exception.
The questions are:</p>
<ol>
<li><p>Is it possible to limit/restrict function invocation in powershell in the manner I have described?
I know that I can do like this:</p>
<p>Function A {
code
Function B {
otherCode<br />
}
}</p>
</li>
</ol>
<p>But I don't like this, because I will get 3 screens long large main function with sub-functions with too much of indentation and this makes navigation and viewing code not convenient.</p>
<ol start=""2"">
<li>Is it possible to make powershell function Sealed except for encapsulation into separate powershell module?
I know that this is from OOP concept of classes. So should I re-design code architecture to be based on classes and then implement type-checking and maybe some other additional things?
Doesn't powershell treat functions also as objects?</li>
</ol>
<p>By sealed I mean to have maybe some kind of checksum embedded, so that if it was modified it will fail when called until checksum or signature is rebuilt.</p>
<p>If signature for powershell script is implemented at the end of file with just commented string, can't these signatures be implemented on per-function basis? Not for powershell script file signature properties, but for internal validation inside the script that functions are unchanged and function-signature is valid? I just don't want to split this into many files and prefer to have one file as a library, and the best to have just one file.</p>
<p>Thank you in advance.
Most important is first question as I was not able to find in search engines anything related.</p>
<p>Yes, I know it would be easier to encapsulate and sign a library instead of this obscure logic, but really wanted to have one file and kind of close to fool-proof implementation.</p>
","2024-06-13 18:39:16","0","Question"
"78619190","78617268","","<p>i tried this and was able to make it work, you were giving your query as a string, you just pass the query without quotes.</p>
<pre><code>SELECT * FROM table(map_value_basic(SELECT value_num  FROM tbl_to_map_basic));
</code></pre>
<p><a href=""https://i.sstatic.net/wi6jPHJY.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/wi6jPHJY.png"" alt=""enter image description here"" /></a></p>
","2024-06-13 16:43:18","0","Answer"
"78619180","78617268","","<p>You're trying to use the output of one query <code>SELECT * FROM tbl_to_map_basic</code> as the input to a table function <code>table(map_value_basic(...))</code>. The way to do this in Snowflake is with a CROSS JOIN.</p>
<p>The simplest way to write a CROSS JOIN is with a comma-separated list of your data sources in the FROM statement, as so:</p>
<pre><code>WITH my_values AS (
  SELECT value_num
  FROM tbl_to_map_basic
)

SELECT *
FROM my_values,
     table(map_value_basic(TO_VARCHAR(value_num)))
;
</code></pre>
<p>This returns:</p>
<pre><code>| VALUE_NUM | STATUS   |
|-----------|----------|
| 10        | Overdue  |
| 10        | On-hold  |
</code></pre>
","2024-06-13 16:40:43","0","Answer"
"78618127","78617777","","<p>The only possible simplifications to your current code are using a <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_functions?view=powershell-7.4#filters"" rel=""nofollow noreferrer""><code>filter</code></a> instead of a <code>function</code> with a <code>process</code> and removing <code>System</code> from <code>System.IO.Path</code>. There is no automatic variable that covers pipeline and positional binding both in 1.</p>
<pre class=""lang-bash prettyprint-override""><code>filter ext { [IO.Path]::ChangeExtension($_ ? $_ : $args[0], $_ ? $args[0] : $args[1]) }
</code></pre>
<p>If you want to give your code more meaning or context you could use <a href=""https://learn.microsoft.com/en-us/dotnet/api/system.management.automation.invocationinfo.expectinginput?view=powershellsdk-7.4.0#system-management-automation-invocationinfo-expectinginput"" rel=""nofollow noreferrer""><code>.ExpectingInput</code></a> in your conditions however this makes it longer:</p>
<pre class=""lang-bash prettyprint-override""><code>filter ext {
    [IO.Path]::ChangeExtension(
        $MyInvocation.ExpectingInput ? $_ : $args[0],
        $MyInvocation.ExpectingInput ? $args[0] : $args[1])
}
</code></pre>
","2024-06-13 13:20:52","1","Answer"
"78618102","78615698","","<p>Cypress uses <a href=""https://docs.cypress.io/faq/questions/general-questions-faq#Mocha"" rel=""nofollow noreferrer"">Mocha to executes tests</a>. (It is built-in to Cypress, so you don't need to install it.) So, in order to have Cypress identify your functions as tests, they'll need to be in Mocha blocks - <code>describe</code>, <code>context</code>, or <code>it</code>. Tests that share common setup and teardown, or  are in a common area are often grouped together underneath <code>describe</code> or <code>context</code> blocks, and the individual tests are in the <code>it</code> blocks.</p>
<pre class=""lang-js prettyprint-override""><code>describe('My Tests', () =&gt; {
  it('Validates I can login succesfully', () =&gt; {
    launchApplication();
    enterUsername('foo');
    enterPassword('bar');
    clickLoginButton();
    verifyLoginSuccess();
  });
});
</code></pre>
<p>So your functions that you have written can be called within the <code>it</code> (or <code>describe</code>/<code>context</code> blocks).</p>
<p>As an aside, Cypress recommends you use <a href=""https://docs.cypress.io/api/cypress-api/custom-commands"" rel=""nofollow noreferrer"">Cypress Custom Commands</a> <em>instead of</em> abstracting Cypress code to a vanilla JS function. (I understand that you're going through a Bootcamp, just some additional information on Cypress best practices.)</p>
","2024-06-13 13:16:28","0","Answer"
"78617851","78617777","","<p>No, you need to enable the function to receive pipeline input.
Which means <code>[CmdletBinding()]</code> and everything else.</p>
","2024-06-13 12:27:32","-2","Answer"
"78617777","","Simplify a Powershell one-line function that works with pipelines as well as conventional parameters","<p>I have the following PowerShell function that works as intended for pipeline and parameter usage:</p>
<pre><code>function ext { 
  process {
    [System.IO.Path]::ChangeExtension($_ ? $_ : $args[0], $_ ? $args[0] : $args[1])
  }
}
</code></pre>
<p>Is it possible to simplify/minify this function by maybe using some Automatic Variables I don't know about, but without lengthening the code.</p>
<p>I explicitly don't want to go through all the parameter syntax like <code>[Parameter(ValueFromPipeline=$True)]</code> and defining each parameter explicitly since it would double the length of the function, which is exactly not my goal, unlike in these posts:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/59415154/make-a-powershell-function-work-correctly-as-both-pipeline-and-normal-invocation"">Make a Powershell function work correctly as both Pipeline and normal invocation</a></li>
<li><a href=""https://stackoverflow.com/questions/9593656/handling-pipeline-and-parameter-input-in-a-powershell-function"">Handling pipeline and parameter input in a Powershell function</a></li>
</ul>
","2024-06-13 12:11:17","2","Question"
"78617268","","Function in a query does not return more than one row when reading from another record in a table","<p>I have a basic function that when given one number as input can return two different values in the form of a table. I would like this function to read the values contained in a column of another table, but I am not succeeding at this.</p>
<p>If the function returns a string it works without problem, but I would like the function to be able to give me an output of one column and two rows based on one record value of a different table.</p>
<p>I provide some basic code to explain exactly what I am trying to achieve:</p>
<pre><code>-- Creation mapping_table_test

create or replace TABLE mapping_table_test (
    status VARCHAR(100),
    operator VARCHAR(100),
    num1 NUMBER(38, 0),
    num2 NUMBER(38, 0)
);

-- Insert values

insert into mapping_table_test  (status, operator, num1) 
values ('Overdue', '=', 10);
insert into mapping_table_test  (status, operator, num1, num2) 
values ('On-hold', 'B', 9, 11);

-- Function creation
-- The function reads from the previous table

CREATE OR REPLACE FUNCTION map_value_basic (field_value STRING)
RETURNS TABLE(status STRING)
AS
$$
  SELECT 
    status
  FROM mapping_table_test 
  WHERE 
         (operator = '=' AND field_value = num1) OR
         (operator = 'B' AND field_value between num1 AND num2)
$$;

-- Testing the function

SELECT * FROM table(map_value_basic('10')); -- Returns: Overdue, on-hold

-- Creating another table the function reads from 
create or replace TABLE tbl_to_map_basic (
    value_num NUMBER(38, 0)
);

-- Inserting values

insert into tbl_to_map_basic (value_num) 
values (10);

SELECT * FROM tbl_to_map_basic;

-- Function bridging the two tables

SELECT * FROM table(map_value_basic('SELECT * FROM tbl_to_map_basic'));

</code></pre>
<p>This last SELECT is not working ('Numeric value 'SELECT * FROM tbl_to_map_basic' is not recognized', it is expecting a number).</p>
<p>I found a quite long solution based on the function returning a string (not a table) with comma-separated values that I can then separate in different columns and unpile again within the same column. However, I would need a more direct approach.</p>
<p>What I am expecting is a table such as <code>SELECT * FROM table(map_value_basic('10'));</code>, which returns two rows with values 'Overdue' and 'On-hold'. I only want to be able to provide the other table as input, also assuming that in a more complex scenario sometimes the number will only return one value, not two necessarily.</p>
","2024-06-13 10:21:50","0","Question"
"78615698","","How do I call a function in cypress.io for E2E test automation?","<p>I am in a QA bootcamp (Coding Temple) and I am working on an assignment where we take pseudo code and turn it into an automated test using javaScript functions in cypress. However, I just cannot get it right!! Cypress keeps saying there is no tests!! Can someone please look over my code and tell me what Im doing wrong? I have been stuck on this for over 24 hours.</p>
<pre class=""lang-js prettyprint-override""><code>const url = 'http://www.demo.applitools.com';
const validUsername = 'leilasabolic';
const validPassword = 'qaisfun202';

function launchApplication(){
    cy.visit('url');
}

function enterUsername(“validUsername”){
    cy.get('action.username').type('validUsername');
}

function enterPassword(“validPassword”){
    cy.get('action.password').type('validPassword');
}

function clickLoginButton(){
    cy.get('#query-btn').should('contain', 'Button').click();
}

function verifyLoginSuccess(){
}
</code></pre>
<p>or</p>
<pre class=""lang-js prettyprint-override""><code>const url = 'http://www.demo.applitools.com';
const validUsername = 'leilasabolic';
const validPassword = 'qaisfun202';

function login(validUsername, validPassword) {
    cy.get('#username').type('validUsername');
    cy.get('#password').type('validPassword');
    cy.get('#button').click();
}
</code></pre>
","2024-06-13 03:26:11","0","Question"
"78615184","78615002","","<p>Using <code>apply</code> and <code>sort</code></p>
<pre><code>data.frame(table(apply(DATA[-1], 1, \(x) toString(sort(x)))))
                      Var1 Freq
1          english, french    1
2 english, french, spanish    2
3         english, russian    2
4         english, spanish    1
</code></pre>
<p>Note, if you want <code>NA</code>s to show up use <code>sort(x, na.last=T)</code></p>
","2024-06-12 22:37:40","1","Answer"
"78615059","78615002","","<p>You can try base R code with <code>table</code> like below</p>
<pre><code>d &lt;- table(unlist(DATA[-1]), row(DATA[-1]))&gt;0
nms &lt;- row.names(d)
stack(table(apply(d, 2, \(k) toString(nms[k]))))
</code></pre>
<p>which gives</p>
<pre><code>  values ind                     
1 1      english, french         
2 2      english, french, spanish
3 2      english, russian        
4 1      english, spanish        
</code></pre>
","2024-06-12 21:43:14","1","Answer"
"78615039","78615002","","<p>Here's a variation using reshaping first:</p>
<pre><code>library(tidyverse)
DATA |&gt;
  pivot_longer(-ID, values_drop_na = TRUE) |&gt;
  arrange(value) |&gt;
  summarize(lang = paste(value, collapse = &quot;, &quot;), .by = ID) |&gt;
  count(lang)
</code></pre>
<p>Result</p>
<pre><code># A tibble: 4 × 2
  lang                         n
  &lt;chr&gt;                    &lt;int&gt;
1 english, french              1
2 english, french, spanish     2
3 english, russian             2
4 english, spanish             1
</code></pre>
","2024-06-12 21:36:49","2","Answer"
"78615017","78615002","","<p>If you sort <em>then</em> collapse your data then order won't matter (because they'll be in the same order):</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)
library(stringr)

DATA |&gt;
  rowwise() |&gt;
  mutate(lang = str_flatten_comma(sort(c_across(starts_with(&quot;lang&quot;))))) |&gt;
  ungroup() |&gt;
  count(lang)
#   lang                         n
#   &lt;chr&gt;                    &lt;int&gt;
# 1 english, french              1
# 2 english, french, spanish     2
# 3 english, russian             2
# 4 english, spanish             1
</code></pre>
<p>Or if you want to use <code>table()</code> you can pipe the output of the mutate statement to <code>pull(lang) |&gt; table()</code>.</p>
","2024-06-12 21:27:09","3","Answer"
"78615002","","Tabulate a column in data.frame ignoring the order of elements in it in R","<p>In my <code>DATA</code> below, I wonder how to <code>table()</code> the variable <code>lang_comb</code> ignoring the order?</p>
<p>For example, <code>&quot;english  spanish  french&quot;</code> and <code>&quot;french   english  spanish&quot;</code> are to be considered the same.</p>
<p>Is there a way to tabulate variable <code>lang_comb</code> this way in R?</p>
<pre><code>library(tidyverse)

DATA &lt;- read.table(header=T, text=&quot;
ID  lang1    lang2    lang3
1   spanish  english  NA
2   english  spanish  french
3   russian  english  NA
4   french   english  spanish
5   english  russian  NA
6   english  french   NA&quot;)


combs &lt;- DATA %&gt;% 
  mutate(lang_comb = paste(lang1, lang2, lang3, sep=&quot;,&quot;))

with(combs, table(lang_comb))


     english,french,NA     english,russian,NA english,spanish,french french,english,spanish     russian,english,NA 
                     1                      1                      1                      1                      1 
    spanish,english,NA 
                     1 
</code></pre>
","2024-06-12 21:19:27","2","Question"
"78614796","78613744","","<p>You can use a recursive query:</p>
<pre class=""lang-sql prettyprint-override""><code>WITH bounds (id, des, position) AS (
  SELECT id, des, 1 FROM emp
UNION ALL
  SELECT id, des, position + 6
  FROM   bounds
  WHERE  position + 6 &lt;= LENGTH(des)
)
SEARCH DEPTH FIRST BY id SET order_id
SELECT id,
       SUBSTR(des, position, 6) AS str
FROM   bounds
</code></pre>
<p>Or, from Oracle 12, use a <code>LATERAL</code> join to a row-generator:</p>
<pre class=""lang-sql prettyprint-override""><code>SELECT id,
       SUBSTR(des, position, 6) AS str
FROM   emp e
       CROSS JOIN LATERAL (
         SELECT 6 * LEVEL - 5 AS position
         FROM   DUAL
         CONNECT BY LEVEL * 6 - 5 &lt;= LENGTH(des)
       )
</code></pre>
<p>Which, for the sample data:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE TABLE EMP (ID, DES) AS
SELECT 1, EMPTY_CLOB() || 'I have pen in India' FROM DUAL UNION ALL
SELECT 2, EMPTY_CLOB() || 'My name is pravin' FROM DUAL UNION ALL
SELECT 3, EMPTY_CLOB() || LPAD('A', 4000, 'A') || 'B' FROM DUAL;
</code></pre>
<p>Outputs:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th style=""text-align: right;"">ID</th>
<th style=""text-align: left;"">STR</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: right;"">1</td>
<td style=""text-align: left;"">I have</td>
</tr>
<tr>
<td style=""text-align: right;"">1</td>
<td style=""text-align: left;""> pen i</td>
</tr>
<tr>
<td style=""text-align: right;"">1</td>
<td style=""text-align: left;"">n Indi</td>
</tr>
<tr>
<td style=""text-align: right;"">1</td>
<td style=""text-align: left;"">a</td>
</tr>
<tr>
<td style=""text-align: right;"">2</td>
<td style=""text-align: left;"">My nam</td>
</tr>
<tr>
<td style=""text-align: right;"">2</td>
<td style=""text-align: left;"">e is p</td>
</tr>
<tr>
<td style=""text-align: right;"">2</td>
<td style=""text-align: left;"">ravin</td>
</tr>
<tr>
<td style=""text-align: right;"">3</td>
<td style=""text-align: left;"">AAAAAA</td>
</tr>
<tr>
<td style=""text-align: right;"">...</td>
<td style=""text-align: left;"">...</td>
</tr>
<tr>
<td style=""text-align: right;"">3</td>
<td style=""text-align: left;"">AAAAB</td>
</tr>
</tbody>
</table></div>
<p><a href=""https://dbfiddle.uk/4WNcja0H"" rel=""nofollow noreferrer"">fiddle</a></p>
","2024-06-12 20:15:58","0","Answer"
"78613868","78613744","","<p>Inspire of the query to wrap the code in the kind of function you need:</p>
<pre><code>with data(id, txt) as (
    select 1, empty_clob() || 'I have pen in India' union all
    select 2, empty_clob() || 'My name is pravin'
)
select id, dbms_lob.substr(txt, 6, 6*(level - 1)+1) as descr
from data
connect by prior id = id and dbms_lob.substr(txt, 6, 6*(level - 1)+1) is not null and prior sys_guid() is not null
;
</code></pre>
","2024-06-12 16:13:40","1","Answer"
"78613744","","Split data in oracle","<p>I have one table emp:</p>
<pre><code>  CREATE TABLE EMP 
   (ID NUMBER, 
    DES CLOB);
</code></pre>
<p>Actual data in table:</p>
<pre><code>id   desc
1    I have pen in India
2    My name is pravin
</code></pre>
<p>Create function using loop when data length size more than 6 then other data is next row in oracle.</p>
<p>output</p>
<pre><code>id   desc
1    I have
1     pen i
1    n India
2    My nam
2    e is p
2    ravin
</code></pre>
<p>converting clob to varchar</p>
","2024-06-12 15:48:42","-2","Question"
"78612128","78611800","","<p>I managed to figure out how to reset it. I had to install Microsoft Azure Storage Explorer which can be downloaded <a href=""https://azure.microsoft.com/en-us/products/storage/storage-explorer"" rel=""nofollow noreferrer"">on this link</a>.</p>
<p>Once the application is downloaded and installed, you'll need to sign in using your Azure subscription. Once signed in, then the subscription will open. This will give you the option to see the blob containers.</p>
<p><a href=""https://i.sstatic.net/lC41J29F.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/lC41J29F.png"" alt=""Azure Explorer"" /></a></p>
<p>On the blob containers, you'll find the containers. Deleting them will start the sequences from scratch.</p>
<p>Hope it helps someone.</p>
","2024-06-12 10:37:51","0","Answer"
"78611800","","Reset Azure Functions Sequence Number","<p>I am working with Azure Functions where another team is in charge of the consumer hub. Since this is still in development and I am new, I have been able to get some events.</p>
<p>Unfortunately, I am in a situation where I get the following error:</p>
<p><code> System.Private.CoreLib: The supplied sequence number '969' is invalid. The last sequence number in the system is '893'</code></p>
<p>I am aware of what the error means, however I do not know how to reset it, as I would like it to start the sqequence number from 1.</p>
<p>I was told to use Azurerite and delete some files, but I am not sure which files are being referred to.</p>
<p>My local.settings.json files has the following settings</p>
<p><code>&quot;AzureWebJobsStorage&quot;: &quot;UseDevelopmentStorage=true&quot;, &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;dotnet-isolated&quot;,</code></p>
<p>Can someone please direct me in the right place.</p>
<p>I tried deleting some files but there was no change.</p>
","2024-06-12 09:35:17","0","Question"
"78611798","","In a single select, use a selected column result also in a MySQL function?","<p>as an idea example this here kind of thing</p>
<p><code>Select salt2, SHA2('A11111111111111111111' + 'salt2', 512) from usertable;</code></p>
<p>Where the salt value in salt2 column will be used in the sha2 function.</p>
<p>The hash to be made is from the string &quot;A11111111111111111111&quot; plus the string value in salt2 column. As in appended onto the end.</p>
<p>So, use the value in salt2 column, in the function, all in one select statement</p>
<p>For trying of course tried what I wrote, but it's a concept not working code yet.
If this cannot be done, I can try nested readers. As in gather the salt, in one select, then run a separate select in a nested reader to generate the hash.</p>
<p>I am comparing my stored hash in 'priv_aes' column with this generated hash from above here to see if any user has all privileges for use in my vbnet program. This is not a mysql user table with grants, it is my own user table.</p>
<p>Table explained, last 3 columns have hashed values.</p>
<pre><code>MariaDB [booksgood]&gt; explain usertable
    -&gt; ;
+--------------+--------------+------+-----+---------------------+----------------+
| Field        | Type         | Null | Key | Default             | Extra          |
+--------------+--------------+------+-----+---------------------+----------------+
| Id           | int(11)      | NO   | PRI | NULL                | auto_increment |
| MyName       | varchar(50)  | YES  |     |                     |                |
| Myuser       | varchar(50)  | YES  |     |                     |                |
| password     | varchar(50)  | YES  |     |                     |                |
| Priveliges   | char(21)     | YES  |     |                     |                |
| TS           | timestamp    | YES  |     | NULL                |                |
| UserDate     | datetime     | YES  |     | current_timestamp() |                |
| password_aes | varchar(150) | YES  |     | NULL                |                |
| priv_aes     | varchar(150) | YES  |     | NULL                |                |
| salt2        | varchar(20)  | YES  |     | NULL                |                |
+--------------+--------------+------+-----+---------------------+----------------+
10 rows in set (0.034 sec)

MariaDB [booksgood]&gt;
</code></pre>
","2024-06-12 09:34:39","0","Question"
"78610763","78610648","","<p>This is just following typical Python documentation notation, as covered by the <a href=""https://docs.python.org/3/reference/introduction.html#notation"" rel=""nofollow noreferrer"">documentation</a>.</p>
<p>The relevant part is quoted below for reference (emphasis mine)</p>
<blockquote>
<p>The descriptions of lexical analysis and syntax use a modified Backus–Naur form (BNF) grammar notation.<br />
...<br />
... A star (*) means zero or more repetitions of the preceding item; likewise, a plus (+) means one or more repetitions, <strong>and a phrase enclosed in square brackets ([ ]) means zero or one occurrences (in other words, the enclosed phrase is optional).</strong></p>
</blockquote>
<p>Note that when talking about the syntax, the comma is not special in any way and should be treated as a literal.</p>
<p>Let's first consider an example from the <a href=""https://docs.python.org/3/library/itertools.html"" rel=""nofollow noreferrer"">itertools documentation page</a> to see why the commas are enclosed in the square brackets in this particular way. In the table, the parameters of <code>itertools.islice()</code> is specified as <code>seq, [start,] stop [, step]</code>. Four possible function prototypes can be derived from it depending on the number of occurences of each group:</p>
<p>0 and 0 ocurrences:</p>
<pre><code>islice(seq, stop)
</code></pre>
<p>0 and 1 occurences:</p>
<pre><code>islice(seq, stop, step)
</code></pre>
<p>1 and 0 occurences:</p>
<pre><code>islice(seq, start, stop)
</code></pre>
<p>1 and 1 occurences:</p>
<pre><code>islice(seq, start, stop, step)
</code></pre>
<p>You can see that the comma has to be organized in this way with respect to the square brackets in order to derive all the four syntaxes correctly. If for example the grammar were written as <code>seq, [start,] stop, [step]</code>, with the comma outside the second bracket, then for the 0 and 0 occurences case we would obtain <code>islice(seq, stop,)</code>, resulting in a redundant comma.</p>
<p>The syntax in the question can be interpreted in exactly the same way. The key point here is at the formal grammar level, the comma is just a literal, you should not consider <code> dst[</code> as a whole, which is where your confusion comes from.</p>
<p>For example, if we choose one occurence for the outermost bracket and zero for the others, we derive one possible syntax.</p>
<pre><code>dst = resize( src, dsize[, dst[, fx[, fy[, interpolation]]]] )
                        1     0    0    0               0001 
-&gt; dst = resize( src, dsize, dst )
</code></pre>
<p>Another choice leads to another valid syntax.</p>
<pre><code>dst = resize( src, dsize[, dst[, fx[, fy[, interpolation]]]] )
                        1     1    0    0               0011 
-&gt; dst = resize( src, dsize, dst, fx )
</code></pre>
<p>and so on. Now it should be clear why the comma need to be positioned in the way shown.</p>
<p>As already commented by others, <a href=""https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form"" rel=""nofollow noreferrer"">Backus-Naur form</a> is very common and not limited to Python. The details of modifications that Python made to the original BNF grammar can be found in the link above.</p>
","2024-06-12 05:26:17","3","Answer"
"78610719","78610648","","<p>This is just a computer science convention when optional nature of something is expressed by putting it in brackets.</p>
<p>For example see the <em>man</em> page for <em>grep</em></p>
<pre><code>grep [OPTION...] PATTERNS [FILE...]
</code></pre>
<p>Unfortunately in this context (describing a python calling sequence), it leads to more confusion. It would have been better to use =None to indicate default parameters or use separate lines to describe various valid calling sequences.</p>
","2024-06-12 05:09:06","0","Answer"
"78610657","78610648","","<p>The square brackets [ ] in the OpenCV documentation typically denote optional arguments. However, in the case of the <code>resize()</code> function signature you provided, it's a bit confusing because <code>dsize</code> is indeed a required argument, as you correctly pointed out.</p>
<p>The square brackets are used to indicate optional arguments in the function signature. Let's break down the signature:</p>
<p><code>dst = resize( src, dsize[, dst[, fx[, fy[, interpolation]]]] )</code></p>
<ul>
<li><code>src</code>: This is the source image you want to resize. It's a required argument.</li>
<li><code>dsize</code>: This is the desired size of the output image. It's also a required argument.</li>
<li><code>dst</code>: This is the optional output image. If provided, the resized image will be stored here.</li>
<li><code>fx</code>: This is the scale factor along the horizontal axis. It's optional.</li>
<li><code>fy</code>: This is the scale factor along the vertical axis. It's optional.</li>
<li><code>interpolation</code>: This specifies the interpolation method to use. It's optional.</li>
</ul>
<p>So, in essence, the only two required arguments are <code>src</code> and <code>dsize</code>, while the rest are optional. The square brackets around <code>dst</code>, <code>fx</code>, <code>fy</code>, and <code>interpolation</code> indicate that they can be omitted, and the function will still work, using default values or inferring them based on the provided arguments.</p>
","2024-06-12 04:38:49","3","Answer"
"78610648","","What does '[' after an argument in a call function signify in Python?","<p>I have been going through the opencv wiki when I came across the <code>resize</code> function defined as:</p>
<pre><code>dst = resize( src, dsize[, dst[, fx[, fy[, interpolation]]]] )
</code></pre>
<p>I am unable to understand what the <code>[</code> after the arguments signify.</p>
<p>I was assuming that it means an optional argument, but I realized that cannot be the case as <code>dsize</code> is a required argument.</p>
<p>Any clarification would help a lot.</p>
","2024-06-12 04:34:10","1","Question"
"78610262","78609017","","<p>The reason for the error is <code>leap_status</code> is declared in the function is_leap() and it <code>if leap_status == True:</code> is found in the function <code>days_in_month</code>. We call it <code>leap_status</code> is a local variable of <code>is_leap()</code> meaning: you can't call this variable from another function. So, instead of <code>if leap_status == True:</code> in the function <code>days_in_month()</code>, you can change the statement as <code>if is_leap(year):</code> (True doesn't need to be mentioned in the conditional statements.)</p>
<p>To avoid these kinds of confusions, provide your code either as completely pseudo code or completely with proper code with function. Pseudocode is nothing but not defining the function and getting result. Here, we use input() and print statements.</p>
<p>In the code with function, we provide the input as the parameters of the function.</p>
<p>Your code seems to be mix-up of Pseudocode(Without defining function) and code with function.</p>
<p>it is generally said not to use global variables.</p>
<p>This is pseudocode:</p>
<pre><code>year = input()
month = int(input())
if len(year) != 4:
    print(&quot;Enter the year in 'YYYY' format&quot;)
else:
    year = int(year)
l = [x for x in range(12)]
non_leap_months = [31 if i%2==0 else 28 if i==1 else 30 for i,x in enumerate(l)]
leap_months = non_leap_months.copy()
leap_months[1] = 29 
   
if year % 400 != 0:
    if year % 100 != 0 and year % 4 == 0:
        leap_status = True
    else:
        leap_status = False
   
else: leap_status = True
    
if leap_status:
    month_days = leap_months
else:
    month_days = non_leap_months

num_days_in_month = month_days[month -1]

print(leap_status)
print(num_days_in_month)
</code></pre>
<p>Defining as Function and getting result:</p>
<pre><code>def leap_year_finding(year):
    
    year_str = str(year)
    
    # if the year is not with 4 digits, return error
    if len(year_str) != 4:
        return &quot;Enter the year in 'YYYY' formate&quot;

    else:
        
        # list of 0 - 11, leap_months and non_leap_months
        l = [x for x in range(12)]
        non_leap_months = [31 if i%2==0 else 28 if i==1 else 30 for i,x in enumerate(l)]
        leap_months = non_leap_months.copy()
        leap_months[1] = 29
        
        
        #leap year_conditional_statements
        if year % 400 == 0: leap_status = True
        else:
            if year % 100 != 0 and year % 4 == 0:
                leap_status = True
                
            else: leap_status = False
        
            
        if leap_status: month_days = leap_months
            
        else: month_days = non_leap_months
        
        # return a list of leap_status and leap_months   
        return [leap_status, month_days]

def is_leap(year):
    return leap_year_finding(year)[0]

def num_days_in_month(year,month):
    r = leap_year_finding(year)[1]       
    return r[month-1]
    
    

r = is_leap(1900)
print(r) # Output: False
r = num_days_in_month(1900,2)
print(r) # Output: 28

r = is_leap(2000)
print(r) # Output: True
r = num_days_in_month(2000, 2)
print(r) # Output: 29

r = is_leap(2004)
print(r) # Output: True
r = num_days_in_month(2004, 2)
print(r) # Output: 29

r = is_leap(2004)
print(r) # Output: True
r = num_days_in_month(2004, 5)
print(r) # Output: 31

r = is_leap(2008)
print(r) # Output: True
r = num_days_in_month(2008, 5)
print(r) # Output: 31
r = num_days_in_month(2008, 6)
print(r) # Output: 30

r = is_leap(2009)
print(r) # Output: False
r = num_days_in_month(2009, 2)
print(r) # Output: 28
r = num_days_in_month(2009, 3)
print(r) # Output: 31
</code></pre>
","2024-06-12 01:07:59","0","Answer"
"78609855","78609749","","<p>Here is base R trick with <code>ave</code> + <code>var</code></p>
<pre><code>subset(DATA, ave(as.integer(factor(Descr)), Nm, FUN = var) &gt; 0)
</code></pre>
<p>which gives</p>
<pre><code>  Cd   Nm  Descr    
1  710 spa Castilian
2 4260 spa Spanish  
3 2290 gr  Greek    
4 1213 gr  Greek_b  
</code></pre>
","2024-06-11 21:49:07","1","Answer"
"78609811","78609749","","<pre class=""lang-r prettyprint-override""><code>library(dplyr)

DATA |&gt;
  filter(n_distinct(Descr) &gt; 1, .by = Nm)
#     Cd  Nm     Descr
# 1  710 spa Castilian
# 2 4260 spa   Spanish
# 3 2290  gr     Greek
# 4 1213  gr   Greek_b
</code></pre>
","2024-06-11 21:27:01","2","Answer"
"78609798","78609749","","<p>With <code>dplyr</code>, detecting duplicated entries with <code>vec_duplicate_detect</code> from <code>vctrs</code></p>
<pre><code>library(dplyr)

DATA %&gt;% 
  filter(all(!vctrs::vec_duplicate_detect(Descr)) &amp; n() &gt; 1, .by = Nm)
    Cd  Nm     Descr
1  710 spa Castilian
2 4260 spa   Spanish
3 2290  gr     Greek
4 1213  gr   Greek_b
</code></pre>
","2024-06-11 21:22:07","1","Answer"
"78609749","","Finding rows in a data.frame that are the same on one variable but different on another variable in R","<p>In my <code>DATA</code> below, how could I filter the rows where the <code>Nm</code> values are the same but <code>Descr</code> values are different to achieve my <code>Desired_out</code> below?</p>
<pre><code>DATA &lt;- read.table(header=T, text =&quot;
Cd    Nm     Descr
710   spa    Castilian
4260  spa    Spanish
2290  gr     Greek
1213  gr    Greek_b
1765  ger    German
2340  ita    Italian
&quot;)

Desired_output &lt;- read.table(header=T, text =&quot;
Cd    Nm     Descr
710   spa    Castilian
4260  spa    Spanish
2290  gr     Greek
1213  gr    Greek_b&quot;)

</code></pre>
","2024-06-11 21:04:02","1","Question"
"78609068","78609017","","<p>The reason of the error is because you use the variable out of scope. the leap_status variable is locally in is_leap function and out of the function python doesn't know this variable.</p>
<p>You can solve it in two ways:
First, and recommended, is to call the <strong>function</strong> and not the variable:</p>
<pre><code>def days_in_month(year, month):
    if is_leap(year):
        # rest of code
</code></pre>
<p>In here, you call the first function that is above the function you are in, so the is_leap function is called and known by python. be aware the if the is_leap function was down the days_in_month function you can't do it.</p>
<p>The second and less recommended way is to use global variable, so python know to use the variable in other places, out of the declared function:</p>
<pre><code>def is_leap(year):
    global leap_status
        # rest of code
</code></pre>
<p>This way when you can use or change the variable where ever you want in your program.</p>
","2024-06-11 17:47:28","1","Answer"
"78609017","","NameError when accessing variable returned from function (out of order?)","<p>Per the code below, I'm getting this error:</p>
<blockquote>
<p>NameError: name 'leap_status' is not defined</p>
</blockquote>
<p>The def days_in_month() is looking for the status of leap_status which should be defined already but, for some reason, it seems to be calling it <em>before</em> it's defined by the is_leap() function?</p>
<p>I feel like I missed something about how the return value is stored or something..</p>
<pre><code>def is_leap(year):
  if year % 4 == 0:
    if year % 100 == 0:
      if year % 400 == 0:
        leap_status = True
      else:
        leap_status = False
    else:
      leap_status = True
  else:
    leap_status = False
  return leap_status

def days_in_month(year, month):
    if leap_status == True:
        month_days = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
    else:
      month_days = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31] 
    num_days_in_month = month_days[month -1]
    return num_days_in_month


#Year Input from user
year = int(input()) # Enter a year
#Function to calculate if Leap Year
is_leap(year)
#Month Input from User
month = int(input())
#Function to determine how many days in month
#depending on if Leap Year is True
days_in_month(year, month)
days = days_in_month(year, month)
</code></pre>
","2024-06-11 17:32:52","0","Question"
"78608970","78593958","","<p><strong>1.- Problem from input, not from function</strong></p>
<p>The quick answer is you input an <code>NxN</code> to double and therefore you obtain as output also an <code>NxN</code> matrix.</p>
<p>If you do</p>
<pre><code>L1=&quot;abc def&quot;;
double(L1)

L1 = abc def
 =

    97    98    99    32   100   101   102
</code></pre>
<p>or</p>
<pre><code>double(L1')
 =

    97
    98
    99
    32
   100
   101
   102
</code></pre>
<p><strong>MATLAB</strong> returns the expected 1xN or Nx1  string.</p>
<p>But if you do</p>
<pre><code>double(L1'*L1)
</code></pre>
<p>then</p>
<p>=</p>
<pre><code>9409    9506    9603    3104    9700    9797    9894
9506    9604    9702    3136    9800    9898    9996
9603    9702    9801    3168    9900    9999   10098
3104    3136    3168    1024    3200    3232    3264
9700    9800    9900    3200   10000   10100   10200
9797    9898    9999    3232   10100   10201   10302
9894    9996   10098    3264   10200   10302   10404
</code></pre>
<p>You are only showing the function that you mention it works ok.</p>
<p><strong>Please include in your question the input or a sample of the input as you call it in your main.</strong></p>
<p>Also</p>
<p><strong>2.-</strong></p>
<p>in <strong>MATLAB</strong> for this particular case please consider <strong>not</strong> using a <code>for</code> loop :</p>
<pre><code>% coding
pt='Normandie 10am'
k=3
ac = double(pt);
    if (ac+ k) &gt; 90
        diff = (ac + k) - 90;
        aout= 64 + diff;
    else
        aout = ac + k;
    end

cout = char(aout)

% decoding
pt2=cout;
k2=-3
ac2 = double(pt2);
    if (ac2+ k2) &gt; 90
        diff2 = (ac2 + k2) - 90;
        aout2 = 64 + diff2;
    else
        aout2= ac2+ k2;
    end

cout2 = char(aout2)
</code></pre>
<p>now it works ok</p>
<pre><code>pt = Normandie 10am
k = 3
cout = Qrupdqglh#43dp
k2 = -3
cout2 = Normandie 10am
</code></pre>
<p><strong>3.- Pull input to make sure</strong></p>
<p>Also, if reviewing or modifying the input that causes <code>NxN</code> output not possible then try adding the following line <strong>inside</strong> the function</p>
<pre><code>plaintext=plaintext(:);
</code></pre>
<p>this way you make sure that whatever size shows up as input, your function is only processing all elements one by one indian file.</p>
<p>Hope it helps.
Thanks for reading</p>
","2024-06-11 17:22:02","-1","Answer"
"78608446","78608270","","<p>Your current function definition of <code>handleDropdownBlur</code> uses the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Window/event"" rel=""nofollow noreferrer"">global <code>event</code></a> variable, which is indeed deprecated.</p>
<p>Changing your code to:</p>
<pre class=""lang-js prettyprint-override""><code>dropdowns.forEach((dropdown) =&gt; {
  const list = dropdown.querySelectorAll(&quot;li a&quot;);
  list[list.length - 1].addEventListener(&quot;blur&quot;, (event) =&gt; {
    // accept the event object from addEventListener ^
    handleDropdownBlur(event, dropdown.previousElementSibling);
    // forward the event ^ to handleDropdownBlur
  });
});
</code></pre>
<p>Will forward the <code>event</code> object provided by <code>addEventListener</code> to <code>handleDropdownBlur</code> as the first argument. You then have to change the <code>handleDropdownBlur</code> definition to also accept this argument:</p>
<pre class=""lang-js prettyprint-override""><code>function handleDropdownBlur(event, btn) {
  // accept the event as first ^ argument
  const list = event.currentTarget.closest(&quot;#nav ul&quot;);
  if (!event.relatedTarget || !list.contains(event.relatedTarget)) {
    closeDropdown(btn);
  }
}
</code></pre>
<p>This doesn't have to be the first argument and could also be forward as the second, or any other argument for that matter. But it's common practice to let <code>event</code> always be the first argument with any additional data following it.</p>
","2024-06-11 15:18:10","0","Answer"
"78608431","78608270","","<p>Forwarding the event by changing the function to <code>function handleDropdownBlur(event, btn)</code> and then calling the function using <code>handleDropdownBlur(event, dropdown.previousElementSibling)</code> fixed the deprecation warning and it works fine.</p>
<pre class=""lang-js prettyprint-override""><code>function handleDropdownBlur(event, btn) {
  const list = event.currentTarget.closest(&quot;#nav ul&quot;);
  if (!event.relatedTarget || !list.contains(event.relatedTarget)) {
    closeDropdown(btn);
  }
}

dropdowns.forEach((dropdown) =&gt; {
  const list = dropdown.querySelectorAll(&quot;li a&quot;);
  list[list.length - 1].addEventListener(&quot;blur&quot;, (event) =&gt; {
    handleDropdownBlur(event, dropdown.previousElementSibling);
  });
});

</code></pre>
","2024-06-11 15:14:44","0","Answer"
"78608270","","JavaScript event deprecated on function with parameters","<p>I was given two functions that are nearly identical, but one uses a parameter.</p>
<pre class=""lang-js prettyprint-override""><code>function handleBlur() {
  const list = event.currentTarget.closest(&quot;#nav ul&quot;);
  if (!event.relatedTarget || !list.contains(event.relatedTarget)) {
    closeNav();
  }
}

function handleDropdownBlur(btn) {
  const list = event.currentTarget.closest(&quot;#nav ul&quot;);
  if (!event.relatedTarget || !list.contains(event.relatedTarget)) {
    closeDropdown(btn);
  }
}
</code></pre>
<p>I was able to change the first function to work properly by simply adding <code>event</code> as the function parameter.</p>
<pre class=""lang-js prettyprint-override""><code>function handleBlur(event) {
  const list = event.currentTarget.closest(&quot;#nav ul&quot;);
  if (!event.relatedTarget || !list.contains(event.relatedTarget)) {
    closeNav();
  }
}
</code></pre>
<p>How would I change the second function to not warn of deprecation?</p>
<p>I tried adding <code>event</code> as both a first and second parameter, but this breaks the functionality.</p>
<p>The function is called later in the code like this:</p>
<pre class=""lang-js prettyprint-override""><code>dropdowns.forEach((dropdown) =&gt; {
  const list = dropdown.querySelectorAll(&quot;li a&quot;);
  list[list.length - 1].addEventListener(&quot;blur&quot;, (event) =&gt; {
    handleDropdownBlur(dropdown.previousElementSibling);
  });
});
</code></pre>
","2024-06-11 14:43:54","0","Question"
"78607514","78607169","","<p>i'm not sure but i feel like since you creating your widget inside a list, they a created but they don't depend on the variable.</p>
<pre><code> diceRow.add(dice(diceV1));
 diceRow.add(dice(diceV2));
 diceRow.add(dice(diceV3));
</code></pre>
<p>yeah they are created with 1, 2 and 3. But they don't depend on diceV1 etc...</p>
<p>Maybe you should try create a widget whom takes an int as a variable and then hold a list of dices that will hold the values for your dices.</p>
<p>Something like this</p>
<pre><code>import 'dart:math';

import 'package:flutter/material.dart';

class AskCom extends StatefulWidget {
  const AskCom({super.key});

  @override
  State&lt;AskCom&gt; createState() =&gt; _AskComState();
}

class _AskComState extends State&lt;AskCom&gt; {
  int diceV1 = 1;
  int diceV2 = 2;
  int diceV3 = 3;
  List&lt;int&gt; dices = [];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Row(
            children: dices.map((e) =&gt; Dice(variable: e)).toList(),
//the working part
            //[dice(diceV1),dice(diceV2),dice(diceV3)]
          ),
          const SizedBox(
            height: 20,
          ),
          SizedBox(
            width: 200,
            child: ElevatedButton(
                onPressed: () {
                  setState(() {
                    dices[0] = Random().nextInt(6) + 1;
                    dices[1] = Random().nextInt(6) + 1;
                    dices[2] = Random().nextInt(6) + 1;
                  });
                },
                child: const Text('ROLL')),
          ),
          SizedBox(
            width: 200,
            child: ElevatedButton(
                onPressed: () {
                  setState(() {
                    dices.add(diceV1);
                    dices.add(diceV2);
                    dices.add(diceV3);
                  });
                },
                child: const Text('ADD')),
          )
        ],
      ),
    );
  }
}

class Dice extends StatelessWidget {
  final int variable;
  const Dice({required this.variable, Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.all(8.0),
      child: Text(
        '$variable',
        style: Theme.of(context).textTheme.bodyLarge?.copyWith(
              color: Colors.red,
            ),
      ),
    );
  }
}
</code></pre>
<p>And sorry for the dice widget i made it to just understand your process. Hope it helps.</p>
","2024-06-11 12:32:53","0","Answer"
"78607194","78600764","","<p>You can do it like this:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let input_text = document.getElementById(""input_text"");
let Addbutton = document.getElementById(""Addbutton"");
let workList = document.getElementById(""workList"");
let xicon = '&lt;i class=""fa-regular fa-circle-xmark""&gt;&lt;/i&gt;';
let checkicon = '&lt;i class=""fa-regular fa-circle-check""&gt;&lt;/i&gt;';
Addbutton.onclick = function () {
  if (input_text.value === """") {
    alert(""Please type something"");
  } else {
    /*let newDiv = document.createElement(""div"");
    let newLabel = document.createElement(""label"");
    workList.appendChild(newDiv);
    newDiv.classList.add(""workDiv"");
    newDiv.appendChild(newLabel);
    newLabel.innerText = input_text.value;
    let newDiv2 = document.createElement(""div"");
    newDiv.appendChild(newDiv2);
    newDiv2.classList.add(""buttonDiv"");
    let newButton = document.createElement(""button"");
    newDiv2.appendChild(newButton);
    newButton.innerHTML = xicon;
    newButton.setAttribute(""onclick"", ""Delete(e)"");
    let newButton2 = document.createElement(""button"");
    newDiv2.appendChild(newButton2);
    newButton2.innerHTML = checkicon;

    input_text.value = """";*/
    document.getElementById(""container"").innerHTML += `&lt;section
        id=""workList""
        class=""mt-4 pl-2 h-fit w-11/12 flex flex-col gap-2""
      &gt;
      &lt;div class=""workDiv""&gt;&lt;label&gt;${input_text.value}&lt;/label&gt;&lt;div class=""buttonDiv""&gt;&lt;button onclick=""Delete(this)""&gt;&lt;i class=""fa-regular fa-circle-xmark"" aria-hidden=""true""&gt;Delete&lt;/i&gt;&lt;/button&gt;&lt;button&gt;&lt;i class=""fa-regular fa-circle-check"" aria-hidden=""true""&gt;Info&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/section&gt;
`;
  }
};
function Delete(context) {
  context.parentNode.parentNode.parentNode.removeChild(context.parentNode.parentNode);
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div id=""container""&gt;&lt;/div&gt;
&lt;input id=""input_text"" type=""text""&gt;
&lt;button id=""Addbutton""&gt;Add&lt;/button&gt;</code></pre>
</div>
</div>
</p>
<p>Notes:</p>
<ul>
<li>I have made sure you have a proper <code>Addbutton</code></li>
<li>I have changed the way it's generated to create proper sections. You might want to change the <code>onclick</code> of <code>Addbutton</code> to something else, but that's not very relevant to the question, the only reason I changed it is to be able to test the remove button</li>
<li>I have changed the delete function to work with the object we have</li>
</ul>
","2024-06-11 11:27:30","0","Answer"
"78607169","","how to add widgets to a list variable and then call out the variable?","<p>I have a row with some dices, I want to change their values based on the simple manipulating the address itself, when I'm having them manually in the children of the row its working all right but when I want to add them as an item to some list then have that list in the children section of the row the code is not working</p>
<p>The working screen:</p>
<p><a href=""https://i.sstatic.net/Jpp0T412.gif"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Jpp0T412.gif"" alt=""the working screen"" /></a></p>
<p>not working screen after adding widget to the list variable:</p>
<p><a href=""https://i.sstatic.net/7o3aOtDe.gif"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/7o3aOtDe.gif"" alt=""No working screen"" /></a></p>
<pre><code>import 'dart:math';

import 'package:flutter/material.dart';

class AskCom extends StatefulWidget {
  const AskCom({super.key});

  @override
  State&lt;AskCom&gt; createState() =&gt; _AskComState();
}

class _AskComState extends State&lt;AskCom&gt; {
  int diceV1 = 1;
  int diceV2 = 2;
  int diceV3 = 3;
  List&lt;Widget&gt; diceRow = [];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Row(children: diceRow 
//the working part
          //[dice(diceV1),dice(diceV2),dice(diceV3)]
          ),
          const SizedBox(
            height: 20,
          ),
          SizedBox(
            width: 200,
            child: ElevatedButton(
                onPressed: () {
                  setState(() {
                    diceV1 = Random().nextInt(6) + 1;
                    diceV2 = Random().nextInt(6) + 1;
                    diceV3 = Random().nextInt(6) + 1;
                  });
                },
                child: const Text('ROLL')),
          ),
          SizedBox(
            width: 200,
            child: ElevatedButton(
                onPressed: () {
                  setState(() {
                      diceRow.add(dice(diceV1));
                      diceRow.add(dice(diceV2));
                      diceRow.add(dice(diceV3));
                  });
                },
                child: const Text('ADD')),
          )
        ],
      ),
    );
  }

  Expanded dice(diceVal) {
    return Expanded(
      flex: 2,
      child: Padding(
        padding: const EdgeInsets.all(8.0),
        child: Image.asset(
          'assets/images/dice/dice$diceVal.png',
          color: Colors.red,
        ),
      ),
    );
  }
}

</code></pre>
<p>I tired to call the dice as a mthod or class but both had the same result</p>
","2024-06-11 11:22:36","0","Question"
"78606860","78564229","","<p>There is no immediately clear pattern in the sequence 1,4,8,12,16,...</p>
<p>There is of course a clear pattern in the sequence 4,8,12,16,... like you have already figured out; the numbers are divisible by 4.</p>
<p>The '1' in the original list is not part of the sequence generated by this pattern. You could manually put this in front of the sequence 4,8,12,16,... like this:</p>
<pre><code>list_of_1_to_16 &lt;- 1:16
desired_list&lt;-list_of_1_to_16[c(1,seq(4,16, 4))]
</code></pre>
<p>In 'seq(4,16,4)', the first argument is the starting number, the second argument is the highest number (as long as it is divisible by 4) and 4 is the step size.</p>
","2024-06-11 10:21:21","0","Answer"
"78602686","78585037","","<p>You can also use <code>Array#map</code> as follows:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let laptop = [""asus"", ""lenovo"", ""acer"", ""hp"", ""axioo""];
let gpu = [4070, 4090, 4050, 4080, 4060];

 
const laptopGpu  = (device, gra) =&gt; {
    const g = gra.toSorted();
    const data = device.toSorted().map(
        (d,i) =&gt; `{${d} with gpu ${g[i]}}`
    );

    return data;
}

console.log(laptopGpu(laptop,gpu));</code></pre>
</div>
</div>
</p>
","2024-06-10 13:47:19","0","Answer"
"78600764","","try to Remove a Div inside another div in javascript","<p>do list app but the problem is I added on click function when the delete button is built but on the function side nothing works most of the time I get e  is undefined i checked all other pages but none of them have worked so far</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let input_text = document.getElementById(""input_text"");
let Addbutton = document.getElementById(""Addbutton"");
let workList = document.getElementById(""workList"");
let xicon = '&lt;i class=""fa-regular fa-circle-xmark""&gt;&lt;/i&gt;';
let checkicon = '&lt;i class=""fa-regular fa-circle-check""&gt;&lt;/i&gt;';
Addbutton.onclick = function () {
  if (input_text.value === """") {
    alert(""Please type something"");
  } else {
    let newDiv = document.createElement(""div"");
    let newLabel = document.createElement(""label"");
    workList.appendChild(newDiv);
    newDiv.classList.add(""workDiv"");
    newDiv.appendChild(newLabel);
    newLabel.innerText = input_text.value;
    let newDiv2 = document.createElement(""div"");
    newDiv.appendChild(newDiv2);
    newDiv2.classList.add(""buttonDiv"");
    let newButton = document.createElement(""button"");
    newDiv2.appendChild(newButton);
    newButton.innerHTML = xicon;
    newButton.setAttribute(""onclick"", ""Delete(e)"");
    let newButton2 = document.createElement(""button"");
    newDiv2.appendChild(newButton2);
    newButton2.innerHTML = checkicon;

    input_text.value = """";
  }
};
function Delete(e) {
  e.parentNode.parentNode.parentNode.removeChild(e.parentNode.parentNode);
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;section
  id=""workList""
  class=""mt-4 pl-2 h-fit w-11/12 flex flex-col gap-2""
  &gt;
  &lt;div class=""workDiv""&gt;
    &lt;label&gt;todlapp1&lt;/label&gt;
    &lt;div class=""buttonDiv""&gt;
      &lt;button onclick=""Delete()""&gt;
        &lt;i class=""fa-regular fa-circle-xmark"" aria-hidden=""true""&gt;&lt;/i&gt;
      &lt;/button&gt;
      &lt;button&gt;
        &lt;i class=""fa-regular fa-circle-check"" aria-hidden=""true""&gt;&lt;/i&gt;
      &lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/section&gt;</code></pre>
</div>
</div>
</p>
<p>I treated online guides and YouTube but none of them have worked so far i want when I click on the Delete Button it removes the main div that holds the task</p>
","2024-06-10 06:30:08","-3","Question"
"78599700","","Is there a Flutter equivalent of the pipes in Angular?","<p>I am learning <code>Angular</code>, and I have discovered pipes, which not only seem very useful but should also be much more RAM-efficient than functions for data transformation. Is there an equivalent of <code>Angular</code> pipes in <code>Flutter</code>? Or is there something more efficient than functions when I have to do data transformation?</p>
","2024-06-09 20:45:01","0","Question"
"78598503","78598457","","<p>There's no difference, leetcode's runtime always different depending on its load. Don't trust leetcode's benchmark, it's useless to some degree.</p>
<pre><code>` Chrome/125
---------------------------------------------------------------------------------
&gt;            n=100       |     n=1000      |      n=10000      |     n=100000    
param     1.00x x10m 408 | ■ 1.00x x1m 339 |   1.02x x100k 335 | ■ 1.00x x10k 328
pure    ■ 1.00x x10m 406 |   1.01x x1m 343 | ■ 1.00x x100k 330 |   1.01x x10k 331
--------------------------------------------------------------------------------- `
</code></pre>
<p><a href=""https://silentmantra.github.io/benchmark#H4sIAAAAAAAACsVR22rDMAz9FREGddo17l4bUgr7hz35xXPU2q2jFFnJBiX%2FPtIb67bHjelJnIPOBR0z19aYLbOIAg8RaSseKnhaLEpDhnrL4Bit4HPbkSBDBZuOnISWVKAgORwNAQCM972NHUIFI1GeYddSEtgETvLynWWUjukqMU4gx9ggico%2FoePMZif58h69KHylhsfzPhga%2FrvISf1Xy2gN61ck5xvLezh0jIbO%2Bdyt3F1ZlZeGxmIBquuXS0NvPkRUYT7Pr4fFLfZPRpZtY%2Bj4J2bDyW%2B6TvtwmGrYoDivJl7kkJZau5qKXaoxhp4LQtFbr1OISNJYErb6llLH1tbIxS5N8kI8kmKoVsCF4LuoC4S9jXleZsMHfzDsM%2F8CAAA%3D"" rel=""nofollow noreferrer"">Open in the playground</a></p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let $length = 100;

var createCounter = function(init) {
    let value = init;
    const firstValue = init;
    return {
        increment(){
            ++value;
            return value;
        },
    }
};

var createCounter = function(init) {
    let value = init;
    const firstValue = init;
    return {
        increment(init){
            ++value;
            return value;
        },
    }
};

// @benchmark pure
const counter = createCounter();
let i = $length;
while(i--) counter.increment;

// @benchmark param
{
const counter = createCounter();
let i = $length;
while(i--) counter.increment;
}

/*@skip*/ fetch('https://cdn.jsdelivr.net/gh/silentmantra/benchmark/loader.js').then(r =&gt; r.text().then(eval));</code></pre>
</div>
</div>
</p>
","2024-06-09 11:53:02","2","Answer"
"78598457","","Does sending value to fucntion uses less memory than doing otherwise?","<p>I was doing leetcode and when i send value to a function (example: function(x)) it uses less memory and gives shorter runtime than doing otherwise (example: function()). Is that supposed to be like that?</p>
<p>This code uses more memory and has longer runtime:</p>
<pre><code>var createCounter = function(init) {
    let value = init;
    const firstValue = init;
    return {
        increment(){
            ++value;
            return value;
        },
        decrement(){
            --value;
            return value;
        },
        reset(){
            value = firstValue;
            return value;
        }
    }
};
</code></pre>
<p>This code uses less memory and has shorter runtime:</p>
<pre><code>var createCounter = function(init) {
    let value = init;
    const firstValue = init;
    return {
        increment(init){
            ++value;
            return value;
        },
        decrement(init){
            --value;
            return value;
        },
        reset(init){
            value = firstValue;
            return value;
        }
    }
};
</code></pre>
<p>I don't really understand why.</p>
","2024-06-09 11:37:35","2","Question"
"78595477","78595090","","<p>Quoting my above comment ...</p>
<blockquote>
<p>The use case <em>[the OP is]</em> presenting with every of its conditions/requirements and its usage already cancels out the implementation as a class. It's not that <em>[one]</em> just <em>[does not]</em> need it. By description and usage a class implementation just would by utterly wrong. What one need <em>[s]</em> is a plain <code>logger</code> function with <em>[an additional single method]</em> nailed to it (functions are objects too).</p>
</blockquote>
<p>The simple reason why using a class is the wrong approach is that class constructors have to be invoked always with <code>new</code>, a simple invocation, like the OP is seeking for with the described use case, will immediately throw a <code>TypeError</code>.</p>
<p>A running JS implementation which does exactly what the OP is looking for might look similar to and as straightforward as the following provided code ...</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// -- begin of logger module scope. --

function loggerInfo(text) {
  console.info({ loggerInfo, text });
}
function logger(text) {
  console.log({ logger, text });
}

// - let `loggerInfo` be the `logger`'s
//   enumerable, non configurable, non
//   writable `info` property/method.

Reflect.defineProperty(logger, 'info', {
  enumerable: true,
  value: loggerInfo,
});

// export default logger;

// -- end of logger module scope. --


// another script block or module scope.

logger('directly invoked logger.');
logger.info('logger\'s `info` method invoked.');</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
</div>
</div>
</p>
<p><a href=""https://www.typescriptlang.org/play/?#code/PTAEFp1AjBTBzAlgO1AewGagDZvvWAJ1AFs0ATAV21lAGcBjNAB1gDoJwAoLlAFyIYAhg1oAZPAUIAxSsgZ9EaVAG8uoDaAAUAgB58AXPT6EU8AJRGAbmkTkA3Os0oMaIztj6jdE2fOgAXgA+UBs7RwBfHiZkHxxJIiMJfCJZeUVlQO0PL2NTZAtrW3JAkLUNGLo0GjZceC0VeJTCABpQPT5QCPNI-yE6UGSpNIUlZEcuDDlRzLqpAElkVxzDPL8iu1By0BBQSur2FzQGpoWltDaOrp6nfZq6k7miRddLz07uyJ5dqBpOgAMnoQXmh-jBaHwABa0QEJQj-ADkdC4uw0sGQlBIRCE0BobWQmRiGEQ8EohBxeNABOQKLAGgA7qY+BSYUcwcxCCwiHwAJ7ALFQihsHgAJVgGBoCjY5HFKFgAAVOaxCLytEC2gijgi2tt0ZjsbjYEYTJRYC0nFYhNhTUYgSDzZ9vmBPMw0CrgAAqUAy4TUPgesBAiY-KDokqYU5EUgUai0RhcjiQHi00BCAlQqOMUzMTq4tAMADW6GIZCoNHoTFYwq4QK0CPIiEIsAU2B5oBQNgLsBKQLYCJuvaOdaBAB0kaB-mzSLBBSUO2gu+Q+zcgA"" rel=""nofollow noreferrer"">The above code as valid, tanspiling/compiling and running TS code can be found at this TS playground.</a></p>
<p><em>And regarding following of the OP's <strong>non problem</strong></em> ...</p>
<blockquote>
<p>there's also another problem:
When I try to access the logger class, it shows me other methods and properties. I want only the methods and properties that I have defined to appear in dot notation. if i write logger., it will show me apply and call and bind</p>
</blockquote>
<p>This is not a problem, neither of the logger approach/implementation nor of the language itself; it's just how your IDE works.</p>
<p>A class does manifest itself in a constructor function, thus if you access a class you actually access a special function, and functions have methods too. Every function inherits <code>call</code>, <code>apply</code> and <code>bind</code> from <code>Function.prototype</code>. Thus these methods are never owned by a function itself, hence they will not show up as own or own enumerable properties. Your IDE is just clever enough to recognize the inheritance/prototype chain and show these methods as available properties.</p>
","2024-06-08 11:03:49","2","Answer"
"78595090","","How does one implement a callable class with a single own method?","<p><strong>Explanation of the idea :</strong></p>
<p>I would like to build a class that can be called like a function without initializing it as an instance. For example, I want to create a class named <code>logger</code> and use it in two ways: the first way is <code>logger(&quot;some text&quot;)</code> and the second way is <code>logger.info(&quot;some text&quot;)</code>, using dot notation.</p>
<p><strong>Problems :</strong></p>
<p>The issues I am facing are that I do not want to create a method inside the class that represents the first way, because this method will appear during dot notation. For example:</p>
<pre class=""lang-ts prettyprint-override""><code>class logger {

  // if i want it to represents the first way: logger(&quot;some text&quot;)
  // this will appear if i write logger.log, and i don't want that.
  static log(){}

  // this method what i want it to be accessible in object pattern.
  // example: logger.info()
  static info(){}

}
</code></pre>
<p><strong>There is another problem as well:</strong></p>
<p>When I try to access the logger class, it shows me other methods and properties. I want only the methods and properties that I have defined to appear in dot notation. If I, for instance, write <code>logger.</code>, it will show me <code>apply</code> and <code>call</code> and <code>bind</code>.</p>
<p><strong>One last thing:</strong></p>
<p>I would like to implement the idea using TypeScript.</p>
<br/>
","2024-06-08 08:17:33","-1","Question"
"78594426","78594412","","<ul>
<li>You can change <code>p.drawLine(line)</code> to <code>p.drawLine(*line)</code>.</li>
<li>Also, you probably want to pass the line as a <code>list()</code> not <code>tuple()</code> (note that <code>list = (1,2,3,4)</code> is not a <code>list()</code>.):</li>
</ul>
<pre><code>#!/usr/bin/python3
import sys
from PyQt5.QtWidgets import QLabel, QMainWindow, QApplication
from PyQt5.QtCore import Qt
from PyQt5.QtGui import QPainter, QPixmap

class MyWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        lbl = QLabel()
        pm = QPixmap(70, 70)
        pm.fill(Qt.white)
        lbl.setPixmap(pm)
        self.setCentralWidget(lbl)
        p = QPainter(lbl.pixmap())
        p.drawLine(10,20,10,40)
        line = [10,40, 40, 50]
        p.drawLine(*line)
        p.end()
        self.show()

app = QApplication(sys.argv)
win = MyWindow()
app.exec_()
</code></pre>
<h3>Note</h3>
<p><a href=""https://stackoverflow.com/questions/626759/whats-the-difference-between-lists-and-tuples"">What&#39;s the difference between lists and tuples?</a></p>
","2024-06-08 00:47:53","1","Answer"
"78594412","","Providing a list to a function","<p>I've never come across this problem until now and can't think how to proceed.
I would like to know how to provide each element of a tuple to a function that wants individual parameters:</p>
<pre><code>myTuple = (1,2,3,4)

def myFunction(w, x, y, z):
</code></pre>
<p>but calling it with:</p>
<pre><code>u = myFunction(myTuple)
</code></pre>
<p>This is probably beside the point, but the application has to do with drawing with PyQt's QPainter and providing the coordinates in a list (mylist, in the code below):</p>
<pre><code>#!/usr/bin/python3
import sys
from PyQt5.QtWidgets import QLabel, QMainWindow, QApplication
from PyQt5.QtCore import Qt
from PyQt5.QtGui import QPainter, QPixmap

class MyWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        lbl = QLabel()
        pm = QPixmap(70, 70)
        pm.fill(Qt.white)
        lbl.setPixmap(pm)
        self.setCentralWidget(lbl)
        p = QPainter(lbl.pixmap())
        p.drawLine(10,20,10,40)
        line = (10,40, 40, 50)
        p.drawLine(line)
        p.end()
        self.show()

app = QApplication(sys.argv)
win = MyWindow()
app.exec_()
</code></pre>
<p>Thank you for any help.</p>
","2024-06-08 00:37:39","1","Question"
"78593958","","Matlab Inexplicably turning character vector into an N*N array","<p>as part of a course on Information Security I am implementing simple forms of encryption, in this case the shift cipher. I created a simple function to perform the encryption on plaintext and return the ciphertext.</p>
<pre><code>function ciphertext = encrypt(plaintext, k)

%first, call the &quot;double&quot; function on the plaintext
%this converts it to numbers for ASCII usage
%we add k to all these numbers

asciivec = double(plaintext);

for i = 1:length(asciivec)
    if (asciivec(i) + k) &gt; 90
        diff = (asciivec(i) + k) - 90;
        adjustedvec(i) = 64 + diff;
    else
        adjustedvec(i) = asciivec(i) + k;
    end
end

%vector is adjusted, convert back to characters
ciphertext = char(adjustedvec);

return
</code></pre>
<p>When I call this is main, the output is all wrong. If I feed it a character vector such as 'testing', it should return a vector in the format of 'xxxxxxx' adjusted by the proper k according to the cipher, however the actual result ends up being as such:</p>
<p>ciphertext =</p>
<pre><code> 7x7 char array
</code></pre>
<p>'x      '
'x      '
'x      '
'x      '
'x      '
'x      '
'x      '</p>
<p>This does not occur when I run the function as a standalone script, only when I run it as a function.</p>
<p>I turned the function into a standalone program and hardcoded the inputs, with both being in the same format as in main. When I did this, the function worked properly and the result of ciphertext was a char vector as expected. So why does this work alone and not in main?</p>
<p>Main below</p>
<pre><code>clc

plaintext = 'SSOEATBENEDUMHALLOHARASTREET';
k = 3;

secrets = encrypt(plaintext, k);
</code></pre>
","2024-06-07 20:52:05","1","Question"
"78591732","78591489","","<p>If you are just changing defaults, try <code>NextMethod</code> instead.</p>
<pre><code># Creating a shade3d method for myclass
shade3d.myclass &lt;- function(mesh, ...) {
  NextMethod(mesh, ..., lit = FALSE)
}
</code></pre>
<p>Or even better, be user-friendly and set the defaults in the function definition.</p>
<pre><code># Creating a shade3d method for myclass
shade3d.myclass &lt;- function(mesh, ..., lit = FALSE) {
  NextMethod(mesh, ..., lit = lit)
}
</code></pre>
","2024-06-07 11:47:01","1","Answer"
"78591489","","Using hidden functions when defining a new method for a generic in R","<p>I want to create a new subclass of the <code>mesh3d</code> S3 object class, and a corresponding method for <code>rgl::shade3d</code>. The new method will be closely modelled on the existing <code>shade3d</code> function but with different defaults. This is what I tried initially:</p>
<pre><code>library(rgl)

# Create a test object
obj &lt;- translate3d(tetrahedron3d(col = &quot;red&quot;), 0, 0, 0)

# Create a new S3 subclass 
obj &lt;- structure(obj, class = c(&quot;myclass&quot;, &quot;mesh3d&quot;, &quot;shape3d&quot;))

# Creating a shade3d method for myclass
shade3d.myclass &lt;- function(mesh, ...) {
  shade3d(mesh, ..., lit = F)
}

shade3d(obj)
# Error: C stack usage  15923488 is too close to the limit
</code></pre>
<p>As far as I can figure out, this is because the function tries to call itself. To prevent this, I need to specify the method I'm referring to within my function.</p>
<pre><code>methods(shade3d)
# [1] shade3d.mesh3d*      shade3d.myclass      shade3d.shapelist3d*

shade3d.myclass &lt;- function(mesh, ...) {
  rgl:::shade3d.mesh3d(mesh, ..., lit = F)
}

shade3d(obj)
</code></pre>
<p>This now works. But I've read that using <code>:::</code> to make use of hidden functions from another package is not good practice. Presumably it has been set as hidden for a reason. Do I have any other options here? Is this an acceptable use case for <code>:::</code>?</p>
","2024-06-07 10:57:50","0","Question"
"78590074","78589953","","<p>The call</p>
<pre><code>x, y, w, h = findsimilar(face2, face, error)
</code></pre>
<p>expects a 1D list with a length 4.</p>
<p>If you'll move at the function declaration -</p>
<pre><code>def findsimilar(f1, f2, error):
for (x, y, w, h) in f1:
    for (x1, y1, w1, h1) in f2:
        # This check:
        if x1 &lt; x+error and x1 &gt; x-error and y1 &lt; y+error and y1 &gt; y-error and w1 &lt; w+error and w1 &gt; w-error and h1 &lt; h+error and h1 &gt; h-error:
            return x, y, w, h #but returning the same indicates nonetype
</code></pre>
<p>See, there is no error in the call, lets break down to steps -</p>
<ol>
<li>Function Call</li>
<li>First Loop Iteration</li>
<li>Second Inner Loop Iteration</li>
<li>if (condition) -&gt; returns list
But this list will be returned only if the condition is true <strong>else there is no else condition hence after the whole iteration Nothing (None) will be returned</strong></li>
</ol>
<p>In order to get the desired output add a return condition. So your final code will look like</p>
<pre><code>    def findsimilar(f1, f2, error) -&gt; list[4]:
    for (x, y, w, h) in f1:
        for (x1, y1, w1, h1) in f2:
            # This check:
            if x1 &lt; x+error and x1 &gt; x-error and y1 &lt; y+error and y1 &gt; y-error and w1 &lt; w+error and w1 &gt; w-error and h1 &lt; h+error and h1 &gt; h-error:
                return x, y, w, h #but returning the same indicates nonetype
    return 0, 0, 0, 0
        
</code></pre>
<p>You may be thinking why the return is at last, not after if, the reason is that it is done so that the whole image matrix gets scanned before returning any false value (or not found) i.e., 0, 0, 0, 0.</p>
","2024-06-07 05:29:29","-1","Answer"
"78590004","78589953","","<p>This code:</p>
<pre class=""lang-py prettyprint-override""><code>x, y, w, h = findsimilar(face2, face, error)
</code></pre>
<p>roundaboutly means this:</p>
<blockquote>
<p>Iterate over the result from the <code>findsimilar</code> function and put the first 4 values into the variables <code>x</code>, <code>y</code>, <code>w</code> and <code>h</code></p>
</blockquote>
<p>For that code to work, <code>findsimilar</code> has to:</p>
<ol>
<li>Return something at all</li>
<li>The returned item must be iterable</li>
</ol>
<p>Your code for <code>findsimilar</code> is not guaranteed to satisfy either of those criteria:</p>
<pre class=""lang-py prettyprint-override""><code>def findsimilar(f1, f2, error):
    for (x, y, w, h) in f1:
        for (x1, y1, w1, h1) in f2:
            # This check:
            if x1 &lt; x+error and x1 &gt; x-error and y1 &lt; y+error and y1 &gt; y-error and w1 &lt; w+error and w1 &gt; w-error and h1 &lt; h+error and h1 &gt; h-error:
                return x, y, w, h #but returning the same indicates nonetype
</code></pre>
<p>Consider what happens if that <code>if</code>-check <em>fails</em> - you have no <code>return</code> statement for such a case. If you try to fetch the return of a function that didn't actually return anything, Python will intercept the call and give you a single <code>None</code>-object (and <code>None</code> isn't iterable).</p>
<p>So you should handle the case where the <code>if</code>-check in <code>findsimilar</code> fails.</p>
<p>There's a few ways to do that - primarily, you can do it in your main loop or inside your function call. Which one is &quot;best&quot; depends on your specific workflow. Doing it in the function call can look something like this:</p>
<pre class=""lang-py prettyprint-override""><code>def findsimilar(f1, f2, error):
    for (x, y, w, h) in f1:
        for (x1, y1, w1, h1) in f2:
            if x1 &lt; x+error and x1 &gt; x-error and y1 &lt; y+error and y1 &gt; y-error and w1 &lt; w+error and w1 &gt; w-error and h1 &lt; h+error and h1 &gt; h-error:
                print(x, y, w, h)
                return x, y, w, h
            else:
                return 1, 1, 1, 1
</code></pre>
<p>This way, you'll get to check that the values are valid before returning - and if the <code>if</code>-check fails for whatever reason, you'll still get <em>some</em> values out of it. They won't be very useful at this point, but you'll be free from the error.</p>
<p>You can obviously modify that code to return something else instead (or <em>do</em> something else). In any case, chances are that you might have to add additional code in your main loop to account for the cases where <code>findsimilar</code> doesn't return valid coordinate values.</p>
<p>Here's a full suggestion:</p>
<pre class=""lang-py prettyprint-override""><code>def findsimilar(f1, f2, error):
    for (x, y, w, h) in f1:
        for (x1, y1, w1, h1) in f2:
            if x1 &lt; x+error and x1 &gt; x-error and y1 &lt; y+error and y1 &gt; y-error and w1 &lt; w+error and w1 &gt; w-error and h1 &lt; h+error and h1 &gt; h-error:
                print(x, y, w, h)
                return True, x, y, w, h
    return False, None, None, None, None

[...]
    update_rectangle, x, y, w, h = findsimilar(face2, face, error)
    
    if update_rectangle:
        frame.rectangle(frame, (x, y), (x + w, y + h), (0, 128, 255), 4)
        show = cv.flip(frame, 1)
        cv.imshow('frame', show)

    if cv.waitKey(1) == ord('q'):
        break
</code></pre>
","2024-06-07 04:55:45","2","Answer"
"78589953","","function is returning nonetype instead of list","<p>I was making a face detector using opencv, and i made two detection two frontalface haarcascades. Then i made a code which would only display the rectangle if both detectors detect at around the same area. That worked fine, but when i put that same code in a function, it would return nonetype. If i put the rectangle draw inside the function it works, but not outside.</p>
<pre class=""lang-py prettyprint-override""><code>import numpy as np
import cv2 as cv #type:ignore

cap = cv.VideoCapture(0)
if not cap.isOpened():
    print(&quot;Cannot open camera&quot;)
    exit()

def findsimilar(f1, f2, error):
    for (x, y, w, h) in f1:
        for (x1, y1, w1, h1) in f2:
            if x1 &lt; x+error and x1 &gt; x-error and y1 &lt; y+error and y1 &gt; y-error and w1 &lt; w+error and w1 &gt; w-error and h1 &lt; h+error and h1 &gt; h-error:
                #cv.rectangle(frame, (x, y), (x + w, y + h), (0, 128, 255), 4) #putting the rectangle code here makes it work (indicating that x, y, w, h variables exist as this code works)
                return x, y, w, h #but returning the same indicates nonetype
    
    

face_classifier = cv.CascadeClassifier(cv.data.haarcascades + &quot;haarcascade_frontalface_default.xml&quot;)
face_classifier_2 = cv.CascadeClassifier(cv.data.haarcascades + &quot;haarcascade_frontalface_alt.xml&quot;)
error = 25

while True:

    ret, frame = cap.read()
    gray = cv.cvtColor(frame, cv.COLOR_BGR2GRAY)

    face = face_classifier.detectMultiScale(gray, scaleFactor=1.1, minNeighbors=5, minSize=(40, 40))
    face2 = face_classifier_2.detectMultiScale(gray, scaleFactor=1.1, minNeighbors=15, minSize=(40, 40))
    
    x, y, w, h = findsimilar(face2, face, error)
    print(x, y, w, h)# this line and the next line do not work because for some reason, x, y ,w, h variables are Nonetype

    frame.rectangle(frame, (x, y), (x + w, y + h), (0, 128, 255), 4)

    show = cv.flip(frame, 1)
    cv.imshow('frame', show)

    if cv.waitKey(1) == ord('q'):
        break


cap.release()
cv.destroyAllWindows()
</code></pre>
<p>essentially, the code inside the findsimilar() function i have confirmed to be working outside the function, and it draws the rectangle just fine. even if i put the rectangle drawing code inside the function, it works and shows the correct rectangle that is showing my face, indicating these variables x,y,w,h exist . but when i want to return the same from the function, it returns Nonetype. Error message running above code</p>
<pre><code>Traceback (most recent call last):
  File &quot;c:\Users\adhri\OneDrive\Documents\Adhrit\Python\opencv.py&quot;, line 30, in &lt;module&gt;
    x, y, w, h = findsimilar(face2, face, error)
TypeError: cannot unpack non-iterable NoneType object
</code></pre>
","2024-06-07 04:32:18","0","Question"
"78589275","78588903","","<p>Generally, identifiers (including table names) cannot be parameterized in plain SQL. You need dynamic SQL with <code>EXECUTE</code> for that.</p>
<p>Also, <code>IF EXISTS prev_record THEN</code> isn't valid syntax. <code>IF FOUND ...</code> would work in its place.</p>
<p>But the logic of this trigger falls apart under concurrent write load. Multiple concurrent transactions will compute incoherent values due to visibility issues. Either use the isolation level <code>SERIALIZABLE</code>, or don't try this magic trick at all and store plain values and do computations across the time series in a query / view / materialized view instead.</p>
<p>That said, here is a valid function definition:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE OR REPLACE FUNCTION public.update_volume_usd()
  RETURNS trigger
  LANGUAGE plpgsql AS
$func$
DECLARE
   _prev_close numeric;  -- we only need this column
BEGIN
   EXECUTE format(
      $q$
      SELECT close
      FROM   ONLY %I
      WHERE  base = $1        -- compare base to NEW.quote?
      AND    quote = 'USDT'
      ORDER  BY timestamp DESC  -- must be defined NOT NULL !
      LIMIT  1
      $q$, TG_TABLE_NAME)
   USING NEW.quote
   INTO  _prev_close;
   
   IF _prev_close IS NOT NULL THEN
      NEW.volume_usd := NEW.volume * _prev_close;
   END IF;
   
   RETURN NEW;
END
$func$;
</code></pre>
<p>Must be used in a <code>BEFORE</code> trigger.</p>
<p>With <code>EXECUTE</code>, the <code>INTO</code> clause can't be nested in the dynamic query, it has to be appended to the <code>EXECUTE</code> command like demonstrated. <a href=""https://www.postgresql.org/docs/current/plpgsql-statements.html#PLPGSQL-STATEMENTS-EXECUTING-DYN"" rel=""nofollow noreferrer"">Details in the manual.</a></p>
<p>After switching to dynamic SQL, my initial advice to use <code>FOUND</code> is void. <a href=""https://www.postgresql.org/docs/current/plpgsql-statements.html#PLPGSQL-STATEMENTS-DIAGNOSTICS"" rel=""nofollow noreferrer"">The manual:</a></p>
<blockquote>
<p>Note in particular that <code>EXECUTE</code> changes the output of <code>GET DIAGNOSTICS</code>, but does not change <code>FOUND</code>.</p>
</blockquote>
<p>In this case, we can also check <code>_prev_close IS NOT NULL</code> - assuming the column is defined <code>NOT NULL</code>.</p>
","2024-06-06 22:22:27","3","Answer"
"78588903","","Using TG_TABLE_NAME in postgresql trigger function in a SELECT query","<p>I have this plpgsql trigger function</p>
<pre><code>
DECLARE
    prev_record daily_data%ROWTYPE;
BEGIN
    SELECT * INTO prev_record
    FROM ONLY TG_TABLE_NAME
    WHERE base = NEW.quote AND quote = 'USDT'
    ORDER BY timestamp DESC
    LIMIT 1;
    
    IF EXISTS prev_record THEN
        NEW.volume_usd := NEW.volume * prev_record.close;
    END IF;
    
    RETURN NEW;
END;
</code></pre>
<p>The main motive of this function is to grab the latest value from a table and use that to update the volume_usd of the new value being inserted.</p>
<p>This function is going to be used in many tables thus I used <code>TG_TABLE_NAME</code> in the select statement but it seems to throw error.</p>
<pre><code>ERROR:  relation &quot;tg_table_name&quot; does not exist at character 41
2024-06-06 16:32:57.222 UTC [3253] QUERY:  SELECT *                      FROM ONLY TG_TABLE_NAME
             WHERE base = NEW.quote AND quote = 'USDT'
             ORDER BY timestamp DESC
             LIMIT 1
CONTEXT:  PL/pgSQL function update_volume_usd() line 5 at SQL statement
</code></pre>
<p>I have looked at execute function but don't think it would be useful here as I would require storing that</p>
<p><strong>Edit:</strong>
I have tried using EXECUTE but it doesn't work</p>
<pre><code>CREATE OR REPLACE FUNCTION public.update_volume_usd()
    RETURNS trigger
    LANGUAGE 'plpgsql'
    COST 100
    VOLATILE NOT LEAKPROOF
AS $BODY$
DECLARE
    prev_record daily_data%ROWTYPE;
BEGIN
    EXECUTE format('
        SELECT * INTO prev_record
        FROM ONLY %I
        WHERE base = $1 AND quote = ''USDT''
        ORDER BY timestamp DESC
        LIMIT 1
    ', TG_TABLE_NAME) USING NEW.quote;
    
    IF EXISTS prev_record THEN
        NEW.volume_usd := NEW.volume * prev_record.close;
    END IF;
    
    RETURN NEW;
END;
$BODY$;
</code></pre>
<p>ERROR:</p>
<pre><code>ERROR:  EXECUTE of SELECT ... INTO is not implemented
HINT:  You might want to use EXECUTE ... INTO or EXECUTE CREATE TABLE ... AS instead.
CONTEXT:  PL/pgSQL function update_volume_usd() line 4 at EXECUTE 

SQL state: 0A000
</code></pre>
<p>datatype of <code>prev_record.close</code> is NUMERIC</p>
","2024-06-06 20:19:37","0","Question"
"78586337","78586228","","<p>A calling convention specifies what the state of the computer must be at the moment a function is called and at the moment a function returns. It says nothing about how the computer arrived at that state, and therefore it says nothing about the order in which function arguments must be evaluated.</p>
<p>For example, a calling convention might say that, for a specific function interface, arguments 1, 2, 3, and 4 must be, respectively, in processor register A, processor register B, location X on the stack, and location Y on the stack. However, the calling routine could calculate argument 2 and put it in register B, then calculate argument 3 and put it in location X, then calculate argument 4 and put it in location Y, and then calculate argument 1 and put it in register A. As long as all the arguments are put into their required locations by the time the function is called, the calling convention is satisfied.</p>
<p>In <code>fun(++a, ++a, ++a)</code>, neither a calling convention nor the C standard specify the order in which the arguments are evaluated. The compiler is free to generate instructions evaluating the arguments in any order. Further, the pre-increment operator consists of two operations: Incrementing the value of the operand and using the value of the operand. These operations are not tied together, so the three increments and the three uses of the values of <code>a</code> in <code>fun(++a, ++a, ++a)</code> may be rearranged into any order.</p>
<p>The C standard says that when multiple modifications to a scalar object are unsequenced or a modification to a scalar object is not sequenced with a use of its value, the behavior of the program is not defined. So, the behavior of a program that executes <code>fun(++a, ++a, ++a)</code> is not defined by the C standard.</p>
","2024-06-06 11:43:39","6","Answer"
"78586228","","Difference between calling convention and order of evaluation of function arguments in C?","<p>The following code yields different outputs on different compilers;</p>
<pre><code>#include &lt;stdio.h&gt;

void fun(int x, int y, int z)  /* function definition */
{
    printf(&quot;%d %d %d \n&quot;, x, y, z);  /* 6 6 6 */
}

int main()
{
    int a = 3;
    fun(++a, ++a, ++a);  /* function call */
    return 0;
}

</code></pre>
<p>So far the code has yielded the outputs</p>
<ul>
<li><code>6 6 6</code></li>
<li><code>6 5 4</code></li>
<li><code>4 5 6</code></li>
</ul>
<p>on different compilers.</p>
<p>Does this behaviour have anything to do with order of evaluation of function arguments or could it be due to calling convention (cdecl)? Will changing to a convention (if that’s possible) change the output of the aforementioned code in any way?</p>
<p>The code snippet is from a book which was trying to introduce calling conventions in C. I’m new to C so please keep it as simple as possible or provide context.</p>
","2024-06-06 11:19:05","0","Question"
"78585102","78585037","","<p>There are some issues to the above snippet.</p>
<ul>
<li><p>First of all you are passing in the arguments but you are using the
class variables. So if you intent to use the class variables there is no need to have arguments.</p>
</li>
<li><p>Secondly you treat <code>data</code> as a string thus it was assigning only the result of the last iteration.</p>
</li>
<li><p>Third, you where starting your loop from position 1 thus first occurrences of both arrays are skipped.</p>
</li>
</ul>
<p>Have a look at the below. Hope it helps you understand what the problems were</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let laptop = [""asus"", ""lenovo"", ""acer"", ""hp"", ""axioo""];
let gpu = [4070, 4090, 4050, 4080, 4060];

 
const laptopGpu  = (device, gra) =&gt; {
    device = device.sort()
    gra = gra.sort()

    let data = []

    for(let i = 0; i &lt; device.length; i++) {
       data.push( `{${device[i]} with gpu ${gra[i]}}`)
    }

    return data
}

console.log(laptopGpu(laptop,gpu));</code></pre>
</div>
</div>
</p>
","2024-06-06 07:34:17","0","Answer"
"78585082","78585037","","<p>You have some errors:</p>
<ol>
<li>Don't mutate arguments passed, so use rather <code>toSorted()</code> (<code>sort()</code> mutates an array)</li>
<li>Don't use the global <code>gpu</code> and <code>laptop</code> since they are passed as arguments</li>
<li>JS arrays starts with <code>0</code> so <code>for(let i = 0</code>...</li>
<li>Your output is an array so <code>data</code> should be an array and use <code>push()</code> to the array:</li>
</ol>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let laptop = [""asus"", ""lenovo"", ""acer"", ""hp"", ""axioo""];
let gpu = [4070, 4090, 4050, 4080, 4060];

 
const laptopGpu  = (device, gra) =&gt; {
    device = device.toSorted()
    gra = gra.toSorted()

    let data = [];

    for(let i = 0; i &lt; device.length; i++) {
       data.push(`{${device[i]} with gpu ${gra[i]}}`);
    }

    return data;
}

console.log(laptopGpu(laptop,gpu));</code></pre>
</div>
</div>
</p>
","2024-06-06 07:31:17","2","Answer"
"78585081","78585037","","<p>I have update my answer to a more helpfull solution</p>
<pre><code>let laptops = [&quot;asus&quot;, &quot;lenovo&quot;, &quot;acer&quot;, &quot;hp&quot;, &quot;axioo&quot;];
let gpus = [4070, 4090, 4050, 4080, 4060];

class Laptop{
    #laptop;
  #gpu;
  
    constructor(laptop, gpu){
  this.#laptop = laptop;
  this.#gpu = gpu;
  }
  
   toString() {
    return `{${this.#laptop} with gpu ${this.#gpu}}`;
  }
  
}

const laptopGpu  = (device, gra) =&gt; {
  device = laptops.sort()
  gra = gpus.sort()

  return device.map((laptop, index) =&gt; new Laptop(laptop, gra[index]) );
}

laptopGpu(laptops, gpus).forEach(laptop =&gt; console.log(laptop.toString()));
</code></pre>
<p>In this example I store each laptop as an object and overwrite the toString() method.</p>
<p>Hope this helps.</p>
","2024-06-06 07:31:16","-1","Answer"
"78585071","78585037","","<p>As you have created a data variable and then assigning it a value inside for loop so everytime the loop runs it overrides the last value. Instead create an array and push the values in that array.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let laptop = [""asus"", ""lenovo"", ""acer"", ""hp"", ""axioo""];
let gpu = [4070, 4090, 4050, 4080, 4060];

 
const laptopGpu  = (device, gra) =&gt; {
    device = laptop.sort()
    gra = gpu.sort()

    let data = []

    for(let i = 0; i &lt; device.length; i++) {
       data.push(`{${device[i]} with gpu ${gra[i]}}`)
    }

    return data
}

console.log(laptopGpu(laptop, gpu));</code></pre>
</div>
</div>
</p>
","2024-06-06 07:30:13","0","Answer"
"78585037","","javascript function looping array","<p>Why can't I get the output I want, I tried various ways but it doesn't work, where is it wrong?</p>
<p>Give me a clue so I can learn.</p>
<pre class=""lang-js prettyprint-override""><code>let laptop = [&quot;asus&quot;, &quot;lenovo&quot;, &quot;acer&quot;, &quot;hp&quot;, &quot;axioo&quot;];
let gpu = [4070, 4090, 4050, 4080, 4060];

const laptopGpu  = (device, gra) =&gt; {
  device = laptop.sort()
  gra = gpu.sort()
  let data = &quot;&quot;
  for(let i = 1; i &lt; device.length; i++) {
    data = `{${device[i]} with gpu ${gra[i]}}`
  }
  return new Array (data)
}
console.log(laptopGpu(laptop,gpu));
</code></pre>
<p>This is the output I want:</p>
<pre class=""lang-js prettyprint-override""><code>[ 
  '{acer with gpu 4050}',
  '{asus with gpu 4060}',
  '{axioo with gpu 4070}', 
  '{hp with gpu 4080}',
  '{lenovo with gpu 4090}'
]
</code></pre>
","2024-06-06 07:25:22","1","Question"
"78579904","78579887","","<p><code>this</code> needs to come from somewhere, that's what is usually called &quot;the implicit (<code>this</code>) parameter&quot;. <code>this</code> is a pointer, <code>*this</code> is a reference to the object.</p>
<p>It is implicit, because how it is actually done under the hood is an implementation detail. As pointed out in a comment, it makes no difference whether the implementation implicitly passes the object or a pointer, what you get is <code>this</code> and <code>*this</code> in either case (and a pointer is of course cheaper to pass).</p>
<p>For example when you call</p>
<pre><code>foo-&gt;method();
bar.method();
</code></pre>
<p>this can be thought of as</p>
<pre><code>method_impl(foo);
method_impl(&amp;bar);
</code></pre>
<p>Same for operator +:</p>
<pre><code>a + b;
</code></pre>
<p>is (for class types)</p>
<pre><code>a.operator+(b);
</code></pre>
<p>which can be thought of as</p>
<pre><code>operator+_impl(&amp;a,b);
</code></pre>
","2024-06-05 09:08:37","1","Answer"
"78579887","","Is the implicit parameter of a member function `this` or `*this`?","<p>I was told that member function of a C++ class has an implicit parameter <code>this</code> which is a pointer to the object. But it seems to me that this parameter should be the object, not a pointer to it. For example, the overloaded operator <code>+</code> in expression <code>obj1 + obj2</code> has its left operand as the first parameter of <code>operator+</code> member function, which is the object <code>obj1</code> instead of its address. So I would like to be confirmed whether the implicit parameter of a member function in C++ is <code>*this</code> or <code>this</code>.</p>
","2024-06-05 09:05:51","-3","Question"
"78579000","78578613","","<p>The question asks about a matter of efficiency, the answer below is about a convenient way of calling a function from a list of functions.<br />
You can have a function factory return a function that will dynamically select the wanted function from the list and apply it to its argument.</p>
<pre class=""lang-r prettyprint-override""><code>t &lt;- seq(0, 1, 0.1)
L &lt;- list(
  A = function(x) x^2, 
  B = function(x) x/(x+9), 
  C = function(x) x*exp(x))

makeFun &lt;- function(F_List) {
  f &lt;- function(X, mode) F_List[[mode]](X)
  f
}

# create the function with the function factory
f &lt;- makeFun(L)

# see if it works
f(X = t, mode = &quot;A&quot;)
#&gt;  [1] 0.00 0.01 0.04 0.09 0.16 0.25 0.36 0.49 0.64 0.81 1.00
f(X = t, mode = &quot;B&quot;)
#&gt;  [1] 0.00000000 0.01098901 0.02173913 0.03225806 0.04255319 0.05263158
#&gt;  [7] 0.06250000 0.07216495 0.08163265 0.09090909 0.10000000
f(X = t, mode = &quot;C&quot;)
#&gt;  [1] 0.0000000 0.1105171 0.2442806 0.4049576 0.5967299 0.8243606 1.0932713
#&gt;  [8] 1.4096269 1.7804327 2.2136428 2.7182818
</code></pre>
<p><sup>Created on 2024-06-05 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
<p>The function factory can be a one-liner, just return 'function(etc)' without assigning the result to 'f'.</p>
<pre class=""lang-r prettyprint-override""><code>makeFun &lt;- function(F_List) function(X, mode) F_List[[mode]](X)
</code></pre>
","2024-06-05 05:58:13","3","Answer"
"78578613","","Optimal way to declare a function F to select from a nested set of functions L","<p>I have a set of model equations that i want to group inside a function to call them as required. As an example of desired workflow, it should be as this call:</p>
<pre><code>F(X=t, mode=&quot;B&quot;)
</code></pre>
<p>I have thought over other ways to declare this kind of process:</p>
<pre><code>t &lt;- seq(0,1,.1)
L &lt;- list(
    A = function(x) x^2, 
    B = function(x) x/(x+9), 
    C = function(x) x*exp(x))
F &lt;- L$A(t)
F
 &gt; 0 .01 .04 .09 .016 .025 .036 .049 .064 .081 1
</code></pre>
<p>Also, this task could be done with external packages:</p>
<pre><code>t &lt;- seq(0,1,.1)
F &lt;- function(input, mode){
    dplyr::case_when(
        mode == &quot;A&quot; ~ input^2, 
        mode == &quot;B&quot; ~ input/(input+9),
        mode == &quot;C&quot; ~ input*exp(input)
    )
}
F(t, mode=&quot;A&quot;)
 &gt; 0 .01 .04 .09 .016 .025 .036 .049 .064 .081 1
</code></pre>
<p>Thus, in terms of efficiency, is it better to create a reference for this equations <em>inside the global F function</em> and call them as a list or is better to <em>save a external list and load it as a parameter</em>?</p>
","2024-06-05 03:23:45","2","Question"
"78577243","78576431","","<blockquote>
<p>David R. Tribble [...] says that the scope of the structure declared in either of these fashions does not extend outside the function declaration or definition,</p>
</blockquote>
<p>As others observed, <strong>Tribble is incorrect with respect to this ...</strong></p>
<blockquote>
<pre><code>static struct foo { int x; } pos(void) {
    // ...
}
</code></pre>
</blockquote>
<p>... and he would also be incorrect with respect to this ...</p>
<pre><code>static struct foo { int x; } pos(void);
</code></pre>
<p>.  In both of those cases, type <code>struct foo</code> is declared at file scope, and it can therefore be used elsewhere in the TU to declare objects of that type, such as to receive the return value from a call to that function.</p>
<hr />
<blockquote>
<p>making it impossible to define objects of that structure type which could be passed as arguments to the function or to assign function return values into objects of that type</p>
</blockquote>
<p><strong>Tribble is at best misleading about <em>that</em>.</strong>  C requires arguments to functions with in-scope prototypes to be of type that is assignment-compatible with the declared types of the corresponding parameters (C99 6.5.2.2).  That does not necessarily mean <em>the same</em> type<sup>*</sup> or even a differently-qualified version of the same type. For parameters declared with structure or union type, or types derived from such types, it very often isn't.</p>
<p>In particular, assignment compatibility (C99 6.5.16) for structure and union types and types derived from them is based on the general definition of &quot;compatible type&quot; (C99 6.2.7).  Two structure types declared in different TUs are compatible if they agree in</p>
<ul>
<li>tag name, or absence of any tag</li>
</ul>
<p>and if both are complete types,</p>
<ul>
<li>number of members</li>
<li>member names</li>
<li>order of members</li>
<li>such that corresponding members of the two types themselves have compatible type.</li>
</ul>
<p>That is certainly satisfied if the two definitions are lexically identical, such as from <code>#including</code> a header containing it, but that is not essential.</p>
<p>Now, I said Tribble was misleading here, not outright wrong.  He is technically right because because</p>
<ul>
<li><p>the rules for structure type compatibility cover the same type and types declared <em>in different TUs</em>.  They do not cover multiple definitions in the same TU, even if their scopes do not overlap. In C99, then, if there is a structure definition with block or function prototype scope then there is no way to declare a compatible structure type elsewhere in the same TU. And,</p>
</li>
<li><p>the functions in question are declared <code>static</code>, so they cannot be called from another TU.</p>
</li>
</ul>
<p>HOWEVER,</p>
<ul>
<li><p>Otherwise identical external functions could be called with appropriate arguments from another TU, even according to C99 rules (with some care in how they are declared).</p>
</li>
<li><p>This quirk of the compatibility rules is largely a technicality, and it  will be removed in C2X for tagged structure types such as those in the question (C2X 6.2.7/1).</p>
</li>
<li><p>Prior to C2X, you're likely in practice to find the C2X type compatibility rule implemented as an extension by C compilers, if for no other reason than that it's simpler to support it than to not.</p>
</li>
</ul>
<hr />
<blockquote>
<p>, and offers [C99: §6.2.1, 6.7.2.3, 6.7.5.3, I] as references.</p>
</blockquote>
<p>And that goes to show you that <strong>you shouldn't trust someone just because they cite references</strong> (so check mine).  The claims you attribute to Tribble seem to rely on interpretations of the spec that are wrong in several particulars:</p>
<ul>
<li>they partially misinterpret declaration scope</li>
<li>they misunderstand the circumstances under which two types are the same (this is clearer from the context of the larger article)</li>
<li>they probably do not appreciate the significance of compatible types to this analysis (but if they do appreciate that, then they sweep it under the rug)</li>
</ul>
<p>With that said, however, Tribble's article seems overall to be pretty good.  I think this question hits on the most significant sore spot.</p>
<hr />
<p><sup>*</sup> Declarations of structure or union types in different scopes declare different types (C99 6.7.2.3/5), but not necessarily incompatible ones.</p>
","2024-06-04 18:57:07","2","Answer"
"78576548","78576431","","<p>Read the actual standard (or at least the final draft), not random blog posts.</p>
<blockquote>
<p>If the declarator or type specifier that declares the identifier appears inside a block <em>or within the list of parameter declarations in a function definition</em>, the identifier has <em>block scope</em>, which terminates <em>at the end of the associated block.</em> If the declarator or type specifier that declares the identifier appears <em>within the list of parameter declarations in a function prototype (not part of a function definition)</em>, the identifier has <em>function prototype scope</em>, which terminates <em>at the end of the function declarator</em>.</p>
</blockquote>
","2024-06-04 16:01:06","2","Answer"
"78576540","78576431","","<p>For starters the <em>function prototype</em> and the <em>function prototype scope</em> are two different notions.</p>
<p>The function prototype (the C Standard 6.2.1 Scopes of identifiers):</p>
<blockquote>
<ol start=""2"">
<li>...A function prototype is a declaration of a function that declares the
types of its parameters.</li>
</ol>
</blockquote>
<p>Such a function declaration can be at the same time a function definition.</p>
<p>As for the <em>function prototype scope</em> then</p>
<blockquote>
<p>If the declarator or type specifier that declares the identifier
appears within the list of parameter declarations <strong>in a function
prototype (not part of a function definition)</strong>, the identifier has
function prototype scope, which terminates at the end of the function
declarator</p>
</blockquote>
<p>That is the quote refers to function prototypes that are not at the same time their definitions.</p>
<p>Pay attention to that in your program example you do not have a
<em>function prototype scope</em>.</p>
<p>The structure <code>struct foo</code> is declared in the file scope.</p>
<pre><code>static struct foo { int x; } pos(void)
{
    return (struct foo) {10};
}
</code></pre>
<p>So it is visible from its point of declaration.</p>
<p>As for the structure <code>struct point</code> then it is declared in the block scope of the function <code>bar</code></p>
<pre><code>static int bar(struct point { int x, y; } pt) 
{
    return pt.x + pt.y;
}
</code></pre>
<p>So it is invisible outside the function.</p>
<p>From the C Standard (6.2.1 Scopes of identifiers)</p>
<blockquote>
<p>If the declarator or <strong>type specifier that declares the identifier
appears outside of any block or list of parameters, the identifier has
file scope, which terminates at the end of the translation unit.</strong></p>
</blockquote>
<p>and</p>
<blockquote>
<ol start=""4"">
<li>... If the declarator or type specifier that declares the identifier
<strong>appears inside a block or within the list of parameter declarations in
a function definition, the identifier has block scope, which
terminates at the end of the associated block</strong>.</li>
</ol>
</blockquote>
","2024-06-04 16:00:22","6","Answer"
"78576516","78576431","","<p>Let's take a closer look at 6.2.1p4 of <a href=""https://www.open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf"" rel=""nofollow noreferrer"">C99</a>.  It states:</p>
<blockquote>
<p>If the declarator or type specifier that declares the identifier
appears <strong>within the list of parameter declarations in a function
prototype</strong> (not part of a function definition), the identifier has
function prototype scope, which terminates at the end of the function
declarator.</p>
</blockquote>
<p><code>struct point</code> falls under this category since it is declared as part of the parameter list.  <code>struct foo</code> however is <em>not</em> part of a parameter list, but is the function's return type.  A few sentences up in 6.2.1 we also have this:</p>
<blockquote>
<p>If the declarator or type specifier that declares the identifier
appears outside of any block or list of parameters, the identifier has
file scope, which terminates at the end of the translation unit.</p>
</blockquote>
<p>Since <code>struct foo</code> is declared outside of a block and outside a list of parameters, it has file scope and may be used anywhere in the source file after it was declared.</p>
","2024-06-04 15:56:15","5","Answer"
"78576431","","Structures declared in function prototypes","<p>I have two functions. <code>pos()</code>, which defines a <code>struct</code> as its return type, and <code>bar()</code>, which defines a <code>struct</code> as an argument type:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

static struct foo { int x; } pos(void)
{
    return (struct foo) {10};
}

static int bar(struct point { int x, y; } pt) 
{
    return pt.x + pt.y;
}

int main(void)
{
    struct foo a = pos();
    printf(&quot;a.x: %d.\n&quot;, a.x);
#if 0
    int sum = bar((struct point){10, 20});
    printf(&quot;sum: %d.\n&quot;, sum);
#endif
    return EXIT_SUCCESS;
}
</code></pre>
<p>About which David R. Tribble here <a href=""http://david.tribble.com/text/cdiffs.htm#C++-vs-C"" rel=""nofollow noreferrer"">Incompatibilities Between
ISO C and ISO C++</a> says that the scope of the structure declared in either of these fashions does not extend outside the
function declaration or definition, making it impossible to define objects
of that structure type which could be passed as arguments to the function
or to assign function return values into objects of that type, and offers [C99: §6.2.1, 6.7.2.3, 6.7.5.3, I] as references.</p>
<p>But the former (<code>struct foo</code>) compiles and works perfectly fine (i.e. I am able to define objects of that structure type in <code>main()</code> can assign the function return value into an object of that type). GCC 13.1 and Clang 18.1 don't even
raise any warning.</p>
<p>The latter (<code>struct point</code>) on the other hand, fails to compile. Why does the first one work,
and the second one not? What are some possible use cases for these
&quot;fashions&quot;?</p>
","2024-06-04 15:38:52","3","Question"
"78574297","78447291","","<ul>
<li>You need to set the optional parameter at the end of the URL because if you have set it in the middle then in the case of an empty value, your URL will break and will not continue further.</li>
<li>Either you can consider passing the optional parameter at the end or you can also pass it as a query parameter.</li>
<li>As <a href=""https://stackoverflow.com/users/3503521/vlad-dx"" title=""4,574 reputation"">Vlad DX</a> commented, you can define the triggers with different set of parameters because the triggers acts as an entry point to the function.</li>
<li>If you are accessing these endpoints from Azure APIM then I would suggest you to use <a href=""https://learn.microsoft.com/en-us/azure/api-management/rewrite-uri-policy"" rel=""nofollow noreferrer"">rewrite-uri</a> policy.</li>
<li>Modify your code to below wherein the route would be <code>v1/{segment1}/bizdoc/{segment2?}</code> -</li>
</ul>
<pre class=""lang-js prettyprint-override""><code>const { app } = require('@azure/functions');

app.http('httpTrigger1', {
    methods: ['GET', 'POST'],
    route: 'v1/{segment1}/bizdoc/{segment2?}',
    authLevel: 'anonymous',
    handler: async (request, context) =&gt; {
        context.log(`Http function processed request for url &quot;${request.url}&quot;`);
        ...
        return { body: &quot;test&quot; };
    }
});
</code></pre>
","2024-06-04 08:47:08","0","Answer"
"78573847","78573606","","<p>Indeed, <a href=""https://www.palantir.com/docs/foundry/functions/foo-getting-started/"" rel=""nofollow noreferrer"">using a Function is the right move here</a>. You will essentially parse the string and perform the operation(s) you need on it.</p>
<p>Example of function (untested, but should give you a high level pointer):</p>
<pre class=""lang-js prettyprint-override""><code>@Function()
function parseExcelString(excelString: string) : string[] {
  // Split the string by newlines and tabs to separate all items
  const items = excelString.trim().split(/[\n\t]/);

  return items;
}
</code></pre>
<p>Steps at high level:</p>
<ol>
<li>Create a code repository</li>
<li>Select &quot;Functions&quot; &gt; &quot;Typescript&quot;</li>
<li>Write the above function (you will need to uncomment the import present by default)</li>
<li>Commit (top right button) and tag (top right button)</li>
<li>Wait for the function to be published</li>
</ol>
<p>And in workshop:</p>
<ol>
<li>Add the <code>text input</code> widget</li>
<li>Create a variable (let's call it <code>parsed_strings_array</code>) that is a &quot;function execution&quot; and that outputs a string array
<a href=""https://i.sstatic.net/3KtOXdrl.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/3KtOXdrl.png"" alt=""enter image description here"" /></a></li>
<li>Select your function published above (&quot;parseExcelString&quot;)</li>
</ol>
<p>You now have a variable with an array of the different values populated from what was copy-pasted by the user !</p>
<p>You can now use this <code>string array variable</code> to filter your <code>Object set variable</code> by selecting <code>Filter ... On a property ... (x)</code></p>
<p><a href=""https://i.sstatic.net/0q7IMLCY.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/0q7IMLCY.png"" alt=""enter image description here"" /></a></p>
","2024-06-04 07:10:30","1","Answer"
"78573606","","Auto-breakdown to separate items when copy from Excel to a Workshop filter","<p>I am hoping to replicate the copy paste function in Contour to a Workshop application that I am building.</p>
<p>As you know, when you copy a list of items (e.g. from Excel) into a Contour's filter, it will automatically break them down to separate items (screenshot). I can't seem to do this in a Workshop application's filter.</p>
<p><a href=""https://i.sstatic.net/TpBiN6TJ.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/TpBiN6TJ.png"" alt=""enter image description here"" /></a></p>
<p>The only way that I can think of is use a function backed text area but haven't managed to do that.</p>
","2024-06-04 06:10:11","0","Question"
"78571685","78566456","","<p>This version seems to get you closer</p>
<pre><code>functionTree &lt;- function(expr, eframe = globalenv(), maxDepth = 3, closureRecursive = FALSE, depth = 0) {
  # Helper function to determine the type description
  getTypeDescription &lt;- function(expr) {
    if (is.symbol(expr)) {
      return(&quot;symbol&quot;)
    } else if (is.call(expr)) {
      funcName &lt;- as.character(expr[[1]])
      if (funcName %in% c(&quot;&lt;-&quot;, &quot;=&quot;)) {
        return(&quot;function:special&quot;)
      } else if (funcName == &quot;function&quot;) {
        return(&quot;function:closure&quot;)
      } else {
        return(&quot;function:closure&quot;)
      }
    } else if (is.atomic(expr) &amp;&amp; length(expr) == 1) {
      return(&quot;atom&quot;)
    } else {
      return(&quot;unknown&quot;)
    }
  }
  
  # Function to print the current expression and its type
  printExpression &lt;- function(expr, depth) {
    indent &lt;- paste(rep(&quot; &quot;, depth * 2), collapse = &quot;&quot;)  # Create indentation based on depth
    typeDescription &lt;- getTypeDescription(expr)
    exprDescription &lt;- deparse(expr)
    if (length(exprDescription) &gt; 1) {
      exprDescription &lt;- exprDescription[1]
    }
    # Ensure there is no attempt to print zero-length variable name
    if (nchar(exprDescription) == 0) {
      exprDescription &lt;- &quot;&lt;empty&gt;&quot;
    }
    cat(indent, depth, &quot; (&quot;, typeDescription, &quot;) -&gt; &quot;, exprDescription, &quot;\n&quot;, sep = &quot;&quot;)
  }
  
  # Base case: Stop the recursion if the maximum depth is exceeded
  if (depth &gt; maxDepth) {
    return(invisible())
  }
  
  # If the expression is a call, recursively analyze its arguments
  if (is.call(expr)) {
    funcName &lt;- as.character(expr[[1]])
    if (funcName %in% c(&quot;&lt;-&quot;, &quot;=&quot;)) {
      # Handle special case for assignment
      functionTree(expr[[1]], eframe, maxDepth, closureRecursive, depth)  # Print the assignment operator
      functionTree(expr[[2]], eframe, maxDepth, closureRecursive, depth + 1)  # Print the left-hand side
      functionTree(expr[[3]], eframe, maxDepth, closureRecursive, depth + 1)  # Print the right-hand side
      invisible(NULL)
    } else {
      functionTree(expr[[1]], eframe, maxDepth, closureRecursive, depth)
      lapply(expr[-1], function(sub_expr) functionTree(sub_expr, eframe, maxDepth, closureRecursive, depth + 1))
      invisible(NULL)
    }
  } else {
    printExpression(expr, depth)
  }
}
</code></pre>
<p>The primary thing was to move the <code>printExpression</code> call to the else condition when checking for calls. Otherwise you were just processing the same expression too many times. It also seems like the depth should match the indenting level from the code so this outputs</p>
<pre><code>0 (symbol) -&gt; &lt;-
  1 (symbol) -&gt; x
  1 (symbol) -&gt; f
    2 (atom) -&gt; 5
</code></pre>
<p>Otherwise I'm not sure why you have &quot;0&quot; in &quot;0 (symbol) -&gt; x&quot; in your expected output.</p>
","2024-06-03 17:12:36","0","Answer"
"78571292","78570954","","<p>Variables in a <code>VAR</code> block of a program are not re-instantiated cyclically. Instances of function blocks are variables, just not of a basic type. They are not re-instantiated.</p>
<p>Watch out : in methods, variables defined in a <code>VAR</code> block are only valid for the duration of the call (they are on the stack, if this means something to you). You would typically not instantiate a function block there (but having pointers/references to function block instances would be typical).</p>
<p>The PLC works by polling. It does not &quot;wait for the timer&quot;, rather it checks every cycle if the timer is done and reacts if it is. Everything is checked every cycle. If you have two timers, they will not each have their thread, they will just be checked every cycle by the same thread.</p>
","2024-06-03 15:36:47","1","Answer"
"78571017","78570973","","<p>When using a tabular User Defined Function you must call the function within the FROM clause:</p>
<pre><code>CREATE FUNCTION t()
    RETURNS TABLE(msg VARCHAR)
    AS
    $$
        SELECT 'Hello'
        UNION
        SELECT 'World'
    $$;


SELECT msg 
    FROM TABLE(t())
    ORDER BY msg;
</code></pre>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>MSG</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hello</td>
</tr>
<tr>
<td>World</td>
</tr>
</tbody>
</table></div>
","2024-06-03 14:45:51","0","Answer"
"78570973","","Snowflake function unable to return multiple rows","<p>I am trying to create a function in Snowflake that returns to me the rows matching a condition, but it only works when there is only one row matching the condition.</p>
<p>I am tried to create a function in Snowflake such as:</p>
<pre><code>CREATE OR REPLACE FUNCTION test (field_value STRING)
RETURNS STRING
AS
$$
  SELECT 
        value_x
  FROM mapping_table_test 
  WHERE field_value = num1
$$;

</code></pre>
<p>We are assuming a very simple table, <em>mapping_table_test</em>, with a field called <em>num1</em> and a field named <em>value_x</em>. The problem is that the function works if there is only a unique value in the num1 column. If there are more, I get this message: <em>Single-row subquery returns more than one row</em>.</p>
<p>Example: If there is only a value &quot;10&quot;, the following calling to function works, but not if the value appears more than once in num1.</p>
<pre><code>SELECT test(10);
</code></pre>
<p>I tried to change part of it so it returns a table instead of a string, but it does not work.</p>
<pre><code>RETURNS TABLE(mapped_value STRING)
</code></pre>
<p>When trying to call the function this way, it simply tells me that it does not exists.</p>
","2024-06-03 14:37:33","0","Question"
"78570954","","CodeSys and RasPi PLC - do FB's in Main() get reinstantiated on Scan?","<p>I'm currently setting up CoDeSys to run on a RasPi but I'm having a little difficulty understanding the specifics of how variables and function blocks within the Main are, or are not, instantiated again upon call when the Main is scanned again.</p>
<p>The closest SE question to what I'm asking is <a href=""https://stackoverflow.com/questions/51417165/whats-the-difference-between-plcs-scan-cycle-and-code-surrended-by-while1/51421909#51421909"">here, I think</a>, but I have a slightly different question. YouTube videos and code examples don't seem to be answering this for me.</p>
<p>I've got the code working under &quot;Step 4: GPIO Control&quot; of <a href=""https://www.instructables.com/Programming-Raspberry-Pi-With-CODESYS/"" rel=""nofollow noreferrer"">this example</a>, I've got my task set to run cyclically at a 20 ms interval, and it does not include anything other than the typical Main. So here's my confusion, in two parts:</p>
<ul>
<li>While I see that the variables in the VAR / END VAR block are instantiated once and then just updated every time the Main block is scanned (i.e. every 20 ms), what about the timer (TON) function blocks? I can see that the timers are indeed running the full 1000 ms despite the Main being scanned every 20 ms, so how does the PLC know that the TON's should not be instantiated again?</li>
<li>In single-core PLC's, how is this threading handled? If I understand what I've read correctly, the PLC will not pause execution of the Main while it works through the function blocks that are called.</li>
</ul>
<p>Thanks!</p>
","2024-06-03 14:33:53","0","Question"
"78570142","78570124","","<p>You could utilise the built-in <em>all()</em> function like this:</p>
<pre><code>def func1():
    return False

def func2():
    return True

def func3():
    return False

if all(not f() for f in (func1, func2, func3)):
    print(&quot;Not involved&quot;)
</code></pre>
<p>This will not produce any output. Change func2 to return False and the output will be:</p>
<pre><code>Not involved
</code></pre>
","2024-06-03 12:01:31","1","Answer"
"78570124","","Checking return value of multiple functions in main function, if all functions return False, print (""not involved"")","<p>I want to write a code with many functions in it if the output of all functions in the code is False, the code will return &quot;not involved&quot;.</p>
<p>Something  like the below code:</p>
<pre><code>def func1():
     if func1() and func2() and func3() ==False:
         print(&quot;not involved&quot;)
</code></pre>
","2024-06-03 11:57:06","-1","Question"
"78566456","","How can I correctly print a tree structure of an R expression with correct indentation levels?","<p>I am trying to write a function in R called functionTree that takes an R expression and prints its structure in a tree format. The function should display the elements of the expression with their types and indent them according to their depth in the tree. I have the following requirements:</p>
<p>The assignment operator (&lt;-) should be displayed at depth 0, as function: special.
The left-hand side of the assignment should be displayed at depth 0.
The function call on the right-hand side should be displayed at depth 1, f should be displayed as function:closure.
The arguments of the function call should be displayed at depth 1, as atoms.</p>
<p>I have the following code, but it doesn't produce the expected indentation and depth levels:</p>
<pre><code>functionTree &lt;- function(expr, eframe = globalenv(), maxDepth = 3, closureRecursive = FALSE, depth = 0) {
  # Helper function to determine the type description
  getTypeDescription &lt;- function(expr) {
    if (is.symbol(expr)) {
      return(&quot;symbol&quot;)
    } else if (is.call(expr)) {
      funcName &lt;- as.character(expr[[1]])
      if (funcName %in% c(&quot;&lt;-&quot;, &quot;=&quot;)) {
        return(&quot;function:special&quot;)
      } else if (funcName == &quot;function&quot;) {
        return(&quot;function:closure&quot;)
      } else {
        return(&quot;function:closure&quot;)
      }
    } else if (is.atomic(expr) &amp;&amp; length(expr) == 1) {
      return(&quot;atom&quot;)
    } else {
      return(&quot;unknown&quot;)
    }
  }
  
  # Function to print the current expression and its type
  printExpression &lt;- function(expr, depth) {
    indent &lt;- paste(rep(&quot; &quot;, depth * 2), collapse = &quot;&quot;)  # Create indentation based on depth
    typeDescription &lt;- getTypeDescription(expr)
    exprDescription &lt;- deparse(expr)
    if (length(exprDescription) &gt; 1) {
      exprDescription &lt;- exprDescription[1]
    }
    # Ensure there is no attempt to print zero-length variable name
    if (nchar(exprDescription) == 0) {
      exprDescription &lt;- &quot;&lt;empty&gt;&quot;
    }
    cat(indent, depth, &quot; (&quot;, typeDescription, &quot;) -&gt; &quot;, exprDescription, &quot;\n&quot;, sep = &quot;&quot;)
  }
  
  # Base case: Stop the recursion if the maximum depth is exceeded
  if (depth &gt; maxDepth) {
    return(invisible())
  }
  
  # Print the current expression
  printExpression(expr, depth)
  
  # If the expression is a call, recursively analyze its arguments
  if (is.call(expr)) {
    funcName &lt;- as.character(expr[[1]])
    if (funcName %in% c(&quot;&lt;-&quot;, &quot;=&quot;)) {
      # Handle special case for assignment
      functionTree(expr[[1]], eframe, maxDepth, closureRecursive, depth)  # Print the assignment operator
      functionTree(expr[[2]], eframe, maxDepth, closureRecursive, depth)  # Print the left-hand side
      functionTree(expr[[3]], eframe, maxDepth, closureRecursive, depth + 1)  # Print the right-hand side
    } else {
      functionTree(expr[[1]], eframe, maxDepth, closureRecursive, depth + 1)
      lapply(expr[-1], function(sub_expr) functionTree(sub_expr, eframe, maxDepth, closureRecursive, depth + 1))
    }
  }
}

# Example usage of the functionTree function
f &lt;- function(n = 0) { n ^ 2 }
a &lt;- quote(x &lt;- f(5))

# Call the functionTree function with the example expression
functionTree(a)
</code></pre>
<p>I tried adjusting the depth and indentation within the function, but I couldn't achieve the desired output. Any help to correct the function to produce the expected output would be appreciated.</p>
<p>My output:</p>
<pre><code>0 (function:special) -&gt; x &lt;- f(5)
0 (symbol) -&gt; &lt;-
0 (symbol) -&gt; x
  1 (function:closure) -&gt; f(5)
    2 (symbol) -&gt; f
    2 (atom) -&gt; 5
[[1]]
NULL
</code></pre>
<p>Expected output:</p>
<pre><code>0 (function:special) -&gt; &lt;-
  0 (symbol) -&gt; x
  1 (function:closure) -&gt; f
    1 (atom) -&gt; 5
</code></pre>
","2024-06-02 12:50:36","0","Question"
"78564229","","How do I extract ''1,4,8,12, 16..... ''from a list of ''1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16'' on r?","<p>How do I extract ''1,4,8,12, 16..... ''from a list of ''1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16'' on r code?</p>
<p>Currently, I have already tried</p>
<pre><code>a&lt;-1:16
</code></pre>
<p>and I have done the first method:</p>
<p><strong><code>b&lt;-a[seq(1,length(a), 4)]</code></strong></p>
<p>The results I get from the first method is</p>
<blockquote>
<p>1   5   9  13</p>
</blockquote>
<p><code>c&lt;-a[seq(1,length(a), 3)]</code></p>
<p>The results I got from the second method is:</p>
<blockquote>
<p>1   4   7  10  13  16</p>
</blockquote>
<p><strong>** Is there a way I can set the function to get '1,4,8,12,16' on r ? Thanks everyone**</strong></p>
","2024-06-01 15:45:29","0","Question"
"78562713","78562705","","<p>You can use <code>df['Inventory'] / df['OUT'].shift(-1)</code>:</p>
<pre><code>import pandas as pd

D = {
    'Month': ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
    'IN': [120, 80, 60, 80, 100],
    'OUT': [100, 50, 60, 70, 120],
    'Inventory': [20, 50, 50, 60, 40],
    'DOH': [0.2, 1.0, 0.8333333333333334, 0.8571428571428571, 0.3333333333]
}
df = pd.DataFrame(D)
df['DOH'] = df['Inventory'] / df['OUT'].shift(-1)
print(df)

</code></pre>
<h3>Prints</h3>
<pre><code>  Month   IN  OUT  Inventory       DOH
0   Jan  120  100         20  0.400000
1   Feb   80   50         50  0.833333
2   Mar   60   60         50  0.714286
3   Apr   80   70         60  0.500000
4   May  100  120         40       NaN

</code></pre>
","2024-06-01 03:27:23","1","Answer"
"78562705","","I want to divide different index","<p>On below dataframe, I want to divide &quot;Inventory&quot; value by &quot;OUT&quot; value with +1 index and output to DOH columns.</p>
<p>For example, my expected output DOH columns on index 1 are the &quot;OUT&quot; value on index 1(50) by &quot;Inventory&quot; value on index 0 ( 20)</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>index</th>
<th>Month</th>
<th>IN</th>
<th>OUT</th>
<th>Inventory</th>
<th>DOH</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Jan</td>
<td>120</td>
<td>100</td>
<td>20</td>
<td>0.2</td>
</tr>
<tr>
<td>1</td>
<td>Feb</td>
<td>80</td>
<td>50</td>
<td>50</td>
<td>1.0</td>
</tr>
<tr>
<td>2</td>
<td>Mar</td>
<td>60</td>
<td>60</td>
<td>50</td>
<td>0.8333333333333334</td>
</tr>
<tr>
<td>3</td>
<td>Apr</td>
<td>80</td>
<td>70</td>
<td>60</td>
<td>0.8571428571428571</td>
</tr>
<tr>
<td>4</td>
<td>May</td>
<td>100</td>
<td>120</td>
<td>40</td>
<td>0.3333333333333333</td>
</tr>
</tbody>
</table></div>
<p>My first try is below:</p>
<pre><code>df['DOH']=df['Inventory'].div (df['OUT '])
</code></pre>
<p>But in this case, calculation is applied between same index ( above dataframe)</p>
<p>Then I tried below. But did not work out.</p>
<pre><code>df['DOH']=df['Inventory'].div (df.iloc['OUT '+1:])
</code></pre>
<p>Please advice on how I can divide between different index.</p>
","2024-06-01 03:18:14","2","Question"
"78562253","78562183","","<p>You are printing function object. To print result of function:</p>
<pre><code>result = get_length(“string”)
print(result)
</code></pre>
<p>As well you can use built in function ‘len’</p>
<pre><code>print(len(“qwerty”))
</code></pre>
","2024-05-31 21:57:09","1","Answer"
"78562183","","How can I print the product of this function?","<p>when I try to print the code below I get &lt;function get_length at 07fbee3b94e188&gt;</p>
<pre><code>def get_length(string):
  counter = 0
  for letter in string:
    counter += 1
  return counter

get_length(&quot;parangaricutirimicuaro&quot;)
print(get_length)
</code></pre>
<p>How can I print the lenght of the string in the function instead of getting that weird code?</p>
","2024-05-31 21:29:17","-1","Question"
"78553463","78551787","","<p>Remove <code>const</code> keyword from hierarchy a function is not a const. that's why it's giving error.</p>
","2024-05-30 07:25:04","0","Answer"
"78551787","","Elevated Button OnPressed function not working","<p>please when create an elevated button and then give it an empty funtion it indicates an error which doesn't allow my code to run. Even if i give it a simple function it still doesnt work. can someone please help me</p>
<p>i was expecting it to work. I even copied some solutions directly from here but still not working.<a href=""https://i.sstatic.net/TMDhs2Jj.png"" rel=""nofollow noreferrer"">a screenshot of the error</a></p>
","2024-05-29 20:16:18","0","Question"
"78551599","78551463","","<p>A slightly different approach would be to take advantage of the fact that you have already entered a correct time value in cell J22</p>
<p>Just try</p>
<pre><code>Dim delay As Date
delay = Range(&quot;J22&quot;).Value
Application.Wait (Now + delay)
</code></pre>
","2024-05-29 19:28:50","0","Answer"
"78551520","78551463","","<ul>
<li><p>DateTime values in Excel are stored as floating-point numbers. The <code>Text</code> property returns the content displayed in the cell.</p>
</li>
<li><p>The argument of <code>TimeValue</code> is normally a string expression.</p>
</li>
</ul>
<p><em>Microsoft documentation:</em></p>
<blockquote>
<p><a href=""https://learn.microsoft.com/en-us/office/vba/language/reference/user-interface-help/timevalue-function?WT.mc_id=M365-MVP-33461&amp;f1url=%3FappId%3DDev11IDEF1%26l%3Den-US%26k%3Dk(vblr6.chm1009045)%3Bk(TargetFrameworkMoniker-Office.Version%3Dv16)%26rd%3Dtrue"" rel=""nofollow noreferrer"">TimeValue function</a></p>
</blockquote>
<p>Please try.</p>
<pre class=""lang-vb prettyprint-override""><code>    Dim Delay As String
    Delay = ws.Range(&quot;J22&quot;).Text
    Application.Wait (Now + TimeValue(Delay))
</code></pre>
","2024-05-29 19:04:55","0","Answer"
"78551463","","VBA ""Wait"" Function manually change time delay from Excel spread sheet","<p>Delay = ws.Range(&quot;J22&quot;).Value
^^ Input from Excel Spread Sheet
<img src=""https://i.sstatic.net/rEDW4Xek.png"" alt=""Excel Cell Input"" /></p>
<p>Application.Wait (Now + TimeValue(&quot;Delay&quot;))</p>
<p>^^ Function I want to use</p>
<p>I have an excel spread sheet and i want manually change the time delay in seconds for the function application &quot;Wait&quot; in seconds from my excel spread sheet. I received an error saying &quot;Type Mismatch&quot;.</p>
<p>How do I adjust the variable formatting ??</p>
<p>Thank You</p>
<p>I tried using different data types</p>
","2024-05-29 18:51:28","0","Question"
"78551438","78551080","","<p>Define your symbolic variable using <code>syms</code>.</p>
<p>The <code>syms</code> function in MATLAB is used to create symbolic variables. These variables are used for symbolic math operations.</p>
<pre><code>syms s m c k m1 m3 F0 alpha beta

As = ((F0*(alpha-beta)/(2*(s^2+(alpha-beta)^2)))-(F0*(alpha+beta)/(2*(s^2+ 
(alpha+beta)^2))))/(m1+m3);

m_val = 1; % [kg]
c_val = 2; % [kg/s]
k_val = 2; % [N/m]
m1_val = 1; % [kg]
m3_val = 1; % [kg]
famp = 0.5; % [N]
scale = 0.01;
F0_val = famp * scale; % [N]
alpha_val = 0.2;
beta_val = 0.15;

As_subs = subs(As, {m, c, k, m1, m3, F0, alpha, beta}, {m_val, c_val, 
k_val, m1_val, m3_val, F0_val, alpha_val, beta_val});

As_simplified = simplify(As_subs);
disp(As_simplified);
</code></pre>
","2024-05-29 18:46:00","3","Answer"
"78551080","","Substitute Values into Symbolic Function Matlab","<p>I have the following:</p>
<pre><code>syms As(s) F0 alpha beta m1 m3
As(s) = ((F0*(alpha-beta)/(2*(s^2+(alpha-beta)^2)))-(F0*(alpha+beta)/(2*(s^2+(alpha+beta)^2))))/(m1+m3);
m1 = 1; % [kg]
m3 = 1; % [kg]
famp = 0.5; % [N]
scale = 0.01;
F0 = famp*scale; % [N]
alpha = 0.2;
beta = 0.15;
subs(As,{m1,m3,F0,alpha,beta},{m1,m3,F0,alpha,beta});
</code></pre>
<p>After substituting scalar values into <code>As(s)</code>, <code>As(s)</code> still remains as:
<a href=""https://i.sstatic.net/ZeevoomS.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ZeevoomS.png"" alt=""enter image description here"" /></a></p>
<p>Why isn't MATLAB substituting the values I specified into <code>As(s)</code>?</p>
","2024-05-29 17:21:54","0","Question"
"78550358","78548998","","<p>I don't fully understand the logic but what the script is doing is applying the <code>combine()</code> function to each element and the next one. That can also be done using the <code>reduce()</code> built-in function.</p>
<p>Also <code>combine()</code> is overcomplicated. If you are going to return true or false depending on a condition just return the condition. It doesn't needs a separate argument if the value is also part of another argument.</p>
<p>This seems to return the same result, but as I said it is not fully clear what is intended.</p>
<pre class=""lang-js prettyprint-override""><code>%dw 2.0
output application/json  

fun combine(val, old, new) =
    if ((val) or        
            ((new.position == 'C') and !(isEmpty(new.employeeId))))
        true
    else ((old.position == 'D') and !(isEmpty(old.employeeId)))
---
(payload reduce ((item, accumulator={old:{}, previous:null }) 
    -&gt; {old: item, previous: combine(accumulator.previous default item.freshHire, accumulator.old, item)})).previous
</code></pre>
<p>Output:</p>
<pre><code>false
</code></pre>
","2024-05-29 14:50:50","1","Answer"
"78548998","","In array of objects with similar division, check the new record and previous record and aggregate the response in dataweave","<p>Input:</p>
<pre><code>[
  {
    &quot;employeeId&quot;: 100,
    &quot;firstName&quot;: &quot;John&quot;,
    &quot;lastName&quot;: &quot;Chen&quot;,
    &quot;division&quot;: &quot;2024-DOA09-1111&quot;,
    &quot;email&quot;: &quot;john.chen@xxxx.com&quot;,
    &quot;freshHire&quot;: false,
    &quot;position&quot;: &quot;M&quot;
  },
  {
    &quot;employeeId&quot;: 101,
    &quot;firstName&quot;: &quot;Ameya&quot;,
    &quot;lastName&quot;: &quot;Job&quot;,
    &quot;division&quot;: &quot;2024-DOA09-1111&quot;,
    &quot;email&quot;: &quot;ameya.job@xxx.com&quot;,
    &quot;freshHire&quot;: false,
    &quot;position&quot;: &quot;M&quot;
  },
  {
    &quot;employeeId&quot;: 102,
    &quot;firstName&quot;: &quot;Pat&quot;,
    &quot;lastName&quot;: &quot;Fay&quot;,
    &quot;division&quot;: &quot;2024-DOA09-1111&quot;,
    &quot;email&quot;: &quot;pat.fey@xxx.com&quot;,
    &quot;freshHire&quot;: false,
    &quot;position&quot;: &quot;M&quot;
  }
]
</code></pre>
<p>dataweave code:</p>
<pre><code>%dw 2.0
fun combine(val,old, new) = (if(if(val) true else (if((new.position == 'C') and !(isEmpty(new.employeeId)) ) true else false)) true else (if((old.position == 'D') and !(isEmpty(old.employeeId)) ) true else false))
output application/json
---
(payload map ((item, index) -&gt; if(sizeOf(payload) == 2) (combine(payload[index].freshHire,payload[index], payload[index+1])) else (combine((combine(payload[index].freshHire,payload[index], payload[index+1])), payload[index+1], payload[index+2]))))[0]
</code></pre>
<p>expected output:
false</p>
<p>Condition for the dataweave is as follows.</p>
<pre><code>Boolean value = if(oldfreshHire == true) true else (if((newPosition == &quot;M&quot;) and !isEmpty(newemployeeId)) true else false)
value1= if(value == true) true else (if((oldPosition == &quot;M&quot;) and !isEmpty(oldemployeeId)) true else false)
</code></pre>
<p>oldPosition=Position value in index 0, newPosition=Position value in index 1, this continue for all indexes next oldPosition will be the response of 1st and 2nd record and newPosition will be 3rd record and so on.. old and new prefix is same for all fields mentioned.
Here value variable is first determined and then that value is again used for value1 evaluation. value1 variable will be the final output which is expected.
Here Input has 3 records so based on the condition, 1st and 2nd record with employeeId 100 and 101 are passed to the condition as old and new respectively. oldfreshHire=false from 1st record, newPosition=M and newemployeeId=101 from 2nd record, so value=false. then oldPosition=M and oldemployeeId=100 so value1=false.
then we will consider previous result as old and 3rd record as new so oldfreshHire=false(value1 result), newPosition=M and newemployeeId=102 from 3rd record so value=false as per condition. then oldPosition=M and oldemployeeId=101 from 2nd record so it will consider (index-1) as old for position and employeeId and value1=false as final result.</p>
<p>I am getting the required output for the given input but if there are more then this might not work. also I wanted to check if this code is correct or we can update it to alternate one. Please let me know if this can be updated.</p>
","2024-05-29 10:48:50","0","Question"
"78547644","78547617","","<p>sample2(b=5)</p>
<p>5 being whatever you want it to be.</p>
","2024-05-29 06:18:29","1","Answer"
"78547617","","Python | How do I pass parameters for only 2nd argument?","<p>Suppose I have some code like:</p>
<pre><code>def sample2(a = 15, b=14):
    print(&quot;sample&quot;, a+b)
</code></pre>
<p>If I call <code>sample2()</code> I get <code>29</code>, using both default values.</p>
<p>How can I pass an explicit value for <code>b</code>, but use the default value for <code>a</code>?</p>
","2024-05-29 06:12:55","-4","Question"
"78547086","78547050","","<p>You can create</p>
<pre><code>def color(val, other_value):
</code></pre>
<p>and use <code>lambda</code> to run it with <code>other_value</code></p>
<pre><code>dis_to_60, dis_perc_to_60 = net_60_comp(...)

.applymap(lambda x:color(x, dis_to_60))
</code></pre>
<hr />
<p><a href=""https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.applymap.html"" rel=""nofollow noreferrer"">Documentation</a> suggests that you can also use</p>
<pre><code>.applymap(color, other_value=dis_to_60)
</code></pre>
","2024-05-29 02:34:31","1","Answer"
"78547050","","Using Value from Another Function in Pandas .Applymap()","<p>Is it possible to color code DataFrame cell values based on its value compared to the value returned from another function.</p>
<p>Here is an example of the DataFrame coloring that I created using the functions below. <a href=""https://i.sstatic.net/iVhJeJdj.png"" rel=""nofollow noreferrer"">Dateframe Coloring</a>](<a href=""https://i.sstatic.net/iVhJeJdj.png"" rel=""nofollow noreferrer"">https://i.sstatic.net/iVhJeJdj.png</a>)</p>
<p>For example:</p>
<p>I have a function that takes one argument, a contract value, and returns a tuple.</p>
<pre><code>def net_60_comp(amount,f_rate=0.043):
    dis_to_60 = amount * ((1+f_rate)**(60/365)-1)
    dis_perc_to_60 = dis_to_60/amount

    return(dis_to_60,dis_perc_to_60)
</code></pre>
<p>Could the value, &quot;dis_to_60&quot;, returned from my above function be used in the color function below to determine color coding rather than using a hardcoded value?</p>
<pre><code>def color (val):
    v = net_60_comp
    color = 'green' if int(val) &gt; 80 else 'red'
    return f'background-color: {color}'


df.style.applymap(color)
</code></pre>
","2024-05-29 02:18:30","0","Question"
"78546717","78546117","","<h3>Output Stream</h3>
<p>One way to do it is to just send both objects to the output stream from the function, which effectively returns an <em>array</em> of values:</p>
<pre><code>function Get-TwoResults
{
    write-output &quot;one&quot;
    write-output &quot;two&quot;
}

$results = Get-TwoResults
$results[0] # displays &quot;one&quot;
$results[1] # displays &quot;two&quot;
</code></pre>
<p>You can also &quot;unpack&quot; the items in the return array into multiple variables like this:</p>
<pre><code>$first, $second = Get-TwoResults
$first  # displays &quot;one&quot;
$second # displays &quot;two&quot;
</code></pre>
<p>See <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_assignment_operators?view=powershell-7.4#assigning-multiple-variables"" rel=""nofollow noreferrer"">Assigning Multiple Vvariables</a> for more details.</p>
<h3>Custom Objects</h3>
<p>Another option is to bundle the values into properties of a custom object:</p>
<pre><code>
function Get-CustomObject
{
    write-output [pscustomobject] @{
        &quot;First&quot;  = &quot;one&quot;
        &quot;Second&quot; = &quot;two&quot;
    }
}

$object = Get-CustomObject
$object

# displays:
#
# Name                           Value
# ----                           -----
# First                          one
# Second                         two
</code></pre>
<p>and you can access the properties like this:</p>
<pre><code>$object.First  # displays &quot;one&quot;
$object.Second # displays &quot;two&quot;
</code></pre>
<hr />
<h3>Write-Output</h3>
<p>Note that you don't specifically <em>need</em> to put the command name <code>write-output</code> in the above code samples - any uncaptured expression results are implicitly returned to the output stream as if you'd called <code>write-output</code>.</p>
<p>The two samples below work just as well as the ones above:</p>
<pre><code>function Get-TwoResults
{
    &quot;one&quot;
    &quot;two&quot;
}

function Get-CustomObject
{
    [pscustomobject] @{
        &quot;First&quot;  = &quot;one&quot;
        &quot;Second&quot; = &quot;two&quot;
    }
}
</code></pre>
<p>Note also that <code>return $x</code> is functionally equivalent to <code>write-output $x; return</code>.</p>
","2024-05-28 22:53:10","1","Answer"
"78546117","","Pass multiple variables from function to use further in script","<p>I am trying to create a variable of true/false within a function and then use that variable later in the script.  My current function has a return which works, but i can not seem to understand how to return or create new object to pass multiple variables.</p>
<p>As the script works now, the function is called with a parameter of a tag name which calls an API call that retrieves JSON file and then parses through that file and performs a few steps.  When I call the function I want it to return the HTML table as well as a true or false variable if the $values from the json contain anything below 1.</p>
<pre><code>function Request-API {
    [CmdletBinding()]
    [OutputType([psobject])]
    param (
        $tagName
    )
    Invoke-WebRequest -Uri &quot;***removed for company privacy*** -Headers $headers -OutFile $DataExplorerJson

    #Store API results as variable
    $json = Get-Content $DataExplorerJson -Raw  | ConvertFrom-Json
    
    #Check values and set $subjectCheck to TRUE if there are failures
    $values = @($json.result.data.values)
    foreach ($i in $values) {
        if ($i -lt 1) {
            $subjectCheck = $true
        } 
    } 
    Write-Output &quot;SubjectCheck &quot;$subjectCheck
    

    ###Create $report object of containing table data
    ## Retrives value status from JSON.  If greater than 1 sets to PASS
    $condition = '1'
    try {
        $report = $json.result.data | ForEach-Object {
            $status = 'FAIL'
            if ($_.values[0] -ge $condition) {
                $status = 'PASS'
            }
            #Adds synthetic monitor names and $values to object
            [pscustomobject]@{
                Application = $_.dimensionmap.PSObject.Properties.Match('*.name').Value
                Status      = $status
            }
        }
    }
    catch {
        ## Write-Output 'No failures occured'
    }
    
    #Convert report to HTML and add XML
    [xml]$fullTable = $report | Select-Object Application, Status | ConvertTo-Html -Fragment
    
    ##Set color for PASS &amp; FAIL stastuses
    try {
        $fullTable.SelectNodes(&quot;/table/tr/td[text()='PASS']&quot;).SetAttribute('class', 'pass')
        $fullTable.SelectNodes(&quot;/table/tr/td[text()='FAIL']&quot;).SetAttribute('class', 'fail')
    }
    catch {
        ## Write-Output 'No failures occured'
    }
    return $fullTable
}

## Call function with $tag param
$medicalReview = 'Medical%20Review~'
$priorAuth = 'Prior%20Auth~'

$medicalReviewTable = Request-API $medicalReview
$subjectMR = $subjectCheck
Write-Host &quot;subject check subjectMR: &quot;$subjectMR
$priorAuthTable = Request-API $priorAuth
$subjectPA = $subjectCheck
Write-Host &quot;subject check subjectPA: &quot;$subjectPA

if($subjectMR -eq $true -or $subjectPA -eq $true) {
    $subject = 'Dynatrace Synthetic On Demand Monitoring Report - FAIL'
} else {
    $subject = 'Dynatrace Synthetic On Demand Monitoring Report - PASS'
}
</code></pre>
<p>The code starting with &quot;#Check values and set $subjectCheck&quot; is where the issue is.  I know the $subjectCheck is not passing the variable.</p>
<p>I have also tried:</p>
<pre><code> $values = @($json.result.data.values)
    foreach ($i in $values) {
        if ($i -lt 1) {
            $subjectCheck = New-Object -Property $true -TypeName psobject
        } 
    } 
    Write-Output &quot;SubjectCheck &quot;$subjectCheck
</code></pre>
<p>I do not think I am fully understanding functions, but after so much reading I truly don't know how to handle this.</p>
","2024-05-28 19:37:06","0","Question"
"78545629","78545587","","<p>Welcome to web development! I tested your code in an online sandbox and it works as expected. I believe your issue has to do with the fact that the <code>index.js</code> path is not valid. Either move the index.js file to the same root directory/folder or change the path reference.</p>
","2024-05-28 17:29:22","0","Answer"
"78545587","","Javascript not seeming to be noticed by html file when button calls function, and not sure why","<p>I'm new to JavaScript and html. I've been trying to figure out how this problem is coming up but it's not really consistent. Is there something I'm doing wrong that I'm not noticing?</p>
<p>--JavaScript--</p>
<pre><code>    function e() {
        let consoleTestElement = document.getElementById(&quot;c&quot;);
        consoleTestElement.innerText = &quot;e&quot;;
    }
</code></pre>
<p>--HTML--</p>
<pre><code>    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
    &lt;head&gt;
        &lt;script defer src=&quot;index.js&quot;&gt;&lt;/script&gt;
        &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;index.css&quot; /&gt;
        &lt;meta charset=&quot;utf-8&quot; /&gt;
        &lt;title&gt;&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;button onclick=&quot;e()&quot; id=&quot;CalculationButton&quot;&gt;Find Type Interactions&lt;/button&gt;

        &lt;p id=&quot;c&quot;&gt;Stuff&lt;/p&gt;

    &lt;/body&gt;
    &lt;/html&gt;
</code></pre>
<p>This is mainly for debugging purposes and this isn't the primary purpose of the website. But what is suppose to happen is that when the button is clicked, the &quot;stuff&quot; in the c paragraph just turns to &quot;e&quot;.
Some things I've tried:</p>
<ul>
<li>Putting the defer keyword in the script element</li>
<li>Setting a listener to the button through JavaScript with window.onload()</li>
<li>Putting the script element on the bottom of the page</li>
</ul>
<p>Again, I'm new to this and I'm not sure what I'm missing</p>
<p>Edit: Some context I'm missing is that I'm trying to run this on a ASP.NET framework in visual studio. But I didn't think it was the problem originally because the code is minimal. The c# code runs like this</p>
<pre><code>public static void Main(string[] args)
{
    var builder = WebApplication.CreateBuilder(args);
    var app = builder.Build();

    //app.MapGet(&quot;/&quot;, () =&gt; &quot;Hello World!&quot;);

    app.UseDefaultFiles();
    app.UseStaticFiles();

    app.Run();
}
</code></pre>
<p>with everything being ran in a wwwroot folder except the program.cs file. Which is in the parent folder the project is located in.</p>
","2024-05-28 17:20:00","0","Question"
"78544509","78544179","","<p>It's a subtle annoyance and it has to do with argument partial matching. Consider this:</p>
<pre><code>integrate(dnorm, u = 1, l = 0)$value
#[1] 0.3413447
</code></pre>
<p>As you can see, R partially matched the <code>u</code> argument as <code>upper</code> and <code>l</code> for lower.</p>
<p>Same happened in your case. You meant the <code>l</code> argument as the integrand function argument; instead, R intended that as the <code>lower</code> argument of <code>integrate</code>. So 0 became the first non named argument (and so <code>upper</code>), while the <code>q</code> value was used as the <code>l</code> argument of the integrand function.</p>
","2024-05-28 13:42:49","7","Answer"
"78544456","78544179","","<p>Have a look at</p>
<pre class=""lang-r prettyprint-override""><code>&gt; str(pgpareto(5,2,1,1))
List of 5
 $ value       : num 0.972
 $ abs.error   : num 3.81e-05
 $ subdivisions: int 1
 $ message     : chr &quot;OK&quot;
 $ call        : language integrate(f = dgpareto, lower = 0, upper = q, a = a, l = l, k = k)
 - attr(*, &quot;class&quot;)= chr &quot;integrate&quot;

&gt; str(pgpareto2(5,2,1,1))
List of 5
 $ value       : num -0.306
 $ abs.error   : num 3.39e-15
 $ subdivisions: int 1
 $ message     : chr &quot;OK&quot;
 $ call        : language integrate(f = dgpareto, lower = l, upper = 0, q, a = a, k = k)
 - attr(*, &quot;class&quot;)= chr &quot;integrate&quot;
</code></pre>
<p>and compare the <code>$call</code>s.</p>
","2024-05-28 13:31:56","5","Answer"
"78544179","","integrate() function giving incorrect results in R","<p>I tried to use integrate function in two slightly different manner. Both resulted in different answers.</p>
<pre><code>dgpareto = Vectorize(function(x,a,l,k){
   gamma(a+k)*(l^a)*(x^(k-1))/(gamma(a)*gamma(k)*((l+x)^(a+k)))
})
pgpareto = function(q,a,l,k){
   integrate(dgpareto,lower = 0,upper = q,a=a,l=l,k=k)$value
}
pgpareto2 = function(q,a,l,k){
   integrate(dgpareto,0,q,a=a,l=l,k=k)$value
}
pgpareto(5,2,1,1)
#[1] 0.9722222
pgpareto2(5,2,1,1)
#[1] -0.3055556
</code></pre>
<p>The integrate() gives the correct / expected result when the limits are specified by lower = 0 and upper = q but gives incorrect results without it. lower and upper are 2nd and 3rd input to integrate so I expected that I can use their input values without naming them explicitly. Whats the issue here? What am I doing wrong?</p>
","2024-05-28 12:41:51","4","Question"
"78543514","78543467","","<p>If you want to convert your <code>generateHighlightedText</code> into a reusuable hook.</p>
<ol>
<li><p>You need to prefix it's name with <code>use</code>, like this <code>useGeneratedHighlightedText</code>.</p>
</li>
<li><p>It looks like you want to still memoize the returned implementation with function parameters. You'll need to make use of <code>useCallback</code> for that.</p>
</li>
</ol>
<p>Define your custom hook like this:</p>
<pre><code>export const useGenerateHighlightedText = () =&gt; {
  const { palette } = useTheme();
  const { buyingTheme} = useBuyingTheme();
  const { searchQuery } = useHeaderWithSearchbar();

  const regex = new RegExp(`(${searchQuery})`, 'gi');
  const markStyles = {
    color: buyingTheme.palette.primary.contrastText,
    backgroundColor: alpha(buyingTheme.palette.primary.main, 0.75),
    borderRadius: 2,
  };

  return useCallback((text: string, key: string) =&gt; {
    if (!searchQuery.trim()) {
      return text;
    }
    return text
      .split(regex)
      .filter(String)
      .map((part, index) =&gt;
        regex.test(part) ? (
          &lt;mark key={`highlightable-mark-${searchQuery}-${key}-${index}`} style={markStyles}&gt;
            {part}
          &lt;/mark&gt;
        ) : (
          &lt;span key={`highlightable-span-${searchQuery}-${key}-${index}`}&gt;{part}&lt;/span&gt;
        )
      );
  }, [searchQuery, buyingTheme.palette.primary.contrastText, buyingTheme.palette.primary.main]);
}
</code></pre>
<p>Now you can implement it like this:</p>
<pre><code>const MyComponent = () =&gt; {
  const generateHighlightedText = useGenerateHighlightedText();

  generateHighlightedText('myText', 'myKey');

  ...
}
</code></pre>
","2024-05-28 10:31:50","0","Answer"
"78543467","","Refactor a function","<p>I heve this function into two different component in React in order highlithe a value if it is equal to the one I am searching.</p>
<pre><code>    const generateHighlightedText = useMemo(() =&gt; {
      const regex = new RegExp(`(${highlightValue})`, 'gi');
      const markStyles = {
        color: buyingTheme.palette.primary.contrastText,
        backgroundColor: alpha(buyingTheme.palette.primary.main, 0.75),
        borderRadius: 2,
      };
    
      return (text: string, key: string) =&gt; {
        if (!highlightValue.trim()) {
          return text;
        }
        return text
          .split(regex)
          .filter(String)
          .map((part, index) =&gt;
            regex.test(part) ? (
              &lt;mark key={`highlightable-mark-${highlightValue}-${key}-${index}`} style={markStyles}&gt;
                {part}
              &lt;/mark&gt;
            ) : (
              &lt;span key={`highlightable-span-${highlightValue}-${key}-${index}`}&gt;{part}&lt;/span&gt;
            ),
          );
      };
    }, [highlightValue, buyingTheme.palette.primary.contrastText, buyingTheme.palette.primary.main]);
</code></pre>
<p>I have to refactor the code and to move the function to another file and then import it into the two componentes.
I created a util folder with a highlithed.util.ts file and I copied and pasted the fn and the importation.</p>
<p>It is now breaking everywhere and some of the errors are:</p>
<ul>
<li>cannot find name span neither mark</li>
<li>do I have to define any parametres to the fn?</li>
<li>do I have to define any type or interface?</li>
</ul>
<p>Don't know how to continue</p>
","2024-05-28 10:22:08","0","Question"
"78540217","78540114","","<p>If you want a generic <code>run_func</code> that works on all possible functions, you'll have to use both <code>*args</code> and <code>**kwargs</code> simultaneously, like below:</p>
<pre><code>def run_func(func, *args, **kwargs):
    return func(*args, **kwargs)

def add(a: int, b: int) -&gt; int:
    return a + b

assert run_func(add, 2, 3) == 5
assert run_func(add, a=4,b=5) == 9

</code></pre>
","2024-05-27 16:35:45","0","Answer"
"78540133","78540114","","<p>Use a (keyword) argument that takes a tuple of arguments to be passed on to the function. Then pass the <code>args</code> argument to the function as <code>func(*args)</code>. The latter notation, <code>*args</code>, will expand the separate arguments automatically.</p>
<pre><code>def run_func(func, args=()):
    return func(*args)
</code></pre>
<p>and you have</p>
<pre><code>def add(a, b):
    return a + b

import math
def offroot(value):
    return math.sqrt(value**1.1)
</code></pre>
<p>Call as</p>
<pre><code>&gt;&gt;&gt; run_func(add, args=(2, 3))
5
&gt;&gt;&gt; run_func(offroot, args=(10,))  # note: `(10,)` to make it a tuple
3.548133892335755
</code></pre>
<p>(This is something that, for example, SciPy does for various of its functions. See for example <a href=""https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.leastsq.html"" rel=""nofollow noreferrer""><code>scipy.optimize.leastsq()</code></a>, which takes a function, and an <code>args</code> argument that takes arguments to pass to that function.)</p>
<p>If you ever need keywords instead of plain argument, a similar thing exist with <code>**kwargs</code> instead, where <code>kwargs</code> is a dict instead of a tuple.</p>
","2024-05-27 16:09:35","0","Answer"
"78540114","","Is it possible to have a variable name that changes?","<p>I was thinking about some python code that I had recently written, and since I like to think of how the libraries code out their capabilities, I wanted to figure out a bit of code that takes a function and runs it.</p>
<p>That function probably was layed out like this:</p>
<pre><code>def run_func(func):
    func()
</code></pre>
<p>but it also takes an input for the normal inputs that you would give it. So let's say you have this function, <code>add(x, y)</code> but as you can see, it takes two inputs. So the way you would run that function like this:</p>
<pre><code>run_func(add, [3, 2])
</code></pre>
<p>meaning the definition of the function could be this:</p>
<pre><code>def run_func(func, inputs = []):
    ...
</code></pre>
<p>I got to this trying to figure out the mystery:</p>
<pre><code>def run_func(func, inputs = []):
    for x in range(len(inputs)):
        variable{{x}} = inputs[x] # means that the variable is variable followed with the value of x
    num_inputs = len(inputs)
    func(inputs[0], ..., inputs[num_inputs])
</code></pre>
<p>So my question is this: Can you have a variable name that changes depending on some expression?</p>
<p>EDIT: *args and **kwargs don't work because  they are a list and a dictionary respectively and that would only have two arguments sent into the function</p>
","2024-05-27 16:03:54","-1","Question"
"78539882","78539841","","<p>You cannot return 2 values like that from the function <code>getConsoleSize</code>.</p>
<p>The function is returning only 1 <code>int</code> - the <code>rows</code> in this case.<br />
<code>columns</code> is <code>main</code> remains uninitialized and what you see is a &quot;garbaged&quot; value.</p>
<p>In order to get both dimensions you can change <code>GetConsoleSize</code> to get 2 parameters as <code>int*</code> (pointer to <code>int</code>), and dereference the pointers to update the dimensions in main.</p>
<p>You should also check the return value from <code>GetConsoleScreenBufferInfo</code> to verify it succeeded.</p>
<p>The success/failure status should also be returned from <code>GetConsoleSize</code> as a boolean and checked in <code>main</code>.</p>
<pre><code>#include &lt;Windows.h&gt;
#include &lt;stdio.h&gt;

BOOL GetConsoleSize(int * cols, int * rows) 
{
    CONSOLE_SCREEN_BUFFER_INFO csbi;
    if (!GetConsoleScreenBufferInfo(GetStdHandle(STD_OUTPUT_HANDLE), &amp;csbi))
    {
        return FALSE;
    }
    // TODO: make sure cols, rows are not NULL
    *cols = csbi.srWindow.Right - csbi.srWindow.Left + 1;
    *rows = csbi.srWindow.Bottom - csbi.srWindow.Top + 1;
    return TRUE;
}

int main() 
{
    int columns, rows;
    if (!GetConsoleSize(&amp;columns, &amp;rows))
    {
        printf(&quot;FAILED\n&quot;);
        return EXIT_FAILURE;
    }
    printf(&quot;columns: %d\n&quot;, columns);
    printf(&quot;rows: %d\n&quot;, rows);
    return EXIT_SUCCESS;
}
</code></pre>
<p>Possible output:</p>
<pre><code>columns: 120
rows: 30
</code></pre>
<hr />
<p>As commented below, another option is to return a <code>struct</code> with rows and columns fields. A sentinel can be used to report an error:</p>
<pre><code>#include &lt;Windows.h&gt;
#include &lt;stdio.h&gt;

typedef struct
{
    int cols;
    int rows;
} Size;

const Size  InvalidSize = { -1, -1 };

BOOL IsSameSize(Size lhs, Size rhs)
{
    return (lhs.cols == rhs.cols &amp;&amp; lhs.rows == rhs.rows);
}

Size GetConsoleSize()
{
    CONSOLE_SCREEN_BUFFER_INFO csbi;
    if (!GetConsoleScreenBufferInfo(GetStdHandle(STD_OUTPUT_HANDLE), &amp;csbi))
    {
        return InvalidSize;
    }
    Size result;
    result.cols = csbi.srWindow.Right - csbi.srWindow.Left + 1;
    result.rows = csbi.srWindow.Bottom - csbi.srWindow.Top + 1;
    return result;
}

int main()
{
    Size result = GetConsoleSize();
    if (IsSameSize(result, InvalidSize))
    {
        printf(&quot;FAILED\n&quot;);
        return EXIT_FAILURE;
    }
    printf(&quot;columns: %d\n&quot;, result.cols);
    printf(&quot;rows: %d\n&quot;, result.rows);
    return EXIT_SUCCESS;
}
</code></pre>
<p><strong>Note:</strong> I consider the first solution more idiomatic in Windows environment, but the second one is valid as well (and has the advatage that there's no need to check that the passed pointers are not NULL).</p>
","2024-05-27 15:16:48","1","Answer"
"78539856","78539767","","<p>The other answer (<a href=""https://stackoverflow.com/a/78539799/8245406"">Jilber Urbina</a>) correct the OP code but I think that function is over complicating things.
Here is a much simpler version of the function.</p>
<pre class=""lang-r prettyprint-override""><code>my_binary &lt;- function(df) {
  i &lt;- sapply(df, \(x) all(x %in% 0:1))
  df[i] &lt;- lapply(df[i], factor)
  df
}

my_binary(mtcars) |&gt; str()
#&gt; 'data.frame':    32 obs. of  11 variables:
#&gt;  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
#&gt;  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
#&gt;  $ disp: num  160 160 108 258 360 ...
#&gt;  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
#&gt;  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
#&gt;  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
#&gt;  $ qsec: num  16.5 17 18.6 19.4 17 ...
#&gt;  $ vs  : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 1 1 2 2 1 2 1 2 2 2 ...
#&gt;  $ am  : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 2 2 2 1 1 1 1 1 1 1 ...
#&gt;  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
#&gt;  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
</code></pre>
<p><sup>Created on 2024-05-27 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
","2024-05-27 15:12:06","0","Answer"
"78539841","","GetConsoleScreenBufferInfo returning wierd values when called using function","<p>I have a program where I want to print out the size of the terminal window in columns and rows.</p>
<p>To do this I want to call this function from <code>int main()</code>:</p>
<pre><code>int getConsoleSize(){
    CONSOLE_SCREEN_BUFFER_INFO csbi;
    int columns, rows;

    GetConsoleScreenBufferInfo(GetStdHandle(STD_OUTPUT_HANDLE), &amp;csbi);
    columns = csbi.srWindow.Right - csbi.srWindow.Left + 1;
    rows = csbi.srWindow.Bottom - csbi.srWindow.Top + 1;

    return columns, rows;
}
</code></pre>
<p><code>int main()</code> looks like this:</p>
<pre><code>int main(){
    int columns, rows = getConsoleSize();
    printf(&quot;columns: %d\n&quot;, columns);
    printf(&quot;rows: %d\n&quot;, rows);

    //prevent window from closing
    getc(stdin);

    return 0;
}
</code></pre>
<p>When calling the function <code>getConsoleSize()</code> it gives me the output <code>columns: 5990652\n rows: 30</code> which is clearly not correct. The columns output is also not consistent but is always at least 6-7 numbers long.
But when the code is copy pasted from the function directly into main() it seems to return the correct values with the outputs <code>columns: 120\n rows: 30</code>.</p>
<p>Why is this and how do I fix it so that the function return the correct values.</p>
","2024-05-27 15:08:20","1","Question"
"78539832","78539767","","<p>Here is the corrected version of your code. Your function was not returning any value</p>
<pre><code>df_mtcars &lt;- mtcars

my_binary &lt;- function(df){
  Col_Name=c()
  for (i in 1:ncol(df)) {
    if (is.numeric(df[,i])){
      Col_Name[i] &lt;- colnames(df)[i]
    }  
  }
  Col_Name &lt;- na.omit(Col_Name)
  for (col in 1:length(Col_Name)) {
    bi=unique(df[,col])
    if (is.numeric(bi)) {
      bi2=all(bi%in%c(0,1))
      if (bi2==TRUE) df[,col] &lt;- as.factor(df[,col])
    }
    df2 = df
  }
  
  return(df2)
}

str(my_binary(df_mtcars))


'data.frame':   32 obs. of  11 variables:
 $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp: num  160 160 108 258 360 ...
 $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec: num  16.5 17 18.6 19.4 17 ...
 $ vs  : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 1 1 2 2 1 2 1 2 2 2 ...
 $ am  : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 2 2 2 1 1 1 1 1 1 1 ...
 $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
</code></pre>
<p>I hope this helps!</p>
","2024-05-27 15:06:31","0","Answer"
"78539799","78539767","","<p>You need to add <code>return(df)</code> right before the last <code>}</code>. Doing so, your output is:</p>
<pre><code>&gt; str(My_binary(mtcars))
'data.frame':   32 obs. of  11 variables:
 $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
 $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
 $ disp: num  160 160 108 258 360 ...
 $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
 $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
 $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
 $ qsec: num  16.5 17 18.6 19.4 17 ...
 $ vs  : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 1 1 2 2 1 2 1 2 2 2 ...
 $ am  : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 2 2 2 1 1 1 1 1 1 1 ...
 $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
 $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
</code></pre>
","2024-05-27 14:59:45","1","Answer"
"78539767","","My function does not work, the code, separately, does","<p>I try to create a function that checks the data frame to detect the binary vectors (columns) and changes these binary vectors into factors. I have managed to design a code. However, when I tried to wrap it into a function, the function did not work. My question is: what is wrong with my function, and what is missing?</p>
<pre><code>data(mtcars)
df=mtcars
Col_Name=c()#creating an empty vector
for (i in 1:ncol(df)) {
  if (is.numeric(df[,i])){
    Col_Name[i] &lt;- colnames(df)[i]
  }  #checking the columns and collecting the numeric columns into a vector
  }
Col_Name &lt;- na.omit(Col_Name)#removing the NA
for (col in 1:length(Col_Name)) {
  bi=unique(df[,col])#detecting the unique variables.
  if (is.numeric(bi)) {
    bi2=all(bi%in%c(0,1))#cheking if the unique variable contains 0 and 1
    if (bi2==TRUE) df[,col] &lt;- as.factor(df[,col])#changing the column into a factor
  }
  
}#the function is supposed to return nothing. however when checking the data frame, 0,1 columns change into factor.
str(df)#check the impact of the code.
</code></pre>
<p>Now, let's wrap the code into a function.</p>
<pre><code>My_binary=function(df){Col_Name=c()
for (i in 1:ncol(df)) {
  if (is.numeric(df[,i])){
    Col_Name[i] &lt;- colnames(df)[i]
  }  
  }
Col_Name &lt;- na.omit(Col_Name)
for (col in 1:length(Col_Name)) {
  bi=unique(df[,col])
  if (is.numeric(bi)) {
    bi2=all(bi%in%c(0,1))
    if (bi2==TRUE) df[,col] &lt;- as.factor(df[,col])
  }
  
}}
str(df) #return nothing&gt;&gt;&gt;&gt;
</code></pre>
<p>I have tried to run the function, but it returned nothing. I understand that something is missing. However, I can't figure out what.</p>
","2024-05-27 14:50:07","-1","Question"
"78538465","78538355","","<p><code>document.querySelectorAll</code> returns a NodeList (a collection of elements).</p>
<p>If you checked the javascript console, your code throws an error when trying to <code>.appendChild</code> over the collection.</p>
<p>You instead needed to iterate over that collection and for each item (being a <code>.gridrow</code>) append there a number of elements.</p>
<p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/NodeList"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/API/NodeList</a></p>
<blockquote>
<p>Note: Although NodeList is not an Array, it is possible to iterate
over it with forEach(). It can also be converted to a real Array using
Array.from().</p>
</blockquote>
<p>This is a quick demo:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const container = document.querySelector("".container"");
const input = document.querySelector(""input"");
const submitBtn = document.querySelector(""button"");

function createGrid() {
    const value = input.value;
    for (let i = 0; i &lt; value; i++) {        
        const createDivRow = document.createElement(""div"");
        createDivRow.classList.add(""gridrow"")
         createDivRow.textContent = i;
        container.appendChild(createDivRow);
    }
    
}

function createGridItems() {  
    const value = input.value;
    //here you select the rows as .gridrow elements
    const divRows = document.querySelectorAll("".gridrow"");    
    //iterate over each one of them
    divRows.forEach(divRow =&gt;{
        //and append to it a new div for as many times as the value fetched from the input element
        for(let i=0;i &lt; value; i++){
          const createDivItem = document.createElement(""div"");
          createDivItem.textContent = ""aa"";
          divRow.appendChild(createDivItem);
        }        
    });       
}

submitBtn.addEventListener(""click"", createGrid);
submitBtn.addEventListener(""click"", createGridItems);</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.gridrow{
  border: solid 1px;  
  margin-top: 1em;
}

.gridrow &gt; div {
  border: solid 1px red;
  margin-left: 1em;
  display: inline-block;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""container""&gt;&lt;/div&gt;

&lt;input type=""text""&gt;
&lt;button&gt;submit&lt;/button&gt;</code></pre>
</div>
</div>
</p>
<p>And finally since the performance became a concern among the comments, here is a performance test to show the difference in time for each solution:</p>
<ul>
<li><strong>addDivsOneByOne</strong> took 2.5999999046325684 milliseconds</li>
<li><strong>addDivsInBatch</strong> took 2 milliseconds</li>
<li><strong>addDivsUsingInnerHTML</strong> took 1 milliseconds</li>
</ul>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const numElements = 1000;

function addDivsOneByOne(containerId) {
  const container = document.getElementById(containerId);
  for (let i = 0; i &lt; numElements; i++) {
    const div = document.createElement('div');
    div.textContent = `${i + 1}`;
    container.appendChild(div);
  }
}

function addDivsInBatch(containerId) {
  const container = document.getElementById(containerId);
  const fragment = document.createDocumentFragment();
  for (let i = 0; i &lt; numElements; i++) {
    const div = document.createElement('div');
    div.textContent = `${i + 1}`;
    fragment.appendChild(div);
  }
  container.appendChild(fragment);
}

function addDivsUsingInnerHTML(containerId) {
  const container = document.getElementById(containerId);
  let html = '';
  for (let i = 0; i &lt; numElements; i++) {
    html += `&lt;div&gt;${i + 1}&lt;/div&gt;`;
  }
  container.innerHTML = html;
}

function runBenchmark() {
  document.getElementById('container1').innerHTML = '';
  document.getElementById('container2').innerHTML = '';
  document.getElementById('container3').innerHTML = '';

  const results = [];

  // Measure addDivsOneByOne
  let start = performance.now();
  addDivsOneByOne('container1');
  let end = performance.now();
  results.push(`addDivsOneByOne took ${end - start} milliseconds.`);

  // Measure addDivsInBatch
  start = performance.now();
  addDivsInBatch('container2');
  end = performance.now();
  results.push(`addDivsInBatch took ${end - start} milliseconds.`);

  // Measure addDivsUsingInnerHTML
  start = performance.now();
  addDivsUsingInnerHTML('container3');
  end = performance.now();
  results.push(`addDivsUsingInnerHTML took ${end - start} milliseconds.`);

  // Display results
  document.getElementById('results').innerHTML = results.join('&lt;br&gt;');
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.container {
  border: 1px solid #ccc;
  padding: 10px;
  margin: 10px 0;
}

.container div {
  margin: 2px 0;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div id=""results""&gt;&lt;/div&gt;

&lt;div class=""container"" id=""container1""&gt;&lt;/div&gt;
&lt;div class=""container"" id=""container2""&gt;&lt;/div&gt;
&lt;div class=""container"" id=""container3""&gt;&lt;/div&gt;
&lt;div&gt;
  &lt;button onclick=""runBenchmark()""&gt;Run Benchmark&lt;/button&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-05-27 10:12:52","1","Answer"
"78538431","78538302","","<p>Not a complete rewrite but you're looking for something like this:</p>
<pre><code>spinner() {
    while kill -0 $! &gt;/dev/null 2&gt;&amp;1; do
        for pipe in '/' '-' '\' '|'; do
            printf '%s Running...\r' &quot;$pipe&quot;
            sleep .1
        done
    done
    printf '\n'
    wait $!
}

read -p 'Enter remote name: ' remote
if git remote show &quot;$remote&quot; &gt;/dev/null 2&gt;&amp;1 &amp; ! spinner; then
    printf 'Remote %q does not exist.\n' &quot;$remote&quot; &gt;&amp;2
    exit 1
fi
</code></pre>
","2024-05-27 10:05:30","1","Answer"
"78538430","78538355","","<p>That's because <code>querySelectorAll()</code> returns a static (not live) <code>NodeList</code>:</p>
<p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll"" rel=""nofollow noreferrer"">As per MDN:</a></p>
<blockquote>
<p>The Document method <code>querySelectorAll()</code> returns a static (not live)
<a href=""https://developer.mozilla.org/en-US/docs/Web/API/NodeList"" rel=""nofollow noreferrer"">NodeList</a> representing a list of the document's elements that match the
specified group of selectors.</p>
</blockquote>
<p>While NodeList is not equal to array, it's called <code>array-alike</code> but when it's static, any changes in the DOM will not affect the content of the nodes collection.</p>
<p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/NodeList"" rel=""nofollow noreferrer"">As per MDN:</a></p>
<blockquote>
<h2>Static NodeLists</h2>
<p>In other cases, the NodeList is static, where any changes in the DOM do not affect the content of the collection.
The ubiquitous document.querySelectorAll() method returns a static
NodeList.</p>
</blockquote>
<p>That said, you have to convert the NodeList to an array first, then do your changes, and finally, inject your html and the simplest way to convert it to an array is by using the spread operator, like so:</p>
<pre><code>function createGridItems() {
  let value = input.value;
  for (let i = 0; i &lt; value; i++) {
    // wrap with brackets, then use spread
    const divRow = [...document.querySelectorAll(&quot;.gridrow&quot;)];
    const createDivItem = document.createElement(&quot;div&quot;);
    createDivItem.textContent = &quot;aa&quot;;
    // use push instead of appendChild
    divRow.push(createDivItem);
    // now loop throgh divrow
    let html=&quot;&quot;;
    divRow.forEach(el=&gt; html+=el.outerHTML);
    document.querySelector(&quot;WHATEVER_SELECTOR_YOU_WANT&quot;).innerHTML = html
  }
}
</code></pre>
","2024-05-27 10:05:26","0","Answer"
"78538355","","Creating a grid using javascript without display:grid","<p>i'm currently working on an etch-a-sketch on the odin project. Here's the code I've come up with.</p>
<pre><code>const container = document.querySelector(&quot;.container&quot;);
const input = document.querySelector(&quot;input&quot;);
const submitBtn = document.querySelector(&quot;button&quot;);

function createGrid() {
    let value=input.value;
    for (let i = 0; i &lt; value; i++) {

        
        const createDivRow = document.createElement(&quot;div&quot;);
        createDivRow.classList.add(&quot;gridrow&quot;)
         createDivRow.textContent = i;
        container.appendChild(createDivRow);
    }
    
}

function createGridItems() {
    let value = input.value;
    for (let i = 0; i &lt; value; i++) {
        const divRow = document.querySelectorAll(&quot;.gridrow&quot;);
        const createDivItem = document.createElement(&quot;div&quot;);
        createDivItem.textContent = &quot;aa&quot;;
        divRow.appendChild(createDivItem);
    }
}

submitBtn.addEventListener(&quot;click&quot;, createGrid);
submitBtn.addEventListener(&quot;click&quot;, createGridItems);
</code></pre>
<p>In the createGrid() function, I aim to create n number of divs(n being the user input from an input textbox), which I have succeeded. The result was n number of divs with class=&quot;gridrow&quot; in the con†ainer.</p>
<p>In the createGridItems() function, I'd like to put the same number of divs &quot;n&quot; into each .gridrow row(which I've given the variable divRow).</p>
<p>I tried declaring <code>const divRow = document.querySelector(&quot;.gridRow&quot;)</code> and the result was n number of divs in the FIRST .gridrow div, which is almost what I wanted.</p>
<p>So, I figured I'd declare <code>const divRow = document.querySelectorAll(&quot;.gridrow&quot;)</code> to target all the .gridrow I've created and put n number of divs into EACH .gridrow div. As a result, all I got was just empty n number of .gridrow divs, without the divs that I want.</p>
<p>Can anyone tell me where I've gone wrong ? I was sure the code above would work because I've already targeted all the .divrow divs when I declare divRow = document.querySelectorAll(&quot;.gridrow&quot;).</p>
<p>Thank you!</p>
","2024-05-27 09:48:11","0","Question"
"78538302","","Problem while implementing a function in a conditional bash command using background operator (&)","<p>I'm working on a Bash script where I need to show a spinner animation function while checking if a specified Git remote exists. The script snippet for checking the Git remote is as follows:</p>
<pre><code>read remote_to_pull_from
if ! git remote show $remote_to_pull_from &amp;&gt;/dev/null; then
    echo &quot;Remote '$remote_to_pull_from' does not exist, exiting...&quot;
    return 1
fi
</code></pre>
<p>This snippet works correctly and checks if the remote exists. Now, I want to add a spinner function to show an animation while the git remote show command is running. The spinner function, credited to <a href=""https://stackoverflow.com/questions/47234947/spinner-animation-and-echo-command"">this</a> post, is as follows:</p>
<pre><code>spinner() {
    local PROC=&quot;$1&quot;
    local str=&quot;${2:-'Running...'}&quot;
    local delay=&quot;0.1&quot;
    tput civis  # hide cursor
    printf &quot;\033[1;34m&quot;
    while [ -d /proc/$PROC ]; do
        printf '\033[s\033[u[ / ] %s\033[u' &quot;$str&quot;; sleep &quot;$delay&quot;
        printf '\033[s\033[u[ — ] %s\033[u' &quot;$str&quot;; sleep &quot;$delay&quot;
        printf '\033[s\033[u[ \ ] %s\033[u' &quot;$str&quot;; sleep &quot;$delay&quot;
        printf '\033[s\033[u[ | ] %s\033[u' &quot;$str&quot;; sleep &quot;$delay&quot;
    done
    tput cnorm  # restore cursor
    return 0
}
</code></pre>
<p>I attempted to integrate the spinner with my conditional check using the approach mentioned in the Stack Overflow post, where the spinner animation is run in the background using a background operator (&amp;). Here is the code I used to get it running while my condition is being checked:</p>
<pre><code>read remote_to_pull_from
if ! git remote show $remote_to_pull_from &amp;&gt;/dev/null &amp; spinner $!; then
    echo &quot;Remote '$remote_to_pull_from' does not exist, exiting...&quot;
    return 1
fi
</code></pre>
<p>The spinner spins, but the condition fails, and the script echoes the error message, while without the spinner, the condition works correctly.</p>
<p>I'm expecting the spinner function to run while the git remote show command is executing, and if the remote doesn't exist, the script should echo the error message and exit. How can I correctly use this spinner function with my conditional check, I think I'm missing a logical step here and breaking the condition when mixing it with that function? How can I handle this? Additionally, can you explain the usage of $! in this context?
Thank you everyone.</p>
","2024-05-27 09:38:28","-1","Question"
"78537283","78536355","","<p>Well, this is completely <strong>implementation-defined</strong>. Let's ignore anything about optimization and explain this question according to <a href=""https://www.open-std.org/JTC1/SC22/WG14/www/docs/n3096.pdf"" rel=""nofollow noreferrer"">standard C</a>.</p>
<p>The first thing is that C standard specifies nothing about memory layout. So the implementations(i.e. somehow compilers) can choose any way to allocate memory space for objects(i.e. somehow variables) as long as they obey the lifetime constraint.</p>
<blockquote>
<p>The lifetime of an object is the portion of program execution during which storage is guaranteed to be reserved for it.</p>
</blockquote>
<p>Objects defined in a <code>if</code> statement(without <code>static</code> and <code>thread_local</code> specifier) have the &quot;automatic storage duration&quot;, whose lifetime starts from entering of the block and ends at leaving the block.</p>
<p>Therefore, the answer for &quot;whether the memory space for an automatic storage duration object is allocated ahead of time or just in time&quot; is completely depends on implementation.</p>
<p>In practice, &quot;local variables&quot; are often allocate ahead of time(even in ancient <code>x86</code> ISA, such as 8086). But for VLA, they can only be allocated just in time. If you really want to know the behavior under a specific implementation, just refer to its documentation(e.g. GCC's <a href=""https://gcc.gnu.org/onlinedocs/gcc-14.1.0/gcc/"" rel=""nofollow noreferrer"">user manual</a> and <a href=""https://gcc.gnu.org/onlinedocs/gccint/"" rel=""nofollow noreferrer"">internal document</a>).</p>
","2024-05-27 05:15:35","3","Answer"
"78536355","","Defining a variable inside an if condition and program doesn't enter","<p>In functions in C, I understand that the stack is normally used to store paramaters passed to a function, and for the local variables for the function. I know that this is compiler and platform-dependent as registers can also be used, but let's say that the stack is just used in this case.</p>
<p>Is space normally reserved on the stack for local variables regardless of where they get defined inside that function?</p>
<p>For example if we have an if condition in the function, and when it's true, variables are defined inside the if block. Will the push() operations only be called when entering the block, and pop() on leaving the block?</p>
<p>Or is it the case that space gets reserved on the stack for these variables regardless of whether the if condition is true or not?</p>
","2024-05-26 20:05:47","0","Question"
"78533909","78530399","","<p>Your function has a few issues:</p>
<ol>
<li><code>(type %in% names(codes))</code> this fails beacause returns a logical vector of size <code>length(codes)</code></li>
<li>Here <code>new_name = paste0(type, year, sep = &quot;_&quot;)</code> the code just pastes again the old name, besides using pasto0 instead of paste</li>
<li>the function needs  to be vectorized as it is.</li>
</ol>
<p>Try this:</p>
<pre><code>rename_vars &lt;- function(var_name) {
  var_name &lt;- sub(&quot;^x&quot;, &quot;&quot;, var_name)  # Remove the &quot;x&quot; prefix
  year &lt;- substr(var_name, 1, 4)  # Extract the year from the variable name
  type &lt;- substr(var_name, start = 6, stop = nchar(var_name)) # extract the line code
  # use any to reduce to boolean lenght one
  if (any(type %in% names(codes))) {
    # get mathcing code from code list
    type_name &lt;-  codes[[which(names(codes) == type)]]
    # paste it
    new_name &lt;-  paste(type_name, year, sep = &quot;_&quot;)
    return(new_name)
  } else {
    return(var_name) 
  }
}
</code></pre>
<p>Then vectorize:</p>
<pre><code>vrename_vars &lt;- Vectorize(rename_vars)
</code></pre>
<p>and test:</p>
<pre><code>     inc_rr %&gt;%
     rename_with(vrename_vars, starts_with(&quot;x&quot;)) %&gt;% colnames()
 [1] &quot;fips&quot;      &quot;geoname&quot;   &quot;region&quot;    &quot;tablename&quot;
 [5] &quot;inc_1969&quot;  &quot;pop_1969&quot;  &quot;emp_1969&quot;  &quot;wemp_1969&quot;
 [9] &quot;inc_1970&quot;  &quot;pop_1970&quot;  &quot;emp_1970&quot;  &quot;wemp_1970&quot;
</code></pre>
","2024-05-25 22:58:54","1","Answer"
"78530399","","Renaming varibles from key:value pair in R","<p>I am working with some publicly available employment data from the BEA (CAINC4 from this page: <a href=""https://apps.bea.gov/regional/downloadzip.cfm"" rel=""nofollow noreferrer"">https://apps.bea.gov/regional/downloadzip.cfm</a>). I reshaped the data to calculate employment rates, but the variable names are pretty messy. I tried to write a function to rename them based on key:value pairs, but have not had any success.</p>
<pre><code>library(ggplot2)
library(usmap)
library(readr)
library(dplyr)
library(stringr)
library(reshape2)
library(tidyr)
library(shiny)
library(cowplot)
library(plotly)


 inc_rr = structure(list(fips = c(&quot;01001&quot;, &quot;01003&quot;, &quot;01005&quot;, &quot;01007&quot;, &quot;01009&quot;, 
&quot;01011&quot;), geoname = c(&quot;Autauga, AL&quot;, &quot;Baldwin, AL&quot;, &quot;Barbour, AL&quot;, 
&quot;Bibb, AL&quot;, &quot;Blount, AL&quot;, &quot;Bullock, AL&quot;), region = c(5L, 5L, 
5L, 5L, 5L, 5L), tablename = c(&quot;CAINC4&quot;, &quot;CAINC4&quot;, &quot;CAINC4&quot;, 
&quot;CAINC4&quot;, &quot;CAINC4&quot;, &quot;CAINC4&quot;), x1969_10 = c(69973, 157191, 51130, 
29810, 69322, 22716), x1969_20 = c(25166, 56951, 23818, 14994, 
26411, 12554), x1969_7010 = c(6630, 20008, 9428, 4087, 7660, 
4370), x1969_7020 = c(5457, 14886, 7149, 3344, 4839, 3431), x1970_10 = c(77712, 
172745, 57657, 32551, 70070, 25439), x1970_20 = c(24606, 59474, 
22655, 13798, 26999, 11749), x1970_7010 = c(6853, 19749, 9448, 
3965, 7587, 4281), x1970_7020 = c(5650, 14713, 7323, 3259, 4891, 
3360)), row.names = c(NA, -6L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;
))

## Function for renaming data

# Write linecode dictionary
codes &lt;- list(
  inc = 10,
  pop = 20,
  emp = 7010,
  wemp = 7020
)

codes &lt;- list(
  &quot;10&quot; = &quot;inc&quot;,
  &quot;20&quot; = &quot;pop&quot;,
  &quot;7010&quot; = &quot;emp&quot;,
  &quot;7020&quot; = &quot;wemp&quot;
)

rename_vars &lt;- function(var_name) {
  var_name &lt;- sub(&quot;^x&quot;, &quot;&quot;, var_name)  # Remove the &quot;x&quot; prefix
  year &lt;- substr(var_name, 1, 4)  # Extract the year from the variable name
  type &lt;- substr(var_name, start = 6, stop = nchar(var_name)) # extract the line code

</code></pre>
<p>I am unsure which codes list to use, hence two being there. The end of the above block is as far as I get without errors. I want to write something like</p>
<pre><code>
rename_vars &lt;- function(var_name) {
  var_name &lt;- sub(&quot;^x&quot;, &quot;&quot;, var_name)  # Remove the &quot;x&quot; prefix
  year &lt;- substr(var_name, 1, 4)  # Extract the year from the variable name
  type &lt;- substr(var_name, start = 6, stop = nchar(var_name)) # extract the line code
  if (type %in% names(codes)) {
  new_name = paste0(type, year, sep = &quot;_&quot;)
return(new_name)
} else {
return(var_name) 
}

test &lt;- inc_rr %&gt;%
  rename_with(rename_vars, starts_with(&quot;x&quot;))
</code></pre>
<p>but this has not worked for me -- nothing changes in the variable names.</p>
<p>Example of variable names in reshaped data that I want to apply this function to:</p>
<p>x1969_10, x1969_7020, x1980_20, etc.. Years includes are 1969-2022, and I am only using the linecodes listed in the codes list. The basic idea is to have the function remove the &quot;x&quot; prefix, then store the year of the variable, match the code to its key pair, and rename each variable as key_year.</p>
","2024-05-24 19:40:19","0","Question"
"78529927","78529845","","<p>One possible solution could be using <a href=""https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Event"" rel=""nofollow noreferrer""><code>multiprocessing.Event</code></a> synchronization primitive to signal other process that it should exit, e.g.:</p>
<pre class=""lang-py prettyprint-override""><code>import sys
import time
from multiprocessing import Event, Process


def loop_a(evt):
    counter = 0

    while True:
        print(&quot;a&quot;)
        time.sleep(1)
        counter += 1
        if counter == 3:
            print(&quot;I want to stop the loop_b&quot;)
            evt.set()  # &lt;-- set the flag to be True to signal exit
            sys.exit()


def loop_b(evt):
    while not evt.is_set():
        print(&quot;b&quot;)
        time.sleep(1)


if __name__ == &quot;__main__&quot;:
    evt = Event()

    p1 = Process(target=loop_a, args=(evt,)).start()
    p2 = Process(target=loop_b, args=(evt,)).start()
</code></pre>
<p>Prints:</p>
<pre class=""lang-none prettyprint-override""><code>a
b
a
b
a
b
I want to stop the loop_b  # &lt;-- and the loob_b ends here too
</code></pre>
","2024-05-24 17:19:25","2","Answer"
"78529845","","Stop process from another process","<p>Hi guys I have two different processes running at the same time.
I'm trying to stop the other process which i have named loop_b
but I have only managed to stop the current process and the other doesn't stop</p>
<pre><code>from multiprocessing import Process
import time
import sys 


counter=0

def loop_a():
    global counter
    while True:
        print(&quot;a&quot;)
        time.sleep(1)
        counter+=1
        if counter==10:
            print(&quot;I want to stop the loop_b&quot;)
            sys.exit()
            #Process(target=loop_b).close()  -&gt; Also i tried this but not worked

def loop_b():
    while True:
        print(&quot;b&quot;)
        time.sleep(1)

if __name__ == '__main__':
    Process(target=loop_a).start()
    Process(target=loop_b).start()

</code></pre>
","2024-05-24 16:59:46","2","Question"
"78529792","78476748","","<p>Instead of sum you can use sigmoid, relu or something different and brute force your way into it, kindly check the official documentation of NEAT</p>
","2024-05-24 16:46:28","0","Answer"
"78528354","78525340","","<p>Two ways to solve your problem:</p>
<pre><code># solution 1: using double dot (..)
data[, c('CDID', ..variable)]

# solution 2: using data.table programming interface
data[, c('CDID', variable), env=list(variable = I(variable))]
</code></pre>
","2024-05-24 11:44:16","3","Answer"
"78528236","78528209","","<p>Spread <code>...</code> your arguments Array:</p>
<pre class=""lang-js prettyprint-override""><code>var funcList = {
  &quot;0abc1&quot;: { fn: &quot;myFunc1&quot;, args: [&quot;red&quot;, &quot;green&quot;]},
  &quot;1def2&quot;: { fn: &quot;myFunc2&quot;, args: [&quot;blue&quot;]}
};

const func = funcList[&quot;0abc1&quot;];
window[func.fn](...func.args);
</code></pre>

","2024-05-24 11:23:03","0","Answer"
"78528209","","Pass function name and multiple params as string","<p>I have an object of functions id, names and parameters.</p>
<p>I want to call the object with an id, that will execute the corresponding function by its string name and passes the associated array parameters.</p>
<pre><code>var funcList = {
  &quot;0abc1&quot;: {
    fn: &quot;myFunc1&quot;,
    args: [&quot;red&quot;, &quot;green&quot;]

  },
  &quot;1def2&quot;: {
    fn: &quot;myFunc2&quot;,
    args: [&quot;blue&quot;]

  }
};


  const func = funcList[&quot;0abc1&quot;];
  const funcName = func.fn;
  const funcParams = func.args;

  window[funcName](funcParams.toString());
</code></pre>
<p>When the function has one parameter it works. But doesen't work with multiple parameters.
Is there a better way to implemented it or correct it ?</p>
","2024-05-24 11:18:12","0","Question"
"78527807","78525340","","<p>Here are two alternatives:</p>
<pre><code>DT[, .SD, .SDcols = c(&quot;CDID&quot;, variable)]
DT[, mget(c(&quot;CDID&quot;, variable))]
</code></pre>
","2024-05-24 09:59:21","0","Answer"
"78527059","78520180","","<p>@DalikaPrasnikar gave a <a href=""https://www.tmssoftware.com/site/blog.asp?post=744"" rel=""nofollow noreferrer"">great link</a> in the comments regarding <code>async</code> in TMS WEB Core.</p>
<p>Turns out that I simply had to wrap my call to <code>MyAsyncFunction</code> in an <code>Await</code> function like this:</p>
<pre><code>if Await(MyAsyncFunction) then
begin
  // Do Stuff
end;
</code></pre>
<p>And then it works</p>
<p>But you need to mark the method you're calling from as <code>[async]</code> as well otherwise you'll get an <code>await only available in async procedure</code> error.</p>
","2024-05-24 07:24:49","0","Answer"
"78525940","78524845","","<p>So it's hard to know exactly your question when you dont show the component itself. here is an example of using hooks to make a request. In this example i have 2 hooks, one that makes a fetch request on initial render and the other based on the change of a state variable (in your case it would be the form)</p>
<p>app.tsx</p>
<pre><code>import { useEffect, useState } from &quot;react&quot;;
import { useGetPlanets } from &quot;./useGetPlanets&quot;;
import { useGetDataFromUrl } from &quot;./useGetDataFromUrl&quot;;

export default function App() {
  const [selectedPlanet, setSelectedPlanet] = useState&lt;Record&lt;string, any&gt;&gt;({});

  // Both hooks must remain consistently triggered on all renders. meaning between update of state both hooks must be triggered. you can pass in state to avoid over fetching

  const planetsData = useGetPlanets();
  const selectedPlanetData = useGetDataFromUrl(selectedPlanet?.url);

  return (
    &lt;main&gt;
      &lt;h3&gt;{selectedPlanetData?.name}&lt;/h3&gt;
      &lt;ul&gt;
        {planetsData.map((planet: any, i: number) =&gt; {
          return (
            &lt;li
              key={planet.name + i}
              style={{ cursor: &quot;pointer&quot; }}
              onClick={() =&gt; setSelectedPlanet(planet)}
            &gt;
              {planet.name}
            &lt;/li&gt;
          );
        })}
      &lt;/ul&gt;
    &lt;/main&gt;
  );
}

</code></pre>
<p>useGetPlanets.ts</p>
<pre><code>import { useEffect, useState } from &quot;react&quot;;

export const useGetPlanets = () =&gt; {
  const [planetsData, setPlanetsData] = useState([]);
  const fetchPlanets = async () =&gt; {
    const res = await fetch(&quot;https://swapi.dev/api/planets/&quot;, {
      method: &quot;GET&quot;,
    });
    const data = await res.json();
    setPlanetsData(data?.results);
  };

  useEffect(() =&gt; {
    fetchPlanets();
  }, []);

  return planetsData;
};
</code></pre>
<p>useGetDataFromUrl.ts</p>
<pre><code>import { useEffect, useState } from &quot;react&quot;;

const useGetDataFromUrl = (url: string) =&gt; {
  const [data, setData] = useState&lt;Record&lt;string, any&gt;&gt;({});
  const fetchDataByUrl = async () =&gt; {
    try {
      const res = await fetch(url, {
        method: &quot;GET&quot;,
      });
      if (!res.ok) throw new Error(&quot;Fetch Error!&quot;);
      const data = await res.json();

      setData(data);
    } catch (err) {
      console.error(&quot;Error:&quot;, err);
    }
  };

  useEffect(() =&gt; {
    fetchDataByUrl();
  }, [url]);

  return data;
};
</code></pre>
<p>i would NOT recommend this approach in an application so superficially constructed as it will trigger the fetch on every re-render. put in conditions to prevent this. but hopefully this puts you on the right track as to re-using async/await and state in hook</p>
","2024-05-23 23:34:12","0","Answer"
"78525822","78525740","","<p>You create new functions for the event handlers every time you execute <code>inOutHover</code> thus you don't remove event listeners since you pass a different (new) event listener to remove.</p>
<p>So you should have only 1 instance of each event handler, you can do that this way:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let clickFuera = true, manejadorEventoClick, manejadorEventoMovMouse;

function inOutHover(idDivCard, isHover, idPoligono) {
  const divCard = document.getElementById(idDivCard);
  const poligono = document.getElementById(idPoligono);

  manejadorEventoMovMouse ??= function(e) {
    divCard.style.left = e.pageX + 40 + ""px"";
    divCard.style.top = e.pageY + 5 + ""px"";
  };

  manejadorEventoClick ??= function() {
    if (clickFuera) {
      document.removeEventListener(""mousemove"", manejadorEventoMovMouse);
      divCard.manejadorEventoMovMouse = null;
      divCard.style.display = ""block"";
      clickFuera = false;
      console.log(""The first click has been made  = "" + clickFuera);
    } else {
      poligono.removeEventListener(""click"", manejadorEventoClick);
      divCard.style.display = ""none"";
      clickFuera = true;
      console.log(""The second click has been made = "" + clickFuera);
    }
  };

  if (isHover) {
    divCard.manejadorEventoMovMouse = manejadorEventoMovMouse;
    document.addEventListener(""mousemove"", divCard.manejadorEventoMovMouse);
    poligono.addEventListener(""click"", manejadorEventoClick);
    divCard.style.display = ""block"";
  } else {
    if (divCard.manejadorEventoMovMouse) {
      document.removeEventListener(""mousemove"", divCard.manejadorEventoMovMouse);
      divCard.manejadorEventoMovMouse = null;
    }
    divCard.style.display = ""none"";
    poligono.removeEventListener(""click"", manejadorEventoClick);
  }
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>body {
  font-family: Arial, sans-serif;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f0f0f0;
  margin: 0;
}

.poligono {
  width: 100px;
  height: 100px;
  background-color: #3498db;
  cursor: pointer;
}

.divCard {
  display: none;
  position: absolute;
  background-color: #fff;
  border: 1px solid #ccc;
  padding: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;body&gt;
  &lt;div id=""poligono"" class=""poligono"" onmouseover=""inOutHover('divCard', true, 'poligono')"" onmouseout=""inOutHover('divCard', false, 'poligono')""&gt;&lt;/div&gt;
  &lt;div id=""divCard"" class=""divCard""&gt;This is a card&lt;/div&gt;

  &lt;script src=""script.js""&gt;&lt;/script&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
</p>
","2024-05-23 22:30:49","0","Answer"
"78525740","","Is it possible to nest multiple events in javascript?","<p>As a newcomer to JavaScript, I find this function intriguing, though I'm not entirely sure why it's designed the way it is. At times, it seems to achieve its intended purpose of keeping the div visible and in the same position when clicking another div, until clicking back on the original one. However, I'm puzzled by the intermittent behavior where the messages &quot;The second click has been made =&quot; and &quot;The first click has been made = &quot; are printed seemingly as if the if conditional is not being respected, even when only one click is made. Despite this confusion, I appreciate that the function appears well-designed and capable of fulfilling its objective under certain conditions.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let clickFuera = true;

function inOutHover(idDivCard, isHover, idPoligono) {
  const divCard = document.getElementById(idDivCard);
  const poligono = document.getElementById(idPoligono);

  const manejadorEventoMovMouse = function(e) {
    divCard.style.left = e.pageX + 40 + ""px"";
    divCard.style.top = e.pageY + 5 + ""px"";
  };

  const manejadorEventoClick = function() {
    if (clickFuera) {
      document.removeEventListener(""mousemove"", manejadorEventoMovMouse);
      divCard.manejadorEventoMovMouse = null;
      divCard.style.display = ""block"";
      clickFuera = false;
      console.log(""The first click has been made  = "" + clickFuera);
    } else {
      poligono.removeEventListener(""click"", manejadorEventoClick);
      divCard.style.display = ""none"";
      clickFuera = true;
      console.log(""The second click has been made = "" + clickFuera);
    }
  };

  if (isHover) {
    divCard.manejadorEventoMovMouse = manejadorEventoMovMouse;
    document.addEventListener(""mousemove"", divCard.manejadorEventoMovMouse);
    poligono.addEventListener(""click"", manejadorEventoClick);
    divCard.style.display = ""block"";
  } else {
    if (divCard.manejadorEventoMovMouse) {
      document.removeEventListener(""mousemove"", divCard.manejadorEventoMovMouse);
      divCard.manejadorEventoMovMouse = null;
    }
    divCard.style.display = ""none"";
    poligono.removeEventListener(""click"", manejadorEventoClick);
  }
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>body {
  font-family: Arial, sans-serif;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f0f0f0;
  margin: 0;
}

.poligono {
  width: 100px;
  height: 100px;
  background-color: #3498db;
  cursor: pointer;
}

.divCard {
  display: none;
  position: absolute;
  background-color: #fff;
  border: 1px solid #ccc;
  padding: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;body&gt;
  &lt;div id=""poligono"" class=""poligono"" onmouseover=""inOutHover('divCard', true, 'poligono')"" onmouseout=""inOutHover('divCard', false, 'poligono')""&gt;&lt;/div&gt;
  &lt;div id=""divCard"" class=""divCard""&gt;This is a card&lt;/div&gt;

  &lt;script src=""script.js""&gt;&lt;/script&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
</p>
<p>I've attempted to review the code and ensure that the events are properly executed, but I'm still perplexed by the inconsistent behavior. Sometimes it seems to work as expected, while other times it doesn't. It's been a challenge to pinpoint the exact reason behind this variability. Despite my efforts to understand and debug the code, I'm left wondering why it functions correctly on some occasions but fails to do so on others.</p>
","2024-05-23 22:04:00","0","Question"
"78525616","78522520","","<p>It is impossible to provide a definitive answer with virtually no information given. (<em>select something where contition</em> literally tells nothing). However a generate template can be guessed at. Generally, a sequence of <em>IF</em> conditions combine in SQL into a set of OR conditions. You would get something like:</p>
<pre><code>create or replace function checkUsers(userId integer)
    returns boolean
   language sql
as $$
    select exists( select null 
                     from someTable 
                    where stId = userId 
                      and (   condition1 is not null
                           or condition2 is not null
                           or condition3 is not null
                           or condition4 is not null
                          )
                 );
 $$;
</code></pre>
<p>The above of course makes assumption about conditions, the source of the conditions, and the use of the function's parameter. (See <a href=""https://dbfiddle.uk/b2wUqcaM"" rel=""nofollow noreferrer"">demo</a>)</p>
","2024-05-23 21:22:41","0","Answer"
"78525340","","Why my code that select two variables from a data.table does not work","<p>I have a data.table called data, which has variables CDID and A9ER + some other vars.</p>
<p>I run a simple code:</p>
<pre><code>variable &lt;- 'A9ER'

data &lt;- data[, c('CDID', variable)]
</code></pre>
<p>which results in data turns into chr[1:2] &quot;CDID&quot; &quot;A9ER&quot;</p>
<p>while if I do</p>
<pre><code>data &lt;- data[, c('CDID', 'A9ER')]
</code></pre>
<p>I get data is data.table with 2 vars?</p>
<p>What am I doing wrong in the first case? Should not the result be the same</p>
<p>I am writing a function that selects the variable CDID and one other variable of my choice among 4054 variables. I got stuck with the first step which does not actually select variables that I want, but wipes out the whole dataset and makes it a character.</p>
","2024-05-23 20:03:50","0","Question"
"78524845","","Is it possible to create a reusable function in Reactjs","<p>I would like to create a reusable function in a standalone JavaScript file that I could use to send two parameters in the form of a json to an API, using the GET method, which would return a json file that I could use in my home.js file. I'm thinking this can be done, but not sure how or if their is a better way.  I would love to know what the best practice is in Reactjs to do this is.</p>
<p>This is the request json:</p>
<pre><code>{ &quot;exam_id&quot;: 1, &quot;question_id&quot;: 22 }
</code></pre>
<p>This the expected returned json:</p>
<pre><code>[
    {
        &quot;Choice_1&quot;: &quot;choice 1&quot;,
        &quot;Choice_2&quot;: &quot;choice 2&quot;,
        &quot;Choice_3&quot;: &quot;choice 3&quot;,
        &quot;Choice_4&quot;: &quot;choice 4&quot;,
        &quot;Choice_5&quot;: &quot;choice 5&quot;,
        &quot;Question&quot;: &quot;This field represents the question to be asked.&quot;,
        &quot;QuestionID&quot;: 22,
        &quot;Scenario&quot;: &quot;something needed to expand on the question asked.&quot;,
        &quot;Answer&quot;: &quot;correct answer for question.&quot;
    }
]
</code></pre>
<p>My current working environment and versions:</p>
<ol>
<li>windows OS</li>
<li>MS VSCode IDE</li>
<li>react: 18.3.1</li>
<li>npm: 10.8.0</li>
<li>npx: 10.8.0</li>
</ol>
<p>I've created the following but it is not working yet.
Which is why I am here asking questions.</p>
<p>file name: Question.js
contents:</p>
<pre><code>import React from 'react';

function GetQuestion() {
    
    const fetchData = async () =&gt; {
        const request_url = 'http://127.0.0.1:5000/exam/question';
        const request_json= '{&quot;exam_id&quot;: '+{exam_id}+', &quot;question_id&quot;: '+{question_id}+'}';
        const request={request_url} + '?' + {request_json};
        const response = await fetch(request);
        const response_data = await response.json();
        setData(response_data);
    };

    return fetchData()
}

export default GetQuestion;
</code></pre>
","2024-05-23 18:04:53","-1","Question"
"78522691","78522238","","<blockquote>
<p><strong>You can try:</strong></p>
</blockquote>
<pre><code>function setDailyTrigger() {
  // Delete any existing daily trigger
  deleteDailyTrigger();
  
  // Set a new daily trigger to run at midnight
  ScriptApp.newTrigger('resetPeriodicTriggers')
    .timeBased()
    .atHour(0)
    .everyDays(1)
    .create();
}

function deleteDailyTrigger() {
  var triggers = ScriptApp.getProjectTriggers();
  for (var i = 0; i &lt; triggers.length; i++) {
    if (triggers[i].getHandlerFunction() == 'resetPeriodicTriggers') {
      ScriptApp.deleteTrigger(triggers[i]);
    }
  }
}

function resetPeriodicTriggers() {
  // Delete any existing periodic triggers
  deleteExistingPeriodicTriggers();
  // Set new periodic triggers
  setPeriodicTriggers();
}

function deleteExistingPeriodicTriggers() {
  var triggers = ScriptApp.getProjectTriggers();
  for (var i = 0; i &lt; triggers.length; i++) {
    if (triggers[i].getHandlerFunction() == 'NewsletterHTML') {
      ScriptApp.deleteTrigger(triggers[i]);
    }
  }
}

function setPeriodicTriggers() {
  var startTime = new Date();
  startTime.setHours(7); // Set the preferable start time
  startTime.setMinutes(45);
  startTime.setSeconds(0);

  var endTime = new Date();
  endTime.setHours(23); // Set the preferable end time
  endTime.setMinutes(45);
  endTime.setSeconds(0);

  var intervalMinutes = 120; // Set the interval in minutes

  var currentTime = new Date();
  var nextRunTime = new Date();
  nextRunTime.setTime(Math.ceil(currentTime.getTime() / (intervalMinutes * 60 * 1000)) * (intervalMinutes * 60 * 1000));

  if (nextRunTime &lt; startTime) {
    nextRunTime = startTime;
  }

  while (nextRunTime &lt;= endTime) {
    ScriptApp.newTrigger('NewsletterHTML')
      .timeBased()
      .at(nextRunTime)
      .create();

    nextRunTime.setTime(nextRunTime.getTime() + (intervalMinutes * 60 * 1000));
  }
}

function NewsletterHTML() {
  // Your NewsletterHTML function logic here
}
</code></pre>
<blockquote>
<p><strong>How to Use:</strong></p>
</blockquote>
<ol>
<li>Run the setDailyTrigger function manually to set up the initial
daily trigger.</li>
<li>The daily trigger will run resetPeriodicTriggers every day at
midnight, ensuring your periodic triggers are recreated fresh each
day.</li>
</ol>
","2024-05-23 11:07:02","0","Answer"
"78522520","","Multiple if exists in PSQL function","<p>I have code like that, I'm thinign if there is a better way to write it?</p>
<pre class=""lang-sql prettyprint-override""><code>create or replace FUNCTION &quot;catalog&quot;.&quot;checkUsers&quot;(userID integer)
    RETURNS bool
    AS $$
DECLARE 
  v1 bool = false;
 
BEGIN
    if exists (
          SELECT * from Table1
          where condition1 )
     then
    v1 = true;
    end if;

    if exists (
          SELECT * from Table2
          where condition2 )
     then
    v1 = true;
    end if;

    if exists (
          SELECT * from Table3
          where condition3 )
     then
    v1 = true;
    end if;

    if exists (
          SELECT * from Table4
          where condition4 )
     then
    v1 = true;
    end if;

    RETURN v1;
END
</code></pre>
<p>I want to refactor it because I'm not sure if the code is written in a clean way.</p>
","2024-05-23 10:36:26","0","Question"
"78522238","","Google Scripts, script disabled","<p>I am new to writing some scripts. I have this function right here, that i created. It always comes with an interval of 2 hours. Everytime, that the trigger was used, it gets disabled. I have to delete them and start them again. Is there a way to re-enable the scripts, or to delete and recreate them daily?</p>
<p>They always have to come at the certain time.</p>
<p>I used the script below:</p>
<pre><code>function setTriggerNL() {
  var startTime = new Date();
  startTime.setHours(7); //Allows to set a preferable time to start
  startTime.setMinutes(45);
  startTime.setSeconds(0);

  var endTime = new Date();
  endTime.setHours(23); //Allows to set a preferable time to end
  endTime.setMinutes(45);
  endTime.setSeconds(0);

  var intervalMinutes = 120; //Works with a 120 Minutes interval 

  var currentTime = new Date();
  var nextRunTime = new Date();
  nextRunTime.setTime(Math.ceil(currentTime.getTime() / (intervalMinutes * 60 * 1000)) * (intervalMinutes * 60 * 1000));

  if (nextRunTime &lt; startTime) {
    nextRunTime = startTime;
  }

  while (nextRunTime &lt;= endTime) {
    ScriptApp.newTrigger('NewsletterHTML')
      .timeBased()
      .at(nextRunTime)
      .create();

    nextRunTime.setTime(nextRunTime.getTime() + (intervalMinutes * 60 * 1000));
  }
}
</code></pre>
","2024-05-23 09:47:31","0","Question"
"78520406","78520362","","<pre><code>DATA |&gt;
  filter(stringr::str_length(IN) == 5)

#  ID    IN
#1  6 00441
</code></pre>
<p>where</p>
<pre><code>DATA &lt;- read.table(header=TRUE, colClasses = &quot;character&quot;, text=&quot;
ID  IN
1   012
2   1234
3   222222
4   1359764
5   123
6   00441&quot;)

&gt; DATA
  ID      IN
1  1     012
2  2    1234
3  3  222222
4  4 1359764
5  5     123
6  6   00441
</code></pre>
","2024-05-22 23:51:12","0","Answer"
"78520394","78520362","","<p>A base R using <code>subset</code></p>
<pre><code>&gt; subset(DATA, subset = nchar(IN)==5)
  ID    IN
6  6 00441
</code></pre>
<p>Using <code>[</code></p>
<pre><code>&gt; DATA[with(DATA, nchar(IN)==5), ]
  ID    IN
6  6 00441
</code></pre>
<p>Using dplyr´s <code>filter</code> without creating a new variable:</p>
<pre><code>&gt; filter(DATA, nchar(IN) == 5)
  ID    IN
1  6 00441
</code></pre>
","2024-05-22 23:43:42","0","Answer"
"78520380","78520362","","<p>How about this?</p>
<pre><code>DATA &lt;- read.table(header=TRUE, colClasses = c(&quot;character&quot;, &quot;character&quot;), text=&quot;
ID  IN
1   012
2   1234
3   222222
4   1359764
5   123
6   00441&quot;)

DATA %&gt;% mutate(num_chars = nchar(IN)) %&gt;% filter(num_chars == 5)
</code></pre>
","2024-05-22 23:33:42","0","Answer"
"78520362","","How to filter out numbers with n digits in a dataframe in R?","<p>In my <code>DATA</code> below, I'm trying to <code>subset()/dplyr::filter()</code> the <code>IN</code>s that are 5 digits long.</p>
<p>I'm using the following without success. Is there a better solution?</p>
<p>Tried: <code>subset(DATA, nchar(sub('\\.[0-9]+', '', as.character(DATA$IN)))==5)</code></p>
<pre><code>DATA &lt;- read.table(header=TRUE, text=&quot;
ID  IN
1   012
2   1234
3   222222
4   1359764
5   123
6   00441&quot;)
</code></pre>
","2024-05-22 23:21:06","3","Question"
"78520213","78520182","","<p>You can pass <code>this</code> (refers to the element that triggered the event) to <code>random()</code> as an argument called <code>button</code>, then it works fine:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;html&gt;
&lt;body&gt;

&lt;form onsubmit=""onSubmit(this, event)""&gt;
&lt;p id=""one""&gt;&lt;/p&gt;
&lt;input id=""random"" name=""random"" type=""hidden""&gt;
&lt;button type=""button"" onclick=""generateRandom(this)"";&gt;Generate&lt;/button&gt;
&lt;button&gt;Submit&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
function generateRandom(button){
  document.getElementById('random').value = document.getElementById(""one"").innerHTML = Math.floor(Math.random() * 999999);
  button.style.display = 'none';
}
function onSubmit(form, event){
  event.preventDefault();
  console.log(...new FormData(form).entries());
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</p>
","2024-05-22 22:18:36","2","Answer"
"78520182","","Make Form Field Random Number Generator Button Disappear When Clicked","<p>I want to incorporate a random number generator into a user form field.</p>
<p>Then... I need the button disappear after it is clicked, so the user can only generate one number.</p>
<p>I have two codes I have been trying to merge, and just can't seem to get it working.</p>
<p>Any guidance in merging the two (or something else) to achieve what I am trying to do would be helpful.</p>
<p>The first code is the Random Number Generator. Which is fine for generating a random number, but I need that number to appear in a form field.</p>
<p>The second code is a basic 'Disappearing Button' code example.</p>
<p>RANDOM NUMBER GENERATOR:</p>
<pre><code>&lt;html&gt;
&lt;body&gt;

&lt;p id=&quot;one&quot;&gt;&lt;/p&gt;

&lt;button onclick=&quot;random()&quot;;&gt;Generate&lt;/button&gt;

&lt;script&gt;

 function random(){

document.getElementById(&quot;one&quot;).innerHTML = Math.floor(Math.random() * 999999);
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>DISAPPEARING BUTTON CODE:</p>
<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;

 var Text = 'Random Number';

    function setInput(button) {
       var buttonVal = button.name,
       textbox = document.getElementById('input_' + buttonVal);
       textbox.value = Text ;
       button.style.display = 'none';
    }
&lt;/script&gt;

&lt;html&gt;
  
  &lt;input class='input' id=&quot;input_a1&quot; name=&quot;a1&quot; value=&quot;&lt;?php {echo $a1;} ?&gt;&quot;&gt; 
  &lt;input type='submit' name='a1' value='x' onclick='setInput(this); return false;'&gt;
&lt;/html&gt;
</code></pre>
<p>I tried several things, such as...</p>
<pre><code>&lt;html&gt;
&lt;body&gt;

&lt;p id=&quot;one&quot;&gt;&lt;/p&gt;

&lt;button onclick=&quot;random()&quot;;&gt;Generate&lt;/button&gt;

&lt;script&gt;

 function random(){

document.getElementById(&quot;one&quot;).innerHTML = Math.floor(Math.random() * 999999);
button.style.display = 'none';
}
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>No luck. :(</p>
","2024-05-22 22:04:54","1","Question"
"78520180","","How to call an async function in TMS WEB Core?","<p>I've got a simple function in Delphi that is marked as an <code>[async]</code> function.</p>
<p>Currently, the function doesn't do anything. It literally just returns a <code>Boolean</code> value of <code>True</code>:</p>
<pre><code>[async]
function MyAsyncFunction(): Boolean;

implementation

function MyAsyncFunction(): Boolean;
begin
  Result := True;
end;
</code></pre>
<p>But then every time I try to use the function like:</p>
<pre><code>if MyAsyncFunction then
begin
  // Do Stuff
end;
</code></pre>
<p>then I get the following error:</p>
<blockquote>
<p>[Error] Boolean expected, but Context found</p>
</blockquote>
<p>What is <code>Context</code> and what is the correct way to call an <code>async</code> function in TMS WEB Core using Delphi?</p>
","2024-05-22 22:04:15","0","Question"
"78519785","78519772","","<p>You can use <code>[[</code></p>
<pre><code>test &lt;- function(x) {
    dat[[as.character(x)]]
}
</code></pre>
<p>or <code>get</code></p>
<pre><code>test &lt;- function(x) {
    get(as.symbol(x), dat)
}
</code></pre>
<p>such that</p>
<pre><code>&gt; test(1)
[1] 1 2 3 4 5
</code></pre>
","2024-05-22 20:05:03","3","Answer"
"78519772","","How can I build a function in R that will take a numerical variable as a column name?","<p>I am trying to create a function that will use a number it is passed as a column name for a dataframe. This sounds sort of silly because normally I wouldn't use numbers as column names, but in this case I'm actually trying to work with a BchronCalibratedDates object produced by the Bchron package, and it is a nested list named after the sample ID, which is usually a number.</p>
<p>Anyway, a simple reproducible example of what I'm trying to do would be something like:</p>
<pre><code>a &lt;- 1:5
dat &lt;- tibble(&quot;1&quot; = a, &quot;2&quot; = a*2)

test &lt;- function(x) {
dat$&quot;x&quot;
}
</code></pre>
<p>Where I could then call <code>test(1)</code> and get an output of <code>[1] 1 2 3 4 5</code>.</p>
<p>When I run this code now, it returns NULL with a warning message &quot;Unknown or uninitialized column: 'x'.&quot; How can I fix this?</p>
","2024-05-22 20:02:46","1","Question"
"78518515","78514833","","<p>This is untested because you haven't given us a reproducible example, but the solution to your problem is <strong>probably</strong> along the lines of:</p>
<pre class=""lang-r prettyprint-override""><code>## convert variables specified as symbols (t, g) to strings
p_t &lt;- deparse(substitute(p_t))
p_g &lt;- deparse(substitute(p_g))

...

## create formula based on these strings
ff &lt;- reformulate(paste(p_t, p_g, sep = &quot;|&quot;))

## call emmeans
emmeans(ff, ...)
emmip(ff, ...)
</code></pre>
<p>This is all a little bit tricky/clunky because we're doing <strong>non-standard evaluation</strong>, working with symbols rather than quoted strings. In this code I go from a symbol defined within the function (<code>p_t</code>) to the symbols that were passed as an argument to the function (<code>substitute()</code>), to a string representation of those symbols (<code>deparse</code>). We work with those strings (<code>paste</code>) and then convert them back to a formula (<code>reformulate</code>), which is again a symbolic representation ...</p>
<p>It might be possible to skip a couple of these steps (e.g. working with <code>quote()</code> or <code>bquote()</code>, but I think this slightly clunky way is easier to understand.</p>
","2024-05-22 15:14:55","0","Answer"
"78518252","78518194","","<blockquote>
<p>Are there any more differences between the two?</p>
</blockquote>
<p>Yes, for one function static variable have <strong>local/block scope</strong> while class static member have <strong>class-scope</strong>.</p>
<p>That is, the difference is that they have different scopes.</p>
","2024-05-22 14:27:34","1","Answer"
"78518194","","Whats the difference between static variables inside functions and static data members in classes?","<p>I am new to C++ and currently reading Bjarne Stroustrup's &quot;Principle and Practice using C++&quot;. In chapter 8.6.2 about why global variables are bad, he gives the following example which can solve the problem of static initialization fiasco:</p>
<blockquote>
<pre><code>const Date&amp; default_date()
{
     static const Date dd(1970,1,1);        // initialize dd first time we get here
     return dd;
} 
</code></pre>
<p>The static local variable is initialized (constructed) only the first time its function is called. Note that we returned a reference to eliminate unnecessary copying and, in particular, we returned a const reference to prevent the calling function from accidentally changing the value.</p>
</blockquote>
<p>Some time after, I was reading in <a href=""https://stackoverflow.com/a/57387509/20554684"">this StackOverflow post</a> about static data members in classes:</p>
<blockquote>
<p>Static members exist before any object is created, that is what makes them static. Therefore their initialization does not happen on first instance, they are there already.</p>
<p>They are actually global variables within a class scope.</p>
<p>That said, you can use the inline modifier to initialize them inside the class without an out of class declaration.</p>
</blockquote>
<p>From this, I take it that static variables defined inside a function and class definition have different properties? For example, that the static variable inside the function is defined the first time the function is executed, while a static variable inside a class is defined before any objects are created/when class definition is read by the compiler.</p>
<p>Are there any more differences between the two?</p>
","2024-05-22 14:18:50","1","Question"
"78516917","78511801","","<p>Drain Mode is a feature of the Azure Functions with Consumption and Premium plans to enable graceful scale-in of workers with minimal impact on executing function invocations.</p>
<ul>
<li><p>Azure Functions uses <em><strong>Scale Controller</strong></em> which decides the scaling behavior and monitor the rate of events.</p>
</li>
<li><p>Drain mode in Azure Functions is designed for a graceful shutdown of the function host up to Functions timeout periods by completing the inflight invocations and stops listening for new events from triggering sources.</p>
</li>
<li><p>Drain mode comes into picture where a worker was signaled to shut down but continues to process new events or when the scale controller decides to scale down a worker.</p>
</li>
</ul>
<p>When it sends a request to the Admin API to enter drain mode, the host will Stop listening for new requests and all the executing Functions on that instance will receive a cancellation token which can be handled further.</p>
<p><strong>Code to handle <a href=""https://learn.microsoft.com/en-us/azure/azure-functions/functions-dotnet-class-library?tabs=v4,cmd#cancellation-tokens"" rel=""nofollow noreferrer"">cancellation token</a> in Azure functions:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>try
  { 
  foreach (var message in messages)
     {
         if (cancellationToken.IsCancellationRequested)
            {
                log.LogInformation(&quot;A cancellation token was received. Taking precautionary actions.&quot;);
                log.LogInformation(&quot;Precautionary activities --complete--.&quot;);
                break;
            }
         else
            {
                //logic
                log.LogInformation($&quot;Message: {message} was processed.&quot;);
            }
         }
  }
catch (Exception ex)
  {
   log.LogInformation($&quot;Something unexpected happened: {ex.Message}&quot;);
  }
</code></pre>
<p>The Azure Function listeners would be stopped as well when all the currently executing invocations have stopped and ensures that the worker is shutting down and doesn’t handle any new invocations.</p>
<p>In case of premium plan, the function app instances will be dynamically added and removed based on load of incoming requests.</p>
<p><strong>References:</strong></p>
<p><a href=""https://learn.microsoft.com/en-us/answers/questions/1403751/in-a-middle-of-running-a-durable-function-i-get-a"" rel=""nofollow noreferrer"">DrainMode mode enabled</a></p>
","2024-05-22 10:32:12","0","Answer"
"78515533","78514513","","<p>In Scala, you cannot declare a <code>Seq</code> with <code>[...]</code>.</p>
<p>Change to:</p>
<pre class=""lang-scala prettyprint-override""><code>df.melt(preserves=Seq(&quot;ID&quot;), ...)
</code></pre>
","2024-05-22 05:53:16","1","Answer"
"78515188","78515115","","<p>Note that this method assumes either CPct <em>or</em> EPct is NA:</p>
<pre><code>library(dplyr)
library(tidyr)

DATA &lt;- read.table(header=T, text=
                     &quot;InstNm    OTE_CPct OTE_L OTE_P    OTE_R      RAE_EPct RAE_NPct RAE_L RAE_B RAE_P  RAE_R
 Baker          60      1     1  Limited            56     76     1     0     1   Limited&quot;)

DATA |&gt;
  pivot_longer(-InstNm, names_sep = &quot;_&quot;, names_to = c(&quot;Indicator&quot;, &quot;.value&quot;)) |&gt;
  unite(CPct_EPct, c(&quot;CPct&quot;, &quot;EPct&quot;), na.rm = TRUE) |&gt;
  rename(Rating = &quot;R&quot;) |&gt;
  relocate(InstNm, Indicator, Rating, NPct, CPct_EPct, L, P, B)
  
# # A tibble: 2 × 8
#   InstNm Indicator Rating   NPct CPct_EPct     L     P     B
#   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt;
# 1 Baker  OTE       Limited    NA 60            1     1    NA
# 2 Baker  RAE       Limited    76 56            1     1     0
</code></pre>
","2024-05-22 03:23:24","1","Answer"
"78515115","","How to merge two columns when long-formatting data frame in R","<p>Below, I'm can use <code>tidyr::pivot_longer(DATA, -InstNm, names_sep = &quot;_&quot;, names_to = c(&quot;Indicator&quot;, &quot;.value&quot;))</code> to get <strong>very close to my <code>Desired_output</code>.</strong></p>
<p>But I wonder how I can <strong>exactly</strong> achieve my <code>Desired_output</code> where <code>CPct</code> and <code>EPct</code> are merged as one column called <code>CPct_EPct</code>?</p>
<pre><code>DATA &lt;- read.table(header=T, text=
&quot;InstNm    OTE_CPct OTE_L OTE_P    OTE_R      RAE_EPct RAE_NPct RAE_L RAE_B RAE_P  RAE_R
 Baker          60      1     1  Limited            56     76     1     0     1   Limited&quot;)

Desired_output &lt;- read.table(header=T, text=
&quot;InstNm    Indicator Rating   NPct  CPct_EPct  L   P  B
 Baker     OTE      Limited    NA        60    1   1  NA
 Baker     RAE      Limited    76        56    1   1  0&quot;)
</code></pre>
","2024-05-22 02:49:26","1","Question"
"78515029","78514974","","<pre><code>DATA |&gt;
  tidyr::pivot_longer(-InstNm, names_sep = &quot;_&quot;, names_to = c(&quot;Indicator&quot;, &quot;.value&quot;))
</code></pre>
<p>Result</p>
<pre><code># A tibble: 2 × 9
  InstNm Indicator  CPct     L     P R        EPct  NPct     B
  &lt;chr&gt;  &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;
1 Baker  OTE          60     1     1 Limited    NA    NA    NA
2 Baker  RAE          NA     1     1 Limited    56    76     0
</code></pre>
","2024-05-22 02:06:11","2","Answer"
"78514974","","Long-formatting several sets of similarly named of variables in an R data.frame","<p>I have several sets of columns whose names are related. For example, in the toy <code>DATA</code> below, one set of variables start with <code>OTE_</code> and another set of variables start with <code>RAE_</code>.</p>
<p>In my actual data, I have several more sets of these similarly named variables. But as a starting point, I'm wondering how I can reformat my <code>DATA</code> so I achieve my <code>Desired_output</code> below.</p>
<pre><code>DATA &lt;- read.table(header=T, text=
&quot;InstNm    OTE_CPct OTE_L OTE_P    OTE_R      RAE_EPct RAE_NPct RAE_L RAE_B RAE_P  RAE_R
 Baker          60      1     1  Limited            56     76     1     0     1   Limited&quot;)


Desired_output &lt;- read.table(header=T, text=
&quot;InstNm    Indicator Rating  CPct NPct  EPct  L   P  B
 Baker     OTE      Limited  60   NA    NA    1   1  NA
 Baker     RAE      Limited  NA   76    56    1   1  0&quot;)
</code></pre>
","2024-05-22 01:32:33","0","Question"
"78514833","","Error in my function with emmeans (no variable named . in the reference grid)","<p>I first run the multilevel model for analysis, which has no issue.</p>
<pre><code>mlm4 &lt;- lmer(y ~ grp + t + (1|id), data=d1)
summary(mlm4)
</code></pre>
<p>Now, I wrote my own function to obtain some details about the results and diagnosis. However, the last parts with emmeans() do not work. The error message says, &quot;Error in emmeans(p_m, ~p_t | p_g, at = list(p_t = c(-700, -365, 0, 365,  :   No variable named p_t in the reference grid&quot;</p>
<p>This is my first time writing my own function in R. Please advise!</p>
<pre><code>mlm_sum &lt;- function(p_m, p_t, p_g) {
  sum &lt;- summary(p_m)
  ci &lt;- confint(p_m)
  
  # variance-covariance matric
  mat &lt;- Matrix::bdiag(VarCorr(p_m))
  
  # diagnosis
  pred_res &lt;- data.frame(predicted=predict(p_m), residual=residuals(p_m))
  plot1 &lt;- ggplot(pred_res, aes(x=predicted, y=residual)) + geom_point() + geom_hline(yintercept=0, lty=3)
  plot2 &lt;- ggplot(pred_res, aes(x=residual)) + geom_histogram(bins=20, color=&quot;black&quot;)
  plot3 &lt;- ggplot(pred_res, aes(sample=residual)) + stat_qq() + stat_qq_line()

  # estimated marginal means
  emm1 &lt;- emmeans(p_m, ~ p_t | p_g, 
          at = list(p_t = c(-700, -365, 0, 365, 700)),
          pbkrtest.limit = 43788)
  
  emm_plot1 &lt;- emmip(p_m, ~ p_t | p_g,
        at = list(p_t = c(-700, -365, 0, 365, 700)),
        pbkrtest.limit = 43788
  )
  
  return(list(sum, ci, mat, plot1, plot2, plot3, emm1, emm_plot1))
}

mlm_sum(mlm4, t, g)
</code></pre>
<p>working function returning model summary, 95% CI, diagnostic plots, and estiamted marginal means and its plot</p>
","2024-05-22 00:05:02","0","Question"
"78514513","","Illegal start of simple expression when calling scala function","<p>I have a function declared outside the main method to melt a wide data frame that i got from this post <a href=""https://stackoverflow.com/questions/60896406/how-to-unpivot-spark-dataframe-without-hardcoding-column-names-in-scala"">How to unpivot Spark DataFrame without hardcoding column names in Scala?</a></p>
<pre><code>def melt(preserves: Seq[String], toMelt: Seq[String], column: String = &quot;variable&quot;, row: String = &quot;value&quot;, df: DataFrame) : DataFrame = {
    val _vars_and_vals = array((for (c &lt;- toMelt) yield { struct(lit(c).alias(column),   col(c).alias(row)) }): _*)
    val _tmp = df.withColumn(&quot;_vars_and_vals&quot;, explode(_vars_and_vals))
    val cols = preserves.map(col _) ++ { for (x &lt;- List(column, row)) yield { col(&quot;_vars_and_vals&quot;)(x).alias(x) }}
    _tmp.select(cols: _*)
    }
</code></pre>
<p>I run into an illegal start of simple expression error when I try to call the function. I have too many columns to manually declare so I call the function this way</p>
<pre><code>val selectColumns = questionDF.columns.toSeq
var df = questionDF
df.melt(preserves=[&quot;ID&quot;], toMelt= selectColumns, questionDF)
</code></pre>
<p>I've also tried</p>
<p><code>df = melt(preserves=[&quot;ID&quot;], toMelt= selectColumns, questionDF)</code></p>
<p>But I get an illegal start of simple expression on the line when I try to use the function either way. Not sure if the problem is with how I'm calling the function or the function itself</p>
","2024-05-21 21:53:30","0","Question"
"78511801","","get a message in logs ""DrainMode mode enabled"" and the durable function suddenly stops in the middle","<p>In a middle of running a function, I get a message in logs &quot;DrainMode mode enabled&quot; and the function suddenly stops in the middle.</p>
<p>How can I prevent this, so that at least already running functions get finished?</p>
<p>Googling around, it seems this is meant to run for automatic scaling, with the idea that if the load is low it will stop some instance of the function app. However, it's completely stopping it all for me.</p>
","2024-05-21 12:17:53","0","Question"
"78510852","78510501","","<p>You cannot return storage class specifiers such as <code>static</code> from a function - storage class specifiers are only found at the line where an object/function is declared. The storage class specifier belongs with the specific object/function and not with the <em>type</em> of the object/function (unlike <em>type qualifiers</em>, <code>const</code>/<code>volatile</code>, which belong with the type).</p>
<p>The anonymous data which is returned from a function always has automatic storage duration and it is impossible to change that - you can change the type but not the storage duration.</p>
<p>So <code>static</code> in this case belongs with the function declaration/definition, meaning that the function has internal linkage and can only be called from within the translation unit where it is declared/defined. Otherwise functions use external linkage as default (even if you don't spell it out with <code>extern</code>) meaning they can be called from different translation units.</p>
<p>That the data pointed-at by the returned pointer happened to be <code>static</code> too is just a coincidence.</p>
<p>More info here: <a href=""https://software.codidact.com/posts/285050"" rel=""nofollow noreferrer"">What does the static keyword do in C?</a></p>
<hr />
<blockquote>
<p>And should I restructure it</p>
</blockquote>
<p>Static storage duration of private functions is the appropriate and correct way to design C code. And so you may actually have found a gem, but not in the sarcastic way you assumed - using <code>static</code> for private functions is simply how C programs are commonly and correctly written, even though you may not be aware of it.</p>
<p>Objects and functions should have as narrow scope as possible and external linkage should only be used for functions which are part of a library's &quot;API&quot; - the interface to the programmer using said library.</p>
<p>You are however correct assuming that a function returning a pointer is often a sign of a fishy design. But in this case the function is clearly meant to be some internal part of that library and not something exposed to the application programmer. In this context, returning a pointer to private <code>static</code> data means that the function is not interrupt- (or thread-/multiprocess-) safe, but the programmer probably did not intend for it to be either.</p>
<p><code>static uint8_t reg_val[6];</code> is however not allocated on the stack, since variables with static storage duration are typically allocated in either the <code>.data</code> or <code>.bss</code> segments of RAM. There is no undefined behavior here.</p>
<p>Specifically, the <code>uint8_t*</code> anonymous pointer object returned from the function has in itself automatic storage duration (stack or register allocation) but it points to an object with static storage duration (<code>.data</code>/<code>.bss</code>).</p>
<p>This might also be helpful: <a href=""https://electronics.stackexchange.com/a/237759/6102"">What resides in the different memory types of a microcontroller?</a></p>
","2024-05-21 09:26:16","2","Answer"
"78510731","78510501","","<p>Turned my comments into an answer, as requested:</p>
<ol>
<li>The function <code>static int* foo() {  /* ... */ }</code> (as well as <code>read_multiple...</code> or any similar function) is a static function returning a pointer.<br />
There is no such thing as a &quot;static pointer&quot; in this context.</li>
<li>It's OK to return <code>reg_val</code> in the function <code>read_multiple...</code>.<br />
This is because <code>reg_val</code> is <code>static</code>, which means that it is not on the stack. Therefore it's OK to return its address in the form of a pointer to it.<br />
Your last sentence:
<em>&quot;To avoid undefined behaviour in the form of returning a pointer to stack-allocated memory&quot;</em> should therefore not be a concern.</li>
</ol>
","2024-05-21 09:02:39","4","Answer"
"78510501","","Is ""static int* foo()"", in C, a static function returning a pointer, or a function returning a static pointer?","<p>I'm working with an Arduino library I slightly modified for AVR C, which interfaces with an ICM-20948 IMU (Integrated Measurement Unit). In it, I found this &quot;gem&quot;:</p>
<pre class=""lang-c prettyprint-override""><code>uint8_t* temp = read_multiple_icm20948_reg(ub_0, B0_TEMP_OUT_H, 2);
</code></pre>
<p>Where read_multiple... is defined as:</p>
<pre class=""lang-c prettyprint-override""><code>static uint8_t* read_multiple...(userbank ub, uint8_t reg, uint8_t len){
    static uint8_t reg_val[6];
    .
    .
    .
    return reg_val;
}
</code></pre>
<p>My question is, is this a static function that returns a pointer, or a regular function that returns a static pointer? And should I restructure it to look like this:</p>
<pre class=""lang-c prettyprint-override""><code>uint8_t* temp;
read_multiple_icm20948_reg(temp, ub_0, B0_TEMP_OUT_H, 2);
</code></pre>
<p>Where read_multiple... would be defined as</p>
<pre class=""lang-c prettyprint-override""><code>void read_multiple...(uint8_t *ret, userbank ub, uint8_t reg, uint8_t len);
</code></pre>
<p>To avoid undefined behaviour in the form of returning a pointer to stack-allocated memory.</p>
","2024-05-21 08:20:19","2","Question"
"78505356","78505264","","<pre><code>Dim Salary As Double
</code></pre>
<p>You have to force the correct variable type for your <code>Salary</code></p>
","2024-05-20 07:54:18","-2","Answer"
"78505264","","Function not outputting value","<p>Good Day</p>
<p>I have created a function in VBA which checks the salary input is between two bands and if so then must do a calculation. I have taken the code out of the function and it works exactly how it should however in the function it does not return the result and not sure what is the cause of it. Do I need to add in the return method in the function?</p>
<p>The code is below:</p>
<pre class=""lang-vb prettyprint-override""><code>Function TaxTableCalculation(Salary) As Long
If TaxIncomeLowBand_1 &lt; Salary And Salary &lt;= TaxIncomeHighBand_1 Then

        TaxTableCalculation = (Salary - TaxIncomeLowBand_1) * PercentageTaxBand_1 + BaseTaxBand_1

ElseIf TaxIncomeLowBand_2 &lt; Salary And Salary &lt;= TaxIncomeHighBand_2 Then

        TaxTableCalculation = (Salary - TaxIncomeLowBand_2) * PercentageTaxBand_2 + BaseTaxBand_2
        
ElseIf TaxIncomeLowBand_3 &lt; Salary And Salary &lt;= TaxIncomeHighBand_3 Then

        TaxTableCalculation = (Salary - TaxIncomeLowBand_3) * PercentageTaxBand_3 + BaseTaxBand_3

    End If
End Function

Dim Salary As String

Salary = InputBox(&quot;Input your salary,no decimals only whole numbers&quot;)

'TaxCalcOutput = TaxTableCalculation(Salary)
</code></pre>
<p>Any advice or assistnce will be greatly appreciated</p>
","2024-05-20 07:33:56","-1","Question"
"78503901","78503521","","<p>It looks as if you want to use <em>sequence-per-table</em> (at least, that's what <code>p_table_name</code> - probably a parameter name - suggests). If that's so, and if you want to use it for primary key column's value, why wouldn't you use an <strong>identity column</strong> and let Oracle take care about it? It'll create a sequence in the background.</p>
<hr />
<p>Anyway, here's one option. I'll use Scott's sample schema, its <code>dept</code> table as a parameter value.</p>
<p>First, let's check whether such a sequence already exists (it does not):</p>
<pre><code>SQL&gt; select dept_id_dynamic_seq.nextval from dual;
select dept_id_dynamic_seq.nextval from dual
       *
ERROR at line 1:
ORA-02289: sequence does not exist
</code></pre>
<p>Here's a function; read comments within code:</p>
<pre><code>SQL&gt; create or replace function f_seq (p_table_name in user_tables.table_name%type)
  2    return number
  3  is
  4    -- sanitize input value to avoid SQL injection
  5    l_table_name user_tables.table_name%type := dbms_assert.sql_object_name(p_table_name);
  6    -- as you can't run DDL in a SELECT statement:
  7    pragma       autonomous_transaction;
  8
  9    -- catch non-existent sequence error:
 10    no_such_seq  exception;
 11    pragma       exception_init (no_such_seq, -2289);
 12
 13    -- SQL statement is composed into this variable
 14    l_str        varchar2(500);
 15
 16    -- value returned by the function
 17    retval       number;
 18  begin
 19    -- try to fetch from the sequence; if it exists, RETURN will return its next
 20    -- value. If it doesn't exist, exception will be raised
 21    l_str := 'select ' || p_table_name || '_id_dynamic_seq.nextval from dual';
 22    execute immediate l_str into retval;
 23    return retval;
 24
 25  exception
 26    when no_such_seq then
 27      -- no such sequence, so - create it:
 28      l_str := 'create sequence ' || p_table_name || '_id_dynamic_seq';
 29      execute immediate l_str;
 30
 31      -- repeat code from above, i.e. fetch from the sequence and return its value
 32      l_str := 'select ' || p_table_name || '_id_dynamic_seq.nextval from dual';
 33      execute immediate l_str into retval;
 34      return retval;
 35  end;
 36  /

Function created.
</code></pre>
<p>Let's test it:</p>
<pre><code>SQL&gt; select f_seq('dept') From dual;

F_SEQ('DEPT')
-------------
            1

SQL&gt; select f_seq('dept') From dual;

F_SEQ('DEPT')
-------------
            2
</code></pre>
<p>Does <em>usual</em> way of selecting the value work? Yes, now it works:</p>
<pre><code>SQL&gt; select dept_id_dynamic_seq.nextval from dual;

   NEXTVAL
----------
         3

SQL&gt;
</code></pre>
","2024-05-19 20:50:55","3","Answer"
"78503521","","create a sequence in function or procedure , if that does not exist, however if exist return the nextval","<pre><code>execute immediate 'select ' || p_table_name ||
                  '_id_dynamic_seq.nextval from dual'
  into v_id;
exception
when others then
  execute immediate 'create sequence ' || p_table_name ||
                    '_id_dynamic_seq';
  execute immediate 'select ' || p_table_name ||
                    '_id_dynamic_seq.nextval from dual'
    into v_id;
end;
--`asdas`
return v_id;`that us `
</code></pre>
","2024-05-19 18:18:51","0","Question"
"78502720","78501552","","<p>This problem is caused due to Scoping rules of variable in JS</p>
<p><strong>For var</strong>
Variables declared with var are function-scoped. This means they are scoped to the nearest function block, regardless of block constructs like if, for, etc.</p>
<p><strong>For let and const</strong>
Variables declared with let and const are block-scoped. This means they are scoped to the nearest block they are declared in (e.g., inside an if, for, etc.).</p>
<p>The const value inside the if block is allowed because it is scoped to the block and shadows the function parameter value within that block. This does not conflict with the function-scoped parameter value. If you were to try redeclaring let or const with the same name in the same block scope, that would result in an error, but different scopes (function vs. block) handle this without issue.</p>
<p>for example</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function example(param) {
  if (true) {
    const param = ""block scope value"";
    console.log(param); // Logs: ""block scope value""
  }
  console.log(param); // Logs: original parameter value
}

example(""function scope value"");</code></pre>
</div>
</div>
</p>
","2024-05-19 13:24:16","0","Answer"
"78501587","78501552","","<p>This works because let and const do allow you to redeclare variables/constants in nested blocks of code. They are treated like different variables so as soon as you exit that if statement, <code>value</code> will refer to the function parameter again with whatever value it had. The redeclared variable will go out of scope.</p>
<p>Look at this modified version of your code:</p>
<pre><code>function CSS(prop, value) {
    const element = document.getElementById('#someElement');

    // assigning i here
    let i = 1;
    if(value === undefined) {
        // this works
        let i = 2;

        if (element == null) {
            return undefined;
        }

        const value = element.style[prop];
        return value === &quot;&quot; ? undefined : value;
    } else {
        // this still works
        const i = 3;
    }

    // i === 1 here
    console.log(i);
}
</code></pre>
<p>Note how <code>i</code> is equal to 1 at the end since the only time it was set (in that scope) was before the if statement.</p>
<p>Obviously, this is odd behaviour for some and it makes for code that's difficult to read, so you should avoid it.</p>
<p>You can read more about what's going on under the hood here: <a href=""https://tc39.es/ecma262/#sec-block"" rel=""nofollow noreferrer"">https://tc39.es/ecma262/#sec-block</a></p>
","2024-05-19 04:19:29","1","Answer"
"78501552","","Why can I redeclare a variable of the same name as a function parameter within an if statement?","<p>Below is a trivialized version of a solution I came across while trying to implement a version of the Jquery CSS function.</p>
<pre><code>function CSS(prop, value) {
   ...

        if (value === undefined) {
          // No matching elements.
          if (element == null) {
            return undefined;
          }

          const value = element.style[prop]; // &lt;-- Why is this allowed?
          return value === &quot;&quot; ? undefined : value;
        }

   ...
}
</code></pre>
<p>I noticed that the function param <code>value</code> was being redeclared and automatically raised an eyebrow to the solution. I threw it in a code sandbox and it worked. I checked the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter"" rel=""nofollow noreferrer"">docs</a> and found exactly what I expected:</p>
<p><em>&quot;Redeclaring the same variable within the same function or block scope using let is not allowed in JavaScript.&quot;</em></p>
<p>Now this specified <code>let</code> but even chaging to that <em>still works.</em></p>
<p>If I bring the declaration out of the if statement, I get the duplicate error I'd expect so this clearly has to do with the block scope of the if statement. However, because it inherits the function scope outside of that which includes a variable of the same name a <em>redeclartion</em> should be illegal still, no?</p>
<p>What am I missing?</p>
","2024-05-19 03:49:56","0","Question"
"78499731","78499662","","<p>Have you tried adding a &quot;global NewWindow&quot;?</p>
<pre><code>from re import I
from tkinter import *
from tkinter.ttk import *
from array import *

def sleep():
    newWindow.destroy()
def openNewWindow():
    global newWindow # makes the variable visible to each function
    newWindow = Toplevel()
    newWindow.title(&quot;Action&quot;)
    newWindow.geometry(&quot;800x400&quot;)
    for r in range(6):
        btSle = Button(newWindow, text = &quot;Sleep&quot;, command = sleep)
        btSle.grid(row = r, column = 1, sticky = W, pady = 2)
</code></pre>
","2024-05-18 12:30:46","-1","Answer"
"78499662","","How to initialize a prewritten function within a function?","<p>I have 2 functions: one that opens a certain window with buttons, and the other one that does stuff that I need and closes a window.
It works fine if I defy second function within the first one, but I need them to be separate, and that's the problem.</p>
<p>If I separate them &quot;newWindow&quot; is undefined in &quot;sleep&quot; and therfore program doesn't work.</p>
<pre><code>from re import I
from tkinter import *
from tkinter.ttk import *
from array import *

def sleep(): # only closes a window for now
        newWindow.destroy()

def openNewWindow():
    
    # Toplevel object which will 
    # be treated as a new window
    newWindow = Toplevel()
 
    # sets the title of the
    # Toplevel widget
    newWindow.title(&quot;Action&quot;)
 
    # sets the geometry of toplevel
    newWindow.geometry(&quot;800x400&quot;)
        


    for r in range(6):
        btSle = Button(newWindow, text = &quot;Sleep&quot;, command = sleep)

        
        btSle.grid(row = r, column = 1, sticky = W, pady = 2)

</code></pre>
","2024-05-18 12:03:21","-1","Question"
"78498252","78498007","","<p>There are a couple of problems here:</p>
<ol>
<li>Your function has 2 instances of errors created by the <a href=""https://betterexplained.com/articles/learning-how-to-count-avoiding-the-fencepost-problem/"" rel=""nofollow noreferrer"">fencepost problem</a>. The function takes <code>len(x_values)</code> points but it needs to add the areas of <code>len(x_values)-1</code> trapezoids.</li>
<li>By calculating a single <code>delta</code> up front and applying it to all the trapezoids, you're assuming that <code>x_values</code> is spaced evenly. This might be true for the specific dataset you're using, but it's not generally true. Better to compute it for each trapezoid.</li>
</ol>
<p>Here's a revised version:</p>
<pre><code>def trap_rule(y_values, x_values):
    area = 0.0
    for i in range(0, len(y_values)-1):
        area += (y_values[i] + y_values[i+1]) * (x_values[i+1] - x_values[i]) / 2
        
    return area
</code></pre>
","2024-05-17 23:21:47","0","Answer"
"78498007","","How do I write code to calculate the integral of a set of numbers using the trapezoidal rule in Python?","<p>I can't seem to figure out how to get the right value for my integral. I'm not getting an error and when I test the separate elements of my function it seems to give me back all the right values but when I put it all together it gives me a bad result.</p>
<p>So far this is what I have</p>
<pre><code>def trap_rule(y_values, x_values):
    delta = (x_values[-1] - x_values[0])/(len(x_values))
    int_ = 0.0
    for i in range(0, len(y_values)):
        int_ += (y_values[i-1] + y_values[i]) / 2
        int_ = int_ * delta
        
    return int_

mydata_sund= pd.read_csv(&quot;sund1.csv&quot;)
sund_time = list(mydata_sund[&quot;time [hr]&quot;])
sund_power = list(mydata_sund[&quot;power [kW]&quot;])

intergral = trap_rule(sund_power, sund_time)
</code></pre>
<p>The output I get is 3.5005 which I incorrect... I think
It does give me two lists with the right data in it so I'm 90% sure it's not a problem with importing the files.
And when I calculate my delta_x for my function it also returns the correct value</p>
<p>I have been trying to find answers on here, but I can't seem to find anything related to using a list and not just having the values already given.</p>
<p>Sorry In advance if this is formatted wrong, this is my first time using StackOverflow</p>
","2024-05-17 21:32:15","0","Question"
"78497974","78497712","","<p>In general, the training tasks for creating a calculator are reduced to more branching and creating functions for all mathematical operators.</p>
<p>If you can use function constructors, then the calculator might look like this:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const container = document.querySelector("".container"");
const calcBody = document.querySelector(""#calcBody"");
const input = document.querySelector(""#input"");
let a = """";
let b = """";
let operator = """";
let result = """";

const numbers = {
  reset: ""CE"",
  goBack: ""C"",
  divide: ""/"",
  multiply: ""*"",
  seven: 7,
  eight: 8,
  nine: 9,
  add: ""+"",
  four: 4,
  five: 5,
  six: 6,
  minus: ""-"",
  one: 1,
  two: 2,
  three: 3,
  decimal: ""."",
  zero: 0,
  equal: ""="",
};

const actions = [];
let numAcc = '';
for (let key in numbers) {
  let button = document.createElement(""button"");
  button.setAttribute(""id"", key);
  button.textContent = numbers[key];
  container.appendChild(button);

  function clear() {
    input.textContent = """";
    actions.length = 0;
    numAcc = '';
  }

  button.addEventListener(""click"", (e) =&gt; {
    if (e.target.textContent === ""CE"") {
      clear();
      calcBody.textContent = '';
      return;
    }
    if (e.target.textContent === ""C"") {
      if (numAcc.length &gt; 0) {
        numAcc = numAcc.slice(0, -1);
      } else {
        actions.pop();
        if (actions.length) {
          numAcc = actions[actions.length - 1];
          actions.pop();
        }
      }
      input.textContent = actions.join(' ') + ' ' + numAcc;
      return;
    }
    if (e.target.textContent === '=') {
      if (numAcc.length &lt; 1 || actions.length &lt; 2) {
        clear();
        calcBody.textContent = '';
      } else {
        const fn = new Function(`return ${actions.join(' ')} ${numAcc} + 0`);
        calcBody.textContent = fn();
        clear();
      }
    } else {
      if (e.target.textContent === '.' || !isNaN(e.target.textContent)) {
        numAcc += e.target.textContent;
      } else {
        if (numAcc.length) {
          actions.push(numAcc);
          actions.push(e.target.textContent);
          numAcc = '';
        } else {
          actions.pop()
          actions.push(e.target.textContent)
        }
      }
      input.textContent = actions.join(' ') + ' ' + numAcc;
    }
  });
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""container""&gt;&lt;/div&gt;
&lt;div id=""input""&gt;&lt;/div&gt;
&lt;div id=""calcBody""&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-05-17 21:14:47","0","Answer"
"78497712","","How to add math function without eval to basic calculator","<p>Per the Odin Project's instructions, I need to make my basic calculator operate via math functions rather than using eval(). <a href=""https://www.theodinproject.com/lessons/foundations-calculator"" rel=""nofollow noreferrer"">https://www.theodinproject.com/lessons/foundations-calculator</a></p>
<p>I've only added the addition part to my mathWorks function. However, I'm not sure how to tie my mathWorks function to my else if block when &quot;=&quot; is selected. Any help would be greatly appreciated.</p>
<pre><code>const container = document.querySelector(&quot;.container&quot;);
const calcBody = document.querySelector(&quot;#calcBody&quot;);
const input = document.querySelector(&quot;#input&quot;);
let a = &quot;&quot;;
let b = &quot;&quot;;
let operator = &quot;&quot;;
let result = &quot;&quot;;


      
const numbers = {
    reset: &quot;CE&quot;,
    goBack: &quot;C&quot;,
    divide: &quot;/&quot;,
    multiply: &quot;*&quot;,
    seven: 7,
    eight: 8,
    nine: 9,
    add: &quot;+&quot;,
    four: 4,
    five: 5,
    six: 6,
    minus: &quot;-&quot;,
    one: 1,
    two: 2,
    three: 3,
    decimal: &quot;.&quot;,
    zero: 0,
    equal: &quot;=&quot;,
};

for (let key in numbers) {
    let button = document.createElement(&quot;button&quot;);
    button.setAttribute(&quot;id&quot;, key);
    button.textContent = numbers[key];
    container.appendChild(button);

    button.addEventListener(&quot;click&quot;, (e) =&gt; {
        let val = e.target.textContent;
       
        if(e.target.textContent === &quot;+&quot; || 
           e.target.textContent === &quot;/&quot; ||
           e.target.textContent === &quot;*&quot;)
           {
           operator = val;
           input.textContent = a + &quot; &quot; + operator + &quot; &quot;;
           }

        else if(e.target.textContent === &quot;CE&quot;) {
             input.textContent = &quot;&quot;;
             a = &quot;&quot;;
        }
        else if(input.textContent.includes(&quot;*&quot;) ||
                 input.textContent.includes(&quot;+&quot;)  ||
                 input.textContent.includes(&quot;/&quot;)) {
            b += val;
            input.textContent = a + &quot; &quot; + operator + &quot; &quot; + b;
        }

        else if(e.target.textContent === &quot;=&quot;){
            mathWorks();
            }
        
        
            else 
        {
            a += val
            input.textContent = a;
        }

    });

    function mathWorks(){
        if(operator === &quot;+&quot;){
            result = parseFloat(a) + parseFloat(b);
            input.textContent = result;
            
        }

    }

}
</code></pre>
<p>I'm kind of at a loss at the moment.  I've tried adding parseFloat and including a and b in mathWorks parameters.</p>
","2024-05-17 19:58:21","1","Question"
"78490808","78490591","","<p>Avoid using global variables by putting <code>the_map</code> and <code>current_room</code> in <code>start_game</code>. Then pass variables to <code>next_room</code>, have it <code>return room_after</code> and then update with <code>current_room = next_room(current_room, the_map)</code>.</p>
<p>(I also threw in an <code>else: break</code> since I don't know what your behavior should be afterwards.)</p>
<pre><code>def start_game():
    
    the_map = {
        'Town': {'Next room': 'Ruins', 'Rest': 'Fill HP'},
        'Ruins': {'Next room': 'Destroyed Village', 'Previous room': 'Town', 'Enemy': 'Minotaur'},
        'Destroyed Village': {'Next room': 'Forbidden Forest', 'Previous room': 'The Ruins', 'Enemy': 'Giant'},
        'Forbidden Forest': {'Previous room': 'Destroyed Village', 'Enemy': 'Ancient Tree'}
    }
    
    
    # STARTING ROOM
    current_room = &quot;Town&quot;

    while True:

        # DISPLAY HERO INFO
        print(f&quot;\n You are in the {current_room}.\n{'#' * 22}&quot;)

        if current_room == &quot;Town&quot;:
            print(&quot;\nYou can either go to the NEXT ROOM or REST.&quot;)
            print(&quot;NEXT ROOM takes you to an enemy encounter.&quot;)
            print(&quot;REST fills up your HP bar.&quot;)
            print(&quot;What would you like to do?&quot;)
            print(&quot;1 - GO TO THE NEXT ROOM\n2 - REST&quot;)

            # USER INPUT
            user_input = input(&quot;&gt; &quot;)

            if user_input == &quot;1&quot;:
                current_room = next_room(current_room, the_map)

            elif user_input == &quot;2&quot;:
                pass

            else:
                print(&quot;Invalid command. Try something else.\n&quot;)
        else:
            break

def next_room(current_room, the_map):

    if &quot;Next room&quot; in the_map[current_room].keys():

        room_after = the_map[current_room][&quot;Next room&quot;]

        print(f&quot;\nYou reached the {room_after}!&quot;)

    return room_after
</code></pre>
","2024-05-16 14:56:36","1","Answer"
"78490591","","Dictionaries and functions in Text Based RPG","<p>everyone. I'm trying to learn more about dictionaries and functions by making a Text Based RPG, but I've run into an issue that I just can't seem to figure out on my own. I made a dictionary for the map on the &quot;main&quot; part of the script, it's not inside of anything, as shown below:</p>
<pre><code>the_map = {
    'Town': {'Next room': 'Ruins', 'Rest': 'Fill HP'},
    'Ruins': {'Next room': 'Destroyed Village', 'Previous room': 'Town', 'Enemy': 'Minotaur'},
    'Destroyed Village': {'Next room': 'Forbidden Forest', 'Previous room': 'The Ruins', 'Enemy': 'Giant'},
    'Forbidden Forest': {'Previous room': 'Destroyed Village', 'Enemy': 'Ancient Tree'}
}


# STARTING ROOM
current_room = &quot;Town&quot;
</code></pre>
<p>My script makes the player choose between options instead of typing out a response. It goes something like this:</p>
<pre><code>def start_game():

    while True:

        # DISPLAY HERO INFO
        print(f&quot;\n You are in the {current_room}.\n{'#' * 22}&quot;)

        if current_room == &quot;Town&quot;:
            print(&quot;\nYou can either go to the NEXT ROOM or REST.&quot;)
            print(&quot;NEXT ROOM takes you to an enemy encounter.&quot;)
            print(&quot;REST fills up your HP bar.&quot;)
            print(&quot;What would you like to do?&quot;)
            print(&quot;1 - GO TO THE NEXT ROOM\n2 - REST&quot;)

            # USER INPUT
            user_input = input(&quot;&gt; &quot;)

            if user_input == &quot;1&quot;:
                next_room()

            elif user_input == &quot;2&quot;:
                pass

            else:
                print(&quot;Invalid command. Try something else.\n&quot;)
</code></pre>
<p>As you can see, I use the fuction &quot;next_room()&quot;. What I'm trying to do is: the player starts in the &quot;Town&quot; and the &quot;Next room&quot;, as seen in the dictionary, is the &quot;Ruins&quot;. If the player inputs &quot;1&quot; to go to the next room, I would like the current_room to be updated, as the next room becomes the current room. How can I do that using the dictionary? This is what I have written so far:</p>
<pre><code>def next_room():

    if &quot;Next room&quot; in the_map[current_room].keys():

        room_after = the_map[current_room][&quot;Next room&quot;]

        print(f&quot;\nYou reached the {room_after}!&quot;)
</code></pre>
<p>I'm not sure of how to make it update to the current_room. It prints the statement in this code, but the first one of the original post still shows &quot;You are in the Town&quot; which is the starting room.</p>
","2024-05-16 14:23:23","0","Question"
"78490393","78448628","","<p>Here's a <code>tidyverse</code> take with the new <code>dplyr::group_split</code>:</p>
<pre class=""lang-r prettyprint-override""><code>library(tidyverse)

my_output &lt;- list_flatten(map(y2, \(y) group_split(y, alphabet)))
</code></pre>
<p>Output:</p>
<pre class=""lang-r prettyprint-override""><code>&gt; my_output
[[1]]
# A tibble: 1 × 3
  alphabet latitude longitude
  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1 a            7.30      5.14

[[2]]
# A tibble: 1 × 3
  alphabet latitude longitude
  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1 b            7.30      5.14

[[3]]
# A tibble: 1 × 3
  alphabet latitude longitude
  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1 c            4.95      8.35

[[4]]
# A tibble: 1 × 3
  alphabet latitude longitude
  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1 d            4.95      8.35

[[5]]
# A tibble: 1 × 3
  alphabet latitude longitude
  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1 e            7.68      6.41

[[6]]
# A tibble: 1 × 3
  alphabet latitude longitude
  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;
1 f            7.68      6.41
</code></pre>
<p>That's it!</p>
<p><strong>PS. About <code>map</code> and your attempted solution:</strong></p>
<p>If <code>x</code> and <code>y</code> had the same length, you could use <code>map2_</code>. Since that's not the case, you can use one <code>map_</code> to iterate over <code>x</code> and another <code>map_</code> to iterate over <code>y</code>.</p>
<p>Beware: the result will be a list of the same length as <code>x</code> with elements of the same length as <code>y</code>, even if they are just empty dataframes (and it could be messy). This way, you need to control how the output should be aggregated (rows/columns with <code>map_dfc</code>, <code>map_dfr</code> or with <code>bind_cols</code>, <code>bind_rows</code> after) and what should be kept (inside your custom function or after the iteration).</p>
<p>The code below is close to what you tried to do:</p>
<pre class=""lang-r prettyprint-override""><code>library(tidyverse) # at least `dplyr` and `purrr`

my_function &lt;- function(i, j) j[j$alphabet == i, ] # c(&quot;latitude&quot;, &quot;longitude&quot;) removed
my_output &lt;- map(x2,\(x) map(y2,\(y) my_function(x, y)))
</code></pre>
<p>The unpleasant output:</p>
<pre class=""lang-r prettyprint-override""><code>&gt; my_output[6:7] # `6` is the last non-empty and `7` the first empty
[[1]]
[[1]][[1]] # No &quot;f&quot; in `df1`
[1] alphabet  latitude  longitude
&lt;0 linhas&gt; (ou row.names de comprimento 0)

[[1]][[2]] # No &quot;f&quot; in `df2`
[1] alphabet  latitude  longitude
&lt;0 linhas&gt; (ou row.names de comprimento 0)

[[1]][[3]] # There's &quot;f&quot; in `df3`
  alphabet latitude longitude
2        f 7.681867  6.414239


[[2]]      # No &quot;g&quot; in `df1` to `df3`
[[2]][[1]]
[1] alphabet  latitude  longitude
&lt;0 linhas&gt; (ou row.names de comprimento 0)

[[2]][[2]]
[1] alphabet  latitude  longitude
&lt;0 linhas&gt; (ou row.names de comprimento 0)

[[2]][[3]]
[1] alphabet  latitude  longitude
&lt;0 linhas&gt; (ou row.names de comprimento 0)
</code></pre>
<p><code>my_output</code> is a list with length 26 (<code>a</code> to <code>z</code>) and each element length 3 (<code>df1</code> to <code>df3</code>).</p>
","2024-05-16 13:53:49","0","Answer"
"78489645","78488879","","<p>Maybe it helps to visualise what happens throughout the execution of <code>main</code>:</p>
<p>The first statements of interest are:</p>
<pre><code>headObj = new IntNode(-1);
nodeObj1 = new IntNode(555);
nodeObj2 = new IntNode(999);
nodeObj3 = new IntNode(777);
</code></pre>
<p>Although these statements are grouped with the respective calls of <code>InsertAfter</code>, it wouldn't matter if we would execute the above statements first.</p>
<p>Each calls the constructor of class <code>IntNode</code>, which will initialise the allocated structure and return a pointer to it, which is assigned to the respective variable (<code>headObj</code>, <code>nodeObj</code>,...). We can visualise the resulting state as follows:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │
└─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  
</code></pre>
<p>Let's follow the execution of <code>InsertAfter</code> step by step when <code>headObj-&gt;InsertAfter(nodeObj1)</code> is called: First of all, this is a method, and so <code>this</code> corresponds to <code>headObj</code> while this method executes. The (pointer) value of <code>nodeObj1</code> is taken over by the <code>nodeLoc</code> parameter variable, and so <code>nodeLoc</code> will point to the second node in above diagram. A second local variable (besides <code>nodeLoc</code>) is defined with <code>tmpNext = this-&gt;nextNodePtr</code>, which is <code>nullptr</code> (as depicted in the first node in above diagram). After that statement we have this state:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │
└─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  
                 ↑                          ↑
               this                       nodeLoc

      tmpNext = nullptr
</code></pre>
<p>The next assignment is <code>this-&gt;nextNodePtr = nodeLoc</code>. If you follow the arrows in the above diagram, you can see this assignment will replace the <code>nullptr</code> value in the leftmost node:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ ──────────►│ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │
└─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  
                 ↑                          ↑
               this                       nodeLoc

      tmpNext = nullptr
</code></pre>
<p>The last statement in the function <code>nodeLoc-&gt;nextNodePtr = tmpNext;</code> has no effect, as <code>tmpNext</code> is <code>nullptr</code> and that is also the value of <code>nodeLoc-&gt;nextNodePtr</code>.</p>
<p>The next call of <code>InsertAfter</code> is <code>nodeObj1-&gt;InsertAfter(nodeObj2)</code>, and will end like this:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ ──────────►│ nextNodePtr │ ──────────►│ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │
└─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  
                                            ↑                          ↑
                                          this                       nodeLoc

                                 tmpNext = nullptr
</code></pre>
<p>And when the last call of <code>InsertAfter</code> is about to return:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ ──────────►│ nextNodePtr │ ──────────►│ nextNodePtr │ ──────────►│ nextNodePtr │ nullptr │
└─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  
                                                                       ↑                          ↑
                                                                     this                       nodeLoc

                                                            tmpNext = nullptr
</code></pre>
<h3>Another scenario</h3>
<p>In the above run it is not so evident what the role is of <code>tmpNext</code>. It would be more clear if we would insert a node after a node that <em>already</em> is linked with a successor node, and the inserted node must end up between them.</p>
<p>Let's say that we have the same <code>main</code>, except for the last call of <code>InsertAfter</code>. Then we have this state where the last node is not yet part of the linked list:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ ──────────►│ nextNodePtr │ ──────────►│ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │
└─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  
</code></pre>
<p>Now, let's execute <code>headObj-&gt;InsertAfter(nodeObj3)</code>, with the aim to inject <code>nodeObj3</code> between the first two nodes.</p>
<p>This call of <code>InsertAfter</code> will assign to <code>tmpNext</code> the same pointer value as <code>nodeObj1</code> has, as that is the pointer value of <code>headObj-&gt;nextNodePtr</code>:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ ──────────►│ nextNodePtr │ ──────────►│ nextNodePtr │ nullptr │  │ nextNodePtr │ nullptr │
└─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  
                 ↑                          ↑                                                     ↑
               this                      tmpNext                                                nodeLoc
</code></pre>
<p>The assignment <code>this-&gt;nextNodePtr = nodeLoc</code> will now <em>rewire</em> the first node, as its <code>nextNodePtr</code> is updated:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ ─────────┐ │ nextNodePtr │ ──────────►│ nextNodePtr │ nullptr │┌►│ nextNodePtr │ nullptr │
└─────────────┴─────────┘│ └─────────────┴─────────┘  └─────────────┴─────────┘│ └─────────────┴─────────┘  
                 ↑       │                  ↑                                  │                  ↑
               this      │               tmpNext                               │                nodeLoc
                         └─────────────────────────────────────────────────────┘
</code></pre>
<p>And finally, the role of <code>tmpNext</code> becomes apparent, as it is assigned to <code>nodeLoc-&gt;nextNodePtr</code>:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj1                   nodeObj2                   nodeObj3
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 555     │  │ dataVal     │ 999     │  │ dataVal     │ 777     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ ─────────┐ │ nextNodePtr │ ──────────►│ nextNodePtr │ nullptr │┌►│ nextNodePtr │ ─────────┐
└─────────────┴─────────┘│ └─────────────┴─────────┘  └─────────────┴─────────┘│ └─────────────┴─────────┘│  
   ▲             ↑       │                  ↑                                  │                  ↑       │
   │           this      │               tmpNext                               │                nodeLoc   │
   │                     └─────────────────────────────────────────────────────┘                          │
   └──────────────────────────────────────────────────────────────────────────────────────────────────────┘
</code></pre>
<p>The node has been successfully inserted at the desired place. By just moving around blocks, we can get a cleaner view:</p>
<pre class=""lang-none prettyprint-override""><code>              headObj                    nodeObj3                   nodeObj1                   nodeObj2
                 ↓                          ↓                          ↓                          ↓
┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐  ┌─────────────┬─────────┐
│ dataVal     │ -1      │  │ dataVal     │ 777     │  │ dataVal     │ 555     │  │ dataVal     │ 999     │
├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  ├─────────────┼─────────┤  
│ nextNodePtr │ ──────────►│ nextNodePtr │ ──────────►│ nextNodePtr │ ──────────►│ nextNodePtr │ nullptr │
└─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  └─────────────┴─────────┘  
                 ↑                                                     ↑                          ↑
               this                                                  tmpNext                    nodeLoc   
</code></pre>
<p>Note that you don't really need to write <code>this-&gt;</code> explicitly in this code.</p>
<p>Hope this clarifies it.</p>
","2024-05-16 11:49:56","4","Answer"
"78488912","78488879","","<p>referring to your question about headObj i think the next line, <code>nodeLoc-&gt;nextNodePtr = tmpNext;</code>, sets the nextNodePtr pointer of the new node (nodeLoc) to the next temporarily stored node (tmpNext). This step is crucial because it correctly connects the new node to the linked list without interrupting the flow of the chain. Essentially, after inserting the new node between the current node and its next one, this line restores the link between the new node and the node that was originally after the current node, ensuring that the linked list is still properly linked.</p>
","2024-05-16 09:33:15","0","Answer"
"78488879","","Linked List Node structure isn't making sense C++","<pre><code>#include &lt;iostream&gt;
using namespace std;

class IntNode {
public:
   IntNode(int dataInit = 0, IntNode* nextLoc = nullptr);
   void InsertAfter(IntNode* nodeLoc);
   IntNode* GetNext();
   void PrintNodeData();
private:
   int dataVal;
   IntNode* nextNodePtr;
};

// Constructor
IntNode::IntNode(int dataInit, IntNode* nextLoc) {
   this-&gt;dataVal = dataInit;
   this-&gt;nextNodePtr = nextLoc;
}

/* Insert node after this node.
 * Before: this -- next
 * After:  this -- node -- next
 */
void IntNode::InsertAfter(IntNode* nodeLoc) {
   IntNode* tmpNext = nullptr;
   
   tmpNext = this-&gt;nextNodePtr;    // Remember next
   this-&gt;nextNodePtr = nodeLoc;    // this -- node -- ?
   nodeLoc-&gt;nextNodePtr = tmpNext; // this -- node -- next
}

// Print dataVal
void IntNode::PrintNodeData() {
   cout &lt;&lt; this-&gt;dataVal &lt;&lt; endl;
}

// Grab location pointed by nextNodePtr
IntNode* IntNode::GetNext() {
   return this-&gt;nextNodePtr;
}

int main() {
   IntNode* headObj  = nullptr; // Create IntNode pointers
   IntNode* nodeObj1 = nullptr;
   IntNode* nodeObj2 = nullptr;
   IntNode* nodeObj3 = nullptr;
   IntNode* currObj  = nullptr;
   
   // Front of nodes list
   headObj = new IntNode(-1);
   
   // Insert nodes
   nodeObj1 = new IntNode(555);
   headObj-&gt;InsertAfter(nodeObj1);
   
   nodeObj2 = new IntNode(999);
   nodeObj1-&gt;InsertAfter(nodeObj2);
   
   nodeObj3 = new IntNode(777);
   nodeObj2-&gt;InsertAfter(nodeObj3);
   
   // Print linked list
   currObj = headObj;
   while (currObj != nullptr) {
      currObj-&gt;PrintNodeData();
      currObj = currObj-&gt;GetNext();
   }
   
   return 0;
}
</code></pre>
<p>I'm having issues deciphering exactly what this code is saying and how it's supposed to work. My current understanding of C++ syntax doesn't seem to be correct. The code above produces a linked list, with the pointer values of the last node pointing to the memory block that contains the value of the next node.</p>
<p>Firstly, the declaration of the Node itself doesn't make any sense and is unusual compared to a standard variable declaration like</p>
<pre><code>int number;
</code></pre>
<p>To my understanding, the Nodes declared in int main () are being defined by a default constructor. Distinct instances of dataVal and nextNodePtr are initialized whenever the default constructor is called. dataVal is initialized to 0, and nextNodePtr is initialized to null.</p>
<pre><code>void IntNode::InsertAfter(IntNode* nodeLoc) {
   IntNode* tmpNext = nullptr;
   
   tmpNext = this-&gt;nextNodePtr;    // Remember next
   this-&gt;nextNodePtr = nodeLoc;    // this -- node -- ?
   nodeLoc-&gt;nextNodePtr = tmpNext; // this -- node -- next
</code></pre>
<p>The insertion code doesn't make any sense to me. I don't know how exactly I'm supposed to be interpreting this</p>
<p>From what I'm seeing, this is a member function that creates a tmpNext variable and assigns it with null. I fail to see the point of this-&gt; in this context. The InsertAfter function is taking the specific node object, creating a tmpNext Node every time the function is called and assigning it a null value. The tmpNext is then assigned the value of nextNodePtr for the specific Node object put into the function which should be null.</p>
<p>If the headObj is inserted into the function, it's nullptr value for nextNodePtr is assigned with headObj. So headObj is pointing to itself? I also don't know how to read the next line.</p>
","2024-05-16 09:26:56","1","Question"
"78487644","78487100","","<p>Ignoring the first part because it's not valid code, if we look at the second but:</p>
<pre><code>let iter t ~f = 
  let rec loop = function
    | None -&gt; ()
    | Some element -&gt;
        f element.value;
        loop element.next 
  in 
  loop !t
</code></pre>
<p>Then <code>t</code> can be inferred to have type <code>'a ekoption ref</code> because we use the under operator <code>!</code> on it. We pass this dereference value to <code>loop</code> which pattern matches it against the constructors <code>Some</code> and <code>None</code> so now we know we're dealing with a ref of an option type.</p>
<p>But we access fields that are unique to a presumed <code>element</code> type defined as:</p>
<pre><code>type 'a element = { 
  value : 'a;
  next : 'a element option
}
</code></pre>
<p>So now we know <code>t</code> is of type <code>'a element option ref</code>. If you want to change the type to your expected one, simply change <em>one</em> character and not dereference <code>t</code>.</p>
<pre><code>let iter t ~f = 
  let rec loop = function
    | None -&gt; ()
    | Some element -&gt;
        f element.value;
        loop element.next
  in 
  loop t
</code></pre>
","2024-05-16 05:02:16","0","Answer"
"78487344","78487100","","<p>Your first example is not valid OCaml code, so it's hard to say much about it. Since it's not valid code, it doesn't have a type. I don't see a way to fix it up other than to change it to the second example :-)</p>
<p>Problems with the first example:</p>
<ol>
<li><code>!t</code> is invalid syntax for a parameter name</li>
<li>A function named <code>loop</code> is defined but never called</li>
</ol>
","2024-05-16 02:40:20","0","Answer"
"78487100","","Why is the output type bool in this OCaml fun?","<p>I'm sure I'm missing something, but where is the bool?</p>
<pre><code>let iter t ~f = 
  let rec loop !t  = function
    |Some element -&gt; ~f element.value; loop element.next
    |None -&gt; () 
</code></pre>
<p>Expecting unit, have bool in type of iter:</p>
<p><code>('a element option -&gt; unit) ref -&gt; f:('a -&gt; 'b) -&gt; bool</code></p>
<p>Also compared to this version</p>
<pre><code>let iter t ~f = 
  let rec loop   = function

    |Some element -&gt; f element.value; loop element.next
    |None -&gt; () 

in loop !t
</code></pre>
<p>Why <code>'a element option ref</code> vs. <code>('a element option -&gt; unit)</code>?</p>
","2024-05-16 00:59:21","-3","Question"
"78486502","78486410","","<p>The two syntaxes you show represent a &quot;function declaration&quot; and a &quot;function expression&quot;.</p>
<p><strong>Function Declaration:</strong></p>
<pre><code>function foo(){

}
</code></pre>
<ul>
<li>A function declaration (also known as a function statement) declares
a function with the <code>function</code> keyword. The function declaration must
have a function name.</li>
<li>Function declarations do not require a variable assignment as they
are standalone constructs and they cannot be nested inside a
functional block.</li>
<li>These are executed before any other code.</li>
<li>The function in the function declaration can be accessed before and
after the function definition (due to <a href=""https://developer.mozilla.org/en-US/docs/Glossary/Hoisting"" rel=""nofollow noreferrer"">&quot;hoisting&quot;</a>).</li>
</ul>
<p><strong>Function Expression:</strong></p>
<pre><code>[var, let, const] functionName = function(){

}
</code></pre>
<ul>
<li>A function Expression is similar to a function declaration but without
the function name (an anonymous function assigned to a variable).</li>
<li>Function expressions can be stored in a variable assignment.</li>
<li>Function expressions load and execute only when the program
interpreter reaches the line of code.</li>
<li>The function in the function expression can be accessed only after
the function definition (the variable is hoisted, but the actual assigned value is not).</li>
</ul>
<p>Now whether you use <code>var</code>, <code>let</code>, or <code>const</code> in the function expression doesn't really affect how the function operates, but it does affect the scope of the function, and in the case of <code>const</code> indicates that the variable can't be reassigned.</p>
","2024-05-15 21:03:19","2","Answer"
"78486491","78486410","","<p><a href=""https://javascript.info/function-expressions#:%7E:text=If%20the%20function%20is%20declared,visible%20everywhere%20in%20the%20block."" rel=""nofollow noreferrer"">Function expressions</a></p>
<ul>
<li>Functions are values. They can be assigned, copied or declared in any place of the code.</li>
<li>If the function is declared as a separate statement in the main code flow, that’s called a “Function Declaration”.</li>
<li>If the function is created as a part of an expression, it’s called a “Function Expression”.</li>
<li>Function Declarations are processed before the code block is executed. They are visible everywhere in the block.
Function Expressions are created when the execution flow reaches them.</li>
</ul>
","2024-05-15 21:00:26","0","Answer"
"78486410","","Can some please explain to me the difference between the function keyword and const in declaring a function","<p>As demonstrated in the below examples, I used the <code>function</code> keyword to declare a function that will generate a random integer number within a range,  and I also used a <code>const</code> keyword to declare another function that will convert a string and return an integer. Your brief explanation will be helpful and appreciated.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>//Generating a random whole number within a range.
function isBeginner(a1, a2) {
  let randomRange = """";
  if (a2 &gt;= a1) {
    randomRange = Math.floor(Math.random() * (a2 - a1 + 1) + a1);
  } else {
    randomRange = Math.floor(Math.random() * (a1 - 1 + a2) - a1);
  }
  return randomRange;
};

console.log(isBeginner(2, 4)); //positive integer expected
console.log(isBeginner(5, 3)); //negative integer expected

//Using ParseInt to generate an Integer

const isBeginner2 = function(lib) {
  let crib = """";

  // using Switch statement for better descriptions
  switch (lib) {
    case ""Zero before a real number"":
      crib = parseInt(lib)
      break;

    case ""String"":
      crib = parseInt(lib);
      break;

    case ""Decimal number"":
      crib = parseInt(lib);
      break;

    case ""Letter before a number"":
      crib = parseInt(lib);
      break;

    case ""Number before a letter"":
      crib = parseInt(lib);
      break;

    default:
      crib = parseInt(lib);
      break;

  }
  return crib;
};

console.log(isBeginner2(005)); // output **5** expected
console.log(isBeginner2(""Stay Healthy"")); // output **NaN** expected
console.log(isBeginner2(1.5)); // output **1** expected
console.log(isBeginner2(""E7"")); // output **NaN** expected 
console.log(isBeginner2(""8S"")); // output **8** expected</code></pre>
</div>
</div>
</p>
","2024-05-15 20:42:15","-2","Question"
"78485718","78485681","","<p>As mentioned by Tim and Matthias already, these are type hints.</p>
<p>You can read more documentation here: <a href=""https://peps.python.org/pep-0484/"" rel=""nofollow noreferrer"">https://peps.python.org/pep-0484/</a></p>
<p>This is also a duplicate of <a href=""https://stackoverflow.com/questions/14379753/what-does-mean-in-python-function-definitions"">What does -&gt; mean in Python function definitions?</a></p>
","2024-05-15 17:57:57","-1","Answer"
"78485681","","Please explain these dataclass functions' definitions... (python)","<p>Sorry, I really don't know how to word this question.
I'm confused about the purpose of the content in the parenthesis after def (e.g (card: str) ) and what the -&gt; symbol is doing. What is going on. And why does one function -&gt; point to the class name and others point to basic data types.</p>
<pre><code>@dataclass
class Card:
    suit: str
    rank: int

def parse_card(card: str) -&gt; Card:
    return Card(card[0], int(card[1:]))

</code></pre>
<hr />
<pre><code>@dataclass
class Rectangle:
    length: int
    width: int

def area(rect: Rectangle) -&gt; int:
    return rect.length * rect.width
</code></pre>
<hr />
<pre><code>@dataclass
class Square:
    color: str
    width: int

@dataclass
class Circle:
    radius: int
    color: str

def square_to_circle(a_square: Square) -&gt; Circle:
    return Circle(a_square.width, a_square.color)
</code></pre>
","2024-05-15 17:50:13","-2","Question"
"78484728","78484375","","<p>Adding my comment as an answer.</p>
<pre><code>=if(len(index(,match()))&gt;0,index(,match()),&quot;No end date&quot;) 'fill in your ranges

=IF(LEN(INDEX(E2:E4,MATCH(A2,D2:D4,0)))&gt;0,INDEX(E2:E4,MATCH(A2,D2:D4,0)),&quot;No date&quot;)
</code></pre>
<p>Two examples, with a value and with no value in the second table:
<a href=""https://i.sstatic.net/7oWnhMbe.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/7oWnhMbe.png"" alt=""enter image description here"" /></a></p>
<p><a href=""https://i.sstatic.net/mdM5pRaD.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/mdM5pRaD.png"" alt=""enter image description here"" /></a></p>
","2024-05-15 14:42:44","0","Answer"
"78484425","78484163","","<p>Using functionality provided by the <em>ast</em> module we can get the required output as follows:</p>
<pre><code>from ast import parse, walk, FunctionDef
from inspect import getsource

def function_one():
    print(&quot;Function one&quot;)
    def function_two():
        print(&quot;Function two&quot;)
        def function_three():
            print(&quot;Function three&quot;)

def getfuncs(func): 
    for n in walk(parse(getsource(func))):
        if isinstance(n, FunctionDef):
            yield n.name

print(&quot;(&quot; + &quot;, &quot;.join(getfuncs(function_one)) + &quot;)&quot;)
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>(function_one, function_two, function_three)
</code></pre>
","2024-05-15 13:49:37","1","Answer"
"78484375","","EXCEL: add comment to cell in table which takes cell value from another table if no end date is given","<p>I have a table (table 1) with objects on the Y-axis and customers on the X-axis.
Table 1 takes data from another table(table 2) were a object can be selected with a customer and a type of event is selected with a start date and eventually a end date, there is a comment section in table 2 as well.</p>
<p>Table 1 is showing the event type when there is no end date given in table 2.
i would like to show this comment as a note/comment in table 1 when an event is active and therefore showing in table 1.</p>
<p>i'm using INDEX/MATCH to make table 1 in a backlog and refer to this in the &quot;front end&quot; excel sheet for layout purposes.</p>
<p>is this possible? i'm having a steep learning curve with excel but this is still out of my league.</p>
<p>I did search stackoverflow and found some similar cases but due to my knowledge regarding functions i could not make this work in my case with different requirements</p>
","2024-05-15 13:41:13","0","Question"
"78484325","78484163","","<p>Took the answer from this example:</p>
<pre><code>import ast, inspect

# this is the test scenario
def function1():
    f1_var1 = 42
    def function2():
        f2_var1 = 42
        f2_var2 = 42
        def function3():
            f3_var1 = 42

# derive source code for top-level function
src = inspect.getsource(function1)

# derive abstract syntax tree rooted at top-level function
node = ast.parse(src)

# next, ast's walk method takes all the difficulty out of tree-traversal for us
for x in ast.walk(node):
    # functions have names whereas variables have ids,
    # nested-classes may all use different terminology
    # you'll have to look at the various node-types to
    # get this part exactly right
    name_or_id = getattr(x,'name', getattr(x,'id',None))
    if name_or_id:
        print name_or_id
</code></pre>
<p><strong>Response:</strong></p>
<pre><code>function1
function2
f1_var1
function3
f2_var1
f2_var2
f3_var1
</code></pre>
<p>Thank you!</p>
","2024-05-15 13:33:57","0","Answer"
"78484163","","How to print name nested functions?","<p>For example, we have this:</p>
<pre><code>def function_one():
    print(&quot;Function one&quot;)
    def function_two():
        print(&quot;Function two&quot;)
        def function_three():
            print(&quot;Function three&quot;)
</code></pre>
<p>And wee need to see this:</p>
<pre><code>(function_one, function_two, function_three)
</code></pre>
<p>I tryed ast library, but it shows only first layer of function.</p>
","2024-05-15 13:05:39","0","Question"
"78482879","78480147","","<p>Since the original library function is of unknown implementation it therefore can not be directly rewritten/reimplemented and enhanced.</p>
<p>The OP's task is to capture the <code>a</code> parameter value of a function <code>f</code> neither knowing the implementation of <code>f</code> nor actually touching <code>f</code> itself.</p>
<p>Such a scenario can only be solved by <em><strong>function- or <a href=""https://stackoverflow.com/search?q=%5Bjavascript%5D+%22method+modification%22"">method-modification</a></strong></em> based on a function wrapping approach.</p>
<p>With the next provided solution the OP can choose to either reassign the ad hoc created modified version of the original function to this very function's variable name (or namespace) or to assign it to another constant/variable. Either way, the modified function will always feature the original function's name since the name might be of importance for some use cases. In addition, in order to be even more generic, the wrapper does not just assign the passed parameter to the returned function, but does assign all passed arguments as an array.</p>
<p><em><strong>Edit</strong> targeting following of the OP's comments ...</em></p>
<blockquote>
<p>... That's right. I just want to inspect the internals of a lambda function that I can call but not change. – burkay</p>
<blockquote>
<p>@burkay ... 1/2 ... since you can call the function you obviously know its name and can access it. Modifying functions takes place right after the environment/modules is/are loaded. One just passes the to be modified function into the modifier and does reassign the modifiers result to the functions identifier ...</p>
<pre><code>f = (function (proceed) {
  return function (...args) {
    const result = proceed(...args);
    Reflect.defineProperty(result, 'args', { value: args });
    return result;
  };
}(f));
</code></pre>
<p>... It's really as simple as that; its a straightforward approach with no magic behind it. – Peter Seliger</p>
<p>@burkay ... 2/2 ... Whoever or whatever process uses <code>f</code> next does already deal with the modified version of <code>f</code> which behaves exactly like before and therefore does not break any other code. The modified function's return value (a function itself) just features an additional (non enumerable, non writable) <code>args</code> property upon which the OP can build his very use case specific logic. – Peter Seliger</p>
</blockquote>
</blockquote>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// - original library function of unknown
//   implementation which therefore can not
//   be directly rewritten and enhanced.

function f(a) {
  return function (b) {
    return a * a + b;
  };
}

// - the task is to capture the `a` parameter value of function `f`.

// - thus, one has to rely on method-modification,
//   based on a function wrapping approach.

// - ad hoc creation and re/assignment of the function's modified version.
f = (function (proceed) {

  return ({
    // preserve the original function's name.
    [proceed.name]: function (...args) {

      const result = proceed(...args);

      if (typeof result === 'function') {

        // - assign the entire `arguments` as array to the
        //   to be returned function's `args` property.
        Reflect
          .defineProperty(result, 'args', { value: args });
      }
      return result;
    }
  })[proceed.name];

}(f)); // provide the original function of unknown implementation.

const fList = [f(-2), f(-1), f(0), f(1), f(2)];
const nonNegativeParameterFList = fList.filter(f =&gt; f.args.at(0) &gt;= 0);

console.log(
  nonNegativeParameterFList.map(f =&gt; f(3))
);
console.log(
  nonNegativeParameterFList.map(f =&gt; f.args)
);
console.log('f.name ...', f.name);</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
</div>
</div>
</p>
","2024-05-15 09:19:17","1","Answer"
"78482417","78464756","","<p>Having the employee count in the employee's table is probably not the best idea, and instead, you should have a separate table that references the employee's table and count the number of associated rows dynamically. SQL can handle this very effieicnetly, and you will always keep your data integrity.</p>
","2024-05-15 07:53:42","0","Answer"
"78481659","78480784","","<p>I am able to call both the functions separately by using the below code.</p>
<pre class=""lang-cs prettyprint-override""><code>using Microsoft.Azure.Functions.Worker;
using Microsoft.Azure.Functions.Worker.Http;
using Microsoft.Extensions.Logging;
using System.Net;

namespace _78480784
{
    public class TestFunction
    {
        private readonly ILogger&lt;TestFunction&gt; _logger;

        public TestFunction(ILogger&lt;TestFunction&gt; logger)
        {
            _logger = logger;
        }

        [Function(&quot;RegisterRelation&quot;)]
        public async Task&lt;HttpResponseData&gt; RegisterRelationAsync([HttpTrigger(AuthorizationLevel.Anonymous, &quot;post&quot;, Route = &quot;registerrelation/{relationnumber?}&quot;)] HttpRequestData req, string relationnumber)
        {
            _logger.LogInformation(&quot;RegisterRelation function processed a request.&quot;);
            var response = req.CreateResponse(HttpStatusCode.OK);
            if (!string.IsNullOrEmpty(relationnumber))
            {
                await response.WriteStringAsync($&quot;Relation Number: {relationnumber}&quot;);
            }
            else
            {
                await response.WriteStringAsync(&quot;Welcome to Azure Functions! Relation number is not provided.&quot;);
            }

            return response;
        }

        [Function(&quot;Searching&quot;)]
        public async Task&lt;HttpResponseData&gt; SearchingAsync([HttpTrigger(AuthorizationLevel.Anonymous, &quot;post&quot;, Route = &quot;search&quot;)] HttpRequestData req)
        {
            _logger.LogInformation(&quot;Searching function processed a request.&quot;);
            var response = req.CreateResponse(HttpStatusCode.OK);
            await response.WriteStringAsync(&quot;Welcome to Search Function!&quot;);
            return response;
        }
    }
}
</code></pre>
<p><strong>.csproj</strong>-</p>
<pre class=""lang-cs prettyprint-override""><code>&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;
  &lt;PropertyGroup&gt;
    &lt;TargetFramework&gt;net8.0&lt;/TargetFramework&gt;
    &lt;AzureFunctionsVersion&gt;v4&lt;/AzureFunctionsVersion&gt;
    &lt;OutputType&gt;Exe&lt;/OutputType&gt;
    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;
    &lt;Nullable&gt;enable&lt;/Nullable&gt;
    &lt;RootNamespace&gt;_78480784&lt;/RootNamespace&gt;
  &lt;/PropertyGroup&gt;
  &lt;ItemGroup&gt;
    &lt;FrameworkReference Include=&quot;Microsoft.AspNetCore.App&quot; /&gt;
    &lt;PackageReference Include=&quot;Microsoft.Azure.Functions.Worker&quot; Version=&quot;1.22.0&quot; /&gt;
    &lt;PackageReference Include=&quot;Microsoft.Azure.Functions.Worker.Extensions.Http&quot; Version=&quot;3.1.0&quot; /&gt;
    &lt;PackageReference Include=&quot;Microsoft.Azure.Functions.Worker.Extensions.Http.AspNetCore&quot; Version=&quot;1.2.1&quot; /&gt;
    &lt;PackageReference Include=&quot;Microsoft.Azure.Functions.Worker.Sdk&quot; Version=&quot;1.17.3-preview1&quot; /&gt;
    &lt;PackageReference Include=&quot;Microsoft.ApplicationInsights.WorkerService&quot; Version=&quot;2.22.0&quot; /&gt;
    &lt;PackageReference Include=&quot;Microsoft.Azure.Functions.Worker.ApplicationInsights&quot; Version=&quot;1.2.0&quot; /&gt;
  &lt;/ItemGroup&gt;
  &lt;ItemGroup&gt;
    &lt;None Update=&quot;host.json&quot;&gt;
      &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;
    &lt;/None&gt;
    &lt;None Update=&quot;local.settings.json&quot;&gt;
      &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;
      &lt;CopyToPublishDirectory&gt;Never&lt;/CopyToPublishDirectory&gt;
    &lt;/None&gt;
  &lt;/ItemGroup&gt;
  &lt;ItemGroup&gt;
    &lt;Using Include=&quot;System.Threading.ExecutionContext&quot; Alias=&quot;ExecutionContext&quot; /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</code></pre>
<p><strong>Output</strong>-</p>
<p><img src=""https://i.imgur.com/moMkEhC.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/KrdIE4D.png"" alt=""enter image description here"" /></p>
<pre class=""lang-cs prettyprint-override""><code>Azure Functions Core Tools
Core Tools Version:       4.0.5700 Commit hash: N/A +71cc84964a60bfb07d95839b7c666bd239507bdd (64-bit)
Function Runtime Version: 4.33.2.22572

[2024-05-15T04:42:12.433Z] Found C:\Users\******\78480784\78480784\78480784.csproj. Using for user secrets file configuration.
[2024-05-15T04:42:16.192Z] Azure Functions .NET Worker (PID: 5296) initialized in debug mode. Waiting for debugger to attach...
[2024-05-15T04:42:16.246Z] Worker process started and initialized.

Functions:

        RegisterRelation: [POST] http://localhost:7051/api/registerrelation/{relationnumber?}

        Searching: [POST] http://localhost:7051/api/search

For detailed output, run func with --verbose flag.
[2024-05-15T04:42:21.328Z] Host lock lease acquired by instance ID '000000000000000000000000BF6D1ED5'.
[2024-05-15T04:42:40.854Z] Executing 'Functions.Searching' (Reason='This function was programmatically called via the host APIs.', Id=1c1c05bf-78e1-4c07-adb9-6d78b1f03c30)
[2024-05-15T04:42:41.218Z] Searching function processed a request.
[2024-05-15T04:42:41.277Z] Executed 'Functions.Searching' (Succeeded, Id=1c1c05bf-78e1-4c07-adb9-6d78b1f03c30, Duration=452ms)
[2024-05-15T04:43:49.740Z] Executing 'Functions.RegisterRelation' (Reason='This function was programmatically called via the host APIs.', Id=b8eb8bf0-0333-45b2-a274-a3eaf4351d46)
[2024-05-15T04:43:49.775Z] RegisterRelation function processed a request.
[2024-05-15T04:43:49.784Z] Executed 'Functions.RegisterRelation' (Succeeded, Id=b8eb8bf0-0333-45b2-a274-a3eaf4351d46, Duration=44ms)
</code></pre>
","2024-05-15 04:48:58","0","Answer"
"78480908","78480872","","<p><code>shift</code> operator only allows single integer as an input. However you can try to build simple <code>when</code> statement, because in your example you have only two unique <code>shift</code> values.</p>
<pre><code>import polars as pl

df = pl.DataFrame({
    &quot;a&quot;: [1, 2, 3, 4]
    , &quot;offset&quot;: [1, -1, 1, -1]
    })

df.with_columns(shift=(
                pl.when(pl.col(&quot;offset&quot;) == 1)
                  .then(pl.col(&quot;a&quot;).shift(1))
                  .otherwise(pl.col(&quot;a&quot;).shift(-1))    
               ))
</code></pre>
<p>And a bit broader option where you build expression using unique values from 'shift' column.</p>
<pre><code>import polars as pl

df = pl.DataFrame({
    &quot;a&quot;: [1, 2, 3, 4]
    , &quot;offset&quot;: [1, -1, 1, -1]
    })


# create initial condition that is always non valid
expr = pl.when(1!=1).then(1)

for k in df['offset'].unique():
    # for each unique shift value add `when` clause
    expr = expr.when(pl.col(&quot;offset&quot;) == k).then(pl.col(&quot;a&quot;).shift(k))

df.with_columns(shift=expr)
</code></pre>
","2024-05-14 22:32:23","0","Answer"
"78480872","","ComputeError with polars dataframe while trying to pass a column expressions in a simple shift() operation","<p>Sorry, I'm starting out in Polars. Is there a way to achieve the same functionality of the shift(n) function where n is a dataframe variable.</p>
<p>When I try:</p>
<pre><code>df = pl.DataFrame({
    &quot;a&quot;: [1, 2, 3, 4]
    , &quot;offset&quot;: [1, -1, 1, -1]
    })

df.with_columns(shift=pl.col(&quot;a&quot;).shift(pl.col(&quot;offset&quot;)))
</code></pre>
<p>It gives me the error message:</p>
<pre><code>
Traceback (most recent call last):

  Cell In[107], line 1
    df.with_columns(shift=pl.col(&quot;a&quot;).shift(pl.col(&quot;offset&quot;)))

  File d:\anaconda3\Lib\site-packages\polars\dataframe\frame.py:8242 in with_columns
    return self.lazy().with_columns(*exprs, **named_exprs).collect(_eager=True)

  File d:\anaconda3\Lib\site-packages\polars\lazyframe\frame.py:1816 in collect
    return wrap_df(ldf.collect(callback))

ComputeError: n must be a single value.
</code></pre>
<p>Thank you very much in advance.</p>
","2024-05-14 22:16:42","1","Question"
"78480784","","API call sequence or priority c#","<p>I dont know how to describe this as a Google search so here it goes..</p>
<p>I have an Azure function with some methods:</p>
<ul>
<li><p>POST /123456 -&gt; creates the relation with number 123456 by using the information in the body.</p>
</li>
<li><p>POST / -&gt; creates the relation with a random number by using the information in the body.</p>
</li>
</ul>
<p>Both are handled like this:</p>
<pre><code>[Function(&quot;RegisterRelation&quot;)]
public async Task&lt;HttpResponseData&gt; RunAsync(
    [HttpTrigger(AuthorizationLevel.Function, &quot;post&quot;, Route = &quot;registerrelation/{relationnumber?}&quot;)]
</code></pre>
<p>and have a URL Rewrite policy in the API Management Portal:</p>
<pre><code>&lt;rewrite-uri template=&quot;/registerrelation/{id}&quot; /&gt;
</code></pre>
<p>Now I want to have this method as well:</p>
<ul>
<li>POST /search-&gt; Searches information for a relation by arguments that are specified in the body.</li>
</ul>
<pre><code>[Function(&quot;Searching&quot;)]
public async Task&lt;HttpResponseData&gt; RunAsync(
    [HttpTrigger(AuthorizationLevel.Function, &quot;post&quot;, Route = &quot;search&quot;)]
</code></pre>
<p>I notice that when I run the latter, the first method is executed, (so a relation with number 'search' is created. I believe it is because of the alphabetic order. In .Net6 I was able to fix this with an underscore in the functionname, but .Net8 doesn't accept this anymore..</p>
<p>I will probably make a mistake in the API definition here but I have no clue.</p>
","2024-05-14 21:47:46","0","Question"
"78480231","78480147","","<p>If you can override <code>f</code>:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function f(a) { return function(b) { return a * a + b; }; }

const param = Symbol();
// override f() and assign the param to it
f = a =&gt; {
  const out = b =&gt; a * a + b;
  out[param] = a;
  return out;
};

var fList = [f(-2), f(-1), f(0), f(1), f(2)];

const positive = fList.filter(f =&gt; f[param] &gt;= 0);

console.log(positive.map(f=&gt;f(3)));</code></pre>
</div>
</div>
</p>
","2024-05-14 19:15:12","1","Answer"
"78480204","78480147","","<p>if your fList is in numerical order (as you show above), then you know that every element in fList <em><strong>before</strong></em> the result of 0 (ie f(0) = 0 * 0 + 0 = 0) is from a negative number</p>
","2024-05-14 19:08:42","1","Answer"
"78480147","","How does one access the arguments of a function call when this function can not be rewritten due to its unknown implementation?","<p>I have a function-returning function. The inner function makes use of the parent function's argument in its body. Then I make a list of functions produced by calling the parent function with different arguments. Here is an example:</p>
<pre><code>function f(a) { return function(b) { return a * a + b; }; }
var fList = [f(-2), f(-1), f(0), f(1), f(2)];
</code></pre>
<p>Those are from a library and I cannot modify them.</p>
<p>I was wondering if there is any possibility to apply a filter on the <code>fList</code> based on the value of the argument of <code>f</code>. For example can I get the items in <code>fList</code> where the <code>f</code> function is called with a non-negative value? I tried inspecting <code>fList[0]</code> in debug console but could not make any progress unfortunately.</p>
<p>I feel like this is not possible. However, since when I call <code>fList[0](2)</code> it uses the <code>a</code> variable's value of <code>-2</code>, I am hoping so.</p>
<p>Please do not suggest using an inverse function, that's why I made it return <strong>the square</strong> of the searched argument plus the inner one. Above is an over-simplified example and the body in the real case is much different with some side effects.</p>
","2024-05-14 18:56:39","1","Question"
"78478179","78478127","","<p>You are Calling It Wrong.</p>
<p>Function Parameters in Powershell are called WITHOUT the parenthesis.</p>
<p><code>pow2 2 10</code> will work</p>
<p>Also you don't need <code>return</code></p>
","2024-05-14 12:43:29","2","Answer"
"78478127","","powershell calling pow() in function","<p>I want my <code>pow2($a,$n)</code> function to call <code>[math]::pow($a,$n)</code> so I wrote this :</p>
<pre><code>function pow2($a,$n) {
    return [math]::pow($a,$n)
}
</code></pre>
<p>But when I call it I get this error :</p>
<pre><code>PS C:\&gt; pow2(2,10)
Cannot convert argument &quot;x&quot;, with value: &quot;System.Object[]&quot;, for &quot;Pow&quot; to type &quot;System.Double&quot;: &quot;Cannot convert the &quot;System.Object[]&quot; value of
type &quot;System.Object[]&quot; to type &quot;System.Double&quot;.&quot;
At C:\Users\sebastien.mansfeld\OneDrive - PLURIAD – Groupe
Media-Participations\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1:18 char:9
+     return [math]::pow($a,$n)
+            ~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (:) [], MethodException
    + FullyQualifiedErrorId : MethodArgumentConversionInvalidCastArgument

PS C:\&gt; 
</code></pre>
<p>I expect this result :</p>
<pre><code>PS C:\&gt; pow2(2,10)
1024
PS C:\&gt; 
</code></pre>
","2024-05-14 12:33:52","0","Question"
"78476748","","How do I solve the ""No such activation function: 'sum'"" error in Python NEAT?","<p>I was creating a simple game AI using NEAT. However, I discovered an issue where the game window would just open and close as it transitioned from generation 0 to generation 1, and in reality, it kept repeating generation 0, so I asked gpt to modify it. When I ran the modified code, I got the following message:</p>
<pre><code>eunwoocho@Eunwoos-MacBook-Pro python % /usr/local/bin/python3 &quot;/Users/eunwoocho/Documents/Python/import pygame.py&quot;
pygame 2.5.2 (SDL 2.28.3, Python 3.12.2)
Hello from the pygame community. https://www.pygame.org/contribute.html

****** Running generation 0 ******

Population's average fitness: 4.55500 stdev: 8.71705
Best fitness: 68.00000 - size: (10, 36) - species 69 - id 69
Average adjusted fitness: 0.067
Mean genetic distance 3.545, standard deviation 0.244
Population of 402 members in 200 species:
ID age size fitness adj fit stag
==== === ==== ======= ======= ====
1 0 2 1.0 0.015 0
.....omit....
200 0 2 0.0 0.000 0
Total extinctions: 0
Generation time: 2.484 sec

****** Running generation 1 ******

Traceback (most recent call last):
File &quot;/Users/eunwoocho/Documents/Python/import pygame.py&quot;, line 129, in &lt;module&gt;
run(config_path, 50)
File &quot;/Users/eunwoocho/Documents/Python/import pygame.py&quot;, line 121, in run
winner = p.run(lambda genomes, config: main(genomes, config, p.generation, target_generations), target_generations)
File &quot;/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/neat/population.py&quot;, line 89, in run
fitness_function(list(iteritems(self.population)), self.config)
File &quot;/Users/eunwoocho/Documents/Python/import pygame.py&quot;, line 121, in &lt;lambda&gt;
winner = p.run(lambda genomes, config: main(genomes, config, p.generation, target_generations), target_generations)
File &quot;/Users/eunwoocho/Documents/Python/import pygame.py&quot;, line 57, in main
net = neat.nn.FeedForwardNetwork.create(g, config)
File &quot;/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/neat/nn/feed_forward.py&quot;, line 51, in create
activation_function = config.genome_config.activation_defs.get(ng.activation)
File &quot;/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/neat/activations.py&quot;, line 128, in get
raise InvalidActivationFunction(&quot;No such activation function: {0!r}&quot;.format(name))
neat.activations.InvalidActivationFunction: No such activation function: 'sum'
</code></pre>
<p>The game did move from generation 0 to generation 1, but an error message</p>
<pre><code>&quot;No such activation function: 'sum'&quot;
</code></pre>
<p>occurred. However, I have never used 'sum' in config-feedfoword or in the game code, so I'm wondering why this error is occurring.</p>
<p>And this is the code modified by GPT and config-feedforward.txt file:</p>
<p><a href=""https://drive.google.com/drive/folders/1zgzum4HR72b0eOUtvjY7tlB3v8xk0_O5?usp=drive_link"" rel=""nofollow noreferrer"">https://drive.google.com/drive/folders/1zgzum4HR72b0eOUtvjY7tlB3v8xk0_O5?usp=drive_link</a></p>
<p>To solve the problem, I checked for any code containing sum, and following GPT's advice that the activation_default item was the issue, I changed it from activation_default = relu to sigmoid, but the 'sum' error still appears. The truly frustrating part is that I haven't used the word sum at all. Please help this suffering young developer.</p>
","2024-05-14 08:27:12","0","Question"
"78474951","78474421","","<p>OK, first rule of coding is post your problem in SO.  Guaranteed that you'll solve your own question in under an hour!</p>
<p>So I was putting the <code>request.text()</code> into a variable, and that did not work.  But what does work is passing <code>request.text()</code> directly into the call to <code>stipe.webhooks.constructEvent()</code> like this:</p>
<pre><code>    // Only verify the event if you have an endpoint secret defined.
    if (webhookState?.secret) {
        try {
            event = stripe.webhooks.constructEvent(
                await request.text(),
                signature,
                webhookState?.secret
            );
        } catch (err) {
            Log.error(`⚠️  A1 Webhook signature verification failed.`, err.message);
            return {
                status: 400,
            };
        }

        Log.error(`✳️  Webhook signature verification succeeded!`);
    }
</code></pre>
<p>Now I'll do a happy dance!</p>
","2024-05-13 21:58:32","0","Answer"
"78474421","","How to get Azure Functions (Typescript) HttpRequest raw body as string (for Stripe web hook verification)","<p>I'm trying to verify a Stripe web hook call in my Typescript v4 Azure Function App.</p>
<p>I successfully receive the call from Stripe, with the signature from the header, but I can't work out how to get the unmodified body from the HttpRequest object.  The error that I get is:</p>
<pre><code>[Error]   ⚠️  Webhook signature verification failed. No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
</code></pre>
<p>I've tried parsing the body.json, and using a package like <code>raw-body</code> (which just crashes the function with no error), and feeding the <code>req.body.toString()</code> ReadableStream into Buffer with no success (see examples below).</p>
<p>This did not work:</p>
<pre><code>const requestBody: any = await request.json();
const requestBodyString = JSON.stringify(requestBody);
</code></pre>
<p>This did not work:</p>
<pre><code>var getRawBody = require('raw-body')
const rawBodyBuffer: any = await request.body.toString();
const requestBodyString = getRawBody(rawBodyBuffer);
</code></pre>
<p>This did not work:</p>
<pre><code>const requestBodyString = request.text();
</code></pre>
<p>Has anyone successfully capture the raw body of an Azure Function (Typescript) and verified it with Stripe using the signature?  If so can you share an example of you code please?</p>
","2024-05-13 19:32:50","0","Question"
"78473524","78473488","","<blockquote>
<p>getComputerChoice()</p>
</blockquote>
<p>With parentheses, this means to execute the function. The code in the function runs, and then a value is returned, and you can decide what to do with the value. For example, you have this:</p>
<blockquote>
<p>console.log(getComputerChoice());</p>
</blockquote>
<p>That will take the return value from getComputerChoice() and log it, but after that nothing else gets done with the return value.</p>
<blockquote>
<p>getComputerChoice</p>
</blockquote>
<p>If there's no parentheses, then you aren't calling the function, you're just referring to it. So when you do this:</p>
<blockquote>
<p>const computerSelection = getComputerChoice;</p>
</blockquote>
<p>All that's doing is saying that <code>computerSelection</code> should be the same function as <code>getComputerChoice</code>. The function doesn't actually get called and nothing gets computed.</p>
<p>What you probably meant to do was this:</p>
<pre><code>const computerSelection = getComputerChoice();
const humanSelection = getHumanChoice();

console.log(computerSelection);
console.log(humanSelection);
</code></pre>
<p>The line <code>const computerSelection = getComputerChoice();</code> will call the function, get the result, and then assign that result to computerSelection. Since you now have it stored in a variable you can use it later, logging it out, or passing it into <code>playRound</code></p>
","2024-05-13 16:08:06","3","Answer"
"78473488","","Why isn't a function using returned arguments from previous functions?","<p>I am a beginner in The Odin project JavaScript part of the foundations course and doing The Rock&amp;Paper&amp;Scissors assignment</p>
<p>My playRound function isn't working properly, it just doesn't read the parameters as it should to give me the correct result in the game. Why is this happening?</p>
<p>Here is my code:</p>
<pre><code>let humanScore = 0;
let computerScore = 0;

function getComputerChoice() {
  let computerRound = Math.random();
  if (computerRound &lt;= 0.33) {
    return &quot;rock&quot;;
  } else if (computerRound &gt;= 0.34 &amp;&amp; computerRound &lt; 0.66) {
    return &quot;paper&quot;;
  } else {
    return &quot;scissors&quot;;
  }
}

console.log(getComputerChoice());

function getHumanChoice() {
  let humanRound = prompt(&quot;Rock, Paper or Scissors? &quot;).toLowerCase();
  if (humanRound == &quot;rock&quot;) {
    return &quot;rock&quot;;
  } else if (humanRound == &quot;paper&quot;) {
    return &quot;paper&quot;;
  } else if (humanRound == &quot;scissors&quot;) {
    return &quot;scissors&quot;;
  } else {
    alert(&quot;enter 'rock, paper or scissors'&quot;);
  }
}
console.log(getHumanChoice());

const computerSelection = getComputerChoice();
const humanSelection = getHumanChoice();

function playRound(getComputerChoice, getHumanChoice) {
  if (
    (computerSelection == &quot;paper&quot; &amp;&amp; humanSelection == &quot;rock&quot;) ||
    (computerSelection == &quot;scissors&quot; &amp;&amp; humanSelection == &quot;paper&quot;) ||
    (computerSelection == &quot;rock&quot; &amp;&amp; humanSelection == &quot;scissor&quot;)
  ) {
    return `You lose ${computerSelection} beats ${humanSelection}`;
  } else if (computerSelection === humanSelection) {
    return `Draw`;
  } else return `You win`;
}

console.log(playRound(computerSelection, humanSelection));

</code></pre>
<p>I've read through my lessons again, re-written the code but still stuck on the same issue</p>
","2024-05-13 16:01:48","2","Question"
"78473392","78473265","","<p>You can use <code>iterrows()</code>:</p>
<pre><code>import pandas as pd
import matplotlib.pyplot as plt


def plot(df):
    for _, row in df.iterrows():
        b = row['b']
        λ1 = row['λ1']
        λ2 = row['λ2']
        restricao = row['r']

        if restricao in ['&lt;=', '&gt;', '=']:
            if not λ1:
                plt.plot([0, 0], [0, b / λ2], linestyle='solid')
            elif not λ2:
                plt.plot([b / λ1, 0], [0, 0], linestyle='solid')
            elif not b:
                plt.plot([0, 0], [0, 0], linestyle='solid')
            else:
                plt.plot([b / λ1, 0], [0, b / λ2], linestyle='solid')

    plt.xlabel('x-axis')
    plt.ylabel('y-axis label')
    plt.title('Equations')
    plt.grid(True)
    plt.show()


df = pd.DataFrame({
    'b': [-1.0, 1.0, 3.4],
    'λ1': [2.0, -2.0, 3.0],
    'λ2': [5.0, -3.0, 3.0],
    'r': ['&lt;=', '&gt;', '=']
})

plot(df)


</code></pre>
<h3>Plots</h3>
<p>Then, you can change it, however you want. Seems you have linear programming boundaries.</p>
<p><a href=""https://i.sstatic.net/IYDdxchW.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/IYDdxchW.png"" alt=""enter image description here"" /></a></p>
","2024-05-13 15:42:28","0","Answer"
"78473265","","How to plot several linear equations in Python?","<p>I have many linear equations contained in a dataframe and I want to plot these equations in Python, the equations are in this format, for example:</p>
<p><a href=""https://i.sstatic.net/cWxLIeVg.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>How do I do this automatically?</p>
<pre><code>b = row['b']
λ1 = row['λ1']
λ2 = row['λ2']
restricao = row['Restrições']

if restricao == '&lt;=':
    # Se λ1 for zero
    if λ1 == 0:
        plt.plot([0, 0], [0, b / λ2], linestyle='solid')

    # Se λ2 for zero
    elif λ2 == 0:
        plt.plot([b / λ1, 0], [0, 0], linestyle='solid')

    # Se λ2 for zero
    elif b == 0:
        plt.plot([0, 0], [0, 0], linestyle='solid')

    # Se ambos λ1 e λ2 são diferentes de zero
    else:
        plt.plot([b / λ1, 0], [0, b / λ2], linestyle='solid')

elif restricao == '&gt;=':
    # Se λ1 for zero
    if λ1 == 0:
        plt.plot([0, 0], [0, b / λ2], linestyle='solid')

    # Se λ2 for zero
    elif λ2 == 0:
        plt.plot([b / λ1, 0], [0, 0], linestyle='solid')

    # Se λ2 for zero
    elif b == 0:
        plt.plot([0, 0], [0, 0], linestyle='solid')

    # Se ambos λ1 e λ2 são diferentes de zero
    else:
        plt.plot([b / λ1, 0], [0, b / λ2], linestyle='solid')
</code></pre>
","2024-05-13 15:21:48","1","Question"
"78471525","78465351","","<p>Of course, your problem has several solutions. For example, you can try extracting numbers to sum using <a href=""https://ask.libreoffice.org/t/extract-sum-of-numbers-from-text-using-regex/104734/3?u=johnsun"" rel=""nofollow noreferrer""><strong>a complex formula with the REGEX() function</strong></a>, or experiment with FILTERXML(SUBSTITUTE()) or come up with an even more complex method.</p>
<p>However, if you clearly understand what exactly needs to be done with the existing string, then it is easier and faster to write your own function in BASIC. For example like this:</p>
<pre><code>Function SplitAndSum(sSourceText As String, sPrefix As String, sSuffix As String) As Double 
Dim aPairs() As String, sPair As String 
Dim aPages() As String 
Dim dResult As Double 
    dResult = 0
    aPairs = Split(sSourceText, sPrefix)
    For Each sPair In aPairs
        aPages = Split(sPair, sSuffix)
        If UBound(aPages) &gt; 0 Then
            dResult = dResult + CLng(aPages(1))
        Else
            dResult = dResult + 1
        EndIf 
    Next sPair
    SplitAndSum = dResult
End Function 
</code></pre>
<p>Now a formula like</p>
<p><code>=-SPLITANDSUM(E56;&quot;;&quot;;&quot;:&quot;)*VLOOKUP(D56;Utskriftspris;2;0)</code></p>
<p>will do exactly the calculation you are asking for in your question.</p>
<p>However, you will greatly simplify the task for both yourself and Calc if you change the order registration form to something like this:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Dato</th>
<th>Antal</th>
<th>Produkt</th>
<th>Pris</th>
</tr>
</thead>
<tbody>
<tr>
<td>05.01.2024</td>
<td>1</td>
<td>A4 s/k to</td>
<td>-0.26</td>
</tr>
<tr>
<td>05.04.2024</td>
<td>9</td>
<td>A4 s/k to</td>
<td>-2.34</td>
</tr>
<tr>
<td>05.04.2024</td>
<td>1</td>
<td>A4 s/k éi</td>
<td>-0.41</td>
</tr>
<tr>
<td>05.04.2024</td>
<td>2</td>
<td>A4 farge to</td>
<td>-20.18</td>
</tr>
<tr>
<td>05.05.2024</td>
<td>4</td>
<td>A4 s/k to</td>
<td>-1.04</td>
</tr>
</tbody>
</table></div>
<p>Just enter your data row by row, day by day, order by order.</p>
<p>A formula like this will help you create a summary table in the form you showed in your question:</p>
<p><code>{=TEXTJOIN(&quot;;&quot;;1;IF($E$79:$E$1087=C90;TEXT($C$79:$C$1087;&quot;M.D.YY&quot;)&amp;&quot;: &quot;&amp;$D$79:$D$1087))}</code></p>
","2024-05-13 10:08:41","2","Answer"
"78470787","78470705","","<p>The <code>prototype</code> property on a class is not <code>writable</code>:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>class Example {}

console.log(Object.getOwnPropertyDescriptor(Example, ""prototype""));</code></pre>
</div>
</div>
</p>
<p>Whereas it is writable in the case of a constructor function:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function Example() {}

console.log(Object.getOwnPropertyDescriptor(Example, ""prototype""));</code></pre>
</div>
</div>
</p>
<p>This is why assigning to the <code>prototype</code> property works in the case of a constructor function but doesn't work with a class.</p>
<p>If you need to add a method on the prototype object of a class, define it inside the class:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>class Example {
  sayHi() {
    console.log(""hi"");
  }
  sayBye() {
    console.log(""Bye"");
  }
}

const e = new Example();
console.log(Object.getOwnPropertyNames(Example.prototype));</code></pre>
</div>
</div>
</p>
","2024-05-13 07:54:02","1","Answer"
"78470705","","Setting Prototype Object of a Constructor function vs Prototype Object of a Class In JS?","<p>So, I was learning about Prototypes and OOPS concept in javascript. WHile playing around with prototypes, I came across this weird behaviour(weird because I am unaware of the concepts :) ).
The code for the same is as follows:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let o1 = {
  sayHi() {
    console.log(""hi"");
  },
  sayBye() {
    console.log(""Bye"");
  }
}

function ex() {
  this.naam = ""ash"";
}

ex.prototype = o1;
let o2 = new ex();

console.log(o2);

class example {
  constructor(a) {
    this.naam = a;
  }
}

example.prototype = o1;
const e = new example(""ash"");
console.log(e);</code></pre>
</div>
</div>
</p>
<p>Output on console looked something like this:
<a href=""https://i.sstatic.net/vR6FFxo7.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/vR6FFxo7.png"" alt=""Output for above code"" /></a></p>
<p>I thought both the outputs will look the same in terms of their prototype but it turned out that directly assigning an object to prototype object of class doesn't seem to work at all.</p>
<p>I know that this is a bad practice and a new prototype shall be added to the prototype of the class using something like <code>Object.setPrototypeOf(example.prototype, o1)</code>, but just for better understanding, I came up with this question. Would be really grateful if anyone could help me out.</p>
","2024-05-13 07:37:00","0","Question"
"78468730","78468286","","<p>You can make it so that you can call internal functions from outside.</p>
<p>To do this, you need to modify the code a little and declare the internal functions as your own properties of the function:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function func_1() {
  // custom properties. name_fn.userProperties
  func_1.nested_func_1 = function(a) {
    console.log(""&lt;br/&gt; NESTED READ"");
    a = a * 2;
    return a;
  }
  return func_1.nested_func_1(23);
}

function func_2() {
  // take properties from func_1
  const b = func_1.nested_func_1(32);
  return b;
}

const a = func_1(); // first call func_1
console.log(""AAA "" + a);

const b = func_2(); // first call func_2
console.log(""BBB "" + b);

const c = func_1.nested_func_1(45);
console.log('CCC', c);</code></pre>
</div>
</div>
</p>
<p><strong>An important condition</strong> for this is that the visibility of the user-defined properties of the function appears only after the function has been called at least 1 time.</p>
<p>That is, if you refer to func_1.nested_func_1 before the first call of func_1(), then we get undefined</p>
<p>You can also expand the properties of functions at any time</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function func_1() {
  console.log('run');
}

func_1();

func_1.newFn = function(d) {
  return d ** 2;
}

console.log(func_1.newFn(5));</code></pre>
</div>
</div>
</p>
<p>This also works for arrow functions</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const arrowFn = () =&gt; {
  arrowFn.addFn = (s) =&gt; {
    return s * 3;
  }
}

arrowFn();

console.log(arrowFn.addFn(5));

arrowFn.sum = (g) =&gt; g + 5;

console.log(arrowFn.sum(5));</code></pre>
</div>
</div>
</p>
","2024-05-12 17:22:07","1","Answer"
"78468286","","Javascript, Call a nested function from outside the function or call it from inside another function","<p>Is it possible to call a function that is nested inside a function from either outside of the original function or from inside another function?</p>
<p>So in the example when the func_1 is called the first time it calls the nested_func_1 and returns a value;</p>
<p>In the second function (func_2) is it possible to call the nested_func_1 that is nested inside func_1 and return a value?</p>
<p>Finally is it possible to call nested_fun_1 from outside any function and return a value?</p>
<p>Thanks.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>    function func_1(){
        function nested_func_1(a){
            console.log(""&lt;br/&gt; NESTED READ"");
            a = a * 2;
            return a;
        };
        b = nested_func_1(23);
        return b;
    };
    
    function func_2(){
        // Call function nested_func_1 that is 
        // nested inside func_1 and return value;
        b = nested_func_1(32);
        return b;
    };
    
    a = func_1();
    console.log(""AAA ""+a);
    
    // CALL THE NESTED FUNCTION - nested_func_1 - 
    // FROM inside func_2 and return result;
    a = func_2();
    console.log(""BBB ""+a);
    
    // CALL THE NESTED FUNC from 
    // outside both functions;
    b = nested_funct_1(23);
    console.log(b);</code></pre>
</div>
</div>
</p>
","2024-05-12 14:55:38","0","Question"
"78467600","78467289","","<p>What some people think: while using <code>return</code> inside a loop, they think that loop continues to iterate even after returning the value. But it is no so. The <code>return</code> statement gives the value and breaks the loop. for instance, As per your code while calling the function <code>print(is_prime(15))</code>, the output will be <code>True</code>. During iteration, it checks with the first value in the range(2,n) (i.e) 2.</p>
<p>It divides the 15 by the first number 2; Balance is not zero.So it returns True; The iteration stops. It doesn't check the other value in in the range(2,15)</p>
<p>But to find out whether a number is prime, It should be ensured whether n is not divisible by all the numbers in the given range. So, it can be written the other way around.</p>
<pre><code>def is_prime(n):
    result = True
  
    for i in range(2, n):
        if n % i == 0:
            result = False; break
    return result
            

r = is_prime(15)
print(r) #Output: False

r = is_prime(17)
print(r) #Output: True
</code></pre>
<p>Here a default variable <code>result</code> is declared as <code>True</code>. Iteration is being done in the range(2,n). Now even if n is divisible even by one number, it returns <code>False</code>. If n is not divisible by all the numbers in the range, It returns the default value <code>True</code></p>
","2024-05-12 11:08:54","1","Answer"
"78467409","78467289","","<p>In your code in this part</p>
<pre><code>for i in range(2,n):    LINE-1
    if(n%i==0):         LINE-2
         return False   LINE-3
    else:             
         return True
</code></pre>
<p>at LINE-2 it will be <code>if(i%n==0)</code> and NOT <code>if(n%i==0)</code></p>
<p>The for loop will start from 2 and will go till (n-1) and dividing i by a number greater than it (for eg:2 % 975 = 0  ) will always give zero that's why you are getting &quot;False&quot; for 975</p>
<p>For 2 the for loop doesn't execute as the condition <code>(staring_index &lt; ending_index)</code> is False
so it goes into the else condition to print &quot;True&quot;</p>
","2024-05-12 10:00:01","-1","Answer"
"78467359","78467289","","<p>Your current implementation of the <code>is_prime</code> function returns True for any number n that is greater than or equal to 2 but less than 1000, regardless of whether it is a prime number. This is due to the fact that the function simply determines if n is divisible by any number between 2 and n-1, returning True in the event that n is not.</p>
<p>You must modify the logic of your function in order to resolve the problem and correctly detect whether a given integer is prime. This is the updated version with run loop from 2 to square_root of n + 1</p>
<pre><code>def is_prime(n):
    if n &lt; 2:
        return False
    for i in range(2, int(n ** 0.5) + 1):
        if n % i == 0:
            return False
    return True

print(is_prime(975))  # This should print False
print(is_prime(2))    # This should print True
</code></pre>
","2024-05-12 09:44:08","0","Answer"
"78467289","","How can I solve my error when I try to run code?","<pre class=""lang-py prettyprint-override""><code>def is_prime(n):
    # Write your function code here...
    if 2 &lt;= n and n &lt; 1000 :
        for i in range(2, n):
            if n % i == 0:
              return False
            else:
              return True
        
        
print(is_prime(975))
</code></pre>
<p>why <code>print(is_prime(975))</code> is true prima and <code>n = 2</code> is <code>None</code>. I need answer 975 is false and <code>n = 2</code> is true</p>
","2024-05-12 09:16:53","-2","Question"
"78467109","78467061","","<blockquote>
<p><code>FF</code> returns a pointer to an array of two pointers to integers</p>
</blockquote>
<p>Correct.</p>
<blockquote>
<p>dereferencing the result here <code>*FF(*TAB,0)</code> should be the first pointer in the array of two int pointers</p>
</blockquote>
<p>This is wrong. The function returns a pointer to an array. Dereferencing gives you the array itself, which then decays to a pointer to its first element. Since the element type is <code>int*</code>, the type decayed from the array is <code>int**</code>.</p>
<blockquote>
<p>the same with a_4 - dereferencing a double pointer should return a value (int) but is a pointer</p>
</blockquote>
<p>Same as above. Remember that an array decays to a pointer to its first element, not the first element itself.</p>
","2024-05-12 08:09:12","4","Answer"
"78467061","","initialization of a pointer to a result of a function in C","<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int *(*FF(int T[],int k))[2];

int main(){
    int TAB[4][6];
    int *(*(*a_1)(int [], int))[2]=FF+1;
    int *(*a_2)[2]=FF(TAB[1],6)+2;
    int **a_3=*FF(*TAB,0);
    int *a_4=**FF(*TAB,0);
    return 0;
}
</code></pre>
<p>Since <code>FF</code> returns a pointer to an array of two pointers to integers, dereferencing the result here <code>*FF(*TAB,0)</code> should be the first pointer in the array of two int pointers, so why is <code>a_3</code> a double pointer? the same with <code>a_4</code> - dereferencing a double pointer should return a value (<code>int</code>) but is a pointer.</p>
","2024-05-12 07:53:48","-1","Question"
"78466819","78466804","","<p>Why are you using all those lambdas?</p>
<pre><code>    def q_vals(x):
        return x / (0.3 * 0.7 * np.exp(- 0.224))

    def transfer_fn_sq(x):
        q = q_vals(x)
        return np.log(1 + 2.34 * q) * (1 + 3.89 * q)

    return sp.integrate.quad(transfer_fn_sq, 1, np.inf)
</code></pre>
","2024-05-12 05:58:54","1","Answer"
"78466804","","Python - Define a function with changing argument and insert that function into another function","<p>Let's say I have two functions where one depends on the other. I need to now put the first function inside the second function, and then integrate.</p>
<p>I've attempted it as below but it doesn't work, giving the error: unsupported operand type(s) for *: 'float' and 'function'</p>
<pre><code>import scipy as sp
from scipy import integrate

def q_vals():
    return lambda x: x / (0.3 * 0.7 * np.exp(- 0.224))
                                                    
def transfer_fn_sq(q = q_vals()):
    return lambda x: (np.log(1 + 2.34 * q) * (1 + 3.89 * q)

y = scipy.integrate.quad.(transfer_fn_sq, 1, np.inf)
</code></pre>
<p>I need to do it this way as I have multiple functions with longer expressions which are dependent on the previous function, so I can't simply type the whole expression out into the integral function.</p>
<p>Thanks</p>
","2024-05-12 05:47:04","0","Question"
"78466776","78466759","","<p>This is how I would solve the problem.</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)

buyPrice &lt;- c(1:10)
sellPrice &lt;- c(11:20)

exchange &lt;- tibble(buyPrice, sellPrice)

exchange |&gt;
  mutate(group = cumsum(row_number() %% 5 == 1)) |&gt;
  mutate(
    averageBuy = mean(buyPrice),
    averageSell = mean(sellPrice),
    .by = group
  )
#&gt; # A tibble: 10 × 5
#&gt;    buyPrice sellPrice group averageBuy averageSell
#&gt;       &lt;int&gt;     &lt;int&gt; &lt;int&gt;      &lt;dbl&gt;       &lt;dbl&gt;
#&gt;  1        1        11     1          3          13
#&gt;  2        2        12     1          3          13
#&gt;  3        3        13     1          3          13
#&gt;  4        4        14     1          3          13
#&gt;  5        5        15     1          3          13
#&gt;  6        6        16     2          8          18
#&gt;  7        7        17     2          8          18
#&gt;  8        8        18     2          8          18
#&gt;  9        9        19     2          8          18
#&gt; 10       10        20     2          8          18
</code></pre>
<p><sup>Created on 2024-05-12 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.0.2</a></sup></p>
","2024-05-12 05:28:34","1","Answer"
"78466759","","How can I calculate the average of n rows in a tibble and assign a new column to the tibble with the resulting value on those rows in r?","<p>I have a tibble with exchange quotations that give me 5 buying price values and 5 selling price values per day (or 5 rows with 2 columns per day)</p>
<p>I'm trying to make an iterative solution where I cycle through the values, calculating sum and average for every 5 rows and save the result in a new column, repeated for the specific rows, so, for example:</p>
<pre class=""lang-r prettyprint-override""><code>buyPrice &lt;- c(1:10)
sellPrice &lt;- c(11:20)

exchange &lt;- tibble(buyPrice, sellPrice)


# A tibble: 10 × 2
   buyPrice sellPrice
      &lt;int&gt;     &lt;int&gt;
 1        1        11
 2        2        12
 3        3        13
 4        4        14
 5        5        15
 6        6        16
 7        7        17
 8        8        18
 9        9        19
10       10        20
</code></pre>
<p>In this case, I would expect, after the work that I would have an <code>averageBuy</code> and an <code>averageSell</code> vector that I could appent to the tibble as new columns with the average values for every five rows:</p>
<pre class=""lang-r prettyprint-override""><code># A tibble: 10 × 4
   buyPrice sellPrice averageBuy averageSell
      &lt;int&gt;     &lt;int&gt;      &lt;dbl&gt;       &lt;dbl&gt;
 1        1        11          3          13
 2        2        12          3          13
 3        3        13          3          13
 4        4        14          3          13
 5        5        15          3          13
 6        6        16          8          18
 7        7        17          8          18
 8        8        18          8          18
 9        9        19          8          18
10       10        20          8          18
</code></pre>
<p>Comming from other language, I was trying something in the veins of:</p>
<pre class=""lang-r prettyprint-override""><code>getAverageByDay &lt;- function(dataSet, columnNumber) {
  
  temporarySum &lt;- 0
  average &lt;- c()
  dataSetRows &lt;- nrow(dataSet)
  averageList &lt;- rep(0,dataSetRows)
  
  for (i in 1:dataSetRows) {
    if (i %% 5 == 0) {
      temporarySum &lt;- temporarySum + dataSet[[i,columnNumber]]
      
      average &lt;- temporarySum / 5 
     
      averageList[(i-4):i] &lt;- rep(average,5)
      
      temporarySum &lt;- 0
      average &lt;- 0
      
    } else {
      temporarySum &lt;- temporarySum + dataSet[[i,columnNumber]] 
    }
  }
  return(averageList)
}

averageBuy &lt;- getAverageByDay(exchange, 1)
averageSell &lt;- getAverageByDay(exchange, 2)
</code></pre>
<p>Where I would append the resulting vectors as the new columns in the tibble. Everything else works, but this assignment that never happens:</p>
<p><code>averageList[(i-4):i] &lt;- rep(average,5)</code></p>
<p>Which in turn returns <code>NULL</code> from the function.</p>
<p>If there's something more r specific than a for loop, I'd very much appreciate to know. Also, not very expensive if possible. Thanks</p>
","2024-05-12 05:13:23","1","Question"
"78465552","78455519","","<p>The point is that your regex matches numbers that do not support dots inside them, see the <code>\d+</code> in <code>\d+(?:-\d+)*</code>.</p>
<p>So, you can use <code>\d*\.?\d+</code> or <code>\d+(?:\.\d+)*</code> instead of <code>\d+</code>:</p>
<pre class=""lang-none prettyprint-override""><code>п\.\s*\d+(?:\.\d+)*\s*ГОСТ(?:\s*Р)?\s*\d*\.?\d+(?:-\d*\.?\d+)*
п\.\s*\d+(?:\.\d+)*\s*ГОСТ(?:\s*Р)?\s*\d+(?:\.\d+)*(?:-\d+(?:\.\d+)*)*
</code></pre>
<p>See <a href=""https://regex101.com/r/1Gfolj/1"" rel=""nofollow noreferrer"">regex demo #1</a> and <a href=""https://regex101.com/r/1Gfolj/2"" rel=""nofollow noreferrer"">regex demo #2</a>.</p>
<p>I'd use <code>п\.\s*\d+(?:\.\d+)*\s*ГОСТ(?:\s*Р)?\s*\d+(?:\.\d+)*(?:-\d+(?:\.\d+)*)*</code>, as the standardization codes cannot start with a <code>.</code> char, and <code>\d*\.?\d+</code> allows them, but both should work in your data set.</p>
<p>Cf:</p>
<ul>
<li><code>\d*\.?\d+</code> - zero or more digits, then an optional dot, and then one or more digits</li>
<li><code>\d+(?:\.\d+)*</code> - one or more digits, and then zero or more repetitions of <code>.</code> and one or more digits.</li>
</ul>
","2024-05-11 17:40:52","0","Answer"
"78465486","78465352","","<p>You need two things to do this.</p>
<p><strong>First</strong> use the <strong>scope resolution operator</strong> <code>::</code> to tell the compiler that you want to befriend the global <code>make</code> function template.</p>
<p><strong>Second</strong> use parenthesis around <code>::make</code> like <code>(::make)</code> to tell the compiler that <code>make</code> is not a member function of <code>std::array</code>. If you don't provide the parenthesis then the compiler will <a href=""https://godbolt.org/z/7TP51ezn6"" rel=""nofollow noreferrer"">produce</a> the error that there is no member function named <code>make</code> in <code>std::array</code>.</p>
<p>So the solution is:</p>
<pre><code>template &lt;std::size_t N&gt; friend std::array&lt;int, N&gt; (::make)(int i);
</code></pre>
<p><a href=""https://godbolt.org/z/bP6sh41K7"" rel=""nofollow noreferrer"">Working demo</a></p>
<hr />
<p>The second reason is also explained in <a href=""https://stackoverflow.com/questions/63919889/declaring-a-friend-function-in-the-global-namespace-that-returns-a-template-clas"">declaring a friend function in the global namespace that returns a template class</a></p>
","2024-05-11 17:16:30","2","Answer"
"78465352","","Friend function template with non type paramer in outer namespace doesn't friend","<p>The function <code>make()</code> has non type template parameter <code>N</code>. That is decrared and defined in the global namespace.</p>
<p>The class <code>target</code> is defined in the namespace <code>ns</code>. That has a private constructor.</p>
<p>I want to create the <code>target</code> instance, so I added friend declaration for the function template <code>make()</code>.</p>
<p>However, compiler reports error <code>calling a private constructor of class 'ns::target'</code>.</p>
<p>If I removed the namespace <code>ns</code>, error is disappered. Why does it happen? Is there any good way to declare friend function template in this case?</p>
<p>Here is the code example that reproduces the issue. If you set <code>USE_NS</code> to 0, <code>ns</code> is removed and works fine.</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;cstddef&gt;
#include &lt;array&gt;
#include &lt;iostream&gt;

#define USE_NS 1 // if set to 0, works fine

// fwd
template &lt;std::size_t N&gt;
std::array&lt;int, N&gt; make(int i);

#if USE_NS
namespace ns {
#endif
    struct target {
    private:
        template &lt;std::size_t N&gt;
        friend
        std::array&lt;int, N&gt; make(int i);

        target(int i) {
            std::cout &lt;&lt; i &lt;&lt; std::endl;
        }
};
#if USE_NS
} // namespace ns
#endif

// def
template &lt;std::size_t N&gt;
std::array&lt;int, N&gt; make(int i) {

#if USE_NS
    auto p = ns::target(i);
#else
    auto p = target(i);
#endif
    (void)p;

    return std::array&lt;int, N&gt;{};
}

int main() {
    make&lt;2&gt;(20);
    make&lt;4&gt;(40);
}
</code></pre>
<p>godbolt link: <a href=""https://godbolt.org/z/ado8nMfbW"" rel=""nofollow noreferrer"">https://godbolt.org/z/ado8nMfbW</a></p>
<p>I aslo tried declare the explicit specialization of <code>make()</code> function template.</p>
<pre class=""lang-cpp prettyprint-override""><code>        friend
        std::array&lt;int, 2&gt; make&lt;2&gt;(int i);
        friend
        std::array&lt;int, 4&gt; make&lt;4&gt;(int i);
</code></pre>
<p>It works with namespace. But I can't use this approach because the value and numer of <code>N</code> is unpredictable.</p>
<p>godbolt link: <a href=""https://godbolt.org/z/Koas15hef"" rel=""nofollow noreferrer"">https://godbolt.org/z/Koas15hef</a></p>
","2024-05-11 16:33:07","1","Question"
"78465351","","Extract and sum all numbers before semicolons in string","<p>I have a list of different categories of printing and would like to enter any date on which a printout was done and how many pages were printed, thus:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Produkt</th>
<th>Dato</th>
<th>Pris</th>
</tr>
</thead>
<tbody>
<tr>
<td>A4 s/k éi</td>
<td>4.5.2024: 1;</td>
<td>−£  0,41</td>
</tr>
<tr>
<td>A4 s/k to</td>
<td>1.5.2024: 1; 4.5.2024: 9; 5.5.2024: 4</td>
<td>−£  0,26</td>
</tr>
<tr>
<td>A4 farge éi</td>
<td></td>
<td>£  0,00</td>
</tr>
<tr>
<td>A4 farge to</td>
<td>4.5.2024: 2;</td>
<td>−£ 10,09</td>
</tr>
<tr>
<td>A4 s/k éi, fin</td>
<td></td>
<td>£  0,00</td>
</tr>
<tr>
<td>A4 s/k to, fin</td>
<td></td>
<td>£  0,00</td>
</tr>
<tr>
<td>A4 farge éi, fin</td>
<td></td>
<td>£  0,00</td>
</tr>
<tr>
<td>A4 farge to, fin</td>
<td></td>
<td>£  0,00</td>
</tr>
<tr>
<td>Bibliotek, per</td>
<td></td>
<td>£  0,00</td>
</tr>
<tr>
<td>Blekk</td>
<td></td>
<td>£  0,00</td>
</tr>
<tr>
<td>Tonar</td>
<td></td>
<td>£  0,00</td>
</tr>
</tbody>
</table></div>
<p>Let us call the columns A, B and C. In column A is the kind of printing cost; in column B is the date and the number of printouts; in column C is a <code>VLOOKUP</code> which gathers the page cost for each type of printout and multiplies that by the number in column B.</p>
<p>Column B is always in the format <code>d.m.yyyy: x;</code> where <em>x</em> is the number of pages. The date and month can be two digits.</p>
<p>What I would like to do, is find some way to extract all column B numbers that are between the colon and semicolon, add them together and multiply them by the <code>VLOOKUP</code> value in C. Is there any way to do that in Calc? I have so far only found one way to do this that works well with one instance: <code>TEXTBEFORE</code>, though I do not think that formula even exists in Calc, and in any case it only works for a single case. How can this be solved?</p>
<p><strong>Main question:</strong> <em>How can I extract each number between the colon and semicolon and sum them all?</em></p>
<p>P. S.: I currently have the following formula to extract the number of colons and multiply them by the price; this is the closest I have gotten:<br>
<code>=IF(D56=&quot;&quot;;&quot;&quot;;(LEN(E56)-LEN(SUBSTITUTE(E56;&quot;:&quot;;&quot;&quot;)))*VLOOKUP(D56;Utskriftspris;2;0)*-1)</code></p>
","2024-05-11 16:32:33","1","Question"
"78464823","78464696","","<p>You tried to fetch the 12th element of the <code>month_days</code> list. You used <code>month_days[month]</code> for this but the month variable is <code>12</code> and the last index of <code>month_days</code> list is 11. So you should use <code>month_days[month-1]</code> instead. The output you saw is just a random digit since it was out of index.</p>
","2024-05-11 13:38:29","0","Answer"
"78464816","78464696","","<p>Welcome!
I prefer that you calculate the days of the month and then calculate the days between the two dates.</p>
<p>The following code shows the best way to get the count days between two dates:</p>
<pre><code>#include &lt;stdio.h&gt;

int getDaysInMonth(int year, int month) {
  if (month &lt; 1 || month &gt; 12) {
    printf(&quot;Invalid month: %d\n&quot;, month);
    return -1; // Indicate error
  }

  // Months with 31 days
  if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {
    return 31;
  }

  // February: check for leap year
  if (month == 2) {
    if (year % 4 == 0 &amp;&amp; (year % 100 != 0 || year % 400 == 0)) {
      return 29;
    } else {
      return 28;
    }
  }

  // Months with 30 days (April, June, September, November)
  return 30;
}

bool isLeapYear(int year) {
  return (year % 4 == 0 &amp;&amp; (year % 100 != 0 || year % 400 == 0));
}

int countDays(int startDate, int startMonth, int endDate, int endMonth, int year) {
  if (year &lt; 1 || startMonth &lt; 1 || startMonth &gt; 12 || endMonth &lt; 1 || endMonth &gt; 12) {
    printf(&quot;Invalid year or month values\n&quot;);
    return -1; // Indicate error
  }

  if (startDate &lt; 1 || startDate &gt; getDaysInMonth(year, startMonth)) {
    printf(&quot;Invalid start day for month %d\n&quot;, startMonth);
    return -1; // Indicate error
  }

  if (endDate &lt; 1 || endDate &gt; getDaysInMonth(year, endMonth)) {
    printf(&quot;Invalid end day for month %d\n&quot;, endMonth);
    return -1; // Indicate error
  }

  int totalDays = 0;

  // Handle cases where start and end month are the same
  if (startMonth == endMonth) {
    totalDays = endDate - startDate + 1;
  } else {
    // Add days from start month
    totalDays += getDaysInMonth(year, startMonth) - startDate + 1;

    // Add days from all months between start and end month (excluding start and end month)
    for (int month = startMonth + 1; month &lt; endMonth; month++) {
      totalDays += getDaysInMonth(year, month);
    }

    // Add days from end month
    totalDays += endDate;
  }

  return totalDays;
}

int main() {
  // Example usage: Calculate days between January 1st and December 31st, 2024 (should be 366)
  int totalDays = countDays(1, 1, 31, 12, 2024);
  printf(&quot;Total days between January 1st and December 31st, 2024: %d\n&quot;, totalDays);

  // You can call this function with different start and end dates within the same year
  int daysBetween = countDays(10, 5, 20, 8, 2024); // Should be 112
  printf(&quot;Total days between May 10th and August 20th, 2024: %d\n&quot;, daysBetween);

  return 0;
}

</code></pre>
","2024-05-11 13:36:04","0","Answer"
"78464756","","Trouble creating a trigger function in Supabase for updating a field in another table","<p>I'm currently working on a project using Supabase, and I'm having trouble creating a trigger function to update a field in another table.</p>
<p>Here's the scenario:</p>
<p>I have two tables in my Supabase database:</p>
<ol>
<li>Employee table with columns: id, name, and team_id.</li>
<li>Team table with columns: code, name, employeeCount.</li>
</ol>
<p>I want the employeeCount field in the Team table to be updated whenever an employee is added to or removed from a specific team.</p>
<p>I tried creating a trigger function in Supabase to achieve this, but I'm encountering syntax errors or issues with the trigger itself. Here's the function I attempted to create:</p>
<pre><code>CREATE OR REPLACE FUNCTION update_employee_count()
RETURNS TRIGGER
LANGUAGE plpgsql
AS $$
BEGIN
    IF TG_OP = 'INSERT' THEN
        UPDATE Team
        SET employeeCount = employeeCount + 1
        WHERE code = NEW.team_id;

    ELSIF TG_OP = 'DELETE' THEN
        UPDATE Team
        SET employeeCount = employeeCount - 1
        WHERE code = OLD.team_id;
    END IF;

    RETURN NEW;
END;
$$;
</code></pre>
<p>When I tried to create this function, I received an error message indicating a syntax error near the CREATE statement.</p>
<p>Could someone please help me identify what might be wrong with my function or suggest an alternative approach to achieve the desired outcome? Any insights would be greatly appreciated.</p>
<p>Thank you!</p>
","2024-05-11 13:21:19","0","Question"
"78464696","","Unexpected output on a function that counts days between 2 given dates","<pre><code>//A function that counts days from a given date to a given date
int count_days_from(int start_day, int start_month, int day, int month, int year){
    
    //DECLARATION AND INITIALIZATION SEGMENT
    int month_days[12] = {31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
    int days = 0;

    //CALCULATIONS
    for(int i = start_month; i &lt; month; i++)
        days = days + month_days[i];
    days = days + (month_days[month] - day);  
    
    
    return days;
}
</code></pre>
<p>Hello. This is something I coded in C in order to calculate the number of days between 2 given-from-user dates.</p>
<p>I tried to test it using the inputs <code>printf(&quot;%d\n&quot;, count_days_from(1, 1, 31, 12, 2024);</code></p>
<p>Although there was the unexpected output: <code>1915424856</code></p>
<p>What is wrong with it?</p>
","2024-05-11 12:58:16","0","Question"
"78460573","78457295","","<blockquote>
<p>The question is why does the address-of operator behave different when applied to a value which is declared with array syntax (?) <a href=""https://stackoverflow.com/questions/78457295/why-is-address-of-array-typed-variable-different-when-it-is-local-vs-when-it-is#comment138318722_78457295"">Ref</a></p>
</blockquote>
<p>The result of the address operator <code>&amp;</code> does not depend on the <em>value</em> of the <em>object</em>, only on the <em>address</em> of the <em>object</em>.</p>
<p>With the below code:<br />
<code>&amp;loc_ia</code> is the address of <code>loc_ia</code>.  <code>loc_ia</code> is an <em>array</em>.<br />
<code>&amp;arg_ia</code> is the address of <code>arg_ia</code>.  <code>arg_ia</code> is an <em>pointer</em>.</p>
<pre><code>void myfunc(int arg_ia[3]) {
    int loc_ia[3] = { 1, 2, 3 };

    printf(&quot;loc_ia = %p, &amp;loc_ia[0] = %p, &amp;loc_ia = %p\n&quot;,
           loc_ia, &amp;loc_ia[0], &amp;loc_ia);

    printf(&quot;arg_ia = %p, &amp;arg_ia[0] = %p, &amp;arg_ia = %p\n&quot;,
           arg_ia, &amp;arg_ia[0], &amp;arg_ia);    

    // Pedantic: %p matches a void *, so code really should be
    printf(&quot;loc_ia = %p, &amp;loc_ia[0] = %p, &amp;loc_ia = %p\n&quot;,
           (void *) loc_ia, (void *) &amp;loc_ia[0], (void *) &amp;loc_ia);
    // etc.
}
</code></pre>
<hr />
<blockquote>
<p>Why does <code>&amp;arg_ia</code> yield an address on the local call stack and not the base address that was passed in?</p>
</blockquote>
<p>The &quot;base address&quot; of what was passed in is the <em>value</em> of the pointer <code>arg_ia</code>.  The <code>&amp;</code> operator depends on the <em>address</em> of the object, a pointer in this case, not its value. Thus a local call stack address is expected.</p>
","2024-05-10 13:49:51","-1","Answer"
"78459709","78457295","","<p>Referring to my venerable 1988 Second Edition K&amp;R (which replace the 1978 First Edition I used at university from a very early age)...</p>
<p>&quot;Within the called function, this argument is a local variable, and so an array name parameter is a pointer, that is, a variable containing an address.&quot;</p>
<p>Obviously I don't absorb the full ramifications of that back in my university days, always assuming that the First Edition said it at all!</p>
<p><a href=""https://i.sstatic.net/oJPXn10A.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/oJPXn10A.jpg"" alt=""K&amp;R - Second Edition cover"" /></a>
<a href=""https://i.sstatic.net/IvxzzwWk.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/IvxzzwWk.jpg"" alt=""K&amp;R - Second Edition ISBN"" /></a>
<a href=""https://i.sstatic.net/8M2QFiKT.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/8M2QFiKT.jpg"" alt=""K&amp;R - description of array-typed function parameters"" /></a></p>
","2024-05-10 11:05:04","0","Answer"
"78459265","78456989","","<p>with return you can use the function in a expression or in the return part of the select:</p>
<p>select arraycol(....) from ... ;
or
select ccccc from tttt where col1=arraycol(....);</p>
<p>whereas with OUT you need to use variable to catch the returned value.</p>
","2024-05-10 09:45:43","0","Answer"
"78459018","78457295","","<p>@dbush has provided the correct answer, but obscured it with unnecessary commentary about how arrays are passed into functions - I already said I know that. Here is an answer which focuses on the specific question - &quot;why does address-of behave differently?&quot;</p>
<p>The answer (in section 6.7.6.3p7 of the <a href=""https://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf"" rel=""nofollow noreferrer"">C standard</a>, as noted by @dbush) is that the compiler SILENTLY ALTERS the type of the parameter from <code>int[]</code> to <code>int*</code>, so the address-of operator acts on a POINTER variable (which has an actual address) rather than an ARRAY variable (which does not).  This can be seen in my modified example, which also shows that an array-typed variable can be passed identically to both an array-typed and a pointer-typed function parameter, just to underscore that I really do know.</p>
<p>Program:</p>
<pre><code>#include &lt;stdio.h&gt;

void myfunc(int arg_ia[3], int * arg_ip)
{
    int loc_ia[3] = { 1, 2, 3 };

    printf(&quot;loc_ia = %p, &amp;loc_ia[0] = %p, &amp;loc_ia = %p, loc_ia==&amp;loc_ia[0] = %d, loc_ia==&amp;loc_ia = %d\n&quot;,
           loc_ia, &amp;loc_ia[0], &amp;loc_ia, (void*)loc_ia == (void*)&amp;loc_ia[0],  (void*)loc_ia == (void*)&amp;loc_ia);

    printf(&quot;arg_ia = %p, &amp;arg_ia[0] = %p, &amp;arg_ia = %p, arg_ia==&amp;arg_ia[0] = %d, arg_ia==&amp;arg_ia = %d\n&quot;,
           arg_ia, &amp;arg_ia[0], &amp;arg_ia, (void*)arg_ia == (void*)&amp;arg_ia[0], (void*)arg_ia == (void*)&amp;arg_ia);    

    printf(&quot;arg_ip = %p, &amp;arg_ip[0] = %p, &amp;arg_ip = %p, arg_ip==&amp;arg_ip[0] = %d, arg_ip==&amp;arg_ip = %d\n&quot;,
           arg_ip, &amp;arg_ip[0], &amp;arg_ip, (void*)arg_ip == (void*)&amp;arg_ip[0], (void*)arg_ip == (void*)&amp;arg_ip);    
        
}

int main(void)
{
    int mai_ia[3] = { 4, 5, 6 };

    printf(&quot;mai_ia = %p, &amp;mai_ia[0] = %p, &amp;mai_ia = %p, mai_ia==&amp;mai_ia[0] = %d, mai_ia==&amp;mai_ia = %d\n&quot;,
           mai_ia, &amp;mai_ia[0], &amp;mai_ia, (void*)mai_ia == (void*)&amp;mai_ia[0], (void*)mai_ia == (void*)&amp;mai_ia);    

    myfunc(mai_ia, mai_ia);
}
</code></pre>
<p>Output:</p>
<pre><code>mai_ia = 0x30da9f83c, &amp;mai_ia[0] = 0x30da9f83c, &amp;mai_ia = 0x30da9f83c, mai_ia==&amp;mai_ia[0] = 1, mai_ia==&amp;mai_ia = 1
loc_ia = 0x30da9f80c, &amp;loc_ia[0] = 0x30da9f80c, &amp;loc_ia = 0x30da9f80c, loc_ia==&amp;loc_ia[0] = 1, loc_ia==&amp;loc_ia = 1
arg_ia = 0x30da9f83c, &amp;arg_ia[0] = 0x30da9f83c, &amp;arg_ia = 0x30da9f800, arg_ia==&amp;arg_ia[0] = 1, arg_ia==&amp;arg_ia = 0
arg_ip = 0x30da9f83c, &amp;arg_ip[0] = 0x30da9f83c, &amp;arg_ip = 0x30da9f7f8, arg_ip==&amp;arg_ip[0] = 1, arg_ip==&amp;arg_ip = 0
</code></pre>
","2024-05-10 08:55:52","0","Answer"
"78458054","78458022","","<p>There's a few improvements you can make - hopefully this a) works and b) does the same thing you were doing...</p>
<pre class=""lang-py prettyprint-override""><code>import re  # don't import modules inside functions

def Ptfs(filename):  # pass filename into function
    
    count = 0
    total = 0  # calculate total as we go

    with open(filename) as fhand:  # use with so file gets closed automatically
        for line in fhand:
            numbers = re.findall('[0-9]+' ,line) 
            for number in numbers :
                total += int(number)
            count += 1 # shorthand for count = count + 1
    return count, total

# pass filename into function and return count and total
count, total = Ptfs(&quot;file_name&quot;) 
# use f-strings to format output
print(f&quot;{total} There were {count} lines that were summed.&quot;)

</code></pre>
","2024-05-10 04:54:21","0","Answer"
"78458022","","Python: Trying to create a Parse & Sum Function to call later","<p>As the title states, I'm trying to create (def) a function wherein I import re and then parse through a string (using Regular Expressions) to add the numbers up at the end in a list. I know the code works outside of the function I am trying to save. I've just never created a function this complex so I'm unsure of indentation usage or if it's possible.</p>
<p>Edit: After indenting my 'print' statement, the function does work. However it prints out all 87 lines and the sum per line. I had it on the outside of the loop so that it would only show one line. I just want it to show the last line (total sum and how many lines were counted). Before while working on this outside of the function I attempted to splice but that didn't work. I have also only been working with Python for maybe 5 days so please be gentle lol. I often go back and review material or google for an answer I can understand.</p>
<pre><code>#create function to import the re lib and then parse through &quot;fhand&quot; after the file is opened by calling this function.

def Ptfs():
    import re
    count = 0
    total = list()
    for line in fhand:
        numbers = re.findall('[0-9]+' ,line) 
        for number in numbers :
            num = int(number)
            total.append(num)
            count = count + 1
print(sum(total), &quot;There were&quot;, count,  &quot;lines that were summed.&quot;)

fhand = open(&quot;file_name&quot;, 'r')
Ptfs() 
</code></pre>
","2024-05-10 04:41:26","0","Question"
"78457333","78457295","","<p>Put simply, arrays cannot be parameters to a function.</p>
<p>Any function defined as taking an array as a parameter is in fact taking a pointer instead.  Section 6.7.6.3p7 of the <a href=""https://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf"" rel=""nofollow noreferrer"">C standard</a> states the following regarding function parameters:</p>
<blockquote>
<p><strong>A declaration of a parameter as ‘‘array of type’’ shall be adjusted to
‘‘qualified pointer to type’’</strong>, where the type qualifiers (if any) are
those specified within the <code>[</code> and <code>]</code> of the array type derivation. If
the keyword <code>static</code> also appears within the <code>[</code> and <code>]</code> of the array type
derivation, then for each call to the function, the value of the
corresponding actual argument shall provide access to the first
element of an array with at least as many elements as specified by the
size expression</p>
</blockquote>
<p>This means that your function declared like this:</p>
<pre><code>void myfunc(int arg_ia[3]) {
</code></pre>
<p>Is exactly equivalent to:</p>
<pre><code>void myfunc(int *arg_ia) {
</code></pre>
<p>So when you call the function like this:</p>
<pre><code>myfunc(mai_ia);
</code></pre>
<p>It received the address of the first element of the array.</p>
<p>You could in fact change the function to take the array's address:</p>
<pre><code>void myfunc(int (arg_ia*)[3]) {
</code></pre>
<p>Which can be called like this:</p>
<pre><code>myfunc(&amp;mai_ia);
</code></pre>
<p>In which case the value of <code>arg_ia</code> in the function will be the address of the array <code>mai_ia</code> in main (which is the same as the address of its first element).</p>
","2024-05-09 23:10:03","2","Answer"
"78457295","","Why is address of array-typed variable different when it is local vs when it is a function argument?","<p>We are taught from an early age that the name of an array-typed variable yields the address of it's zeroth element, and that taking the address of that name yields the same address, but with a different pointer type (the type of the whole array rather than the type of a single element). However, this is not true if the array-typed variable is a function argument. In this case &quot;&amp;&quot; yields the address on the stack when the address of the passed-in array is stored, as if the argument was declared &quot;X* x&quot; rather than &quot;X x[]&quot;. Why is this?</p>
<p>I know enough to understand that arrays are not passed by copying, they are passed by sending the address of the zeroth element. My code shows this, so please do not tell me. My question is, why wasn't the &amp; operator ignored when it was applied to the array-typed function argument?</p>
<p>Program:</p>
<pre><code>#include &lt;stdio.h&gt;

void myfunc(int arg_ia[3])
{
    int loc_ia[3] = { 1, 2, 3 };

    printf(&quot;loc_ia = %p, &amp;loc_ia[0] = %p, &amp;loc_ia = %p, loc_ia==&amp;loc_ia[0] = %d, loc_ia==&amp;loc_ia = %d\n&quot;,
           loc_ia, &amp;loc_ia[0], &amp;loc_ia, (void*)loc_ia == (void*)&amp;loc_ia[0],  (void*)loc_ia == (void*)&amp;loc_ia);

    printf(&quot;arg_ia = %p, &amp;arg_ia[0] = %p, &amp;arg_ia = %p, arg_ia==&amp;arg_ia[0] = %d, arg_ia==&amp;arg_ia = %d\n&quot;,
           arg_ia, &amp;arg_ia[0], &amp;arg_ia, (void*)arg_ia == (void*)&amp;arg_ia[0], (void*)arg_ia == (void*)&amp;arg_ia);    
}

int main(void)
{
    int mai_ia[3] = { 4, 5, 6 };

    printf(&quot;mai_ia = %p, &amp;mai_ia[0] = %p, &amp;mai_ia = %p, mai_ia==&amp;mai_ia[0] = %d, mai_ia==&amp;mai_ia = %d\n&quot;,
           mai_ia, &amp;mai_ia[0], &amp;mai_ia, (void*)mai_ia == (void*)&amp;mai_ia[0], (void*)mai_ia == (void*)&amp;mai_ia);    

    myfunc(mai_ia);
}
</code></pre>
<p>Output:</p>
<pre><code>mai_ia = 0x7ff7b45195bc, &amp;mai_ia[0] = 0x7ff7b45195bc, &amp;mai_ia = 0x7ff7b45195bc, mai_ia==&amp;mai_ia[0] = 1, mai_ia==&amp;mai_ia = 1
loc_ia = 0x7ff7b451958c, &amp;loc_ia[0] = 0x7ff7b451958c, &amp;loc_ia = 0x7ff7b451958c, loc_ia==&amp;loc_ia[0] = 1, loc_ia==&amp;loc_ia = 1
arg_ia = 0x7ff7b45195bc, &amp;arg_ia[0] = 0x7ff7b45195bc, &amp;arg_ia = 0x7ff7b4519580, arg_ia==&amp;arg_ia[0] = 1, arg_ia==&amp;arg_ia = 0
</code></pre>
<p>Thank you.</p>
","2024-05-09 22:55:12","2","Question"
"78456989","","Postgres which is the differene between returns and OUT when there is only one OUT","<p>In question <a href=""https://stackoverflow.com/questions/78451509"">How to generate an array of given size, with one field populated?</a> I have been instructed to write instead of a &quot;returns&quot; an &quot;OUT&quot; statement for a function definition.
The reason was that in that case I may assign to the OUT variable an anyarray &quot;type&quot; that seems impossible to do with return.</p>
<p>As I see that OUT is more flexible than &quot;returns&quot; I am wandering if I may use it for all my functions or if there is any drawback or difference that I do not understand.
By the way, I have to note that when there is only one OUT it seems to me that the result is exactly equal to return, while instead if there are more OUT then the output is a 'record' of the OUTs.</p>
<p>In order to understand without reading the above question, I repeat bellow the code in question:
My tentative wrong initial code was:</p>
<pre><code>create function arraycol(v anyelement,n int,i int) returns anyarray language plpgsql
</code></pre>
<p>and it has been exchanged with</p>
<pre><code>create function arraycol(v anyelement,n int,i int,OUT r anyarray)   language plpgsql
</code></pre>
<p>TO RESUME may I change all returns to OUT ? and forget about return forever ?</p>
","2024-05-09 21:08:33","0","Question"
"78455519","","How to remove specific parts of text from string?","<p>I am using Python. I have a dataframe with string &quot;description&quot;. In these strings, I have things like: &quot;п. 5.6.2 ГОСТ 2.114-2016&quot;, &quot;п. 4.1 ГОСТ 2.102-2013&quot;, &quot;п.5 ГОСТ Р 51672-2000&quot; and so on. I want to remove them.</p>
<p>I tried this code:</p>
<pre><code>import pandas as pd
import re

# Sample DataFrame
data = {'description': [&quot;п. 5.6.2 ГОСТ 2.114-2016&quot;,
                        &quot;п. 4.1 ГОСТ 2.102-2013&quot;,
                        &quot;п.5 ГОСТ Р 51672-2000&quot;]}

df = pd.DataFrame(data)

# Define the regex pattern to match the specified format
pattern = r'п\.\s*\d+(?:\.\d+)*\s*ГОСТ(?:\s*Р)?\s*\d+(?:-\d+)*'

# Remove the matched patterns from the 'description' column
df['description'] = df['description'].apply(lambda x: re.sub(pattern, '', x))

print(df)
</code></pre>
<p>but result is:</p>
<pre><code>              description
0               .114-2016
1               .102-2013
2                     
</code></pre>
<p>What  am I doing wrong?</p>
","2024-05-09 15:35:17","2","Question"
"78455474","78448819","","<p>The way you wrote the function makes it that you only can run it for a single variable, so you would have to rewrite it in order to be run for many variables.</p>
<p>Another option would be running your function inside a for loop, map, or apply, so that you can run the same function many times using different arguments (in this case, variables).</p>
<p>Using <code>purrr::map</code>:</p>
<pre><code>variables = c(&quot;als&quot;, &quot;var2&quot;, &quot;var3&quot;, &quot;var4&quot;)
props &lt;- map(variables, ~fun(df, .x))
</code></pre>
<p>This would result in a list that contains all the dataframes for the variables provided in <code>variables</code>. You would have to modify your function sightly to make it run using a string of the variable name by changing <code>var_1 &lt;- enquo(var_1)</code> to <code>var_1 &lt;- sym(var_1)</code>.</p>
<p>But I can't test this answer because you didn't provide a minimal reproducible example!</p>
","2024-05-09 15:26:38","0","Answer"
"78454620","78448628","","<p>The idiomatic way to do this in R is to bind the rows into a data frame and then <a href=""https://stat.ethz.ch/R-manual/R-patched/library/base/html/split.html"" rel=""nofollow noreferrer""><code>split()</code></a>:</p>
<pre class=""lang-r prettyprint-override""><code>do.call(rbind, y2)  |&gt;
    split(~alphabet)

# $a
#   alphabet latitude longitude
# 1        a 7.302888  5.143116

# $b
#   alphabet latitude longitude
# 2        b 7.302717  5.143184

# $c
#   alphabet latitude longitude
# 3        c 4.948605  8.352012

# $d
#   alphabet latitude longitude
# 4        d  4.94861  8.352157

# $e
#   alphabet latitude longitude
# 5        e 7.681907  6.414152

# $f
#   alphabet latitude longitude
# 6        f 7.681867  6.414239
</code></pre>
","2024-05-09 13:02:46","1","Answer"
"78452239","78452043","","<blockquote>
<p>The problem is that when you add event listeners inside a loop using
an anonymous function,</p>
</blockquote>
<p><strong>Now use the Update Version its working perfectly.</strong></p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let deleteEnabled = false;

// Define the event listener outside deleteNote function
const setDeleteBorder = function (e) {
  e.target.style.border = ""5px solid red"";
  e.target.style.borderRadius = ""10px"";
  e.target.style.cursor = ""pointer"";
};

const removeDeleteBorder = function (e) {
  e.target.style.border = """";
  e.target.style.borderRadius = """";
};

const deleteNote = function () {
  deleteEnabled = !deleteEnabled;
  const noteElements = document.querySelectorAll("".note"");

  if (deleteEnabled) {
    noteElements.forEach((el) =&gt; {
      el.addEventListener(""mouseenter"", setDeleteBorder);
      el.addEventListener(""mouseleave"", removeDeleteBorder);
    });
  } else {
    noteElements.forEach((el) =&gt; {
      el.removeEventListener(""mouseenter"", setDeleteBorder);
      el.removeEventListener(""mouseleave"", removeDeleteBorder);
    });
  }
};

const deleteButton = document.getElementById(""deleteButton"");
deleteButton.addEventListener(""click"", deleteNote);</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.note {
          width: 100px;
          height: 100px;
          background-color: yellow;
          margin: 10px;
        }</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""note""&gt;Note 1&lt;/div&gt;
&lt;div class=""note""&gt;Note 2&lt;/div&gt;
&lt;div class=""note""&gt;Note 3&lt;/div&gt;
&lt;button id=""deleteButton""&gt;Delete&lt;/button&gt;</code></pre>
</div>
</div>
</p>
","2024-05-09 04:13:17","0","Answer"
"78452043","","Unable to use removeEventListener() to remove a handler from an element","<p>I've added a &quot;click&quot; event listener to a &quot;Delete&quot; button.</p>
<pre><code>deleteButton.addEventListener(&quot;click&quot;, deleteNote);
</code></pre>
<p>This event listener when triggered calls the function below:</p>
<pre><code>let deleteEnabled = false; // global variable

const deleteNote = function () {
  deleteEnabled = !deleteEnabled;
  const noteElements = document.querySelectorAll(&quot;.note&quot;);

  const setDeleteBorder = function (e) {
    e.target.style.border = &quot;5px solid red&quot;;
    e.target.style.borderRadius = &quot;10px&quot;;
    e.target.style.cursor = &quot;pointer&quot;;
  };

  if (deleteEnabled) {
    noteElements.forEach((el) =&gt; {
      el.addEventListener(&quot;mouseenter&quot;, (e) =&gt; setDeleteBorder(e));
      el.addEventListener(&quot;mouseleave&quot;, (e) =&gt; {
        e.target.style.border = &quot;&quot;;
        e.target.style.borderRadius = &quot;&quot;;
      });
    });
  } else if (!deleteEnabled) {
    noteElements.forEach((el) =&gt;
      el.removeEventListener(&quot;mouseenter&quot;, (e) =&gt; setDeleteBorder(e))
    );
  }
};
</code></pre>
<p>The function works, and will add both the <code>mouseenter</code> and <code>mouseleave</code> event listeners to the array of elements, but when the <code>deleteButton</code> is pressed again <code>mouseenter</code> will not be removed by the <code>removeEventListener</code>.</p>
<p>At first i've thought it was a problem with the global variable not being toggled correctly, but when checking the console i've found out that multiple event listeners are being added, and <code>removeEventListener</code> is not removing any of them.</p>
<p>What could be causing this? Could it be a problem related to <code>this</code> pointing to the wrong element? Or is there something i am misunderstanding about <code>removeEventListener</code>?</p>
<p>So far, i've tried using <code>console.log()</code> to verify the value of the <code>deleteEnabled</code> variable, i've also tested with <code>addEventListener</code> and <code>removeEventListener</code> with another element on the global scope and i've managed to remove the event listener in that test. I've also tried renaming the handler that is being used with the event listener. Nothing i've tried so far has worked, and when i press the button, the same event handler keeps being added on top of the element.</p>
","2024-05-09 03:00:32","0","Question"
"78450268","78449759","","<p>When asking for help with Db2, always write your Db2-server platform (Z/OS, i-series,  linux/unix/windows/cloud) because the answer can vary with the server-platform (and version, sometimes).  There are dedicated tags on stackoverflow for each Db2-server platform - use them.</p>
<p>In Db2 (all platforms), when you use the SELECT statement you always need to have a FROM clause. Your error happens because you do not show a FROM clause.</p>
<p>If your Db2-server platform is Z/OS mainframe then you can use a pseudo table called SYSIBM.SYSDUMMY1 , as the target of your FROM clause. You can also use this on other platforms (it may be implemented as a view with one row and one column).</p>
<p>If your Db2-server platform is Linux / Unix / Windows / cloud, you can use the VALUES statement instead of a SELECT statement, and the VALUES statement does not need a FROM clause. For example, on Db2-LUW, <code>values(GetTotalSalesAmount('ID2353'))</code></p>
","2024-05-08 17:23:20","1","Answer"
"78450040","78449570","","<p>To do conditional rendering in React, you would typically want to create a piece of state that determines whether the component is rendered, and then just manipulate that piece of state.</p>
<p>So for instance...</p>
<pre><code>import { useState } from &quot;react&quot;;
import Snackbar from &quot;./Snackbar&quot;;

function RegistrationForm() {
   [showProgressBar, setShowProgressBar] = useState(false);

   function handleSubmitSuccess() {
      setShowProgressBar(true);
   }

   return (
      &lt;&gt;
         {some other jsx}
         {showProgressBar &amp;&amp; &lt;Snackbar /&gt;}
      &lt;/&gt;
   );
}
</code></pre>
<p>The conditional rendering method here (using the &amp;&amp;) is called short circuiting, where it doesn't move to the next part of the expression unless <code>showProgressBar</code> is true.</p>
<p>The change in state will cause a re-render of the component, and during this render it will mount the <code>Snackbar</code> component due to the short circuit.</p>
","2024-05-08 16:41:54","0","Answer"
"78449759","","How to call the user defined function on IBM DB2","<p>I have create a user defined function:</p>
<pre><code>CREATE FUNCTION GetTotalSalesAmount (Product_ID char(6))
RETURNS DECIMAL(10, 2)
LANGUAGE SQL
BEGIN
    DECLARE total_sales DECIMAL(10, 2);
    SELECT SUM(Sales_Amount) INTO total_sales FROM Sales s WHERE s.Product_ID = Product_ID;
    RETURN total_sales;
END
</code></pre>
<p>And I try to call it by using <code>SELECT GetTotalSalesAmount('ID2353') AS TotalSalesAmount;</code>, I get some error SQL Error</p>
<blockquote>
<p>[42601]: An unexpected token &quot;END<br />
SELECT GetTotalSalesAmount('ID23&quot; was found following &quot;ETURN total_sales&quot;.  Expected tokens may include:  &quot;<br />
&quot;.. SQLCODE=-104, SQLSTATE=42601, DRIVER=4.33.31</p>
</blockquote>
<p>I don't know where wrong? Is my function create wrong or the call function I use wrong?</p>
","2024-05-08 15:54:00","0","Question"
"78449570","","Use Function in React","<p>I have this progress bar as a div</p>
<pre><code>import React from 'react'
import logo from &quot;../img/Madcor_Icon.png&quot;

function Snackbar() {
  return (
    &lt;div&gt;
      &lt;figure className='notification'&gt;
            &lt;div className='notification__body'&gt;

                Das Profil wurde erfolgreich angelegt  
                &lt;img src={logo}
                    title='Erfolgreich'
                    alt='Erfolgreich'
                    className='notification__icon'
                /&gt;
            &lt;/div&gt;
            &lt;div className='notification__progress'&gt;&lt;/div&gt;
        &lt;/figure&gt;   
    &lt;/div&gt;
  );
}

export default Snackbar;
</code></pre>
<p>I want to show the div (Progress Bar) if the registration on Firebase Auth worked.</p>
<pre><code>function RegistrationForm() {

    const handleSumbit = (e) =&gt; {
        e.preventDefault()
        const emailReg = e.target.emailReg.value
        const passwordReg = e.target.passwordReg.value

        createUserWithEmailAndPassword(database,emailReg,passwordReg)
        .then((userCredential) =&gt; {
            // Signed in 
            var user = userCredential.user;
            alert(user);
            // ...
          })
          .catch((error) =&gt; {
            alert(error)
            // ..
          });
    }
return

</code></pre>
<p>I tried to start the function like this, but I think that's the wrong way.
I'm new to react and not the best one in JS but I want to learn :)</p>
<pre><code>import React from 'react'
import &quot;../styles/forms.css&quot;;
import { database } from '../data/FirebaseConfig';
import { createUserWithEmailAndPassword } from &quot;firebase/auth&quot;;
import Snackbar from './snackbar';

function RegistrationForm() {

    const handleSumbit = (e) =&gt; {
        e.preventDefault()
        const emailReg = e.target.emailReg.value
        const passwordReg = e.target.passwordReg.value

        createUserWithEmailAndPassword(database,emailReg,passwordReg)
        .then((userCredential) =&gt; {
            // Signed in 
            var user = userCredential.user;
            alert(user);
            **Snackbar()**
          })
          .catch((error) =&gt; {
            alert(error)
            // ..
          });
    }
</code></pre>
<p>Can someone explain to me how I have to do this? Is it right that I have to import the function?</p>
<p>Thanks a lot for you help
greets Primo</p>
","2024-05-08 15:19:47","0","Question"
"78449137","78449101","","<p>You put them <em>inside</em> the function, as that's where the statement go. <em>Presumbly</em> (you don't show your attempt(s)) you tried <code>WITH CTE AS (...) SET @Variable...</code> however a CTE <em>cannot</em> be followed by a <code>SET</code>, it must be a <code>SELECT</code> or DML statement. You also have a syntax error in your CTE, as you don't close the parenthesis for your derived table, nor name it.</p>
<p>Fixing these it would look like this:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE FUNCTION dbo.MyFunction ()
RETURNS decimal --(p,s) required
AS BEGIN
    DECLARE @MyVariable decimal; --(p,s) required
    WITH
    a AS
        (SELECT *
         FROM dbo.mydb
         WHERE condition = 1),
    b AS
        (SELECT *
         FROM (SELECT bigswitch AS cased
               FROM dbo.myotherdb
                    LEFT JOIN dbo.anotherone ON 1 = 1
               WHERE condition = 1) a 
    ),
    c AS
        (SELECT a.*
         FROM a
              LEFT JOIN b ON 1 = 1)
    SELECT @MyVariable = c.firstdecimal
    FROM c;
    RETURN @MyVariable;
END;
GO
</code></pre>
<p>Though this is unlikely a good idea, use an inline Table Value Function instead:</p>
<pre><code>CREATE FUNCTION dbo.MyFunction ()
RETURNS table
AS
    RETURN WITH
           a AS
               (SELECT *
                FROM dbo.mydb
                WHERE condition = 1),
           b AS
               (SELECT *
                FROM (SELECT big AS switchcase
                      FROM dbo.myotherdb
                           LEFT JOIN dbo.anotherone ON 1 = 1
                      WHERE condition = 1) a --Alias goes here
           ),
           c AS
               (SELECT a.*
                FROM a
                     LEFT JOIN b ON 1 = 1)
    SELECT c.firstdecimal
    FROM c;
GO
</code></pre>
","2024-05-08 14:05:27","2","Answer"
"78449101","","Executing multiple WITH clauses inside a T-SQL function","<p>How do I include multiple WITH clauses inside of a T-SQL function?</p>
<p>So I have these WITH clauses:</p>
<pre class=""lang-sql prettyprint-override""><code>WITH a AS (
    SELECT 
        *
    FROM 
        dbo.mydb
    WHERE 
        condition
),
b AS (
    SELECT 
        * 
    FROM (
        SELECT 
            big switch case   
        FROM 
            dbo.myotherdb
        LEFT JOIN 
            dbo.anotherone
        WHERE 
            condition
),
c AS (
    SELECT 
        a.*
    FROM 
        a
    LEFT JOIN 
        b
)
</code></pre>
<p>Now, I would like to use my c clause inside of a function as such:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE FUNCTION dbo.MyFunction() RETURNS DECIMAL
AS BEGIN
    DECLARE @MyVariable DECIMAL
    SET @MyVariable = (
                        CASE
                        WHEN ( 
                            SELECT TOP(1) c.something 
                            FROM c AS c 
                            ) IS NOT NULL THEN 1
                        WHEN (
                            SELECT TOP(1) c.something
                            FROM c AS c 
                            WHERE c.something = 2
                            ) IS NOT NULL THEN 2 - dbo.otherfunction()
                        END)
RETURN @MyVariable
END GO
</code></pre>
<p>Where do I have to put my WITH clauses? Wherever I put them, I get a syntax error. Before my function declaration, inside after de the begin, before the select in the parantheses.</p>
<p>Edit: I modified my example function to look more like the real problem I have. Instead of a select statement, I need to do a switch case.</p>
<p>Okay so this is what the solution was:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE FUNCTION dbo.MyFunction() RETURNS DECIMAL
AS BEGIN
    DECLARE @MyVariable DECIMAL
WITH a AS (
    SELECT 
        *
    FROM 
        dbo.mydb
    WHERE 
        condition
),
b AS (
    SELECT 
        * 
    FROM (
        SELECT 
            big switch case   
        FROM 
            dbo.myotherdb
        LEFT JOIN 
            dbo.anotherone
        WHERE 
            condition
),
c AS (
    SELECT 
        a.*
    FROM 
        a
    LEFT JOIN 
        b
)
    SELECT @MyVariable = (
                        CASE
                        WHEN ( 
                            SELECT TOP(1) c.something 
                            FROM c AS c 
                            ) IS NOT NULL THEN 1
                        WHEN (
                            SELECT TOP(1) c.something
                            FROM c AS c 
                            WHERE c.something = 2
                            ) IS NOT NULL THEN 2 - dbo.otherfunction()
                        END)
RETURN @MyVariable
END GO
</code></pre>
","2024-05-08 13:58:26","0","Question"
"78448819","","How to apply a function to a number of variables in the same dataframe?","<p>I wrote the following function and I would like to apply it to a number of variables in my dataset.</p>
<p>Here is the function I wrote:</p>
<pre><code>fun &lt;- function(data, var_1) {

var_1 &lt;- enquo(var_1)

prop_all &lt;- data %&gt;%
filter(!!var_1&gt;=0)%&gt;%
group_by(!!var_1)%&gt;%
summarise(Percent=round(survey_mean(vartype=&quot;ci&quot;)*100,0), 
          Total = unweighted(n()))

prop_sex &lt;-data %&gt;%
filter(!!var_1&gt;=0 &amp; Sex&gt;=0)%&gt;%
group_by(Sex, !!var_1)%&gt;%
summarise(Percent=round(survey_mean(vartype=&quot;ci&quot;)*100,0), 
          Total = unweighted(n()))

prop_final &lt;- bind_rows(prop_all, prop_sex)
</code></pre>
<p>and here I call the function:</p>
<pre><code>prop &lt;- fun(data=df, var_1=alc)
</code></pre>
<p>This produces figures only for alc and I was wondering how I can apply this function to a number of variables in my dataset and produce a data frame that will include figures for all indicators.</p>
","2024-05-08 13:12:31","-1","Question"
"78448628","","Iterate along the two vectors of different length using map()","<p>I have two vectors of unequal length. One vector is a list of dataframes and the other vector is made up of unique values. How can I use <code>map()</code> to iterate the vectors over a custom function? Dummy data is as thus:</p>
<pre><code>x2 &lt;- letters
y2 &lt;- list(df1, df2, df3, .....)

# where:
df1 &lt;- data.frame(
                  alphabet = c(letters[1:2]),
                  latitude = c(7.302888, 7.302717),
                  longitude = c(5.143116, 5.143184)
                  )

df2 &lt;- data.frame(
                  alphabet = c(letters[3:4]),
                  latitude = c(4.948605, 4.948610),
                  longitude = c(8.352012, 8.352157)
)

df3 &lt;- data.frame(
                  alphabet = c(letters[5:6]),
                  latitude = c(7.681907, 7.681867),
                  longitude = c(6.414152, 6.414239 )
)

dist_func &lt;- function(i, j) {
  
  mat = j[j$alphabet==i, c(&quot;latitude&quot;,&quot;longitude&quot;)]
  
  mat

}

map(x2, ~ map(y2, function(j) dist_func(.i, j)))
</code></pre>
<p>throws up error:</p>
<p>Expected output should be list of dataframes, where each dataframe is as thus:</p>
<pre><code>  alphabet latitude longitude
1   a      7.302888  5.143116
</code></pre>
<p>any help will be appreciated.</p>
","2024-05-08 12:46:08","1","Question"
"78447291","","Can I have optional URL segments between hardcoded parts in Azure functions?","<p>I have a problem that I need to implement url template using azure functions.
.../hardcoded_segment1/{dynamic_segment}/{optional_dynamic_segment?}/hardcoded_segment2</p>
<p>I have problem with the optional segment, as it is not optional at all, when I test it in postman.
I was thinking if there is a way to make it work as requested within one http trigger.</p>
<p>dynamic_segment has at the moment only 3 possibilities, and for one of them I need the second optional parameter.</p>
<p>I implement it in azure function http trigger v4 in js. I was asking GPT if it is wrong, but it claims it should work. I tried to find any documentation on that topic, but I couldn't.</p>
<pre><code>const { app } = require('@azure/functions');

app.http('httpTrigger1', {
    methods: ['GET', 'POST'],
    route: 'v1/{segment1}/{segment2?}/bizdoc',
    authLevel: 'anonymous',
    handler: async (request, context) =&gt; {
        context.log(`Http function processed request for url &quot;${request.url}&quot;`);
        ...
        return { body: &quot;test&quot; };
    }
});
</code></pre>
<p>I have tried to move optional parameters to the end, then it works fine with one or both segments, but the solution was rejected and I have to met the requirements.</p>
<p>I also have been searching and I haven't seen anybody doing optional arguments between hardcoded segments.</p>
","2024-05-08 09:06:45","0","Question"
"78446430","78445156","","<p>&quot;I don't know if I can use <code>...</code>&quot;... I think you can, and doing so will allow you not to worry about which argument &quot;belongs&quot; to which child function.  The key is to add <code>...</code> as an argument to each of the child functions.</p>
<pre><code>foo &lt;- function(a, b, ...) {
  paste0(&quot;Foo - a: &quot;, a, &quot;; b: &quot;, b)
}

bar &lt;- function(x, y, z, ...) {
  paste0(&quot;Bar - x: &quot;, x, &quot;; y: &quot;, y, &quot;; z: &quot;, z)
}

baz &lt;- function(...) {
  list(...)
}

f &lt;- function(f1, f2, ...) {
  print(f1(...))
  print(f2(...))
}

f(f1 = foo, f2 = bar, a = 1, b = 2, c = 3, x = &quot;dog&quot;, y = &quot;cat&quot;, z = &quot;bird&quot;, unused = TRUE)
[1] &quot;Foo - a: 1; b: 2&quot;
[1] &quot;Bar - x: dog; y: cat; z: bird&quot;

f(f1 = foo, f2 = baz, a = 1, b = 2, m = 1, n = 10)
[1] &quot;Foo - a: 1; b: 2&quot;
$a
[1] 1

$b
[1] 2

$m
[1] 1

$n
[1] 10
</code></pre>
<p>If a child function doesn't support <code>...</code>, just wrap it one that does:</p>
<pre><code>foo1 &lt;- function(a, b) {
  paste0(&quot;Foo - a: &quot;, a, &quot;; b: &quot;, b)
}

foo1Wrapper &lt;- function(...) {
  args &lt;- list(...)
  foo1(a = args$a, b = args$b)
}

f(f1 = foo1Wrapper, f2 = baz, a = 1, b = 2, m = 1, n = 10)
[1] &quot;Foo - a: 1; b: 2&quot;
$a
[1] 1

$b
[1] 2

$m
[1] 1

$n
[1] 10
</code></pre>
<p>An alternative form for the wrapper could be</p>
<pre><code>foo1Wrapper &lt;- function(a, b, ...) {
  foo1(a = a, b = b)
}
</code></pre>
<p>with the same result</p>
","2024-05-08 06:22:02","0","Answer"
"78446207","78446057","","<p>To find the word with the shortest distance in your array that's less than the threshold, you need to:</p>
<ul>
<li>Check all words in your array (that means you can't <code>return</code> within your loop as that will terminate it early)</li>
<li>Confirm that the distance of the current word is less than the threshold distance</li>
<li>Confirm that the distance of the current word is less than the distance of the previously seen closest word.</li>
</ul>
<p>To remove the <code>return</code> in the middle of your loop, you should keep track of what the closest word is that you've seen so far. Below I'm storing this word in a variable called <code>closestWord</code> so that you can return it after your loop has finished (after your loop has finished, you've looked at all words, so you can safely say that the closest word is in <code>closestWord</code>). The other thing you can store (but not mandatory to do), is the calculated distance of the <code>closestWord</code>. Below I'm storing that in <code>closestDist</code>. This allows you to confirm that the distance calculated for the current word is smaller than (or equal to if you want to grab the last closest distance word seen) the closest word distance seen so far. We technically could remove the <code>closestDist</code> as it can be calculated by calling <code>getDistanceByLength</code> and passing in <code>closestWord</code> and <code>word</code>, but this allows us to initialise it to <code>Infinity</code>, making the comparison logic easier within the loop as you don't need to special-case the first time you come across a word that's less than the threshold to update <code>closestWord</code>:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const getDistanceByLength = (str1, str2) =&gt; Math.abs(str1.length - str2.length);

const getClosestWord = (word, words, distanceFn, threshold) =&gt; {
  let closestWord = word;
  let closestDist = Infinity;
  for (let i = 0; i &lt; words.length; i++) {
    const currDist = distanceFn(word, words[i]);
    // If the current word's distance is less than the threshold
    // and its distance is less than the distance for the closest word seen so far
    if (currDist &lt;= threshold &amp;&amp; currDist &lt;= closestDist) {
      closestWord = words[i];
      closestDist = currDist;
    }
  }
  return closestWord;
};

console.log(getClosestWord(
  ""mouse"", [""fish"", ""cat"", ""dog"", ""bird"", ""ant"", ""ox"", ""squid""],
  getDistanceByLength,
  4
));</code></pre>
</div>
</div>
</p>
","2024-05-08 05:12:01","2","Answer"
"78446120","78445156","","<p>If you can pass the arguments of <code>f1</code> and <code>f2</code> into <code>f</code> as lists (I don't know if this is amenable to how you will be using <code>f</code>), you could do something like:</p>
<pre><code>f &lt;- function(f1, f2, f1.args, f2.args) { 
  # some code using
  do.call(f1, f1.args)
  # and
  do.call(f2, f2.args)
}
</code></pre>
<p>and you'd call it like</p>
<pre><code>f(f1, f2, list(a, b), list(x, y, z))
</code></pre>
","2024-05-08 04:38:10","1","Answer"
"78446057","","How do I compare a string with an array of strings by length?","<pre><code>/**
 * @param {string} str1 - the first string to compare
 * @param {string} str2 - the second string to compare
 * @returns {number} the absolute difference in length between `str1` and `str2`
 */
const getDistanceByLength = (str1, str2) =&gt; {
  return Math.abs(str1.length-str2.length);
};

/**
 * @param {string} word - the original string
 * @param {string[]} words - an array of strings
 * @param {(str1: string, str2: string) =&gt; number} - a function that
 *  takes two strings and returns a number representing the distance between them
 * @param {number} threshold - the maximum distance that is still considered &quot;close&quot;
 * @returns {string} the string in `words` with the minimum distance to `word`
 *  as calculated by `distanceFn`, unless that distance is strictly greater than
 *  the `threshold`, in which case the original `word` is returned.
 */
const getClosestWord = (word, words, getDistanceByLength, threshold) =&gt; {
  for(i=0;i&lt;words.length;i++){
    if(getDistanceByLength(word,words[i]) &lt;= threshold){
      return words[i];
    }
  }
  return word;

};
</code></pre>
<p>The problem I am having is I just cannot figure out the logic necessary in <code>getClosestWord()</code> to loop through the array and come out with the shortest distance (from <code>getDistanceByLength</code>). It also returns the first <code>word</code> if the distance is larger than a <code>threshold</code>. Right now, it stops looping as soon as it hits a word that passes the criteria, instead of going through the whole array, and choosing the <code>words[i]</code> that has the shortest distance.</p>
<p>The <code>word</code> is just a random word passed in the function. The array of <code>words</code> I am using:</p>
<p><code>words: [&quot;bed&quot;, &quot;bank&quot;, &quot;fence&quot;, &quot;bridges&quot;] </code></p>
<p>If any of this is condescending please let me know, or if you all need any more information.</p>
","2024-05-08 04:11:05","-1","Question"
"78445416","78444574","","<p>First finding a new group if result is <em>Positivo</em> and then adding <em>days</em> for indicating the 21 days restriction.</p>
<p><em>Diff</em> is then the new column if a positive is found, days are above 21 and results are negative again.</p>
<p>Note that I don't know how to get 1 at row 10 though.</p>
<pre><code>library(dplyr)

df %&gt;% 
  mutate(Diff = c(0, diff(date_collection)), 
         grp = cumsum(lag(result, default = &quot;Negativo&quot;) == &quot;Negativo&quot; &amp; 
                      result == &quot;Positivo&quot;), .by = identifier) %&gt;% 
  mutate(days = cumsum(if_else(result != &quot;Positivo&quot;, Diff, 0)), 
         Diff = if_else(result != &quot;Positivo&quot; &amp; 
                        days &lt;= 21 &amp; 
                        result[1] == &quot;Positivo&quot;, 
                          0, Diff), .by = c(identifier, grp)) %&gt;% 
  select(-c(grp, days))
</code></pre>
<p>output</p>
<pre><code># A tibble: 31 × 6
   result   identifier date_collection      have  want  Diff
   &lt;chr&gt;    &lt;chr&gt;      &lt;dttm&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Negativo a          2021-09-08 00:00:00     0     0     0
 2 Negativo a          2021-09-15 00:00:00     7     7     7
 3 Negativo a          2021-09-23 00:00:00     8     8     8
 4 Negativo a          2021-09-28 00:00:00     5     5     5
 5 Negativo a          2021-10-19 00:00:00    21    21    21
 6 Positivo a          2021-10-27 00:00:00     8     8     8
 7 Positivo a          2021-11-02 00:00:00     6     6     6
 8 Negativo a          2021-11-09 00:00:00     7     0     0
 9 Negativo a          2021-11-17 00:00:00     8     0     0
10 Negativo a          2021-11-24 00:00:00     7     1     7
11 Negativo a          2021-11-29 00:00:00     5     5     5
12 Negativo a          2021-12-06 00:00:00     7     7     7
13 Negativo a          2021-12-14 00:00:00     8     8     8
14 Negativo a          2021-12-21 00:00:00     7     7     7
15 Negativo a          2021-12-29 00:00:00     8     8     8
16 Negativo b          2021-12-21 00:00:00     0     0     0
17 Negativo b          2021-12-28 00:00:00     7     7     7
18 Negativo b          2022-01-04 00:00:00     7     7     7
19 Negativo b          2022-01-11 00:00:00     7     7     7
20 Negativo b          2022-01-27 00:00:00    16    16    16
21 Negativo b          2022-02-18 00:00:00    22    22    22
22 Negativo b          2022-02-24 00:00:00     6     6     6
23 Negativo b          2022-03-04 00:00:00     8     8     8
24 Positivo b          2022-03-09 00:00:00     5     5     5
25 Negativo b          2022-03-16 00:00:00     7     0     0
26 Negativo b          2022-03-24 00:00:00     8     0     0
27 Negativo b          2022-03-29 00:00:00     5     0     0
28 Negativo b          2022-04-06 00:00:00     8     8     8
29 Negativo b          2022-04-12 00:00:00     6     6     6
30 Negativo b          2022-04-19 00:00:00     7     7     7
31 Negativo b          2022-04-26 00:00:00     7     7     7
</code></pre>
","2024-05-07 22:55:52","0","Answer"
"78445265","78444574","","<p>I believe there is an error in your 'want' column as df[7,5] should be 0? Also, this repex assumes &quot;within 21 days&quot; == &quot;&lt; 21 days&quot;. If this is not the case, comment and I will update this answer.</p>
<p>A stepwise approach:</p>
<ol>
<li>Create tmp column to define pre and post positive result by identifier</li>
<li>Create tmp1, equivalent to your 'have' column</li>
<li>Group data by identifier and tmp columns and calculate number of days from first date_collection value in each group</li>
<li>Use tmp, tmp1, and days columns to zero values</li>
<li>Remove unneeded columns</li>
</ol>
<pre><code>library(dplyr)

df1 &lt;- df |&gt;
  group_by(identifier) |&gt;
  mutate(tmp = if_else(result == &quot;Negativo&quot;, 0, 1),
         tmp = cumsum(tmp != lag(tmp, default = 1)),
         tmp = if_else(tmp &gt; 1, 2, 1),
         tmp1 = as.integer(difftime(date_collection,
                                    lag(date_collection),
                                    units = &quot;days&quot;)),
         tmp1 = if_else(is.na(tmp1), 0, tmp1)) |&gt;
  group_by(identifier, tmp) |&gt;
  mutate(days = as.integer(difftime(date_collection,
                           first(date_collection),
                           units = &quot;days&quot;)),
         want = case_when(tmp == 1 ~ tmp1,
                           tmp == 2 &amp; days != 0 &amp; days &lt; 21 ~ 0,
                           .default = tmp1)) |&gt;
  ungroup() |&gt;
  select(result, identifier, date_collection, want)

data.frame(df1)
#      result identifier date_collection want
# 1  Negativo          a      2021-09-08    0
# 2  Negativo          a      2021-09-15    7
# 3  Negativo          a      2021-09-23    8
# 4  Negativo          a      2021-09-28    5
# 5  Negativo          a      2021-10-19   21
# 6  Positivo          a      2021-10-27    8
# 7  Positivo          a      2021-11-02    0
# 8  Negativo          a      2021-11-09    0
# 9  Negativo          a      2021-11-17    8
# 10 Negativo          a      2021-11-24    7
# 11 Negativo          a      2021-11-29    5
# 12 Negativo          a      2021-12-06    7
# 13 Negativo          a      2021-12-14    8
# 14 Negativo          a      2021-12-21    7
# 15 Negativo          a      2021-12-29    8
# 16 Negativo          b      2021-12-21    0
# 17 Negativo          b      2021-12-28    7
# 18 Negativo          b      2022-01-04    7
# 19 Negativo          b      2022-01-11    7
# 20 Negativo          b      2022-01-27   16
# 21 Negativo          b      2022-02-18   22
# 22 Negativo          b      2022-02-24    6
# 23 Negativo          b      2022-03-04    8
# 24 Positivo          b      2022-03-09    5
# 25 Negativo          b      2022-03-16    0
# 26 Negativo          b      2022-03-24    0
# 27 Negativo          b      2022-03-29    0
# 28 Negativo          b      2022-04-06    8
# 29 Negativo          b      2022-04-12    6
# 30 Negativo          b      2022-04-19    7
# 31 Negativo          b      2022-04-26    7
</code></pre>
","2024-05-07 21:58:01","0","Answer"
"78445156","","How to pass unknown number of arguments to multiple functions in R","<p>I want to pass an unknown number of arguments to two functions. These functions might have a defined number of arguments when defined, but that could change if I need to change them.</p>
<p>More concretely, I have two functions f1 and f2:</p>
<pre><code>f1 &lt;- function(a, b) { (some code) }
f2 &lt;- function(x, y, z) { (some code) }
</code></pre>
<p>Here f1 and f2 have two and three arguments respectively, but (for example) I might need to use some other function f3 instead of f2:</p>
<pre><code>f3 &lt;- function(s, ...) { (some code) }
</code></pre>
<p>f3 might have a different number of arguments than f2.</p>
<p>I also have a function f, which will have f1 and f2 as arguments, and will also have the arguments of f1 and f2 themselves as arguments:</p>
<pre><code>f &lt;- function(arg1, arg2, f1, f2, (arguments of f1), (arguments of f2)) { (some code) }
</code></pre>
<p>But I don´t know how to pass an unknown number of parameters to f1 AND f2.</p>
<p>I don't know if I can use <code>...</code>, because I don´t know a priori how to separate <code>...</code> into the arguments of f1 and the arguments of f2. I also can´t use <code>nargs</code> since it only counts the number of arguments in <code>...</code> but I still don´t know at the start how to separate them. Maybe there´s a way I can have multiple <code>...</code>'s like this:</p>
<pre><code>f &lt;- function(f1, f1, ...1, ...2) {

some code using 

f1(...1) 

and 

f2(...2)

}
</code></pre>
<p>?</p>
","2024-05-07 21:28:22","0","Question"
"78444991","78444057","","<p>Using a <code>join</code> might potentially be more elegant, but here's an approach without it. Might give one some adjustability if needed.</p>
<p>Preparing <em>DATA</em> by <code>filter</code>ing the studies without <em>pre</em> and adding groups to <em>pre</em> to enable assigning of <em>pre</em> and <em>postX</em> in case there are more <em>postX</em>.</p>
<pre><code>library(dplyr)
library(tidyr)
library(stringr)

DATA_prep &lt;- DATA %&gt;% 
  filter(any(time == &quot;pre&quot;), .by = study) %&gt;% 
  mutate(pgrp = if_else(time == &quot;pre&quot;, 
                  max(as.numeric(str_extract(time, &quot;.+(\\d+)$&quot;, 
                  group=1)), na.rm=T), 1),
         grp = time == &quot;pre&quot;, .by = study) %&gt;% 
  uncount(pgrp) %&gt;% 
  mutate(time = if_else(time == &quot;pre&quot;, paste0(time, cumsum(grp)), time), 
         grp = sub(&quot;.*(\\d+)$&quot;, &quot;\\1&quot;, time), .by = c(study, grp))
</code></pre>
<p><code>summarize</code>ing and <code>unnest</code>ing the data by group association generated from variable names while in longer form.</p>
<pre><code>library(rlang)

DATA_prep %&gt;% 
  pivot_longer(-c(study, time, outcome, grp)) %&gt;% 
  mutate(group = sub(&quot;.*(.$)&quot;, &quot;\\1&quot;, name), 
         name = sub(&quot;^(.*)[tc]$&quot;, &quot;\\1&quot;, name)) %&gt;% 
  pivot_wider() %&gt;% 
  mutate(m = set_names(m, sub(&quot;\\d+&quot;, &quot;&quot;, time)), 
         sd = set_names(sd, sub(&quot;\\d+&quot;, &quot;&quot;, time))) %&gt;% 
  summarize(time = paste(time, collapse=&quot;-&quot;), 
            m = list(m), 
            sd = list(sd), 
            outcome = unique(outcome), .by = c(study, group, grp, n)) %&gt;% 
  unnest_wider(c(m, sd), names_sep=&quot;&quot;) %&gt;% 
  select(-grp)
</code></pre>
<p>output</p>
<pre><code>  study group     n time        mpre mpost sdpre sdpost outcome
  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  
1     1 t        28 pre1-post1  0.89  5.07  1.4    3.2  Conv   
2     1 c        58 pre1-post1  1.22  3.52  1.76   2.58 Conv   
3     1 t        28 pre2-post2  0.89  3.64  1.4    3.15 Conv   
4     1 c        58 pre2-post2  1.22  2.86  1.76   2.8  Conv   
5     2 t        38 pre1-post1  1.89  4.07  0.4    2.2  fram   
6     2 c        48 pre1-post1  2.22  2.52  0.76   1.58 fram
</code></pre>
","2024-05-07 20:47:54","0","Answer"
"78444796","78444057","","<p>A <code>tidyverse</code> suggestion is to <code>pivot_longer()</code> in a first time,  to have one row per study-time-group (and a column for n , m and sd). In a second time, you can <code>left_join</code> the &quot;post&quot;  rows (<code>filter(time!=&quot;pre&quot;</code>) with &quot;pre&quot; rows  (<code>filter(time==&quot;pre&quot;</code>); with the appropriate argument.</p>
<p>I <code>select</code> some columns. Notice that I kept the row without <code>pre</code> with some <code>NA</code> ; they could be filtered if you want to leave them out.</p>
<pre class=""lang-r prettyprint-override""><code>library(tidyverse)

DATA &lt;- read.table(header=T, text=&quot;
study time   nt nc    mt    mc  sdt  sdc  outcome
1     pre    28 58  0.89  1.22 1.40 1.76  Conv
1     post1  28 58  5.07  3.52 3.20 2.58  Conv
1     post2  28 58  3.64  2.86 3.15 2.80  Conv
2     pre    38 48  1.89  2.22 0.40 0.76  fram
2     post1  38 48  4.07  2.52 2.20 1.58  fram
3     post1  31 18  2.07  1.52 1.20 0.58  voca
3     post2  32 18  3.07  2.32 1.12 9.85  voca
&quot;)

data2 = 
  DATA %&gt;%  pivot_longer(nt:sdc, 
                         names_to = c(&quot;.value&quot;,&quot;group&quot;),
                         names_pattern = &quot;(n|m|sd)(t|c)&quot;) 

left_join(data2 %&gt;% filter(time !=&quot;pre&quot;),
          data2 %&gt;% filter(time ==&quot;pre&quot;),
          by = c(&quot;study&quot;,&quot;group&quot;),
          suffix= c(&quot;post&quot;,&quot;pre&quot;) ) %&gt;% 
  select(study, time = timepost, group, npre, npost, mpre, mpost, sdpre,sdpost,
         outcome = outcomepost)
#&gt; # A tibble: 10 × 10
#&gt;    study time  group  npre npost  mpre mpost sdpre sdpost outcome
#&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  
#&gt;  1     1 post1 t        28    28  0.89  5.07  1.4    3.2  Conv   
#&gt;  2     1 post1 c        58    58  1.22  3.52  1.76   2.58 Conv   
#&gt;  3     1 post2 t        28    28  0.89  3.64  1.4    3.15 Conv   
#&gt;  4     1 post2 c        58    58  1.22  2.86  1.76   2.8  Conv   
#&gt;  5     2 post1 t        38    38  1.89  4.07  0.4    2.2  fram   
#&gt;  6     2 post1 c        48    48  2.22  2.52  0.76   1.58 fram   
#&gt;  7     3 post1 t        NA    31 NA     2.07 NA      1.2  voca   
#&gt;  8     3 post1 c        NA    18 NA     1.52 NA      0.58 voca   
#&gt;  9     3 post2 t        NA    32 NA     3.07 NA      1.12 voca   
#&gt; 10     3 post2 c        NA    18 NA     2.32 NA      9.85 voca
</code></pre>
<p><sup>Created on 2024-05-07 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.0.2</a></sup></p>
","2024-05-07 19:55:33","1","Answer"
"78444574","","Function for zeroing time at risk after positive","<p>I am having trouble developing a function for the purpose of zeroing out the &quot;have&quot; column (which is days in-between collection) for 21 days AFTER a positive result, by identifier. At this point I am not concerned with zeroing out the POSITVO rows, just the collection dates within 21 days after a positivo. I have added a &quot;WANT&quot; column, but anything close would be great! Data below and what I have been trying with chatgtp below:</p>
<p>Thanks for your help!</p>
<pre><code> dput(df)
structure(list(result = c(&quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, 
&quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Positivo&quot;, &quot;Positivo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, 
&quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, 
&quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, 
&quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Positivo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, 
&quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;, &quot;Negativo&quot;), identifier = c(&quot;a&quot;, 
&quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, &quot;a&quot;, 
&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, 
&quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;), date_collection = structure(c(1631059200, 
1631664000, 1632355200, 1632787200, 1634601600, 1635292800, 1635811200, 
1636416000, 1637107200, 1637712000, 1638144000, 1638748800, 1639440000, 
1640044800, 1640736000, 1640044800, 1640649600, 1641254400, 1641859200, 
1643241600, 1645142400, 1645660800, 1646352000, 1646784000, 1647388800, 
1648080000, 1648512000, 1649203200, 1649721600, 1650326400, 1650931200
), class = c(&quot;POSIXct&quot;, &quot;POSIXt&quot;), tzone = &quot;UTC&quot;), have = c(0, 
7, 8, 5, 21, 8, 6, 7, 8, 7, 5, 7, 8, 7, 8, 0, 7, 7, 7, 16, 22, 
6, 8, 5, 7, 8, 5, 8, 6, 7, 7), want = c(0, 7, 8, 5, 21, 8, 6, 
0, 0, 1, 5, 7, 8, 7, 8, 0, 7, 7, 7, 16, 22, 6, 8, 5, 0, 0, 0, 
8, 6, 7, 7)), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, &quot;data.frame&quot;), row.names = c(NA, 
-31L))

</code></pre>
<p>I tried this code below, but it did not run correctly both not finding the correct variable names and also zeroing out to many obsevations.</p>
<pre><code>set_days_at_risk &lt;- function(df) {
  for (person_id in unique(df$person)) {
    person_df &lt;- df %&gt;% filter(person == person_id)
    for (i in 1:(nrow(person_df) - 1)) {
      if (person_df$result[i] == &quot;positive&quot;) {
        end_date &lt;- person_df$date_of_collection[i] + days(21)
        person_df$days_at_risk[person_df$date_of_collection &gt; person_df$date_of_collection[i] &amp; person_df$date_of_collection &lt;= end_date] &lt;- 0
      }
    }
    df[df$person == person_id, &quot;days_at_risk&quot;] &lt;- person_df$days_at_risk
  }
  return(df)
}
</code></pre>
","2024-05-07 18:56:45","0","Question"
"78444395","78444291","","<p>Don't use recursion (a function that calls itself) if you don't know how to use the technique.</p>
<p>Use a <code>while</code> loop and exit it when the conditions are satisfied.</p>
<p>With a function named <code>get_guess</code> you should actually have a result returned.  Return the guess instead of printing it, then use it by the caller of the function:</p>
<pre class=""lang-py prettyprint-override""><code>secret_word = &quot;hello&quot;
guess = &quot;&quot;

def get_guess():
    while True:
        guess = input(&quot;Guess: &quot; )
        if not guess.isalpha():
            print(&quot;Please input a letter&quot;)
        elif len(guess) &gt; 1:
            print(&quot;Please input a single letter!&quot;)
        else:
            return guess.lower()  # exit the while loop

guess = get_guess()
print(guess)
</code></pre>
","2024-05-07 18:15:00","-1","Answer"
"78444327","78444291","","<p>after recursively calling itself, the <code>print</code> statement is being executed as there are no conditions for it and every recursive invocation has its own scope for local variables</p>
<p>try using a while loop like:</p>
<pre><code>correct_input = False

while not correct_input:
    guess = input(&quot;Guess: &quot;)
    if guess.isalpha() is False:
        print(&quot;Please input a letter&quot;)
    elif len(guess) &gt; 1:
        print(&quot;Please input a single letter!&quot;)
    else:
        print(guess)
        break

</code></pre>
","2024-05-07 18:03:08","0","Answer"
"78444303","78444291","","<p>In order to stop current function execution and defer to recursive invocation you have to use keyword <code>return</code> as below:</p>
<pre class=""lang-py prettyprint-override""><code>secret_word = &quot;hello&quot;
guess = &quot;&quot;

def get_guess():
    guess = input(&quot;Guess: &quot; )
    if guess.isalpha() is not True:
        print(&quot;Please input a letter&quot;)
        return get_guess()
    if len(guess) &gt; 1:
        print(&quot;Please input a single letter!&quot;)
        return get_guess()
    guess = guess.lower()
    print(guess)

get_guess()
</code></pre>
<p>Otherwise after successfully running through recursive invocation it will carry on previous run.</p>
","2024-05-07 17:56:57","-1","Answer"
"78444291","","Python Function Reprinting Prior Input() Contents","<pre><code>secret_word = &quot;hello&quot;
guess = &quot;&quot;

def get_guess():
    guess = input(&quot;Guess: &quot; )
    if guess.isalpha() is not True:
        print(&quot;Please input a letter&quot;)
        get_guess()
    if len(guess) &gt; 1:
        print(&quot;Please input a single letter!&quot;)
        get_guess()
    guess = guess.lower()
    print(guess)
get_guess()
</code></pre>
<p>Code above for a school project, when reaching the &quot;print(guess)&quot; line, will print all prior content.</p>
<p>As example, the input chain &quot;3&quot; &quot;2&quot; &quot;ww&quot; &quot;a&quot; will result in 3,2, and ww being denied before accepting a. However, once reaching the &quot;print(guess)&quot;, it will print, in order</p>
<p>a
ww
2
3</p>
<p>Any ideas?</p>
","2024-05-07 17:52:27","-1","Question"
"78444057","","Reformatting a dataframe into wide format in R","<p>I was wonder if there is a way for my <code>DATA</code> to be reformatted to my <code>Desired_output</code> below?</p>
<p>Specifically, for each unique <code>study</code>, we stick together a pair of <code>pre</code> and <code>postNUMBER</code> together, separately for <code>t</code> and <code>c</code>.</p>
<p>For example, for <code>study == 2</code>, we stick together a pair of <code>pre</code> and <code>postNUMBER</code> together going <strong>FROM:</strong></p>
<pre><code>study time   nt nc    mt    mc  sdt  sdc  outcome
2     pre    38 48  1.89  2.22 0.40 0.76  fram
2     post1  38 48  4.07  2.52 2.20 1.58  fram
</code></pre>
<p><strong>TO:</strong></p>
<pre><code>study time            group  n    mpre     mpost  sdpre  sdpost outcome
2     pre-post1       t      38   1.89     4.07   0.40   2.20   fram
2     pre-post1       c      48   2.22     2.52   0.76   1.58   fram
</code></pre>
<p>ps. If a unique <code>study</code> in <code>DATA</code>, didn't have a <code>pre</code> (only consisted of <code>postNUMBER</code>) or <code>postNUMBER</code> (only consisted of <code>pre</code>), we simply leave it out.</p>
<pre><code>DATA &lt;- read.table(header=T, text=&quot;
study time   nt nc    mt    mc  sdt  sdc  outcome
1     pre    28 58  0.89  1.22 1.40 1.76  Conv
1     post1  28 58  5.07  3.52 3.20 2.58  Conv
1     post2  28 58  3.64  2.86 3.15 2.80  Conv
2     pre    38 48  1.89  2.22 0.40 0.76  fram
2     post1  38 48  4.07  2.52 2.20 1.58  fram
3     post1  31 18  2.07  1.52 1.20 0.58  voca
3     post2  32 18  3.07  2.32 1.12 9.85  voca
&quot;)

Desired_output &lt;- read.table(header=T, text=&quot;
study time            group  n    mpre     mpost  sdpre  sdpost outcome
1     pre-post1       t      28   0.89     5.07   1.40   3.20   Conv
1     pre-post2       t      28   0.89     3.64   1.40   3.15   Conv
1     pre-post1       c      58   1.22     3.52   1.76   2.58   Conv
1     pre-post2       c      58   1.22     2.86   1.76   2.80   Conv
2     pre-post1       t      38   1.89     4.07   0.40   2.20   fram
2     pre-post1       c      48   2.22     2.52   0.76   1.58   fram
&quot;)
</code></pre>
","2024-05-07 17:02:30","0","Question"
"78440694","78437411","","<p>If anyone ever stumbles over this &quot;problem&quot;...
After getting some sleep and some tinkering I've come up with a solution.</p>
<p>In principle the idea is twofold:</p>
<ol>
<li>by subclassing Child I get all functions in my autocomplete</li>
<li>add_pass_through_functions then replaces these functions with a pass through, so that parent.dosomething is redirected to parent.child</li>
</ol>
<p>(And if you are wording that add_pass_through_functions does accept multiple child classes, since child is interchangeable with different implementations of child which might add some functions)</p>
<p>My code:</p>
<pre><code>def get_methods(x):
    # returns all methods of class x (or multiple classes)
    res = {}
    xs = x if isinstance(x, list) else [x]
    for x in xs:
        for method in dir(x):
            try:
                if callable(getattr(x, method)) and not method.startswith(&quot;_&quot;):
                    res[method] = getattr(x, method)
            except:
                print(f'Skipping {method} due to error')
    return res


def add_pass_through_functions(parent_class, child_classes: list, child_variable_name: str):
    # adds all methods of the child_class(es) to the variable child_variable_name which belongs to parent_class
    methods = get_methods(child_classes)
    for name, method in methods.items():
        def wrap(func, doc):
            def f(self, *args, **kwargs):
                return getattr(getattr(self, child_variable_name), func)(*args, **kwargs)

            f.__doc__ = doc
            return f

        func = wrap(name, method.__doc__)
        setattr(parent_class, name, func)


class Child:
    def __init__(self):
        self.a = 1

    def dosomething(self, a=1):
        print(&quot;child dosomething&quot;, a)
        return 'returning stuff'


class Parent(Child): # by subclassing Child I get all methods in the autocomplete
    def __init__(self):
        self.child = Child()


add_pass_through_functions(parent_class=Parent, child_classes=Child, child_variable_name='child')

parent = Parent()
parent.dosomething()
</code></pre>
","2024-05-07 07:09:14","0","Answer"
"78439824","78439340","","<p><code>Array.of</code> is a static method. The docs:</p>
<blockquote>
<p>The Array.of() static method creates a new Array instance from a variable number of arguments, regardless of number or type of the arguments.</p>
</blockquote>
<p>In class based inheritance, the way to write it would be:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>class Array {
  static alert(element) {
    alert(element);
  }
}

Array.alert('test');</code></pre>
</div>
</div>
</p>
<p>The equivalent of above in prototype inheritance is:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>Array.alert = function(element) {
  alert(element);
};

Array.alert('test');</code></pre>
</div>
</div>
</p>
<p><a href=""https://www.typescriptlang.org/play/?target=1#code/MYGwhgzhAECCBO8wE9oG8BQ1oQC5lwEthowQBTeXACnIoFtyA7XASnS21IqtoebYBuTgF8MYjAiTIAdGUo0A5LnJ5FrQUA"" rel=""nofollow noreferrer"">Playground to view the conversion in ES5</a></p>
","2024-05-07 02:22:36","-1","Answer"
"78439364","78439340","","<p>Just assign to the function:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function Food () {
    
}

Food.isEdible = true;

console.log(Food.isEdible); </code></pre>
</div>
</div>
</p>
","2024-05-06 22:19:23","1","Answer"
"78439340","","Define a Static property of a Class (Object) with pseudoclassical inheritance javascript","<p>I have been wrapping my head around pseudoclassical inheritance in Javascript , and continuing on this topic I wanted to set an Static property/method , for a defined Constructor function.
I want to avoid the <code>class</code> syntax for it.</p>
<pre><code>function Food () {
    isEdible = true;
}

console.log(Food.isEdible); // undefined
</code></pre>
<p>I know this example is wrong</p>
<p>I am wondering how it has been done on the rest of the Javascript Object model, with methods so important like for instance</p>
<pre><code>Array.of(element1, element2, /* …, */ elementN)
</code></pre>
<p>Which can be accessed without the need of Instanciating an Array</p>
","2024-05-06 22:11:24","0","Question"
"78438556","78438485","","<p>As it stands, the function returns nothing (<code>undefined</code>) whenever <code>about(sentences)</code> is <code>false</code>. Please rewrite the function as follows:</p>
<pre><code>const getRelevantSentences = (about, sentences) =&gt; {
    const arr = [];
    if(about(sentences)){
        arr.push(sentences);
    }
    return arr;
}
</code></pre>
<p>Or, as follows:</p>
<pre><code>const getRelevantSentences = (about, sentences) =&gt; {
    if(about(sentences)){
        return [sentences];
    } else {
        return [];
    }
}
</code></pre>
","2024-05-06 18:43:06","1","Answer"
"78438485","","Why is my function returning undefined when using another function as a parameter?","<p>The problem I am having is with the following code:</p>
<pre><code>/**
 * @param {(sentence: string) =&gt; boolean} criterion - a function that
 *  takes a sentence and returns a boolean
 * @param {string[]} sentences - an array of space-separated strings of words
 * @returns {string[]} the subset of `sentences` for which `criterion` returns true
 */
const getRelevantSentences = (about, sentences) =&gt; {
    const arr = [];
      if(about(sentences) == true){
        arr.push(sentences);
        return arr;
      }
}
</code></pre>
<p>This above function is supposed to take another function and an array as arguments, and then pass out an array of strings that make the function return true. In this instance, I am trying to test whether or not the specific &quot;sentence&quot; string within the &quot;sentences&quot; array makes the <code>about()</code> function return true. In other words, I am returning any strings that are &quot;similar&quot; to that of another string.</p>
<p>Below is the code that makes up the <code>about()</code> function:</p>
<pre><code>/**
 * @param {string[]} topics - an array of topic words
 * @param {string} sentence - a space-separated string of words
 * @returns {boolean} whether `sentence` contains any of the words in `topics`
 */
const isRelevant = (topics, sentence) =&gt; {
  for(i=0; i&lt;topics.length;i++){
    if (sentence.includes(topics[i])) {
      return true;
    }
    else {
      return false;
    }
  }
};

/**
 * @param {string[]} topics - an array of topic words
 * @returns {(sentence: string) =&gt; boolean} a function that takes a sentence
 *  and returns whether it is relevant to `topics`
 */
const about = (topics) =&gt; {
    return function(sentence) {
      return isRelevant(topics,sentence);
    }
};
</code></pre>
<p>The data used as input is:</p>
<p><code>const sentence = &quot;the quick brown fox jumps over the lazy dog&quot;</code></p>
<p><code>const sentences = &quot;I have a pet dog&quot;, &quot;I have a pet cat&quot;, &quot;I don't have any pets&quot;</code></p>
<p>How can I resolve this issue?</p>
","2024-05-06 18:26:20","0","Question"
"78438154","78437981","","<p>Another common way to handle things like this (albeit unnecessary in your case) is to separate your function into two parts:</p>
<pre><code>void func1_(int i){
    if (i == 6) return;
    printf(&quot;%d &quot;, i);
    func1_(i + 1);
}

void func1(int i){
    func1_(i);
    printf(&quot;\nEnd1&quot;);
}
</code></pre>
","2024-05-06 17:12:44","1","Answer"
"78438049","78437981","","<p>You have a base case. Just use it</p>
<pre><code>void func1(int i){
    
    if(i == 6) 
    {
        printf(&quot;\nEnd1&quot;);
        return; // Base Case
    }
    printf(&quot;%d &quot;, i);
    func1(i + 1);
//    fend1(); // &lt;&lt;&lt; this is factory new
}
</code></pre>
<p>Pay attention to that the function will have unspecified behavior when will be called with an argument greater than 6.</p>
<p>And using the magic number 6 within the function definition is a bad idea.</p>
","2024-05-06 16:50:07","2","Answer"
"78438039","78437981","","<p>You can modify the <code>func1</code> to return a flag indicating whether the End1 message has been printed or not. Try sth. like this:</p>
<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;

int func1(int i) {
    // Base Case
    if (i == 6) {
        return 0;
    }

    printf(&quot;%d &quot;, i);
    int printed_end1 = func1(i + 1);

    // Print &quot;End1&quot; only if it hasn't been printed yet
    if (printed_end1 == 0) {
        printf(&quot;\nEnd1&quot;);
        return 1;
    }

    return printed_end1;
}

int main() {
    func1(1);
    return 0;
}
</code></pre>
","2024-05-06 16:47:57","1","Answer"
"78437981","","Print one time in a C function that uses recursion without using a global variable","<p>I have to print One time in a C function that use recursion.</p>
<p>The issue is to print End1 at the end of func1 (after recursion call line) 1 time and not more than 1 time:
to do this i created fend1() that I equipped with a global variable</p>
<p>The following code is my actual solution but I wish to get the same goal,
without using any global variable.</p>
<pre><code>#include&lt;stdio.h&gt;

int cntg1 = 1;
int fend1(){
    if(cntg1 &lt; 2){
        printf(&quot;\nEnd1&quot;);
        cntg1++;
    }
    return 0;
}
void func1(int i){
    
    if(i == 6) return; // Base Case
    printf(&quot;%d &quot;, i);
    func1(i + 1);
    fend1(); // &lt;&lt;&lt; this is factory new
}


int main()
{
    func1(1); // *
    return 0;
}
</code></pre>
<p>The following link open a new website page click <a href=""https://godbolt.org/z/8YvhYYbqG"" rel=""nofollow noreferrer"">here</a> to view the code run.</p>
<hr />
<p>As I anticipate, I wish to get the same goal (print 1 time after recursion),
without using any global variable.</p>
<p>I asked before about a similar problem (<a href=""https://stackoverflow.com/questions/78431209/c-multiple-func-printf-with-no-reason/78432762#78432762"">here</a> can be found the other question) and according to the Problem this above receive the higest score, but I have to find a better solution.</p>
<hr />
","2024-05-06 16:36:53","1","Question"
"78437411","","Automaticall generate pass through to child object function","<p>I would like to automatically forward a function call to a child in python, so that the parent class has said function and then forwards the call to the child and returns the result to the caller. Something like this:</p>
<pre><code>class child:
    def __init__(self):
        self.b = 1

    def dosomething(self, a=1):
        print(&quot;child dosomething&quot;, a, self.b)
        return 'returning stuff'

class parent:
    def __init__(self):
        self.child = child()

    # I could do this for every func in child:
    def dosomething(self, *args, **kwargs):
        return self.child.dosomething()

p = parent()
p.dosomething()

</code></pre>
<p>Since I don't want to risk typos or forgetting to update the parent this should be done automatically and not like shown above, especially if child has lots of functions.</p>
<p>I was able to do something similar to this by implementing <strong>getattr</strong> for the parent class, but this way neither my IDE nor the interpreter knows about the methods in parent / child which is not what I want.</p>
<p>Another way I was exploring was to get all methods of the child using</p>
<pre><code>def get_methods(x):
    return [
        [method, getattr(x, method)]
        for method in dir(x)
        if callable(getattr(x, method))
        if not method.startswith(&quot;_&quot;)
    ]
</code></pre>
<p>and then somehow attach them to my parent class.
I can do that using <code>setattr(parent,'dosomething',func_from_get_methods(child))</code>
and then call it the same way as before, but this wont work, since parent has no self.b.</p>
<p>So, is there any pythonic way to do this?</p>
<p>P.S. I'm not talking about subclassing.</p>
","2024-05-06 14:47:18","0","Question"
"78435184","78434546","","<p>Try this</p>
<pre><code>Duration fromJsonDuration(int? milliseconds) {
  if (milliseconds != null) {
    return Duration(milliseconds: milliseconds);
  } else {
    return Duration.zero; // or any other default value.
  }
}
</code></pre>
","2024-05-06 07:40:01","-3","Answer"
"78435170","78434546","","<p>As already explained in the comments, the underlying problem here is that the received JSON might contain a <code>null</code> value for <code>duration</code> or is missing a <code>duration</code> entry at all.</p>
<p>Any access to a <code>Map</code> returns a nullable value because if the given key does not exist in the <code>Map</code> it won't throw an exception but return <code>null</code>. (which was probably the reason you added the cast)</p>
<p>So you have two possibilities to deal with this behavior of Maps:</p>
<p>If you know that it will always contain the key you need, add a <code>!</code> like:</p>
<pre><code>timeAdded: fromJsonDuration(data['duration']!)`
</code></pre>
<p>then you would get a proper exception in case the key is missing.</p>
<p>If you know that the json you receive might miss the &quot;duration&quot; key, you have to check for <code>null</code> first like:</p>
<pre><code>timeAdded: data['duration'] != null ? fromJsonDuration(data['duration']) 
                  : const Duration({your default duration});
</code></pre>
<p>(replace <code>{your default duration}</code> with the value you want to use as default)</p>
<p>Looking at what your <code>fromJsonDuration</code> does, the even better solution to achieve the same would be:</p>
<pre><code>timeAdded: Duration(milliseconds: data['duration'] ?? 0)

</code></pre>
<p>because it doesn't do two lookups into the map while clearly expressing what it is doing.</p>
<p>As a side note, you shouldn't need any of the type-casts that you use because either the map contains the value in the types your functions expect or a type-cast would not help.</p>
","2024-05-06 07:38:08","-2","Answer"
"78434546","","Is there a way for a function to return non nullable value even if it has possibility to return one?","<p>I am calling a simple function that returns a duration object. However, it is null at times. I want to modify the code so that it can return only a duration object and not duration? object.</p>
<pre><code>  factory ExecutionModel.fromSnapshot(
      DocumentSnapshot&lt;Map&lt;String, dynamic&gt;&gt; snapshot) {
    final data = snapshot.data()!;
    return ExecutionModel(
        selfRef: snapshot.reference,
        state: TimerState.fromString(data['state']),
        timeAdded: fromJsonDuration(data['duration'] as int), // this line
        activeTimerRef: data['activeTimerRef'],
        paused: fromJsonDateTime(data['paused'] as Timestamp),
        started: fromJsonDateTime(data['started'] as Timestamp));
</code></pre>
<pre><code>Duration fromJsonDuration(int milliseconds) {
  return Duration(milliseconds: milliseconds);
}
</code></pre>
<p>Here timeAdded argument is a Duration object and not Duration? object. But it can occasionally have null values. What is the fix around for this? I don't want to change timeAdded to Duration? as it can affect other areas.</p>
","2024-05-06 04:32:05","0","Question"
"78432762","78431209","","<p>well, I though also this one and the printing of &quot;End1&quot; is after recursion call, in gives only one output:</p>
<pre><code>#include&lt;stdio.h&gt;

int cntg1 = 1;
int fend1(){
    if(cntg1 &lt; 2){
        printf(&quot;\nEnd1&quot;);
        cntg1++;
    }
    return 0;
}
void func1(int i){
    
    if(i == 6) return; // Base Case
    printf(&quot;%d &quot;, i);
    func1(i + 1);
    fend1(); // &lt;&lt;&lt; this is factory new
}


int main()
{
    func1(1); // *
    return 0;
}
</code></pre>
<p>The following link open a new website page click <a href=""https://godbolt.org/z/8YvhYYbqG"" rel=""nofollow noreferrer"">here</a>↗🌐 to view the code run.</p>
<p>There is a similar solution that avoid the use a Global variable?</p>
","2024-05-05 15:35:32","0","Answer"
"78432630","78431523","","<p>I tried this variant and is compliant for many reasons.. then I get 5 that has no need to be adjusted in main...! (is the last value printed)</p>
<pre><code>#include&lt;stdio.h&gt;

int func1(int i){
    //int res1;
    if(i == 6) {  // Base Case
        //res1 = i;
        printf(&quot;\nEnd1&quot;);
        return 0;
    }
        
    printf(&quot;%d &quot;, i);
    
    int res1 = func1(i + 1);
    
    // printf(&quot;\nEnd1&quot;);
    return (res1 + 1);
    
}

int main()
{
    printf(&quot;\n%d&quot;, func1(1));
    return 0;
}
</code></pre>
<p>Main Changes:</p>
<p><code>        return 0;</code></p>
<p>in // Base Case</p>
<p>with</p>
<p><code>int res1 = func1(i + 1);   /* and */ return (res1 + 1);</code></p>
<p>in the last part of func1()</p>
<p><em>The following link open a new website page click <a href=""https://godbolt.org/z/f4nqzqjG9"" rel=""nofollow noreferrer"">here</a>↗🌐 to view the code run.</em></p>
","2024-05-05 14:49:11","-1","Answer"
"78431769","78427593","","<p>You are overwriting the growth values for each day in the loop, resulting in all days having the same values.</p>
<p>Here is how to do this:</p>
<pre><code>import pandas as pd
import requests
import yfinance as yf
import numpy as np
import matplotlib.pyplot as plt
import time
import datetime

symbols = ['MSFT', 'HD', 'TSLA']
stocks_df = pd.DataFrame({'A' : []})
symbols_daily = yf.download(symbols,
                 period = &quot;max&quot;,
                 interval = &quot;1d&quot;)
for i,ticker in enumerate(symbols):
  print(i,ticker)

  historyPrices = yf.download(tickers = ticker,
                     period = &quot;max&quot;,
                     interval = &quot;1d&quot;)

  historyPrices['Ticker'] = ticker
  historyPrices['Year']= historyPrices.index.year
  historyPrices['Month'] = historyPrices.index.month
  historyPrices['Weekday'] = historyPrices.index.weekday
  historyPrices['Date'] = historyPrices.index.date

  if stocks_df.empty:
    stocks_df = historyPrices
  else:
    stocks_df = pd.concat([stocks_df, historyPrices], ignore_index=True)
    
def get_growth_df(df: pd.DataFrame) -&gt; pd.DataFrame:
    growth_df = pd.DataFrame()  
    for i in range(1, 31):
        growth_df['future_growth_' + str(i) + 'd'] = df['Adj Close'].shift(-i) / df['Adj Close']
    return growth_df
growth_df = get_growth_df(historyPrices)
print(growth_df.describe())

</code></pre>
<p>which gives</p>
<pre><code>       future_growth_1d  future_growth_2d  future_growth_3d  future_growth_4d  \
count       3485.000000       3484.000000       3483.000000       3482.000000   
mean           1.001999          1.004002          1.006037          1.008135   
std            0.035862          0.050936          0.062556          0.072825   
min            0.789372          0.733607          0.660825          0.644403   
25%            0.983968          0.975536          0.971718          0.966988   
50%            1.001210          1.003070          1.004293          1.005382   
75%            1.019175          1.029505          1.039817          1.045851   
max            1.243951          1.375874          1.573759          1.581697   

       future_growth_5d  future_growth_6d  future_growth_7d  future_growth_8d  \
count       3481.000000       3480.000000       3479.000000       3478.000000   
mean           1.010306          1.012427          1.014515          1.016621   
std            0.081955          0.090146          0.097482          0.104642   
min            0.569541          0.559745          0.594112          0.513476   
25%            0.962229          0.958083          0.954501          0.952468   
50%            1.006870          1.008695          1.009707          1.010488   
75%            1.052710          1.059553          1.063870          1.069472   
max            1.564756          1.653522          1.661863          1.648352   

       future_growth_9d  future_growth_10d  ...  future_growth_21d  \
count       3477.000000        3476.000000  ...        3465.000000   
mean           1.018717           1.020812  ...           1.045285   
std            0.111629           0.118306  ...           0.187711   
min            0.498551           0.481948  ...           0.420806   
25%            0.948485           0.947469  ...           0.924693   
50%            1.011687           1.013544  ...           1.022052   
75%            1.074856           1.081088  ...           1.128908   
max            1.691109           1.704861  ...           2.154883   

       future_growth_22d  future_growth_23d  future_growth_24d  \
count        3464.000000        3463.000000        3462.000000   
mean            1.047560           1.049827           1.052075   
std             0.193157           0.198435           0.203717   
min             0.451508           0.449279           0.470774   
25%             0.923134           0.920435           0.919296   
50%             1.021298           1.022292           1.022174   
75%             1.131996           1.138487           1.141386   
max             2.121730           2.187785           2.167901   

       future_growth_25d  future_growth_26d  future_growth_27d  \
count        3461.000000        3460.000000        3459.000000   
mean            1.054362           1.056683           1.059002   
std             0.208943           0.214268           0.219353   
min             0.466464           0.468338           0.482869   
25%             0.916874           0.916088           0.914912   
50%             1.021142           1.021489           1.021616   
75%             1.147301           1.157854           1.160344   
max             2.198247           2.306711           2.348946   

       future_growth_28d  future_growth_29d  future_growth_30d  
count        3458.000000        3457.000000        3456.000000  
mean            1.061295           1.063603           1.065939  
std             0.224028           0.228895           0.233832  
min             0.482295           0.484973           0.407210  
25%             0.913807           0.912978           0.912492  
50%             1.024461           1.025763           1.025216  
75%             1.163379           1.167726           1.172320  
max             2.427503           2.420048           2.548036  
</code></pre>
","2024-05-05 10:09:51","0","Answer"
"78431571","78431523","","<p>The first recursive call of the function gets the value 1</p>
<pre><code>printf(&quot;\n%d&quot;, func1(1));
</code></pre>
<p>and this value is not being changed within the function call</p>
<pre><code>int func1(int i){
    
    if(i == 6) {  // Base Case
        printf(&quot;\nEnd1&quot;);
        return i;
    }
        
    printf(&quot;%d &quot;, i);
    func1(i + 1);
    // printf(&quot;\nEnd1&quot;);
    return i;
    ^^^^^^^^^
    
}
</code></pre>
<p>The reurned value from this code snippet of the function</p>
<pre><code>    if(i == 6) {  // Base Case
        printf(&quot;\nEnd1&quot;);
        return i;
    }
</code></pre>
<p>is used nowhere.</p>
<p>Try to change thos statement</p>
<pre><code>    func1(i + 1);
</code></pre>
<p>to</p>
<pre><code>    i = func1(i + 1);
</code></pre>
","2024-05-05 08:52:20","2","Answer"
"78431523","","Function return a value different from that in case (same variable). It follow question ""C Multiple Func() printf - With no Reason""","<hr />
<p>This is a recursive function in C (function call itself) the Main case is:
and is returned a value of variable &quot;i&quot; that must be 6 but is 1 as explaned:</p>
<p>if(i==6){return i;} <strong>but</strong> the value returned is 1 not 6...
<strong>note</strong> <em>that i must be == 6 to exevute</em>
<em>return...</em></p>
<hr />
<p>Here is the code:</p>
<pre><code>#include&lt;stdio.h&gt;

int func1(int i){
    
    if(i == 6) {  // Base Case
        printf(&quot;\nEnd1&quot;);
        return i;
    }
        
    printf(&quot;%d &quot;, i);
    func1(i + 1);
    // printf(&quot;\nEnd1&quot;);
    return i;
    
}

int main()
{
    printf(&quot;\n%d&quot;, func1(1));
    return 0;
}

</code></pre>
<p>I receive 1 as i value instead of 6.</p>
<p>this is my Output:
1 2 3 4 5
End1
1</p>
<p>Expected Output:
1 2 3 4 5
End1
6</p>
<p>I don't know where to throw the head...</p>
<p>Any Solution?</p>
<p>The following link open a new website page click <a href=""https://godbolt.org/z/s9G8vE3Gs"" rel=""nofollow noreferrer"">here</a>↗🌐 to view the code run.</p>
<hr />
<p>(this qestion follows what asked in &quot;C Multiple Func() printf - With no Reason&quot;.</p>
","2024-05-05 08:30:20","-2","Question"
"78431247","78431209","","<p>I copied the entire code and executed it with the result of</p>
<pre class=""lang-bash prettyprint-override""><code>1 2 3 4 5 
End1
End1
End1
End1
End1
</code></pre>
<p>In your function fun1, there is a statement <code>printf(&quot;\nEnd1&quot;);</code> and the recursion end when <code>i == 6</code>. So each time the fun1 was called in the recursion, <code>\nEnd1</code> would be printed to the terminal.</p>
<p>If you only want to print it at the end of the recursion, you should change your <code>fun1</code> like this</p>
<pre class=""lang-c prettyprint-override""><code>void func1(int i){
    
    if(i == 6) 
    {
        printf(&quot;\nEnd1&quot;);
        return ;
    } 
    printf(&quot;%d &quot;, i);
    func1(i + 1);
}
</code></pre>
","2024-05-05 06:22:41","3","Answer"
"78431237","78431209","","<p>You did not get the output you expected because the logic the code used did not support that output.  Please note the small change in the logic of <code>func1()</code> -- braces are placed around the code block of the condition <code>(i==6)</code>.  This code block now includes the <code>End1</code> statement so the program can give output as expected.</p>
<p>UPDATE:  as specified per your requirement, the <code>printf(End1)</code> statement is now placed <em>after</em> the recursive call.</p>
<p>Runnable code is <a href=""https://godbolt.org/z/TPY15GYco"" rel=""nofollow noreferrer"">here</a>.</p>
<pre><code>#include&lt;stdio.h&gt;

void func1(int i)
{
    if(i &lt; 6) 
    {
        printf(&quot;%d &quot;, i);
        func1(i + 1);
    }
    else
    {
        printf(&quot;End1\n&quot;);
    }
}    

int main()
{
    func1(1);
    return 0;
}
</code></pre>
<p>Output:</p>
<pre class=""lang-none prettyprint-override""><code>    1 2 3 4 5 End1
</code></pre>
","2024-05-05 06:18:02","2","Answer"
"78431209","","How to print something only once at the end of a recursive function","<p>I have a simple study function:</p>
<pre><code>#include&lt;stdio.h&gt;

void func1(int i){
    
    if(i == 6) return; // Base Case
    printf(&quot;%d &quot;, i);
    func1(i + 1);
    printf(&quot;\nEnd1&quot;);
}

int main()
{
    func1(1); // *
    return 0;
}
</code></pre>
<hr />
<ol>
<li><p>The func1() has *no input.</p>
</li>
<li><p>I continue to receive:
this output (!!!?):
1 2 3 4 5
End1
End1
End1
End1
End1</p>
</li>
<li><p>no errors in Terminal</p>
</li>
</ol>
<p>$ cd &quot;/e/Prog_Lang/Module/&quot; &amp;&amp; gcc recur_pnt1_5.c -o recur_pnt1_5.exe &amp;&amp; &quot;/e/to Prog_Lang/Module/&quot;recur_pnt1_5.exe &lt;input.txt&gt; output.txt
e5-4bdc-b5e2-716617ce55ca
XXXXXXX@XXXXXXXXXXX MINGW64 /e/Prog_Lang/Module 17 (main)</p>
<hr />
<ul>
<li>Expected output:
1 2 3 4 5
End1</li>
</ul>
<p>I don't know what I can try to solve.
Any ideas?</p>
","2024-05-05 05:56:41","-2","Question"
"78429518","78429442","","<pre><code>CREATE OR REPLACE FUNCTION change_data_type()
RETURNS TABLE(dt date) 
LANGUAGE PLPGSQL
as $$
BEGIN
    RETURN QUERY SELECT show_date::date FROM show;
END;
$$ ;

create table show(show_date timestamp);
insert into show values (now()), (now() - '1 day'::interval), (now() + '45 mins'::interval);

select * from show;
         show_date          
----------------------------
 2024-05-04 08:37:09.334147
 2024-05-03 08:37:09.334147
 2024-05-04 09:22:09.334147


select * from change_data_type();
 dt     
------------
 2024-05-04
 2024-05-03
 2024-05-04

</code></pre>
<p>See:</p>
<p><a href=""https://www.postgresql.org/docs/current/plpgsql-control-structures.html"" rel=""nofollow noreferrer"">https://www.postgresql.org/docs/current/plpgsql-control-structures.html</a></p>
<blockquote>
<p>When a PL/pgSQL function is declared to return SETOF sometype, the procedure to follow is slightly different. In that case, the individual items to return are specified by a sequence of RETURN NEXT or RETURN QUERY commands, and then a final RETURN command with no argument is used to indicate that the function has finished executing. RETURN NEXT can be used with both scalar and composite data types; with a composite result type, an entire “table” of results will be returned. RETURN QUERY appends the results of executing a query to the function's result set. RETURN NEXT and RETURN QUERY can be freely intermixed in a single set-returning function, in which case their results will be concatenated.</p>
</blockquote>
<blockquote>
<p>RETURN NEXT and RETURN QUERY do not actually return from the function — they simply append zero or more rows to the function's result set. Execution then continues with the next statement in the PL/pgSQL function. As successive RETURN NEXT or RETURN QUERY commands are executed, the result set is built up. A final RETURN, which should have no argument, causes control to exit the function (or you can just let control reach the end of the function).</p>
</blockquote>
","2024-05-04 15:35:32","0","Answer"
"78429512","78427505","","<p>You can pass <code>t_span</code> into the function directly. The real time will be used for <code>u</code>, or <code>f</code>, if you will. Then define an <code>index</code> for the <code>for</code> loop; this <code>index</code> will be used for <code>y</code>.</p>
<pre><code>function y = NARMA_optimized(u,mu,delta,phi,psi,m,t_span,k)
y = zeros(length(t_span),1);
% y(0)=0, and also y(-1)=0 etc.
%t = 1;
t = t_span(1);
index = 1;
y(index) = mu.* u(t-m-k).* u(t-k) + delta;
for t = t_span(2:end)
    index = index + 1;
    v = 1;
    for i = 1:m
        if index-i &gt; 0  % else we add 0
            v = v + y(index-i);
        end
    end
    v = phi.*y(index-1) + v.*psi.*y(index-1) + mu.*u(t-m-k).*u(t-k) + delta;
    y(index) = v;
end  
end
</code></pre>
<p>Change the following in the main code:</p>
<pre><code>M = 1; % Upper simulation time limit [seconds]
T = NARMA_optimized(f,Mu,delta,phi,psi,m,t_span,k_shift);
plot(t_span,T);    
</code></pre>
<p>Here is the output:
<a href=""https://i.sstatic.net/AzgUn8JT.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/AzgUn8JT.png"" alt=""enter image description here"" /></a></p>
","2024-05-04 15:33:39","1","Answer"
"78429495","78429442","","<pre><code>create table show(show_date DATE);
INSERT INTO show values (now());
</code></pre>
<p>with one record:</p>
<pre><code>SELECT change_data_type();
</code></pre>
<p>will not return an error</p>
<p>but with more than 1 record:</p>
<pre><code>INSERT INTO show values (now());
SELECT change_data_type();
</code></pre>
<p>it will, see: <a href=""https://dbfiddle.uk/fwauUDVr"" rel=""nofollow noreferrer"">DBFIDDLE</a></p>
<pre><code>ERROR:  query returned more than one row
CONTEXT:  query: DATE(show_date) FROM show
PL/pgSQL function change_data_type() line 3 at RETURN
</code></pre>
","2024-05-04 15:29:37","0","Answer"
"78429442","","How to correctly call a function in PostgreSQL","<p>I have created a function that does not give any errors itself but when calling it I get an error. I know I technically don't need a function but for my scenario I need to be using one.</p>
<p>The error:</p>
<p>QUERY &quot;SELECT (show_date) FROM show&quot; returned more than one row.
CONTEXT: PL/PGSql function change_data_type() line 3 at RETURN</p>
<pre><code>CREATE OR REPLACE FUNCTION change_data_type()
RETURNS date as $$
BEGIN
    RETURN DATE(show_date) FROM show;
END;
$$ LANGUAGE PLPGSQL;

SELECT change_data_type();
</code></pre>
","2024-05-04 15:11:13","-1","Question"
"78428875","78428803","","<p>For starters there are no anonymous structures in the presented code. There are unnamed structures without tag names.</p>
<p>According to the C Standard</p>
<blockquote>
<p>13 <strong>An unnamed member whose type specifier is a structure specifier
with no tag is called an anonymous structure;</strong> an unnamed member
whose type specifier is a union specifier with no tag is called an
anonymous union. The members of an anonymous structure or union are
considered to be members of the containing structure or union, keeping
their structure or union layout. This applies recursively if the
containing structure or union is also anonymous.</p>
</blockquote>
<p>That is an anonymous structure can be represented only as a member of a structure or union.</p>
<p>You declared two unnamed structures in different scopes: one in the file scope and other in the function block scope. The declaration of the structure in the function block scope hides the declaration of the structure in the file scope. So they are two different types and the compiler says that they are not compatible.</p>
","2024-05-04 11:48:46","3","Answer"
"78428834","78428803","","<p>Each instance of <code>struct { <i>struct-declaration-list</i> }</code> defines a new type, per C 2018 6.7.2.1 8:</p>
<blockquote>
<p>The presence of a struct-declaration-list in a struct-or-union-specifier declares a new type, within a translation unit…</p>
</blockquote>
<p>One reason for this is we might want to use two structures with the same types of contents for different purposes. For example, a structure type with two <code>float</code> members could be used for a point in a plane, while another structure type with two <code>float</code> members could be used for a complex number.</p>
<p>Since the declaration of <code>func</code> and the declaration of <code>test</code> each have their own structure definition, they are different types. Different structure types are incompatible.<sup>1</sup> And that is why the compiler issues the error on the <code>return</code> statement.</p>
<p>To fix this, give the structure type a name, as with:</p>
<pre><code>typedef struct { int a, b; float c; } MyType;

MyType func(void)
{
    MyType test = { 0, 1, 2 };
    return test;
}
</code></pre>
<p>or give the structure a tag:</p>
<pre><code>struct MyTag { int a, b; float c; } func(void)
{
    struct MyTag test = { 0, 1, 2 };
    return test;
}
</code></pre>
<h2>Footnote</h2>
<p><sup>1</sup> There is no specific rule in the C standard for this. Types are compatible if there is a rule in the standard that says they are compatible. No rule says that different structure types in one translation unit, even identically defined types, are compatible. Structure types defined in different translation units with identical tags (or lack thereof) and members are identical.</p>
","2024-05-04 11:33:31","3","Answer"
"78428803","","A function returning anonymous structure","<p>Why is the following construct invalid:</p>
<pre><code>struct { int a, b; float c; } func ()
{
    struct { int a, b; float c; } test;
    
    return test;
    //return (struct { int a, b; float c; }){0,0,0.0}; /* same with designated initializer */
}
</code></pre>
<p>It doesn't compile with GCC, with this nonsensical error:</p>
<blockquote>
<p>error: incompatible types when returning type ‘struct ’ but ‘struct ’
was expected</p>
</blockquote>
<blockquote>
<p>warning: control reaches end of non-void function</p>
</blockquote>
","2024-05-04 11:23:52","2","Question"
"78428025","78427960","","<p>You can use a combination of <a href=""https://numpy.org/doc/stable/reference/generated/numpy.tile.html"" rel=""nofollow noreferrer""><code>np.tile</code></a> to first expand out your string labels, then use <a href=""https://numpy.org/doc/stable/reference/generated/numpy.where.html"" rel=""nofollow noreferrer""><code>np.where</code></a> to select specific indices from <code>p</code> or set the result to <code>None</code>.</p>
<pre><code>import numpy as np

p = np.array(
    [[1, 0, 0, 1, 0], [0, 0, 0, 0, 0], [1, 1, 1, 1, 1], [0, 0, 0, 1, 1]]
)
labels = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;]
expanded = np.tile(labels, (len(p), 1))
final = np.where(p, expanded, None)

print(final)
</code></pre>
<hr />
<p>As @Mechanic Pig points out, broadcasting itself will fix this, so you don't even need <code>np.tile</code>.</p>
","2024-05-04 06:35:58","1","Answer"
"78427960","","Mapping a numpy matrix to a matrix of character strings","<p>I have digital matrix consisting of 0s and 1s. Example:</p>
<pre><code>p=[[1 0 0 1 0]
   [0 0 0 0 0]
   ...
   [1 1 1 1 1]
   [0 0 0 1 1]]
</code></pre>
<p>The rows of this numpy matrix signify time separated measurements of 5 element bursts of data. Each column signifies the channel of the measurement:</p>
<pre><code>channels=[A B C D E]
</code></pre>
<p>I need to map channels on to p so I get:</p>
<pre><code>q=[[A None None D None]
   [None None None None None]
   ...
   [A B C D E]
   [None None None D E]]
</code></pre>
<p>What is the most pythonic way to map p to q?</p>
","2024-05-04 06:08:43","1","Question"
"78427593","","yahoo finance indicators and growth rate calcualtions","<p>I am trying to create growth rates for thirty days after download the data from yahoo finance. I used the following codes and a function but my output prints the same numbers for all days ( 1-30) days of growth. any help is appreciated.</p>
<pre><code># Extracting data from yahoo finance
    
import pandas as pd
import requests
import yfinance as yf
import numpy as np
import matplotlib.pyplot as plt
import time
import datetime

symbols = ['MSFT', 'HD', 'TSLA']
stocks_df = pd.DataFrame({'A' : []})
symbols_daily = yf.download(symbols,
                 period = &quot;max&quot;,
                 interval = &quot;1d&quot;)
for i,ticker in enumerate(symbols):
  print(i,ticker)

  # Work with stock prices
  historyPrices = yf.download(tickers = ticker,
                     period = &quot;max&quot;,
                     interval = &quot;1d&quot;)

  # generate features for historical prices, and what we want to predict
  historyPrices['Ticker'] = ticker
  historyPrices['Year']= historyPrices.index.year
  historyPrices['Month'] = historyPrices.index.month
  historyPrices['Weekday'] = historyPrices.index.weekday
  historyPrices['Date'] = historyPrices.index.date

  if stocks_df.empty:
    stocks_df = historyPrices
  else:
    stocks_df = pd.concat([stocks_df, historyPrices], ignore_index=True)
</code></pre>
<p>and I created the function:</p>
<pre><code># function to create growth
def get_growth_df(df:pd.DataFrame)-&gt;pd.DataFrame:
  for i in range(1, 31):
    df['future_growth_'+str(i)+'d'] = df['Adj Close'].shift(-i) / df['Adj Close']
    GROWTH_KEYS = [k for k in df.columns if k.startswith('future_growth_')]
  return df[GROWTH_KEYS]

get_growth_df(historyPrices).describe()
</code></pre>
<p>it gives me the same values for each of the thirty days.</p>
<p>I am expecting something like this for each of the thirty days growth, i.e. I expect output with the different values of mean, std, min, 25%, 50%, 75% quantiles:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th style=""text-align: center;""></th>
<th style=""text-align: center;"">future_growth_1d</th>
<th style=""text-align: center;"">future_growth_2d</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: center;"">count</td>
<td style=""text-align: center;"">100</td>
<td style=""text-align: center;"">100</td>
</tr>
<tr>
<td style=""text-align: center;"">mean</td>
<td style=""text-align: center;"">0.99</td>
<td style=""text-align: center;"">0.83</td>
</tr>
<tr>
<td style=""text-align: center;"">std</td>
<td style=""text-align: center;"">0.15</td>
<td style=""text-align: center;"">0.12</td>
</tr>
<tr>
<td style=""text-align: center;"">min</td>
<td style=""text-align: center;"">0.29</td>
<td style=""text-align: center;"">0.29</td>
</tr>
<tr>
<td style=""text-align: center;"">25%</td>
<td style=""text-align: center;"">0.93</td>
<td style=""text-align: center;"">-.0.5</td>
</tr>
<tr>
<td style=""text-align: center;"">50%</td>
<td style=""text-align: center;"">1.03</td>
<td style=""text-align: center;"">0.95</td>
</tr>
<tr>
<td style=""text-align: center;"">75%</td>
<td style=""text-align: center;"">1.522</td>
<td style=""text-align: center;"">1.01</td>
</tr>
<tr>
<td style=""text-align: center;"">100%</td>
<td style=""text-align: center;"">1.6</td>
<td style=""text-align: center;"">1.8</td>
</tr>
</tbody>
</table></div>
","2024-05-04 02:21:18","0","Question"
"78427505","","Implement Variable Step Size for Nonlinear Function MATLAB","<p>I have the following function that returns a nonlinear signal as a function of time:</p>
<pre><code>function y = NARMA_optimized(u,mu,delta,phi,psi,m,N,k)
y = zeros(N,1);
% y(0)=0, and also y(-1)=0 etc.
t = 1;
y(t) = mu.* u(t-m-k).* u(t-k) + delta;
for t = 2:N
    v = 1;
    for i = 1:m
        if t-i &gt; 0  % else we add 0
            v = v + y(t-i);
        end
    end
    v = phi.*y(t-1) + v.*psi.*y(t-1) + mu.*u(t-m-k).*u(t-k) + delta;
    y(t) = v;
end  
end
</code></pre>
<p>To call the function, I do the following:</p>
<pre><code>% NARMA Model Comparison
alpha = 0.2;
beta = 0.15;
f_0_i = 1; 
delta = 0.1;
Mu = 1.5;
m = 10;
phi = 0.3;
psi = 0.05;
k_shift = 0;
Sigma = 1;
M = 100; % Upper simulation time limit [seconds]
f = @(t) Sigma.*f_0_i.*sin(alpha.*t).*cos(beta.*t);
dt = 10^-2; % timescale step size [seconds]
t_span = [0:dt:M];
T = NARMA_optimized(f,Mu,delta,phi,psi,m,length(t_span),k_shift);
figure; 
plot(T);
</code></pre>
<p>I would like to change the timescale of the current function to match my discretized representation of time denoted as <code>t_span</code>.</p>
<p>I know that this will require two key changes in the function:</p>
<ol>
<li>start at <code>t=0</code>, not <code>t=1</code>.</li>
<li>increase the update of the function output <code>y</code> by a step size equivalent to <code>dt</code>, not <code>1</code> second. I'm not sure if the current for loop structure can be modified to account for these necessary changes or if I need to start from scratch. I know MATLAB starts at index 1, not index 0. A workaround for &quot;starting&quot; at index 0 in loops is the following:</li>
</ol>
<pre><code>dt = 10^-2; % [seconds]
M = 100; % [seconds]
t_span = [0:dt:M];
for t=1:numel(t_span)
y(t) = [insert value here]
end
</code></pre>
<p>I'm not sure if this is they best way to account for <code>dt</code> and starting at index 0 in the new function.</p>
","2024-05-04 01:16:01","1","Question"
"78425920","78425563","","<p>I think this approach does what you're looking for, but note that I had to turn <code>DF</code> into a <code>DataFrame</code> object, since I assume that's what it's supposed to be</p>
<pre><code>import numpy as np
import pandas as pd


DF = pd.DataFrame({
    'A1': ['tree', 'grass', np.nan, np.nan, np.nan, np.nan],
    'A2': [np.nan, np.nan, 'bird', 'fly', np.nan, np.nan],
    'A3': [np.nan, np.nan, np.nan, np.nan, 'cat', 'dog']
})

# use 'stack()' to combine the columns, dropping the nan values
# use 'reset_index()[0]' to get the desired data out of the stack as a Series
# and then use 'to_frame('A')' to convert that series back into a DataFrame 
# with the desired column name 'A'
DF = DF.stack().reset_index()[0].to_frame('A')
print(DF)

#        A
# 0   tree
# 1  grass
# 2   bird
# 3    fly
# 4    cat
# 5    dog
</code></pre>
<p>Note that you can do each of those steps separately (without chaining them) if you want to see the intermediate results</p>
<pre><code>DF = DF.stack()
print(DF)
DF = DF.reset_index()[0]
print(DF)
DF = DF.to_frame('A')
print(DF)  # final result
</code></pre>
<p>I should point out, however, that there are pending implementation changes to the <code>stack</code> function which will alter its behavior in Pandas 3.0 (NB: at time of writing, Pandas is currently at v2.2). You can read more about this in the <a href=""https://pandas.pydata.org/pandas-docs/stable/whatsnew/v2.1.0.html#whatsnew-210-enhancements-new-stack"" rel=""nofollow noreferrer"">Pandas 2.1 release notes</a></p>
","2024-05-03 16:39:46","0","Answer"
"78425563","","Python function to merge columns into one column","<p>I am trying to build a function, to apply to different columns with a csv file. The purpose of the function is to combine multiple columns into one, using the combine_first method described here: <a href=""https://stackoverflow.com/questions/46563833/how-to-merge-combine-columns-in-pandas"">How to merge/combine columns in pandas?</a></p>
<p>I like to create a function, with parameters: csvName, ColName, NumberOfCol, and generate a new (combined) column for that csv file. Because there are different sets of columns that need to be grouped (and there are multiple csv files), I like to use a function on each set of columns.</p>
<p>Example columns (showing only the ones that need to be merged, the DF has many other columns that I need to retain):</p>
<pre><code>DF = {'A1': [tree, grass, np.nan, np.nan, np.nan, np.nan],  
    'A2': [np.nan, np.nan, bird, fly, np.nan, np.nan],
    'A3': [np.nan, np.nan, np.nan, np.nan, cat, dog]}

DF[&quot;A&quot;] = pd.concat([DF[&quot;A1&quot;].\
                           combine_first(DF[&quot;A2&quot;]).\
                               combine_first(DF[&quot;A3&quot;])], 
            axis=1)
DF.rename(columns={&quot;A1&quot;:&quot;A&quot;}, inplace=True)
</code></pre>
<p>The resulted column will become:
<code>DF = {'A': [tree, grass, bird, fly, cat, dog]}</code></p>
<p>I like to make this operation into a function, so I can enter the name of the csv, the column name (e.g., A), and number of columns that need to be merged</p>
<p>I have something like this at the moment:</p>
<pre><code>   def column_merger(csvName, ColName, length:int):
        OriginalNameList = []
        for number in range(length):
            OriginalNameList.append(ColName + str(number))
    
        NewList = OriginalNameList[1:]

        for name in Newlist:
            NewList.append()
        command = []
        command.extend([.combine_first(SurveyName[NewList[name]]) for name in range(NewList)])
</code></pre>
<p>But it is not working. Any suggestion very much welcomed! Thank you!</p>
","2024-05-03 15:23:53","0","Question"
"78425402","78425002","","<p>Consider using a structure to organize related information.<br />
Also consider using <code>fgets</code> to read lines from the file.<br />
<code>fscanf</code> and other scanning functions using <code>%s</code> need to limit the number of characters to prevent writing too many characters to the buffer. Stringify the <code>#define</code>'s to provide that limit.<br />
The format string <code>&quot; %&quot;FS(LEN_NAME)&quot;[^0-9]%d&quot;</code> will discard leading whitespace, scan up to <code>LEN_NAME</code> characters that are not a digit, then scan an integer. A successful scan will return 2. The name will include trailing whitespace.<br />
Another approach is to use <code>strrchr</code> to get a pointer to the last space in the string. Everything before the pointer is the name and following the pointer is the age.</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;ctype.h&gt;

#define LEN_NAME 49
// stringify to use in format string
#define FS(x) SFS(x)
#define SFS(x) #x

typedef struct person_s {
    char name[LEN_NAME + 1];
    int age;
} person_t;

int main ( void) {
    char line[LEN_NAME * 2] = &quot;&quot;;
    char *space = NULL;
    person_t person = { 0};

    if ( fgets ( line, sizeof line, stdin)) {
        if ( 2 == sscanf ( line, &quot; %&quot;FS(LEN_NAME)&quot;[^0-9]%d&quot;, person.name, &amp;person.age)) {
            printf ( &quot;\tname: %s age: %d\n&quot;, person.name, person.age);
        }

        if ( ( space = strrchr ( line, ' '))) { // find the last space
            // exclude whitespace preceding last space
            while ( space &gt; line &amp;&amp; isspace ( ( unsigned char)*(space - 1))) {
                --space;
            }
            size_t span = space - line;

            if ( span &amp;&amp; span &lt;= LEN_NAME) {
                if ( 1 == sscanf ( space, &quot;%d&quot;, &amp;person.age)) {
                    strncpy ( person.name, line, span);
                    person.name[span] = 0; // zero terminate
                    printf ( &quot;\tname: %s age: %d\n&quot;, person.name, person.age);
                }
            }
        }
    }

    return 0;
}
</code></pre>
","2024-05-03 14:51:08","1","Answer"
"78425002","","How to include a comma in fscanf","<p>i want to scan the line &quot;Ryan, Elizabeth 62&quot; with fscanf like this</p>
<p>fscanf(file_ptr, &quot;%s %d&quot;, name[i], &amp;age[i]);</p>
<p>but fscanf takes the comma as a flag to stop scanning the name.
How can i succeed?</p>
<p>thx</p>
","2024-05-03 13:31:04","0","Question"
"78423922","78421724","","<blockquote>
<p>How can I acquire, for example, from a string?</p>
</blockquote>
<p>You don't. AngelScript binds predetermined functions, meaning you need to register <code>MessageBoxW</code> before using it. AngelScript doesn't magically call <em>any</em> function in the world based on a signature. It needs to know about it beforehand.</p>
<pre class=""lang-c++ prettyprint-override""><code>r = engine-&gt;RegisterGlobalFunction(&quot;int MessageBoxW(int, wchar_t*, wchar_t*, int);&quot;, asFUNCTIONPR(MessageBoxW, (int, wchar_t*, wchar_t*), int), asCALL_CDECL); 
</code></pre>
<p>Because <code>wchar_t</code> is a special case of it <em>being used</em> as a string as opposed to <em>being</em> a string, the above might be a wrong approach and you'll need a wrapper that uses <code>asCString</code> (if I remember correctly - sorry, been some time since I tested AngelScript) or <code>::std::wstring</code>. This is, of course, assuming you built it with UNICODE.</p>
<p>This might be closer to what you need, but as said, you'll need to re-read the docs and adapt it properly:</p>
<pre class=""lang-c++ prettyprint-override""><code>#include &lt;string&gt;

int MyMessageBox(::std::wstring Text, ::std::wstring Caption)
{
     MessageBoxW(g_hWnd, Text, Caption);
}

r = engine-&gt;RegisterGlobalFunction(&quot;int MyMessageBox(string, string, int);&quot;, asFUNCTIONPR(MyMessageBox, (wstring, wstring), int), asCALL_CDECL); 
</code></pre>
<p>Notice I didn't include the window handle. Why? Well, why would you expose OS-specific stuff to a script inside a game? Scripts run inside a sandbox and there's a reason for that. You need to cache the windows (which should be the game itself anyway) and just use it inside the wrapper.</p>
<p>If you don't use UNICODE, of course you'd use <code>::std::string</code> and <code>MessageBoxA()</code>.</p>
<p>As for the typedef, you can pass it to <code>asFUNCTIONPR()</code>. I recommend you don't name it identically to the function name itself, maybe prefix it with <em>t</em>: <code>tMyMessageBox()</code></p>
","2024-05-03 09:51:31","1","Answer"
"78423529","78422649","","<p>There are several problems with your code:</p>
<ul>
<li>you can't return two things from a method</li>
<li>the recursive call to <code>add</code> with 2 arguments is not possible as your method requires 3 arguments. Kotlin allows optional arguments however, so you can make the third argument optional (<code>Int? = null</code>) or initialize it with a default (<code>Int = 0</code>)</li>
<li>you're not actually adding the three arguments, only building the sum of first+second and first+third.</li>
</ul>
<p>Here's a version with optional second and third arguments that works:</p>
<pre><code>fun main() {
    println(add(10, 7, 9))
    println(add(8, 15))
    println(add(42))
}

fun add(firstNumber: Int, secondNumber: Int? = null, thirdNumber: Int? = null): String {
    val items = listOfNotNull(firstNumber, secondNumber, thirdNumber)
    return &quot;${items.joinToString(&quot; + &quot;)} = ${items.sum()}&quot;
}
</code></pre>
<p>Output:</p>
<pre><code>10 + 7 + 9 = 26
8 + 15 = 23
42 = 42
</code></pre>
<p>Or even more elegant with <code>vararg</code>:</p>
<pre><code>fun add(vararg numbers: Int): String {
    return &quot;${numbers.joinToString(&quot; + &quot;)} = ${numbers.sum()}&quot;
}
</code></pre>
","2024-05-03 08:33:17","2","Answer"
"78423337","78422649","","<p>The problem is that you defined a function <code>add</code> with <em>three</em> parameters and in that function you want to call another function, also named <code>add</code>, but with just <em>two</em> paramters. There is no built-in function with that name, so the only function that would be available is the function <em>itself</em> (that would be allowed, it's called <em>recursion</em>), but that needs a third paremter which you don't provide. That's the reason for the error message: The only <code>add</code> function available needs three paramters.</p>
<p>You can create an additional <code>add</code> function with just two parameters, though:</p>
<pre><code>fun add(firstNumber: Int, secondNumber: Int): Int {
    return firstNumber + secondNumber
}
</code></pre>
<p>Now your code would work.</p>
","2024-05-03 07:48:51","2","Answer"
"78422752","78422649","","<p>I'm not quite sure about what you want to achieve but one option could be:</p>
<pre><code>fun add(firstNumber: Int, secondNumber: Int, thirdNumber: Int): String {
  val result = firstNumber + secondNumber + thirdNumber
  return &quot;$firstNumber + $secondNumber + $thirdNumber = $result&quot; 
}
</code></pre>
","2024-05-03 04:59:55","0","Answer"
"78422649","","No value passed for parameter 'thirdNumber'","<p>How can I fix this error?</p>
<pre><code>fun main() {
    println(add(10,7,9))
}
</code></pre>
<p>// Define add() function below this line</p>
<pre><code>fun add(firstNumber: Int, secondNumber: Int, thirdNumber: Int): String {
    val result = add(firstNumber, secondNumber)
    val anotherResult = add(firstNumber, thirdNumber)
   
    return &quot;$firstNumber + $secondNumber = $result&quot;
    return &quot;$firstNumber + $thirdNumber = $anotherResult&quot; 
}
</code></pre>
","2024-05-03 04:08:55","0","Question"
"78422454","78422415","","<p>Your problem is with this line, as the variable <code>average</code> is not defined within <em>global scope</em>:</p>
<pre class=""lang-py prettyprint-override""><code>print(average)
</code></pre>
<p>From <a href=""https://www.w3schools.com/python/python_scope.asp"" rel=""nofollow noreferrer"">W3Schools</a>:</p>
<blockquote>
<p>A variable is only available from inside the region it is created. This is called <strong>scope</strong>.</p>
</blockquote>
<blockquote>
<p>A variable created inside a function belongs to the <em>local scope</em> of that function, and can only be used inside that function.</p>
</blockquote>
<p>You are trying to print the variable <code>average</code> from <em>global scope</em> when it was defined in the <em>local scope</em> of your function.</p>
<p>Instead, you could define the variable <code>average</code> in <em>global scope</em> from the return value of your function</p>
<pre class=""lang-py prettyprint-override""><code>average = calculate_average([34, 30, 12])
print(average)
</code></pre>
<p>Or just print the function output directly:</p>
<pre class=""lang-py prettyprint-override""><code>print(calculate_average([34, 30, 12]))
</code></pre>
","2024-05-03 02:38:43","1","Answer"
"78422448","78422415","","<p>since your function returns the average value, you can just:</p>
<pre><code>print(calculate_average([34, 30, 12]))
</code></pre>
<p>the problem is already answered in the reply section.</p>
<p>or define new average global variable and assign it the value of the function:</p>
<pre><code>average = calculate_average([34, 30, 12])
print(average)
</code></pre>
","2024-05-03 02:34:14","0","Answer"
"78422439","78422415","","<p>The issue with your code is not related to the average variable being undefined, but how you are trying to print the result.</p>
<p>Your function calculate_average correctly calculates the average of a list of numbers and returns the result. In your code, you correctly call this function and store the result in the result variable:</p>
<pre><code>def calculate_average(numbers):
    total = sum(numbers)
    average = total / len(numbers)
    return average
result = calculate_average([34, 30, 12])
print(result)
</code></pre>
","2024-05-03 02:31:02","0","Answer"
"78422415","","Python how to print out the return data?","<pre><code>def calculate_average(numbers):
    total = sum(numbers)
    average = total / len(numbers)
    return average
    
print(average)
calculate_average([34, 30, 12])
</code></pre>
<p>Output shows that average is not defined which I dont understand why. Can someone explain why to me? I already know I can use this line <strong>print(calculate_average([34, 30, 12]))</strong> to print out. But I want to know why my code is not working. I understand return will pass the data outside of the function and end the function, but I dont understand how to print it out as output. Please write down the corrected version and explain me to me. Thank you so much.</p>
<p>I try to use python tutor and also ask chatgpt but still dont understand why or how to make it functioning.</p>
","2024-05-03 02:14:08","0","Question"
"78422252","78422085","","<p>Perhaps try:</p>
<pre><code>def pmi_count_phrase_create(pmi_tups,freq_list):
    import pandas as pd

    &quot;&quot;&quot;pmi_tups is result of running pmi_tups = [i for i in 
finder.score_ngrams(bigram_measures.pmi)] 
   freq_list is a result of running freq_list= finder.ngram_fd.items()
   
   -&gt; 1 df made up of columns for  pmi list, count list, phrase list&quot;&quot;&quot;
    pmi3_list =[]
    count3_list =[]
    phrase3_list =[]
    for phrase, pmi in pmi_tups:
        for item in freq_list:
            quadgram,count = item
            if quadgram == phrase:
                pmi3_list.append(pmi)
                count3_list.append(count)
                phrase3_list.append(phrase)

            # create dataframe
    df = pd.DataFrame.from_dict({'Phrase':phrase3_list,'PMI':pmi3_list,'Count':count3_list})
    return df
</code></pre>
<p>Where you use <code>pd.Dataframe.from_dict</code> instead of <code>pd.Dataframe</code>.</p>
","2024-05-03 00:51:37","-1","Answer"
"78422085","","how to create and return a dataframe in a function?","<p>I have a function pmi_count_phrase_create() where I input 2 lists want to return a dataframe composed of the lists I create in the function. Problem right now is I am getting a tuple containing the three lists instead.</p>
<p>This is my code:</p>
<pre><code>def pmi_count_phrase_create(pmi_tups,freq_list):
    import pandas as pd

    &quot;&quot;&quot;pmi_tups is result of running pmi_tups = [i for i in finder.score_ngrams(bigram_measures.pmi)] 
       freq_list is a result of running freq_list= finder.ngram_fd.items()
       
       -&gt; 1 df made up of columns for  pmi list, count list, phrase list&quot;&quot;&quot;
    pmi3_list =[]
    count3_list =[]
    phrase3_list =[]
    for phrase, pmi in pmi_tups:
        for item in freq_list:
            quadgram,count = item
            if quadgram == phrase:
                pmi3_list.append(pmi)
                count3_list.append(count)
                phrase3_list.append(phrase)

                # create dataframe
    df = pd.DataFrame({'Phrase':phrase3_list,'PMI':pmi3_list,'Count':count3_list})
    return df
</code></pre>
<p>and my current output is a tuple of the form: (pmi3_list,count3_list,phrase3_list)</p>
<p>What I want is a dataframe:</p>
<pre><code>    Phrase                       PMI    Count
0   (activated, charcoal)     15.213655 12
1   (vocal, cords)            14.950620 10
2   (fossil, fuels)           14.872618 15
3   (simplified, explanation) 14.669334 12
4   (midnight, weekend)   14.181233 11
</code></pre>
","2024-05-02 23:20:20","0","Question"
"78421724","","C++: How can I parse a function signature from a std::string to call a function from a DLL?","<p>I am trying to make it so that from the script in angel script I can call functions from DLLs.
Now I have written a library class, which has two functions load and unload. What is missing is a call.
Now, to make the picture more complete, let's present the signature of the <code>engine-&gt;RegisterObjectMethod()</code> call&quot;</p>
<pre class=""lang-c++ prettyprint-override""><code>engine-&gt;RegisterObjectMethod(“library”, “dictionary@ 
call(const string&amp;in, ?&amp;in=null, ?&amp;in=null, ?&amp;in=null, 
?&amp;in=null, ?&amp;in=null, ?&amp;in=null, ?&amp;in=null, ?&amp;in=null, 
?&amp;in=null, ?&amp;in=null)const&quot;, asFUNCTION(library_call), 
asCALL_GENERIC);
</code></pre>
<p>The first argument is the function signature expected by the DLL, and the rest are parameters of undefined type.
And that's why I use asIScriptGeneric! To loop through the argument list and call the function, but to call it correctly, I need to return type and convert the function arguments to the correct types, as well as allocate memory for pointers if the signature is int* for example.
Finally, I want to call the function and pass to the CScriptDictionary under the key 0, what the function returned, and from one to ten, the pointer variables, if there are any.</p>
<pre class=""lang-c++ prettyprint-override""><code>void library_call(asIScriptGeneric* gen) {
#undef GetObject//For WinAPI
        asIScriptContext* ctx = asGetActiveContext();
        library* lib_obj = (library*)gen-&gt;GetObject();

        void* ref = gen-&gt;GetArgAddress(0);
        typedef void* (*func)(...);
        std::string func_name= *static_cast&lt;string*&gt;(ref);
        //Function signature parser:
        std::vector&lt;std::string&gt; tokens;
        std::string token;
        for (char c : func_name) {
            if (c == ' ' || c == '(' || c == ')' || c == ',' || c == ';') {
                if (!token.empty()) {
                    tokens.push_back(token);
                    token.clear();
                }
            }
            else {
                token += c;
            }
        }

        // First array: Return type and function name
        std::vector&lt;std::string&gt; first;
        first.push_back(tokens[0]);  // Return type
        first.push_back(tokens[1]);  // Function name

        // Second array: Parameters
        std::vector&lt;std::string&gt; last;
        for (size_t i = 2; i &lt; tokens.size(); ++i) {
            if (!tokens[i].empty()) {
                last.push_back(tokens[i]);
            }
        }

        FARPROC address = GetProcAddress(lib_obj-&gt;lib, first[1].c_str());
        if (address == NULL) {
            const char* name = first[1].c_str();
            std::string message = &quot;Signature parse error: GetProcAddress failed for '&quot; + std::string(name) + &quot;'&quot;;
            ctx-&gt;SetException(message.c_str());
            return;
        }
        func function = reinterpret_cast&lt;func&gt;(address);
</code></pre>
<p>How to convert arguments to the required types and allocate memory for pointers, if any?</p>
","2024-05-02 20:59:28","0","Question"
"78421444","78421153","","<p>Like I say in my comment to the question, the first example in <a href=""https://stat.ethz.ch/R-manual/R-devel/library/base/html/match.arg.html"" rel=""nofollow noreferrer""><code>match.arg</code></a> can be adapted to this problem. The main twist is the possibility of a missing argument, the <code>NULL</code> default in the question. Here I test it with <a href=""https://stat.ethz.ch/R-manual/R-devel/library/base/html/missing.html"" rel=""nofollow noreferrer""><code>missing</code></a>.</p>
<pre class=""lang-r prettyprint-override""><code>mytri &lt;- function(tri.func = c(&quot;upper.tri&quot;, &quot;lower.tri&quot;)) {
  test &lt;- matrix(1:25, 5, 5)
  if(!missing(tri.func)) {
    tri.func &lt;- match.arg(tri.func)
    i &lt;- switch(tri.func,
                upper.tri = upper.tri(test),
                lower.tri = lower.tri(test))
    test[i] &lt;- NA
  }
  test
}

mytri()
#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    6   11   16   21
#&gt; [2,]    2    7   12   17   22
#&gt; [3,]    3    8   13   18   23
#&gt; [4,]    4    9   14   19   24
#&gt; [5,]    5   10   15   20   25
mytri(&quot;upper.tri&quot;)
#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1   NA   NA   NA   NA
#&gt; [2,]    2    7   NA   NA   NA
#&gt; [3,]    3    8   13   NA   NA
#&gt; [4,]    4    9   14   19   NA
#&gt; [5,]    5   10   15   20   25
mytri(&quot;lower.tri&quot;)
#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    6   11   16   21
#&gt; [2,]   NA    7   12   17   22
#&gt; [3,]   NA   NA   13   18   23
#&gt; [4,]   NA   NA   NA   19   24
#&gt; [5,]   NA   NA   NA   NA   25
mytri(&quot;log&quot;)
#&gt; Error in match.arg(tri.func): 'arg' should be one of &quot;upper.tri&quot;, &quot;lower.tri&quot;
</code></pre>
<p><sup>Created on 2024-05-02 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
<hr />
<h1>Edit</h1>
<p>To answer to the comment</p>
<blockquote>
<p>But I wasn't looking for an alternative way to get the same result. In principle , and without changing any other code, is there any logical check that can be added to the if statement in my question?</p>
</blockquote>
<p>here is a version with an added logical test. The new test is a series of <code>identical</code> checks because <code>%in%</code> and <code>==</code> do not work with function objects.<br />
When the function is not one of the allowed functions an error trappable with <code>try</code> or <code>tryCatch</code> is thrown.</p>
<pre class=""lang-r prettyprint-override""><code>mytri &lt;- function(tri.func = NULL) {
  test &lt;- matrix(1:25,5,5)
  if(is.function(tri.func) &amp;&amp; 
     (identical(tri.func, lower.tri) || identical(tri.func, upper.tri))) {
    test[!tri.func(test)] &lt;-NA
  } else if(!is.null(tri.func)) {
    f &lt;- deparse(substitute(tri.func))
    msg &lt;- sprintf(&quot;'%s' not an allowed function.&quot;, f)
    stop(msg)
  }
  test
}

mytri()
#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    6   11   16   21
#&gt; [2,]    2    7   12   17   22
#&gt; [3,]    3    8   13   18   23
#&gt; [4,]    4    9   14   19   24
#&gt; [5,]    5   10   15   20   25
mytri(upper.tri)
#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]   NA    6   11   16   21
#&gt; [2,]   NA   NA   12   17   22
#&gt; [3,]   NA   NA   NA   18   23
#&gt; [4,]   NA   NA   NA   NA   24
#&gt; [5,]   NA   NA   NA   NA   NA
mytri(lower.tri)
#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]   NA   NA   NA   NA   NA
#&gt; [2,]    2   NA   NA   NA   NA
#&gt; [3,]    3    8   NA   NA   NA
#&gt; [4,]    4    9   14   NA   NA
#&gt; [5,]    5   10   15   20   NA
mytri(log)
#&gt; Error in mytri(log): 'log' not an allowed function.
</code></pre>
<p><sup>Created on 2024-05-02 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
","2024-05-02 19:48:38","3","Answer"
"78421298","78419502","","<p>To solve this problem we can make an array that contain n rows (number of iteration until reach to the balance  where each rows contain:</p>
<ul>
<li><code>n</code> : iteration number (row number)</li>
<li><code>h</code> : The population of healthy people</li>
<li><code>c</code> : the population of sick people</li>
<li><code>err</code>: Error value</li>
</ul>
<p>We define a function to make this array called <code>nhce</code></p>
<pre><code>def nhce(h,c):
    i=[[0,h,c,None]]
    n=0
    while i[n][3]!=0:
        i.append([n:=i[n][0]+1, x:=round(0.8*i[n-1][1]+0.1*i[n-1][2]), y:=round(0.2*i[n-1][1]+0.9*i[n-1][2]),err:=(i[n-1][1]-x)**2+(i[n-1][2]-y)**2 ])
    return i
</code></pre>
<p>As we see this function will return an array and we can use it as below:</p>
<pre><code>arr=nhce(150,120)
print(arr)
</code></pre>
<p><strong>Result:</strong></p>
<blockquote>
<p>[[0, 150, 120, None], [1, 132, 138, 648], [2, 119, 151, 338], [3,
110, 160, 162], [4, 104, 166, 72], [5, 100, 170, 32], [6, 97, 173,
18], [7, 95, 175, 8], [8, 94, 176, 2], [9, 93, 177, 2], [10, 92, 178,
2], [11, 91, 179, 2], [12, 91, 179, 0]]</p>
</blockquote>
<pre><code>arr=nhce(150,120)
print(&quot;Equilibrium remain at {}:{} in iteration number {} &quot;.format(arr[len(arr)-1][1],arr[len(arr)-1][2],arr[len(arr)-1][0]))
</code></pre>
<p><strong>Result:</strong></p>
<blockquote>
<p>Equilibrium remain at 91:179 in iteration number 12</p>
</blockquote>
","2024-05-02 19:14:14","0","Answer"
"78421153","","In R, parameter check when passing a function to another function as an input","<p>In R, if I pass a function to another function as an input (as in <a href=""https://stackoverflow.com/questions/74044185/in-r-how-to-pass-name-of-a-function-to-another-function-as-an-input"">stackoverflow.com/questions/74044185</a>), how can I parameter check the function? As a minimal example, this function requires the passed function to be either NULL (do nothing), upper.tri or lower.tri</p>
<pre><code>mytri &lt;- function(tri.func = NULL){
  test &lt;- matrix(1:25,5,5)
  if(is.function(tri.func)){
     test[!tri.func(test)] &lt;-NA
  }
  return(test)
}
mytri()
mytri(upper.tri)
mytri(lower.tri)
</code></pre>
<p>But how do I check that the function is in my allowed list? For example <code>mytri(log)</code> will return the wrong result without error. I tried  <code>if(is.function(tri.func) &amp;&amp; all(names(formals(tri.func)) ==c(&quot;x&quot;,&quot;diag&quot;)))</code> but that doesn't work because  apparently <code>all(logical(0) == c(&quot;x&quot;, &quot;diag&quot;))</code> is <code>TRUE</code></p>
","2024-05-02 18:44:29","1","Question"
"78420189","78419926","","<p><a href=""https://stackoverflow.com/a/78419973/13963086"">Leviathan's answer</a> explains why you get this error.</p>
<p>If you really want to define both functions locally, you can do so by forward-declaring <code>foo</code> as a variable of the required function type, and then assigning it to a function body that calls <code>boo</code> after <code>boo</code> is declared. Like this:</p>
<pre><code>fun match(xs: Deque): Boolean {

    lateinit var foo: (Deque) -&gt; Boolean

    fun boo(xs: Deque): Boolean {
        ...
        return ... foo(...)
    }

    foo = fun(xs: Deque): Boolean {
        ...
        return ... boo(...)
    }

    return boo(xs)
}

</code></pre>
","2024-05-02 15:23:39","3","Answer"
"78420052","78383365","","<p>Do you want your Firebase project location?
Log in to the Firebase CLI:</p>
<pre><code>firebase login
</code></pre>
<p>List all of your Firebase projects:</p>
<pre><code>firebase projects:list
</code></pre>
<p>See location:</p>
<pre><code>firebase projects:locations
</code></pre>
<p>Or if the project hasn't spun up services with the default project location or you have a multi-location deployment situation, you can see them individually in the Firebase Console. From their documentation <a href=""https://firebase.google.com/docs/projects/locations"" rel=""nofollow noreferrer"">here</a>, only these services require you to configure a location:</p>
<ul>
<li>Analytics (Analytics reporting location)</li>
<li>Cloud Firestore</li>
<li>Cloud Storage</li>
<li>Cloud Functions</li>
<li>Realtime Database</li>
</ul>
<p>Analytics — In the Firebase console, go to settings Project settings &gt; Integrations &gt; Google Analytics. Click the account number to open your Google Analytics account, and then go to the Admin panel to find your account's location.</p>
<p>Realtime Database — In the Firebase console, view the list of your database instances and their locations in the Realtime Database Data tab.</p>
<p>Cloud Firestore — In the Firebase console, view the list of your database instances and their locations in the Cloud Firestore Data tab.</p>
<p>Cloud Storage — In the Firebase console, view the list of your buckets and their locations in the Cloud Storage Files tab</p>
<p>Scheduled functions — In the Google Cloud console, go to Cloud Scheduler to view the list of topics for each job and function. The location is the last segment in the name of the topic.</p>
<p>Non-scheduled functions — By default, functions run in the us-central1 region. However, if the location has been explicitly set, you can find the location in your function's source code.</p>
<p>Just follow their <a href=""https://firebase.google.com/docs/projects/locations#view-settings"" rel=""nofollow noreferrer"">doc</a>.</p>
","2024-05-02 15:01:42","-3","Answer"
"78419973","78419926","","<p>Your problem has nothing to do with the linked post or even recursion.</p>
<p><code>foo</code> and <code>boo</code> are nested functions, so they are only declared when the surrounding <code>match</code> function is executed. For this the order in which they appear is relevant: <code>boo</code> cannot access <code>foo</code> because <code>foo</code> doesn't exist yet. <code>foo</code>, however, <em>can</em> access <code>boo</code>.</p>
<p>To solve this make both functions members of a class or an interface, or you can just declare them as top-level functions on the file level. Then they can see and call each other.</p>
","2024-05-02 14:49:34","4","Answer"
"78419926","","Is Mutual Recursion Supported in Kotlin?","<p>I stumbled upon an old question from 8 years ago (<a href=""https://stackoverflow.com/questions/35714683/kotlin-tail-recursion-for-mutually-recursive-functions"">Kotlin: Tail recursion for mutually recursive functions</a>), which discusses tail recursion in Kotlin. However, my concern is with mutual recursion for functions.</p>
<p>When attempting to use code similar to the provided example, I encountered an error stating that 'foo' is not declared. Has Kotlin introduced any updates or features that support mutual recursion? Is there a decorator or alternative approach that enables mutual recursion in Kotlin?</p>
<pre><code>fun match(xs: Deque): Boolean {
    fun boo(xs: Deque): Boolean {
        ...
        return ... foo(...)
    }

    fun foo(xs: Deque): Boolean {
        ...
        return ... boo(...)
    }

    return boo(xs)
}
...
</code></pre>
<p>Error: Unresolved reference: function name</p>
","2024-05-02 14:40:28","0","Question"
"78419594","78419502","","<p>you can try this</p>
<pre><code>h = 150
s = 120

get_h = 0.1 #10% will get healthy
get_s = 0.2 #20% will get healthy

proportion_h = 150 / (150+120) #first proportion

delta = 1 #diffirence

while delta != 0:
    got_sick = h*get_s
    got_healthy = s*get_h
    h = int(h - got_sick + got_healthy)
    s = int(s - got_healthy + got_sick)
    
    delta = proportion_h - h /(h+s)
    proportion_h = h /(h+s) 
    proportion_s = 1-proportion_h

print(f'healthy : {h} , sick : {s}, proportion_h : {proportion_h*100}%,proportion_s : {proportion_s*100}%')
</code></pre>
","2024-05-02 13:48:37","0","Answer"
"78419502","","Writing python function - I made a condition but it is wrong","<p>The population of healthy people is equal to 150, while the population of sick people is equal to 120. Every day, 20% of healthy people get sick and 10% of sick people get healthy. Please write a function in the Python programming language that will calculate at what proportion of healthy and sick people equilibrium will be reached.</p>
<p>First I tried to do 2 mathematical equations</p>
<pre><code>H - healthy
C - sick

H_1 = 0.8H + 0.1C
C_2 = 0.9C + 0.2H

H_1 = 120 + 12 = 132
H_2 = 108 + 30 = 138

132:138

22:23
</code></pre>
<p>At what ratio will the equilibrium remain? Could you please help me with writing that function?</p>
","2024-05-02 13:30:14","0","Question"
"78418083","78417906","","<p>We can use <code>rlang::as_label()</code>:</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)

foo &lt;- function(data, var_1) {
  
  var_1 &lt;- enquo(var_1)
  
  data |&gt; 
    mutate(Indicator = rlang::as_label(var_1))
}

foo(mtcars, hp) |&gt; 
  head()

#&gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb Indicator
#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4        hp
#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4        hp
#&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1        hp
#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1        hp
#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2        hp
#&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1        hp
</code></pre>
<p><sup>Created on 2024-05-02 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
","2024-05-02 09:16:49","2","Answer"
"78417906","","How do I create a variable with mutate() that has values equal to the name of a given variable?","<p>I would like to create a variable with <code>mutate()</code> that will have values equal to the name of a given variable. I need this to change dynamically.</p>
<p>This is the function that I wrote:</p>
<pre class=""lang-r prettyprint-override""><code>fn &lt;- function(data, var_1) {
  
  var_1 &lt;- enquo(var_1)
  
  prop &lt;- data %&gt;%
    mutate(Indicator = label(!!var_1))
  
}
</code></pre>
<p>Here the <code>Indicator</code> variable has the label of <code>var_1</code> as values. I would like it to have as values the name of <code>var_1</code>.</p>
","2024-05-02 08:45:42","1","Question"
"78417603","78416657","","<p>A polymorphic (or generic) function is actually an infinite family of functions. Your function has the polymorphic type</p>
<pre><code>pairer :: forall a . a -&gt; [a]
</code></pre>
<p>Consequently it works as the family of functions</p>
<pre><code>pairer @Int :: Int -&gt; [Int]
pairer @Bool :: Bool -&gt; [Bool]
pairer @[Int] :: [Int] -&gt; [[Int]]
pairer @(Int -&gt; Bool) :: (Int -&gt; Bool) -&gt; [Int -&gt; Bool]
...
</code></pre>
<p>where the type variable <code>a</code> is being specialized to <em>all</em> the possible types. Any type is allowed here to replace <code>a</code> (well, except for polymorphic types, but that does not matter here).</p>
<p>Because of that, it is possible that the composition</p>
<pre><code>pairer @A . pairer @B
</code></pre>
<p>is well-typed: for that it suffices that the codomain of <code>pairer @B</code> coincides with the comain of <code>pairer @A</code>, and that is the case when <code>A = [B]</code>.</p>
<p>Modern Haskell allows one to explicitly specify the wanted instantiation (the <code>@...</code> in <code>pairer @...</code>) but also allows the programmer to omit that and ask the compiler to infer it (type inference). Hence, we can also write</p>
<pre><code>pairer . pairer
</code></pre>
<p>and the compiler will figure it out, choosing two different specializations that make it type-check. We are not really composing the same function with itself here, since its codomain is not the same as the domain -- we need two compatible specializations.</p>
<p>As an exercise, you can try to make the <code>@...</code> part explicit (you might need the <code>TypeApplications</code> and <code>ScopedTypeVariables</code> extensions depending on your GHC version). Feel free to experiment. If you want another puzzling case, you can play with the identity function and note that <code>id True</code>, <code>id id True</code>, <code>id id id True</code>, etc. are all well-typed and evaluate to <code>True</code>. Here the types of the <code>id</code>s are distinct, otherwise we could not apply them in this way.</p>
","2024-05-02 07:43:51","2","Answer"
"78417175","78416968","","<p>This function should work:</p>
<ol>
<li>With <code>lapply()</code>we iterate over each unique value of <code>highlight_var</code>.</li>
<li>Alpha is set for the current group to 1 and 0.2 for all other groups and plots are created.</li>
<li>After keeping all plots in a list <code>plot_list</code> we use <code>grid.arrange()</code> from <code>gridExtra</code> package to display the plots.</li>
</ol>
<pre><code>library(gridExtra)
library(ggplot2)

plot_list &lt;- lapply(unique(df$highlight_var), function(highlight) {
  ggplot(df, aes(x = x, y = y, group = highlight_var, color = highlight_var)) +
    geom_line(aes(alpha = ifelse(highlight_var == highlight, 1, 0.2)), linewidth = 1) +
    scale_color_manual(values = c(&quot;firebrick3&quot;, &quot;purple3&quot;, &quot;gold3&quot;, &quot;steelblue3&quot;)) +
    labs(title = paste(&quot;Highlight Group:&quot;, highlight)) +
    theme_minimal() +
    guides(alpha = FALSE)  
})
</code></pre>
<p><a href=""https://i.sstatic.net/23dbPNM6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/23dbPNM6.png"" alt=""enter image description here"" /></a></p>
<p><strong>As an alternative</strong> we could use <code>gghighlight</code>:</p>
<pre><code>library(gghighlight)
library(tidyr)
library(ggplot2)

df %&gt;%
  crossing(facet_highlight = unique(df$highlight_var)) %&gt;%
  mutate(is_highlighted = ifelse(highlight_var == facet_highlight, TRUE, FALSE)) %&gt;% 
  ggplot(aes(x = x, y = y, group = highlight_var, color = highlight_var)) +
  geom_line(linewidth = 1) +
  facet_wrap(~ facet_highlight, scales = &quot;free&quot;) +
  gghighlight(is_highlighted, use_direct_label = FALSE, unhighlighted_params = list(alpha = 0.2)) +
  scale_color_manual(values = c(&quot;firebrick3&quot;, &quot;purple3&quot;, &quot;gold3&quot;, &quot;steelblue3&quot;)) +
  theme_minimal() 
</code></pre>
<p><a href=""https://i.sstatic.net/53j7LG1H.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/53j7LG1H.png"" alt=""enter image description here"" /></a></p>
","2024-05-02 06:08:14","2","Answer"
"78417131","78417089","","<p>You need to ensure your numpy arrays are <code>float</code>, not <code>int</code>. One easy way is to define <code>np.array([3.,4.])</code> instead of <code>np.array([3,4])</code>.</p>
<p>Explanation:</p>
<p>With <code>np.array([3,4])</code> your array will have <code>dtype=int</code>. When you then do <code>x[idx] = tmp_val - h</code> you effectively try to push e.g. <code>2.999</code> into an <code>int</code> array, you can't do that and numpy will automatically truncate it to <code>2</code>.</p>
","2024-05-02 05:54:19","-1","Answer"
"78417089","","Unexpected value of numerical gradient","<p>I want to make a function that -
returns a vector of the gradient of a function at a specific point</p>
<p>what I tried -</p>
<pre><code>import numpy as np


def function_2(x):
    return x[0]**2 + x[1]**2

def numerical_gradient(f, x):
    h = 1e-4
    grad = np.zeros_like(x)
    for idx in range(x.size):
        tmp_val = x[idx]
        # f(x + h) 
        x[idx] = tmp_val + h
        fxh1 = f(x)

        # f(x - h) 
        x[idx] = tmp_val - h
        fxh2 = f(x)
    
        grad[idx] = (fxh1 - fxh2) / (2 * h)
        #  x[idx] original value
        x[idx] = tmp_val
    return grad

grd1 = numerical_gradient(function_2, np.array([3,4]))
print(grd1)
</code></pre>
<p>and it showed [25000 35000]
Why it is not [6.000xx  7.999x] as expected??</p>
","2024-05-02 05:42:55","1","Question"
"78416968","","R: How to automate a variable creation procedure where I need to create a separate variable for each level of an existing variable based on ifelse()","<p>I am trying to create a graph with different facets where each facet has the same lines and the only difference among the facets is that each facet highlights a different line (i.e., the only difference is the alpha values of the lines).</p>
<p><a href=""https://i.sstatic.net/rUBj574k.png"" rel=""nofollow noreferrer"">Python graph</a></p>
<p>I was able to create one in Python fairly easily:</p>
<pre><code>time = np.array([1, 2, 3, 4, 5])
lines = np.array([
    [10, 15, 20, 25, 22],
    [8, 12, 18, 22, 17],
    [5, 10, 15, 20, 16],
    [12, 15, 17, 25, 30]
])

alpha_values = [1, 1, 1, 1]  # Different alpha values for each line
colors = sns.color_palette(&quot;coolwarm&quot;, len(lines))
markers = ['o', 'd', 'D', 's'] 
line_styles = ['-', '--', '-.', ':']


# Create subplots
fig, axs = plt.subplots(nrows=2, ncols=2, figsize=(16, 8))
axs = axs.flatten()

# Plot each line with different alpha in each subplot
for i, ax in enumerate(axs):
    for j, line in enumerate(lines):
        alpha = alpha_values[j] if i == j else 0.2  # Highlight the line in the current subplot
        color=colors[j] #if i==j else &quot;gray&quot;
        marker=markers[j]
        linestyle=line_styles[j]
        ax.plot(time, line, label=f'Line {chr(ord(&quot;A&quot;) + j)}', alpha=alpha, marker=marker, color=color, linestyle=linestyle)
    ax.set_title(f'Subplot {i + 1}')
    ax.legend(ncol=1)
    
plt.figure(dpi=1500)
plt.tight_layout()
</code></pre>
<p>But I was having a hard time doing the same in R. I was able to do it in R eventually but in a dummy way -- it will get very cumbersome if the base variable has many levels.</p>
<p>In R i did this:</p>
<p><a href=""https://i.sstatic.net/oT9wySyA.png"" rel=""nofollow noreferrer"">R graph</a></p>
<pre><code>df &lt;- data.frame(
  x = rep(1:10, 4),
  y = c(rnorm(10), rnorm(10, mean = 2), rnorm(10, mean = 4), rnorm(10, mean = 6)),
  highlight_var = rep(c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;), each = 10)
)

df = df %&gt;%
  mutate(A_Line = ifelse(highlight_var==&quot;A&quot;, 1,0.2),
         B_Line = ifelse(highlight_var==&quot;B&quot;, 1,0.2),
         C_Line = ifelse(highlight_var==&quot;C&quot;, 1,0.2),
         D_Line = ifelse(highlight_var==&quot;D&quot;, 1,0.2)) %&gt;%
  group_by(x, highlight_var) %&gt;%
  gather(alpha_group, alpha_value, A_Line:D_Line)
</code></pre>
<p>And then in ggplot2, for the alpha values in <code>geom_line</code>, i just used <code>alpha_value</code> and then <code>facet_wrap</code> by <code>alpha_group</code></p>
<pre><code>ggplot(df) +
      geom_line(aes(x = x, y = y, color=highlight_var, alpha=alpha_value)
                        ) +
      scale_color_manual(values=c(&quot;red&quot;, &quot;purple&quot;, &quot;orange&quot;, &quot;steelblue4&quot;))+
      facet_wrap(.~alpha_group)+
      theme_minimal()+
      guides(alpha=F)
</code></pre>
<p>As you can see, i had to create dummy variables (X_Line) for each facet-- This can get quite hard if the <code>highlight_var</code> has many levels.</p>
<p>Is there any way to create an iterative function to automate the &quot;_Line&quot; variables creation process? Thanks so much!</p>
<p>I tried to write functions using &quot;for&quot; loops but to no avail. I was thinking using <code>grid.arrange</code> to group the outputs but couldn't seem to store the graphs from the loop into an object that can be put in <code>grid.arrange</code></p>
","2024-05-02 04:58:54","1","Question"
"78416657","","Why is the function composition with itself allowed in this question?","<p>I was doing a past paper and was very confused by this question:</p>
<p><a href=""https://i.sstatic.net/oTXO6lGA.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>I tried to research about it, look at threads, watch youtube videos but I still do not understand it and it made me even more confused.</p>
<p>Pairer takes a value of any type and returns a list of that value:</p>
<pre class=""lang-hs prettyprint-override""><code>pairer :: a -&gt; [a]
</code></pre>
<p>Now the return type of the left pairer takes as input result of first pairer application but this returns a <code>[a]</code> and pairer expects an <code>a</code>, this is not compatible as the codomain of first needs to match with domain of second</p>
<p>Can someone please explain how <code>pairer . pairer</code> is valid?</p>
<p>I tried to follow through and did not understand it as like I said above to my knowledge the return type of first function applied needs to match domain of second function</p>
","2024-05-02 02:09:46","1","Question"
"78412337","78412239","","<p>You need to modify it like that:</p>
<pre><code>public function destroy(string $id)
{
    $category=Category::findOrFail($id);
    if(count($category['products'] == 0))
    {
        if(File::exists($category-&gt;image))
        {
            File::delete($category-&gt;image);
        }
        $category-&gt;delete();
        return redirect()-&gt;route('category.index')-&gt;with('success','Category deleted successfully');
    }
    else
    {
        return redirect()-&gt;route('category.index')-&gt;with('message','Cannot delete Categories with existing products!');
    }

}
</code></pre>
<p>OR you can do it like this if you want to involve Products model with that:</p>
<pre><code>public function destroy(string $id)
{
    $category=Category::findOrFail($id);
    $product = Product::where('category_id', $category['id'])-&gt;first();
    if(!$product)
    {
        if(File::exists($category-&gt;image))
        {
            File::delete($category-&gt;image);
        }
        $category-&gt;delete();
        return redirect()-&gt;route('category.index')-&gt;with('success','Category deleted successfully');
    }
    else
    {
        return redirect()-&gt;route('category.index')-&gt;with('message','Cannot delete Categories with existing products!');
    }

}
</code></pre>
","2024-05-01 06:35:59","4","Answer"
"78412318","78412239","","<p>Your <code>Category</code> model should have relation of categories look like below.</p>
<pre><code>class Category extends Model
{

     public function products()
     {
          return $this-&gt;hasMany(Product::class, 'category_id', 'id');
     }
}
</code></pre>
<p>and then your destroy function should look like this to achieve what you want by using above relation.</p>
<pre><code>    public function destroy(string $id)
    {
        $category=Category::findOrFail($id);
        if($category-&gt;products()-&gt;isNotEmpty())
        {
            if(File::exists($category-&gt;image))
            {
                File::delete($category-&gt;image);
            }
            $category-&gt;delete();
            return redirect()-&gt;route('category.index')-&gt;with('success','Category deleted successfully');
        }
        else
        {
            return redirect()-&gt;route('category.index')-&gt;with('message','Cannot delete Categories with existing products!');
        }

    }

</code></pre>
<p>You don't need to fetch products in this function.</p>
","2024-05-01 06:29:14","1","Answer"
"78412239","","Trying to write a function that if product exists, then specific category cannot be deleted","<p>I'm working on an ecommerce project in Laravel 10.48.8, my PHP version is 8.2.12.</p>
<p>I have used one to many relation to link the parent table categories to one of the child table products using foreign key in delete cascade.</p>
<p>I've used resource controller for categories to define a CRUD operation.</p>
<p>Issue: In the destroy function, I'm trying to establish that if a product exists in that specific category, then the category can not be deleted. However, it won't let me delete other categories as well that do not contain any products. Following is the function that I have written:
P.S. 'category_id' is a column in my products table, which is the foreign key used to link the primary key in the category table.</p>
<pre><code>public function destroy(string $id)
    {
        $category=Category::findOrFail($id);
        $product = Product::with('category')-&gt;first();
        if(!$product-&gt;category_id)
        {
            if(File::exists($category-&gt;image))
            {
                File::delete($category-&gt;image);
            }
            $category-&gt;delete();
            return redirect()-&gt;route('category.index')-&gt;with('success','Category deleted successfully');
        }
        else
        {
            return redirect()-&gt;route('category.index')-&gt;with('message','Cannot delete Categories with existing products!');
        }

    }
</code></pre>
","2024-05-01 06:05:37","1","Question"
"78410256","78408830","","<p>Error reporting is a built-in function in PHP. You are trying to use it as a variable, which is why PHP is returning an error for an undefined function.
I am not sure why you are using a switch, but if you are trying to report all errors you could use:</p>
<p>error_reporting(E_ALL);</p>
<p><a href=""https://www.w3schools.com/php/func_error_reporting.asp"" rel=""nofollow noreferrer"">https://www.w3schools.com/php/func_error_reporting.asp</a>
This link has more information on how to handle error reporting.</p>
","2024-04-30 17:38:17","0","Answer"
"78409970","78409058","","<p>Try using interface and its implementation and inject it to any forms when necessary.</p>
","2024-04-30 16:45:40","0","Answer"
"78409959","78409693","","<p>I would consider it best practice to make <code>global</code> vars <a href=""https://en.wikipedia.org/wiki/Snake_case"" rel=""nofollow noreferrer""><code>SCREAMING_SNAKE_CASE</code></a> and/or to pack 'em into a dict if there's any significant count</p>
<pre class=""lang-py prettyprint-override""><code>PATH_DEFAULT = pathlib.Path(&quot;/my_path&quot;)
CONFIG = {
    &quot;path&quot;: pathlib.Path(&quot;/my_path&quot;),
}
</code></pre>
<p>However, I'd also consider it bad practice to set default args this way as they'll be evaluated once at runtime, while outer features may want to set them to something else .. instead (especially with a class), set the default to <code>None</code> and then look it up at runtime instead <code>if argname is None: ...</code></p>
<p>for example</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; ARG = 1
&gt;&gt;&gt; def test(arg=ARG):
...     print(arg)
... 
&gt;&gt;&gt; ARG = 2
&gt;&gt;&gt; test()
1
</code></pre>
<p>changed to look up the default whenever called</p>
<pre><code>&gt;&gt;&gt; ARG = 1
&gt;&gt;&gt; def test(arg=None):
...     if arg is None:
...         arg = ARG
...     print(arg)
... 
&gt;&gt;&gt; test()
1
&gt;&gt;&gt; ARG = 2
&gt;&gt;&gt; test()
2
</code></pre>
<p>more complete example for a class</p>
<pre class=""lang-py prettyprint-override""><code>class Foo:
    path_default = pathlib.Path(&quot;/my_path&quot;)
    def __init__(self, path=None, *args):
        if path is None:
            path = self.path_default
</code></pre>
","2024-04-30 16:42:43","0","Answer"
"78409693","","Is there a best practice for naming function arguments that have the same name as a global variable?","<p>I frequently find myself wondering if there is any best practice for the following situation.</p>
<p>Let's say, I want to access local files within my Python script and, therefore, create a global variable <em>path</em> pointing at the dataset.</p>
<p>Now I'm writing a function which should have a <em>path</em> variable as an argument.
I know that the local variable within the function shadows the global variable but I just find it unsatisfying to write <code>path=path</code>.</p>
<p>I think I remember seeing that people just write an underscore before the local variable like in <code>_path=path</code>.</p>
<p>Is that a thing?
Is there any best practice?
How do you name your function arguments that have the same name as a global argument?</p>
<p>Best
Jo</p>
","2024-04-30 15:45:23","0","Question"
"78409058","","how to save database connection code outside of the main window form to be called when needed within various forms","<p>I am trying to find an example of a project or code that shows how to create separate methods to connect to the database, retrieve data, save data, and alter data with those methods saved in their separate class to be called when needed.</p>
<p>I can make it work when the code is included in the MainForm but i will have other forms needing to do many of the same things and didn't want to have to write it out on each form.</p>
<p>Main Form
-ask for information from the database
-calls DataBaseConnection method
-using user input to select what data is needed
-displaying data on MainForm</p>
<p>Class DataBase
-method DataBaseConnection
-method RetrieveData
-method SendData</p>
","2024-04-30 14:02:49","-1","Question"
"78408830","","PHP warning that built-in PHP function is an undeclaired variable... why? what am I doing wrong?","<p>Okay so quite a few years ago, I was trying to teach myself PHP, and got okay-ish at making bad but functional code... that was all I needed as I just wanted to build stuff for myself to run on a localhost only. I'm still in that place where I just want stuff for me on my computer, it doesn't need to be clean or secure or anything like that just functional. So recently I tried reviving a project (code I downloaded from GitHub before Microsoft acquired it... aka it's really old and not available anymore)</p>
<p>Now here's the kicker... when I go to run the code I keep getting warnings like:</p>
<blockquote>
<p>Warning: Undefined variable $error_reporting in C:\xampp\htdocs\Playground\FileManager\Test_003\index.php on line 80</p>
</blockquote>
<p>Problem is, error_reporting (no dollar sign in code) isn't a variable, it's a PHP function... so what gives?</p>
<p>here's the relevant code:</p>
<pre><code>switch ($error_reporting){
    case 0: error_reporting(0); @ini_set(&quot;display_errors&quot;,0); break;
    case 1: error_reporting(E_ERROR | E_PARSE | E_COMPILE_ERROR); @ini_set(&quot;display_errors&quot;,1); break;
    case 2: error_reporting(E_ALL); @ini_set(&quot;display_errors&quot;,1); break;
}
</code></pre>
<p>I'm thinking I could fix it with <code>$error_reporting = &quot;&quot;;</code>, but that causes it to throw a hissy-fit (tons more warnings, and no page loading)... so what should I do?</p>
","2024-04-30 13:25:21","0","Question"
"78407282","78405657","","<p>Function application usually takes precedence over operators, so:</p>
<pre><code>test1 1 ls = ls
test1 p ls = test1 (p - 1) ls ++ [p]
</code></pre>
<p>is interpreted as:</p>
<pre><code>test1 1 ls = ls
test1 p ls = (test1 (p - 1) ls) ++ [p]
</code></pre>
<p>This will thus get evaluated as:</p>
<pre><code>test1 3 []
  -&gt; (test1 2 []) ++ [3]
  -&gt; (test1 1 [] ++ [2]) ++ [3]
  -&gt; ([] ++ [2]) ++ [3]
  -&gt; [2, 3]
</code></pre>
<p>The algorithm is however not very efficient: appending to the right takes <em>𝓞(n)</em> with <em>n</em> the number of items of the left sublist, making the <code>test1</code> function run in <em>𝓞(n<sup>2</sup>)</em>. We can work with an accumulator here:</p>
<pre><code>test1 n xs = xs ++ go n []
  where go 1 xs = xs
        go p xs = go (p-1) (p:xs)
</code></pre>
<p>This makes the algorithm <em>𝓞(n)</em>. This is especially useful if for example <code>ls</code> would already be a very large list, and will also save memory, since we don't make a lot of copies of <code>ls</code>, but just reuse the <code>ls</code> list.</p>
","2024-04-30 08:37:44","3","Answer"
"78406846","78403826","","<p>For a basic, beginner's challenge like this, the simplest solution is to provide the full solution for the OP to learn from. SO tries to insist on a &quot;Minimum Reproducible Example&quot; in questions for clarity. Same standard should apply to SO answers.</p>
<p>To avoid all problems arising from leading and/or trailing whitespace and/or punctuation, you have to <em>see</em> that the solution is to detect the <strong>beginning</strong> (i.e. first letter) of each &quot;word&quot;. Terminating <code>'.'</code> or SP or <code>'\n'</code> is/are then irrelevant to the algorithm.</p>
<p>Embedded hyphens (<code>&quot;know-how&quot;</code>) and apostrophes (<code>&quot;Jane's&quot;</code>) are to be considered part of their associated &quot;word&quot;. More complexity can be added to detect and avoid counting hyphens as separators (<code>&quot;boy - girl&quot;</code>), if needed.</p>
<p>Further, the OP's example seems to wish to consider <code>&quot; 8 &quot;</code> to be a &quot;word&quot; for the purposes of counting. For this, <code>isdigit()</code> is also required.</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;ctype.h&gt; // isalpha() isdigit()

int wc( char *s ) {
    int inword = 0, wc = 0;
    char ch;

    for( int i = 0; ( ch = s[i] ) != '\0'; i++ )
        if( isalpha((unsigned char)ch)
        ||  isdigit((unsigned char)ch)
        ||  ch == '\''
        ||  ch == '-' ) {
            wc += !inword; // count transitions INTO words
            inword = 1; // now in a word...
        } else inword = 0;

    return wc;
}

int main( void ) {
    char *str = &quot;This should be 8 words. But it isn't.&quot;;

    printf( &quot;%s\n&quot;, str );
    printf( &quot;wc = %d\n&quot;, wc( str ) );

    return 0;
}
</code></pre>
<p>Output:</p>
<pre class=""lang-none prettyprint-override""><code>This should be 8 words. But it isn't.
wc = 8 // Seems to be, given the definition of &quot;words&quot; including digits
</code></pre>
<p>The OP should consider whether-or-not 'underscore' (<code>'_'</code>) is a <em>pseudo-letter</em> for their purposes.</p>
<p>Is <code>&quot;whether-or-not&quot;</code> one word, or three? Hmmm...</p>
","2024-04-30 07:15:36","1","Answer"
"78405657","","Order of evaluation of function in Haskell – call to ++","<p>I'm new to Haskell and don't get how the following function is evaluated:</p>
<pre><code>    test1 1 ls = ls
    test1 p ls = test1 (p - 1) ls ++ [p]
</code></pre>
<p>By the simple scheme below I assumed the answer should be [3, 2],
but evaluation in ghci gives [2, 3]. Why is that?</p>
<pre><code>    {-
    test1 3 [] =
        test1 2 []++[3] =
            test1 1 []++[3]++[2]
    -}
</code></pre>
","2024-04-30 00:04:05","2","Question"
"78404226","78403826","","<p>Just have two flag variables:</p>
<ol>
<li>Whether the current character is a separater (e.g. <code>is_sep</code>)</li>
<li>Whether the previous character was a separater (e.g. <code>was_sep</code>)</li>
</ol>
<p>A word count transition occurs when <code>is_sep</code> is set but <code>was_sep</code> is <em>not</em>.</p>
<p>Special case for a string that has <em>no</em> trailing separater (e.g. <code>hello</code>)</p>
<hr />
<p>Here is the refactored code. It is annotated.</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;ctype.h&gt;

int
count_words(const char *text)
{
    int word_count = 0;

    int was_sep = 1;

    for (int i = 0;  text[i] != 0;  ++i) {
        int chr = text[i];

        // word separaters are whitespace or &quot;.?!&quot;
        int is_sep = isspace(chr);
        if (! is_sep)
            is_sep = (chr == '.') || (chr == '?') || (chr == '!');

        // count words
        // we don't want to double count (e.g. &quot;abc&lt;sp&gt;&lt;sp&gt;def&quot;)
        if (is_sep &amp;&amp; (! was_sep))
            ++word_count;

        // remember the current character state for the next round
        was_sep = is_sep;
    }

    // handle case where there is _no_ trailing &quot;.&quot; et. al.
    if (! was_sep)
        ++word_count;

    return word_count;
}

void
test(const char *text)
{

    printf(&quot;%d: '%s'\n&quot;,count_words(text),text);
}

int
main(void)
{

    test(&quot;hello world.&quot;);
    test(&quot;hello   world .&quot;);
    test(&quot;   hello   world .&quot;);
    test(&quot;   hello   world&quot;);
    test(&quot;hello&quot;);

    return 0;
}
</code></pre>
<hr />
<p>Here is the program output:</p>
<pre><code>2: 'hello world.'
2: 'hello   world .'
2: '   hello   world .'
2: '   hello   world'
1: 'hello'
</code></pre>
","2024-04-29 17:08:48","1","Answer"
"78404129","78403826","","<p>You are counting the wrong thing.
You should be counting every time the character <em><strong>changes</strong></em> from a “non-word character” to a “word character”.</p>
<p>Notice how the definition is in terms of whether or not you have a “word character”.</p>
<p>In other words (pun!), don’t count <em>characters</em>. Count <em><strong>boundaries</strong></em>.</p>
","2024-04-29 16:51:11","1","Answer"
"78403860","78403826","","<p>I suggest you explore the world of “finite state automata”
Here with two states :
1 : in a word
2 : out a word
... after that count the number of transitions from in to out</p>
<p>More details is something like the next algorithm, a 2 state machine.</p>
<p>I suppose a word contents only letters.</p>
<p>If you have more rules you probably need more states.</p>
<p>In this graph circles content state values and arrows are transitions</p>
<p>Each arrow have one or more actions associated.</p>
<p><a href=""https://i.sstatic.net/bRiaVhUr.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/bRiaVhUr.jpg"" alt=""enter image description here"" /></a></p>
<pre><code>Let's have 
    &quot;t&quot; your array of char
    &quot;state&quot;, the state of the automate (integer)
    &quot;i&quot;, the char index (integer)
    &quot;nb_word&quot;, word counter (integer)
    isalpha(character c) return true if c is an upper or lower letter 

//    INIT VALUES
state &lt;- 0
nb_word &lt;- 0
i &lt;- 0

// Iteration

while ( not endofString(t[i]) )
|   if (isalpha(t[i]) 
|   |   state &lt;- 1
|   else
|   |   if(state == 1)
|   |   |   nb_word &lt;- nb_word + 1
|   |   |   state &lt;- 0
|   |   -
|   -
|   i &lt;- i + 1
-
</code></pre>
<p>I suggest this bedside reading:
<a href=""https://en.wikipedia.org/wiki/Compilers:_Principles,_Techniques,_and_Tools"" rel=""nofollow noreferrer"">https://en.wikipedia.org/wiki/Compilers:_Principles,_Techniques,_and_Tools</a></p>
","2024-04-29 15:55:43","3","Answer"
"78403826","","How can I make sure my function is not overcounting the number of words?","<p>I'm writing a function to count the number of words in a user-inputted string of text. Currently I've set it up for <code>word_count</code> to increment every time it hits a space or punctuation mark, but I know that's not right as it'll increment twice when it gets to the end of a sentence. It'll also increment when it hits an apostrophe or hyphen within a word.</p>
<p>I think I need to either modify my for loop to treat a word as a sequence of characters followed by a space or punctuation mark (but not an apostrophe or hyphen), and/or somehow look ahead in the string to see if there's another space/punctuation mark coming next, and then not increment <code>word_count</code> again in that case. But I'm not sure how to do either of those things (or if there's a better way altogether).</p>
<p>I'm a complete beginner and doing this exercise as part of CS50's Week 2 Readability problem set. I don't want the final answer — just some clues please! Thanks in advance.</p>
<pre><code>    int count_words(string text)
    {
        int length = strlen(text);
        int word_count = 0;
    
        for (int i = 0; i &lt; length; i++)
        {
            if (isspace(text[i]) || ispunct(text[i])) word_count++;
        }
        return word_count;
    }
</code></pre>
<p>If I input <code>&quot;This should be 8 words. But it isn't.&quot;</code> it should return <code>8</code> words. Instead it returns <code>10</code>.</p>
","2024-04-29 15:49:25","1","Question"
"78401712","78050147","","<p>As of now, there is an official movement to get this feature implemented.</p>
<p><a href=""https://github.com/rust-lang/rust/issues/124509"" rel=""nofollow noreferrer"">Tracking Issue #124509 <code>#![feature(autodiff)]</code></a></p>
","2024-04-29 09:27:26","0","Answer"
"78398749","78398697","","<p>Try:</p>
<pre class=""lang-py prettyprint-override""><code>def assing_value(input_var, df_master):
    idx = pd.IntervalIndex.from_arrays(
        df_master[&quot;value (from)&quot;], df_master[&quot;value (until)&quot;], closed=&quot;both&quot;
    )
    mask = idx.contains(input_var)
    
    return df_master[mask][&quot;value to return&quot;].squeeze()


print(assing_value(10, df))
</code></pre>
<p>Prints:</p>
<pre><code>1
</code></pre>
","2024-04-28 15:42:47","0","Answer"
"78398697","","python function set value according to master dataframe","<p>I need to define a function that, depending on the value of the input variable and a master dataframe, the function assigns the return value according to a master dataframe.</p>
<p>This is the master (df_master) dataframe the function has to recieve and, depending on it and the input value, return value:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>value (from)</th>
<th>value (until)</th>
<th>value to return</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>30</td>
<td>1</td>
</tr>
<tr>
<td>31</td>
<td>50</td>
<td>2</td>
</tr>
<tr>
<td>51</td>
<td>100</td>
<td>3</td>
</tr>
</tbody>
</table></div>
<p>For example, if input value = 10, return 1</p>
<p>For example, if input value = 90, return 3</p>
<p>...</p>
<p>The function should be something like:</p>
<pre><code>def assing_value (input_var, df_master):
    ...
</code></pre>
","2024-04-28 15:29:44","1","Question"
"78397319","78397255","","<p>Using a conditional and only adding the vertical line when the addline argument is TRUE:</p>
<pre><code>Gplot = function(mydata, AE, addline=TRUE){
  gp &lt;- ggplot(mydata)+
  ...
  if(addline){
    gp &lt;- gp + geom_vline(aes(xintercept = breaks[2]))
  }
  return(gp)
}
...
</code></pre>
","2024-04-28 06:56:46","4","Answer"
"78397255","","How to remove a part of a custom function when using it in R?","<p>I have a custom function, and it works well.</p>
<pre><code>Gplot = function(mydata, AE){
ggplot(mydata)+
...
geom_vline(aes(xintercept = breaks[2]), color = &quot;seagreen&quot;, linetype = &quot;dashed&quot;))
}
...
</code></pre>
<p>Sometimes I don't need the vertical line,  so how to remove geom_vline when using it?</p>
<p>I know I can remove this sentence in the function, but I need it most of times. So I just want to  remove it with some specific variables.</p>
","2024-04-28 06:21:09","2","Question"
"78396908","78396888","","<blockquote>
<p>so i always see that the &quot;function expression&quot; term points to this whole snippet</p>
</blockquote>
<p>Technically speaking, only the <code>function(){console.log(&quot;Hello World!&quot;)}</code> part of that line is a function expression. The left hand side is a variable declaration. But people will sometimes use the term &quot;function expression&quot; for this whole thing, to distinguish it from a &quot;function declaration&quot;. Eg, the following as a standalone line is a function declaration:</p>
<pre><code>function func() {console.log(&quot;Hello World!&quot;)};
</code></pre>
<p>Btw, if you're interested in the technical names of the various bits of syntax, i recommend playing around with <a href=""https://astexplorer.net/"" rel=""nofollow noreferrer"">https://astexplorer.net/</a> . You can paste in javascript and it will show a tree structure of what the various pieces of code are</p>
<blockquote>
<p>i could be wrong but.. do you really don’t think that would be strange to call this an anonymous function?:</p>
</blockquote>
<p>Because of the fact that you immediately assign it to a variable named <code>funcExp</code>, it actually does get a name. Eg, try the following:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const funcExp = function(){console.log(""Hello World!"")};
console.log(funcExp.name)</code></pre>
</div>
</div>
</p>
<p>So i would personally not use the term &quot;anonymous function&quot;, since it does end up with a name. If you don't assign it to a variable, then it won't have a name, and then i <em>would</em> call it anonymous:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function logName(fn) {
  console.log(fn.name);
}

logName(function(){console.log(""Hello World!"")})</code></pre>
</div>
</div>
</p>
","2024-04-28 02:37:46","2","Answer"
"78396888","","What really is a function expression?","<p>Can someone explain me please if a function expression involves the function value along the variable in where it's stored or is really only the function value?, so i always see that the &quot;function expression&quot; term points to this whole snippet:</p>
<pre><code>const funcExp = function(){console.log(&quot;Hello World!&quot;)};
</code></pre>
<p>But i was wondering.. then what about this:</p>
<pre><code>function(){console.log(&quot;Hello World!&quot;)}
</code></pre>
<p>if you ask me i would say that the function expression is only the function value itself, which basically would be a pure anonymous function, no? i could be wrong but.. do you really don’t think that would be strange to call this an anonymous function?:</p>
<pre><code>const funcExp = function(){console.log(&quot;Hello World!&quot;)};
</code></pre>
<p>i mean in some way already has a name, not directly as part of the function value, but as part of the variable in where its stored, so i don't know i just want to know what really  is a function expression, the whole variable creation initialized with a function value or only that function value, if the first turns to be true then how do we call this type of function values <code>function(){console.log(&quot;Hello World!&quot;)}</code>? function expression also?; thanks.</p>
","2024-04-28 02:21:47","0","Question"
"78394606","78392464","","<p>If you're talking about Verilog, the scope rules are defined in 1364-2005 12.7. SystemVerilog may have made some minor changes, but probably not, since that would break stuff. The rules state that</p>
<blockquote>
<p>If an identifier is referenced directly (without a hierarchical path)
within a task, function, named block, or generate block, it shall be
declared either within the task, function, named block, or generate
block locally or within a module, task, function, named block, or
generate block that is higher in the same branch of the name tree that
contains the task, function, named block, or generate block.</p>
</blockquote>
<p>So, within the function, you can directly reference something declared in the enclosing module.</p>
<p>Should you do this? Up to you. If you have any programming background, you would probably rather die first. Functions are meant to encapsulate functionality; pulling in arbitrary stuff from outside breaks this. It also makes the function 'impure', which isn't a concept in Verilog, but is probably the reason that you can't do fancy compile-time stuff in Verilog (things like pre-calculating filter coefficients, for example, which is common in Other HDLs, and has been for decades). SystemVerilog has added a concept of pure functions, so maybe they fixed that.</p>
<p>Interestingly, if you use a <em>hierarchical</em> identifier, you can access anything you want, anywhere. Again, whether this is good or bad is up to you, but don't do it in synthesisable code. It can be fantastically useful in testbenches, and I make extensive use of it in code which is compiled down to produce Verilog. Interestingly, the inability to use hierarchical identifiers like this in An Other HDL was always a major flaw, and took years to fix.</p>
","2024-04-27 10:03:21","0","Answer"
"78394379","78394185","","<p>A minimal revision to your function:</p>
<ol>
<li>Replace <code>&quot;NA&quot;</code> with <code>NA</code>. The former is literal character string, and the latter refers to the missing value in R.</li>
<li>Replace the first <code>ifelse()</code> with <code>if (...) {...} else {...}</code>. Otherwise, <code>cumsum_single_data[grouprow-1]</code> will throws an error when <code>grouprow</code> is 1.</li>
<li>Move the second <code>ifelse()</code> outside the for-loop, because it can be vectorizedly evaluated.</li>
</ol>
<pre class=""lang-r prettyprint-override""><code>allocate_data_m &lt;- function(single_data, total_data) {
  cumsum_single_data &lt;- rep(NA, length(single_data))
  for (grouprow in seq_len(length(single_data))) {
    cumsum_single_data[grouprow] &lt;- if(grouprow == 1) {
      single_data[grouprow]
    } else {
      cumsum_single_data[grouprow-1] + single_data[grouprow] 
    }
  }
  out &lt;- ifelse(cumsum_single_data &lt; total_data, single_data, 0)
  out 
}
</code></pre>
<pre class=""lang-r prettyprint-override""><code>raw_df %&gt;%
  group_by(cat) %&gt;%
  mutate(amount_x_all = allocate_data_m(single_amount, total_amount)) %&gt;%
  ungroup()

# # A tibble: 9 × 4
#   cat   single_amount total_amount amount_x_all
#   &lt;chr&gt;         &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
# 1 a                 1           20            1
# 2 a                 3           20            3
# 3 a                 7           20            7
# 4 b                 2           10            2
# 5 b                 1           10            1
# 6 b                 4           10            4
# 7 b                 6           10            0
# 8 c                 1            9            1
# 9 c                 6            9            6
</code></pre>
<hr />
<h3>Version 2</h3>
<p>Use column names instead of column vectors. In this case, you must use column names with double quotes when you call <code>allocate_data_m()</code> inside <code>mutate()</code>.</p>
<pre class=""lang-r prettyprint-override""><code>allocate_data_m &lt;- function(data, single_data, total_data) {
  if(is(data, &quot;tbl&quot;)) data &lt;- as.data.frame(data)
  cumsum_single_data &lt;- rep(NA, nrow(data))
  for (grouprow in seq_len(nrow(data))) {
    cumsum_single_data[grouprow] &lt;- if(grouprow == 1) {
      data[grouprow, single_data]
    } else {
      cumsum_single_data[grouprow-1] + data[grouprow, single_data]   
    }
  }
  out &lt;- ifelse(cumsum_single_data &lt; data[, total_data], data[, single_data], 0)
  out
}

raw_df %&gt;%
  group_by(cat) %&gt;%
  mutate(amount_x_all = allocate_data_m(cur_data(), &quot;single_amount&quot;, &quot;total_amount&quot;)) %&gt;%
  ungroup()
</code></pre>
","2024-04-27 08:43:56","2","Answer"
"78394185","","self_function can't work-- Can't subset columns past the end","<p>There is dataframe <code>raw_df</code> as below:</p>
<pre><code>library(tidyverse)

detail &lt;- data.frame(cat = c(&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;b&quot;,&quot;c&quot;,&quot;c&quot;),
                     single_amount = c(1,3,7,2,1,4,6,1,6))
    
total &lt;- data.frame(cat = c(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;),
                    total_amount = c(20,10,9))
    
raw_df &lt;- detail %&gt;% left_join(total, by = 'cat')
</code></pre>
<p>I defined self function <code>allocate_data_m</code>  to allocate <code>total_amount</code> when <code>cumsum(single_data)</code> is less then <code>total_amount</code></p>
<pre><code>allocate_data_m &lt;- function(data, single_data, total_data) {
  out &lt;- cumsum_single_data &lt;- rep('NA', nrow(data))
  for (grouprow in seq_len(nrow(data))) {
    
    cumsum_single_data[grouprow] &lt;- 
      if_else(grouprow == 1, data[grouprow, single_data],
              cumsum_single_data[grouprow-1] + data[grouprow, single_data])
    
    out[grouprow] &lt;- if_else(cumsum_single_data[grouprow] &lt; data[grouprow, total_data], data[grouprow, single_data], 0)
  }
    out 
}
</code></pre>
<p>when run the <code>allocate_data_m</code> in <code>mutate</code>, the error occur. Anyone can help ? Thanks!</p>
<pre><code>raw_df %&gt;%
  group_by(cat) %&gt;%
  mutate(amount_x_all = allocate_data_m(cur_data(), single_amount, total_amount))
</code></pre>
<p>The wished result as below , I am just wondering how the function <code>allocate_data_m</code> can't work.</p>
<pre><code>raw_df %&gt;%
  group_by(cat) %&gt;%
  mutate(amount_x_all = if_else(cumsum(single_amount) &lt; total_amount, single_amount, 0))
</code></pre>
","2024-04-27 07:35:47","1","Question"
"78393734","78392464","","<p>A function or task can certainly reference signals declared outside of it. But one thing you need to be careful of is sensitivity with combinational logic. If instead you tried to use a continuous assignment like</p>
<pre><code>assign someWire = myFunction(someIn);
</code></pre>
<p>or</p>
<pre><code>always @(*) someReg = myFunction(someIn);
</code></pre>
<p>Then simulation only calls <code>myFunction</code> when <code>someIn</code> changes its value, not when externalVariable changes.</p>
<p>SystemVerilog addresses this problem with the <code>alway_comb</code> block. It in-lines all function calls and makes the <em>always</em> process sensitive to all external variable changes.</p>
","2024-04-27 03:37:40","0","Answer"
"78392552","78392464","","<blockquote>
<p>Can Verilog functions access variables declared outside the function block?</p>
</blockquote>
<p>Short Answer: Yes</p>
<p>Why?:</p>
<p>Each module creates scope; variable <code>externalVariable</code> is in the TestModule module scope.<br />
Therefore <code>externalVariable</code> is available to Verilog constructs in the same scope.</p>
<p>I would consider adding argument(s) and variables as needed to localize the behavior and declare the function storage as <code>automatic</code>.  The default storage for functions is static (shared variables).</p>
<p>Declaring the <code>automatic</code> function makes the it reentrant, causes dynamic allocation of storage for each time its called, rather than sharing variables between different invocations of the task.</p>
<p>Declaring the function automatic looks like this</p>
<pre><code>function automatic [7:0] myFunction;
</code></pre>
<p>See IEEE 1364-2005 (last Verilog specification) section 10 Tasks and functions for more.</p>
<p>You may find this post helpful re <a href=""https://electronics.stackexchange.com/questions/580547/what-is-scope-of-variables-in-verilog-modules"">Verilog Variables Module Scope</a></p>
<hr />
<p>I don't know what simulator you are using but your code did not compile for me when I used the commercial simulators on <a href=""http://www.edaplayground.com"" rel=""nofollow noreferrer"">www.edaplayground.com</a><br />
I get the error</p>
<pre><code>design.sv, 20
  Net type cannot be used on the left side of this assignment.
  The offending expression is : Out
  Source info: Out &lt;= myFunction(1);
</code></pre>
<p>Which is saying part <code>Out</code> must change from:</p>
<pre><code>output Out
</code></pre>
<p>to</p>
<pre><code>output reg Out   
</code></pre>
<p>The default for <code>outputs</code> is type <code>wire</code>, and <code>wires</code> can't be driven from an <code>always</code> block in Verilog.</p>
<p>You can also change the file extensions to .sv, thus invoking the SystemVerilog compiler.  In SystemVerilog use type <code>logic</code> to replace <code>wire/reg</code> and the tool will do the right thing and free you from the <code>wire/reg</code> rules.</p>
","2024-04-26 19:01:58","-1","Answer"
"78392464","","Can Verilog functions access variables declared outside the function block?","<p>There is a reg variable containing huge data array. This variable is declared and initialized inside a module.</p>
<p>I created a function inside the Verilog module to access this external data. Surprisingly, I am able to do so without any trouble.</p>
<p>So, is there any reason I should pass the values as input to the function when it can just access the external variables?</p>
<p>Here is a code example to show what I mean</p>
<pre><code>module TestModule (
input clock,
output Out
);

    // Variable declared outside the function
    reg [7:0] externalVariable [10:0];

    // Function declaration
    function [7:0] myFunction;
        input arg;
    begin
        myFunction = externalVariable[arg];
    end
    endfunction

    always @(posedge clock) begin
        // Assign a value to the external variable
        Out &lt;= myFunction(1);
    end

endmodule
</code></pre>
<p>I simulated the above example and it works. But why?</p>
","2024-04-26 18:41:22","0","Question"
"78391751","78391308","","<p>If you set an <a href=""https://docs.djangoproject.com/en/stable/topics/http/urls/#id5"" rel=""nofollow noreferrer""><strong><code>app_name</code></strong> <sup>[Django-doc]</sup></a> in the <code>urls</code> module, or you explicitly set a <code>namespace</code>, you need to prefix the name with that app name, so <code><b><i>my_app_name</i>:</b>login</code> in this case.</p>
<p>You can make use of <a href=""https://docs.djangoproject.com/en/stable/topics/http/shortcuts/#redirect"" rel=""nofollow noreferrer""><strong><code>redirect(…)</code></strong> <sup>[Django-doc]</sup></a> instead of first calling <a href=""https://docs.djangoproject.com/en/stable/ref/urlresolvers/#django.urls.reverse"" rel=""nofollow noreferrer""><strong><code>reverse(…)</code></strong> <sup>[Django-doc]</sup></a> and then wrap it in a <a href=""https://docs.djangoproject.com/en/stable/ref/request-response/#django.http.HttpResponseRedirect"" rel=""nofollow noreferrer""><strong><code>HttpResponseRedirect</code></strong> object <sup>[Django-doc]</sup></a>. The <code>redirect(…)</code> function does not only offer a more convenient signature to do this, it also for example will use the <a href=""https://docs.djangoproject.com/en/stable/ref/models/instances/#django.db.models.Model.get_absolute_url"" rel=""nofollow noreferrer""><strong><code>.get_absolute_url()</code></strong> method <sup>[Django-doc]</sup></a> if you pass it a model object, so:</p>
<pre><code>if not request.user.is_authenticated:
    return redirect('<strong><em>app_name</em>:</strong>login')</code></pre>
<p>That being said, redirecting in case the user did not login is a <em>very</em> common use-case, that has been encapsulated in the <a href=""https://docs.djangoproject.com/en/stable/topics/auth/default/#the-login-required-decorator"" rel=""nofollow noreferrer""><strong><code>@login_required</code></strong> decorator <sup>[Django-doc]</sup></a>, we can thus use:</p>
<pre><code>from django.contrib.auth.decorators import <b>login_required</b>


<b>@login_required</b>
def <em>my_view</em>(request):
    # &hellip;
    pass</code></pre>
<p>in the <code>settings.py</code>, we can then set the <a href=""https://docs.djangoproject.com/en/stable/ref/settings/#login-url"" rel=""nofollow noreferrer""><strong><code>LOGIN_URL</code></strong> setting <sup>[Django-doc]</sup></a> to specify to what view we should redirect:</p>
<pre><code># settings.py

# &hellip;

LOGIN_URL = '<strong><em>app_name</em>:</strong>login'</code></pre>
","2024-04-26 16:08:07","2","Answer"
"78391415","78391308","","<p>Sooo question was solved. If anyone seeks for same answer:</p>
<p>For shortcuts like reverse() or reverse_lazy() Django needs url name and also your app name.
Pattern is &quot;app_name:url_name&quot;</p>
","2024-04-26 15:15:07","2","Answer"
"78391308","","I don't understand why the Django built in 'Reverse' function is not working","<p>I am trying to learn Django in python, when today, I stumbled upon this error:
&quot;NoReverseMatch at /downloader/
Reverse for 'login' not found. 'login' is not a valid view function or pattern name.&quot;</p>
<p>I am not sure why this is happening, but here is my code:</p>
<p>(this is the views.py code)</p>
<pre><code>if not request.user.is_authenticated:
    return HttpResponseRedirect(reverse(&quot;login&quot;))
</code></pre>
<p>(here is my urls.py)</p>
<pre><code>urlpatterns = [
path(&quot;&quot;, views.index, name=&quot;index&quot;),
path(&quot;add/&quot;, views.add, name=&quot;add&quot;),
path('scrape/', views.scrape_all, name='scrape_all'),
path('find_url/', views.find_song_urls, name='find_song_urls'),
path('downloader/', views.downloader, name=&quot;downloader&quot;),
path(&quot;login/&quot;, views.login_view, name=&quot;login&quot;),
path(&quot;logout/&quot;, views.logout_view, name=&quot;logout&quot;),
path(&quot;create_acount/&quot;, views.create_account, name=&quot;create_account&quot;)
]
</code></pre>
<p>I was just trying to make a login function with my project but I don't get what I am doing wrong.</p>
","2024-04-26 14:55:15","0","Question"
"78391016","78390597","","<p>You can try this formula replace A10:A13 with the actual range</p>
<p><code>=LET( rng,A10:A13, col,TOCOL(TEXTSPLIT(TEXTJOIN(&quot;,&quot;,TRUE,rng),&quot;,&quot;,,TRUE,TRUE)), TOCOL(IF(BYROW(UNIQUE(col),LAMBDA(x,SUM(--(x=col))))=ROWS(rng),UNIQUE(col),1/0),3))</code></p>
<p>To arrange the result in one cell separated by comma use <code>TEXTJOIN</code>:</p>
<p><code>=LET( rng,A10:A13, col,TOCOL(TEXTSPLIT(TEXTJOIN(&quot;,&quot;,TRUE,rng),&quot;,&quot;,,TRUE,TRUE)), TEXTJOIN(&quot;,&quot;,,TOCOL(IF(BYROW(UNIQUE(col),LAMBDA(x,SUM(--(x=col))))=ROWS(rng),UNIQUE(col),1/0),3))) </code>
<a href=""https://i.sstatic.net/1C81sb3L.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/1C81sb3L.png"" alt=""enter image description here"" /></a></p>
","2024-04-26 14:05:08","0","Answer"
"78390921","78390597","","<p>I'll break down the formula for you, hope that gives you some insight in what you're actually doing:</p>
<p><code>LET</code> is a formula that lets you define names, use those names later on, for eassier/faster calculations.  Any cells, arrays, rows, columns, whatever are formed within the formula, stay within the formula (important later), until one output is made (a cell, an array, ...).</p>
<p>Your first name is <code>x</code>, and <code>x</code> defines the forumla behind it, which I'll break down next:</p>
<p>In the center, ther's <code>TEXTJOIN</code>, which joins (merges) text with a certain delimeter (which is <code>&quot;, &quot;</code> in your case), so all your cells are added together in one cell, with <code>&quot;, &quot;</code>.</p>
<p>Around the <code>TEXTJOIN</code> is a <code>TEXTSPLIT</code>, which splits the entire 'cell' you just formed, into an row of cells, again using a delimter, which is <code>&quot;, &quot;</code> again, now this delimeter determines where your text is split; So anytime it encounters <code>&quot;, &quot;</code> it will eject a new cell into the row;</p>
<p>Next up is <code>TRANSPOSE</code>, this just turns/pivots a row into a column and vice versa. (so TEXTJOIN made a row, which is now turned into a column.)</p>
<p>All of the above is now <code>x</code>, within the <code>LET</code> formula.</p>
<hr />
<p>Next up are <code>y</code> and <code>z</code>, they use <code>UNIQUE</code>, basically filtering out duplicate data;</p>
<hr />
<p>Lastly, there's the calculation part, with in the center a <code>MATCH</code> function, which basically searches for a value inside of a matrix, and returns it position (either row or column).</p>
<p>Around that <code>MATCH</code> is a <code>IFERROR</code> function, which checks for errors, surrounded by an <code>IF</code> function, which then returns a value depending on if an error was found or not, when it finds one, <code>y</code> is returned, which is explained above. If no error is found, it returns a 'blank' cell (<code>&quot;&quot;</code>).</p>
<p>This whole thing is again wrapped with a <code>TEKSTJOIN</code>, which I already mentioned above.</p>
<hr />
<p>Now, I'm not sure how the <code>IF(IFERROR())</code> part is supposed to work, the formula didn't work for me.</p>
<p>But when I replaced <code>IFERROR()</code> with <code>ISNUMBER()</code>, it worked for me: outputted one cell with all non-duplicate strings combined.</p>
<hr />
<p>See image: green cells where duplicate, so those are skipped, the other ones are combined into one (the last one).</p>
<p><a href=""https://i.sstatic.net/kZdInIAb.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/kZdInIAb.png"" alt=""Results"" /></a></p>
<p>Thanks for reading my TED talk.</p>
","2024-04-26 13:50:57","0","Answer"
"78390825","78390597","","<p>Your formula defines three variables (that's what the <code>Let()</code> worksheet function is used for), and does some calculations on those variables.</p>
<p>First I advise you to check the meaning of those variables, and try to figure out how they are used in the final <code>TextJoin()</code> worksheet function.</p>
<p>As an aid, you might use formula auditing, which you can find here:</p>
<p><a href=""https://i.sstatic.net/YF7aGOx7.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/YF7aGOx7.png"" alt=""enter image description here"" /></a></p>
","2024-04-26 13:35:04","0","Answer"
"78390597","","How to highlight a unique value from several cells","<p>I have a list of cells with data inside, separated by a ,<br />
I would like to extract all the value that are common to each cells.
<a href=""https://i.sstatic.net/AQ51py8J.png"" rel=""nofollow noreferrer"">It works, I stole it from internet, I don't understand it but it just works</a></p>
<p>I'm not really good in excel so don't ask to complexes questions and don't use Macro.</p>
<p>=LET(x; TRANSPOSE(TEXTSPLIT(TEXTJOIN(&quot;, &quot;;TRUE;C2:C3); &quot;, &quot;));y;UNIQUE(x);z;UNIQUE(x;;1); TEXTJOIN(&quot;, &quot;;TRUE;IF(ISERROR(MATCH(y;z;0));y; &quot;&quot;)))</p>
<p>My issue is that it only works for 2 cells.
If I test 3 or more, it will keep all value that appear several time, but I need to keep value that appeared in every single cell, not just 3 out of 4.</p>
","2024-04-26 12:55:18","0","Question"
"78390419","78281443","","<p>Thanks for the insights <em><strong>@alex</strong></em>.</p>
<ol>
<li>Add the below settings in the <code>Function app=&gt;Application Settings</code>, refer <a href=""https://techcommunity.microsoft.com/t5/apps-on-azure-blog/secure-storage-account-linked-to-function-app-with-private/ba-p/2644772"" rel=""nofollow noreferrer"">MSDOC</a>:</li>
</ol>
<pre><code>WEBSITE_CONTENTOVERVNET=1
WEBSITE_VNET_ROUTE_ALL=1
</code></pre>
<p><img src=""https://i.imgur.com/SkfI3kI.png"" alt=""enter image description here"" /></p>
<ol start=""2"">
<li><p>Check if Azure Functions app is correctly integrated with the virtual network (VNet) containing the storage account.</p>
</li>
<li><p>Make sure you have created and configured the private endpoint for the storage account and is correctly linked to the correct subnet and VNet.</p>
</li>
<li><p>The managed identity of function app should have <code>Storage Blob Data Contributor</code> assigned to it to access the storage account.</p>
</li>
</ol>
<ul>
<li>Enable Managed Identity in Azure function App.</li>
</ul>
<p><img src=""https://i.imgur.com/eRFYfz9.png"" alt=""enter image description here"" /></p>
<ul>
<li>Assign <code>Storage blob data contributor</code> role to the managed identity of the function app.</li>
</ul>
<p><img src=""https://i.imgur.com/4EKfzvd.png"" alt=""enter image description here"" /></p>
<ol start=""4"">
<li><p>Ensure that the NSG rules (if enabled) allow traffic between the Azure Functions subnet and the storage account subnet.</p>
</li>
<li><p>Enable logging for both the Azure Functions app and the storage account and check the logs to identify any errors occurring when the function app tries to access the storage account.</p>
</li>
</ol>
<p>I have tested the same in my environment by disabling the public access in both function app and Storage account and integrated with virtual network private endpoints.</p>
<p><img src=""https://i.imgur.com/yv7Xhek.png"" alt=""enter image description here"" /></p>
<p><strong>References:</strong></p>
<ol>
<li><a href=""https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-vnet"" rel=""nofollow noreferrer"">Use private endpoints to integrate Azure Functions with a virtual network</a>.</li>
</ol>
","2024-04-26 12:23:17","1","Answer"
"78388753","78388716","","<p>Why would it not compile?</p>
<p><code>std::ref</code> returns a <code>std::reference_wrapper</code> which has an <a href=""https://en.cppreference.com/w/cpp/utility/functional/reference_wrapper/get"" rel=""nofollow noreferrer"">implicit conversion to reference to stored object</a> that is used here.</p>
<blockquote>
<p>Is obj a shared variable if passed as <code>std::ref(obj)</code> among all threads?</p>
</blockquote>
<p>No. Each thread gets a copy.</p>
<p>The situation is similar to</p>
<pre><code> void foo( int a) { std::cout &lt;&lt; a; }

 int main() {
     int x = 42;
     int&amp; ref = x;
     foo(ref);
 }
</code></pre>
<p><code>ref</code> is a reference to <code>x</code>. When you call <code>foo(ref)</code> then <code>a</code> is a copy of <code>x</code>.</p>
<p>Actually the need to use <code>std::ref</code> arises because the thread constructor always gets its parameters by value. And if the function called by the thread is <code>template &lt;typename Num&gt; void threadFunction(MyClass&lt;Num&gt; myObj)</code>, ie it accepts a value, then nothing can magically change it to get <code>myObj</code> passed by reference.</p>
","2024-04-26 07:03:12","5","Answer"
"78388716","","c++ thread function accepting object by value: why does std::ref(obj) compile?","<pre><code>#include &lt;iostream&gt;
#include &lt;thread&gt;

template&lt;int Num&gt;
class MyClass {
public:
    MyClass(int val) : val_(val) {}

    // Copy constructor
    MyClass(const MyClass&amp; other) : val_(other.val_) {
        std::cout &lt;&lt; &quot;Copy constructor called&quot; &lt;&lt; std::endl;
    }

    // Move constructor
    MyClass(MyClass&amp;&amp; other) noexcept : val_(other.val_) {
        std::cout &lt;&lt; &quot;Move constructor called&quot; &lt;&lt; std::endl;
    }

private:
    int val_;
};

template&lt;int Num&gt;
void threadFunction(MyClass&lt;Num&gt; myObj) {
    std::cout &lt;&lt; &quot;Inside thread&quot; &lt;&lt; std::endl;
}

int main() {
    MyClass&lt;1&gt; obj(42);

    std::thread t1(threadFunction&lt;1&gt;, obj); // &lt;-- pass by value
    std::thread t2(threadFunction&lt;1&gt;, std::ref(obj)); // &lt;-- pass by reference

    t1.join();
    t2.join();

    return 0;
}
</code></pre>
<p>I want to pass an object by value to a thread to ensure each thread works on its own copy (thread <code>t1</code>).</p>
<p>When I create thread <code>t2</code>, I pass the object by reference using <code>std::ref(obj)</code>.</p>
<p>Clearly, my intention per function definition is to pass the object by value rather than by reference. Is obj a shared variable if passed as <code>std::ref(obj)</code> among all threads?</p>
<p>This question
<a href=""https://stackoverflow.com/questions/41131053/stdref-using-with-template-function-and-function-passing-by-value"">std::ref using with template function and function passing by value</a>
seems to address a similar topic, but not in multithreading context. In the example shown there, there seems to be a difference if the function is templated.</p>
<p>EDIT 1:</p>
<p>I added a copy and move constructor to the class motivated by the discussion in the answer below.</p>
","2024-04-26 06:54:50","0","Question"
"78388623","78388042","","<p>You need dynamic SQL for that.</p>
<pre class=""lang-sql prettyprint-override""><code>create or replace function dynamictablesearch(table_name text, arg_user_id uuid)
returns setof tmp_table as $$
DECLARE 
    dynsql text := 'SELECT * FROM public.&quot;Users&quot; u
      join public.%I x on u.&quot;id&quot; = x.&quot;UsersID&quot;
      WHERE id = %L';
BEGIN
    return query execute format(dynsql, table_name, arg_user_id);
END $$ language plpgsql;
</code></pre>
<p>Notes:</p>
<ul>
<li>You need to first define type <code>tmp_table</code> as the record type of the
two joined tables;</li>
<li>Be careful, the function is SQL injection prone;</li>
<li>Better do not use uppercase letters in column names and identifiers</li>
</ul>
<p>Unrelated but I am not sure that the use of dynamic table names is a good idea at all. Maybe review your data design?</p>
","2024-04-26 06:30:37","0","Answer"
"78388042","","Creating a POSTGRESQL function that does a search based on table name and ID","<p>I'm attempting to make a function that I can call from an app that returns the results of the entire tables searched. I'm expecting the function to return all the columns of the users table and the variable defined table that it joins to with results that are limited on the user ID which is a uuid.</p>
<p>Here is the closest I've come to solving it. I've tried a few variants, but even when I can get SQL to accept the variable, it won't call it successfully when I attempt to query it.</p>
<pre><code>create or replace function DynamicTableSearch(Table_Name varchar,User_ID uuid)
returns setof tmp_table as $$

declare _userid uuid;
declare _tablename varchar;
result tmp_table;
BEGIN
    SELECT 'efaad10a-6e0b-4b52-8d55-2c4eefd84cd5' INTO _userid;
    select '&quot;Table_Name&quot;' into _tablename;

    --DROP TABLE IF EXISTS tmp_table;
    --CREATE TEMPORARY TABLE tmp_table AS
    SELECT * FROM public.&quot;Users&quot; u
    join public._tablename x on u.&quot;id&quot; = x.&quot;UsersID&quot;
    into tmp_table
    WHERE   id = _userid;
return tmp_table
 --RETURN tmp_table;
END $$ language plpgsql
</code></pre>
","2024-04-26 03:10:55","0","Question"
"78387562","78385714","","<p>Whether or not a function is inlined is an implementation detail that you should <em>not</em> care about.</p>
<p>There is nothing wrong with having a header file containing a bazillion small “inline” method definitions. It can still be pretty and easy-to-read and handled well by the compiler. Let the compiler do its job.</p>
<p>The header would need to prototype the function/method definitions either way.</p>
","2024-04-25 23:05:42","1","Answer"
"78386729","78386562","","<p>You don't need <code>sapply</code>, it would call the function on each column, not on all the columns. Try instead</p>
<pre class=""lang-r prettyprint-override""><code>try &lt;- read.table(text = &quot; X    pbs_m  pbs_sem     nm_m   nm_sem
1  TNFα 1.402850 0.750384 1.439808 0.738850
2   IL6 0.781183 0.951991 2.687149 2.148349
3  IFNγ 1.267959 0.787331 1.630742 1.700653
4 SNAI1 1.328036 0.915758 0.684646 0.713751
5 SNAI2 0.876023 0.946581 0.321736 0.240060
6 SNAI3 1.124685 1.226003 0.706217 0.969728&quot;, header = TRUE)

effect_size &lt;- function(n, mean1, mean2, sem1, sem2){
  s1 &lt;- sqrt(n)*sem1
  s2 &lt;- sqrt(n)*sem2
  d &lt;- mean2 - mean1
  d/(s1 + s2)/2
}

effect_size(6, try$pbs_m, try$nm_m, try$pbs_sem, try$nm_sem)
#&gt; [1]  0.005065705  0.125487424  0.029764166 -0.080595709 -0.095347590
#&gt; [6] -0.038902499
</code></pre>
<p><sup>Created on 2024-04-25 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
<hr />
<p>Also, the way it is called, <code>diff</code> doesn't subtract <code>mean1</code> from <code>mean2</code>, it combines the vector <code>c(mean1, mean2)</code> producing a vector twice the number of rows of <code>try</code>, then computes the differences of each pair of consecutive numbers of this vector.</p>
<p>With the data in the question</p>
<ol>
<li><code>c(mean1, mean2)</code> is a vector of length 12;</li>
<li><code>diff(c(mean1, mean2))</code> computes 11 differences.</li>
</ol>
<p>This is not what you want.</p>
","2024-04-25 18:59:01","2","Answer"
"78386685","78386562","","<p>With <code>apply</code> rowwise, then put back in a data frame.</p>
<pre><code>data.frame(X = try[,1], 
           res = apply(try[,-1], 1, \(x) 
             effect_size(6, x[&quot;pbs_m&quot;], x[&quot;nm_m&quot;], x[&quot;pbs_sem&quot;], x[&quot;nm_sem&quot;])))
      X          res
1  TNFα  0.005065705
2   IL6  0.125487424
3  IFNγ  0.029764166
4 SNAI1 -0.080595709
5 SNAI2 -0.095347590
6 SNAI3 -0.038902499
</code></pre>
<p>Note, if you don't exclude the first character vector all values will be cast to character, since apply creates a matrix.</p>
","2024-04-25 18:50:15","2","Answer"
"78386562","","using custom function in sappply","<p>I have written a very basic function that calculates the Cohen's d effect size from 2 means and 2 standard errors of mean (SEM). It simply takes the difference in the means and divides it by the pooled standard deviations (obtained from the SEM by multiplying it by the square root of n)</p>
<pre><code>effect_size &lt;- function(n, mean1, mean2, sem1, sem2){
  a &lt;- diff(c(mean1, mean2))/
    ((sqrt(n)*sem1)+(sqrt(n)*sem2))/2
  return(a)
}
</code></pre>
<p>The function works with the following codes:</p>
<pre><code>effect_size(6, 1.40285, 1.439808, 0.750384, 0.73885)

effect_size(6, try$pbs_m[1], try$nm_m[1], try$pbs_sem[1], try$nm_sem[1])
effect_size(6, try$pbs_m[2], try$nm_m[2], try$pbs_sem[2], try$nm_sem[2])
effect_size(6, try$pbs_m[3], try$nm_m[3], try$pbs_sem[3], try$nm_sem[3])
effect_size(6, try$pbs_m[4], try$nm_m[4], try$pbs_sem[4], try$nm_sem[4])
effect_size(6, try$pbs_m[5], try$nm_m[5], try$pbs_sem[5], try$nm_sem[5])
effect_size(6, try$pbs_m[6], try$nm_m[6], try$pbs_sem[6], try$nm_sem[6])
effect_size(6, try$pbs_m[7], try$nm_m[7], try$pbs_sem[7], try$nm_sem[7])
effect_size(6, try$pbs_m[8], try$nm_m[8], try$pbs_sem[8], try$nm_sem[8])
effect_size(6, try$pbs_m[9], try$nm_m[9], try$pbs_sem[9], try$nm_sem[9])
effect_size(6, try$pbs_m[10], try$nm_m[10], try$pbs_sem[10], try$nm_sem[10])
</code></pre>
<p>but when I try to add it to supply it fails and a df called try that looks like:</p>
<pre><code>      X    pbs_m  pbs_sem     nm_m   nm_sem
1  TNFα 1.402850 0.750384 1.439808 0.738850
2   IL6 0.781183 0.951991 2.687149 2.148349
3  IFNγ 1.267959 0.787331 1.630742 1.700653
4 SNAI1 1.328036 0.915758 0.684646 0.713751
5 SNAI2 0.876023 0.946581 0.321736 0.240060
6 SNAI3 1.124685 1.226003 0.706217 0.969728

sapply(try, FUN = effect_size(6, try$pbs_m, try$nm_m, try$pbs_sem, try$nm_sem))
</code></pre>
<p>I get this error:</p>
<p>Error in match.fun(FUN) :
'effect_size(6, try$pbs_m, try$nm_m, try$pbs_sem, try$nm_sem)' is not a function, character or symbol
In addition: Warning message:
In diff(c(mean1, mean2))/((sqrt(n) * sem1) + (sqrt(n) * sem2)) :
longer object length is not a multiple of shorter object length</p>
<p>could anyone help, please? the df columns are identical lengths and it seems to run just fine with the [] indexes</p>
","2024-04-25 18:23:53","0","Question"
"78386339","78385714","","<p>To separate inline definitions from class declaration, put inline definitions in another header including the declarations, and include that header in cpp file :</p>
<p>Math.hpp</p>
<pre><code>#pragma once

class Math {
public :
  Math () {}
  ~Math () {}
  static int add (int a, int b);
};
</code></pre>
<p>Math2.hpp : inline definitions</p>
<pre><code>#pragma once
#include &quot;Math.hpp&quot;
inline int Math::add (int a, int b) {
  return a+b;
}
</code></pre>
<p>TestMath.cpp</p>
<pre><code>#include &quot;Math2.hpp&quot;
#include &lt;iostream&gt;
int main (int argc, char* argv []) {
  int a (2), b (3);
  std::cout &lt;&lt; a &lt;&lt; &quot;+&quot; &lt;&lt; b &lt;&lt; &quot; == &quot; &lt;&lt; Math::add (a, b) &lt;&lt; std::endl;
  return 0;
}
</code></pre>
","2024-04-25 17:36:23","0","Answer"
"78385755","78385714","","<p>You can definitely split a header file into multiple files.  You need to decide whether:</p>
<p>A. The additional files are separate components</p>
<ol>
<li>Users will include all component headers that they use</li>
<li>The component headers begin by <code>#include</code>-ing the common header</li>
<li>The common header will not <code>#include</code> components</li>
</ol>
<p>or</p>
<p>B. It's all one component, split as an implementation detail</p>
<ol>
<li>Users will include the single public header</li>
<li>The detailed headers will NOT include the public header</li>
<li>The public header will <code>#include</code> the detailed headers AFTER common declarations.</li>
</ol>
<p>Failing to make this decision is likely how you ended up with circular includes.</p>
<p>Making one massive header file with declarations on top and function bodies below is also fine.  That's what the compiler is going to see anyway, after preprocessing.</p>
","2024-04-25 15:40:19","3","Answer"
"78385714","","Is there any way to put inlined function's definition in a separate place from the declaration?","<p>I am making a small library for my future projects and a lot of functions are so small i believe they have to be inlined. But the problem is that i have too many small inlined functions take too much space in headers. Is there some way to put these functions in other files without any errors? I want my header files to look clean and readable like a list of methods, not a bunch of single line definitions.</p>
<p>Is putting inlined function's definition in the same file but after all declarations a standard practice? Should i do that?</p>
<p>Just putting definition for functions in .cpp files doesn't work, it returns error LNK2019.</p>
<p>Trying to put definitions on other file and include it in header doesn't work either because it creates circular reference.</p>
","2024-04-25 15:32:40","1","Question"
"78384359","78384325","","<p>Looking into <code>random.py</code>, we see that in fact an instance is created and its methods exported as module-level functions. There's nothing magic about it.</p>
<p>The comment there describes it beautifully:</p>
<pre><code># Create one instance, seeded from current time, and export its methods
# as module-level functions.  The functions share state across all uses
# (both in the user's code and in the Python libraries), but that's fine
# for most programs and is easier for the casual user than making them
# instantiate their own Random() instance.

_inst = Random()
# .. SNIP ..
randint = _inst.randint
</code></pre>
<p>Other standard library modules take a different but similar approach to export module-level functions. E.g. the <code>re</code> module uses an internal function <code>_compile()</code> to create a local <code>Pattern</code> instance and let it do the work (docstring omitted for brevity):</p>
<pre><code>def search(pattern, string, flags=0):
    return _compile(pattern, flags).search(string)
</code></pre>
<p>We can conclude that there's no general mechanism to elevate methods to module-level functions. It's just good interface design on the part of the individual modules.</p>
","2024-04-25 11:33:44","7","Answer"
"78384325","","Why can methods in Python standard library be called as functions?","<p>I found a strange phenomenon that some methods in Python standard library can be called as functions.
For example, there is a method <code>randint()</code> defined in class <code>Random</code> in module <code>random.py</code>.
As I understand, when we wanted to call it, we should import the module <code>random</code> first, then declare a instance of class <code>Random</code> so that method <code>randint()</code> can be called such as</p>
<pre><code>import random as rd
aaa = rd.Random()
aaa.randint()
</code></pre>
<p>But I just found that <code>randint()</code> can be called as a function and it is unnecessary to do as above:</p>
<pre><code>import random as rd
rd.randint()
</code></pre>
<p>So I wonder how does this illogical phenomenon happen?</p>
<p>Why can methods in Python standard library be called as functions?</p>
","2024-04-25 11:28:12","1","Question"
"78384110","78380343","","<p>The MATLAB function <a href=""https://uk.mathworks.com/help/matlab/ref/func2str.html"" rel=""nofollow noreferrer""><code>func2str</code></a> takes a function handle as input and returns the name or definition of the function. So</p>
<pre><code>&gt;&gt; fh = @(P) (subs(P, x, 2) == 0);
&gt;&gt; fText = func2str(fh)

fText =

    '@(P)(subs(P,x,2)==0)'
</code></pre>
<p>Now you can use MATLAB string parsing functions to get the numbers you want out of that text. There are various ways you could do that and the best one will depend on what possible inputs you need to cope with (could your <em>x</em> and <em>y</em> values be negative? noninteger? expressed in scientific notation?) but for a simple case you could use <a href=""https://uk.mathworks.com/help/matlab/ref/digitboundary.html?s_tid=doc_ta"" rel=""nofollow noreferrer""><code>digitBoundary</code></a>:</p>
<pre><code>&gt;&gt; c = split(fText, digitBoundary)

ans =

  5×1 cell array

    {'@(P)(subs(P,x,'}
    {'2'             }
    {')=='           }
    {'0'             }
    {')'             }

x = str2num(c{2});
y = str2num(c{4});
</code></pre>
","2024-04-25 10:50:36","1","Answer"
"78383365","","How to check what region instance my existing Firebase project is running on?","<p>I was not the one who set up the project, so I don't know which region was picked on creation. From the URL of my Firebase Functions I can see that those are running on us-central1.</p>
","2024-04-25 08:45:08","2","Question"
"78383046","78382828","","<p>Looks like you want to return <code>100 + 50*i</code> where <code>i = amount / 50000</code> rounded up, except if the amount is equal or higher than 500000. So you can make a really shorter formula:</p>
<p><a href=""https://i.sstatic.net/TjCtr.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/TjCtr.png"" alt=""enter image description here"" /></a></p>
<p>Formula in column B is:</p>
<pre><code>=IF(A1&gt;=500000;&quot;report&quot;;100+50*(ROUNDUP(A1/50000;0)))
</code></pre>
<p>Give it a try.</p>
","2024-04-25 07:47:28","1","Answer"
"78382833","78379280","","<p>Below code worked for me.</p>
<pre class=""lang-py prettyprint-override""><code>import azure.functions as func
import logging
from azure.storage.blob import BlobServiceClient
import os
import pandas as pd
import xlsxwriter
import io
from io import BytesIO

app = func.FunctionApp(http_auth_level=func.AuthLevel.ANONYMOUS)

@app.route(route=&quot;http_trigger&quot;)
def http_trigger(req: func.HttpRequest) -&gt; func.HttpResponse:
    logging.info('Python HTTP trigger function processed a request.')

    connect_str = os.environ[&quot;StorageAccountConnectionString&quot;]
    blob_service_client = BlobServiceClient.from_connection_string(connect_str)
    container_name_output = &quot;samples-workitems&quot;
   
    # Get container and blob name from request parameters (or modify for local testing)
    container_name = req.params.get('container')
    blob_name = req.params.get('blob')

    blob_client_input = blob_service_client.get_blob_client(container=container_name, blob=blob_name)
    blob_content = blob_client_input.download_blob().readall()

    # Use BytesIO to wrap downloaded bytes
    try:
        df = pd.read_csv(io.BytesIO(blob_content))
    except UnicodeDecodeError:  # Handle potential encoding issues (optional)
        # If you suspect encoding issues, try different encodings here
        df = pd.read_csv(io.BytesIO(blob_content), encoding='utf-16')  # Example for UTF-16

    # Convert StartDate column to datetime format with the correct format string
    df['StartDate'] = pd.to_datetime(df['StartDate'], format='%d/%m/%Y')
    df['LeaveDate'] = pd.to_datetime(df['LeaveDate'], format='%d/%m/%Y')

    # Format StartDate column to dd/mm/yyyy
    df['StartDate'] = df['StartDate'].dt.strftime('%d/%m/%Y')
    df['LeaveDate'] = df['LeaveDate'].dt.strftime('%d/%m/%Y')
    
    # Replace NaN values with a placeholder (e.g., &quot;N/A&quot;)
    df.fillna(&quot;N/A&quot;, inplace=True)

    output = BytesIO()
    # Create an instance of xlsxwriter.Workbook
    workbook = xlsxwriter.Workbook(output, {'remove_timezone': True})  
    worksheet = workbook.add_worksheet('Sheet1')
    
    # Write column headers to the worksheet
    for col_num, col_name in enumerate(df.columns):
        worksheet.write(0, col_num, col_name)

    # Write DataFrame rows to the worksheet starting from row 1 (excluding headers)
    for row_num, row_data in enumerate(df.values, start=1):
        for col_num, value in enumerate(row_data):
            # Check if the value is NaN
            if pd.isna(value):
                value = &quot;N/A&quot;  # Replace NaN with placeholder
            worksheet.write(row_num, col_num, value)

    # Add a date format for the StartDate and LeaveDate columns.
    date_format = workbook.add_format({'num_format': 'dd/mm/yyyy'})
    worksheet.set_column('A:B', None, date_format)

    # Use close() to finalize the Excel workbook
    workbook.close()

    # Create output blob with correct extension
    output_blob_name = blob_name.replace('.csv', '.xlsx')
    excel_blob_client = blob_service_client.get_blob_client(container=container_name_output, blob=output_blob_name)
    excel_blob_client.upload_blob(output.getvalue())

    # Delete the input CSV file
    blob_client_input.delete_blob()

    return func.HttpResponse(f&quot;CSV file converted to XLSX: {output_blob_name}. Input CSV file deleted.&quot;)
</code></pre>
<p><strong>requirements.txt</strong>-</p>
<pre><code>azure-functions
azure-storage-blob
pandas
XlsxWriter
</code></pre>
<p>I am able to get the expected response by executing the given code.</p>
<p><img src=""https://i.imgur.com/aVnTFqh.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/MRd2VUg.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/ty48XjQ.png"" alt=""enter image description here"" /></p>
<p>If any column in your sheet contains blank value then it will get updated to N/A.</p>
<p><img src=""https://i.imgur.com/1xIoTLV.png"" alt=""enter image description here"" /></p>
","2024-04-25 07:05:36","0","Answer"
"78382828","","Sum Function in MS Excel","<p>[=IF(I74&lt;=50000,&quot;150&quot;,IF(I74&lt;=100000,&quot;200&quot;,IF(I74&lt;=150000,&quot;250&quot;,IF(I74&lt;=200000,&quot;300&quot;,IF(I74&lt;=250000,&quot;350&quot;,IF(I74&lt;=300000,&quot;400&quot;,IF(I74&lt;=350000,&quot;450&quot;,IF(I74&lt;=400000,&quot;500&quot;,IF(I74&lt;=450000,&quot;550&quot;,IF(I74&lt;=499999,&quot;600&quot;,IF(I74&gt;500000,&quot;report&quot;)))))))))))]
I have this formula in a column in MS Excel, but I could not use the SUM function at the end of the data. Please help me with this.</p>
<p>I was trying to have the sum of the column, but i could not get it.</p>
","2024-04-25 07:05:23","-1","Question"
"78382538","78382290","","<p>You have some errors in your data. I'm assuming that I have fixed them correctly. The following code should work:</p>
<pre><code>DATA |&gt;
  left_join(data.frame(Unique_Names, Correct_Unique_Names),
            by=&quot;Name&quot;) |&gt;
  select(Name.1) |&gt;
  rename(Name=Name.1)

     Name
1   Aasan
2   Zibae
3   Aasan
4   Aasan
5 Farhani
6 Farhani
7   Zibae
8   Zibae
</code></pre>
<hr />
<p>library(dplyr)</p>
","2024-04-25 06:05:48","-1","Answer"
"78382290","","Replace wrong values in a dataframe using a dataframe of correct values","<p>In my <code>DATA</code> below, some <code>Name</code>s are misspelled. I've determined the <code>Unique_Names</code> and correspondingly created the <code>Correct_Unique_Names</code> for those unique names.</p>
<p>But I wonder how to insert my <code>Correct_Unique_Names</code> in <code>DATA</code> to achieve my <code>Desired_output</code> below?</p>
<pre><code>library(tidyverse)

DATA &lt;- read.table(header=T,text=
&quot;Name      
Asan
Ziba       
Asan       
Asana
Farhan
Frahan
Zibaee
Ziba&quot;)

Unique_Names &lt;- unique(DATA) %&gt;% 
arrange()

Correct_Unique_Names &lt;- 
  read.table(header=T,text=
&quot;Name
 Aasan
 Zibae
 Aasan
 Farahani
 Frahani
 Zibae&quot;)

Desired_output &lt;- read.table(header=T, text=
  &quot;
Name      
Aasan
Zibae      
Asan       
Aasan
Farhani
Farhani
Zibae
Zibae&quot;)
</code></pre>
","2024-04-25 04:46:14","0","Question"
"78382202","78381491","","<p>As others have identified the core issues with your loops, it may be instructive to see how we can <em>remove</em> some of these loops.</p>
<blockquote>
<pre><code>void print_row(int spaces, int bricks)
{
    // Print spaces
    for (int j = 0; j &lt; spaces; j++)
    {
        printf(&quot; &quot;);
    }
    // Print bricks
    for (int i = 0; i &lt; bricks; i++)
    {
        printf(&quot;#&quot;);
    }
    printf(&quot;\n&quot;);
}
</code></pre>
</blockquote>
<p>Let's use <code>printf</code> to print the spaces for us by including a width field.</p>
<pre><code>void print_row(int spaces, int bricks) {
    printf(&quot;%*s&quot;, spaces, &quot;&quot;);

    for (int i = 0; i &lt; bricks; i++) {
        printf(&quot;#&quot;);
    }

    printf(&quot;\n&quot;);
}
</code></pre>
<p>But apparently the longest line is 8 characters and <code>printf</code>'s <code>%s</code> specifier can <em>limit</em> the length of a string printed. We only need to be able to print eight bricks.</p>
<pre><code>void print_row(int spaces, int bricks) {
    char *bricks_str = &quot;########&quot;;
    int line_len = spaces + bricks;

    printf(
        &quot;%*.*s\n&quot;, 
        line_len,   // The amount of chars to pad the string to.
        bricks,     // The maximum number of characters to print
                    // from the string.
        bricks_str
    );
}
</code></pre>
","2024-04-25 04:14:33","2","Answer"
"78381651","78381491","","<p>OP: &quot;<em>to get acclimated to how creating functions works</em>&quot;</p>
<p>Other answers have correctly diagnosed the problem as too many loops in <code>main()</code>.</p>
<p>Since you are learning, here is a version that <em>destructively</em> decrements counters demonstrating slightly less code (less chance for a bug to hide somewhere.)</p>
<pre><code>// #includes as required

// get_height() as per OP's code

void print_row( int spaces, int bricks ) {
    /* A comment to say, &quot;Have removed this comment; its being only 'noise' */
    while( spaces-- )
        printf( &quot; &quot; ); // putchar( ' ' ); would work as well /* tutorial */

    while( bricks-- )
        printf( &quot;#&quot; );

    printf( &quot;\n&quot; );
}

int main( void ) {
    int n = get_height();
    int b = 0;

    while( n )
       print_row( --n, ++b ); // fewer spaces and more bricks each time

    return 0;
}
</code></pre>
<p>Each time <code>print_row()</code> is called, it receives a fresh pair of values for its use.</p>
<hr>
<p>This code still uses the non-descript variable <code>n</code> in <code>main()</code>. A better name could be chosen.</p>
<p>Be wary of using <code>i</code> and <code>j</code> together in code.
<br>Their similar appearance makes tracking down <em>invisible bugs</em> almost impossible at 4AM.<br>
<code>arr[i][j]</code> &amp; <code>arr[j][i]</code> look <strong>too</strong> similar in a small font or viewed with bleary eyes.<br>
Plus, <code>i</code> and <code>j</code> are so generic they provide little information to a source code reader.</p>
<hr>
<p>Comments like <code>// Print spaces</code> are considered <em>noise</em>.
<br>Comments should explain <em>why</em> code has been written as it has:</p>
<blockquote>
<p><code>// going left-then-right because right-then-left always fails on Thursdays</code></p>
</blockquote>
<p>Don't explain the simple stuff. Let your code speak for itself.</p>
<blockquote>
<p><code>x = x + 1; // increment x</code> is excrement</p>
</blockquote>
<p>Use comments sparingly and only to explain the &quot;<em>why</em>&quot; of code.</p>
<hr>
<p>Advanced technique:<br>
Acknowledging that the CS50 challenge is to print rows of spaces (<code>SP</code>) and <em>hashes</em> (<code>'#'</code>), here is a possible replacement for <code>print_row()</code> that <em>almost</em> fulfills the requirements.<br>(Offered as an example of the power of C's function <code>printf()</code>.)</p>
<pre><code>void print_row( int spaces, int bricks ) {
    printf( &quot;%*c%0*d\n&quot;, spaces+1, ' ', bricks, 0 );
}
</code></pre>
<p>Its output when <code>int n = 5;</code> is used in <code>main()</code>:</p>
<pre class=""lang-none prettyprint-override""><code>     0 // &lt;== definitely not a '#'
    00
   000
  0000
 00000
</code></pre>
<p><code>printf()</code> is commonly used to <em>pad</em> its output with leading or trailing <code>SP</code> characters to achieve a desired <em>width</em>.
Not commonly used, <code>printf()</code> is also capable of producing multiple instances of the digit <code>0</code>. In this example, the value <code>0</code> has been printed with increasing numbers of leading <code>0</code>'s. To the best of my knowledge, <code>SP</code> and <code>0</code> are the only characters that can be <em>coaxed</em> out of <code>printf()</code>'s capabilities for &quot;padding&quot; output.</p>
<p>This is something quite esoteric to store away, and come back to once you've learned much more about C and <code>printf()</code>. Its terseness, and especially its <em>opacity</em>, <strong>WOULD</strong> justify (<em>require!?</em>) a comment that explains to the casual reader what is going on with that one line of code.</p>
","2024-04-24 23:40:58","3","Answer"
"78381600","78381491","","<pre class=""lang-c prettyprint-override""><code>for (int j = 0; j &lt; n; j++)
    {
        for (int i = 0; i &lt; n; i++)
        {
            print_row(n - i - 1, i + 1);
        }
    }
</code></pre>
<p>What the code is doing:</p>
<ul>
<li><code>print_row()</code> prints one single row.</li>
<li>The inner loop prints <code>n</code> rows. Or generates one pyramid.</li>
<li>The outer loop executes <code>n</code> times. So the outer loop is generating <code>n</code> pyramids (as the inner loop generates a single pyramid, <code>n * 1 pyramid</code> is equal to <code>n pyramids</code> ).</li>
</ul>
<p>That's how your code is printing the pyramid <code>n</code> times. Because after generating the pyramid once, you repeat the process until you've generated <code>n</code> pyramids.</p>
<p>Simply remove the outer loop.</p>
","2024-04-24 23:17:25","3","Answer"
"78381510","78381491","","<p>Your code is incomplete, but it seems the problem is here.</p>
<pre><code>    for (int j = 0; j &lt; n; j++)
    {
        for (int i = 0; i &lt; n; i++)
        {
            print_row(n - i - 1, i + 1);
        }
    }
</code></pre>
<p>The inner loop prints the rows. The outer loop repeats the process. A giveaway is that <code>j</code> is never used. If n is 3 you'll get 3 rows repeated 3 times.</p>
<p>Adding <code>printf(&quot;i: %d, j: %d\n&quot;, i, j)</code> to show the value of i and j at each <code>print_row</code> call will be illustrative.</p>
<pre><code>    for (int j = 0; j &lt; n; j++)
    {
        for (int i = 0; i &lt; n; i++)
        {
            printf(&quot;i: %d, j: %d\n&quot;, i, j);
            print_row(n - i - 1, i + 1);
        }
    }
</code></pre>
","2024-04-24 22:36:50","2","Answer"
"78381491","","Code printing correct output too many times (CS50)","<p>I am very new to coding and learning via Harvard's free CS50 course. Problem set 1 has been difficult, and I think I'm making it more challenging by doing things the hard way, ie I am trying to create functions for my code to get acclimated to how creating functions works. The task is to make a left-aligned pyramid with a height between 1 and 8. I've created functions to get the height from the user and to print the pyramid. The issue is with how the pyramid is printing. It prints correctly, but too many times. So, if the user types '3' when prompted for the height, it should print this:</p>
<pre><code>  #
 ##
###
</code></pre>
<p>Instead, it prints that exact pyramid three times:</p>
<pre><code>  #
 ##
###
  #
 ##
###
  #
 ##
###
</code></pre>
<p>What would the solution be to fix this based on my below code?</p>
<p>main:</p>
<pre><code>{
    int n = get_height();

    for (int j = 0; j &lt; n; j++)
    {
        for (int i = 0; i &lt; n; i++)
        {
            print_row(n - i - 1, i + 1);
        }
    }
}
</code></pre>
<p>functions:</p>
<pre><code>int get_height(void)
{
    int n;
    do
    {
        n = get_int(&quot;Height: &quot;);
    }
    while (n &lt; 1 || n &gt; 8);
    return n;
}

void print_row(int spaces, int bricks)
{
    // Print spaces
    for (int j = 0; j &lt; spaces; j++)
    {
        printf(&quot; &quot;);
    }
    // Print bricks
    for (int i = 0; i &lt; bricks; i++)
    {
        printf(&quot;#&quot;);
    }
    printf(&quot;\n&quot;);
}
</code></pre>
","2024-04-24 22:28:45","2","Question"
"78380675","78380539","","<p><a href=""https://wg21.link/expr.call#6.sentence-11"" rel=""noreferrer"">[expr.call]p6</a>:</p>
<blockquote>
<p>It is implementation-defined whether a parameter is destroyed when the function in which it is defined exits ([stmt.return], [except.ctor]) or at the end of the enclosing full-expression; parameters are always destroyed in the reverse order of their construction. <strong>The initialization and destruction of each parameter occurs within the context of the full-expression ([intro.execution]) where the function call appears.</strong><br />
[<em>Example 2</em>: The access ([class.access.general]) of the constructor, conversion functions, or destructor is checked at the point of call. [...] — <em>end example</em>]</p>
</blockquote>
<p>Microsoft chooses to destroy arguments in the callee (i.e., the code for <code>f</code> would include a call the the destructor of <code>A</code>), but it erroneously also does the access check there.</p>
<p>Access checks should only be done in the callee. If you called the function somewhere the destructor was accessible:</p>
<pre class=""lang-cpp prettyprint-override""><code>class A {
    ~A() {}
    friend int main();
};

void f(A) {}

int main() {
    f(A{});
}
</code></pre>
<p>This should compile, even if the implementation actually destroys the parameter inside <code>f</code>.</p>
","2024-04-24 18:57:12","6","Answer"
"78380539","","Can one pass by value an object with private destructor in a function?","<p>If a class has inaccessible (private) destructor, can it be passed by value to a function as in the following example?</p>
<pre class=""lang-cpp prettyprint-override""><code>class A {
    ~A() {}
};

// ok in GCC and Clang, error in MSVC
void f(A) {}
</code></pre>
<p>GCC and Clang both accept this program, while MSVC rejects it with the error:</p>
<blockquote>
<p>&lt;source&gt;(6): error C2248: 'A::~A': cannot access private member declared in class 'A'</p>
</blockquote>
<p>Online demo: <a href=""https://gcc.godbolt.org/z/884176rWW"" rel=""nofollow noreferrer"">https://gcc.godbolt.org/z/884176rWW</a></p>
<p>Which compiler is correct here, according to the standard, or is it not specified?</p>
","2024-04-24 18:26:45","2","Question"
"78380343","","How to extract numeric parameters from a function handle in MATLAB?","<p>I have a MATLAB function that takes a function handle as an argument, and I need to extract the x and y values from it. The function handle is in the format of <code>@(P) (subs(P, x, &lt;x_value&gt;) == &lt;y_value&gt;)</code>.</p>
<p>For example, if the function is called with the argument <code>@(P) (subs(P, x, 2) == 0)</code>, I need to extract <code>x = 2</code> and <code>y = 0</code>. Similarly, if the function is called with the argument <code>@(P) (subs(P, x, 6) == 0)</code>, I need to extract <code>x = 6</code> and <code>y = 0</code>.</p>
<p>How can I achieve this in MATLAB? I'm looking for a way to extract the x and y values from the function handle.</p>
<p><strong>Example inputs:</strong></p>
<ul>
<li><code>@(P) (subs(P, x, 2) == 0)</code></li>
<li><code>@(P) (subs(P, x, 6) == 0)</code></li>
</ul>
<p><strong>Desired output:</strong></p>
<ul>
<li>For the first input, <code>x = 2</code> and <code>y = 0</code></li>
<li>For the second input, <code>x = 6</code> and <code>y = 0</code></li>
</ul>
<p>I'm open to using any approach that can help me extract the x and y values from the function handle.</p>
","2024-04-24 17:46:01","0","Question"
"78379635","78379461","","<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const alphabet = ""abcdefghijklmnopqrstuvwxyz"";
const keyboard = document.getElementById(""keyboard""); // Assuming you have a div with id ""keyboard"" to append buttons to

alphabet.split("""").forEach(letter =&gt; {
    const key = document.createElement(""button"");
    key.textContent = letter.toUpperCase();
    key.classList.add(""keys"");
    key.addEventListener(""click"", isLetterThere);
    keyboard.appendChild(key);
});

function isLetterThere() {
    console.log(""fghjk"");
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div id=""keyboard""&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-04-24 15:33:04","1","Answer"
"78379569","78379461","","<p>Key's is an array-like-object, it does not have an <code>onclick</code>, nor an <code>onClick</code>, so assigning the result of <code>isLetterThere()</code> will execute the function once and assign its result to the array-like object, instead of your intention of creating a click handler for each letter-button. So, to achieve your goal, you will need to add click handlers to the elements, like <code>key.addEventListener(&quot;click&quot;, isLetterThere)</code></p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let key;
let text;
let keys;
let keyboard = document.getElementById(""keyboard"");

let alphabet = [""a"",""b"",""c"",""d"",""e"",""f"",""g"",""h"",""i"",""j"",""k"",""l"",""m"",""n"",""o"",""p"",""q"",""r"",""s"",""t"",""u"",""v"",""w"",""x"",""y"",""z""];
for(let i = 0; i &lt; alphabet.length; i++){
    key = alphabet[i] + ""Key"";
    text = document.createTextNode(alphabet[i].toUpperCase());
    key = document.createElement(""button"");
    key.appendChild(text);
    key.classList.add(""keys"");
    keyboard.append(key);
    key.addEventListener(""click"", isLetterThere);
}
keys = document.querySelectorAll("".keys"");
//keys.onClick = isLetterThere();


function isLetterThere(){
    console.log(""fghjk"")
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div id=""keyboard""&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-04-24 15:21:51","1","Answer"
"78379536","78379461","","<p>In your code <code>keys = document.querySelectorAll(&quot;.keys&quot;);</code> this returns a collection. So you need to iterate this collection and add event to each of the element</p>
<p>You can do in two ways. Either you can add the <code>addEventListener</code> when you create the button.</p>
<p>Alternatively you can also add the event using <code>querySelectorAll</code> which will return a <code>NodeList</code> then loop of the collection and add event to it</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let key;
let text;
let keys;
let keyboard = document.getElementById('keyboard')
let alphabet = [""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", ""h"", ""i"", ""j"", ""k"", ""l"", ""m"", ""n"", ""o"", ""p"", ""q"", ""r"", ""s"", ""t"", ""u"", ""v"", ""w"", ""x"", ""y"", ""z""];

function isLetterThere() {
  console.log(""fghjk"")
}

function testAlternative() {
  console.log(""testAlternative"")
}

for (let i = 0; i &lt; alphabet.length; i++) {
  key = alphabet[i] + ""Key"";
  text = document.createTextNode(alphabet[i].toUpperCase());
  key = document.createElement(""button"");
  key.appendChild(text);
  key.classList.add(""keys"");
  key.addEventListener('click', isLetterThere);
  keyboard.append(key);
}
document.querySelectorAll('.keys').forEach(elem =&gt; elem.addEventListener('click', testAlternative));</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div id='keyboard'&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-04-24 15:16:07","1","Answer"
"78379461","","How to assign a group of buttons a function with onclick;","<p>Am just trying to assign the same function to a bunch of buttons. I was having trouble referencing the buttons, I ran into &quot;querySelectorAll is not a function&quot; and same for getElementByClass, but with the current code it's referencing something because the function works, but only on load and not on click.</p>
<p>Here's the code:</p>
<pre><code>let key;
let text;
let keys;

let alphabet = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;,&quot;q&quot;,&quot;r&quot;,&quot;s&quot;,&quot;t&quot;,&quot;u&quot;,&quot;v&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;z&quot;];
for(let i = 0; i &lt; alphabet.length; i++){
key = alphabet[i] + &quot;Key&quot;;
text = document.createTextNode(alphabet[i].toUpperCase());
key = document.createElement(&quot;button&quot;);
key.appendChild(text);
key.classList.add(&quot;keys&quot;);
keyboard.append(key);
    }
keys = document.querySelectorAll(&quot;.keys&quot;);
keys.onClick = isLetterThere();

}

function isLetterThere(){
console.log(&quot;fghjk&quot;)
}

</code></pre>
","2024-04-24 15:03:44","1","Question"
"78379280","","Update Python code to do Text to Columns action with Azure Function App","<p>I'm using an Azure Function App with Python that converts csv to xlsx. This works fine however, the StartDate and LeaveDate column data appears on the left side of the columns which tells me its not correct. I need to then do a Text to columns action on the columns which gives me the output I need. Can anyone look at my code and make some suggestions please to achieve this? Thanks Ross</p>
<pre><code>import azure.functions as func
import logging
from azure.storage.blob import BlobServiceClient
import os
import pandas as pd
import xlsxwriter
import io
from io import BytesIO 
import numpy as np

app = func.FunctionApp(http_auth_level=func.AuthLevel.ANONYMOUS)

@app.route(route=&quot;http_trigger&quot;)
def http_trigger(req: func.HttpRequest) -&gt; func.HttpResponse:
    logging.info('Python HTTP trigger function processed a request.')
    connect_str = os.environ[&quot;AzureWebJobsStorage&quot;]
    blob_service_client = BlobServiceClient.from_connection_string(connect_str)
    container_name_input = &quot;input&quot;
    container_name_output = &quot;output&quot;
   
    # Get container and blob name from request parameters (or modify for local testing)
    container_name = req.params.get('container')
    blob_name = req.params.get('name')

    blob_client_input = blob_service_client.get_blob_client(container=container_name, blob=blob_name)
    blob_content = blob_client_input.download_blob().readall()

    # Use BytesIO to wrap downloaded bytes
    try:
        df = pd.read_csv(io.BytesIO(blob_content))
    except UnicodeDecodeError:  # Handle potential encoding issues (optional)
        # If you suspect encoding issues, try different encodings here
        df = pd.read_csv(io.BytesIO(blob_content), encoding='utf-16')  # Example for UTF-16

  # Convert StartDate column to datetime format with the correct format string
    df['StartDate'] = pd.to_datetime(df['StartDate'], format='%d/%m/%Y')
    df['LeaveDate'] = pd.to_datetime(df['LeaveDate'], format='%d/%m/%Y')

    # Format StartDate column to dd/mm/yyyy
    df['StartDate'] = df['StartDate'].dt.strftime('%d/%m/%Y')
    df['LeaveDate'] = df['LeaveDate'].dt.strftime('%d/%m/%Y')

    output = BytesIO()
    # Create an instance of xlsxwriter.Workbook
    workbook = xlsxwriter.Workbook(output, {'remove_timezone': True})  # Add options to remove timezone warning
    worksheet = workbook.add_worksheet('Sheet1')
    
    # Write column headers to the worksheet
    for col_num, col_name in enumerate(df.columns):
        worksheet.write(0, col_num, col_name)

    # Write DataFrame rows to the worksheet starting from row 1 (excluding headers)
    for row_num, row_data in enumerate(df.values, start=1):
        for col_num, value in enumerate(row_data):
            worksheet.write(row_num, col_num, value)

    # Add a date format for the StartDate and LeaveDate columns.
    date_format = workbook.add_format({'num_format': 'dd/mm/yyyy'})
    worksheet.set_column('H:I', None, date_format)

    # Use close() to finalize the Excel workbook
    workbook.close()

    # Create output blob with correct extension
    output_blob_name = blob_name.replace('.csv', '.xlsx')
    excel_blob_client = blob_service_client.get_blob_client(container=container_name_output, blob=output_blob_name)
    excel_blob_client.upload_blob(output.getvalue())

    # Delete the input CSV file
    blob_client_input.delete_blob()

    return func.HttpResponse(f&quot;CSV file converted to XLSX: {output_blob_name}. Input CSV file deleted.&quot;)

</code></pre>
<p>Same as doing a text to columns action in excel</p>
<p><img src=""https://i.sstatic.net/UmnH3vAE.png"" alt=""1"" /></p>
","2024-04-24 14:36:43","0","Question"
"78376012","78374453","","<p>If you <code>rep</code>eat each of the <code>colMeans</code> as many times as the respective non-&quot;blank*&quot; slices have columns, you can just subtract the resulting vector from the slices as a whole. Note, that to subtract a vector from columns, we need to <code>t</code>ranspose and re-<code>t</code>ranspose.</p>
<pre><code>&gt; bl &lt;- grepl('^blank', names(df))
&gt; df[!bl] &lt;- t(t(df[!bl]) - rep(colMeans(df[bl]), each=which.max(bl) - 1L))
&gt; df
    da   d2   dd blank...1  d5   dg  di blank...2    dm   h4    d7 blank...3
1 0.82 5.82 1.82       0.1 1.8  6.8 2.8       0.2 20.74 4.74 25.74       0.1
2 1.82 6.82 2.82       0.1 2.8  7.8 3.8       0.2 21.74 5.74 26.74       0.3
3 2.82 7.82 3.82       0.4 3.8  8.8 4.8       0.4 22.74 6.74 27.74       0.4
4 3.82 8.82 4.82       0.2 4.8  9.8 5.8       0.1 23.74 7.74 28.74       0.4
5 4.82 9.82 5.82       0.1 5.8 10.8 6.8       0.1 24.74 8.74 29.74       0.1
</code></pre>
<p>This avoids loops (incl. <code>lapply</code> and <code>Map</code>) or reshaping and is thus more efficient.</p>
","2024-04-24 04:39:29","1","Answer"
"78375271","78369068","","<pre><code>        &lt;form action=&quot;/view_book/{{x['bookID']}}&quot; method=&quot;post&quot;&gt;
            &lt;button id=&quot;submit&quot; type=&quot;submit&quot;&gt;{{ x[specific_value] }}&lt;/button&gt;
        &lt;/form&gt;
</code></pre>
<p>Turns out there was an extra form</p>
","2024-04-23 22:44:50","0","Answer"
"78374595","78374453","","<p>Here's a more verbose tidyverse approach. First I make the data long, tracking the original row and what group of &quot;blank&quot; each column should use.</p>
<pre><code>library(tidyverse)
df_long &lt;- df |&gt;
  mutate(row = row_number()) |&gt;
  pivot_longer(-row) |&gt;
  mutate(group = cumsum(lag(name |&gt; str_detect(&quot;blank&quot;), 1, 0)), .by = row)
</code></pre>
<p>Then I can change each value to subtract the related &quot;blank&quot; average (by subtracting of mean of values in the group where the name contains &quot;blank&quot;) and reshape wide again.</p>
<pre><code>df_long |&gt;
  mutate(value = if_else(name |&gt; str_detect(&quot;blank&quot;), value, 
                         value - mean(value[name |&gt; str_detect(&quot;blank&quot;)])), 
         .by = group) |&gt;
  select(-group) |&gt;
  pivot_wider(names_from = name, values_from = value)
</code></pre>
<p>Result</p>
<pre><code># A tibble: 5 × 13
    row    da    d2    dd blank...1    d5    dg    di blank...2    dm    h4    d7 blank...3
  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
1     1  0.82  5.82  1.82       0.1   1.8   6.8   2.8       0.2  20.7  4.74  25.7       0.1
2     2  1.82  6.82  2.82       0.1   2.8   7.8   3.8       0.2  21.7  5.74  26.7       0.3
3     3  2.82  7.82  3.82       0.4   3.8   8.8   4.8       0.4  22.7  6.74  27.7       0.4
4     4  3.82  8.82  4.82       0.2   4.8   9.8   5.8       0.1  23.7  7.74  28.7       0.4
5     5  4.82  9.82  5.82       0.1   5.8  10.8   6.8       0.1  24.7  8.74  29.7       0.1
</code></pre>
","2024-04-23 19:21:20","3","Answer"
"78374554","78374453","","<p>Here's another base R approach inspired by jpsmith:</p>
<pre><code>blanks = grep(&quot;blank&quot;, names(df))   # find the blank columns
blank_means = colMeans(df[blanks])  # get their means

## subtract blanks means from the non-blank columns
## this relies on having exactly 3 non-blank columns per blank column
df[-blanks] = Map(&quot;-&quot;, df[-blanks], rep(blank_means, each = 3))
df
#     da   d2   dd blank...1  d5   dg  di blank...2    dm   h4    d7 blank...3
# 1 0.82 5.82 1.82       0.1 1.8  6.8 2.8       0.2 20.74 4.74 25.74       0.1
# 2 1.82 6.82 2.82       0.1 2.8  7.8 3.8       0.2 21.74 5.74 26.74       0.3
# 3 2.82 7.82 3.82       0.4 3.8  8.8 4.8       0.4 22.74 6.74 27.74       0.4
# 4 3.82 8.82 4.82       0.2 4.8  9.8 5.8       0.1 23.74 7.74 28.74       0.4
# 5 4.82 9.82 5.82       0.1 5.8 10.8 6.8       0.1 24.74 8.74 29.74       0.1
</code></pre>
","2024-04-23 19:11:05","2","Answer"
"78374520","78374453","","<p>I am sure there is a more elegant solution, but in base R you can first identify those with &quot;blank&quot; in the name (<code>blnknms</code>), then use <code>lapply</code> to iterate through those columns and subtract the mean of that column from the three previous columns:</p>
<pre><code># get columns with &quot;blank&quot; in the name
blnknms &lt;- grep(&quot;blank&quot;, names(df))

df[,-blnknms] &lt;- unlist(lapply(blnknms, \(x){
  df[,(x-3):(x-1)] - mean(df[,x])
}), recursive = FALSE)
</code></pre>
<p>Output:</p>
<pre><code>#     da   d2   dd blank...1  d5   dg  di blank...2    dm   h4    d7 blank...3
# 1 0.82 5.82 1.82       0.1 1.8  6.8 2.8       0.2 20.74 4.74 25.74       0.1
# 2 1.82 6.82 2.82       0.1 2.8  7.8 3.8       0.2 21.74 5.74 26.74       0.3
# 3 2.82 7.82 3.82       0.4 3.8  8.8 4.8       0.4 22.74 6.74 27.74       0.4
# 4 3.82 8.82 4.82       0.2 4.8  9.8 5.8       0.1 23.74 7.74 28.74       0.4
# 5 4.82 9.82 5.82       0.1 5.8 10.8 6.8       0.1 24.74 8.74 29.74       0.1
</code></pre>
","2024-04-23 19:03:08","2","Answer"
"78374453","","How to subtract the means of specific columns from other preceding columns?","<p>I would like to subtract the mean of each of the &quot;blank&quot; columns from each of the values on the preceding 3 columns in a dataset that looks something like this:</p>
<pre><code>df &lt;- data.frame(da=1:5, d2=6:10, dd=2:6, 
                blank...1=c(0.1, 0.1, 0.4, 0.2, 0.1), d5=2:6, dg=7:11, 
                di=3:7, blank...2=c(0.2, 0.2, 0.4, 0.1, 0.1), dm=21:25, 
                h4=5:9, d7=26:30, blank...3=c(0.1, 0.3, 0.4, 0.4, 0.1))

df
#   da d2 dd blank...1 d5 dg di blank...2 dm h4 d7 blank...3
# 1  1  6  2       0.1  2  7  3       0.2 21  5 26       0.1
# 2  2  7  3       0.1  3  8  4       0.2 22  6 27       0.3
# 3  3  8  4       0.4  4  9  5       0.4 23  7 28       0.4
# 4  4  9  5       0.2  5 10  6       0.1 24  8 29       0.4
# 5  5 10  6       0.1  6 11  7       0.1 25  9 30       0.1
</code></pre>
<p>In other words, I want to subtract the mean of <em>blank...1</em> to each value of columns <em>da</em>, <em>d2</em>, and <em>dd</em>; then subtract the mean of <em>blank...2</em> to each value of columns <em>d5</em>, <em>dg</em>, and <em>di</em> and so on. The actual dataset actually has 15 blanks that need to be subtracted from the prior 11 columns.</p>
<p>I have generated the means of all the &quot;blank&quot; columns in a vector using <code>colMeans</code> but then I do not know how to write the function to indicate which value to use for which columns.</p>
<p>How can this be accomplished through a function?</p>
","2024-04-23 18:48:40","3","Question"
"78373089","78342802","","<p>What is wrong with your 'module' example. In v2k the only place where you can define a function is inside a module. So, you would need a module in any case.
The only problem would be if you need multiple functions with different parameters in the same module. But this can be solved using generate blocks. Here is an example:</p>
<pre><code>module A(y8, y12, y16, data8, data12, data16);
  output wire[7:0] y8;
  output wire[11:0] y12;
  output wire[15:0] y16;
  input wire[7:0] data8;
  input wire[11:0] data12;
  input wire[15:0] data16;
  
  
  genvar WIDTH;
  for (WIDTH = 8; WIDTH &lt;= 16; WIDTH = WIDTH + 4) begin: def
    function [WIDTH-1:0] reverse(
        input [WIDTH-1:0] data
    );
    integer i;
    begin
        for (i=0; i &lt; WIDTH; i=i+1) begin
            reverse[WIDTH-1-i] = data[i];
        end
    end
    endfunction
  end
  
  assign y8 = def[8].reverse(data8);
  assign y12 = def[12].reverse(data12);
  assign y16 = def[16].reverse(data16);
endmodule
</code></pre>
<p>Just make sure that def[8].reverse.. is supported by the tools you use.</p>
<p>Macros are also not so scary and sometimes such a solution is  not too bad and is more flexible than with genblocks or parameterized modules.</p>
<pre><code>  `define REVERSE(WIDTH, y, data)\
    always @* begin:wdt_``WIDTH\
      reg [WIDTH-1:0] tmp_reversed;\
      integer i;\
      for (i=0; i &lt; WIDTH; i=i+1) begin \
        tmp_reversed[WIDTH-1-i] = data[i];\
      end\
    end\
    assign y = wdt_``WIDTH.tmp_reversed;

  
  `REVERSE(8, y8, data8)
  `REVERSE(12, y12, data12)
  `REVERSE(16, y16, data16)
</code></pre>
","2024-04-23 14:21:22","0","Answer"
"78371043","78371033","","<p>capture the return in two variables and use f-strings</p>
<pre><code>def cube(side):
    volume =  side **3
    surface_area = 6 * (side**2)
    return volume, surface_area

volume, surface_area = cube(5) 

print(f&quot;The volume is {volume}, and The surface area is {surface_area}&quot;)
</code></pre>
","2024-04-23 08:55:34","1","Answer"
"78371033","","How do I make my code to make display values with a string on each output?","<p>Hello I am a python fresher and I am looking for some extra help.</p>
<p><strong>CODE SNIPPET:</strong></p>
<pre><code>def cube(side):
  volume =  side **3
  surface_area = 6 * (side**2)
  return volume, surface_area
my_cube = cube(5) 
print(my_cube)
</code></pre>
<p>#output is 125,150</p>
<p>in the code above, I want the output to include a statement like:</p>
<p>&quot;The volume is 125, and The surface area is 150&quot;</p>
","2024-04-23 08:54:21","-1","Question"
"78369956","78364833","","<p>I came up with this solution that uses elements of <em>@MrFlick</em>'s <a href=""https://stackoverflow.com/a/78367292/6574038"">answer</a>, to use <code>do.call()</code>, and from the answer to pass the names in <code>Map()</code> <a href=""https://stackoverflow.com/q/78263802/6574038"">quoted</a> in the OP.</p>
<p>We just need to insert one <code>if</code> clause in <code>fn()</code>. In the call <code>fn()</code> we replace <code>d</code> -- <code>if</code> present in the ellipsis -- with certain parameters and <code>attr</code>ibutes, or leave it as it is.</p>
<pre><code>&gt; fn &lt;- function(d, x=666, y=999, z, ...) {
+   cl &lt;- match.call()
+   fa &lt;- formals(fn)
+   fa[length(fa)] &lt;- NULL
+   ma &lt;- setdiff(names(fa), names(cl))
+   cl[ma] &lt;- fa[ma]
+   cl[-c(1, 2)] &lt;- lapply(cl[-c(1, 2)], eval, envir=parent.frame())
+   if (&quot;.name&quot; %in% names(list(...))) {
+     .name &lt;- sprintf('%s$%s', attr(d, 'lnm'), list(...)$.name)
+     cl$d &lt;- str2lang(.name)
+     cl$.name &lt;- NULL
+   } 
+   res &lt;- d[[1]]
+   attr(res, 'call') &lt;- cl
+   return(res)
+ }
</code></pre>
<p>In the <code>lapply</code> call, we pass the <code>names</code> in a <code>.name</code> parameter that triggers the <code>if</code> clause in <code>fn()</code> as well as the list name using <code>deparse(substitute(.))</code>.</p>
<pre><code>&gt; lapply(names(lst), \(x) {
+   do.call(&quot;fn&quot;, 
+           list(
+             d=`attr&lt;-`(
+               get(x, envir=as.environment(lst)), 'lnm', deparse(substitute(lst))
+               ), 
+             x=666, y=999, z=z., .name=x)
+   )})
$df1
[1] 1 2 3
attr(,&quot;call&quot;)
fn(d = lst$df1, x = 666, y = 999, z = 777)

$df2
[1] 1 2 3
attr(,&quot;call&quot;)
fn(d = lst$df2, x = 666, y = 999, z = 777)
</code></pre>
<p>This also works for single runs as intended. Both options allow the call to be copied and executed.</p>
<pre><code>&gt; fn(d=df3, x=666, z=z.)
[1] 1 2 3
attr(,&quot;call&quot;)
fn(d = df3, x = 666, z = 777, y = 999)
&gt; 
&gt; fn(d=lst$df1, x=666, z=z.)
[1] 1 2 3
attr(,&quot;call&quot;)
fn(d = lst$df1, x = 666, z = 777, y = 999)
</code></pre>
<p><strong>Limitations</strong></p>
<p>The <code>Map</code> call is not trivial. Also, <code>fn()</code> must be changed, which is not a problem for my use case, since <code>fn()</code> belongs to me, but can lead to problems if it came from a package. Issues may occur if it is used in several nested calls, which has not been tested.</p>
<hr />
<p><em>Data:</em></p>
<pre><code>&gt; lst &lt;- replicate(2, data.frame(matrix(1:12, 3, 4)), simplify=FALSE) |&gt; 
+   setNames(c('df1', 'df2'))
&gt; z. &lt;- 777
&gt; df3 &lt;- lst$df1
</code></pre>
","2024-04-23 04:58:58","1","Answer"
"78369068","","Python flask function isn't being called","<p>So I'm new to flask and am trying to make a library website with flask and mongoDB but everytime I search for the books and try to click on the result for more information about the book it doesn't seem to call the function. I'm trying to sort of get the book ID of the results that come with it so I'm trying to hide it in a div that won't be shown.</p>
<p>This is the main.py file</p>
<pre><code>from backend import mongo
from flask import Flask, render_template, request

try:
    app = Flask(__name__)
    allbooks = mongo.allbooks
    rentedBookds = mongo.rentedBooks
    userDB = mongo.userDB
    @app.route(&quot;/&quot;)

    def home():
        return render_template('index.html')

    @app.route('/search',methods=['POST','GET'])

    def search():
        try:
            if request.method == 'POST':
                search_data = request.form['search_data']
                readResult = mongo.read(allbooks,search_data,&quot;title&quot;)
                return render_template('result.html',content=readResult,specific_value=&quot;title&quot;)
        except KeyError as e:
            print(f&quot;Key Error more info here: {e}&quot;)
        
    @app.route('/view_book',methods=['POST','GET'])

    def book(bookID):
        try:
            print(&quot;hello world&quot;)
            if request.method =='POST':
                bookIDdata = request.args.get(['bookID'])
                readResult = mongo.read(allbooks,bookIDdata,&quot;bookID&quot;)
                return render_template('book.html',BookName=readResult)
        except Exception as e:
            print(f&quot;There was an error{e}&quot;)

    if __name__ == &quot;__main__&quot;:
        app.run()

except TypeError as e:
    print(f&quot;There was a type error please check the {e} for the correct type&quot;)

except TimeoutError:
    print(&quot;Something timedout&quot;)

except Exception as e:
    print(f&quot;There was an error {e}&quot;)
</code></pre>
<p>This is the html file that shows the book results</p>
<pre><code>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Library Home&lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;form action=&quot;/search&quot;,method=&quot;post&quot;&gt;
            &lt;input type=&quot;text&quot; name=&quot;search_data&quot;&gt; &lt;/input&gt;
            &lt;button id=&quot;submit&quot;&gt;submit&lt;/button&gt;
        &lt;/form&gt;
        &lt;br&gt;

        {% for x in content %}
            &lt;form action=&quot;/view_book&quot; method=&quot;post&quot;&gt;&lt;/form&gt;
                &lt;div name=&quot;bookID&quot; style=&quot;display: none;&quot;&gt;
                    {{x[bookID]}}
                &lt;/div&gt;
                &lt;button id=&quot;submit&quot;&gt;{{x[specific_value]}}&lt;/button&gt;
            &lt;/form&gt;
        {% endfor %}
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
","2024-04-22 22:06:59","0","Question"
"78369066","78368771","","<p>Each TAS line is defined by <code>TAS = sqrt(x*y/978)</code> For example the 0.2 line is defined by <code>0.2 = sqrt(x*y/978)</code>. After some arithmetic you can put this in the form of <code>y = f(x)</code> for use in <code>geom_function()</code>. Then you can make a list of <code>geom_function()</code>s for each TAS line to add to the plot.</p>
<p>The trickier part, in my opinion, is developing the transform for the secondary axis. However, this is simplified because TAS is evaluated at x = 1.</p>
<pre class=""lang-r prettyprint-override""><code>library(readr)
library(purrr)
library(ggplot2)

df &lt;- read_delim(
'cc_q75      ss_ngene
0.27      167
0.31      158
0.57      310
0.48      172
0.63      220
0.21      135
0.28      136
0.48      276
0.59      319
0.42      251
0.34      162
0.27      95
0.71      429
0.29      104
0.57      409
0.72      537
0.57      429
0.59      400
0.40      235
0.37      146', 
delim = &quot;      &quot;
)

tas_values &lt;- seq(0.2, 0.8, 0.2)

geom_tas &lt;- function(tas) {
  map(
    tas, 
    ~ geom_function(
      fun = function(x) (978 * .x^2) / x, 
      color = &quot;blue&quot;, 
      linetype = &quot;dashed&quot;
    )
  )
}

ggplot(df, aes(x = cc_q75, y = ss_ngene)) + 
  geom_point() + 
  geom_tas(tas_values) + 
  geom_hline(yintercept = 200) + 
  geom_vline(xintercept = 0.2) + 
  scale_x_continuous(limits = c(0, 1)) + 
  scale_y_continuous(
    limits = c(0, 1000), 
    sec.axis = sec_axis(~ sqrt(. / 978), &quot;TAS&quot;, breaks = tas_values)
  )
#&gt; Warning in sqrt(./978): NaNs produced
</code></pre>
<p><img src=""https://i.imgur.com/mjKxfEB.png"" alt="""" /></p>
<p><sup>Created on 2024-04-23 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
<p>Note, the transform is producing NaNs for negative y values, but this can be safely ignored.</p>
","2024-04-22 22:06:55","4","Answer"
"78368771","","Plotting functions of x and y in ggplot2","<p>I am trying to recreate this plot in R using ggplot2. Essentially, the problem I run into is I do not know how to plot the lines corresponding to the TAS variable. I know the function of <code>TAS = sqrt(x*y/978)</code>, but I am not able to pass a function with both x and y arguments in stat_function. Does anyone have an idea how to achieve this?</p>
<p>Thank you very much for your time.<a href=""https://i.sstatic.net/xfHCn.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/xfHCn.png"" alt=""enter image description here"" /></a></p>
<p>My code:</p>
<pre><code>ggplot(df, aes(x = cc_q75,y = ss_ngene)) + 
  geom_point() + 
  geom_function(fun = function(x,y) sqrt(x*y/978)) + 
  geom_hline(yintercept = 200) + 
  geom_vline(xintercept = 0.2)+
  theme_minimal()
</code></pre>
<p>Edit: Added a sample of my input
<code>head(df, n = 20)</code></p>
<pre><code>cc_q75 ss_ngene
 &lt;num&gt;    &lt;int&gt;
0.27      167
0.31      158
0.57      310
0.48      172
0.63      220
0.21      135
0.28      136
0.48      276
0.59      319
0.42      251
0.34      162
0.27       95
0.71      429
0.29      104
0.57      409
0.72      537
0.57      429
0.59      400
0.40      235
0.37      146
</code></pre>
","2024-04-22 20:41:09","0","Question"
"78368691","78368515","","<p>The reason we need to store the value in the function name is to make the result of the calculation available to the code that calls the function. In this case the main function calls the factorial function and stores the returned value in the variable sum. Thus this allows the main function to use the result of the calculation in subsequent code eg: printing the result to the console.</p>
","2024-04-22 20:18:31","0","Answer"
"78368515","","Argument of a function and return statement","<pre><code>import java.util.*;
class Main{
    public static int  factorial(int a){
      int fac=1;
       for(int i=1;i&lt;=a;i++){
            fac=fac*i;
            
    }
    return fac;
    }
    public static void main( String[] args){
       Scanner sc= new Scanner(System.in);
       int a = sc.nextInt();
       
       System.out.print(fac);
    }
        
 }
</code></pre>
<pre><code>System.out.print(fac);
                        ^
  symbol:   variable fac
location: class Main
1 error
</code></pre>
<p>This was the error shown , my question is if we have declared the variable &lt;sum &gt;in the function and it  stores the updated values during the loop then why we are required to  define a new variable to store the value of the factorial !!</p>
<pre><code>import java.util.*;
class Main{
    public static int  factorial(int a){
        int fac=1;
       for(int i=1;i&lt;=a;i++){
            fac=fac*i;
            
    }
    return fac;
    }
    public static void main( String[] args){
       Scanner sc= new Scanner(System.in);
       int a = sc.nextInt();
       int sum =factorial(a);
       System.out.print(sum);
    }
        
 }
    
</code></pre>
<p>this was the solution shown , why we need to store the value in function name&lt;factorial&gt;instead of fac ?</p>
<pre><code></code></pre>
","2024-04-22 19:34:04","0","Question"
"78367292","78364833","","<p>You can't pass through variable names though <code>lapply</code> like that. If you want your function to record the invocation and you care about vairable names, a better solution is to build the invocations. Here we can do that with <code>do.call</code>.</p>
<pre><code>lapply(c(&quot;df1&quot;, &quot;df2&quot;), function(x) 
  do.call(&quot;fn&quot;, list(as.name(x), x=666, z=z.))
)
# [[1]]
# [1] TRUE
# attr(,&quot;call&quot;)
# fn(d = df1, x = 666, z = 777)
# 
# [[2]]
# [1] TRUE
# attr(,&quot;call&quot;)
# fn(d = df2, x = 666, z = 777)
</code></pre>
","2024-04-22 15:21:22","3","Answer"
"78366605","78366553","","<p>Create a <a href=""https://support.google.com/docs/answer/12504534?hl=en"" rel=""nofollow noreferrer"">Named function</a> <code>F</code> from <strong>Data &gt; Named functions</strong> with the following parameters: <code>a</code>,<code>b</code>,<code>c</code> and the following definition:</p>
<pre class=""lang-cpp prettyprint-override""><code>=a*5+4*(b+c)
</code></pre>
<p>Then you can use it as follows:</p>
<pre class=""lang-cpp prettyprint-override""><code>=F(L6,G4,G5)
</code></pre>
<p><a href=""https://i.sstatic.net/idg3F.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/idg3F.png"" alt=""enter image description here"" /></a></p>
","2024-04-22 13:28:29","0","Answer"
"78366553","","Google Sheets: Store a formula as a function to be called by multiple cells","<p>I can't find this specific problem anywhere I look.</p>
<p>I have some formulas being used multiple times in my sheet. The seed data going into each use is different, but the function it performs is the same. But that means if I want to change the formula itself, I have to go to each cell that uses it and change it to match.</p>
<p>Is there a way to store this formula so I can call it from multiple cells and have it perform the function as if it were being called from /that/ cell?</p>
<p>Here's how one of the formulas works:</p>
<p><code>(L6*5)+((G4+G5)*2)+((G4*2)+(G5*2))</code></p>
<p>This is executed in cell M6, where L6=4, G4=5, and G5=3, giving me a result of 52.</p>
<p>So I want to create a function that takes 3 arguments, performs this formula, and returns the result.</p>
<p>Something like:</p>
<p><code>function(arg1, arg2, arg3){return (arg1*5)+((arg2+arg3)*2)+((arg2*2)+(arg3*2))}</code></p>
<p>But I can't figure out if it's even possible to essentially store a function in a cell like that.</p>
","2024-04-22 13:20:23","0","Question"
"78365439","78365350","","<p>Boolean values can only be used in PL/SQL layer, not in SQL.
So If you want this function to return value using a 'select from dual' statement, then you will need to re-define the function to return varchar2 with the return values 'true' or 'false'.
So in your case</p>
<pre><code>CREATE OR REPLACE FUNCTION check_func_s (
    val IN NUMBER
) RETURN VARCHAR2 IS
BEGIN
    IF val IS NOT NULL THEN
        RETURN 'True';
    ELSE RETURN 'False';
    END IF;
END;
</code></pre>
<p>Note: With the new version of Oracle Database, you can now use it with Boolean. However, if you have older versions of DB, you still need your funtion to return varchar.
Source: <a href=""https://docs.oracle.com/en/database/oracle/oracle-database/23/sqlrf/to_boolean.html#GUID-B4FA8F5F-DD2A-4BEA-946A-B3CA60509294"" rel=""nofollow noreferrer"">ORACLE</a></p>
","2024-04-22 10:06:35","2","Answer"
"78365350","","PL SQL function call having return as boolean gives error","<p>I am getting this error</p>
<blockquote>
<p>ORA-00902: invalid datatype<br>
00902. 00000 -  &quot;invalid datatype&quot;<br>
*Cause:<br />
*Action: Error at Line: 24 Column: 5</p>
</blockquote>
<p>When I run the following code:</p>
<pre><code>CREATE OR REPLACE FUNCTION check_func_s (
    val IN NUMBER
) RETURN BOOLEAN IS
BEGIN
    IF val IS NOT NULL THEN
        RETURN TRUE;
    END IF;
END;
/

SELECT
    CHECK_FUNC_S(1) 
FROM
    DUAL ;
</code></pre>
<p>Please advise how to make it work.</p>
","2024-04-22 09:51:47","0","Question"
"78364833","","How to keep function call attributes consistent in lapply and Map?","<p>I want to attach the function call as an <code>attr</code>ibute. While using <code>fn()</code> directly works fine, when I run it inside <code>lapply()</code>, it returns <code>X[[i]]</code> instead of the actual name passed to the <code>d=</code> parameter. I expect to see <code>df1</code> and <code>df2</code> as the output, not <code>X[[i]]</code>.</p>
<pre><code>&gt; fn &lt;- \(d, x=x, y=999, ...) {
+   cl &lt;- match.call()
+   fa &lt;- formals(fn)
+   fa[length(fa)] &lt;- NULL
+   ma &lt;- setdiff(names(fa), names(cl))
+   cl[ma] &lt;- fa[ma]
+   cl[-c(1, 2)] &lt;- lapply(cl[-c(1, 2)], eval, envir=parent.frame())
+   # cl$d &lt;- quote(d)
+   res &lt;- d[[1]]  ## so `res` depends on `d`
+   attr(res, 'call') &lt;- cl
+   return(res)
+ }
&gt; 
&gt; z. &lt;- 777
&gt; df1 &lt;- lst$df1
&gt; df2 &lt;- lst$df2
&gt; fn(df1, x=666, z=z.)
[1] 1 2 3
attr(,&quot;call&quot;)
fn(d = df1, x = 666, z = 777, y = 999)
&gt; lapply(list(df1=df1, df2=df2), fn, x=666, z=z.)
$df1
[1] 1 2 3
attr(,&quot;call&quot;)
FUN(d = X[[i]], x = 666, z = 777, y = 999)

$df2
[1] 1 2 3
attr(,&quot;call&quot;)
FUN(d = X[[i]], x = 666, z = 777, y = 999)
</code></pre>
<p>This obviously relates to an earlier <a href=""https://stackoverflow.com/q/78263802/6574038"">question</a>, so I tried <code>Map</code> as proposed, however, apparently it doesn't generalize well.</p>
<pre><code>&gt; Map(list(df1=df1, df2=df2), f=fn, x=666, z=z.)
$df1
[1] 1 2 3
attr(,&quot;call&quot;)
(\(d, x=x, y=999, ...) {
  cl &lt;- match.call()
  fa &lt;- formals(fn)
  fa[length(fa)] &lt;- NULL
  ma &lt;- setdiff(names(fa), names(cl))
  cl[ma] &lt;- fa[ma]
  cl[-c(1, 2)] &lt;- lapply(cl[-c(1, 2)], eval, envir=parent.frame())
  # cl$d &lt;- quote(d)
  res &lt;- d[[1]]
  attr(res, 'call') &lt;- cl
  return(res)
})(d = dots[[1L]][[2L]], x = 666, z = 777, y = 999)

$df2
[1] 1 2 3
attr(,&quot;call&quot;)
(\(d, x=x, y=999, ...) {
  cl &lt;- match.call()
  fa &lt;- formals(fn)
  fa[length(fa)] &lt;- NULL
  ma &lt;- setdiff(names(fa), names(cl))
  cl[ma] &lt;- fa[ma]
  cl[-c(1, 2)] &lt;- lapply(cl[-c(1, 2)], eval, envir=parent.frame())
  # cl$d &lt;- quote(d)
  res &lt;- d[[1]]
  attr(res, 'call') &lt;- cl
  return(res)
})(d = dots[[1L]][[2L]], x = 666, z = 777, y = 999)
</code></pre>
<p>Then I tried to do <code>cl$d &lt;- quote(d)</code>, <code>cl$d &lt;- quote(substitute(d))</code>, <code>cl$d &lt;- quote(eval(parse(text=d)))</code>, <code>cl$d &lt;- quote(get(d))</code>, as commented out above, to no avail. Here result of <code>cl$d &lt;- quote(d)</code> version:</p>
<pre><code>&gt; fn(df1, x=666, z=z.)
[1] 1 2 3
attr(,&quot;call&quot;)
fn(d = d, x = 666, z = 777, y = 999)
&gt; lapply(list(df1=df1, df2=df2), fn, x=666, z=z.)
$df1
[1] 1 2 3
attr(,&quot;call&quot;)
FUN(d = d, x = 666, z = 777, y = 999)

$df2
[1] 1 2 3
attr(,&quot;call&quot;)
FUN(d = d, x = 666, z = 777, y = 999)
</code></pre>
<h2>Expected output</h2>
<pre><code>&gt; lapply(list(df1=df1, df2=df2), fn, x=666, z=z.)
$df1
[1] TRUE
attr(,&quot;call&quot;)
FUN(d = df1, x = 666, z = 777, y = 999)

$df2
[1] TRUE
attr(,&quot;call&quot;)
FUN(d = df2, x = 666, z = 777, y = 999)
</code></pre>
<p><strong>Just a heads up, I'm looking for a solution using base R.</strong></p>
<h2>Edit</h2>
<p>After <em>@MrFlick</em>'s answer, I see I need to clarify. Actually I have a large list <code>lst</code>:</p>
<pre><code>&gt; lst &lt;- list(df1=df1, df2=df2)
&gt; lapply(lst, function(x) 
+   do.call(&quot;fn&quot;, list(as.name(x), x=666, z=z.))
+ )
Error in as.vector(x, mode = mode) : 
  'list' object cannot be coerced to type 'symbol'
</code></pre>
","2024-04-22 08:19:45","1","Question"
"78364783","78362290","","<p>Sheet TRY F3 (Data Correct) =</p>
<pre><code>=(IF(AND(B3=INDEX('Master Data'!$B$1:$B$12, ROW()-1), C3=&quot;Y&quot;), INDEX('Master Data'!$A$1:$A$12, ROW()-1), &quot;&quot;))
</code></pre>
","2024-04-22 08:08:32","0","Answer"
"78364086","78363990","","<p>The problem is that the implicitly derived lifetime of the <code>dyn I</code> differs, for <code>fn(&amp;dyn I)</code> it's the unnamed lifetime <code>'_</code> that is also assigned to the reference, for <code>f::&lt;dyn I&gt;</code> because you restrict the type parameter to <code>T: 'static</code> it's inferred to be <code>'static</code> so both parameters to <code>TypeId::of</code> are in fact different types <code>fn(&amp;'_ (dyn I + '_))</code> vs <code>fn(&amp;'_ (dyn I + 'static))</code></p>
<p>I don't think it's possible for the function to relax that requirement to <code>(dyn I + '_)</code> so you'll have to be more strict on the bare version:</p>
<pre class=""lang-rust prettyprint-override""><code>use std::any::TypeId;
#[test]
fn same_type() {
    let bare = TypeId::of::&lt;fn(&amp;(dyn I + 'static))&gt;();
    let call = f::&lt;dyn I&gt;();
    assert_eq!(bare, call);
}

pub fn f&lt;T: ?Sized + 'static&gt;() -&gt; TypeId {
    TypeId::of::&lt;fn(&amp;T)&gt;()
}

trait I {}
</code></pre>
","2024-04-22 05:19:48","3","Answer"
"78363990","","`TypeId` of `fn` is different even when arguments and results have the same types","<p>The <code>TypeId</code> of two <code>fn</code> types with same argument and result types differ b/w taking the <code>TypeId</code> in a non-generic function vs a generic function instantiated with the same type:</p>
<p>In this rust program (<a href=""https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=a9939ad087348da4bc4b19b26f142f0f"" rel=""nofollow noreferrer"">permalink</a>), while the same <code>TypeId</code> is printed for <code>&amp;dyn I</code> (line 4) and <code>&amp;T</code> (line 12), when the types are wrapped into a <code>fn</code> type, the printed <code>TypeId</code> is different (line 5 and line 13).</p>
<pre><code>use std::any::TypeId;

fn main() {
    dbg!(TypeId::of::&lt;&amp;dyn I&gt;());
    dbg!(TypeId::of::&lt;fn(&amp;dyn I)&gt;());
    f::&lt;dyn I&gt;();
}

trait I {}

pub fn f&lt;T: ?Sized + 'static&gt;() {
   dbg!(TypeId::of::&lt;&amp;T&gt;());
   dbg!(TypeId::of::&lt;fn(&amp;T)&gt;());
}
</code></pre>
<p>My goal is to be able to store <code>fn</code> pointers in an <code>Any</code> object so that I can downcast them later. But that isn't working (presumably because the <code>TypeId</code>s don't match).</p>
","2024-04-22 04:38:29","1","Question"
"78363796","78363563","","<p>Write a basic loop that selects one observation and removes it based on some probability vector, just store the one that was removed.</p>
<p><code>g</code> is a generic function that takes x observations where y was selected previously, and returns probabilities of being selected for the remaining x</p>
<p>You can also weight these probabilities to be stronger or weaker using <code>w</code></p>
<pre><code>g &lt;- function(x, y, w = 1) {
  # return vector of probabilities for x (excluding y) given y was selected
  # g(1:10, 7)
  y &lt;- which(x %in% y)
  p &lt;- abs(1 / (x - x[y]))[-y]
  (p ^ w) / sum(p)
}

f &lt;- function(x, fun = g, w = 1) {
  # record which of x is selected given probability generating function fun
  # f(1:10)
  s &lt;- function(x, p = NULL) x[sample.int(length(x), 1L, FALSE, p)]
  o &lt;- NULL
  y &lt;- s(x)
  while (length(x) &gt; 1L) {
    o &lt;- c(o, y)
    p &lt;- fun(x, y, w)
    x &lt;- setdiff(x, y)
    y &lt;- s(x, p)
  }
  c(o, y)
}
</code></pre>
<p>Here are some examples using different probability functions</p>
<pre><code>set.seed(1)
op &lt;- par(mfrow = c(2, 2), mar = c(5, 5, 2, 2), oma = c(0, 0, 2, 0), pch = 16L)

for (w in c(0, 0.5, 1, 5))
  plot(f(1:100, g, w), type = 'o', ylab = 'ID selected', main = paste('weight: ', w))
title(main = 'prefer close', outer = TRUE)
</code></pre>
<p><a href=""https://i.sstatic.net/dmVKC.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/dmVKC.jpg"" alt=""enter image description here"" /></a></p>
<pre><code>for (w in -c(0, 1, 5, 10))
  plot(f(1:100, g, w), type = 'o', ylab = 'ID selected', main = paste('weight: ', w))
title(main = 'prefer far', outer = TRUE)
</code></pre>
<p><a href=""https://i.sstatic.net/QHczO.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/QHczO.jpg"" alt=""enter image description here"" /></a></p>
<p>Example using another type of function</p>
<pre><code>h &lt;- function(x, y, w = 1) {
  # h(1:10, 4)
  rev(sort(runif(length(x) - 1))) ^ w
}

for (w in c(0, 1, 5, 10))
  plot(f(1:100, h, w), type = 'o', ylab = 'ID selected', main = paste('weight: ', w))
title(main = 'prefer long waits', outer = TRUE)
</code></pre>
<p><a href=""https://i.sstatic.net/peFeT.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/peFeT.jpg"" alt=""enter image description here"" /></a></p>
<p>And here is how you can use <code>calculate_probability</code> as the probability function</p>
<pre><code>h &lt;- function(x, y, w = 1) {
  # h(1:10, 7)
  x &lt;- setdiff(x, y)
  sapply(x, function(xx) calculate_probability(x, y, xx)) ^ w
}

for (w in c(0, 1, 5, 10))
  plot(f(1:100, h, w), type = 'o', ylab = 'ID selected', main = paste('weight: ', w))
title(main = 'prefer close', outer = TRUE)

par(op)
</code></pre>
<p><a href=""https://i.sstatic.net/0qJxd.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/0qJxd.jpg"" alt=""enter image description here"" /></a></p>
","2024-04-22 03:09:35","2","Answer"
"78363760","78363563","","<p>The last person will be selected with certainty, so your loop can go to <code>(n - 1)</code>, not <code>n</code>. Also, <code>S &lt;- S[S != L]</code> should go before you calculate the probabilities because you've already selected the first person outside the loop, and you don't want to include that guy in your sampling frame for the second person. This may explain why you get duplicates.</p>
<pre><code>simulate &lt;- function(n) {
  S &lt;- 1:n
  L &lt;- sample(S, 1)
  result &lt;- L
  
  for (i in 2:(n-1)) {
    # Remove the previous person from the sampling frame
    S &lt;- S[S != L]
    probabilities &lt;- sapply(S, function(x) calculate_probability(S, L, x))
    L &lt;- sample(S, 1, prob = probabilities)
    result &lt;- c(result, L)
  }
  
  # The last guy must be selected with certainty
  result &lt;- c(result, setdiff(1:n, result))
  
  return(result)
}
</code></pre>
<hr />
<pre><code>result &lt;- simulate(100)

any(duplicated(result))
[1] FALSE
</code></pre>
","2024-04-22 02:56:02","1","Answer"
"78363573","78363563","","<p>Here is an attempt to simulate the random ordering using an elimination process via a loop:</p>
<pre><code>library(ggplot2)


calculate_probability &lt;- function(S, L, x) {
    S &lt;- S[S != L]
    
    if (!(x %in% S)) {
        return(0)
    }
    
    numerator &lt;- 1 / (abs(x - L) + 1)
    denominator &lt;- sum(1 / (abs(S - L) + 1))
    probability &lt;- numerator / denominator
    
    return(probability)
}


simulate &lt;- function(n) {
    S &lt;- c(1:n)
    L &lt;- sample(S, 1)
    result &lt;- c(L)
    
    for (i in 2:n) {
        probabilities &lt;- sapply(S, function(x) calculate_probability(S, L, x))
        L &lt;- sample(S, 1, prob = probabilities)
        result &lt;- c(result, L)
        S &lt;- S[S != L]
    }
    
    return(result)
}

result &lt;- simulate(100)


df &lt;- data.frame(index = 1:100, person = result)
ggplot(df, aes(x = index, y = person)) +
    geom_line() +
    labs(x = &quot;Index&quot;, y = &quot;Person&quot;) +
    theme_minimal()
</code></pre>
<p><a href=""https://i.sstatic.net/R7PNg.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>However, there seems to be duplicates here, suggesting that the random ordering is not correct:</p>
<pre><code> result[duplicated(result) | duplicated(result, fromLast = TRUE)]
[1] 25 25
</code></pre>
","2024-04-22 01:09:15","0","Answer"
"78363563","","Simulate Random People Walking into a Room","<p>This is a problem I thought of and am trying to figure out.</p>
<ul>
<li><p>Suppose there are 100 people: Person1, Person2,... Person100.</p>
</li>
<li><p>A random person is selected and walks into the room.</p>
</li>
<li><p>The next person to walk into the room is randomly selected of the remaining group of people, based on the last person that walked into the room before them.</p>
</li>
<li><p>Individuals having a number closer to the person that just walked in are more likely to be selected. Individuals further away have less probability (the probability distribution does not need to be symmetric)</p>
</li>
<li><p>Once a person has walked into the room, they can not leave</p>
</li>
</ul>
<p>For example, if Person17 walked into the room, then Person18 and Person16 have higher probabilities of being selected next, whereas Person99 has a smaller probability of being selected next. This probability decreases the further you move away from the last person to walk into the room.</p>
<p>Here is a function I wrote to do this (<a href=""https://math.stackexchange.com/questions/4900283/randomly-ordering-people-walking-into-a-room"">https://math.stackexchange.com/questions/4900283/randomly-ordering-people-walking-into-a-room</a>):</p>
<pre><code>calculate_probability &lt;- function(S, L, x) {
      S &lt;- S[S != L]
      

  if (!(x %in% S)) {
    return(0)
  }
 
  numerator &lt;- 1 / (abs(x - L) + 1)

  denominator &lt;- sum(1 / (abs(S - L) + 1))
  
  probability &lt;- numerator / denominator
  
  return(probability)
}

# sanity check

S &lt;- c(1:10)
L &lt;- 8
x &lt;- 8
probability &lt;- calculate_probability(S, L, x)
print(probability) 

# probabilities sum to 1


S &lt;- c(1:10)
L &lt;- 8

S &lt;- S[S != L]

probabilities &lt;- sapply(S, function(x) calculate_probability(S, L, x))

print(probabilities)
sum(probabilities)
</code></pre>
<p>I am now trying to do the following:</p>
<ul>
<li>Imagine there are 100 people. A randomly selected person walks into the room.</li>
<li>I want to use this function to simulate the other 99 people walking into the room</li>
<li>I want to plot (i.e. ggplot2) the results (i.e. x-axis is the index and the y-axis is the number corresponding to each person)</li>
</ul>
<p>The final result should contain the list of people in the order they entered the room, e.g. Person1, Person3, Person5, Person8, Person2, etc.</p>
<p>Can someone help me do this?</p>
","2024-04-22 01:01:21","-1","Question"
"78362774","78362658","","<p>Although all the comments about not needing to do this are right, the actual problem is that you are using a template literal for the function body, but you want to create another literal for the console log. So you need to use the back tick there as well, but you also need to escape the <code>$</code> or it will apply to the outer literal and so the <code>this.radius</code> will mean nothing (<em>in that context)</em>.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const Circle1 = Function('radius,centerX,centerY', `
    this.radius = radius;
    this.centerX = centerX;
    this.centerY = centerY;
    this.draw = function(){
      console.log(\`drawing circle with radius \${this.radius}\`);
    };
    `);
    
const mycircle = new Circle1(5, 10);
mycircle.draw();</code></pre>
</div>
</div>
</p>
","2024-04-21 18:45:31","2","Answer"
"78362658","","using passed argument in javascript function constructor","<p>Here I'm trying to use a function constructor and then use that constructor to create a circle object.</p>
<pre><code>const Circle1 = Function('radius,centerX,centerY',`
this.radius = radius;
this.centerX = centerX;
this.centerY = centerY;
this.draw = function(){
  console.log('drawing circle with radius ${this.radius}');
};
`);


const mycircle = new Circle1(5,10);
mycircle.draw();
</code></pre>
<p>When I run the code the result I see on the console is like this:</p>
<pre><code>drawing circle with radius undefined
</code></pre>
<p>Is there a way that I can use those arguments passed to the function?</p>
<p>I tried to reach the value as ${radius} or ${this.radius} but both of them give the result as undefined. I was expecting to see the actual radius value.</p>
","2024-04-21 18:08:19","0","Question"
"78362366","78362320","","<p>Man you never return a console.log(), as a function return; If you want to double check a value - do console.log() inside the function and then return a value. The scope of variable <code>roll</code> is inside rollDie() function - how do you think you'll be able to access it outside this function. Its value naturally will be undefined.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function rollDie () {
    roll = Math.floor(Math.random () * 6) + 1;  
    console.log (roll);
    return roll;  
};

// use a for loop to emulate multiple dice being thrown.

let num = 4;
for (let i=1; i &lt;= num; i++) {
    console.log (rollDie());
};</code></pre>
</div>
</div>
</p>
","2024-04-21 16:38:26","0","Answer"
"78362348","78362290",""," 
<p><em>Here's one approach you may test out:</em></p>
<pre class=""lang-js prettyprint-override""><code>=reduce({D2:E2,&quot;Data Correct&quot;},unique(tocol(D3:D13,1)),lambda(a,c,ifna(vstack(a,hstack(filter(D3:E13,D3:D13=c),if(countifs(D3:D13,c,E3:E13,&quot;&lt;&gt;y&quot;)=0,filter('Master Data'!A:A,'Master Data'!B:B=c),))))))
</code></pre>
<p><a href=""https://i.sstatic.net/WpEUk.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/WpEUk.png"" alt=""enter image description here"" /></a></p>
","2024-04-21 16:33:25","0","Answer"
"78362343","78362320","","<p>You're logging twice per roll: once inside the function, and once outside the function  (in the for loop). The log inside the function is logging the number, but then you are returning <code>undefined</code> from the function. Since you returned <code>undefined</code>, the second log prints <code>undefined</code></p>
<p>The problematic line is this one:</p>
<pre><code>return console.log(roll)
</code></pre>
<p>When you call <code>console.log</code>, it will print the value to the console, but then console.log returns <code>undefined</code> to you. You are then immediately returning that <code>undefined</code> from <code>rollDie</code>. Maybe it's a bit clearer if you split it onto two lines, that you are not returning <code>roll</code>:</p>
<pre><code>const resultOfLog = console.log(roll);
return resultOfLog; // resultOfLog is `undefined`
</code></pre>
<p>If you want to continue logging twice, i recommend the following:</p>
<pre><code>console.log(roll);
return roll;
</code></pre>
<p>If you just want to log once, you can delete the console.log from the function, meaning you just do:</p>
<pre><code>return roll;
</code></pre>
","2024-04-21 16:31:53","2","Answer"
"78362320","","for loop calling a function; output works but also shows undefined","<p>I am new to programming and am currently working in JavaScript.  I am trying to put together a simulation of rolling dice using a for loop.  The program works but output also outputs undefined after the generated number every time.  I don't know what is causing the undefined output.</p>
<p>I worked through a few of my bugs, but I was not expecting to see an undefined in my output.
**Below is my program: **</p>
<pre><code>function rollDie () {
    roll = Math.floor(Math.random () * 6) + 1;  
    return console.log (roll);  
};

// use a for loop to emulate multiple dice being thrown.

let num = 4;
for (let i=1; i &lt;= num; i++) {
    console.log (rollDie());
};
</code></pre>
<p><strong>Output I get is below:</strong></p>
<pre><code>6
undefined
6
undefined
2
undefined
4
undefined
</code></pre>
","2024-04-21 16:22:31","1","Question"
"78362290","","Google sheet function to extract values based on nested conditions. (Complex)","<p>I am trying to solve for a problem. I have a name range and a condition range.</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Name</th>
<th>Yes/No</th>
</tr>
</thead>
<tbody>
<tr>
<td>First</td>
<td>row</td>
</tr>
<tr>
<td>Second</td>
<td>row</td>
</tr>
</tbody>
</table></div>
<p>I have a master data sheet containing various values associated with different names. I aim to display these values in a new column only if a corresponding 'Yes/No' indicator for each name is set to 'Yes'. For instance, if the 'Yes/No' indicator for the name 'X' is set to 'Yes' for all associated values, I intend to exhibit these values from the master data in a new column (Column 3).</p>
<p>However, in my current approach, which involves utilizing the IF and QUERY functions, I encounter an issue where the execution of the first condition seems to prevent the evaluation of subsequent conditions. How can I ensure that all conditions are properly assessed?</p>
<p>Can you help me find a solution to this issue.</p>
<p>Any help would be appreciated.</p>
<p>This is the link to the sheet and my failed attempts at it.</p>
<p><a href=""https://docs.google.com/spreadsheets/d/1iB8_4-yTzM1HgdS8skE1Ce0nunoRU6F0rUq4WVzkO2E/edit#gid=0"" rel=""nofollow noreferrer"">https://docs.google.com/spreadsheets/d/1iB8_4-yTzM1HgdS8skE1Ce0nunoRU6F0rUq4WVzkO2E/edit#gid=0</a></p>
","2024-04-21 16:12:44","0","Question"
"78361289","78360509","","<p>Let me break it down for you. In this case, the comments are reducing the readability of the code. Remove them. This is what you're doing:</p>
<pre><code>function camelize(str) {
  return str.split('-').map((word, index) =&gt; index == 0 ? word : 
  word[0].toUpperCase() + word.slice(1)).join('');
}
</code></pre>
<p>The return keyword is returning a single value, which is being computed using something called &quot;method chaining&quot; in a single statement.</p>
<p>As the name suggests, method chaining &quot;chains&quot; multiple methods, using the dot operator to form a single statement. Starting from the left, multiple operations are performed in that single statement, with the returned value of each method calling the next method. In other words, each method works on the value returned by the previous method.</p>
<p>In this case, first, the <code>.split()</code> method is called and executed. Its return value, which is an array of strings calls the <code>.map()</code> method, which loops over the array. In each iteration, its callback function performs the specified operation on each element and adds the new computed value to a new array by returning it.</p>
<p>Since the callback function is an arrow function, and arrow functions implicitly return the result of a single expression without the use of the <code>return</code> keyword, the new values are being added to the new array by the callback function. Upon execution, the <code>.map()</code> method returns a new array containing the computed / modified values. Finally, that array calls the final <code>.join()</code> method, which joins the individual elements of a strings array with an optional separator (empty string, in this case).</p>
<p>By default, the <code>.map()</code> method's callback function can have three parameters: the first one is mandatory and represents the value of the element in the active iteration, the (optional) second one gives the index of the active element, and the (optional) third one references the original array.</p>
<p>That's just how the bult-in <code>.map()</code> method is implemented, and that's how it works.</p>
<p>So, the result of the method-chained statement is the &quot;camelized&quot; string, which the <code>camelize</code> function's <code>return</code> keyword returns.</p>
","2024-04-21 10:56:39","1","Answer"
"78360509","","Question about returns statements and function parameters","<p>I'm new to software and there is this piece of code which is a solution to an array exercise but I don't understand why it works. First of all the first thing it does is to return the string you enter in the function as a parameter, shouldn't then the rest of the code be ignored and not executed? why does it execute?, I also don't understand why the arrow function inside the map() method has two parameters called &quot;word&quot; and &quot;index&quot; respectively,how does the javascript engine know that the parameter &quot;word&quot; refers to one of the words that's inside the array that's being worked on by the function? (same for the word index, how does it know that the parameter refers to the index of the array?).</p>
<p>Here is the code:</p>
<pre><code>function camelize(str) {
  return str
    .split('-') // splits 'my-long-word' into array ['my', 'long', 'word']
    .map(
      // capitalizes first letters of all array items except the first one
      // converts ['my', 'long', 'word'] into ['my', 'Long', 'Word']
      (word, index) =&gt; index == 0 ? word : word[0].toUpperCase() + word.slice(1)
    )
    .join(''); // joins ['my', 'Long', 'Word'] into 'myLongWord'
}
</code></pre>
<p>The exercise in question: <a href=""https://javascript.info/task/camelcase"" rel=""nofollow noreferrer"">https://javascript.info/task/camelcase</a></p>
<p>I tried looking up on Google but get no relevant answers in the search results.</p>
","2024-04-21 05:31:58","-1","Question"
"78359109","78358923","","<p>Here is a sketch of what I mean :)</p>
<p>Also see</p>
<p><a href=""https://en.cppreference.com/w/cpp/language/lambda"" rel=""nofollow noreferrer"">https://en.cppreference.com/w/cpp/language/lambda</a>
<a href=""https://en.cppreference.com/w/cpp/utility/functional/function"" rel=""nofollow noreferrer"">https://en.cppreference.com/w/cpp/utility/functional/function</a>
<a href=""https://en.cppreference.com/w/cpp/memory/unique_ptr/make_unique"" rel=""nofollow noreferrer"">https://en.cppreference.com/w/cpp/memory/unique_ptr/make_unique</a></p>
<pre><code>#include &lt;unordered_map&gt;
#include &lt;functional&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;iostream&gt;

#include &lt;string_view&gt;

//-----------------------------------------------------------------------------

class TableSchema
{
public:
    virtual ~TableSchema() = default; // you will need a virtual destructor
    virtual void DoSomething() = 0;   // and some polymorphic methods
                                      // you can use through pointers to this baseclass
};

//-----------------------------------------------------------------------------

class TaskSchema :
    public TableSchema
{
public:
    explicit TaskSchema(const std::vector&lt;std::string&gt;&amp; args) :
        m_args{ args } // copy arguments
    {
    }
    
    ~TaskSchema() override = default;

    void DoSomething() override
    {
        std::cout &lt;&lt; &quot;Task : &quot; &lt;&lt; m_args[0] &lt;&lt; &quot;, &quot; &lt;&lt; m_args[1] &lt;&lt; &quot;\n&quot;; // small demo, ofcourse totally unsafe (assumes 2 entries in vector)
    }
private:
    std::vector&lt;std::string&gt; m_args;
};

//-----------------------------------------------------------------------------

class ProjectSchema :
    public TableSchema
{
public:
    explicit ProjectSchema(const std::vector&lt;std::string&gt;&amp; args) :
        m_args{ args } // copy arguments
    {
    }

    ~ProjectSchema() override = default;

    void DoSomething() override
    {
        std::cout &lt;&lt; &quot;Project : &quot; &lt;&lt; m_args[0] &lt;&lt; &quot;, &quot; &lt;&lt; m_args[1] &lt;&lt; &quot;\n&quot;; // small demo, ofcourse totally unsafe (assumes 2 entries in vector)
    }
private:
    std::vector&lt;std::string&gt; m_args;
};

//-----------------------------------------------------------------------------
// put all administration for creation of functions
// in a factory class 

class Factory
{
public:
    // Your creat function
    static std::unique_ptr&lt;TableSchema&gt; Create(const std::string_view type, const std::vector&lt;std::string&gt;&amp; args)
    {
        if (m_map.find(type) == m_map.end())
        {
            throw std::invalid_argument{ &quot;unsupported type&quot; };
        }

        // you can get a function out of the map
        auto create_function = m_map.at(type);

        // and then call it.
        return create_function(args);
    };

private:
    // In C++ use 'using' instead of typedef it plays nicer with templates
    // when you use std::function you can also use lambda expressions (with captures) as functions
    using create_function_t = std::function&lt;std::unique_ptr&lt;TableSchema&gt;(const std::vector&lt;std::string&gt;&amp;)&gt;;

    // Create a map of creation functions
    // each function is a lambda expression
    static inline std::unordered_map&lt;std::string_view, create_function_t&gt; m_map
    { {
        {&quot;task&quot;, [](const std::vector&lt;std::string&gt;&amp; args) { return std::make_unique&lt;TaskSchema&gt;(args); }},
        {&quot;project&quot;, [](const std::vector&lt;std::string&gt;&amp; args) { return std::make_unique&lt;ProjectSchema&gt;(args); }}
    } };
};

//-----------------------------------------------------------------------------
// Now you can use it like this

int main()
{
    auto task_ptr = Factory::Create(&quot;task&quot;, { &quot;arg1&quot;,&quot;arg2&quot; });
    auto project_ptr = Factory::Create(&quot;project&quot;, { &quot;arg3&quot;,&quot;arg4&quot; });

    task_ptr-&gt;DoSomething();
    project_ptr-&gt;DoSomething();
}
</code></pre>
","2024-04-20 17:19:15","1","Answer"
"78359026","78358923","","<p>Got it working</p>
<pre><code>#include &lt;vector&gt;
#include &lt;map&gt;

class TableSchema{
  //polymorphic behaviour through virtual methods
};

class TaskSchema : public TableSchema{
  //polymorphic behaviour through [type] [method_name]([params][]) override
};

class ProjectSchema : public TableSchema{
};

typedef std::unique_ptr&lt;TableSchema&gt; (*BuildFunction)(std::vector&lt;std::string&gt; args);

class SchemaBuilder{
public:
    static TableSchema* build(std::vector&lt;std::string&gt; args); 
};

std::unique_ptr&lt;TableSchema&gt; buildTask(std::vector&lt;std::string&gt;);
std::unique_ptr&lt;TableSchema&gt; buildProject(std::vector&lt;std::string&gt;);

std::map&lt;std::string, BuildFunction&gt; buildMap = {
    { &quot;task&quot;, buildTask },
    { &quot;project&quot;, buildProject }
};

std::unique_ptr&lt;TableSchema&gt; buildTask(std::vector&lt;std::string&gt; params){
    return nullptr; 
}

std::unique_ptr&lt;TableSchema&gt; buildProject(std::vector&lt;std::string&gt; params){
    return new ProjectSchema(params[0], params[1]);
}
</code></pre>
<p>Whoever you are remember this the next time you ask a question and end up solving your own problem. Sometimes answering yourself is helping the world</p>
","2024-04-20 16:55:04","1","Answer"
"78358923","","Initializing map of polymorphic function pointers","<p>I'm doing a personal project which boils down to a task management command line tool. The idea is to take some of the concepts I've been using in higher level languages and apply them to C++, as well as get used to the SQLite C/C++ API. But I digress.</p>
<p>The idea of the implementation is to use a static <code>SchemaBuilder.build()</code> method, which takes in a vector of strings and parses it accordingly. Since we can't use <code>switch</code> statements with string literals in C++, I defaulted to the strategy previously used for the command parser, which was using a <code>std::map&lt;std::string, function_pointer&gt;</code>.</p>
<p>I'm having a bit of a hard time getting it to compile. Here's the code:</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;vector&gt;
#include &lt;map&gt;

class TableSchema{
};

class TaskSchema : public TableSchema{
};

class ProjectSchema : public TableSchema{
};

typedef TableSchema* (*BuildFunction)(std::vector&lt;std::string&gt; args);

class SchemaBuilder{
public:
    static TableSchema* build(std::vector&lt;std::string&gt; args); 
};

TaskSchema* buildTask(std::vector&lt;std::string&gt;);
ProjectSchema* buildProject(std::vector&lt;std::string&gt;);

std::map&lt;std::string, BuildFunction&gt; buildMap = {
    { &quot;task&quot;, buildTask },
    { &quot;project&quot;, buildProject }
};

//weirdest part is that this one compiles while the above one doesn't
void tmp(){
    std::map&lt;std::string, BuildFunction&gt; tmp;
    tmp[&quot;task&quot;] = buildTask;
    tmp[&quot;project&quot;] = buildProject;
}

TaskSchema* buildTask(std::vector&lt;std::string&gt; params){
    return nullptr; 
}

ProjectSchema* buildProject(std::vector&lt;std::string&gt; params){
    return new ProjectSchema(params[0], params[1]);
}
</code></pre>
<p>Error messages:</p>
<pre class=""lang-none prettyprint-override""><code>src/schema-builder.cpp:6:1: error: could not convert ‘{{&quot;task&quot;, buildTask}, {&quot;project&quot;, buildProject}}’ from ‘&lt;brace-enclosed initializer list&gt;’ to ‘std::map&lt;std::__cxx11::basic_string&lt;char&gt;, TableSchema* (*)(std::vector&lt;std::__cxx11::basic_string&lt;char&gt; &gt;)&gt;’
    6 | };
      | ^
      | |
      | &lt;brace-enclosed initializer list&gt;
</code></pre>
<p>The <code>tmp</code> function isn't part of the project, just a test to see if what I'm doing is compilable - it is.</p>
<p>Needless to say, <code>ProjectSchema</code> and <code>TaskSchema</code> both publicly inherit from <code>TableSchema</code>.</p>
","2024-04-20 16:17:41","1","Question"
"78354937","78354825","","<p>Move the definition of the type <code>NumSet</code> out of the function so that it is visible throughout the translation unit.</p>
<p>Modify <code>func1</code> to:</p>
<ul>
<li>Allocate space for the structure, as with <code>NumSet *nPtr = malloc(sizeof *nPtr);</code>.</li>
<li>Provide the address of that space to the routine that calls it, as by returning it as the return value of the function or by storing the address in a pointer passed by the caller.</li>
</ul>
<p>Modify the calling routine to take the address provided by <code>func1</code> and pass it to <code>func2</code>.</p>
<p>You should also make arrangements to release the memory when it is no longer needed, as by calling <code>free</code>.</p>
<p>Example:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;


typedef struct
{
    int x;
    int y;
} NumSet;


NumSet *func1(void)
{
    NumSet *nPtr1 = malloc(sizeof *nPtr1);
    if (!nPtr1)
    {
        fprintf(stderr, &quot;Error, failed to allocate memory.\n&quot;);
        exit(EXIT_FAILURE);
    }

    nPtr1-&gt;x = 5;
    nPtr1-&gt;y = 10;

    printf(&quot;%d %d\n&quot;, nPtr1-&gt;x, nPtr1-&gt;y);

    return nPtr1;
}


void func2(NumSet *nPtr2)
{
    int sum;

    sum = nPtr2-&gt;x + nPtr2-&gt;y;

    printf(&quot;The sum of %d and %d is %d.\n&quot;, nPtr2-&gt;x, nPtr2-&gt;y, sum);
}


int main(void)
{
    NumSet *p = func1();
    func2(p);
    free(p);
}
</code></pre>
","2024-04-19 16:00:18","3","Answer"
"78354921","78354061","","<p>Using <code>matrixStats</code> functionalities, avoiding <code>apply</code>*, <code>ifelse</code>, and other slow operations.</p>
<pre><code>&gt; library(matrixStats)
&gt; m &lt;- data[-1] |&gt; as.matrix()
&gt; replace(colnames(m)[max.col(m)], rowSums2(m == rowMaxs(m)) &gt; 1, 'tie')
[1] &quot;tie&quot;    &quot;value2&quot; &quot;value3&quot; &quot;value2&quot; &quot;tie&quot;    &quot;tie&quot;   
</code></pre>
<p><sub>*on data.frames</sub></p>
","2024-04-19 15:56:58","0","Answer"
"78354852","78354061","","<p>Similiar to @Andre Wildberg's <a href=""https://stackoverflow.com/a/78354425/20002111"">solution</a>:</p>
<pre><code>apply(data[-1], 1L, \(x) { . = which(x == max(x)) 
  if(length(.) &gt; 1L) &quot;tie&quot; else names(.) })
</code></pre>
","2024-04-19 15:42:05","0","Answer"
"78354833","78354825","","<p>The declaration of a <code>struct</code> <em>must</em> be visible anyplace it is used.</p>
<p>So your only option is to move the declaration out of the function.</p>
","2024-04-19 15:37:57","4","Answer"
"78354825","","How to pass a structure pointer within two function (both not main)","<p>I want to pass a pointer that point to a structure from function A to function B where the structure was declared in function A, is that possible?</p>
<pre><code>void func1() {
    typedef struct {
        int x;
        int y;
    }NumSet;

    NumSet* nPtr1, nStructure;
    nPtr1 = &amp;nStructure;

    nPtr1-&gt;x = 5;
    nPtr1-&gt;y = 10;

    printf(&quot;%d %d\n&quot;, nPtr1-&gt;x, nPtr1-&gt;y);
}

void func2(NumSet *nPtr2) {
    int sum;

    sum = nPtr2-&gt;x + nPtr2-&gt;y;

    printf(&quot;The sum of %d and %d is %d&quot;, nPtr2-&gt;x, nPtr2-&gt;y, sum);
}
</code></pre>
<p>I know if declare the structure as global structure will makes job easy but I just wondering is there any methods that can bypass these kind of limits.</p>
","2024-04-19 15:36:05","-1","Question"
"78354538","78354061","","<p>One way without iterating by row is to compare the results of <code>max.col()</code> with ties method <code>first</code> and <code>last</code>.  If the result is not equal it's a tie.</p>
<pre><code>library(dplyr)

find_max &lt;- function(data) {
  m &lt;- as.matrix(data)
  first &lt;- max.col(m, ties.method = &quot;first&quot;)
  last &lt;- max.col(m, ties.method = &quot;last&quot;)
  ifelse(first == last, names(data)[first], &quot;tie&quot;)
}

data |&gt;
  mutate(max_column = find_max(pick(value1:value3)))

  group value1 value2 value3 max_column
1     A      0      1      1        tie
2     A      0      1      0     value2
3     B      1      1      2     value3
4     B      0      1      0     value2
5     C      1      1      1        tie
6     C      1      1      1        tie
</code></pre>
","2024-04-19 14:48:07","1","Answer"
"78354425","78354061","","<p>A <strong>base R</strong> approach using <code>apply</code>. Doesn't consider groups since the result seems to be row wise anyways.</p>
<pre><code>max_find &lt;- function(dat) apply(dat, 1, \(x) 
  ifelse(sum(max(x, na.rm=T) == x, na.rm=T) &gt; 1, &quot;tie&quot;, colnames(dat)[which.max(x)]))
</code></pre>
<pre><code>cbind(data, max_column = max_find(data[,-1]))
  group value1 value2 value3 max_column
1     A      0      1      1        tie
2     A      0      1      0     value2
3     B      1      1      2     value3
4     B      0      1      0     value2
5     C      1      1     NA        tie
6     C      1      1      1        tie
</code></pre>
","2024-04-19 14:30:24","1","Answer"
"78354199","78354061","","<ul>
<li>you can use <code>ensyms()</code> to capture the column names, then index into them if only one max is found.</li>
<li>to get your sample output, you’ll want to use <code>rowwise %&gt;% mutate</code>, not <code>group_by %&gt;% summarize</code>.</li>
<li>when testing for multiple maxima, use <code>dplyr::near()</code> rather than <code>==</code> to mitigate floating point errors.</li>
<li>the below also includes <code>NA</code> handling.</li>
</ul>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)

column_with_max &lt;- function(..., na.rm = FALSE) {
  nms &lt;- as.character(ensyms(...))
  vals &lt;- c(...)
  max_val &lt;- max(vals, na.rm = na.rm)
  if (is.na(max_val)) return(NA_character_)
  max_idx &lt;- which(near(vals, max_val))
  if (length(max_idx) &gt; 1) return(&quot;tie&quot;)
  nms[[max_idx]]
}

data %&gt;%
  rowwise() %&gt;%
  mutate(max_column = column_with_max(value1, value2, value3)) %&gt;%
  ungroup()
</code></pre>
<p>Result:</p>
<pre><code># A tibble: 6 × 5
  group value1 value2 value3 max_column
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;     
1 A          0      1      1 tie       
2 A          0      1      0 value2    
3 B          1      1      2 value3    
4 B          0      1      0 value2    
5 C          1      1      1 tie       
6 C          1      1      1 tie   
</code></pre>
","2024-04-19 13:57:25","2","Answer"
"78354162","78354061","","<p>You can use <code>rowwise()</code> and <code>c_across()</code>, along with this function:</p>
<pre><code>f &lt;- \(x) {
  if(sum(x==max(x))&gt;1) return(&quot;tie&quot;)
  return(paste0(&quot;value&quot;,which.max(x)))
}

mutate(rowwise(data), max_column = f(c_across(starts_with(&quot;v&quot;))))
</code></pre>
<p>Output:</p>
<pre><code>  group value1 value2 value3 max_column
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;     
1 A          0      1      1 tie       
2 A          0      1      0 value2    
3 B          1      1      2 value3    
4 B          0      1      0 value2    
5 C          1      1      1 tie       
6 C          1      1      1 tie   
</code></pre>
<p>Another option is to work on a long version of the data:</p>
<pre><code>bind_cols(
  data,
  pivot_longer(mutate(data, i=row_number()), -c(i, group)) %&gt;%
    group_by(i) %&gt;% 
    mutate(x=sum(value==max(value)), x = if_else(x==1, name, &quot;tie&quot;)) %&gt;% 
    filter(value==max(value)) %&gt;% 
    distinct(x) %&gt;%
    ungroup() %&gt;% 
    select(max_column = x)
)
</code></pre>
<p>Output:</p>
<pre><code>  group value1 value2 value3 max_column
1     A      0      1      1        tie
2     A      0      1      0     value2
3     B      1      1      2     value3
4     B      0      1      0     value2
5     C      1      1      1        tie
6     C      1      1      1        tie
</code></pre>
","2024-04-19 13:52:31","1","Answer"
"78354061","","Find max value across multiple columns with ties and return column name or tiebreaker NA value","<p>I'm struggling with finding a max() type function that doesn't return 'first', 'last' or random, and which.max.simple() which looked promising isnt available on CRAN anymore.</p>
<p>Chat GPT is struggling with returning this correctly despite multiple attempts so can anyone help?</p>
<pre><code>library(dplyr)

# Function to find column name(s) with max value, handling tie
column_with_max &lt;- function(...) {
  values &lt;- c(...)
  max_value &lt;- max(values)
  max_indices &lt;- which(values == max_value)
  if (length(max_indices) &gt; 1) {
    return(paste(names(values)[max_indices], collapse = &quot;, &quot;))
  } else {
    return(names(values)[values == max_value])
  }
}


# Sample data
data &lt;- data.frame(group = c(&quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;),
                   value1 = c(0, 0, 1, 0, 1, 1),
                   value2 = c(1, 1, 1, 1, 1, 1),
                   value3 = c(1, 0, 2, 0, 1, 1))

# Grouped column with max value and tie handling
result &lt;- data %&gt;%
  group_by(group) %&gt;%
  summarise(max_column = column_with_max(value1, value2, value3))
</code></pre>
<p>desired result would be:</p>
<pre><code>output &lt;- data.frame(group = c(&quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;),
                   value1 = c(0, 0, 1, 0, 1, 1),
                   value2 = c(1, 1, 1, 1, 1, 1),
                   value3 = c(1, 0, 2, 0, 1, 1),
                   max_column = c(&quot;tie&quot;, &quot;value2&quot;, &quot;value3&quot;, &quot;value2&quot;, &quot;tie&quot;, &quot;tie&quot;))
</code></pre>
<p>I've got multiple grouping variables and larger data so a dplyr solution would be most helpful. Thank you</p>
","2024-04-19 13:37:42","3","Question"
"78352787","78351275","","<p>Copy paste the code into a worksheet and write a script that turns</p>
<p>IIF(a&gt;0, a+1/a, 0)</p>
<p>into</p>
<pre><code>If a&gt;0 then 
a+1/a

else

a=0

End If
</code></pre>
","2024-04-19 09:42:31","-2","Answer"
"78351594","78351275","","<p>As discussed in the comments, it's not possible to get a &quot;lazy evaluation&quot; of an expression passed as argument to a function: the expression will always be evaluated before the function starts. This means that the simplest option is probably to use the <code>IF...Then...Else</code> syntax.</p>
<p>However, for the sake of completeness, I'll mention some alternative ways this can be implemented using strings.</p>
<h2>A) Using the Evaluate Function</h2>
<p>If the values you are working with are from Excel cells, you could use the <a href=""https://learn.microsoft.com/en-us/office/vba/api/excel.application.evaluate"" rel=""nofollow noreferrer""><code>Evaluate</code></a> function which allows you to calculate worksheet formulas. For instance, if the value you need to evaluate is in cell <code>A1</code>, the following would work even if <code>A1</code> contains the value <code>0</code>.</p>
<pre class=""lang-vb prettyprint-override""><code>Evaluate(&quot;=IF(A1 &gt; 0, A1 + 1 / A1, 0)&quot;)
</code></pre>
<h2>B) Using the stdVBA library</h2>
<p>If you import the <a href=""https://github.com/sancarn/stdVBA/blob/master/src/stdLambda.cls"" rel=""nofollow noreferrer"">stdLambda</a> and <a href=""https://github.com/sancarn/stdVBA/blob/master/src/stdICallable.cls"" rel=""nofollow noreferrer"">stdCallable</a> classes from the <a href=""https://github.com/sancarn/stdVBA"" rel=""nofollow noreferrer"">stdVBA library</a>, you would be able to use lamda expressions defined with a string to avoid evaluating expressions passed to a function.</p>
<p>This would allow you to define the following function :</p>
<pre class=""lang-vb prettyprint-override""><code>Function IfLazy(Condition As Boolean, EvalTrue As String, EvalFalse As String, ParamArray params() As Variant)

    If Condition Then
        IfLazy = stdLambda.Create(EvalTrue).RunEx(params())
    Else
        IfLazy = stdLambda.Create(EvalFalse).RunEx(params())
    End If

End Function 
</code></pre>
<p>Then the following expression would work even if the variable <code>a</code> has the value <code>0</code>.</p>
<pre class=""lang-vb prettyprint-override""><code>   
IfLazy(a &gt; 0, &quot;$1 + 1 / $1&quot;, &quot;0&quot;, a)

</code></pre>
<p><strong>Explanation:</strong></p>
<p>A lambda expression is basically a way to define a function by simply providing what operations will be performed on the arguments of the lamda expression.</p>
<p>The arguments here are specified as <code>$1</code> for the 1st argument, <code>$2</code> for the second argument and so on.</p>
<p>Note the use of the <code>ParamArray</code> keyword in the function definition which would allow us to pass a varying number of arguments to the functions that will then be passed to the correct lambda expression. For example, you could have 2 variables (a and b) by specifying them in order at the end of the arguments. Eg.: <code>IfLazy(a &gt; 0, &quot;$2 + 1 / $1&quot;, &quot;$2&quot;, a, b)</code>.</p>
","2024-04-19 06:00:45","4","Answer"
"78351275","","Replacement for VBA IIF function","<p>I am working on an Excel project that involves converting an large set of Excel 4.0 macrosheet functions to VBA. These functions make extensive use of the worksheet <code>IF(condition,ifTrue,ifFalse)</code> function.</p>
<p>Conversion has gone well, as most of the macrosheet statements convert directly to VBA, but there is one nagging issue. The worksheet <code>IF(condition,ifTrue,ifFalse)</code> only evaluates the necessary <code>ifTrue</code> or <code>ifFalse</code> clause, whereas The VBA <code>IIF(condition,ifTrue,ifFalse)</code> function <strong>always</strong> evaluates both clauses.  The problem is that many of the <code>IF</code> statements in the macrosheet code are written to expect the worksheet function behavior.  An example of the problem:  for <code>a=0</code>, <code>IF(a&gt;0, a+1/a, 0)</code> will  return <code>0</code>, but <code>IIF(a&gt;0, a+1/a, 0)</code> will crash because there is division by 0 in the <code>ifTrue</code> clause, even though that clause is not used.</p>
<p>For some reason, the Excel WorksheetFunction object does not expose <code>IF</code>.  Rewriting all of the <code>IF(condition,ifTrue,ifFalse)</code> statements using VBA's <code>IF...Then...Else</code> would be extremely tedious, given the number of times that function is used.</p>
<p>Is there a way to replace the <code>IIF</code> function with another function that behaves like the worksheet <code>IF</code> function, or is there some way to make the WorksheetFunction object expose <code>IF</code>?</p>
<p>Thanks!</p>
","2024-04-19 03:53:19","4","Question"
"78350920","78350641","","<p>In ECMAScript modules (ESM), this 2 basically represents the same thing:</p>
<pre class=""lang-js prettyprint-override""><code>import ollama from 'ollama';
import { default as ollama } from 'ollama';
</code></pre>
<p>However, when you write the same thing in CommonJS (CJS) (<code>require()</code> is a CJS only pattern), it is the equivalent of <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import#namespace_import"" rel=""noreferrer"">namespace import</a> in ESM:</p>
<pre class=""lang-js prettyprint-override""><code>const ollama = require('ollama'); // CJS
import * as ollama from 'ollama'; // ESM
</code></pre>
<p>Therefore, in order to solve this issue, you should read it from an export named <code>default</code> instead. Here's a translation between default import in CJS and ESM:</p>
<pre class=""lang-js prettyprint-override""><code>import ollama from 'ollama'; // ESM
const { default: ollama } = require('ollama'); // CJS
</code></pre>
<hr />
<p>The above answer is just a very simple overview on what happened. There's a lot of details about this and some additional reading that can be done include:</p>
<ul>
<li>Reading from Node.js documentation: <a href=""https://nodejs.org/docs/latest/api/esm.html#esm_commonjs_namespaces"" rel=""noreferrer"">https://nodejs.org/docs/latest/api/esm.html#esm_commonjs_namespaces</a></li>
<li>Understanding the use of <code>__esModule</code>: <a href=""https://stackoverflow.com/q/50943704/8888888"">What&#39;s the purpose of `Object.defineProperty(exports, &quot;__esModule&quot;, { value: !0 })`?</a></li>
</ul>
","2024-04-19 01:17:53","6","Answer"
"78350641","","TypeError: ollama.chat is not a function in Node.js with the ollama module","<p>I'm working on a Node.js project where I'm trying to use the ollama (<a href=""https://github.com/ollama/ollama-js"" rel=""noreferrer"">ollama-js</a>) module. However, when I call the async function <code>chatWithLlama()</code> (which has <code>ollama.chat()</code> inside), I encounter the following error:</p>
<p><code>TypeError: ollama.chat is not a function</code></p>
<p>And the <code>chatWithLlama()</code> function doesn't finish off.</p>
<p>Here's the relevant code snippet:</p>
<pre><code>const ollama = require('ollama');

async function chatWithLlama() {
  try {
    const response = await ollama.chat({
      model: 'llama3',
      messages: [{ role: 'user', content: 'Why is the sky blue?' }],
    });
    console.log(response.message.content);
  } catch (error) {
    console.error('Error:', error);
  }
}

chatWithLlama();
</code></pre>
<p>For more context, this is my package.json:</p>
<pre><code>{
  &quot;name&quot;: &quot;nodejs&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;@api/pplx&quot;: &quot;file:.api/apis/pplx&quot;,
    &quot;@types/node&quot;: &quot;^18.0.6&quot;,
    &quot;ollama&quot;: &quot;^0.5.0&quot;
  }
}
</code></pre>
<hr />
<p>I have made sure that the ollama module is properly installed using npm and included in the package.json file and node_modules directory. I also have Ollama running on my Mac, with llama3 already installed. Nothing other than this error occurs, and the script does not crash. What's causing this issue and how can I resolve it?</p>
","2024-04-18 22:57:20","5","Question"
"78350613","78350389","","<p>If you say:</p>
<pre><code>char g1[13] = &quot;hello in c++ no&quot;; 
</code></pre>
<p>then your program is ill-formed and will most likely not even compile. g++ gives me:</p>
<pre><code>c.cpp: In function ‘int main()’:
c.cpp:5:19: error: initializer-string for ‘char [13]’ is too long [-fpermissive]
    5 |     char g1[13] = &quot;hello in c++ no&quot;;
      |         
</code></pre>
<p>At the very least, I'd expect a compile-time warning, which you absolutely should not ignore.</p>
<p>The string <code>&quot;hello in c++ no&quot;</code> is 15 characters long, with a 16th byte required to hold the null terminator <code>'\0'</code>.</p>
<p>You could write code <em>similar</em> to what's in your question that would compile successfully, for example by giving <code>g1</code> a size of at least 16 (or omitting the size and letting the compiler figure out how long it needs to be:</p>
<pre><code>char g1[] = &quot;hello in c++ no&quot;;
</code></pre>
<p>Then the <code>strcpy</code> call would have <em>undefined behavior</em>, since you're copying more data than can fit into the target <code>g2</code>. The compiler is not required to diagnose this error, but the language standard says nothing about what the code will do. One likely outcome is that the call will clobber other memory, perhaps some of the memory that makes up <code>g1</code>. Or it could crash. Or it could appear to work without error, which is the worst outcome, since it means you have a bug that's going to be difficult to diagnose.</p>
<p>Using C++'s <code>std::string</code> rather than raw C-style strings makes it much easier to avoid this kind of problem.</p>
","2024-04-18 22:46:06","1","Answer"
"78350445","78350389","","<p>You have a <em>buffer overflow</em>.  You are copying more data into <code>g2</code> than it can hold.  <code>strcpy()</code> does not perform any bounds checking,  and so in this example it will exceed the bounds of <code>g2</code> and write into surrounding memory. Thus <code>g1</code> <em>may</em> change if it follows <code>g2</code> in memory.  A compiler is free to order local variables however it wants.  Just because you declare <code>g1</code> before <code>g2</code> does not guarantee that <code>g2</code> actually follows <code>g1</code> in memory.  In your case, the opposite is likely true (use your compiler's debugger to verify).</p>
","2024-04-18 21:42:52","5","Answer"
"78350420","78350299","","<p>I don't think you may want to validate user data in frontend, since people who use your page will be able to access the data of the user they tried to access or all existing users data
I suggest validating in backend and then backend sending a token to validate the session
Then you can store that token in LocalStorage or SessionStorage and send it to the backend when you want to access a page that needs authentication</p>
<p>If it is far from your knowledge you can make save the data you want in LocalStorage or LocalStorage in the frontend and access it from other html pages that you brote</p>
<p>As I said, I strongly advice not to do that if it's not a learning project</p>
<p>Lastly, to answer your question of using one HTML file and changing its content
You can select the HTML body (or any other tag) using JS and set it to blank, then adding the html inside it</p>
","2024-04-18 21:31:58","0","Answer"
"78350389","","C++ strcpy() function changes string being copied from","<p>If I say:</p>
<pre><code>char g1[13] = &quot;hello in c++ no&quot;; 
char g2[13];
strcpy(g2, g1);
</code></pre>
<p><code>strcpy()</code> copies <code>g1</code> into <code>g2</code>, and that's the normal output. But, if I change <code>g2</code> to a smaller size like <code>g2[7]</code>, it changes <code>g1</code>.
Why does <code>g1</code> change, even though it must change only <code>g2</code>?</p>
","2024-04-18 21:21:33","1","Question"
"78350359","78350299","","<p>I suppose this is a fake authentication.
In that case you can just LocalStorage or SessionStorage Api.
This is obviusly not a secure method and not intended for production code.</p>
<p>When redirecting to index.html, your page reloads, causing the JavaScript thread to restart, resulting in the loss of all variables.
I also sudjest to wrap your code as follow</p>
<p><code>document.addEventListener(&quot;DOMContentLoaded&quot;, (event) =&gt; { /** your code here **/ });</code></p>
","2024-04-18 21:14:48","1","Answer"
"78350351","78350299","","<p>Use <strong>session storage</strong> to save the user this will allow you to save the value temporarily (it does not delete itself) and use it without it being deleted when the page is restarted.</p>
<pre><code>sessionStorage.setItem(&quot;name&quot;,loginForm.name.value);
</code></pre>
<p>and to access the value:</p>
<pre><code>const name = sessionStorage.getItem(&quot;name&quot;);
</code></pre>
<p>delete the value:</p>
<pre><code>sessionStorage.removeItem(&quot;name&quot;);
</code></pre>
<p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage"" rel=""nofollow noreferrer"">More info about sessionStorage</a></p>
","2024-04-18 21:13:47","2","Answer"
"78350299","","Open a new HTML page in a JS function and then write some HTML on it when the previous html is a login page","<p>hi im trying to make a login page that after you push the button it goes to the index. I did that but now i want to change part of the html to say welcome back ( and the name of the username)</p>
<p>i've wrote this so far but i dont know how to save the username so i can use it again in the next page.</p>
<p>this is the html:</p>
<pre><code>&lt;form id=&quot;login-form&quot;&gt;
&lt;!--Error Message--&gt;
        &lt;div id=&quot;login-error-msg-holder&quot;&gt;
      &lt;p id=&quot;login-error-msg&quot;&gt;Invalid username &lt;span id=&quot;error-msg-second-line&quot;&gt;and/or password&lt;/span&gt;&lt;/p&gt;
    &lt;/div&gt;

&lt;!--Form--&gt;
    &lt;div class=&quot;form-floating&quot;&gt;
      &lt;input type=&quot;name&quot; class=&quot;form-control name &quot; name=&quot;name&quot; id=&quot;floatingInput&quot; id=&quot;name-field&quot; placeholder=&quot;user123&quot;&gt;
      &lt;label for=&quot;floatingInput&quot;&gt;Username&lt;/label&gt;
    &lt;/div&gt;
    &lt;div class=&quot;form-floating&quot;&gt;
      &lt;input type=&quot;password&quot; id=&quot;password-field&quot; class=&quot;form-control&quot; id=&quot;floatingPassword&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;
      &lt;label for=&quot;floatingPassword&quot;&gt;Password&lt;/label&gt;
    &lt;/div&gt;

    &lt;div class=&quot;form-check text-start my-3&quot;&gt;
      &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; value=&quot;remember-me&quot; id=&quot;flexCheckDefault&quot;&gt;
      &lt;label class=&quot;form-check-label&quot; for=&quot;flexCheckDefault&quot;&gt;
        Remember me
      &lt;/label&gt;
    &lt;/div&gt;
    &lt;button class=&quot;btn w-100 py-2&quot; id=&quot;login-form-submit&quot; value=&quot;Login&quot; type=&quot;submit&quot;&gt;Sign in&lt;/button&gt;
    &lt;p class=&quot;mt-5 mb-3 text-body-secondary&quot;&gt;&amp;copy; 2017–2024&lt;/p&gt;
  &lt;/form&gt;
&lt;/main&gt;
</code></pre>
<p>And this is the js:</p>
<pre><code>window.onload=loginButton.addEventListener(&quot;click&quot;,(e) =&gt; {
    e.preventDefault();
    const name = loginForm.name.value;
    const password = loginForm.password.value;

    if (name === &quot;user123&quot; &amp;&amp; password === &quot;1&quot;) {
        window.location.href = 'index.html';

    } else {
        loginErrorMsg.style.opacity = 1;
    }
})

function message(){

        if (window.history='Login.html' ) {
        document.getElementById('navlogin').innerHTML='Welcome back'+ name + '!';
        }
        
        else{
            document.getElementById('navlogin').innerHTML='';
        }
}
</code></pre>
<p>i tried using the console.log but i cant save it for a little time so i can use it later.</p>
<p>any ideas?</p>
","2024-04-18 21:00:13","0","Question"
"78350206","78350025","","<p>You would have to refer to the <code>global</code> variables inside the functions, in order to mutate them:</p>
<pre class=""lang-py prettyprint-override""><code># Globals
foot = 0
inch = 0
foot_to_meter = 0
foot_to_centimeter = 0
inch_to_meter = 0
inch_to_centimeter = 0

def read():
    global foot, inch
    foot = int(input(&quot;Foot?&quot;))
    inch = int(input(&quot;Inch?&quot;))

def calculate():
    global foot, inch, foot_to_meter, foot_to_centimeter, inch_to_meter, inch_to_centimeter
    foot_to_meter = 0.3048 * foot
    foot_to_centimeter = 155 * foot_to_meter
    inch_to_meter = (1.5 / 12) * 5.4530 * inch
    inch_to_centimeter = 155 * inch_to_meter

def write():
    print(&quot;The&quot;, foot, &quot;foot is&quot;, foot_to_meter, &quot;meters&quot;)
    print(&quot;The&quot;, foot, &quot;foot is&quot;, foot_to_centimeter, &quot;centimeters&quot;)
    print(&quot;The&quot;, inch, &quot;inch is&quot;, inch_to_meter, &quot;meters&quot;)
    print(&quot;The&quot;, inch, &quot;inch is&quot;, inch_to_centimeter, &quot;centimeters&quot;)

if __name__ == &quot;__main__&quot;:
    read()
    calculate()
    write()
</code></pre>
<p>A better way to write this would to return the inputs from the previous function and pass them into the <code>write()</code> function and compute the values inside of a formatted f-string:</p>
<pre class=""lang-py prettyprint-override""><code>def inches_to_meters(inches):
    return inches * 2.54e-2

def inches_to_centimeters(inches):
    return inches_to_meters(inches) * 100

def feet_to_meters(feet):
    return inches_to_meters(feet * 12)

def feet_to_centimeters(feet):
    return inches_to_centimeters(feet * 12)

def read():
    feet = int(input(&quot;Feet?&quot;))
    inches = int(input(&quot;Inches?&quot;))
    return (feet, inches)

def write(feet, inches):
    print(f&quot;{feet} feet =&gt; {feet_to_meters(feet):.4f} meters&quot;)
    print(f&quot;{feet} feet =&gt; {feet_to_centimeters(feet):.4f} centimeters&quot;)
    print(f&quot;{inches} inches =&gt; {inches_to_meters(inches):.4f} meters&quot;)
    print(f&quot;{inches} inches =&gt; {inches_to_centimeters(inches):.4f} centimeters&quot;)

if __name__ == &quot;__main__&quot;:
    feet, inches = read()
    write(feet, inches)
</code></pre>
","2024-04-18 20:34:28","2","Answer"
"78350161","78350025","","<p>FYI: my terminology is not great since I don't use them often (I am new).</p>
<p>The scope of your variable <code>Foot</code> and <code>Inch</code> is only inside the function <code>read</code>. (So to speak local variables).</p>
<p>This means that other functions can not access those variables and do the mathematic operations needed.</p>
<p>What you need to do is to <code>return</code> those variables to the main program and then flow them into your other functions.</p>
<p>Variables that are declared in the main program and not sub-procedure (functions etc) are called global variables by the way.</p>
<p>So an example is this:</p>
<pre><code>def myFunction():
    variable1 = &quot;Hello World&quot;
    return variable1

def printFunction(formalParameter):
    print(formalParameter)

mainVariable = myFunction
printFunction(mainVariable)
</code></pre>
<p>now the <code>formalParameter</code> is a placeholder, or called formal parameter. What you actually flow in (this case <code>mainVariable</code>) is called the actual parameter.
(Correction if I am wrong thank you!)</p>
<p>Be very careful with the order you declare them.</p>
<p>If you mix up the order, the program will not work!</p>
<p>For example</p>
<pre><code>def function(a,b):
    #the rest of the code

function(b, a)
</code></pre>
<p>This will cause you errors. So again, be careful.</p>
<p>Also there is a nice guide on this by geeks for geeks.</p>
<p><a href=""https://www.geeksforgeeks.org/python-scope-of-variables/"" rel=""nofollow noreferrer"">Python Scope of Variables</a></p>
","2024-04-18 20:23:14","0","Answer"
"78350113","78350025","","<p>You're looking for the keyword <code>return</code> and also the general feature of giving arguments to functions, which will allow them to be &quot;called&quot; with that named argument and then use it by that name within them!</p>
<p>For example</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; def test1(arg):     # function accepts one argument named arg
...     return arg + 3  # named here, the result of which is returned
... 
&gt;&gt;&gt; test1(2)            # call the function and pass an argument to it
5
</code></pre>
","2024-04-18 20:11:58","0","Answer"
"78350025","","how can i use input values in another method?","<p>I put inputs in <code>read():</code> function below, but other functions like <code>calculate():</code> and <code>write():</code> can not define the inputs.
anyone can help me please?</p>
<pre><code>def read (): 
    foot = int(input(&quot;Foot?&quot;)) 
    inch = int(input(&quot;Inch?&quot;)) 
def calculate (): 
    foot_to_meter = 0.3048 * foot 
    foot_to_centimeter = 155 * foot_to_meter 
    inch_to_meter = (1.5 / 12)*5.4530* inch 
    inch_to_centimeter = 155 * inch_to_meter 
def write(): 
    print (&quot;The &quot;, foot, &quot; foot is &quot;, foot_to_meter, &quot; meter&quot; ) 
    print(&quot;The &quot;, foot, &quot; foot is &quot;, foot_to_centimeter, &quot; centiMeter&quot;) 
    print(&quot;The &quot;, inch, &quot; inch is &quot;, inch_to_meter ,&quot; meter&quot;) 
    print (&quot;The &quot;, inch, &quot; inch is &quot;,inch_to_centimeter, &quot; centiMeter&quot;) 
def main(): 
    read () 
    calculate () 
    write()
main()
</code></pre>
<p>My input parameters can not be defined in <em>calculate():</em> and <em>write():</em> functions.</p>
","2024-04-18 19:51:50","0","Question"
"78349052","78348976","","<p>At no point in your code do you break off recursive calls based on whether the elements are in the cache. There needs to be a check along the lines of &quot;if we've already computed this <code>n</code>, return it without recursing&quot;:</p>
<pre class=""lang-py prettyprint-override""><code>cache_mem = {}

def fib(n):
    if n &lt;= 1:
        return n
    elif n in cache_mem:
        return cache_mem[n]

    cache_mem[n] = fib(n - 1) + fib(n - 2)
    return cache_mem[n]


print(fib(933))
</code></pre>
<p>Notice how the logic works based on <code>n</code>, not <code>n - 1</code> and <code>n - 2</code>. Let the recursive calls handle those cases. It's a common antipattern in recursion to worry about child calls in the parent frame.</p>
<p>Better yet, use the <code>@functools.cache</code> decorator to avoid having to explicitly memoize, or avoid recursion, which is a poor solution to this problem (it can't handle values of <code>n</code> larger than ~1k in CPython even with caching, adds overhead and uses a good deal of memory).</p>
","2024-04-18 16:36:02","1","Answer"
"78349050","78348976","","<p>The arguments to a function are all evaluated <em>before</em> calling the function. So when you write</p>
<pre><code>cache_mem.get(n-1, fib(n-1))
</code></pre>
<p>it first has to execute <code>fib(n-1)</code> before calling <code>cache_mem.get()</code>. So the cache never prevents making the call.</p>
<p>Replace that with an explicit condition:</p>
<pre><code>if n-1 not in cache_mem:
    cache_mem[n-1] = fib(n-1)
</code></pre>
<p>BTW, Python has a <a href=""https://docs.python.org/3/library/functools.html#functools.cache"" rel=""nofollow noreferrer""><code>functools.cache</code></a> decorator to add automatic caching to a function.</p>
","2024-04-18 16:35:31","1","Answer"
"78349045","78348976","","<p>In the get method, python evaluates the fib function first and then calls the get method with the result of the fib call. Instead of using default value method, first check if key exists, if true return from dict else evaluate recursive call</p>
","2024-04-18 16:34:37","0","Answer"
"78348976","","Why does the following recursive function not use the values in the cache to return the values?","<p>I have created a python function to calculate the n-th fibonacci term. To increase the efficiency, I have used a cache_mem dict to store the variable. When I debugged the function, it is going through all function calls instead of using the stored variables of the cache. Why s this happening ?</p>
<pre><code>cache_mem = {}

def fib(n):
    if n &lt;= 1:
        return n
    else:
        cache_mem[n-1] = cache_mem.get(n-1, fib(n-1))
        cache_mem[n-2] = cache_mem.get(n-2, fib(n-2))

        return cache_mem[n-1] + cache_mem[n-2]
</code></pre>
<p>I expect the cache_mem dict to store the values of the results, and use them instead of calling the function. Based on my understanding, the line</p>
<pre><code>cache_mem[n-1] = cache_mem.get(n-1, fib(n-1))
</code></pre>
<p>will check for the value for n-1 in the dict. If it  exists, it will return the value, else it will calculate the values.</p>
","2024-04-18 16:22:17","-1","Question"
"78346068","78345841","","<p>Since you are using Godot 4, File no longer exists. You have to use <a href=""https://docs.godotengine.org/en/stable/classes/class_fileaccess.html#class-fileaccess"" rel=""nofollow noreferrer"">FileAccess</a> instead:</p>
<p>Not sure if there was a parse_json function in godot before, but in Godot 4 it's definitely <code>JSON.parse_string()</code></p>
<pre><code>func read_json_file(path):
    var file = FileAccess.open(path,FileAccess.READ)
    var str_content = file.get_as_text()
    file.close()
    var json_content = JSON.parse_string(str_content)
    return json_content 
</code></pre>
<p>This should read any JSON File. If this does not work, which error do you receive?</p>
<p>You declare your variable as an array so I assume your json file looks something like this:</p>
<pre><code>[
    { &quot;test&quot; : &quot;object&quot;}
]
</code></pre>
<p>If it's not starting with an array this could be a problem. Otherwise, check the file for syntax errors.</p>
<p>Also, if the opening of the file failes <code>open</code> returns <code>null</code> , you can use <code>get_open_error</code> to check the error that occurred.</p>
","2024-04-18 08:44:49","1","Answer"
"78345841","","Problem with Read_Json_file function in godot 4.2 for quiz game","<p>I'm making a Quiz game, and I'm following LightDevs' &quot;How to Create a Simple Quiz Game With Godot &quot; Tutorial. I'm trying to recreate the function read json file he showed but it keeps getting these 2 errors:</p>
<blockquote>
<p>Line 19:Identifier &quot;File&quot; not declared in the current scope.</p>
</blockquote>
<blockquote>
<p>Line 22:Function &quot;parse_json()&quot; not found in base self.</p>
</blockquote>
<p>I'll attach a screenshot of my code below, feel free to change any other thing you feel suitable:</p>
<p>[<a href=""https://i.sstatic.net/JKziH.png"" rel=""nofollow noreferrer"">enter image description here</a>]<a href=""https://i.sstatic.net/JKziH.png"" rel=""nofollow noreferrer"">1</a></p>
<p>I tried using the file_acess way and change parse_json to JSON.parse(text) but it still won't work. I'm working with Godot for 8 or 9 months, but I've never used these type of stuff. Maybe I used the file_acess wrong?</p>
","2024-04-18 08:07:50","0","Question"
"78344119","78343958","","<p>Excel sees date and time differently to a person.</p>
<p>From <a href=""https://support.microsoft.com/en-gb/office/date-function-e36c0c8c-4104-49da-ab83-82328b832349"" rel=""nofollow noreferrer"">Microsoft DATE function help page</a>:</p>
<blockquote>
<p>Excel stores dates as sequential serial numbers so that they can be used in calculations. January 1, 1900 is serial number 1, and January 1, 2008 is serial number 39448 because it is 39,447 days after January 1, 1900.</p>
</blockquote>
<p>So day 1 is 1/1/1900 00:00:00.</p>
<p>Day 1000 is 29/09/1902 00:00:00.</p>
<p>Day 44000 is 18/06/2020 00:00:00.</p>
<p>Day 44359 is 12/06/2021 00:00:00.</p>
<p>The decimals are parts of a day within the day of 12/06/2021.
Day 44359.5 is 12/06/2021 12:00:00.</p>
<p>If you enter the values above and set the cell to a custom date format of <code>dd/mm/yyyy hh:mm:ss</code> you'll see the output described above.</p>
<p><a href=""https://i.sstatic.net/ao0YV.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ao0YV.png"" alt=""image showing day N since 1/1/1900 and corresponding date values"" /></a></p>
<p>So <code>12/06/2021 10:23:11</code> according to Excel is 44359.4327662037, and the length of that value is 16.</p>
<p><strong>To get the length of the date and time value if treated as a string</strong></p>
<p>Convert the value to a text format, and then get the length of that.
e.g. if cell A1 is 12/06/2021 10:23:11, use the following formula:</p>
<p><code>=LEN(TEXT(A1,&quot;dd/mm/yyyy hh:mm:ss&quot;))</code>. This returns 19.</p>
","2024-04-17 23:19:38","2","Answer"
"78344046","78343958","","<p>When cell value is a date it's stored in a different way (as number of days starting from 01.01.1900).</p>
<p>So, <code>12/06/2021 10:23:11</code> = <code>44359.4327662037</code>. That's the value <code>LEN</code> tries to process in your case.</p>
<p>Just convert date to text using <code>TEXT(A1, &quot;dd/mm/yyyy hh:mm:ss&quot;)</code> and then use <code>LEN</code>.</p>
<p>If you use <code>TEXT</code> first, it'll work the way you want.</p>
","2024-04-17 22:48:35","3","Answer"
"78343958","","Why is the LEN function outputting the wrong amount of amount characters in my cell?","<p>Why is the LEN function outputting the wrong amount of amount characters in my cell? I am trying to find the number of characters in the date time formatted cell: ex. 12/06/2021 10:23:11. -  I am getting 15 characters which doesn't make sense in this context.</p>
<p>I was expecting 19 characters.</p>
","2024-04-17 22:07:34","0","Question"
"78343526","78342802","","<p>A few thoughts:</p>
<ol>
<li>I would navigate this comment by changing to an all SV design:</li>
</ol>
<blockquote>
<p>it's not possible to import SystemVerilog classes in old Verilog modules.</p>
</blockquote>
<p>Compile the legacy Verilog files (.v) as SystemVerilog (.sv) by simply changing the file extensions.  Verilog is 100% forward compatible into SystemVerilog.</p>
<p>Now you have a SystemVerilog design and you are able to use the static function in a virtual class and the parameterized function behavior is available.</p>
<hr />
<ol start=""2"">
<li>Check the support of whatever synthesis tool you are using for support of ' Static function inside a virtual class'.   I know its supported in recent versions of Vivado <a href=""https://docs.amd.com/v/u/2018.3-English/ug901-vivado-synthesis"" rel=""nofollow noreferrer"">ug901-vivado-synthesis guide</a>.</li>
</ol>
<p>I am only aware of Xilinx, but would expect Altera to also support because they are competitors and try to leap-frog each other for features/performance etc.  Other vendors may lag in SV support.  Some vendors provide Synplicity licenses others have their own tool; they may not provide a full-featured Synplicity license when doing this; Synopsys likes revenue also.  You will need to research this.</p>
<hr />
<ol start=""3"">
<li>Maybe dry-run a small design with a couple of simple functions, then examine the post synthesis schematic to see that it works as expected to gain confidence and buy-in to the approach.</li>
</ol>
","2024-04-17 20:01:33","1","Answer"
"78343187","78342962","","<p>Your main error is that you divide by 8400.</p>
<p>The ticks are measured in ms (milliseconds). So to get the number of days, you need to divide by 24 * 60 * 60 * 1000 (hours, minutes, seconds, milliseconds).</p>
<p>That would give 2.388 days in your case.</p>
<p>To get the number of days, hours, minutes and seconds, you just need some math. The logic is to calculate the full number of days, subtract the number of ticks used by that from the original number of ticks. Now do the same for hours (but divide only by (60 * 60 * 1000) and so on.</p>
<p>The following code does that with the help of a small function - note that the first parameter (<code>ticks</code>) is passed <code>ByRef</code> and modified in that function. Also note that I used <code>24&amp;</code> to force VBA to use a long value, else <code>24 * 60 * 60</code> will throw an overflow error.</p>
<pre><code>Sub test()
    Dim ticks  As Long
    ticks = GetTickCount()
    ' Just to test OP value:
    ticks = 206329937

    Dim days As Long, hours As Long, minutes As Long, seconds As Long
    days = getTimepart(ticks, 24&amp; * 60 * 60)
    hours = getTimepart(ticks, 60 * 60)
    minutes = getTimepart(ticks, 60)
    seconds = getTimepart(ticks, 1)
    Debug.Print days, hours, minutes, seconds
End Sub

Function getTimepart(ByRef ticks As Long, divisor As Long) As Long
    divisor = divisor * 1000
    getTimepart = Int(ticks / divisor)
    ticks = ticks - (getTimepart * divisor)
End Function
</code></pre>
<p>In your case, this prints</p>
<pre><code> 2             9             18            49 
</code></pre>
","2024-04-17 18:39:58","6","Answer"
"78343077","78342962","","<p>From <a href=""https://www.devhut.net/vba-computer-uptime/"" rel=""nofollow noreferrer"">https://www.devhut.net/vba-computer-uptime/</a> :</p>
<pre><code>Sub test()
    Debug.Print GetPCUptime()
End Sub

Function GetPCUptime() As String
    Dim oOSs As Object, oOS As Object
    Set oOSs = GetObject(&quot;winmgmts:\\.\root\cimv2&quot;).ExecQuery( _
                 &quot;SELECT SystemUpTime FROM Win32_PerfFormattedData_PerfOS_System&quot;)
    For Each oOS In oOSs
        GetPCUptime = SecsToDHMS(oOS.SystemUpTime)
        Exit For 'only need the one...
    Next
End Function

'Format period in seconds to DD:HH:MM:SS
Function SecsToDHMS(ByVal v As Long) As String
    Dim arr, el, s As String
    arr = Array(86400, 3600, 60, 1)
    For Each el In arr
        s = s &amp; IIf(Len(s) &gt; 0, &quot;:&quot;, &quot;&quot;) &amp; Format(v \ el, &quot;00&quot;)
        v = v Mod el        
    Next el
    SecsToDHMS = s
End Function
</code></pre>
","2024-04-17 18:19:27","4","Answer"
"78342962","","Get System Up Time in VBA excel","<p>I need to obtain the system uptime in excel vba, this is available on the Task Manager as such:
<a href=""https://i.sstatic.net/Jx3jA.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Jx3jA.png"" alt=""TASK MANAGER"" /></a></p>
<p>I found the below online from 7 years ago:</p>
<pre><code>Public Declare PtrSafe Function GetTickCount Lib &quot;kernel32&quot; () As Long

Sub test()
Debug.Print GetTickCount()
End Sub
</code></pre>
<p>this outputs : 206329937</p>
<p>if i devide this by 8400 i get 15 days when it should be 2 days 9 hours etc.</p>
<p>Not sure whats going wrong.
Also read online that I should use an IF formula to declare if its 64 bit or 32 bit but im also not sure how to do this?</p>
<p>Any advice would be great thank you.</p>
<p><strong>UPDATE:</strong>
Turns out the first 6 numbers : 206329 will convert to the right time. I have no idea what the remaining numbers mean does anyone know?</p>
<pre><code>Dim NewTime
NewTime = (Left(GetTickCount(), 6)) / 86400

Debug.Print NewTime
</code></pre>
<p>I tried to convert the time to dd:hh:mm:ss format and it only works when its formatted on the worksheet as a custom cell format.</p>
<p>Very weird no idea again why this is the case but this is the result i get when using :</p>
<pre><code>Debug.Print Format(NewTime, &quot;DD:MM:HH:SS&quot;)
</code></pre>
<p>01:01:09:27</p>
<p>very confusing !</p>
","2024-04-17 17:55:01","0","Question"
"78342802","","Parameterizable/generic Verilog functions","<p>I need to port a large (synthesizable) VHDL-93 code library to Verilog-2005.</p>
<p>I'm very familiar with VHDL, but new to Verilog.</p>
<p>Many things map clearly between the two languages, but I'm completely stuck with functions. In particular, I have many dozens of VHDL functions <strong>which operate on vectors of arbitrary length</strong> and I can't find a way to do the same thing in Verilog.</p>
<p>For the sake of an example, imagine a VHDL function that reverses the bits in a vector, like <a href=""https://stackoverflow.com/a/13584918/4220282"">this</a>:</p>
<pre class=""lang-vhdl prettyprint-override""><code>function reverse(a : in std_logic_vector) return std_logic_vector is
  variable result : std_logic_vector(a'RANGE);
  alias aa : std_logic_vector(a'REVERSE_RANGE) is a;
begin
  for i in aa'RANGE loop
    result(i) := aa(i);
  end loop;
  return result;
end;
</code></pre>
<p>It seems like <strong>System</strong>Verilog can perhaps achieve something similar using either a <a href=""https://stackoverflow.com/a/22711967/4220282"">static function inside a virtual class</a> or with scary-looking <a href=""https://stackoverflow.com/a/35724444/4220282"">pre-processor macros</a>. But I haven't been able to find anything for Verilog-2005.</p>
<p>As far as I understand, Verilog functions do not support parameters (like Verilog modules do) and they don't support unbounded vectors. So, how would a Verilog user approach this problem? Would they instantiate a different (parameterized) module for each function call? Or is there a better way?</p>
<p>I did search the specific example of bit-reversal, but <a href=""https://www.reddit.com/r/FPGA/comments/flcfdo/verilog_reversing_bit_order_from_a_register_to_an/"" rel=""nofollow noreferrer"">every</a> ... <a href=""https://comp.lang.verilog.narkive.com/aRAkvV2K/what-s-the-easiest-way-to-bit-wisely-reverse-a-vector"" rel=""nofollow noreferrer"">single</a> ... <a href=""https://stackoverflow.com/questions/28109459/how-to-dynamically-reverse-the-bit-position-in-verilog"">answer</a> I found suggested some variation of an <strong>inline</strong> <code>generate for</code> loop (or had <a href=""https://electronics.stackexchange.com/a/191125/220993"">hard-coded bit-widths</a>). My functions are called hundreds of times in the code library, so I certainly don't want to replace every clean function call with a blob of messy code.</p>
<hr />
<h2>Minimal Verilog example</h2>
<p>My best attempt was this <code>reverse</code> function inside a <code>reverser</code> module. This at least is parameterizable via the module parameter <code>WIDTH</code>. But I don't think I really want a module... I just want the function.</p>
<pre><code>module reverser
#(
    parameter WIDTH = 5
)
(
    input wire [WIDTH-1:0] x,
    output wire [WIDTH-1:0] y
);

    function [WIDTH-1:0] reverse(
        input [WIDTH-1:0] data
    );
    integer i;
    begin
        for (i=0; i &lt; WIDTH; i=i+1) begin
            reverse[WIDTH-1-i] = data[i];
        end
    end
    endfunction

    assign y = reverse(x);
endmodule
</code></pre>
","2024-04-17 17:25:04","1","Question"
"78342197","78341660","","<p>I believe the reason your code fails on &quot;October/9/1701&quot; is that it throws an exception rather than re-prompting the user. The &quot;/&quot; delimiter flags the code to process the month as an <code>int()</code> and <code>int(&quot;October&quot;)</code> throws a <code>ValueError</code>.</p>
<p>Note that there are a bunch of other things that can throw <code>ValueError</code> as well, so you might want to just have any validation failure throw it.</p>
<p>I might try:</p>
<pre class=""lang-py prettyprint-override""><code>def try_parse_date(date_string):
    valid_month_names = [&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;]

    ## -------------------
    ## Try to pick out the year, month, and day
    ## -------------------
    if &quot;/&quot; in date_string:
        month, day, year = date_string.split(&quot;/&quot;)
    else:
        month, day, year = date_string.split(&quot; &quot;)
        month = valid_month_names.index(month) + 1
        day = day.strip(&quot;,&quot;)
    ## -------------------

    ## -------------------
    ## Do some validation
    ## -------------------
    year = int(year)
    month = int(month)
    day = int(day)

    if year &lt; 1:  # https://en.wikipedia.org/wiki/Anno_Domini
        raise ValueError

    if not (0 &lt; month &lt; 13):
        raise ValueError

    if not (0 &lt; day &lt; 32):
        raise ValueError
    ## -------------------

    return f&quot;{year:&gt;04}-{month:&gt;02}-{day:&gt;02}&quot;

def prompt_for_date_until_valid():
    while True:
        user_date_string = input(&quot;Date: &quot;)
        try:
            return try_parse_date(user_date_string)
        except ValueError:
            pass

iso_date = prompt_for_date_until_valid()
print(iso_date)
</code></pre>
<p><strong>Note: Using <a href=""https://cs50.dev/"" rel=""nofollow noreferrer"">cs50.dev</a> is a huge security issue for anyone who has not created a throwaway account for the class as it requires access to <strong>private</strong> Github repositories.</strong></p>
","2024-04-17 15:36:23","0","Answer"
"78342047","78337926","","<p>Your questions is lacking a reproducible example and it's lacking clarity. But if I understand correctly you want to filter your data frame by <code>Tenure category</code> and then calculate the correlation between <code>Proud</code> and <code>Respect</code>. Is that it? Also, I'm assuming you want to keep the results of each correlation while keeping the link to the <code>Tenure category</code>.</p>
<p>Below an example for the for loop solution. The only problem with your version is the way you filter the <code>Tenure_Category</code>, so I tried to keep it as similar to yours as possible</p>
<pre><code>library(dplyr)
library(tidyverse)

# Creating a reproducible example
tenure_category &lt;- c('0-1 Yr', '1-2 Yr', '2-5 Yr', '5-10 Yr', '10-15 Yr', '15-20 Yr', '20+ Yr')

tenure_category &lt;- sample(tenure_category, 100, replace = TRUE) # creates a vector with 100 observations of strings in tenure category

proud &lt;- runif(100, min=0, max=100)

respect &lt;- runif(100, min=0, max=100)

test_survey &lt;- data.frame(Tenure_Category = tenure_category, Proud = proud, Respect = respect)

names &lt;- unique((tenure_category))

cor_l &lt;- list() # list object to keep the resulting correlations
for (i in 1:length(names)){
  tmp &lt;- df %&gt;%
    filter(Tenure_Category == names[i]) %&gt;% 
    select(Proud, Respect) %&gt;%
    drop_na
  
  cor_l[[i]] &lt;- cor(tmp)
  
  # Adding name to each list oject, so that you keep track of Tenure_Category
  names(cor_l)[i] &lt;- names[i]
}

print(cor_l[1:2])
    
    print(cor_l[1:2])
    
    # $`15-20 Yr`
    # Proud   Respect
    # Proud   1.0000000 0.1439552
    # Respect 0.1439552 1.0000000
    # 
    # $`10-15 Yr`
    # Proud      Respect
    # Proud    1.000000000 -0.004051884
    # Respect -0.004051884  1.000000000
</code></pre>
","2024-04-17 15:12:09","0","Answer"
"78341660","","CS50 Python Week3 pset question ""Outdated"" - How to reject input instead of reprompt","<p>I was doing the week3 pset question from CS50 when I ran into this problem. The whole question is as follow:</p>
<blockquote>
<p>In the United States, dates are typically formatted in month-day-year
order (MM/DD/YYYY), otherwise known as middle-endian order, which is
arguably bad design. Dates in that format can’t be easily sorted
because the date’s year comes last instead of first. Try sorting, for
instance, 2/2/1800, 3/3/1900, and 1/1/2000 chronologically in any
program (e.g., a spreadsheet). Dates in that format are also
ambiguous. Harvard was founded on September 8, 1636, but 9/8/1636
could also be interpreted as August 9, 1636!</p>
<p>Fortunately, computers tend to use ISO 8601, an international standard
that prescribes that dates should be formatted in year-month-day
(YYYY-MM-DD) order, no matter the country, formatting years with four
digits, months with two digits, and days with two digits, “padding”
each with leading zeroes as needed.</p>
<p>In a file called outdated.py, implement a program that prompts the
user for a date, anno Domini, in month-day-year order, formatted like
9/8/1636 or September 8, 1636, wherein the month in the latter might
be any of the values in the list below:</p>
<p>[
&quot;January&quot;,
&quot;February&quot;,
&quot;March&quot;,
&quot;April&quot;,
&quot;May&quot;,
&quot;June&quot;,
&quot;July&quot;,
&quot;August&quot;,
&quot;September&quot;,
&quot;October&quot;,
&quot;November&quot;,
&quot;December&quot; ]</p>
<p>Then output that same date in YYYY-MM-DD format. If the user’s input is not a valid date in either format, prompt the user
again. Assume that every month has no more than 31 days; no need to
validate whether a month has 28, 29, 30, or 31 days.</p>
</blockquote>
<p>I wrote my code and when I ran the check50 to check my answer, some inputs failed shown in this image
<a href=""https://i.sstatic.net/IBijb.png"" rel=""nofollow noreferrer"">enter image description here</a>
Apparently, my code should <strong>reprompt</strong> if date or month is out of range, but needs to <strong>reject</strong> if the whole format is wrong.</p>
<pre><code>mth = [
    &quot;January&quot;,
    &quot;February&quot;,
    &quot;March&quot;,
    &quot;April&quot;,
    &quot;May&quot;,
    &quot;June&quot;,
    &quot;July&quot;,
    &quot;August&quot;,
    &quot;September&quot;,
    &quot;October&quot;,
    &quot;November&quot;,
    &quot;December&quot;
]

def check(d):

    if &quot;/&quot; in d:
        numeric(d)
    else:
        words(d)

def numeric(d):
    
    list = d.split(&quot;/&quot;)
    month = int(list[0])
    day = int(list[1])
    year = int(list[2])

    while True:
        if month &gt; 12 or day &gt; 31:
            date = input(&quot;Date: &quot;)
            check(date)
        else:
            break

    print(f&quot;{year}-{str(month).zfill(2)}-{str(day).zfill(2)}&quot;)

def words(d):

    list = d.split(&quot; &quot;)
    month = list[0]
    day = list[1]
    year = list[2]

    while True:
        if not str(month).title() in mth:
            date = input(&quot;Date: &quot;)
            check(date)
        else:
            index = mth.index(month)
            day = str(day).strip(&quot;,&quot;)
            break

    while True:
        if int(day) &gt; 31:
            date = input(&quot;Date: &quot;)
            check(date)
        else:
            break

    print(f&quot;{year}-{str(index+1).zfill(2)}-{str(day).zfill(2)}&quot;)

date = input(&quot;Date: &quot;)
check(date)
</code></pre>
<p>This is the code I wrote so far, I am assuming I will need to add something like raise exception if d.isalpha() is true in the function numeric(), but I tried and it did not work(maybe I used the wrong way to raise). I will like to know how to resolve this issue and reject the input. Really appreciate it :)</p>
","2024-04-17 14:15:30","-1","Question"
"78341469","78341275","","<p><a href=""https://support.google.com/docs/answer/3098292?hl=en"" rel=""nofollow noreferrer""><code>REGEXMATCH</code></a> doesn't extract, it returns a boolean value. If you want to extract use <a href=""https://support.google.com/docs/answer/3098244?hl=en"" rel=""nofollow noreferrer""><code>REGEXEXTRACT</code></a>.</p>
<pre class=""lang-cpp prettyprint-override""><code>=IFNA(REGEXEXTRACT(M12,&quot;Desktops|Laptops&quot;),&quot;Whatever&quot;)
</code></pre>
<p><a href=""https://i.sstatic.net/q6dAL.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/q6dAL.png"" alt=""enter image description here"" /></a></p>
<p><strong>EDIT: Extract both</strong></p>
<p>To extract both Desktops and Laptops, you can use:</p>
<pre class=""lang-cpp prettyprint-override""><code>=LET(z,SPLIT(REGEXREPLACE(A1,&quot;(Desktops|Laptops)|.&quot;,&quot;$1 &quot;),&quot; &quot;),IF(TRIM(z)=&quot;&quot;,&quot;Whatever&quot;,z))
</code></pre>
<p><a href=""https://i.sstatic.net/9KKTw.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/9KKTw.png"" alt=""enter image description here"" /></a></p>
","2024-04-17 13:48:26","1","Answer"
"78341275","","REGEXMATCH nested inside SWITCH","<p>I have a sheet where column &quot;M&quot; might contain the words &quot;Desktops&quot; or &quot;Laptops&quot;. I expect them to be written exactly like that.</p>
<p>If this is the case I want to extract either of these words in the corresponding cell of column &quot;N&quot;.</p>
<p>What I came up with is:</p>
<pre><code>=SWITCH(M12,REGEXMATCH(M12,&quot;Desktops&quot;),&quot;Desktops&quot;,REGEXMATCH(M12,&quot;Laptops&quot;),&quot;Laptops&quot;,&quot;Whatever&quot;)
</code></pre>
<p>This is supposedly in compliance with the syntax of both REGEXMATCH and SWITCH.</p>
<p>Regrettably it doesn't work and always returns &quot;Whatever&quot;.</p>
","2024-04-17 13:18:21","0","Question"
"78341043","78340372","","<p>If you want to keep track of the intermediate values, append the results to a list and keep using the last value as the <code>wf</code> argument value for the next iteration:</p>
<pre><code>wf_list = [ get_wf_0(xmin, xmax, Nx, neigs, t=0) ]

pi = 3.14159
t = 0.05

while t &lt; pi:
  wf_list.append(get_wf(xmin, xmax, Nx, neigs, t=t , wf=wf_list[-1]))
  t += 0.05
</code></pre>
<p><code>wf_list[n]</code> now contains the value of each <code>wf_n</code></p>
","2024-04-17 12:38:40","1","Answer"
"78340517","78340372","","<p>Basically this can be done like this:</p>
<pre><code>wf = get_wf_0(xmin, xmax, Nx, neigs, t=0)

for s in range(1, int(math.pi // 0.05)):
    wf = get_wf(xmin, xmax, Nx, neigs, t=0.05 * s, wf=wf)
</code></pre>
","2024-04-17 11:07:59","3","Answer"
"78340372","","Iterate over a parameter of the function","<p>I have this code that i want to compute for 0 &lt; t &lt; pi with 0.05 step, but each new function is a function of the previous one, and I can't really think of an easy way to iterate over it, any tips?</p>
<pre><code>wf_0 = get_wf_0(xmin, xmax, Nx, neigs, t=0) #Ignore this since it's another function
wf_1 = get_wf(xmin, xmax, Nx, neigs, t=0.05 , wf = wf_0)
wf_2 = get_wf(xmin, xmax, Nx, neigs, t=0.1 , wf = wf_1)
wf_3 = get_wf(xmin, xmax, Nx, neigs, t=0.15 , wf = wf_2)
</code></pre>
<p>and so on up to t = pi</p>
","2024-04-17 10:44:29","-2","Question"
"78340229","78339752","","<p>You need to put the call to binom.conf in a <code>mutate</code> , and add <code>.groups=&quot;drop&quot;</code> to the summarise function. I also added a data argument to the function. (while also acknowledging moodymudskipper's embrace)</p>
<pre><code>cf = function(data, x, y){
  data %&gt;%
    group_by(Group) %&gt;%
    summarise(median = median({{x}}),
              n = n(),
              YN_n = sum({{y}}),
              YN_perc = YN_n/n*100, .groups=&quot;drop&quot;) %&gt;%
    mutate(CI = binom.confint(YN_n, n, conf.level = 0.95, methods = &quot;exact&quot;))
}
</code></pre>
<hr />
<pre><code>require(binom)

cf(df, Con, YN)

  Group median     n  YN_n YN_perc CI$method    $x    $n $mean $lower $upper
  &lt;chr&gt;  &lt;dbl&gt; &lt;int&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 A       49.4     5     3      60 exact         3     5   0.6  0.147  0.947
2 B       37.0     6     3      50 exact         3     6   0.5  0.118  0.882
</code></pre>
","2024-04-17 10:19:51","3","Answer"
"78339752","","Error in custom function with group_by and summarise in dplyr in r","<p>I try to write a custom function with dplyr::group_by and summarise.</p>
<p>but always error, &quot;row.names&quot; length.</p>
<p>I simplify the data and code, and find the reason. here is the data and code:</p>
<pre><code>set.seed(123)
df = data.frame(
  Group = c(&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;,&quot;B&quot;, &quot;B&quot;),
  Con = runif(11, min = 10, max = 60),
  YN = rbinom(11, 1, 0.5)
)

cf = function(x, y){
  df %&gt;%
  group_by(Group) %&gt;%
  summarise(median = median(x),
            n = n(),
            YN_n = sum(y),
            YN_perc = sum(y)/n()*100,
            CI = binom.confint(sum(y), n(),
                               conf.level = 0.95, methods = &quot;exact&quot;))
}

cf(df$Con, df$YN)
</code></pre>
<p>I found the error is caused by the different length of Group A and B.
If I change Group to 5 A and 5 B, it works.</p>
<p>But my actual data has different values in different groups, how to fix this problem?</p>
","2024-04-17 09:09:47","0","Question"
"78338862","78338720","","<p>You could pass a <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind#partially_applied_functions"" rel=""nofollow noreferrer"">partially applied function</a> using <code>bind()</code>:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function compareThem(a, b, f) {
  return f(a) == f(b);
}

const a = { myarray: [10, 20] };
const b = { myarray: [100, 20] };

let flag = compareThem(a, b, ((index, o) =&gt; o.myarray[index]).bind(null, 1));

console.log(flag)</code></pre>
</div>
</div>
</p>
<hr/>
<p>Another option is to add the extra data as properties on the callback function:</p>
<pre class=""lang-js prettyprint-override""><code>const fn = (o) =&gt; o.myarray[fn.index];
fn.index = 1;

let flag = compareThem(a, b, fn);
</code></pre>
<hr/>
<p>Another option is to use a higher-order function:</p>
<pre class=""lang-js prettyprint-override""><code>const fn = (index) =&gt; (o) =&gt; o.myarray[index];
let flag = compareThem(a, b, fn(1));
</code></pre>
","2024-04-17 06:44:35","2","Answer"
"78338720","","In Javascript, how can I pass a value into a function that is a parameter of another function?","<p>I have a function that works on an array of objects. But sometimes it uses one value from the object and sometimes another, and sometimes it uses a value from the object to look something up in a different object. So no problem, with Javascript I can pass a function as a parameter, and write a function that retries the relevant value.</p>
<p>So forget the array business, let me give a simplified version of the function here that eliminates all the complexity not relevant to my question. Say we just want to compare &quot;some&quot; value from two objects. So I wrote this:</p>
<pre><code>function compareThem(a,b,f) {
  return f(a)==f(b)
}
</code></pre>
<p>So if the objects contain a member called &quot;value1&quot;, I could write:</p>
<pre><code>let flag=compareThem(a,b,(o1) =&gt; o1.value1)
</code></pre>
<p>Or if I want to compare value2, I could write:</p>
<pre><code>let flag=compareThem(a,b,(o1) =&gt; o1.value2)
</code></pre>
<p>Cool. But here's the catch. Sometimes I need data that isn't in the object. Like in one case the object includes an array and I want to examine a particular element in that array. If I knew it was always, say, #7, I could write</p>
<pre><code>let flag=compareThem(a,b,(o1) =&gt; o1.myarray[7])
</code></pre>
<p>But the problem is, the index is in a variable. What I really want to say is</p>
<pre><code>let flag=compareThem(a,b,(o1) =&gt; o1.myarray[x])
</code></pre>
<p>But how do I get the value of x in there? In my first draft I added a parameter for x, but that was a problem because every time I call the function I use different data, and I didn't want to have a whole bunch of parameters each one only applicable to one call.</p>
<p>I eventually figured out that the scope of the call is within the scope of the caller, so I could say</p>
<pre><code>let x=1
let flag=compareThem(a,b,(o1) =&gt; o1.myarray[x])
</code></pre>
<p>and that works. But that seems really ugly -- passing data to a function magically like that. I really want to put it in the function definition somehow. But how do I tell JS that this is a value passed in from the caller, and not a local variable within the function? Is there any way to say that?</p>
","2024-04-17 06:13:19","1","Question"
"78337926","","Function to identify unique values and input in a function in R","<p>This is what part of my function looks like:</p>
<pre><code>function_test &lt;- function(x) {
fa_dataset &lt;- test_survey %&gt;% 
  filter(Tenure_Category == x) %&gt;% 
  dplyr::select(c(Proud:Respect)) %&gt;% 
  drop_na()

cor_mat_tenure &lt;- cor(fa_dataset)

}

function_test(&quot;0-1 Yr&quot;)
function_test(&quot;1-2 Yr&quot;)
function_test(&quot;2-5 Yr&quot;)

</code></pre>
<p>I have a dataset with n columns, one column within my dataset 'test_survey' is 'Tenure_Category'. This column has 7 distinct values: 0-1 Yr, 1-2 Yr, 2-5 Yr, 5-10 Yr, 10-15 Yr, 15-20 Yr, 20+ Yr.</p>
<p>I would like to add to the code. I want the function to identify these distinct values and then input them in the filter statement, one by one. I don't want to specify an argument in the function manually (as I did above).</p>
<p>I am thinking that a for-loop would be a better choice, something like:</p>
<pre><code>for(i in 1:length(unique(test_survey$Tenure_Category))){
   fa_dataset &lt;- test_survey %&gt;% 
   filter(Tenure_Category == test_survey[i]) %&gt;%
   dplyr::select(c(Proud:Respect)) %&gt;% 
   drop_na()

   cor_mat_tenure &lt;- cor(fa_dataset)
 }
</code></pre>
<p>Needless to say, this code does not work.</p>
<p>Any help here would be much appreciated.</p>
<p>Thank you.</p>
","2024-04-17 01:26:55","-1","Question"
"78337279","78336885","","<p>I managed to solve it. The with function creates an environment to iterate over the many datasets contained in the mids object.
I put the model formula inside {} so it could be read in this environment and used as.formula to make it clear that the expression was a formula and it worked.</p>
<pre><code># Analyzing each imputed dataset directly within with()
  m0 &lt;- with(imp_df, {
    lm(as.formula(paste(outcome_var, &quot;~&quot;, exposure_var)))}) %&gt;%
      tbl_regression() %&gt;%
      add_glance_table(include = c(adj.r.squared))
</code></pre>
","2024-04-16 20:56:51","0","Answer"
"78336885","","Errror when writing a function that uses a mids object and gtsummary","<p>I'm conducting linear regression analysis with a variety of exposures and outcomes.
Each analysis has 3 models and uses a imputed dataset created with mice().
I'm trying to create a function in which I can specificy only the outcome and exposure variables, and it gives me the result table with all the models using gtsummary, but I'm getting the error that the outcome variable is not found.
I suspect it has something to do with the way that the function handles mids object, but couldn't find a solution.</p>
<pre class=""lang-r prettyprint-override""><code>library(mice)
#&gt; Warning: package 'mice' was built under R version 4.3.3
#&gt; 
#&gt; Attaching package: 'mice'
#&gt; The following object is masked from 'package:stats':
#&gt; 
#&gt;     filter
#&gt; The following objects are masked from 'package:base':
#&gt; 
#&gt;     cbind, rbind
library(gtsummary)
#&gt; Warning: package 'gtsummary' was built under R version 4.3.3
#&gt; #BlackLivesMatter

mtcars &lt;- mtcars
mtcars[2,&quot;gear&quot;] &lt;- NA
mtcars[6,&quot;vs&quot;] &lt;- NA

imp_mtcars &lt;- mice(mtcars, m = 4, maxit = 1)
#&gt; 
#&gt;  iter imp variable
#&gt;   1   1  vs  gear
#&gt;   1   2  vs  gear
#&gt;   1   3  vs  gear
#&gt;   1   4  vs  gear

generate_models &lt;- function(imp_df, outcome_var, exposure_var) {
  require(mice)
  require(gtsummary)
  
  # Base model with just the exposure
  m0 &lt;- with(imp_df, lm(paste(outcome_var, &quot;~&quot;, exposure_var))) %&gt;% 
    tbl_regression() %&gt;% 
    add_glance_table(include = c(adj.r.squared))
  
  # Adjusted model 1
  m1 &lt;- with(imp_df, lm(paste(outcome_var,&quot;~&quot;, exposure_var, &quot;+ vs&quot;))) %&gt;%
    tbl_regression() %&gt;%
    add_glance_table(include = c(adj.r.squared))
  
  # Adjusted model 2
  m2 &lt;- with(imp_df, lm(paste(outcome_var,&quot;~&quot;, exposure_var, &quot;+ vs + gear&quot;))) %&gt;%
    tbl_regression(include = exposure_var) %&gt;%
    add_glance_table(include = c(adj.r.squared))
  
  # Combine the tables
  tbl_global &lt;- tbl_merge(list(m0, m1, m2),tab_spanner = c(&quot;**Unadjusted**&quot;, &quot;**Model 1**&quot;, &quot;**Model 2**&quot;))
  
  return(tbl_global)
}

generate_models(imp_mtcars, &quot;mpg&quot;, &quot;hp&quot;)
#&gt; Error in eval(predvars, data, env): objeto 'mpg' não encontrado
</code></pre>
<p><sup>Created on 2024-04-16 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
","2024-04-16 19:16:44","0","Question"
"78336768","78336479","","<p>I would do this this way: write a function that creates the desired output array for a given <code>f</code>, <code>t</code> and <code>N</code>, and then use an anonymous function to fill in the existing definitions of <code>f</code> and <code>N</code> so that you have a function only of <code>t</code>.</p>
<pre class=""lang-matlab prettyprint-override""><code>f = …
N = …
F = @(t) farray(f, t, N);

function out = farray (f, t, N)
    out = zeros(N,1);
    out(2:2:end) = f(t);
end
</code></pre>
","2024-04-16 18:50:25","1","Answer"
"78336757","78335897","","<p>This code is a working example.</p>
<pre><code>from tabulate import tabulate
from math import cos

def fixedPoint(xL,error):
    xI=xL
    x0=xI
    
    xI_values=[]
    fxI_values=[]
    calc_error=[]

    while len(xI_values) &lt; 20:

        xI_values.append(xI)

        x0 = xI
        xI=fixedPoint_func(xI)
        absError = abs(xI-x0)
        fxI_values.append(xI)
        calc_error.append(absError)

        # Check for convergence
        if absError &lt;= error:
            break
        
 # Prepare data for tabulation
    table_data5 = []
    for j in range(len(xI_values)):
        iteration_number = j + 1
        table_data5.append([iteration_number, xI_values[j], fxI_values[j], calc_error[j]])

    # Print table
    headers = [&quot;Iteration&quot;, &quot;Xi&quot;, &quot;g(Xi)&quot;, &quot;Error&quot;]
    print(&quot;Fixed Point Method :&quot;)
    print()
    print(tabulate(table_data5, headers=headers, floatfmt=&quot;.4f&quot;))

    # Print a separator line
    print(&quot;-&quot; * 100)
    print()  # Print an empty line for spacing

    return xI_values[-1]

# Fixed Point Function
def fixedPoint_func(x):
#    return 3/x
    return cos(x)

xL = 1
error = 0.01
# Call the fixedPoint method
last_FxN = fixedPoint(xL,error)
print(last_FxN)
</code></pre>
<p>I've made a few changes</p>
<ol>
<li>Add import statement for tabulate function</li>
<li>Add an import for cos function, I'll explain why below</li>
<li>Move the initilisation of xL and error to near the end, not important</li>
<li>Change the while loop to <code>while len(xI_values) &lt; 20:</code> to ensure it always terminates</li>
<li>Store the current value of xI in x0</li>
<li>Add the line <code>fxI_values.append(xI)</code> to store the result of the function. This is the missing line causing the error</li>
<li>Change the fixed point function to one known to converge</li>
</ol>
<p>The initial error was caused by the line</p>
<pre><code>table_data5.append([iteration_number, xI_values[j], fxI_values[j], calc_error[j]])
</code></pre>
<p>The problem being that <code>fxI_values</code> is an empty list, so trying to find the value at position j fails. Adding a line in the loop</p>
<pre><code>fxI_values.append(xI)
</code></pre>
<p>fixes this, but you need to watch the order of when things are stored.</p>
<p>When I fixed this and then ran the code it then got stuck in an endless loop. This is because the function x' = 3/x, never converges. Starting with x=1, it goes 3, 1, 3, 1, 3 ...
changing the while statement so it always halts after 20 iterations prevents the endless loop.</p>
<p>I've also changed the function that will converge.</p>
<pre><code># Fixed Point Function
def fixedPoint_func(x):
    return cos(x)
</code></pre>
<p>This might not be what you want, if you want to see how many iterations it takes to get back to the starting point, you will need to remove the <code>x0 = xI</code> line.</p>
","2024-04-16 18:48:30","0","Answer"
"78336479","","Populate Every other Element of Array with Function Handle MATLAB","<p>I have the following function:</p>
<pre><code>function F = farray (f,N)
F = {@(t) zeros(N,1)};
    for i=1:N
        if mod(i,2)==0
            F{i}=f(t);
        end
    end
F = cell2mat(F);
end
</code></pre>
<p><code>f</code> is a function handle of time, that is <code>f=@(t)f(t)</code>. <code>N</code> dictates the size of the output array <code>F</code>. Similar to <code>f</code>, <code>F</code> is also a function of time. I would like to populate every other entry of <code>F</code> with <code>f</code>, and return <code>F</code> as a function handle that converts to a double array when substituted for <code>t</code>. All other entries in the array should be zero. I thought what I have above would work, but that is not the case. Where am I going wrong here?</p>
","2024-04-16 17:50:52","0","Question"
"78336320","78336266","","<p>You can use the <code>ctx.measureText(text.slice(0, i).join('')).width</code> method. Here is the modified JavaScript code for you.</p>
<pre><code>// Load the font
const font = new FontFace('ULTRAKILL', 'url(VCR_OSD.ttf)');
font.load().then((font) =&gt; {
    document.fonts.add(font);
});

function genText(interval, startAt) {
    // Get canvas and input text
    let ctx = document.getElementById(&quot;canvas&quot;).getContext(&quot;2d&quot;);
    let canvas = document.getElementById(&quot;canvas&quot;)
    let text = document.getElementById('input').value.split('')

    // Set coordinates and index
    let y = canvas.height / 2
    let i = 0

    // Clear canvas for every generation
    ctx.clearRect(0, 0, canvas.width, canvas.height)

    setTimeout(() =&gt; {
        setInterval(() =&gt; {
            if (i &lt; text.length) {
                // Calculate the width of the text that has been drawn so far
                let textWidth = ctx.measureText(text.slice(0, i).join('')).width;

                // Adjust the x position based on the text width
                let x = (canvas.width - textWidth) / 2;

                ctx.font = '30px ULTRAKILL'
                ctx.fillText(text[i], x, y)

                i++
            }
        }, interval);
    }, startAt);
}
</code></pre>
","2024-04-16 17:16:45","0","Answer"
"78336266","","Generate text in HTML canvas from the center printing one character at a time, with string dynamically adjusting to the formatting","<p>I'm building a website that draws a string into a canvas one character at a time, I've managed to code this first part, but what I'm now trying to do is making the text generate on the center and adjusting its position for every new letter drawn, so that it remains symmetrical. I'm basing this on the text system from ULTRAKILL so if anyone has played that game they may understand what I'm talking about, if not here's an example of precisely what I want: <a href=""https://youtu.be/Ox1oMABK2i4?t=17"" rel=""nofollow noreferrer"">https://youtu.be/Ox1oMABK2i4?t=17</a></p>
<p>This is what I wrote so far:</p>
<pre><code>const font = new FontFace('ULTRAKILL', 'url(VCR_OSD.ttf)');
font.load().then((font) =&gt; {
    document.fonts.add(font);
});

function genText(interval, startAt) {

    // Get canvas and input text
    let ctx = document.getElementById(&quot;canvas&quot;).getContext(&quot;2d&quot;);
    let canvas = document.getElementById(&quot;canvas&quot;)
    let text = document.getElementById('input').value.split('')

    // Set coordinates and index
    let x = canvas.width / 2
    let y = canvas.height / 2
    let i = 0

    // Clear canvas for every generation
    ctx.clearRect(0, 0, canvas.width, canvas.height)

    setTimeout(() =&gt; {

        setInterval(() =&gt; {

            if (i &lt; text.length) {
                ctx.font = '30px ULTRAKILL'
                ctx.fillText(text[i], x, y)

                x += 17
                i++
            }

        }, interval);

    }, startAt);


}
</code></pre>
<p>I'm lost on how to achieve this as a first time user of canvases, so I'd greatly appreciate help on what I should be looking to do</p>
","2024-04-16 17:06:13","0","Question"
"78336151","78335897","","<h2>Issue</h2>
<p>Do you call the function?</p>
<p>When I call the function it shows me this error.</p>
<pre class=""lang-bash prettyprint-override""><code>Traceback (most recent call last):
  File &quot;/home/deepesh/Development/public/hackthon/graph-e-ton/mr_omd/main.py&quot;, line 45, in &lt;module&gt;
    fixedPoint(1, 0.001)
  File &quot;/home/deepesh/Development/public/hackthon/graph-e-ton/mr_omd/main.py&quot;, line 30, in fixedPoint
    table_data5.append([iteration_number, xI_values[j], fxI_values[j], calc_error[j]])
IndexError: list index out of range

</code></pre>
<h2>Recreate Code</h2>
<pre class=""lang-py prettyprint-override""><code>import math

def function(x):
    return math.cos(x) - 3 * x + 1

def gfunction(x):
    return (1 + math.cos(x)) / 3
    
def fixed_point(x, error):
    step = 0
    x0 = x
    print(&quot;Step \t x0 \t\t f(x0) \t\t x1 \t\t f(x1)&quot;)
    
    while True:
        x1 = gfunction(x0)
        step += 1
        print(f&quot;{step} \t {x0} \t {function(x0)} \t {x1} \t {function(x1)}&quot;)
        
        if abs(function(x1)) &lt; error:
            print(f&quot;Root is: {x1}&quot;)
            return
        
        x0 = x1



error = float(input(&quot;Enter allowed error : &quot;))
x0 = float(input(&quot;Enter initial guess: &quot;))
    
# Calling the function    
fixed_point(x0, error)

</code></pre>
<p><a href=""https://www.youtube.com/watch?v=yahnkyvVF20"" rel=""nofollow noreferrer"">Inspiration of Recreate Code</a></p>
<p>Here is how I can assist you better: please let me know if the solution provided is helpful. If not, please describe your issue in the comments and let me know what you are expecting as output.</p>
","2024-04-16 16:48:17","0","Answer"
"78336089","78335751","","<p>Python has a number of functions which will simplify the checks to be performed.</p>
<ul>
<li><a href=""https://python-reference.readthedocs.io/en/latest/docs/str/isalnum.html"" rel=""nofollow noreferrer"">isalnum()</a> : Returns a Boolean stating whether the string contains only letters and digits.</li>
<li><a href=""https://python-reference.readthedocs.io/en/latest/docs/str/isalpha.html"" rel=""nofollow noreferrer"">isalpha</a> : Returns a Boolean stating whether the string contains only letters.</li>
<li><a href=""https://python-reference.readthedocs.io/en/latest/docs/str/isdigit.html"" rel=""nofollow noreferrer"">isdigit</a> : Returns a Boolean stating whether the string contains only digits.</li>
</ul>
<p>To determine if a letter appears after a digit you need to find and compare the position of the last letter and the first digit in the string.</p>
<pre class=""lang-py prettyprint-override""><code>def is_valid(s):
    # Check if the given string meets length requirements.
    if len(s) &lt; 2 or len(s) &gt; 6:
        return False

    # Check if all characters are alphanumeric
    if not s.isalnum():
        return False

    # Check if the string starts with at least two letters.
    if not s[:2].isalpha():
        return False

    # Find the position of the first digit in the string
    first_digit_index = 99  # A sensible default value
    for index, char in enumerate(s):
        if char.isdigit():
            first_digit_index = index
            break

    # Find the position of the last letter in the string
    last_alpha_index = -1
    for index, char in enumerate(s[::-1]):
        if char.isalpha():
            last_alpha_index = len(s) - index
            break

    # Check if the first digit appears before the last letter
    if first_digit_index &lt; last_alpha_index:
        return False

    return True
</code></pre>
","2024-04-16 16:37:25","0","Answer"
"78335897","","Fixed-point method function doesn't show output","<p>I did a function for calculating fixed-point method in numerical but when I run the program there is no output. I just cant see where the problem is and I tried adding a max iteration but still it didn't work or when I tried filling the fxI_values it gave me an Index Error: list index out of range
value for</p>
<pre><code>xl=1
error=0.01

def fixedPoint(xL,error):
    xI=xL
    x0=xI
    
    xI_values=[]
    fxI_values=[]
    calc_error=[]

    while True:

        xI_values.append(xI)
        absError = abs(xI-x0)

       
        xI=fixedPoint_func(xI)
        
        calc_error.append(absError)

        # Check for convergence
        if absError &lt;= error:
            break
        
 # Prepare data for tabulation
    table_data5 = []
    for j in range(len(xI_values)):
        iteration_number = j + 1
        table_data5.append([iteration_number, xI_values[j], fxI_values[j], calc_error[j]])

    # Print table
    headers = [&quot;Iteration&quot;, &quot;Xi&quot;, &quot;g(Xi)&quot;, &quot;Error&quot;]
    print(&quot;Fixed Point Method :&quot;)
    print()
    print(tabulate(table_data5, headers=headers, floatfmt=&quot;.4f&quot;))

    # Print a separator line
    print(&quot;-&quot; * 100)
    print()  # Print an empty line for spacing

    return xI_values[-1]

# Fixed Point Function
def fixedPoint_func(x):
    return 3/x

# Call the fixedPoint method
last_FxN = fixedPoint(xL,error)
</code></pre>
","2024-04-16 15:59:26","0","Question"
"78335751","","Stuck at CS50 Python Week2 pset question ""Vanity Plates"" - Not sure what went wrong in my code","<p>I just started learning python using the CS50 course today, and after I made it to week2 practice set I am stuck with this question &quot;Vanity Plates&quot;. I have no background in coding before today and I am kinda overwhelmed by the sudden jump in difficulty :( The whole question is as follow:</p>
<p>In Massachusetts, home to Harvard University, it’s possible to request a vanity license plate for your car, with your choice of letters and numbers instead of random ones. Among the requirements, though, are:</p>
<p>“All vanity plates must start with at least two letters.”</p>
<p>“… vanity plates may contain a maximum of 6 characters (letters or numbers) and a minimum of 2 characters.”</p>
<p>“Numbers cannot be used in the middle of a plate; they must come at the end. For example, AAA222 would be an acceptable … vanity plate; AAA22A would not be acceptable. The first number used cannot be a ‘0’.”</p>
<p>“No periods, spaces, or punctuation marks are allowed.”</p>
<p>In plates.py, implement a program that prompts the user for a vanity plate and then output Valid if meets all of the requirements or Invalid if it does not. Assume that any letters in the user’s input will be uppercase. Structure your program per the below, wherein is_valid returns True if s meets all requirements and False if it does not. Assume that s will be a str. You’re welcome to implement additional functions for is_valid to call (e.g., one function per requirement).</p>
<p>I wrote a code and when I ran it using the given tests, some of them passed and some failed. For the failed tests my code ran after input but did not output any result and I will have to terminate it. I am not sure what went wrong as there is no syntax error and I really can't spot the mistake. I will copy my code below and hopefully able to find some help. Much appreciated :)</p>
<p>Note : Since this question is posted here before I did look through previous responses and solutions, and while I understood some of them I will like to know what went wrong in my code to learn from mistakes.</p>
<pre><code>def main():
    plate = input(&quot;Plate: &quot;).upper()
    if is_valid(plate):
        print(&quot;Valid&quot;)
    else:
        print(&quot;Invalid&quot;)


def is_valid(s):

    n = 0
    flag = True

    #check for length
    if len(s) &lt; 2 or len(s) &gt; 6:
        flag = False

    #check for punctuations by eliminating upperchar/num unicode
    for i in s:
        if (ord(i) &lt; 48) or (57 &lt; ord(i) &lt; 65) or (90 &lt; ord(i)):
                flag = False

    #check for first two letter
    for i in s[0:2]:
        if ord(i) &lt; ord(&quot;A&quot;):
            flag = False

    #check if there are letters after numbers
    for i in range(0, len(s)):
        while (ord(s[i]) &lt; ord(&quot;A&quot;)) and (i &lt; (len(s)-1)):
            n = n + 1
            if ord(s[i+1]) &gt; 57:
                flag = False

        #check if first number is 0
        if (48 &lt;= ord(s[i]) &lt;= 57) and (n == 1):
            if s[i] == 0:
                flag = False

    return flag

main()
</code></pre>
<pre><code>Test failed : CS50 , ECTO88 , CS05 , 50 , CS50P2 , PI3.14
Test passed : NRVOUS , H , OUTATIME
</code></pre>
","2024-04-16 15:35:55","0","Question"
"78335343","78333126","","<h2>Nesting Conditions (UDF)</h2>
<p><a href=""https://i.sstatic.net/pSlPI.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/pSlPI.jpg"" alt=""enter image description here"" /></a>
<a href=""https://i.sstatic.net/vd8PP.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/vd8PP.jpg"" alt=""enter image description here"" /></a></p>
<pre><code>Function Insurn(Indicator As String, Value As Double) As Variant
    
    Dim AssetValue As Variant
    
    Select Case LCase(Indicator)
        Case LCase(&quot;string_indicator1&quot;)
            If Value &gt;= 11 And Value &lt; 100 Then
                AssetValue = 5
            Else
                Select Case Value
                    Case Is &gt;= 6: AssetValue = 4
                    Case Is &gt;= 0: AssetValue = 3
                    Case Is &gt;= -5: AssetValue = 2
                    Case Is &gt;= -14: AssetValue = 1
                    Case Is &gt;= -24: AssetValue = 0
                    Case Else: AssetValue = CVErr(xlErrNum) ' &quot;Value Too Low&quot;
                End Select
            End If
        ' add more cases:
        'Case LCase(&quot;&quot;)
        'Case LCase(&quot;&quot;)
        
        Case Else: AssetValue = CVErr(xlErrNA) ' &quot;Indicator Not Available&quot;
    End Select
  
    Insurn = AssetValue

End Function
</code></pre>
","2024-04-16 14:32:48","1","Answer"
"78333844","78333795","","<p>You will need to install library <code>openpyxl</code> which can create and modify excel. The final code will look something like this:</p>
<pre><code>from openpyxl import Workbook

def test(alpha,a,x,y,n):
    wb = Workbook()
    ws = wb.active

    ws.append([n])

    wb.save(&quot;sample.xlsx&quot;)

test(alpha=3, a = 4, x = 10, y = 15, n = 100)
</code></pre>
","2024-04-16 10:26:36","2","Answer"
"78333795","","How to store a function parameter to an excel file","<p>I am trying to store a function parameter 'n' to an excel file however I receive an error:</p>
<p><code>AttributeError: 'int' object has no attribute 'to_excel'</code></p>
<p>I have a function that takes:</p>
<p><code>def test(alpha,a,x,y,n):</code></p>
<p>I need to store n (which is a single integer) in an excel file where I tried:</p>
<p><code>n.to_excel('n.xlsx')</code></p>
<p>However I receive the error as mentioned before. I tried to make an empty DataFrame and write n into the array which allows me to run the code however there is no value in the file. I have printed n in the function and it returns the integer so a bit confused on why I cannot save this value to an excel  file?</p>
","2024-04-16 10:18:47","1","Question"
"78333560","78333126","","<p>In addition to the previous answers it will be more readable to reuse <code>Select Case</code> instead of repeating <code>If - Then - ElseIf</code>:</p>
<pre><code>Select Case Value
    Case 11 To 99:           asset_val = 5
    Case 6 To 10, Is &gt; 100:  asset_val = 4
    Case 0 To 5:             asset_val = 3
    Case -5 To 0:            asset_val = 2   ' -5 To -1
    Case -14 To -5:          asset_val = 1   ' -14 To -6
    Case -24 To -14:         asset_val = 0   ' -24 To -15
End Select
</code></pre>
<p>if the variable <code>Value</code> is of integral type, it is more clear to use the ranges provided in the comments.</p>
","2024-04-16 09:42:18","1","Answer"
"78333190","78333126","","<p>I think first you need to understand how UDF (User Defined Functions) work. When you create an UDF, you <strong>must</strong> assign a value to be returned by the UDF.</p>
<p>Something like this:</p>
<pre><code>Function MYSUM(a As Integer, b As Integer) As Integer
result = a + b
End Function
</code></pre>
<p>This will return zero always because I've not assigned any value to be returned. Now check this:</p>
<pre><code>Function MYSUM(a As Integer, b As Integer) As Integer
result = a + b

MYSUM = result
End Function
</code></pre>
<p>This will work as expected. second thing is comparing direct strings/numbers or variables. You got this line:</p>
<pre><code>Case string_indicator1
</code></pre>
<p>Here <code>string_indicator1</code> is being called as a variable, not as a direct string, and the variable is empty so actually your code is checking vs an empty variable.</p>
<p>So if you call your function like <code>Insurn(&quot;string_indicator1&quot;, 12)</code> probably you want your code something like this:</p>
<pre><code>Function Insurn(indicator As String, value As Double)
'always declare your variables
Dim asset_val As Integer 'or whatever tipe you need

Select Case indicator
    Case &quot;string_indicator1&quot;
        If value &gt;= 11 And value &lt;= 99 Then
            asset_val = 5
        ElseIf value &gt;= 6 And value &lt;= 10 Or value &gt;= 100 Then
            asset_val = 4
        ElseIf value &gt;= 0 And value &lt;= 5 Then
            asset_val = 3
        ElseIf value &gt;= -5 And value &lt; 0 Then
            asset_val = 2
        ElseIf value &gt;= -14 And value &lt; -5 Then
            asset_val = 1
        ElseIf value &gt;= -24 And value &lt; -14 Then
            asset_val = 0
End Select

'assign result to function!

Insurn = asset_val

End Function
</code></pre>
<p>Notice the modification on <code>Case</code> and finnaly how the code assigns the output to be returned.</p>
<p>Hope this can help you out</p>
","2024-04-16 08:38:01","2","Answer"
"78333186","78333126","","<p>You are passing the <em>string</em> <code>&quot;string_indicator1&quot;</code> as argument to the function parameter <code>indicator</code> (so <code>indicator = &quot;string_indicator1&quot;</code>)</p>
<p>In your case-statement, you are checking if <code>indicator</code> is <code>string_indicator1</code>, but that is not a string, but a variable. That variable is probably not defined and therefore contains the empty string. As this is not equal to the value in <code>indicator</code>, your whole <code>If-ElseIf...</code> construct is never executed. The function value is never calculated and the function will always return 0 (that's the default value in VBA).</p>
<p>You simply need to change the case-statement to</p>
<pre><code>Case &quot;string_indicator1&quot;
</code></pre>
<p>And you should do 2 things:</p>
<p>Always use <strong>Option Explicit</strong> at the top of your code (in the VBA editor, use Tools-&gt;Options and on the &quot;Editor&quot;-Tab, check &quot;Require Variable Declaration&quot;.</p>
<p>Learn to use the VBA debugger, check your code by stepping thru all statements, that helps to understand how your code works and why it fails. I recommend <a href=""https://www.youtube.com/watch?v=Um2JwZfwoFI"" rel=""nofollow noreferrer"">enter link description here</a>, but there are millions of other tutorials.</p>
","2024-04-16 08:37:15","1","Answer"
"78333126","","VBA. Nesting if elseif within Select Case procedure","<p>I have the following function written within VBA module as a test case. At this moment the function includes only one &quot;Case&quot; because I want to test it and if successful to fill with more &quot;Case&quot;s:</p>
<pre><code>Function Insurn(indicator as String, value as Double)
    Select Case indicator
        Case string_indicator1
            If value &gt;= 11 And value &lt;= 99 Then
                asset_val = 5
            ElseIf value &gt;= 6 And value &lt;= 10 Or value &gt;= 100 Then
                asset_val = 4
            ElseIf value &gt;= 0 And value &lt;= 5 Then
                asset_val = 3
            ElseIf value &gt;= -5 And value &lt; 0 Then
                asset_val = 2
            ElseIf value &gt;= -14 And value &lt; -5 Then
                asset_val = 1
            ElseIf value &gt;= -24 And value &lt; -14 Then
                asset_val = 0
            Else val &lt; -24 Then
            End If
    End Select
End Function
</code></pre>
<p>I apply this function inputting the following data <code>Insurn(&quot;string_indicator1&quot;, 12)</code> and it returns 0 value. However, I expect the function to return 5.</p>
<p>And much more, no matter what number is assigned to the <code>value</code> parameter the function invariably returns 0 value.</p>
<p>Please help clear out how to make this function work properly.</p>
","2024-04-16 08:23:16","1","Question"
"78330614","78330478","","<p>When destructuring the array as params, you need to add the square brackets in the param list.</p>
<pre class=""lang-js prettyprint-override""><code>const subsFrom = ([num1, num2, num3])
const multiBy = ([num1, num2, num3])
const divBy = (findSum, [num1, num2, num3])
</code></pre>
<p>Since input is an array being passed into the function call.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// the purpose of this script is to execute different functions on an array of 3 integers// 
const input = [6, 25, 11];
const findSum = input.reduce((acc, num) =&gt; acc + num, 0);
console.log(findSum);

// each function has been assigned parameters to execute //
const subsFrom = ([num1, num2, num3]) =&gt; num1 - num2 - num3;
const subNum = subsFrom(input);
console.log(subNum);
// then call the function and display the answer //

const multiBy = ([num1, num2, num3]) =&gt; num1 * num2 * num3;
const multiNum = multiBy(input)
console.log(multiNum);

const divBy = (findSum, [num1, num2, num3]) =&gt; findSum / num1 / num2 / num3;
const divNum = divBy(findSum, input);
console.log(divNum);</code></pre>
</div>
</div>
</p>
<p>Alternatively, you can spread the input array values into the function call. This way you do not need to add the square brackets to destructure the incoming array.</p>
<pre class=""lang-js prettyprint-override""><code>const divBy = (findSum, num1, num2, num3) =&gt; findSum / num1 / num2 / num3;
const divNum = divBy(findSum, ...input); // Spread the array values
</code></pre>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// the purpose of this script is to execute different functions on an array of 3 integers// 
const input = [6, 25, 11];
const findSum = input.reduce((acc, num) =&gt; acc + num, 0);
console.log(findSum);

// each function has been assigned parameters to execute //
const subsFrom = (num1, num2, num3) =&gt; num1 - num2 - num3;
const subNum = subsFrom(...input);
console.log(subNum);
// then call the function and display the answer //

const multiBy = (num1, num2, num3) =&gt; num1 * num2 * num3;
const multiNum = multiBy(...input)
console.log(multiNum);

const divBy = (findSum, num1, num2, num3) =&gt; findSum / num1 / num2 / num3;
const divNum = divBy(findSum, ...input);
console.log(divNum);</code></pre>
</div>
</div>
</p>
","2024-04-15 19:23:32","1","Answer"
"78330478","","my mathematical functions are returning NaN","<p>so I have been asking to change my code to simplify my functions but now that i have simpliftied them they are now only returning NaN and i dont really understand why that is, when the input is numbers?</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// the purpose of this script is to execute different functions on an array of 3 integers// 
const input = [6, 25, 11];
const findSum = input.reduce((acc, num) =&gt; acc + num, 0);
console.log(findSum);

// each function has been assigned parameters to execute //
const subsFrom = (num1, num2, num3) =&gt; num1 - num2 - num3;
const subNum = subsFrom(input);
console.log(subNum);
// then call the function and display the answer //

const multiBy = (num1, num2, num3) =&gt; num1 * num2 * num3;
const multiNum = multiBy(input)
console.log(multiNum);

const divBy = (findSum, num1, num2, num3) =&gt; findSum / num1 / num2 / num3;
const divNum = divBy(findSum, input);
console.log(divNum);</code></pre>
</div>
</div>
</p>
","2024-04-15 18:51:10","-2","Question"
"78325560","78321309","","<p>I believe a greedy solution will minimize the number of groups, which is equivalent to minimizing the average number of products per group, since that average equals <code>P/g</code>, <code>P</code> being the total number of products (regardless of how they are allocated to groups) and <code>g</code> is the number of groups.</p>
<p>Suppose we are given any solution where two successive groups are given by g<sub>i</sub> and g<sub>i+1</sub>. These groups are comprised of products as follows.</p>
<p>g<sub>i</sub> = [p<sub>f</sub>,...,p<sub>j</sub>]</p>
<p>and</p>
<p>g<sub>i+1</sub> = [p<sub>j+1</sub>,...,p<sub>k</sub>]</p>
<p>Suppose now product p<sub>j+1</sub> can be moved to group g<sub>i</sub> and satisfy the date requirements for the that group. Moreover, moving that product out of group g<sub>i+1</sub> will not violate the date requirements for that group.</p>
<p>If group g<sub>i+1</sub> contains only one product, p<sub>j+1</sub>, moving that product to the previous group will reduce the number of groups by one, improving the solution; otherwise, the number of groups will remain the same so the average number of products per group will not change.</p>
<p>This means that a solution is never made worse by shifting the first product of a group to the previous group, provided that is permitted by the date requirements. By doing that successively until no other product can be so moved we obtain the solution what would be obtained by employing a greedy algorithm: add as many products to group 1 as possible until the date requirements prevent the next product, p<sub>j</sub> from being added, at which point p<sub>j</sub> becomes the first product of group 2, and so on.</p>
<p>For the example given in the question a greedy algorithm would result in the following.</p>
<pre><code>prod_id    timestamp1    timestamp2      group_id
1          2023-12-02    2023-12-01          1
2          2023-12-05    2023-12-01          1
3          2023-12-06    2023-12-01          2
4          2023-12-07    2023-12-01          2
5          2023-12-08    2023-12-01          2
6          2023-12-08    2023-12-02          2
7          2023-10-10    2023-09-02          3
8          2023-12-11    2023-12-22          4
9          2023-12-12    2023-12-24          4
</code></pre>
<p>This differs from the &quot;desired solution&quot; given in the question in only one respect, product #2 is allocated to the first group rather than to the second, but both solutions have the same average number of products per group, <code>(2+4+1+2)/4 #=&gt; 9/4</code> versus <code>(1+5+1+2)/4 #=&gt; 9/4</code>, so both are optimal.</p>
","2024-04-14 23:45:37","0","Answer"
"78325307","78324934","","<p>The problem is that when you click the 1810 button, you place the invisible part of a image above your buttons. This makes it seem like you can't click on the buttons, when really there is just something in the way.</p>
<p>To solve this problem, move the <code> &lt;img id=&quot;Nation&quot; src=&quot;https://i.postimg.cc/J0J0yS3R/Waipi-o.png&quot;&gt;</code> element before the  <code>&lt;div id=&quot;Dates&quot;&gt;</code> element in your html code. This will place the buttons below the images. When you click on either button, the image will change but they will not be blocked.</p>
<p>This resolves the problem with the buttons clicking, but now your buttons are on the bottom of the page and move when you change the image. If you want to keep the buttons on the top of the page, I would recommend changing the buttons to being in a floating div, something you can learn about here: <a href=""https://www.w3schools.com/cssref/pr_class_float.php"" rel=""nofollow noreferrer"">https://www.w3schools.com/cssref/pr_class_float.php</a>.</p>
","2024-04-14 21:30:45","1","Answer"
"78324934","","One Java function fails to activate after another begins","<p>I am very new to coding. I am trying to create a series of maps of Hawai'i, where the political borders change as you select buttons with dates. I am doing this by using javascript to change the image source and css styles of a specific nation's border. Currently, I can select the 1782 button, and that will work; then I will select the 1810 button, and that will work; but if I try to return to the 1782 button, nothing will happen.</p>
<pre><code>   &lt;!DOCTYPE html&gt;
    &lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
        &lt;title&gt;Map&lt;/title&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;CSSHawai'iHistory.css&quot;&gt;
    &lt;/head&gt;
    &lt;body&gt;
    
        &lt;!--have a series of dates to click through--&gt;
        &lt;div id=&quot;Dates&quot;&gt;
            &lt;button id=&quot;hawaii1782&quot; type=&quot;clickable-button&quot;&gt;1782&lt;/button&gt;
            &lt;button id=&quot;hawaii1810&quot; type=&quot;clickable-button&quot;&gt;1810&lt;/button&gt;    
        &lt;/div&gt;  
        &lt;br&gt;
        &lt;!--Image of Kamehameha's land--&gt;
        &lt;img id=&quot;Nation&quot; src=&quot;https://i.postimg.cc/J0J0yS3R/Waipi-o.png&quot;&gt;
        &lt;script src=&quot;SCRIPTHawai'iHistory.js&quot;&gt;&lt;/script&gt;
    &lt;/body&gt;
    &lt;/html&gt;
Java:
    const hawaii1782 = document.querySelector(&quot;#hawaii1782&quot;);
    const hawaii1810 = document.querySelector(&quot;#hawaii1810&quot;);
    const Nation = document.querySelector(&quot;#Nation&quot;)
    var r = document.querySelector(':root');

    hawaii1782.onclick = map1782;
    hawaii1810.onclick = map1810;

    //have 1782 button go to map in 1782
    function map1782(){
        Nation.src=&quot;https://i.postimg.cc/J0J0yS3R/Waipi-o.png&quot;;
        r.style.setProperty('--country-size','89px');
        r.style.setProperty('--east-margin','879px');
        r.style.setProperty('--north-margin','360px');
        r.style.setProperty('--border1782','red');
        r.style.setProperty('--border1810','#feac32');
        hawaii1810.onclick = map1810;
   }

    //have 1810 map go to map in 1810
    function map1810(){
        Nation.src=&quot;https://i.postimg.cc/cLrmrH39/Kingdom-Hawai-i.png&quot;;
        r.style.setProperty('--country-size', '1150px');
        r.style.setProperty('--east-margin','-10px');
        r.style.setProperty('--north-margin','-49px');
        r.style.setProperty('--border1782','#feac32')
        r.style.setProperty('--border1810','red');
        hawaii1782.onclick = map1782;
   }
CSS:
    /*variables*/
    :root {
        --country-size: 89px;
        --east-margin: 879px;
        --north-margin: 360px;
        --border1782: #feac32;
        --border1810: #feac32;
        } 
    body {
            background-image:url(&quot;https://i.postimg.cc/d1tBvjYs/Blank.png&quot;);
            background-repeat:no-repeat;
        }


    /*Kamehameha's land*/
    #Nation {
        width: var(--country-size);    
        margin-left: var(--east-margin); 
        margin-top: var(--north-margin);
        background-color:transparent;
        }

    /*1782 button*/
    #hawaii1782{
        background-color: #feac32;
        color: #0a0a23;
        border: 3px solid var(--border1782);
        background-image:linear-gradient(#fecc4c, #ffac33);
    
        }

     /*1810 button*/
    #hawaii1810{
       background-color: #feac32;
       color: #0a0a23;
       border: 3px solid var(--border1810);
       background-image:linear-gradient(#fecc4c, #ffac33);
      }
</code></pre>
<p>I figured the issue was caused by the 1810 function not finishing. However, the 1810 script is almost identical to the 1782 script, and if I initiate the 1782 function, I can still initiate the 1810 function.</p>
","2024-04-14 19:02:00","0","Question"
"78323428","78323367","","<p>You were appending the result of the function that you have passed as argument into the array instead of passing the elements of array</p>
<pre><code>const wordArray = [&quot;mine&quot;, &quot;script&quot;, &quot;function&quot;, &quot;array&quot;, &quot;javascript&quot;, &quot;python&quot;, &quot;coding&quot;, &quot;html&quot;, &quot;css&quot;, &quot;bye&quot;];
//myFilterFunction(HOF) takes an array (arr) and hypothetical function (fn) as arguments
let myFilterFunction = (arr) =&gt; (fn) =&gt; {
    const newArray = [];
    for (let i = 0; i &lt; arr.length; i++) {
 
      fn(arr[i]) &amp;&amp; newArray.push(arr[i]);
//if the condition is true we are adding the element to newArray 

    }
    return newArray; //return a array
};
//myFilterFunction is used with an anonymous function to return whether each word is 6 or more   letters
const printArray = myFilterFunction(wordArray)((word) =&gt; word.length &gt;= 6);
//Output the result to the console
console.log(&quot;this array only contains words that are 6 letters or more: &quot; + printArray);
</code></pre>
","2024-04-14 10:16:09","0","Answer"
"78323389","78323367","","<p>You are pushing the boolean expression result of the condition instead use that as a condition to push the desired word like so</p>
<pre><code>const wordArray = [&quot;mine&quot;, &quot;script&quot;, &quot;function&quot;, &quot;array&quot;, &quot;javascript&quot;, &quot;python&quot;, &quot;coding&quot;, &quot;html&quot;, &quot;css&quot;, &quot;bye&quot;];
//myFilterFunction(HOF) takes an array (arr) and hypothetical function (fn) as arguments//
let myFilterFunction = (arr) =&gt; (fn) =&gt; {
    const newArray = [];
    for (let i = 0; i &lt; arr.length; i++) {
        if (fn(arr[i])) {
            newArray.push(arr[i]);   
        }
    }
    return newArray; //return a array
};
//myFilterFunction is used with an anonymous function to return whether each word is 6 or more   letters//
const printArray = myFilterFunction(wordArray)((word) =&gt; word.length &gt;= 6);
//Output the result to the console//
console.log(&quot;this array only contains words that are 6 letters or more: &quot; + printArray);
</code></pre>
","2024-04-14 10:03:58","1","Answer"
"78323367","","why is my higher order function returning true and false?","<p>I have to create my own higher order filter() function to filter an array of 10 words that only returns word that have 6 or more letters but my function is only returning true and false and not omitting words that are not 6 or more letters instead of actually returning the words in a new array. Do add additional code to execute the function?</p>
<p>Also I am not allowed to use the built-in filter function.</p>
<pre><code>const wordArray = [&quot;mine&quot;, &quot;script&quot;, &quot;function&quot;, &quot;array&quot;, &quot;javascript&quot;, &quot;python&quot;, &quot;coding&quot;, &quot;html&quot;, &quot;css&quot;, &quot;bye&quot;];
//myFilterFunction(HOF) takes an array (arr) and hypothetical function (fn) as arguments//
let myFilterFunction = (arr) =&gt; (fn) =&gt; {
    const newArray = [];
    for (let i = 0; i &lt; arr.length; i++) {
        newArray.push(fn(arr[i]));
    }
    return newArray; //return a array
};
//myFilterFunction is used with an anonymous function to return whether each word is 6 or more   letters//
const printArray = myFilterFunction(wordArray)((word) =&gt; word.length &gt;= 6);
//Output the result to the console//
console.log(&quot;this array only contains words that are 6 letters or more: &quot; + printArray);
</code></pre>
","2024-04-14 09:56:42","0","Question"
"78323347","78323256","","<p>The <code>len()</code> function counts the Unicode code points (unique numbers that represent a character in the Unicode standard). My guess is that each character (grapheme) in Tamil consists of two Unicode code points and this is what <code>len()</code> counts.</p>
<p>You can use the <code>regex</code> (not <code>re</code>) module to get the correct count.</p>
<p><code>pip install regex</code></p>
<p>In this example:</p>
<pre><code>import regex

def count_graphemes(text):
    return len(regex.findall(r'\X', text))


english_name = 'KUMAR'
tamil_name = 'குமார்'


print(f&quot;Length of {english_name}: {count_graphemes(english_name)}&quot;)
print(f&quot;Length of {tamil_name}: {count_graphemes(tamil_name)}&quot;)
</code></pre>
<p>the output is:</p>
<pre><code>Length of KUMAR : 5
Length of குமார் : 3
</code></pre>
","2024-04-14 09:46:23","0","Answer"
"78323256","","When I tried to count the string of translated language (tamil) in Python, it didn't give me the correct count why?","<p><a href=""https://i.sstatic.net/saf8P.png"" rel=""nofollow noreferrer"">code</a></p>
<p>I tried to count the string for the name 'KUMAR' with length function, output came  5 it is correct.</p>
<p>But when I tried to count the same name in a different language(Tamil) the output I expected was 3 because
'குமார்' is a three letter word in Tamil but the output came 6.</p>
","2024-04-14 09:05:55","-2","Question"
"78321309","","How to group rows in dataframe based on timestamps ranges and mean group size maximization?","<p>I have a data frame:</p>
<pre><code>prod_id                    timestamp1                 timestamp2
1                          2023-12-02                 2023-12-01    
2                          2023-12-05                 2023-12-01    
3                          2023-12-06                 2023-12-01    
4                          2023-12-07                 2023-12-01    
5                          2023-12-08                 2023-12-01
6                          2023-12-08                 2023-12-02
7                          2023-10-10                 2023-09-02
8                          2023-12-11                 2023-12-22 
9                          2023-12-12                 2023-12-24
</code></pre>
<p>I want to group prod_id (create new parameter group_id) by timestamps ranges. the distribution of dates at timestamp1 must not exceed 3 days (so the difference between max and min within group_id must be no higher than 3 days). Similarly, the distribution of dates at timestamp 2 must not exceed 3 days (so the difference between max and min within group_id must be no higher than 3 days). I need to maximize the average number of prod_id per group_id. so here the desired result must be:</p>
<pre><code>prod_id   timestamp1      timestamp2          group_id
1          2023-12-02    2023-12-01               1
2          2023-12-05    2023-12-01               2
3          2023-12-06    2023-12-01               2
4          2023-12-07    2023-12-01               2
5          2023-12-08    2023-12-01               2
6          2023-12-08    2023-12-02               2
7          2023-10-10    2023-09-02               3
8          2023-12-11    2023-12-22               4
9          2023-12-12    2023-12-24               4
</code></pre>
<p>as you see here prod_id is in group_id 2 because it will create larger group_id, than if it was in group_id 1, even though it could be in group_id 1 by conditions. so this grouping maximizes the mean number of prod_id per group_id.</p>
<p>How to do it? I wrote this, but it doesn't have algorithmic maximization of the mean number of prod_id per group_id:</p>
<pre><code>df['timestamp1'] = pd.to_datetime(df['timestamp1'])
df['timestamp2'] = pd.to_datetime(df['timestamp2'])
df_sorted = df.sort_values(by=['timestamp1', 'timestamp2'])

group_id = 1
df_sorted['group_id'] = 0

while not df_sorted.empty:
    group_start = df_sorted.iloc[0]
    valid_rows_t1 = df_sorted[(df_sorted['timestamp1'] &lt;= group_start['timestamp1'] + pd.Timedelta(days=30))]
    valid_rows_t2 = valid_rows_t1[(valid_rows_t1['timestamp2'] &gt;= valid_rows_t1['timestamp2'].min()) &amp;
                                  (valid_rows_t1['timestamp2'] &lt;= valid_rows_t1['timestamp2'].min() + pd.Timedelta(days=30))]
    df_sorted.loc[valid_rows_t2.index, 'group_id'] = group_id
    df_sorted = df_sorted.drop(valid_rows_t2.index)
    group_id += 1

</code></pre>
<p>Here is a code to create tha dataframe:</p>
<pre><code># Create the dataframe
data = {
    'prod_id': [1, 2, 3, 4, 5, 6, 7, 8, 9],
    'timestamp1': ['2023-12-02', '2023-12-05', '2023-12-06', '2023-12-07', '2023-12-08', '2023-12-08', '2023-10-10', '2023-12-11', '2023-12-12'],
    'timestamp2': ['2023-12-01', '2023-12-01', '2023-12-01', '2023-12-01', '2023-12-01', '2023-12-02', '2023-09-02', '2023-12-22', '2023-12-24']
}
df = pd.DataFrame(data)
</code></pre>
","2024-04-13 16:39:34","1","Question"
"78321157","78321065","","<p>correct your object declaration. You added some unnecessary stuff.</p>
<p><strong>Instead of:</strong></p>
<pre><code>export let blog = [{
&quot;blog&quot;: [....]
}]
</code></pre>
<p><strong>it should be:</strong></p>
<pre><code>export let blog = [{
&quot;userId&quot;: 1,
&quot;id&quot;: 1,
&quot;title&quot;: &quot;...&quot;,
&quot;body&quot;: &quot;....&quot;
}];
</code></pre>
<p>For your object</p>
<pre><code>blog[0]?.blog?.map((blog)=&gt;{ 
 return &lt;ProductItems key={blog?.id} blog={blog}/&gt; 
})
</code></pre>
<p>this will work</p>
","2024-04-13 15:52:20","0","Answer"
"78321145","78300651","","<p>for counting the number of items the user wants you can just use:</p>
<pre><code>    len(makeup)
</code></pre>
<p>for calculating the total price:</p>
<pre><code>    elif choice==&quot;c&quot;:
         sum=0
         for k,v in makeup.items():
             sum+=v
             print(sum)
</code></pre>
<p>k and v are assigned as key and value automatically during for statement,
this will give the total price while checking out.</p>
<p>also one more suggestion, use choice.lower() in your elif statements to make it slightly more versatile</p>
","2024-04-13 15:49:40","0","Answer"
"78321065","","How to use map function in react JS? I cannot run the loop using map function for looping a component code. How can I run it?","<p>App.js specific code:</p>
<pre><code>&lt;Container&gt;
        &lt;Row&gt;
          {blog.map((v, i) =&gt; (
            &lt;ProductItems key={i} blog={v}/&gt;
          ))}
        &lt;/Row&gt;
      &lt;/Container&gt;

function ProductItems() {
  return (
    &lt;Col lg=&quot;3&quot; md=&quot;6&quot;&gt;
      &lt;Card &gt;
        &lt;Card.Img variant=&quot;top&quot; src=&quot;placeholder.js/100px180&quot; /&gt;
        &lt;Card.Body&gt;
          &lt;Card.Title&gt;Card Title&lt;/Card.Title&gt;
          &lt;Card.Text&gt;
            Some quick example text to build on the card title and make up the bulk of the card's content.
          &lt;/Card.Text&gt;
          &lt;Button variant=&quot;primary&quot;&gt;Go somewhere&lt;/Button&gt;
        &lt;/Card.Body&gt;
      &lt;/Card&gt;
    &lt;/Col&gt;
  );
}
</code></pre>
<p>blog.jsx code:</p>
<pre><code>export let blog = [
    {
      &quot;blog&quot;: [
        {
          &quot;userId&quot;: 1,
          &quot;id&quot;: 1,
          &quot;title&quot;: &quot;are or do repels provide blacked out to accept the option criticizes&quot;,
          &quot;body&quot;: &quot;because and accepts\naccepts the result of refusal convenient and when which is all\nof our things, but they are the thing that will happen to the architect&quot;
        },
        {
          &quot;userId&quot;: 1,
          &quot;id&quot;: 2,
          &quot;title&quot;: &quot;who is to be&quot;,
          &quot;body&quot;: &quot;is of things at the time of life\nthey are nothing to follow let the pain of the blessed rebuke those pains and not run away from the caresses of the pleasure, nor any trouble&quot;
        },
        {
          &quot;userId&quot;: 1,
          &quot;id&quot;: 3,
          &quot;title&quot;: &quot;who is to be&quot;,
          &quot;body&quot;: &quot;is of things at the time of life\nthey are nothing to follow let the pain of the blessed rebuke those pains and not run away from the caresses of the pleasure, nor any trouble&quot;
        },
        {
          &quot;userId&quot;: 1,
          &quot;id&quot;: 4,
          &quot;title&quot;: &quot;who is to be&quot;,
          &quot;body&quot;: &quot;is of things at the time of life\nthey are nothing to follow let the pain of the blessed rebuke those pains and not run away from the caresses of the pleasure, nor any trouble&quot;
        },
        {
          &quot;userId&quot;: 1,
          &quot;id&quot;: 5,
          &quot;title&quot;: &quot;who is to be&quot;,
          &quot;body&quot;: &quot;is of things at the time of life\nthey are nothing to follow let the pain of the blessed rebuke those pains and not run away from the caresses of the pleasure, nor any trouble&quot;
        },
        {
          &quot;userId&quot;: 1,
          &quot;id&quot;: 6,
          &quot;title&quot;: &quot;who is to be&quot;,
          &quot;body&quot;: &quot;is of things at the time of life\nthey are nothing to follow let the pain of the blessed rebuke those pains and not run away from the caresses of the pleasure, nor any trouble&quot;
        }
      ]
    }
  ]

</code></pre>
<p>{Description: The blog.jsx contains json code and the objects I am trying to looping through map fuction. The App.js file contains the ProductItems component and function and the map function.}</p>
<p>I tried to repeat the ProductItems code because it has the card code. And were expecting this result that did not happened.</p>
","2024-04-13 15:22:30","-3","Question"
"78320770","78315483","","<p>I sort of figured it out, or rather, I found where my error is. I tried changing l[9][9] = b, and printed it out and the board had b's only. Meaning I made a mistake in my loop and 'piece' refers to l[9][9] only and I was not looping through l. So my program was using one object l[9][9] in the list and not all the objects in the list.</p>
<p>I guess using a list with different objects (instead of one with c's only) would have helped me see this sooner</p>
","2024-04-13 13:46:49","0","Answer"
"78318020","78317975","","<ol>
<li></li>
</ol>
<p>In your code there is an ambiguity between a column that would be called &quot;outcome_column&quot; and one called &quot;SalesPrice&quot;, the best thing to do here is not to use <code>{{ }}</code> but to use <code>one_of()</code>.</p>
<ol start=""2"">
<li>and 3.</li>
</ol>
<p><code>train$outcome_column</code> is equivalent to <code>train$&quot;outcome_column&quot;</code>. That's how the dollar operator works, <code>outcome_column</code> is not evaluated, you can do <code>train[[outcome_column]]</code> however</p>
","2024-04-12 18:05:07","3","Answer"
"78317975","","Writing a function: Why does dplyr select() work with quoted column name but df$col_name does not?","<p>I've been reading posts and documentation about 'tidy evaluation,' but my results don't make sense with what I'm reading. My function is:</p>
<pre><code>ttsplit = function(prepped_data, outcome_column){
  
  sample &lt;- sample(c(TRUE, FALSE), nrow(prepped_data), replace=TRUE, prob=c(0.7,0.3))
  train  &lt;- prepped_data[sample, ]
  test   &lt;- prepped_data[!sample, ]
  
  Xtrain = train %&gt;% 
    select(!outcome_column)
  
  ytrain = train$outcome_column
  
  Xtest = test %&gt;% 
    select(!outcome_column)
  
  ytest = test$outcome_column
  
  return(list(Xtrain, ytrain, Xtest, ytest))
}
</code></pre>
<p>My questions are:</p>
<ol>
<li><p>My understanding is that inside a select() statement, I need to unquote my column name using <code>{{outcome_column}}</code>. However, it works fine as is. Why?</p>
</li>
<li><p><code>ytrain = train$outcome_column</code> doesn't work. The first and third items in the list <code>datasets</code> are correct and the second and fourth are NULL.</p>
</li>
</ol>
<pre><code>datasets = ttsplit(model1data, &quot;SalePrice&quot;)

Warning messages:
1: Unknown or uninitialised column: `outcome_column`. 
2: Unknown or uninitialised column: `outcome_column`. 

&gt; datasets[2]
[[1]]
NULL

&gt; datasets[4]
[[1]]
NULL
</code></pre>
<p>The line <code>train${{outcome_column}}</code> is invalid so how do you unquote in this situation? (My current solution is to use a select() statement, which is fine, but I want to understand.)</p>
<ol start=""3"">
<li>Furthermore, if I simply run <code>df$'column_name'</code> outside of a function, it works. Why?</li>
</ol>
<pre><code>&gt; model1data$'SalePrice'
   [1] 208500 181500 223500...
</code></pre>
<p>My data is like this, but with more columns.</p>
<pre><code>&gt; model1data
# A tibble: 1,460 × 3
      Id LotArea SalePrice
   &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;
 1     1    8450    208500
 2     2    9600    181500
 3     3   11250    223500
 4     4    9550    140000
 5     5   14260    250000
 6     6   14115    143000
 7     7   10084    307000
 8     8   10382    200000
 9     9    6120    129900
10    10    7420    118000
# … with 1,450 more rows
</code></pre>
<p>Here's the dput version:</p>
<pre><code>structure(list(Id = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10), LotArea = c(8450, 
9600, 11250, 9550, 14260, 14115, 10084, 10382, 6120, 7420), SalePrice = c(208500, 
181500, 223500, 140000, 250000, 143000, 307000, 2e+05, 129900, 
118000)), row.names = c(NA, -10L), class = c(&quot;tbl_df&quot;, &quot;tbl&quot;, 
&quot;data.frame&quot;))
</code></pre>
","2024-04-12 17:53:44","1","Question"
"78316531","78315935","","<p>If the last ifelse did depend on the index, this seems to work:</p>
<pre><code>    fnct &lt;- function(x,y) {
              out &lt;- numeric(length(x))
              for (i in seq_along(x)) {
                ifelse (x[i] &gt;= y[1] &amp; x[i] &lt;= y[2],
                  out[i] &lt;- y[3],
                        ifelse (x[i] &lt; y[1],
                      out[i]&lt;-  y[1], 
            ifelse((max(x)-y[2]&gt;y[1]), 
                   out[i]&lt;-(x[i]-y[3]), 
                   out[i]&lt;-NA)))
              }
              out
            }
            fnct(c(1:150),c(20,80,50))

#&gt;    [1]  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20  20
 #&gt;    [20]  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50
#&gt;     [39]  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50
#&gt;     [58]  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50  50
#&gt;     [77]  50  50  50  50  31  32  33  34  35  36  37  38  39  40  41  42  43  44  45
#&gt;     [96]  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63  64
#&gt;    [115]  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83
#&gt;    [134]  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100
</code></pre>
","2024-04-12 13:19:30","0","Answer"
"78316385","78316240","","<p>The functions running in separate functions don't directly return values to the caller. Use <code>queues</code> or <code>pipes</code> to get your data back from your subprocesses.</p>
<pre><code>import multiprocessing
import time
import random
def timer(queue, seconds):
    print(f&quot;Sleeping for {seconds} second(s)&quot;)
    time.sleep(seconds)
    queue.put(&quot;Done sleeping&quot;)
def play():
    choice_list = [&quot;Cheese&quot;, &quot;Pickle&quot;]
    price_list = {&quot;Cheese&quot;: 100, &quot;Pickle&quot;:50}
    while True:
        item = random.choice(choice_list)
        print(f&quot;Current item: {item}&quot;)
        ans = input(&quot;Do something!: &quot;).strip()
        if ans == item:
            print(f&quot;Great! The price is {price_list[item]} Credits!&quot;)
            return True
        else:
            print(&quot;Wrong guess, try again!&quot;)
def main():
    queue = multiprocessing.Queue()
    timer_process = multiprocessing.Process(target=timer, args=(queue, 3))
    timer_process.start()
    timer_result = queue.get()
    print(f&quot;Timer process returned: {timer_result}&quot;)
    game_result = play()
    if game_result:
        print(&quot;Congratulations! You guessed correctly!&quot;)
    timer_process.join()
if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
","2024-04-12 12:46:40","2","Answer"
"78316372","78315483","","<p>The only thing I can see that may be wrong about your code without the proper context is the variable piece. You may be changing piece somewhere within your code which does not change the actual matrix or changing <code>l[a][b]</code> after assigning piece and then printing out the old piece still.</p>
<p>Without the rest of the code I can't really help you.</p>
","2024-04-12 12:45:07","0","Answer"
"78316240","","Why is my Python function of multiprocessing function didn't return anything","<p>Ok, so I'm just a Middle Schooler trying to code and I wanted to make some game only using Python print display, and I need multiprocessing function, but in the function I have an input, so I need it to not be in multiprocessing or else there will be an error.</p>
<pre><code>import multiprocessing
import time
import random
g = &quot;Something from the list: &quot;
def timer(seconds):
    print(f&quot;Sleeping for {seconds} second(s)&quot;)
    time.sleep(seconds)
    print( )
    return &quot;Done sleeping&quot;
def anything(y):
    print(y)
def play(thing,harga):
        while True:
            t = thing
            price = harga[f&quot;{thing}&quot;]
            y = &quot;-&quot;
            h_1 = 54
            h = random.randint(0,h_1)
            if h == 0:
                print(f&quot;{t:{y}&lt;{h_1+len(t)}}&quot;)
                ans = input(&quot;Do something!:  &quot;)
                if ans == thing:
                    print(f&quot;Great the price is {price} Credits!&quot;)
                    return &quot;True&quot;
            else:
                h1 = (h_1 - h)
                print(f&quot;{y:{y}&lt;{h}}{t:{y}&lt;{h1 + len(t)}}&quot;)
                ans = input(&quot;Do something!:  &quot;)
                if ans == thing:
                    print(f&quot;Great the price is {price} Credits!&quot;)
                    return &quot;True&quot;
    
def idk( ):
        time.sleep(0.1)
        list = [&quot;Cheese&quot;,&quot;Pickle&quot;]
        y = random.choice(list)
        anything(y)
        prilist = {&quot;Cheese&quot;: 100,&quot;Pickle&quot;:50}
        play(y,prilist)
p1 = multiprocessing.Process(target=timer,args=[3])
def play1( ):
        v = p1.start( )
        if v == &quot;Done sleeping&quot;:
            return &quot;Gagal&quot;
        v2 = idk( )
        if v2 == &quot;True&quot;:
            return &quot;True&quot;
        p1.join( )
print(play1( ))
        
</code></pre>
<p>Ok, so that is what I did. I expected that when I returned the value, it would end the function, but instead it still continued doing the other function, and after that, it printed out none. So I want the timer or the play function to end the main function after one of them ends, so they need to process at the same time.</p>
<p>Output:</p>
<pre><code>Sleeping for 3 second(s)

Cheese

\---------------Cheese---------------------------------------Do something!:  Cheese

Great the price is 100 Credits!

None

\[Program finished\]
</code></pre>
<p>I really hope someone can help me, if not maybe I'm just going to make a game in Unity</p>
","2024-04-12 12:21:05","2","Question"
"78316021","78315935","","<h1>1. With a <code>for</code> loop.</h1>
<p>You must create a vector where you save the <code>ifelse</code> results.<br />
Also, note that the question's last <code>ifelse</code> does not depend on the index so it can be pre-computed.</p>
<pre class=""lang-r prettyprint-override""><code>fnct &lt;- function(x,y) {
  out &lt;- numeric(length(x))
  pre_comp &lt;- ifelse(max(x) - y[2] &gt; y[1], y[2], NA)
  for (i in seq_along(x)) {
    out[i] &lt;- ifelse (x[i] &gt;= y[1] &amp; x[i] &lt;= y[2],
            y[3],
            ifelse (x[i] &lt; y[1],
                    y[1], pre_comp))
  }
  out
}
fnct(c(1:150),c(20,80,50))
#&gt;   [1] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 50 50 50 50 50 50
#&gt;  [26] 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
#&gt;  [51] 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
#&gt;  [76] 50 50 50 50 50 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
#&gt; [101] 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
#&gt; [126] 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
</code></pre>
<p><sup>Created on 2024-04-12 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
<hr />
<h1>2. With a <code>*apply</code> loop</h1>
<p>The loop but with a <code>*apply</code> function becomes simpler, there is no need to create the results vector beforehand.</p>
<pre class=""lang-r prettyprint-override""><code>fnct &lt;- function(x, y) {
  pre_comp &lt;- ifelse(max(x) - y[2] &gt; y[1], y[2], NA)
  sapply(x, \(xx) {
    ifelse (xx &gt;= y[1] &amp; xx &lt;= y[2],
            y[3],
            ifelse (xx &lt; y[1],
                    y[1], pre_comp))
  })
}
fnct(c(1:150),c(20,80,50))
#&gt;   [1] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 50 50 50 50 50 50
#&gt;  [26] 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
#&gt;  [51] 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
#&gt;  [76] 50 50 50 50 50 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
#&gt; [101] 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
#&gt; [126] 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
</code></pre>
<p><sup>Created on 2024-04-12 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
<hr />
<h1>Edit</h1>
<p>Following <a href=""https://stackoverflow.com/users/2835261/lotus"">user @lotus</a>'s <a href=""https://stackoverflow.com/questions/78315935/saving-output-from-a-function-containing-loop-and-ifelse/78316021?noredirect=1#comment138069274_78316021"">comment</a> I realized that the loop is not needed at all.</p>
<pre class=""lang-r prettyprint-override""><code>fnct &lt;- function(x, y) {
  ifelse (x &gt;= y[1] &amp; x &lt;= y[2],
          y[3],
          ifelse (x &lt; y[1],
                  y[1], 
                  ifelse(max(x) - y[2] &gt; y[1], 
                         y[2], NA)))
}
fnct(c(1:150),c(20,80,50))
#&gt;   [1] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 50 50 50 50 50 50
#&gt;  [26] 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
#&gt;  [51] 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
#&gt;  [76] 50 50 50 50 50 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
#&gt; [101] 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
#&gt; [126] 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80
</code></pre>
<p><sup>Created on 2024-04-12 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.1.0</a></sup></p>
","2024-04-12 11:37:35","2","Answer"
"78315935","","Saving output from a function containing loop and ifelse","<p>Basically I wan to be able to save a function output in numeric format into an R object. The function contains a loop and ifelse arguments which may contribute to my difficulties in achieving this.</p>
<p>I would like to create a function like the following:</p>
<pre><code>fnct &lt;- function(x, y) {
  for (i in x) {
    ifelse(i &gt;= y[1] &amp; i &lt;= y[2], y[3], 
            ifelse(i &lt; y[1], y[1], 
                    ifelse((max(x) - y[2] &gt; y[1]), y[2], 
                           NA)))
  }
}
</code></pre>
<p>If I run this code, nothing happens.</p>
<pre><code>fnct(c(1:150), c(20, 80, 50)) 
</code></pre>
<p>If I modify the code as follows by adding print arguments, I get an ouptut:</p>
<pre><code>fnct &lt;- function(x, y) {
  for (i in x) {
    ifelse(i &gt;= y[1] &amp; i &lt;= y[2],
            print(y[3]),
            ifelse(i &lt; y[1],
                    print(y[1]), ifelse((max(x) - y[2] &gt; y[1]),
                                        print(y[2]),
                                        print(NA))))
  }
}
</code></pre>
<p>But I cannot save it to an r object.</p>
<p>I have also tried the following:</p>
<pre><code>fnct &lt;- function(x, y) {
  res &lt;- matrix(nrow=length(x))
  for (i in x) {
    ifelse(i &gt;= y[1] &amp; i &lt;= y[2],
            res[i] &lt;- (y[3]),
            ifelse(i&lt;y[1],
                   res[i] &lt;- (y[1]), ifelse((max(x) - y[2] &gt; y[1]),
                                           res[i] &lt;- (y[2]),
                                           res[i] &lt;- (NA))))
  }
  return(res)
}
</code></pre>
<p>which works in this case:</p>
<pre><code>fnct(c(1:150), c(20, 80, 50)) 
</code></pre>
<p>but not for this:</p>
<pre><code>fnct(seq(1.575, 5.125, by=0.05), c(1.5, 3, 3.5))
</code></pre>
","2024-04-12 11:20:40","1","Question"
"78315824","78315775","","<p>First compute the median per group (with <a href=""https://pandas.pydata.org/docs/reference/api/pandas.core.groupby.DataFrameGroupBy.median.html"" rel=""nofollow noreferrer""><code>groupby.median</code></a>), get rid of the NaNs with <a href=""https://pandas.pydata.org/docs/reference/api/pandas.Series.dropna.html"" rel=""nofollow noreferrer""><code>dropna</code></a>, and perform a <a href=""https://pandas.pydata.org/docs/reference/api/pandas.merge_asof.html"" rel=""nofollow noreferrer""><code>merge_asof</code></a> to map the missing values. Use the output to fill the NaN by <a href=""https://pandas.pydata.org/docs/user_guide/indexing.html#boolean-indexing"" rel=""nofollow noreferrer"">boolean indexing</a>:</p>
<pre><code>tmp = df.groupby('total')['area'].median().dropna()

df.loc[df['area'].isna(), 'area'] = pd.merge_asof(
    df['total'].reset_index(), tmp, on='total'
).set_index('index')['area']
</code></pre>
<p>Output:</p>
<pre><code>   total  area
0      5  40.0
1      8  51.0
2      8  53.0
3      8  52.0
4     20  52.0
5     56  34.0
6     59  34.0
</code></pre>
","2024-04-12 11:00:54","0","Answer"
"78315775","","How to fill empty NaN data with median values taken from the list based on other columns that are similar in value","<p>It is necessary to replace the empty Nan values (the 'area' column) with the median value from other areas (equal to or less than the 'total' value).
For example:
Line 2 has the value 'total'==8.
Select the table with the values 'total'==8, look for the median for 'area'.median() and write the value (if any).
If there is no value, then reduce the 'total' by 1 and search further.
And in line 6 there is the value 'total'==59. Therefore, let's take the median of 'total'==56 and the value of 'area'=34.</p>
<p>Here's what the data should look like: result</p>
<pre><code>import pandas as pd
import numpy as np

df = pd.DataFrame({'total': [5, 8, 8, 8, 20, 56, 59], \
'area': [40, 51, 53, np.nan, np.nan, 34, np.nan]})
df

#   total   area
0   5   40.0
1   8   51.0
2   8   53.0
3   8   NaN
4   20  NaN
5   56  34.0
6   59  NaN
</code></pre>
<pre><code>result = pd.DataFrame({'total': [5, 8, 8, 8, 20, 56, 59], 'area': [40, 51, 53, 52, 52, 34, 34]})
result

#   total   area
0   5   40
1   8   51
2   8   53
3   8   52
4   20  52
5   56  34
6   59  34
</code></pre>
<p>I have created a function, but it does not produce the desired result:</p>
<pre><code>def find_area(total_num, x=1):
    while x &gt; 0:
        y = df.query('total == @total_num')['area'].sum()
        if y &gt; 0:
            return df.query('total == @total_num')['area'].median()
            x=0
            break
        else:
            total_num -= 1

df['area'] = df['area'].fillna(find_area)
df
</code></pre>
","2024-04-12 10:52:30","1","Question"
"78315594","78315483","","<p>Could you please post the full code you used? I've tested it out with what I believe is the stdarray.create2D function that you're using- you forgot to include that!</p>
<p>(I suspect that the issue arises from your use of a variable 'piece' rather than a reference to a new array or other data structure. That suggests that either you're overwriting it at the wrong time, or that your code is simply not doing what you think it is.)</p>
","2024-04-12 10:17:01","-1","Answer"
"78315483","","Changing array elements by indexing","<p>I have a list/array which has elements which need to be changed now and then. I changed elements in the list by indexing, and when I print out the list, it the changes have been made.</p>
<pre><code>l = stdarray.create2D(width,height,&quot;c&quot;)
l[0][5] = &quot;d&quot;
l[3][4] = &quot;A&quot;
l[2][6] = &quot;D&quot;
</code></pre>
<p>the output I get from printing it out is this:</p>
<p>[['c', 'c', 'c', 'c', 'c', 'd', 'c'], ['c', 'c', 'c', 'c', 'c', 'c', 'c'], ['c', 'c', 'c', 'c', 'c', 'c', 'D'], ['c', 'c', 'c', 'c', 'A', 'c', 'c'], ['c', 'c', 'c', 'c', 'c', 'c', 'c'], ['c', 'c', 'c', 'c', 'c', 'c', 'c'], ['c', 'c', 'c', 'c', 'c', 'c', 'c'], ['c', 'c', 'c', 'c', 'c', 'c', 'c'], ['c', 'c', 'c', 'c', 'c', 'c', 'c'], ['c', 'c', 'c', 'c', 'c', 'c', 'c']]</p>
<p>which is what I expect.</p>
<p>However when I use the list elsewhere (in another function) the original list (with c only) is used as though I didn't make any changes, this is the entirety of the code</p>
<pre><code>global l
l = stdarray.create2D(width,height,&quot;c&quot;)
l[0][5] = &quot;d&quot;
l[3][4] = &quot;A&quot;
l[2][6] = &quot;D&quot;
#stdio.write(l)
i = 0

        for a in range(len(l)):
            for b in range(len(l[a])):
                piece = l[a][b]

</code></pre>
<p>I get a board with c's only as though I did not change the contents of the list.</p>
<p>I don't understand what my problem is currently.
Can you just give me hints as to what I did wrong</p>
","2024-04-12 09:55:52","-1","Question"
"78313408","78313389","","<p>The approach from <a href=""https://stackoverflow.com/a/36871498/1048572"">my answer</a> to <a href=""https://stackoverflow.com/q/36871299/1048572"">How to extend Function with ES6 classes?</a> works just fine with private class fields:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function ExtensibleFunction(f) {
  return Object.setPrototypeOf(f, new.target.prototype);
}
ExtensibleFunction.prototype = Function.prototype;

class Weird extends ExtensibleFunction {
  #data;
  constructor(data) {
    super((...args) =&gt; this._call(...args));
    this.#data = data;
  }
  _call(x) {
    console.log(`This object is directly callable and has access to ${this.#data}`);
  }
  get data() {
    return this.#data;
  }
}

const example = new Weird('example data');
console.log(example.data);
example();</code></pre>
</div>
</div>
</p>
<p>Or like this:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const call = Symbol('call');
function ExtensibleFunction() {
  const f = () =&gt; f[call]();
  return Object.setPrototypeOf(f, new.target.prototype);
}
ExtensibleFunction.prototype = Function.prototype;

class Weird extends ExtensibleFunction {
  #data;
  constructor(data) {
    super();
    this.#data = data;
  }
  [call](x) {
    console.log(`This object is directly callable and has access to ${this.#data}`);
  }
  get data() {
    return this.#data;
  }
}

const example = new Weird('example data');
console.log(example.data);
example();</code></pre>
</div>
</div>
</p>
","2024-04-11 23:12:35","1","Answer"
"78313389","","Create callable objects with private properties without arguments.callee","<p>By callable object I mean an object that's also a function similar to jQuery.</p>
<p>There's plenty of resources for doing this, such as <a href=""https://medium.com/@adrien.za/creating-callable-objects-in-javascript-fbf88db9904c"" rel=""nofollow noreferrer"">this article</a>.</p>
<p>However problem arise when I try to implement private fields/properties.</p>
<p>Only the method utilizing <code>arguments.callee</code> appears to work.</p>
<pre class=""lang-js prettyprint-override""><code>new class extends Function {
  constructor() {
    super('return arguments.callee._call(...arguments)')
  }
  _call(x) {
    console.log(&quot;this object is directly callable&quot;)
  }
  #data;
  get data() {
    return this.#data ??= link();
  }
}
</code></pre>
<p>But arguments.callee is deprecated and doesn't work in strict mode so it feels dirty doing it this way.</p>
<p>The conventional wisdom is to use a named function, but there appears to be no way to name the function created by the constructor() that I know of.</p>
<p>I <em>could</em> abandon class and private properties altogether and use IIFE to implement private variables but I really like how clean the syntax is with class and private properties and prefer to stick with it if possible.</p>
","2024-04-11 23:03:41","0","Question"
"78307387","78307194","","<p>Parameters are passed by value. It's not possible to get the name that was used in the argument (it might not be a named variable, it could be any expression).</p>
<p>Use a dictionary that maps logic names to expressions. Then pass the key to the function, and use this to look up the logic by name, and save that name in the dataframe.</p>
<pre><code>logic_dict = {
    'logic1': '''unit_sales &gt; 1000 and total_sales &gt;= 1000000''',
    'logic2': '''unit_sales &lt; 100 and total_sales &lt; 10'''
}

def function(logic, value):
    df.loc[df.eval(logic_dict[logic]), ['Change', 'Value']] = [logic, value] 
    return df

df = function('logic1', 500)
</code></pre>
","2024-04-10 22:22:21","0","Answer"
"78307194","","Python Function Variable Names Rather Than Values","<p>I have a dataframe. I need to create a new column if certain conditions are met. I've created logic in a variable.</p>
<p>Example:</p>
<pre><code>logic1 = '''
unit_sales &gt; 1000 and total_sales &gt;= 1000000
'''

logic2 = '''
unit_sales &lt; 100 and total_sales &lt; 10
'''
</code></pre>
<p>I've created two new columns:</p>
<pre><code>df[['Change','Value']] = None
</code></pre>
<p>Then based on my logic the value is set or ignored:</p>
<pre><code>df.loc[df.eval(logic1),'Change'] = 'logic1'
df.loc[df.eval(AP2_on),'Value'] = 500
</code></pre>
<p>This works great. I have a new value based on my logic and a field that tells me which logic made the modification. The issue is I want to make this into a function so I don't have to repeat code. Something like this:</p>
<pre><code>    def function(logic, value):
        df.loc[df.eval(logic),'Change'] = logic 
#----I need the variable name (i.e. 'logic1' and not the variable value#
        df.loc[df.eval(logic),'Value'] = value
        return df

    df = function(logic1, 500)
</code></pre>
<p>I've searched a while and can't seem to find anything that will help.</p>
<p>Any thoughts?</p>
","2024-04-10 21:26:17","0","Question"
"78306203","78306051","","<p>Your <code>rep(..round(data))</code> needs a numeric input, a length.</p>
<p>Try this:</p>
<pre><code>validation_column &lt;- function(data) {
  
  # Generate a vector of labels based on the desired ratio
  labels &lt;- c(
    rep(&quot;training&quot;,   round(0.75 * length(data))), # length(data) 
    rep(&quot;validation&quot;, round(0.25 * length(data)))) # length(data)
  
  # Shuffle the labels
  labels &lt;- sample(labels)
  
  return(labels)
}
</code></pre>
<p>Pass a column as <code>mutate</code> input:</p>
<pre><code>&gt; mutate(df, validation = validation_column(z))
# A tibble: 1,500 × 6
       x  true measurment z     ID    validation
   &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     
 1     1  30.8       26.0 a     a1    training  
 2     2  30.8       25.6 a     a1    training  
 3     3  30.8       27.5 a     a1    training  
 4     4  30.8       26.0 a     a1    training  
 5     5  30.8       26.4 a     a1    validation
 6     6  30.8       24.6 a     a1    validation
 7     7  30.8       27.2 a     a1    validation
 8     8  30.8       24.1 a     a1    training  
 9     9  30.8       25.0 a     a1    training  
10    10  30.8       25.9 a     a1    training  
# ℹ 1,490 more rows
# ℹ Use `print(n = ...)` to see more rows
</code></pre>
<p><strong>Edit</strong>. Sample data with <code>set.seed</code>:</p>
<pre><code>set.seed(100)

df &lt;-tibble(
  x = rep(seq(1,15, by=1), 100),
  true = rep((seq(1,100, by=1) * 100 * runif(1)), each = 15), 
  measurment = lapply(
    rep(1,100), 
    function(data){
      data*rnorm(15, mean = 100*runif(1), sd = 2)
      }) %&gt;%
    unlist(),
  z = rep(c(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;), 20, each = 15),
  ID = rep(paste0(&quot;a&quot;, 1:20), each = 15*5))
</code></pre>
","2024-04-10 17:44:50","1","Answer"
"78306051","","writing group_by friendly functions","<p>I'm building a function to add a validation coulomb to my data that I plan to model later. (tidymodel::initial.split() won't let me stratify deeply enough hence my diy approach)</p>
<p>the function is simple it will add a column (when used throughout mutate) that reads either &quot;validation&quot; or &quot;testing&quot; and will randomly apply these at a 0.25/075 ratio.</p>
<p>I have made the function fully work but it isn't perfect. the only way i can get it to see the group_by is to place a n() in my execution code</p>
<pre><code>#edit
set.seed(100)

#exsample data
df&lt;-tibble(x = seq(1,15,by=1)%&gt;%rep(100),
           true = (seq(1,100,by=1)*100*runif(1))%&gt;%rep(each = 15),  
           measurment = lapply(rep(1,100),
                               function(data) 
                               {data*rnorm(15, mean = 100*runif(1), sd = 2)}
           )%&gt;%unlist(),
           z = c(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;)%&gt;%rep(20, each = 15),
           ID = paste0(&quot;a&quot;, 1:20)%&gt;%rep(each = 15*5)
)



validation_column &lt;- function(data) {
  # Generate a vector of labels based on the desired ratio
  labels &lt;- c(rep(&quot;training&quot;, round(0.75 * data)), rep(&quot;validation&quot;, round(0.25 * data)))
  # Shuffle the labels
  labels &lt;- sample(labels)
  return(labels)
}

df %&gt;%
  group_by(ID,z) %&gt;%
  mutate(validation = validation_column(n()))

</code></pre>
<p>I believe I need to incorporate some kind of if{} into my code to trigger a do() when I build the function but i cant figure out how exactly. this was my attempt based on
<a href=""https://www.r-bloggers.com/2018/07/writing-pipe-friendly-functions/"" rel=""nofollow noreferrer"">https://www.r-bloggers.com/2018/07/writing-pipe-friendly-functions/</a> but it still doesn't work</p>
<p>any advice would be welcome so i can build beter functions in the future.</p>
<pre><code>validation_column &lt;- function(data) {
  if (dplyr::is_grouped_df(data)) {
    return(dplyr::do(data, ~ validation_column(.)))
  }
  
  # Generate a vector of labels based on the desired ratio
  labels &lt;- c(rep(&quot;training&quot;, round(0.75 * n(data))), rep(&quot;validation&quot;, round(0.25 * n(data))))
  # Shuffle the labels
  labels &lt;- sample(labels)
  return(labels)
}


df %&gt;%
  group_by(ID,z) %&gt;%
  mutate(validation = validation_column())
</code></pre>
","2024-04-10 17:14:55","0","Question"
"78305876","78305842","","<p>Move <code>exampleFunction()</code> out of <code>Component1</code> so it's a top-level function in the <code>component1</code> file, and export it.</p>
<pre><code>export function exampleFunction() {
    // function code here
}

const Component1 = () =&gt; {

}

export default Component1

</code></pre>
","2024-04-10 16:38:45","2","Answer"
"78305842","","Importing function from another ReactJS component","<p>I have a component that contains a function:</p>
<pre><code>const Component1 = () =&gt; {

    function exampleFunction(){
        // function code here
    }
}

export default Component1;
</code></pre>
<p>Component1 is imported by  other components so I default export it as above.
I'm trying to import it in component2 but I get an error saying:</p>
<pre><code>export 'exampleFunction' (imported as 'function') was not found in './component1' (possible exports: default)
</code></pre>
<pre><code>import { exampleFunction } from './component1';

const Component2 = () =&gt; {

   return(
      &lt;div&gt;{exampleFunction()}&lt;/div&gt;
   ); 

}

export default Component2;
</code></pre>
","2024-04-10 16:31:30","-1","Question"
"78304980","78303759","","<p>Well, the arrays in VBA do not have such a <code>Remove</code> property...</p>
<p>The arrays field is large and rather complicated. In the next code I will try explaining how you can remove elements from <strong>1D arrays without iteration</strong>.</p>
<p>You will see each code sequence return in <code>Immediate Window</code>. It can be seen pressing <code>Ctrl + G</code>, being in Visual Basic for Application Editor (VBE):</p>
<pre><code>
Sub PlayWith1DArrays()
  Dim arr, i As Long
  ReDim arr(5) '(0 To 5) = 6 elements...
  For i = 0 To 5
    arr(i) = i
  Next i
  Debug.Print Join(arr, &quot;|&quot;)  'just tp see the loaded aray
  arr = filter(arr, 1, False) 'remove the 1 element
  Debug.Print Join(arr, &quot;|&quot;)  'it returns 0|2|3|4|5
  
  'But loading the array in a similar way, WITH MORE ELEMENTS,
  'making it to load MORE elements CONTAINING 1:
  ReDim arr(1 To 15)
  For i = 1 To UBound(arr)
    arr(i) = i
  Next i
  Debug.Print Join(arr, &quot;|&quot;) 'the loaded array
  arr = filter(arr, 1, False)
  Debug.Print Join(arr, &quot;|&quot;) 'it returns 2|3|4|5|6|7|8|9
                             'it performs a textual comparison...
                             'removing elements containing 1 character.
                             
  'But you can use a TRICK to remove the EXACT (string) element:
  ReDim arr(1 To 15)
  For i = 1 To UBound(arr)
    arr(i) = &quot;arr &quot; &amp; i
  Next i
  Debug.Print Join(arr, &quot;|&quot;) 'the loaded array by iteration
  Dim elToRemove As String: elToRemove = &quot;Arr 1&quot; 'the element to be removed (no case sensitive...)
  Dim mtch
  Const strangeString As String = &quot;xx$_$##&quot; 'a strimg extremely improbable to be
                                            'contained by that array elements
  mtch = Application.match(elToRemove, arr, 0)
  If IsNumeric(mtch) Then  'if it exists in the array
    arr(mtch) = strangeString
    arr = filter(arr, strangeString, False)
  End If
  Debug.Print Join(arr, &quot;|&quot;) 'it returns the array without its first element...
                             'arr 2|arr 3|arr 4|arr 5|arr 6|arr 7|arr 8|arr 9|arr 10|arr 11|arr 12|arr 13|arr 14|arr 15
                             'ReDim arr(1 To 15)...
                             
  'But this is happening when the LBound of the array is 1...
  'Otherwise, you need to check it and adapt:
  ReDim arr(14) ' (0 to 14)...
  For i = LBound(arr) To UBound(arr)
    arr(i) = &quot;arr &quot; &amp; i
  Next i
  Debug.Print Join(arr, &quot;|&quot;) 'the loaded array by iteration
  Debug.Print &quot;LBound of arr = &quot; &amp; LBound(arr) 'LBound of the array declared as ReDim arr(14) is zero...
  mtch = Application.match(elToRemove, arr, 0)
  If IsNumeric(mtch) Then  'if it exists in the array
    arr(IIf(LBound(arr) = 0, mtch - 1, 1)) = strangeString 'match returns 1 for the first array element
                                                           'in a 1D array, without Option Base 1 or without
                                                           'ReDim with LBound different than 0, is zero!
    arr = filter(arr, strangeString, False)
  End If
  Debug.Print Join(arr, &quot;|&quot;) 'it returns the array without its second element...
                             'arr 0|arr 2|arr 3|arr 4|arr 5|arr 6|arr 7|arr 8|arr 9|arr 10|arr 11|arr 12|arr 13|arr 14
  
  'A 2D array with a single column and a single row can be easily transformed in a 1D type and use the above
  'explained rules:
  ReDim arr(1 To 11, 1 To 1) 'a single column...
  For i = 1 To UBound(arr)
    arr(i, 1) = &quot;arr &quot; &amp; i
  Next i
  arr = Application.Transpose(arr) 'transform it in 1D array by transposing...
  Debug.Print Join(arr, &quot;|&quot;)       'the loaded array by iteration
  
  ReDim arr(1 To 1, 1 To 11) 'a single row...
  For i = 1 To UBound(arr, 2) 'the columns number
    arr(1, i) = &quot;arr &quot; &amp; i
  Next i
  arr = Application.Transpose(Application.Transpose(arr)) 'transform it in 1D array by DOUBLE transposing...
  Debug.Print Join(arr, &quot;|&quot;)       'the loaded array by iteration
  
  'proceed as above to filter it...
End Sub
</code></pre>
<p>I used <code>Join</code> function only to visually see the processing/filtering/removing return against the array loaded by iteration...</p>
<p>In the 2D arrays it is much more complicated to filter elements by rows or by columns... Basically, it can be done by iteration.</p>
<p>If something is not clear enough, please do not hesitate to specifically ask for clarifications.</p>
<p>Please, send some feedback after testing it.</p>
","2024-04-10 14:00:57","0","Answer"
"78304278","78303759","","<p>The array is not a collection and does not have a <code>Remove</code> method.<br />
You also can't modify the elements of an array by using a <code>For Each</code> loop, you have to refer to the elements of the array explicitly. And for that, you need to know how many dimensions the array has.<br />
If the array has no more than 2 dimensions, you can use the following code, if the array could have more dimensions (a rare case) the code would need to be extended.</p>
<pre><code>Function removeAllFromArray(ByRef element As Variant, ByRef a As Variant) As Boolean
    Dim i As Integer, j As Integer, s As Long
    If IsArray(a) Then
        On Error Resume Next
        s = UBound(a, 2)
        s = Err &lt;&gt; 0 ' 1 dim
        On Error GoTo 0
        If s = 0 Then
            For i = LBound(a) To UBound(a)
                For j = LBound(a, 2) To UBound(a, 2)
                    If a(i, j) = element Then a(i, j) = Empty
            Next j, i
        Else
            For i = LBound(a) To UBound(a)
                If a(i) = element Then a(i) = Empty
            Next i
        End If
    Else
        If a = element Then a = Empty
    End If
    removeAllFromArray = arrayContainsA(a, element)
End Function

Function arrayContainsA(ByRef arrayOfSearch As Variant, _
                        ByRef searchedElement As Variant) As Boolean
    Dim element As Variant
    For Each element In arrayOfSearch
        If element = searchedElement Then
            arrayContainsA = True
            Exit Function
        End If
    Next element
End Function

Sub Test()
    Dim MyArr(1 To 5) As Long
    Dim i As Long
    For i = 1 To 5
        MyArr(i) = i
    Next i
    Debug.Print removeAllFromArray(2, MyArr)
    Dim MyArr2(1 To 5, 1 To 1) As Long
    For i = 1 To 5
        MyArr2(i, 1) = i
    Next i
    Debug.Print removeAllFromArray(2, MyArr2)
    
End Sub
</code></pre>
","2024-04-10 12:03:46","0","Answer"
"78304246","78304081","","<p>Your approach is only considering the differences between consecutive <code>timestamp2</code> values. To satisfy the constraint, you need to check the difference between the current row's <code>timestamp1</code> and the minimum <code>timestamp1</code> within the group as well.</p>
<pre><code>import pandas as pd

# Sample DataFrame
data = {
    'timestamp1': ['2022-02-18', '2022-02-19', '2022-02-21', '2022-03-11', '2022-03-12', '2022-03-30'],
    'timestamp2': ['2023-01-02', '2023-01-04', '2023-01-11', '2024-02-05', '2024-02-06', '2024-02-07']
}
df = pd.DataFrame(data)
df['timestamp1'] = pd.to_datetime(df['timestamp1'])
df['timestamp2'] = pd.to_datetime(df['timestamp2'])

# Function to assign groups
def assign_groups(df):
    groups = []
    current_group = 1
    start_timestamp2 = df.iloc[0]['timestamp2']
    start_timestamp1 = df.iloc[0]['timestamp1']
    for i, row in df.iterrows():
        if (row['timestamp2'] - start_timestamp2).days &gt; 4 or (row['timestamp1'] - start_timestamp1).days &gt; 4:
            current_group += 1
            start_timestamp2 = row['timestamp2']
            start_timestamp1 = row['timestamp1']
        groups.append(current_group)
    return groups

# Assign groups
df['group'] = assign_groups(df)

print(df)
</code></pre>
","2024-04-10 11:59:17","0","Answer"
"78304081","","How to group rows in dataset by two timestamps rage sizes?","<p>I have a dataframe with two timestamps:</p>
<pre><code>timestamp1             timestamp2
2022-02-18            2023-01-02    
2022-02-19            2023-01-04    
2022-02-21            2023-01-11    
2022-03-11            2024-02-05    
2022-03-12            2024-02-06    
2022-03-30            2024-02-07        
</code></pre>
<p>i want to group them (create new parameter group) by timestamps ranges. in each timestamp per group range of dates must not exceed a 4 days (so difference between max and min within group must be no higher than 4 days). so dessired result can be like:</p>
<pre><code>timestamp1             timestamp2       group
2022-02-18            2023-01-02            1
2022-02-19            2023-01-04            1
2022-02-21            2023-01-11            2
2022-03-11            2024-02-05            3
2022-03-12            2024-02-06            3
2022-03-30            2024-02-07            4
</code></pre>
<p>as you see third row doesnt have group 1 because timestamp2 is 2023-01-11 (9 days larger than smallest timestamp2 in group 1). and last row is not in group 3 since its timestamp1 is 19 days larger than min timestamp1 in group 1</p>
<p>The goal is two have as many rows per group as possible with constraints mentioned before</p>
<p>How to do that? I tried this but it doesnt give desired results especially on larger dataset:</p>
<pre><code>import pandas as pd

# Sample DataFrame
data = {
    'timestamp1': ['2022-02-18', '2022-02-19', '2022-02-21', '2022-03-11', '2022-03-12', '2022-03-30'],
    'timestamp2': ['2023-01-02', '2023-01-04', '2023-01-11', '2024-02-05', '2024-02-06', '2024-02-07']
}
df = pd.DataFrame(data)
df['timestamp1'] = pd.to_datetime(df['timestamp1'])
df['timestamp2'] = pd.to_datetime(df['timestamp2'])

# Function to assign groups
def assign_groups(df):
    groups = []
    current_group = 1
    start_timestamp2 = df.iloc[0]['timestamp2']
    for i, row in df.iterrows():
        if (row['timestamp2'] - start_timestamp2).days &gt; 4:
            current_group += 1
            start_timestamp2 = row['timestamp2']
        groups.append(current_group)
    return groups

# Assign groups
df['group'] = assign_groups(df)
</code></pre>
","2024-04-10 11:25:00","2","Question"
"78303759","","VBA function to delete all specific element from an array","<p>How to write a vba function which delete all elements from an array with a given value.
I believe the funciton definition would look like this:</p>
<pre><code>Function removeAllFromArray(element as Variant, myArray as Variant) as Boolean

...

removeAllFromArray = ? 
- True if all removed with the given value (element)
- Else it's False
End Function 

Function removeAllFromArray(ByRef element As Variant, ByRef a As Variant) As Boolean
    Dim i As Integer
    Dim iter As Variant
    For Each iter In a
        If iter = element Then
            a.Remove (iter)
        End If
    Next iter
    removeAllFromArray = arrayContainsA(a, element)
End Function
</code></pre>
<p>Where the arrayContainsA function is looks like this:</p>
<pre><code>Function arrayContainsA(ByRef arrayOfSearch As Variant, ByRef searchedElement As Variant) As Boolean
    Dim element As Variant
    For Each element In arrayOfSearch
        If element = searchedElement Then
            arrayContainsA = True
            Exit Function
        End If
    Next element
    arrayContainsA = False
    Exit Function
End Function
</code></pre>
<p>It doesn't work at all.</p>
","2024-04-10 10:28:14","0","Question"
"78303548","78303342","","<p>Streamlit reruns your script on every interaction (like pressing the button). When you press the button, your entire script will be executed again but this time, <code>st.button</code> will return <code>True</code>, allowing you to do <code>if st.button(...):</code>, which executes the code in the <code>if</code> block right after the button appears.</p>
<p>When you use <code>on_click</code>, the script will still be rerun. The function that you passed to <code>on_click</code> will be executed <em>before the script</em>, at the beginning of the run, <em>not</em> after the button. So, naturally, any element that you generate in that callback will appear before other elements, since they weren't regenerated in this run yet.</p>
<p>Here is a link to a thread on Streamlit forums where this is discussed: <a href=""https://discuss.streamlit.io/t/what-is-a-difference-between-an-if-block-and-on-click-for-a-button/43905/5"" rel=""nofollow noreferrer"">link</a>.</p>
<blockquote>
<p>Can I do something else inside a on_click function different to set session_state variables?</p>
</blockquote>
<p>Yes, you can use it to do anything. But it will run before anything else, you have to keep that in mind. If you don't want that, you can either use <code>if st.button(...):</code> instead or use it to set session state variables to trigger some conditional code in a different part of the script.</p>
<p>Here is a nice use case for <code>on_click</code>: after pressing the button, we want something to appear <em>before it</em>. <code>on_click</code> is used to set the variable right away, before we even get to the button and notice that it returned <code>True</code> this time (You can use the <code>key</code> parameter of <code>st.button</code> to achieve a similar effect, creating a session state variable that you can use before you get to the button in this run).</p>
<pre><code>if &quot;clicked&quot; not in st.session_state:
    st.session_state[&quot;clicked&quot;] = False

def drawBtn():
    option= ...
    st.button(&quot;Find&quot;, on_click= onSearch, args= [option])
    
def onSearch(opt):
    st.session_state[&quot;clicked&quot;] = True
    
if st.session_state[&quot;clicked&quot;]:
    st.success(&quot;Done!&quot;)

drawBtn()
</code></pre>
","2024-04-10 09:48:51","3","Answer"
"78303342","","Streamlit button on_click how to use it?","<p>I've the following code</p>
<pre><code>def drawBtn():
    option= ...
    st.button(&quot;Find&quot;, on_click= onSearch, args= [option])
    
def onSearch(opt):
    # do something and then...
    st.success(&quot;Done!&quot;)
    
drawBtn()
</code></pre>
<p>The problem here is that the message &quot;Done&quot; is insert at the top of the page instead of at the end. This problem appear only if i use on_click function. If i change it with <em>if st.button(...):</em> it work as i expect</p>
<p>Why using on_click function seems like moving the pointer of the page at the beginning?</p>
<p>Searching on the internet i saw always function that set only variables in st.session_state. So another question is: can I do something else inside a on_click function different to set session_state variables?
Because If I try to add something else, that content is drawn always at the beginning of the page</p>
","2024-04-10 09:16:18","1","Question"
"78300651","","How to allow the user to input more than one number of a specific item that is included in a dictionary","<p>In an intro to comp sci course so this is very basic code and should remain so. I was tasked with creating a vending machine with various features and two of them that i am stuck on are allowing the user to enter more than one of an item in the vending machine i.e: user inputs that they want 2 lipsticks instead of 1. The second issue is creating code that will calculate the total of the cart while also accounting for how many of a specific item they got such as totalling their cart to $18 if they got 2 lipsticks and 1 eyeshadow instead of $10 (i hope that makes sense).  My code works so far and I haven't finished inputting the menu but I feel like I need to fix the two problems before I continue to creating my next else statement for option d (checkout)</p>
<pre><code>
makeup_cart = []

makeup = {'lipstick': 8.00, 'highlight': 9.00, 'eyeshadow': 2.00, 'foundation':11.00, 'eyeliner':5.00, 'bronzer':7.00, 'lipliner':7.00,'blush':5.00, 'mascara':8.00, 'lipgloss  ': 4.00 }

while True:
        print(&quot;\nMenu:&quot;)
        print(&quot;a = Display makeup list and prices&quot;)
        print(&quot;b = Add a makeup item to cart&quot;)
        print(&quot;c = View cart&quot;)
        print(&quot;d = Checkout&quot;)
        print(&quot;e = Exit&quot;)

        choice = input(&quot;Enter your choice (a-e): &quot;)

        if choice == &quot;a&quot;:
            print(makeup) # prints makeup dictionary
        elif choice == &quot;b&quot;:
            item = input(&quot;Enter a makeup from the menu item to add: &quot;) #prompts user to input for makeup to add to cart 
            makeup_cart.append(item) #adds item to cart
            print(f&quot;your {item} has been added to the cart  &quot;) 
            print (makeup_cart) # prints current cart
        elif choice == &quot;c&quot;:
            if makeup_cart:
              print(&quot;Makeup Cart:&quot;)
              for item in makeup_cart: #prints items the user added into the cart as a list of items 
                print( item)
        else:
          print(&quot;The makeup cart is empty&quot;) # if user hasnt added anything then the cart will come up empty 
      
</code></pre>
<p>I was thinking to create another dictionary and use count+=1 so that the program takes into account the number of products the user wants. my next step is to create another else statement for option d which is checkout and thats where the second issue arises about how to calculate the total.</p>
","2024-04-09 19:16:02","0","Question"
"78300250","78297346","","<p>The problem in the first version is in this section:</p>
<pre class=""lang-py prettyprint-override""><code>    self.head = node1
    
    self.head.next = node2
    
    temp = self.head.next
    t1 = node1.next
</code></pre>
<p>The assignment to <code>self.head.next</code> is an assignment to <code>node1.next</code>, so when you do <code>t1 = node1.next</code> it is not the intended node reference.</p>
<p>Let's visualise it with two lists that have three nodes. Before the above quoted statements are executed, we have this:</p>
<pre class=""lang-none prettyprint-override""><code>           node1
            │
          ┌─┴─────────┐   ┌───────────┐   ┌───────────┐
          │ value: 3  │   │ val: 2    │   │ val: 5    │
          │ next: ────────┤ next: ────────┤ next: None│
          └───────────┘   └───────────┘   └───────────┘
self
┌─┴─────────┐
│ head: None│
└───────────┘
    
          ┌───────────┐   ┌───────────┐   ┌───────────┐
          │ value: 6  │   │ val: 9    │   │ val: 4    │
          │ next: ────────┤ next: ────────┤ next: None│
          └─┬─────────┘   └───────────┘   └───────────┘
            │
           node2
</code></pre>
<p>After the first two statements have executed, we have this:</p>
<pre class=""lang-none prettyprint-override""><code>           node1
            │
          ┌─┴─────────┐   ┌───────────┐   ┌───────────┐
          │ value: 3  │   │ val: 2    │   │ val: 5    │
        ┌─┤ next: ┐   │   │ next: ────────┤ next: None│
        │ └───────│───┘   └───────────┘   └───────────┘
self    │         │
┌─┴─────│───┐     │
│ head: ┘   │     │
└───────────┘     │
        ┌─────────┘
        │ ┌───────────┐   ┌───────────┐   ┌───────────┐
        │ │ value: 6  │   │ val: 9    │   │ val: 4    │
        └─┤ next: ────────┤ next: ────────┤ next: None│
          └─┬─────────┘   └───────────┘   └───────────┘
            │
           node2
</code></pre>
<p>... and you will notice how the node with value 2 has been orphaned: it is no longer reachable. When the last two statements are executed, <code>t1</code> is referencing the wrong node:</p>
<pre class=""lang-none prettyprint-override""><code>           node1
            │
          ┌─┴─────────┐   ┌───────────┐   ┌───────────┐
          │ value: 3  │   │ val: 2    │   │ val: 5    │
        ┌─┤ next: ┐   │   │ next: ────────┤ next: None│
        │ └───────│───┘   └───────────┘   └───────────┘
self    │         │
┌─┴─────│───┐     │
│ head: ┘   │     │
└───────────┘     │
        ┌─────────┘
        │ ┌───────────┐   ┌───────────┐   ┌───────────┐
        │ │ value: 6  │   │ val: 9    │   │ val: 4    │
        └─┤ next: ────────┤ next: ────────┤ next: None│
          └─┬─────┬──┬┘   └───────────┘   └───────────┘
            │     │  │
          node2  t1 temp
</code></pre>
<p>To fix this, place the assignment to <code>t1</code> <em>before</em> the statement that assigns to <code>self.head.next</code> and then you get:</p>
<pre class=""lang-none prettyprint-override""><code>           node1           t1
            │               │
          ┌─┴─────────┐   ┌─┴─────────┐   ┌───────────┐
          │ value: 3  │   │ val: 2    │   │ val: 5    │
        ┌─┤ next: ┐   │   │ next: ────────┤ next: None│
        │ └───────│───┘   └───────────┘   └───────────┘
self    │         │
┌─┴─────│───┐     │
│ head: ┘   │     │
└───────────┘     │
        ┌─────────┘
        │ ┌───────────┐   ┌───────────┐   ┌───────────┐
        │ │ value: 6  │   │ val: 9    │   │ val: 4    │
        └─┤ next: ────────┤ next: ────────┤ next: None│
          └─┬────────┬┘   └───────────┘   └───────────┘
            │        │
          node2     temp
</code></pre>
<p>Hope this clarifies it.</p>
","2024-04-09 17:45:18","1","Answer"
"78297346","","Shuffle merging two linked lists with the same number of nodes","<p>I have two functions for merging two linked lists assuming they have the same number of elements</p>
<p>The first one:</p>
<pre class=""lang-py prettyprint-override""><code>    def shuffle_merge(self, l1,l2):
        node1 = l1.head
        node2 = l2.head
        if not node1 and not node2:
            return
        self.head = node1
        
        self.head.next = node2
        
        temp = self.head.next
        t1 = node1.next
        t2 = node2.next
       
        
        while t1 and t2:
            temp.next = t1
            temp = temp.next
            t1 = t1.next
            temp.next = t2
            temp = temp.next
            t2= t2.next`
</code></pre>
<p>And the second function:</p>
<pre class=""lang-py prettyprint-override""><code>    def shuffle_merge(self, list1, list2):
        if list1.head is None and list2.head is None:
            return
        self.head=list1.head
        curr1=list1.head.next  
        self.head.next=list2.head
        curr2=list2.head.next
        new=self.head.next
        while curr1 and curr2:
            new.next=curr1
            new=new.next
            curr1=curr1.next
            new.next=curr2
            new=new.next
            curr2=curr2.next
</code></pre>
<p>Now the second one seems to work as expected but the first one doesn't for example, merging the lists 3-&gt;2-&gt;5-&gt;8-&gt;9 and 6-&gt;9-&gt;4-&gt;8-&gt;4 gives me the output 3-&gt;6-&gt;4. But why? I think it might be related to how the pointers work but I don't understand it.</p>
","2024-04-09 09:10:28","1","Question"
"78296637","78296310","","<p>I suppose you're encountering a common issue that arises when modifying a DataFrame within a function. When you modify the DataFrame within the function myFunc, the changes don't persist outside of the function scope unless you explicitly return the modified DataFrame and assign it back to the original variable.<br />
Here's a modification that might work</p>
<p>import pandas as pd</p>
<pre><code>df = pd.DataFrame({'TotalRevenue':[300,9000,1000,750,500,2000,0,600,50,500], 
                   'Date':['2016-12-02' for i in range(10)], 
                   'SaleCount':[10,100,30,35,20,100,0,30,2,20], 
                   'shops':['S3','S2','S1','S5','S4','S8','S6','S7','S9','S10']})

def myFunc(df):
    for el in range(0, len(df.dtypes)):
        if df.iloc[el].dtypes == 'float64':
            df = df.astype({df.columns[el]: 'int64'})
    return df

df = myFunc(df)
print(df.dtypes)
</code></pre>
<p>output</p>
<pre><code>   TotalRevenue     int64
   Date            object
   SaleCount        int64
   shops           object
   dtype: object
</code></pre>
","2024-04-09 07:02:34","0","Answer"
"78296615","78296310","","<p>Firstly, there are no float values (and so no column float dtypes) in the data you present. But assuming there was in say <code>TotalRevenue</code> then you cannot set to int64 dtype using your approach (you are not <strong>using</strong> the values returned from the function and if you did use this to set dtypes then it would cause an warning error). What you need to do is select the columns with the 'wrong' dtypes and change these:</p>
<p>Using a mask:</p>
<pre><code>m = df.select_dtypes('float64').columns

df[m] = df[m].astype('int64')
</code></pre>
<p>or if you wanted to use a loop:</p>
<pre><code>for column in df.columns:
    if df[column].dtype == 'float64':
        df[column] = df[column].astype('int64')
</code></pre>
","2024-04-09 06:57:48","1","Answer"
"78296310","","Problem with def function with astype method","<p>i try to iterate in my df.dtypes and when dtypes == 'float' i wanna change it to int.</p>
<pre><code>df = pd.DataFrame({'TotalRevenue':[300,9000,1000,750,500,2000,0,600,50,500], 
                   'Date':['2016-12-02' for i in range(10)], 
                   'SaleCount':[10,100,30,35,20,100,0,30,2,20], 
                   'shops':['S3','S2','S1','S5','S4','S8','S6','S7','S9','S10']})
</code></pre>
<pre><code>def myFunc(df):
  for el in range(0, len(df.dtypes)):
    if df.dtypes[el] == 'float64':
      df = df.astype({df.columns[el] : 'int64'})
  return df.dtypes

myFunc(df)      
</code></pre>
<p>and everythink work fine, code return me right dtypes</p>
<pre><code>TotalRevenue     int64
Date            object
SaleCount        int64
shops           object
dtype: object
</code></pre>
<p>But when i write df.dtypes in my note, nothing change</p>
<pre><code>TotalRevenue    float64
Date             object
SaleCount         int64
shops            object
dtype: object
</code></pre>
","2024-04-09 05:45:46","-2","Question"
"78296122","78295766","","<p>It seems like you use the cuda <strong>C API</strong> (since you pass <code>&quot;d_run&quot;</code> as a string, which is actually invalid - see below). In that case you can use the following workaround:<br />
Create a trivial wrapper around the cuda runtime function, and use <code>std::call_once</code> with it.<br />
The wrapper simply forwards the call to the cuda function:</p>
<pre><code>#include &lt;mutex&gt;

__device__ int d_run;
__global__ void kernel()
{
    d_run = 1;
}

cudaError_t CUDARTAPI cudaMemcpyFromSymbol_Wrapper(void* dst, const void* symbol, size_t count, size_t offset, enum cudaMemcpyKind kind)
{
    return cudaMemcpyFromSymbol(dst, symbol, count, offset, kind);
}

int main()
{
    kernel &lt;&lt; &lt;1, 1 &gt;&gt; &gt; ();
    int run;
    std::once_flag flag;
    std::call_once(flag, cudaMemcpyFromSymbol_Wrapper, &amp;run, &amp;d_run, sizeof(run), 0, cudaMemcpyDeviceToHost);
}
</code></pre>
<p><strong>Note</strong> that I passed <code>&amp;d_run</code> as argument for <code>symbol</code> instead of a string with the symbol name, as required by the <a href=""https://docs.nvidia.com/cuda/cuda-runtime-api/group__CUDART__MEMORY.html#group__CUDART__MEMORY_1g17ce3365ef7b6687a7d16c5b29de1f82"" rel=""nofollow noreferrer"">documentation</a>.
It is mentioned there that:</p>
<blockquote>
<p>Use of a string naming a variable as the symbol parameter was deprecated in CUDA 4.1 and removed in CUDA 5.0.</p>
</blockquote>
<p>I.e. passing the symbol name as a string is invalid.</p>
<p>If you can actually use the <strong>C++ API</strong>, then as @AbatorAbetor <a href=""https://stackoverflow.com/questions/78295766/how-to-assign-a-cuda-runtime-function-to-a-function-pointer/78296122#comment138033292_78295766"">suggested</a>,<br />
you simply need to specify the template type as <code>int</code> and pass <code>d_run</code> by reference:</p>
<pre><code>std::call_once(flag, cudaMemcpyFromSymbol&lt;int&gt;, &amp;run, d_run, sizeof(run), 0, cudaMemcpyDeviceToHost);
</code></pre>
","2024-04-09 04:37:06","3","Answer"
"78295766","","How to assign a cuda runtime function to a function pointer","<p>Suppose I have the following code</p>
<pre><code>#include &lt;mutex&gt;

__device__ int d_run;
__global__ void kernel()
{
    d_run = 1
}

int main()
{
    kernel&lt;&lt;&lt;1, 1&gt;&gt;&gt;();
    int run;
    std::once_flag flag;
    std::call_once(flag, cudaMemcpyFromSymbol, &amp;run, &quot;d_run&quot;, sizeof(run), 0, cudaMemcpyDeviceToHost);
}
</code></pre>
<p>I got the following error message</p>
<pre><code>no instance of function template &quot;std::call_once&quot; matches the argument list
            argument types are: (std::once_flag, &lt;unknown-type&gt;, int *, const char [6], unsigned long, int, cudaMemcpyKind)
</code></pre>
<p>It seems that the compiler cannot figure out the type of the function <code>cudaMemcpyFromSymbol</code>.<br />
I know it is a made-up example. The point is that how can one save a function pointer to a cuda runtime function.</p>
","2024-04-09 01:50:42","0","Question"
"78294719","78294592","","<p>you can use <code>__getattribute__</code> method from the class to set behaviour of the missing class attributes/methods.</p>
<pre><code>class ConverterProto():
    def __init__(self):
        pass

    def __getattribute__(self, table_name):
        func = lambda : print(&quot;data from&quot;, table_name)
        return func


_class = ConverterProto()
_class.Breeds()


# or now you can call gettattr
new_func = getattr(_class, 'Breeds')
new_func()
</code></pre>
<p>In your case if you want to have everything in one class maybe you need to consider smth like this:</p>
<pre><code>from typing import Callable


   
class ConverterProto():

    def convertSQLtoDict(self, sqlTable:str) -&gt; dict:
        print(&quot;converting table&quot;)
        return {'data': [0,1,2,3,4]}
        
    def __getattr__(self, table_name:str) -&gt; -&gt; Callable[[], dict]:

        # assume that table name should start with upper case
        # for example &quot;Breeds&quot;, &quot;Movies&quot; and etc
        if not table_name[0].isupper():
            return None

        # you need to return function (Callable object)                        
        func = lambda: self.convertSQLtoDict(table_name)
        return func


_class = ConverterProto()
_class.Breeds()
_class.Movies()
_class.Actors()
</code></pre>
","2024-04-08 19:20:56","0","Answer"
"78294625","78294592","","<p>You can use pythons “getattr()” function to call a method of a class based on the string input.</p>
","2024-04-08 18:58:10","0","Answer"
"78294592","","Run a class function with a string input","<p>I am converting a program from one database (SQL Lite) to Mongo DB: so I have tons of functions that im trying to simplify.</p>
<p>How do I run a class function with the text input?</p>
<p>Example</p>
<pre><code>def getListData(DataTableName: str) -&gt; dict:

    tempData = class.DataTableName()

    print(tempData)
</code></pre>
<p>and example of the function that would be called is this in the class:
`</p>
<pre><code> def Breeds(self) -&gt; dict:
        self.convertSQLtoDict(sqlTable=&quot;Breeds&quot;)
        return self.result
</code></pre>
<p>the above will return a dict that was converted from one of the sql tables</p>
<p>So ideally I would like to run</p>
<pre><code>getListData(DataTableName: str = &quot;Breeds&quot;)
</code></pre>
<p>and this will the function and then also</p>
<pre><code>tempData = class.Breeds() 
</code></pre>
<p>(Breeds substituted from the DataTableName)</p>
","2024-04-08 18:52:59","0","Question"
"78294282","78294227","","<p><a href=""https://docs.oracle.com/javase/8/docs/api/java/util/function/BiPredicate.html"" rel=""nofollow noreferrer""><code>BiPredicate&lt;T, U&gt;</code></a> is a functional interface (a SAM type) with the signature <code>boolean test(T t, U u)</code>. When a method accepts a SAM-typed argument, you can pass an explicit implementation of the class, a lambda expression, or a method ref.</p>
<p>If you don't need to pass your function around and invoke it from other places, stay with a plain old function. But if you need another method to receive a predicate, you will need to encode this into a type.</p>
<p>Let's quickly look at some examples:</p>
<pre><code>class MyClass {
  public static boolean stringEquals(final String s1, final String s2) {
    return s1.equals(s2);
  }
}

final BiPredicate&lt;String, String&gt; lambda = (a, b) -&gt; MyClass.stringEquals(a, b);
final BiPredicate&lt;String, String&gt; lambda2 = (a, b) -&gt; a.equals(b);
final BiPredicate&lt;String, String&gt; ref = MyClass::stringEquals;
final BiPredicate&lt;String, String&gt; ref2 = String::equals;
final BiPredicate&lt;String, String&gt; anonymous = new BiPredicate&lt;&gt;() {
  @Override boolean test(final String x, final String y) {
    return MyClass.stringEquals(x, y);
  }
};
final BiPredicate&lt;String, String&gt; anonymous2 = new BiPredicate&lt;&gt;() {
  @Override boolean test(final String x, final String y) {
    return x.equals(y);
  }
};

final boolean same = lambda.test(&quot;yes&quot;, &quot;yes&quot;);
final boolean same2 = lambda2.test(&quot;no&quot;, &quot;no&quot;);
final boolean different = ref.test(&quot;yes&quot;, &quot;no&quot;);
final boolean different2 = ref2.test(&quot;yes&quot;, &quot;no&quot;);
final boolean equal = anonymous.test(&quot;maybe&quot;, &quot;maybe&quot;);
final boolean equal2 = anonymous2.test(&quot;maybe&quot;, &quot;maybe&quot;);
</code></pre>
<p>Say you are writing a component that needs to compare strings, but you want users of your component to decide on how strings should be compared (<code>String#equals</code>, <code>Objects#equals</code>, <code>String#equalsIgnoreCase</code>). You could define your method as follows:</p>
<pre><code>class MyComponent {
  public boolean compare(final String s1, final String s2, final BiPredicate&lt;String, String&gt; pred) {
    return pred.test(s1, s2);
  }
}


final boolean truthy = component.compare(&quot;yes&quot;, &quot;YES&quot;, String::equalsIgnoreCase);
final boolean falsy = component.compare(&quot;yes&quot;, &quot;YES&quot;, String::equals);
// or something completely different:
final boolean result = component.compare(&quot;yes&quot;, &quot;maybe&quot;, (a, b) -&gt; a.length()*2 == b.length()+1);
</code></pre>
","2024-04-08 17:40:17","2","Answer"
"78294262","78294227","","<p>The main difference between a <code>BiPredicate&lt;T,U&gt;</code> and a <code>BiFunction&lt;T,U,Boolean&gt;</code> is that it is more &quot;specialized&quot; and has a more explicit meaning that it is expected to be use as a predicate.</p>
<p>By &quot;specialized&quot;, I mean that you get methods to combine <code>Predicate</code>s between them out of the box (like <code>and</code>, <code>negate</code> or <code>or</code>) that you don't get with <code>Function</code>s.</p>
","2024-04-08 17:35:31","1","Answer"
"78294227","","BiPredicate and how to use it","<p>I'm struggling to understand when I should use a <em>BiPredicate</em> instead of a <em>function</em>.</p>
<p>For instance, let's say I want to create a simple String verification, as s1.equals(s2). Of course, I can create a function that receives two params, checks if s1 isn't null and keep going. Alternatively, in my utilities class, create a static final BiPredicate&lt;String, String&gt;, compare them there and then import it into my main class use wherever needed. But if I create a function, inside the utils instead of a BiPredicate, and make it public, wouldn't it work just fine as well?</p>
<p>I've implemented both , I just would like to get an alternative viewpoint about it.</p>
","2024-04-08 17:28:04","2","Question"
"78293267","78293217","","<p>Many issues.</p>
<ol>
<li>If you reach the end of the string do not exit the program. Same if the character is not a letter.</li>
<li>Use fgets</li>
<li>Do not use magic numbers.</li>
<li>scanf is not good at reading lines as it stips on whitespace.</li>
<li>use toupper - tolower functions from ctypes.h</li>
</ol>
<pre><code>#define MAX_CHAR 50
char to_lowercase(char letter);
char to_uppercase(char letter);

int main(void)
{
    char user_input[MAX_CHAR];

    printf(&quot;Enter a string: &quot;);
    if(fgets(user_input, MAX_CHAR, stdin))
    {
        for (size_t i = 0; user_input[i]; i++)
        {
            printf(&quot;%c&quot;, to_lowercase(user_input[i]));
        }
    }

}

char to_lowercase(char letter)
{
    if(letter &gt;= 'A' &amp;&amp; letter &lt;= 'Z') letter += 'a' - 'A';
    return letter;
}

char to_uppercase(char letter)
{
    if(letter &gt;= 'a' &amp;&amp; letter &lt;= 'z') letter += 'A' - 'a';
    return letter;
}
</code></pre>
<p><a href=""https://godbolt.org/z/fxdG58G6G"" rel=""nofollow noreferrer"">https://godbolt.org/z/fxdG58G6G</a></p>
","2024-04-08 14:35:11","0","Answer"
"78293249","78293217","","<p>In <code>scanf</code>, <code>%s</code> only scans a string without spaces. It stops at the first white-space character. Change to use <code>fgets(user_input, sizeof user_input, stdin);</code>.</p>
<p>Also, do not use numbers for characters. Use character constants: <code>' '</code> for space, <code>'A'</code> for the letter A, and so on. The compiler will automatically use the correct values for your C implementation, and the code is easier to read.</p>
<p>Be aware the C standard does not require the codes for letters to be consecutive. The code for N does not necessarily lie between the value for A and the value for Z. A program that needs to classify characters should include <code>&lt;ctype.h&gt;</code> and use <code>isupper</code>, <code>islower</code>, and so on, as in <code>if (isupper((unsigned char) x)) return tolower((unsigned char) x);</code>.</p>
","2024-04-08 14:31:32","2","Answer"
"78293217","","Printing an Array of Strings That Has Whitespace in it","<p>I would like to take a string input, convert them into either lowercase or uppercase and print them. So far, I have successfuly implemented that. Now, I want to modify my program such that if the input has whitespace in it, it will print all of the converted letter plus the whitespace</p>
<p>e.g.,</p>
<pre><code>Enter a string: STACK OVERFLOW
Output: stack overflow
</code></pre>
<p>So here is my code:</p>
<pre><code>#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;stdint.h&gt;
#include&lt;string.h&gt;

#define MAX_CHAR 50
char to_lowercase(char letter);
char to_uppercase(char letter);

int main(void)
{
    char user_input[MAX_CHAR];

    printf(&quot;Enter a string: &quot;);
    scanf(&quot;%s&quot;, &amp;user_input);

    for (int i = 0; i &lt;= MAX_CHAR; i++)
    {
        if (user_input[i] == 0){exit(EXIT_SUCCESS);}
        else{printf(&quot;%c&quot;, to_lowercase(user_input[i]));}
    }

    return EXIT_SUCCESS;
}

char to_lowercase(char letter)
{
    if ((97 &lt;= letter) &amp;&amp; (letter &lt;= 122)) {return letter;} 
    else if ((65 &lt;= letter) &amp;&amp; (letter &lt;=90)) {return letter + 32;}
    else if (letter == 32){return letter;}
    else
    {
        printf(&quot;Not a valid character!&quot;);
        exit(EXIT_FAILURE);
    }
}

char to_uppercase(char letter)
{
    if ((65 &lt;= letter) &amp;&amp; (letter &lt;= 90)) {return letter;}
    else if((97 &lt;= letter) &amp;&amp; (letter &lt;= 122)) {return letter - 32;}
    else if (letter == 32){return letter;}
    else
    {
        printf(&quot;Not a valid character!&quot;);
        exit(EXIT_FAILURE);
    }
}
</code></pre>
<p>My current approach is to check using the ASCII code for whitespace (#32), however this doesn't really work because when i type &quot;STACK OVERFLOW&quot;, the program will only print &quot;s&quot;</p>
","2024-04-08 14:27:14","0","Question"
"78289713","78284887","","<p>Here's a better way to draw the box:</p>
<pre><code>$ cat ./messagetBox
#!/usr/bin/env bash

# `printf` will expand `\n` to newline and `\t` to tab
# `pr` will convert any tabs to the appropriate number
#  of blanks to match the alignment seen in the input.
printf '%b\n' &quot;$*&quot; |
pr -e -t |
awk '
    {
        width = length($0)
        maxWidth = ( width &gt; maxWidth ? width : maxWidth )
        lines[NR] = $0
    }
    END {
        lineBeg = &quot;| &quot;
        lineEnd = &quot; |&quot;

        dashes = sprintf(&quot;%*s&quot;, maxWidth + length(lineBeg) + length(lineEnd), &quot;&quot;)
        gsub(/ /,&quot;-&quot;,dashes)

        print dashes
        for ( lineNr=1; lineNr&lt;=NR; lineNr++ ) {
            line = sprintf(&quot;%-*s&quot;, maxWidth, lines[lineNr])
            print lineBeg line lineEnd
        }
        print dashes
    }
'
</code></pre>
<p>
<pre><code>$ ./messagetBox &quot;Hello\nMy name is Lorenzo, I was born in Italy.&quot;
--------------------------------------------
| Hello                                    |
| My name is Lorenzo, I was born in Italy. |
--------------------------------------------
</code></pre>
<p>It isn't clear from your question what you're using all those escape sequences for but just add them to that output as you like if you need them. In particular I kept the populating of <code>line</code> separate from printing so you could add escape sequences around that to change color or whatever inside the box if that's what you're trying to do.</p>
","2024-04-08 00:15:09","0","Answer"
"78288500","78288454","","<p>It looks like your code might be encountering an issue due to the timing of when you're updating the task values in your <code>taskArray</code>. You're currently updating them before validating if the input fields are empty.</p>
<p>To fix this, I recommend moving the task updates inside the <code>else</code> block where you're checking if both input fields are not empty. This way, you would make sure that the task values are only updated when necessary.</p>
<pre><code>EditedsubmitForm.addEventListener(&quot;click&quot;, (e) =&gt; {
  EditedInputTask.value = EditedObject.editTask;
  EditedInputDate.value = EditedObject.Editdate;
  
  /*Form Validation*/
  if (!EditedInputTask.value) {
    // Validation for task input field
  }

  if (!EditedInputDate.value) {
    // Validation for date input field
  } else {
    // If both input fields are not empty
    Editedmodal.style.display = &quot;none&quot;;
    EditedInputTask.value = &quot;&quot;;
    EditedInputDate.value = &quot;&quot;;

    // Update task values in taskArray
    taskArray[taskIndex].task = EditedInputTask.value;
    taskArray[taskIndex].date = EditedInputDate.value;

    // Update task values in the DOM
    taskElement.querySelector(&quot;#list-item-date&quot;).textContent = `Due: ${taskArray[taskIndex].date}`;
    taskElement.querySelector(&quot;#list-item-task&quot;).textContent = taskArray[taskIndex].task;
    
    renderTask();
    storeTaskArrayLocally();
  }
});
</code></pre>
","2024-04-07 16:21:16","0","Answer"
"78288454","","Edit Fields are not replacing old values?","<p>Why is my edit function failing to save the new text and date values? Currently, the function displays the edit modal but fails to submit updated text if it's blank. Despite updating the object in the array and rendering it in the DOM, it seems to perceive the new values as blank, leading to the failure in saving them. What might be causing this issue?</p>
<p>You can see the dummy code via code pen:</p>
<p><a href=""https://codepen.io/Blazeinferno92/pen/GRLxEpw"" rel=""nofollow noreferrer"">CodePen-Edit task</a></p>
<p>This is what is happening:</p>
<ul>
<li>A new task is created.</li>
<li>Click the edit button.</li>
<li>edited form appears.</li>
<li>update new text.</li>
<li>update new date.</li>
<li>click the submit button.</li>
<li>New values show blank in the task object in the array.</li>
<li>New task and date values show blank when DOM is updated.</li>
</ul>
<pre><code>function editTask(id) {
  let taskIndex = taskArray.findIndex((task) =&gt; task.id === id);
  let taskElement = document.querySelector(`.task-to-do[data-id=&quot;${id}&quot;]`);

  let Editedmodal = document.querySelector(&quot;#edit-modal&quot;);
  let EditedInputTask = document.querySelector(&quot;#edit-task&quot;);
  let EditedInputDate = document.querySelector(&quot;#edit-duedate&quot;);

  EditedObject = {
    EditTask: taskArray[taskIndex].task,
    Editdate: taskArray[taskIndex].date
  }



  Editedmodal.style.display = &quot;grid&quot;;
  /*Submit Edited task Form*/
  EditedsubmitForm.addEventListener(&quot;click&quot;, (e) =&gt; {

    EditedInputTask.value = EditedObject.editTask;
    EditedInputDate.value = EditedObject.Editdate;
    /*Form Validaion*/
    if (!EditedInputTask.value) {
      EditedInputNoTask.style.display = &quot;block&quot;;
      EditedInputTask.style.marginTop = &quot;-1em&quot;;
      timeout = setTimeout(() =&gt; {
        EditedInputNoTask.style.display = &quot;none&quot;;
        EditedInputTask.style.marginTop = &quot;0&quot;;
      }, 3000);
    }

    if (!EditedInputDate.value) {
      EditedInputNoDate.style.display = &quot;block&quot;;
      EditedInputDate.style.marginTop = &quot;-1em&quot;;

      timeout = setTimeout(() =&gt; {
        EditedInputNoDate.style.display = &quot;none&quot;;
        EditedInputDate.style.marginTop = &quot;0&quot;;
      }, 3000);
    } else {
      Editedmodal.style.display = &quot;none&quot;;
      EditedInputTask.value = &quot;&quot;;
      EditedInputDate.value = &quot;&quot;;
    }

    taskArray[taskIndex].task = EditedInputTask.value;
    taskArray[taskIndex].date = EditedInputDate.value;


    taskElement.querySelector(&quot;#list-item-date&quot;).textContent = `Due: ${taskArray[taskIndex].date}`;
    taskElement.querySelector(&quot;#list-item-task&quot;).textContent = taskArray[taskIndex].task;
    
    renderTask();
    storeTaskArrayLocally();
    

    console.log(EditedObject)

  });
</code></pre>
","2024-04-07 16:06:51","0","Question"
"78287160","78287109","","<p>The programm &quot;sticks&quot; in the last line:
<code>while playerHealth &gt; 0: ... enemyEncounter()</code>, because the function <code>enemyEncounter</code> returns immediately:
Everything before <code>while encounterAcitve == 1:</code> will work, but after it, it won't, because the condition is not given (see l. 7: <code>encounterAcitve = 0</code>).</p>
<p>When you add something like <code>print(&quot;hello&quot;)</code> after <code>def enemyEncounter:</code>, it will give you many <code>hello</code>s in the terminal.</p>
<p>PS: Did you call it <code>encounterAcitve</code> intentionally, or should it be <code>encounterActive</code>?</p>
","2024-04-07 08:37:42","1","Answer"
"78287109","","Why won't this terminal in visual studio code continue past returning a single integer?","<p>As a personal project of mine, I'm working on making a (semi functional) video game completely made in python. Only problem is I seem to be constantly running into issues working with terminals inside VS code. The current problem is the fact that the terminal seems to just freeze after returning a test value of one.</p>
<pre><code>import time
import random

buildVer = 0.1
playerHealth = 5
enemyHealth = 1
encounterAcitve = 0
welcomeComplete = 0


def anyKey():
    input(&quot;Press any key to continue...&quot;)

def welcome():
    print(&quot;~Project by Broclly~&quot;)
    print(&quot;&quot;)
    print(&quot;&quot;)
    time.sleep(1/4)
    print(&quot;Greetings, welcome to Rogue.py!&quot;)
    time.sleep(1/4)
    print(&quot;This project is to test the limits of using Python as a game engine!&quot;)
    time.sleep(1/4)
    print(&quot;Current Build Version:&quot;, buildVer)
    anyKey()

def enemyTurn():
    enemyHit = random.randint(0,2)
    playerHealth = playerHealth - enemyHit
    print(&quot;You were hit for&quot;, enemyHit, &quot;damage!&quot;)

def playerTurn():
    playerHit = random.randint(0,1)
    enemyHealth = enemyHealth - playerHit
    print(&quot;You hit the enemy for&quot;, playerHit, &quot;damage!&quot;)

def check():
    if playerHealth &lt;= 0:
        print(&quot;You died! Try again :(&quot;)
        time.sleep(1)

def enemyEncounter():
    while encounterAcitve == 1:
        enemyTurn()
        playerTurn()
    

while playerHealth &gt; 0:
    while welcomeComplete == 0:
        welcome()
        welcomeComplete = 1
        print(welcomeComplete)
    enemyEncounter()
</code></pre>
<p>I expect this to run a bunch of calculations, as well as printing multiple messages, but it seems to only return a test value of 1 I added to make sure the &quot;welcomeComplete&quot; var was working.</p>
","2024-04-07 08:18:05","0","Question"
"78285760","78285014","","<p>The first issue is that <code>FUN</code> has to be a function that takes a formula and a design as its first two arguments, so you should just provide <code>FUN = svymean</code> and any other arguments to <code>FUN</code> inside <code>...</code>.</p>
<p>However, the confidence interval is actually calculated through setting <code>vartype = &quot;ci&quot;</code> in <code>svyby</code>, which calls <code>survey:::confint.svyby</code> internally and does not expose any control over the confidence level.</p>
<p>You can get around this by calculating the CI separately:</p>
<pre class=""lang-r prettyprint-override""><code>step1 &lt;- lapply(var_list, \(x) {
  ## Just a standard error - do NOT change vartype=... here!
  d1 &lt;- svyby(as.formula(paste0(&quot;~&quot;, x)) ,
              by = ~cyl, 
              design = svy_design, 
              FUN = svymean,
              keep.names = FALSE)
  ## NOW calculate the CI with the desired level
  d2 &lt;- confint(d1, level = .99)
  ## Combine results
  d1[,c(&quot;ci_l&quot;, &quot;ci_u&quot;)] &lt;- d2
  dplyr::select(d1, -&quot;se&quot;)
})
</code></pre>
<p>The rest of the pipeline continues unchanged:</p>
<pre class=""lang-r prettyprint-override""><code>bind_rows(step1) %&gt;%
  relocate(wt, .after = last_col()) %&gt;%
  pivot_longer(!c(cyl, ci_l, ci_u),
               names_to = &quot;var&quot;,
               values_to = &quot;mean&quot;,
               values_drop_na = TRUE)

#&gt; A tibble: 6 × 5
#&gt;     cyl  ci_l  ci_u var    mean
#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
#&gt; 1     4  1.80  2.64 wt     2.22
#&gt; 2     6  2.78  3.43 wt     3.10
#&gt; 3     8  3.48  4.36 wt     3.92
#&gt; ...
</code></pre>
","2024-04-06 20:18:44","1","Answer"
"78285014","","Set custom confidence level in svymean when using svyby in r survey package","<p>I am running code to find weighted means by group with confidence intervals for multiple variables in my dataset.  My code looks like the following, demoed using mtcars package:</p>
<pre><code>library(survey)
library(tidyverse)
var_list = c(&quot;wt&quot;,&quot;qsec&quot;)
  
svy_design &lt;- svydesign(
  ids = ~1, 
  data = mtcars |&gt; 
    dplyr::select(cyl,all_of(var_list),mpg) |&gt; 
    na.omit(),
  weights =  mtcars |&gt; 
    dplyr::select(cyl,all_of(var_list),mpg) |&gt; 
    na.omit() |&gt; select(mpg)
)

lapply(var_list, function( x ) svyby(as.formula( paste0( &quot;~&quot; , x ) ) ,
                     by = ~cyl, 
                     design = svy_design, 
                     FUN = svymean,
                     keep.names = FALSE, vartype = &quot;ci&quot;)) %&gt;% 
  bind_rows() |&gt; relocate(wt, .after = last_col()) %&gt;%  pivot_longer(!c(cyl,ci_l,ci_u),names_to = &quot;var&quot;,values_to = &quot;mean&quot;,values_drop_na = TRUE)


</code></pre>
<p>This works just fine, and produces the desired result of confidence intervals for each variable. However, when I try to switch the confidence interval from the default 0.95, I receive errors:</p>
<pre><code>library(survey)
library(tidyverse)
var_list = c(&quot;wt&quot;,&quot;qsec&quot;)
  
svy_design &lt;- svydesign(
  ids = ~1, 
  data = mtcars |&gt; 
    dplyr::select(cyl,all_of(var_list),mpg) |&gt; 
    na.omit(),
  weights =  mtcars |&gt; 
    dplyr::select(cyl,all_of(var_list),mpg) |&gt; 
    na.omit() |&gt; select(mpg)
)

lapply(var_list, function( x ) svyby(as.formula( paste0( &quot;~&quot; , x ) ) ,
                     by = ~cyl, 
                     design = svy_design, 
                     FUN = svymean(level = 0.99),
                     keep.names = FALSE, vartype = &quot;ci&quot;)) %&gt;% 
  bind_rows() |&gt; relocate(wt, .after = last_col()) %&gt;%  pivot_longer(!c(cyl,ci_l,ci_u),names_to = &quot;var&quot;,values_to = &quot;mean&quot;,values_drop_na = TRUE)

</code></pre>
<pre><code>Error in svymean(level = 0.99) : 
  argument &quot;design&quot; is missing, with no default
</code></pre>
<p>How can I use <code>svymean</code> within <code>svyby</code> and set a custom confidence interval level?</p>
","2024-04-06 15:58:26","1","Question"
"78284976","78284793","","<p>Using <code>eval(parse(.))</code>.</p>
<pre><code>&gt; lapply(c(&quot;nationalite&quot;, &quot;cs&quot;), \(x) table_prop(eval(parse(text=x)), 1))
[[1]]
# A tibble: 2 × 3
# Groups:   eval(parse(text = x)) [2]
  `eval(parse(text = x))`   `1`    `2`
  &lt;chr&gt;                   &lt;dbl&gt;  &lt;dbl&gt;
1 AUTRE                   1.00  NA    
2 FR                      0.526  0.474

[[2]]
# A tibble: 2 × 3
# Groups:   eval(parse(text = x)) [2]
  `eval(parse(text = x))`   `1`    `2`
  &lt;chr&gt;                   &lt;dbl&gt;  &lt;dbl&gt;
1 CADRE                   1.00  NA    
2 OUVRIER                 0.182  0.818
</code></pre>
<hr />
<p><em>Data:</em></p>
<pre><code>&gt; dput(df)
structure(list(sexe = c(1, 2, 1, 1, 2), nationalite = c(&quot;FR&quot;, 
&quot;UE&quot;, &quot;AUTRE&quot;, &quot;FR&quot;, &quot;FR&quot;), cs = c(&quot;OUVRIER&quot;, &quot;EMPLOYE&quot;, &quot;CADRE&quot;, 
&quot;CADRE&quot;, &quot;OUVRIER&quot;), haut = c(1, 0, 1, 1, 1), wght = c(2, 6, 
7, 8, 9)), class = &quot;data.frame&quot;, row.names = c(NA, -5L))
</code></pre>
","2024-04-06 15:49:50","1","Answer"
"78284887","","There's a way to show boxed text messages using pure Bash script?","<p>I wrote a function working quite fine using ANSI escape sequences for terminals like VT100 (normally managed by Linux/Unix terminal emulators).
I reported below the Bash code.</p>
<pre class=""lang-bash prettyprint-override""><code>#!/bin/bash

# Returns the line number if &lt;= 255; otherwais 255.
function getCurPos() {
    local CURPOS
    local -i lineNumb
    echo -e &quot;\E[6n&quot;; read -sdR CURPOS; CURPOS=${CURPOS#*[}
    CURPOS=(${CURPOS//;/ })
    #echo ${CURPOS[*]}
    lineNumb=${CURPOS[0]}
    if [ $lineNumb -gt 255 ]; then
        return 255
    fi
    return $lineNumb
}

# $1: text with &quot;echo -e&quot; interpreted syntax ('\n' means &quot;return&quot;)
function messagetBox() {
    local oldIFS=IFS
    unset IFS
    if [ -z $1 ]; then exit 0; fi
    local text=$1
    local -i maxLineLenght=0
    local -i lineLenght=0
    local -i lineNumb=0
    local -i count
    local -i line
    #echo -e &quot;\033[1;31m&quot;
    echo
    while read i; do
        echo -e &quot;| $i &quot;;
        lineLenght=${#i}
        lineLenght+=4
        if [ $lineLenght -gt $maxLineLenght ]; then
            maxLineLenght=$lineLenght
        fi
        lineNumb+=1
    done &lt; &lt;(echo -e $text)
    count=$maxLineLenght
    while [ $count -gt 0 ]; do
        echo -en &quot;-&quot;
        count+=-1
    done
    #echo -en &quot;\033[u&quot;
    echo -en &quot;\033[$((lineNumb+2))A\n&quot;
    count=$maxLineLenght
    while [ $count -gt 0 ]; do
        echo -en &quot;-&quot;
        count+=-1
    done
    echo -en &quot;\033[1B&quot;
    count=$lineNumb
    while [ $count -gt 0 ]; do
        getCurPos
        line=$?
        echo -e &quot;\033[${line};${maxLineLenght}H|&quot;
        count+=-1
    done
    echo -en &quot;\033[${lineNumb}B&quot;
    echo -e &quot;\033[0m&quot;
    IFS=$localIFS
}
</code></pre>
<pre class=""lang-bash prettyprint-override""><code>~$ source ./sample.sh
~$ messagetBox &quot;Hello\nMy name is Lorenzo, I was born in Italy.&quot;
--------------------------------------------
| Hello                                    |
| My name is Lorenzo, I was born in Italy. |
--------------------------------------------
~$
</code></pre>
<p>The problem is that for text lines longer than the screen column's number, new lines before the first side line unshape the box:</p>
<pre class=""lang-bash prettyprint-override""><code>~$ messagetBox &quot;Hello. My name is Lorenzo, I was born in Italy. Hello. My name is Lorenzo, I was born in Italy.&quot;

| Hello. My name is Lorenzo, I was born in Italy. Hello. My name is Loren------------------------------------------------------------
-----------------------------------------------------------------
-----------------------------------------------
</code></pre>
<p>There's a way to avoid it?</p>
","2024-04-06 15:20:43","-3","Question"
"78284793","","Apply a function to a vector of variables","<p>Let's generate a data frame:</p>
<pre><code>library(&quot;dplyr&quot;)
library(&quot;srvyr&quot;)

sexe &lt;- c(1, 2, 1, 1, 2)
nationalite &lt;- c(&quot;FR&quot;, &quot;UE&quot;, &quot;AUTRE&quot;, &quot;FR&quot;, &quot;FR&quot;)
cs &lt;- c(&quot;OUVRIER&quot;, &quot;EMPLOYE&quot;, &quot;CADRE&quot;, &quot;CADRE&quot;, &quot;OUVRIER&quot;)
haut &lt;- c(1, 0, 1, 1, 1)
wght &lt;- c(2, 6, 7, 8, 9)
df &lt;- data.frame(sexe, nationalite, cs, haut, wght)
</code></pre>
<p>And then I have this function :</p>
<pre><code>table_prop &lt;- function(var, valeur){
  res &lt;- df %&gt;%
    filter(haut=={{valeur}}) %&gt;%
    as_survey_design(ids=1, weights=wght) %&gt;%
    group_by({{var}}, sexe) %&gt;%
    summarise(p=survey_prop()) %&gt;%
    select(-ends_with(&quot;_se&quot;)) %&gt;%
    arrange(desc(p)) %&gt;%
    spread(key=&quot;sexe&quot;, value=&quot;p&quot;)
}
</code></pre>
<p>I would like to apply this function to the following vector of variables :</p>
<pre><code>my_var &lt;- c(&quot;nationalite&quot;, &quot;cs&quot;)
</code></pre>
<p>I thought about doing a loop for, but maybe it's possible to use <code>lapply</code>?</p>
","2024-04-06 14:45:20","1","Question"
"78282376","78282232","","<p>When you change a task in the task array you need to store the array in localStorage again:</p>
<pre><code>  // change the task in the array
  taskArray[taskIndex].task = EditedInputTask.value;
  taskArray[taskIndex].date = EditedInputDate.value;
  // store the task array in localStorage
  storeTaskArrayLocally();
</code></pre>
","2024-04-05 21:12:30","0","Answer"
"78282232","","How to Replace values within an object that is in an array?","<p>The problem I am facing is that I am trying to replace the text and date with an edit function. I got it working to a point where it is replacing the text via the DOM, but when the page refreshes the edited version resets to its old values. I think I know why, it is because the values within the object that is in the array need to stay changed and it is not, which I  do not think I am doing correctly.</p>
<p>I think maybe using a map, which could create a new array and render the updated array on the DOM.</p>
<p>Please review the code below:</p>
<pre><code>let Editedmodal = document.querySelector(&quot;#edit-modal&quot;);
let editBtn = document.querySelector(&quot;.edit&quot;);

function editTask(id) {
  let taskIndex = taskArray.findIndex((task) =&gt; task.id === id);
  let taskElement = document.querySelector(`.task-to-do[data-id=&quot;${id}&quot;]`);

  let Editedmodal = document.querySelector(&quot;#edit-modal&quot;);


  EditedInputTask.value = taskArray[taskIndex].task;
  EditedInputDate.value = taskArray[taskIndex].date;

  Editedmodal.style.display = &quot;grid&quot;;
  /*Submit Edited task Form*/
  EditedsubmitForm.addEventListener(&quot;click&quot;, (e) =&gt; {

    e.preventDefault();
    /*Form Validaion*/
    if (!EditedInputTask.value) {
      EditedInputNoTask.style.display = &quot;block&quot;;
      EditedInputTask.style.marginTop = &quot;-1em&quot;;
      timeout = setTimeout(() =&gt; {
        EditedInputNoTask.style.display = &quot;none&quot;;
        EditedInputTask.style.marginTop = &quot;0&quot;;
      }, 3000);
    }

    if (!EditedInputDate.value) {
      EditedInputNoDate.style.display = &quot;block&quot;;
      EditedInputDate.style.marginTop = &quot;-1em&quot;;

      timeout = setTimeout(() =&gt; {
        EditedInputNoDate.style.display = &quot;none&quot;;
        EditedInputDate.style.marginTop = &quot;0&quot;;
      }, 3000);
    } else {
      Editedmodal.style.display = &quot;none&quot;;
      EditedInputTask.value = &quot;&quot;;
      EditedInputDate.value = &quot;&quot;;
      taskArray[taskIndex].task = taskObjEdited;
      taskArray[taskObjEdited.task] = DateStore;
    }

    taskArray[taskIndex].task = EditedInputTask.value;
    taskArray[taskIndex].date = EditedInputDate.value;

    taskElement.querySelector(&quot;#list-item-date&quot;).textContent = `Due: ${taskArray[taskIndex].date}`;
    taskElement.querySelector(&quot;#list-item-task&quot;).textContent = taskArray[taskIndex].task;

  });

function storeTaskArrayLocally() {
  localStorage.setItem(&quot;taskLocalstorage&quot;, JSON.stringify(taskArray));
}

function initializeTaskAraryFromLocalStoraege() {
  const storedTask = localStorage.getItem(&quot;taskLocalstorage&quot;);

  if (storedTask) {
    taskArray = JSON.parse(storedTask);
    renderTask();
  }
}
</code></pre>
","2024-04-05 20:33:05","0","Question"
"78281443","","Azure Functions - storage connection","<p>I have an Azure functions app which is running under a managed identity connecting to the private endpoint of a storage account in the same vnet, via an integration subnet. The function works fine if I allow all network traffic to access the storage, but when I disable public access, the function fails with the following error:</p>
<p><a href=""https://i.sstatic.net/C0zFB.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/C0zFB.png"" alt=""enter image description here"" /></a></p>
<p>When I do an nslookup from the functionapp, it is resolving to the internal IP address but when the function app accesses the storage it comes in with an IP address that is not within my VNET range.</p>
<p>I have been sitting with this problem for over a week now, and I really don't know what the answer is?</p>
<p>Any insights would be so welcome</p>
","2024-04-05 17:11:17","1","Question"
"78280725","78280688","","<pre><code>const computerSelection = getComputerChoice();
const playerSelection = getPlayerChoice();

let playRound = (playerSelection, computerSelection) =&gt; {
</code></pre>
<p>You have used the name <code>playerSelection</code> twice, and same for <code>computerSelection</code>. Any code inside of <code>playRound</code> will only be interacting with the parameter to the function, not with the global variable. Using the same variable name like this is called &quot;variable shadowing&quot;, and is often a mistake.</p>
<p>So if you called playRound like this:</p>
<pre><code>playRound('hello', 'world') 
</code></pre>
<p>Then code inside playRound will see playerSelection equals 'hello'. If you call it like this:</p>
<pre><code>playRound()
</code></pre>
<p>Then playerSelection will be <code>undefined</code>.</p>
<hr />
<p>To fix this, decide if you need the function arguments or not. If you do, make sure you pass the correct values in when you call it. I'd also recommend renaming the variables so there's no ambiguity about which variable is being accessed by the code inside playRound.</p>
<pre><code>// variables renamed to avoid ambiguity
const computerChoice = getComputerChoice();
const playerChoice = getPlayerChoice();

let playRound = (playerSelection, computerSelection) =&gt; {
  // ... same code as before, using playerSelection and computerSelection
}

playRound(computerChoice, playerChoice);
</code></pre>
<p>If you do not need function arguments, and you just want to use the global constants, then delete the parameters for the function</p>
<pre><code>let playRound = () =&gt; {
  // ...
}
playRound() // no arguments needed, since they'll be ignored anyway
</code></pre>
","2024-04-05 14:53:23","1","Answer"
"78280688","","How do i call the function as a parameter","<p>I m new to programming i have stored the two function getComputerChoice() and getPlayerChoice()  in a variable so that i can place them in the function playround parameter. but the value of the two is undefined in the playround. what am i doing wrong.</p>
<pre><code>const computerSelection = getComputerChoice();
const playerSelection = getPlayerChoice();

let playRound = (playerSelection, computerSelection) =&gt; {

    const playerWin = `You win, you choose ${playerSelection} and the computer picked ${computerSelection}`;
    const computerWin = `You loose, you choose ${playerSelection} and the computer picked ${computerSelection}`
    const draw = `Ohhhhhhh, a drawww , You choose ${playerSelection} and the computer picked ${computerSelection}`;

    if (playerSelection == computerSelection &amp;&amp; computerSelection == playerSelection) {
        return draw; 
    } else if (playerSelection &gt; computerSelection &amp;&amp; computerSelection &lt; playerSelection) {
        return computerWin; 
    } else if (playerSelection &lt; computerSelection &amp;&amp; computerSelection &gt; playerSelection) {
        return playerWin; 
    } else {
        return 1;
    }
}
</code></pre>
<p>I am  unable to find any solution</p>
","2024-04-05 14:47:32","-1","Question"
"78277696","78277527","","<p>Your <code>getScores</code> function is broken for several reasons:</p>
<ol>
<li><p>It does not return a value. If you got a &quot;correct&quot; value out of the function, it's by pure chance because the behavior is actually undefined.</p>
</li>
<li><p>Your function assumes the array contains some deterministic values. The first thing it does is check <code>array[index] != -1</code> but actually that value is undefined because the array is uninitialized.</p>
</li>
<li><p>The inner loop reads up to 10 values and then loops back to test <code>array[index] != -1</code>. But you never modified <code>index</code> -- the inner loop hides that and uses its own. If you &quot;fixed&quot; that, then you'd be testing at index 10 which is reading off the end of the array. So you either have an infinite loop, or potential undefined behavior if you made a future change.</p>
</li>
</ol>
<p>Additionally, the function is not well-behaved in cases where input fails. This can happen if the user enters something that's not a number, or if the stream is closed for some other reason (<em>e.g.</em> input from a pipe). It's a good idea to check the stream is still valid.</p>
<p>Depending on what version of the C++ standard your compiler implements, failure to read a value will either give you a zero (new behavior), or not write anything (old behavior). Both of these would be a problem.</p>
<p>Note that you could have caught #1 by enabling warnings in your compiler. It would then warn something like <em>&quot;not all control paths return a value&quot;</em>. In GCC, use <code>-Wall</code> to enable all warnings. It's even a good idea to also use <code>-Werror</code> to treat all warnings as errors, so that you can't ignore them.</p>
<p>To address all this only needs one loop:</p>
<pre><code>int getScores(int array[])
{   
    int count = 0;
    while(count &lt; 10 &amp;&amp; cin &gt;&gt; array[count] &amp;&amp; array[count] != -1)
    {
        count++;
    }
    return count;    
}
</code></pre>
<p>Here, it will loop until one of the following things occur (tested in order):</p>
<ol>
<li>You have read in 10 values</li>
<li>Formatted input fails</li>
<li>The input is -1</li>
</ol>
<p>To improve your function further, you shouldn't assume anything about the array size. A common approach is to supply it into the function, which means adding another parameter:</p>
<pre><code>int getScores(int array[], int max_count)
{   
    int count = 0;
    while(count &lt; max_count &amp;&amp; cin &gt;&gt; array[count] &amp;&amp; array[count] != -1)
    {
        count++;
    }
    return count;    
}
</code></pre>
<p>Since you're using C++, you should really consider using <code>std::array</code> or <code>std::vector</code> instead of C arrays. As an example, you could completely remove the limit of 10 values, and let the user enter as many scores as they want:</p>
<pre><code>#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;

std::vector&lt;int&gt; getScores(std::istream&amp; s)
{
    std::vector&lt;int&gt; scores;
    int score;
    while(s &gt;&gt; score &amp;&amp; score != -1)
    {
        scores.push_back(score);
    }
    return scores;
}

int countPerfect(const std::vector&lt;int&gt;&amp; scores)
{
    return std::count(scores.begin(), scores.end(), 100);
}

int main()
{
    auto scores = getScores(std::cin);
    int perfect = countPerfect(scores);
    std::cout &lt;&lt; &quot;Perfect scores: &quot; &lt;&lt; perfect &lt;&lt; &quot;\n&quot;;
}
</code></pre>
","2024-04-05 04:01:49","3","Answer"
"78277599","78277527","","<p>Aside from various opportunity areas in the implementation, note that you have two nested loop code blocks 'while -&gt; for' thus as the index is incremented in the 'for' look, when you check it in the 'while' loop it will point to the 'next' array item and not the one you just inserted through the 'cin', so it will never catch the early input termination because:</p>
<p>1.- The for loop will go all the way from 0 to the array size of 10 before going back to the while loop
2.- The index variable will allways be at the size of the array.</p>
<p>Here's a closer version of what you want to achieve:</p>
<pre class=""lang-c prettyprint-override""><code>// Functions
// getScores will retrieve up to 10 scores from user

const int size = 10;

int getScores(int array[])
{   
    int index = 0; //set index to first array element
    do
    {
        cout &lt;&lt; &quot;Enter a score from 0-100 (-1 to quit): &quot;;
        cin &gt;&gt; array[index];
        index ++;
        
    }while(array[index - 1] != -1 &amp;&amp; index &lt; size ) //compare the value of last input (thus the -1) while the index is lower than the size of the array (thus the &amp;&amp; condition)
}
</code></pre>
<p>For the getScores function, asuming that the &quot;array&quot; contains the scores and the &quot;numScores&quot; is the number of valid scores in the array:</p>
<pre class=""lang-c prettyprint-override""><code>
// countPerfect accepts array, then counts and returns the number of perfect scores
// (equal to 100)
int countPerfect(int array[], int numScores)
{
    int perfect = 0; //set the number of perfect scores found to 0
    for(int index = 0; index &lt; numScores; index++) //for each valid score in the array
    {
        if(array[index] == 100) //if the score is 100
            perfect++; //increment the number of perfect scores found
    }
    return perfect; //return the number of perfec scores found
}

</code></pre>
<p>As a final note, while you are learning I recommend adding comments to each line of code to describe what it is doing, that way when you review it later you can verify if the code actually does what you intended and it is easier for your peers to check it and know the intention of each line.</p>
<p>Hope it helps.</p>
","2024-04-05 03:25:51","-2","Answer"
"78277527","","How can I enter scores into an array within a function, break its input loop using -1, and use the array to find scores=100?","<p>**This is what my functions look like now: **</p>
<pre><code>#include &lt;iostream&gt;
using namespace std;

int getScores(int array[])
{   
    cout &lt;&lt; &quot;Enter up to 10 scores, separated by pressing [space]\n&quot;
         &lt;&lt; &quot;or [enter]. Enter -1 or a non-integer character to quit.\n&quot;;
    int num = 0;
    while(num &lt; 10 &amp;&amp; cin &gt;&gt; array[num] &amp;&amp; array[num] != -1)
    {
        num++;
    }
    return num;    
}

int countPerfect(int array[], int numScores)
{
    int perfect = 0;
    for(int count = 0; count &lt; numScores; count++)
    {
        if(array[count]==100)
            perfect++;
    }
    return perfect;
}

</code></pre>
<p>I'm going to continue messing with it, but that's it for now.</p>
<hr />
<p>I'm writing a program in DevC++ that uses two functions, <code>getScores</code> and <code>countPerfect</code>, to allow a user to input up to 10 scores into an array. It also gives the user the option to end input early by entering -1 (in <code>getScores</code> function). When I run the program and try to end it using -1, it doesn't work. It accepts -1 as input and continues the loop.</p>
<p>Not only that, but I'm pretty sure I did the <code>countPerfect</code> function incorrectly, too. If I were to exit the loop successfully, albeit incorrectly (with one of the iterations of <code>getScores</code> I tried), it would say &quot;The <code>-1</code> scores you entered include <code>0</code> perfect scores,&quot; regardless of the other scores I entered into the array.</p>
<p>How can I make this program work properly?</p>
<pre><code>// Function prototypes
int getScores(int[]);
int countPerfect(int[],int);

int main()
{
    const int size = 10;
    int array[size];
    int numScores;
        
// Explain program to user
    cout &lt;&lt; &quot;This program will allow you to enter up to 10 scores. &quot; &lt;&lt; endl
    &lt;&lt; &quot;Then, it will report how many perfect scores were entered.&quot; &lt;&lt; endl;
    
// Call a function to input the scores into array
    numScores = getScores(array);
    
// Report results
    cout &lt;&lt; &quot;The &quot; &lt;&lt; numScores &lt;&lt; &quot; scores you entered include &quot;
    &lt;&lt; countPerfect(array, numScores) &lt;&lt; &quot; perfect scores.\n&quot;;
    
    return 0;
}

// Functions
// getScores will retrieve up to 10 scores from user

int getScores(int array[])
{   
    int index = 0;
    while(array[index] != -1)
    {
        for(int index = 0; index &lt; 10; index++)
        {
            cout &lt;&lt; &quot;Enter a score from 0-100 (-1 to quit): &quot;;
            cin &gt;&gt; array[index];
        }
    }

            
}

// countPerfect accepts array, then counts and returns the number of perfect scores
// (equal to 100)
int countPerfect(int array[], int numScores)
{
    int perfect = 0;
    for(int index = 0; index &lt; numScores; index++)
    {
        if(index==100)
            perfect++;
        perfect = array[index];
    }
    return perfect;
}
</code></pre>
","2024-04-05 02:55:07","0","Question"
"78277439","78276625","","<p>Your problem is with this line:</p>
<pre><code>check_area(value, rows, cols.index(value))
</code></pre>
<p>when you have two of the same value in a row (e.g. <code>s</code> in row 1), <code>cols.index</code> returns the index of the first matching value. So you get</p>
<pre><code>Tile (1, 1) disposes a shop
Tile (2, 1) disposes a gas station
Tile (1, 1) disposes a shop
</code></pre>
<p>instead of</p>
<pre><code>Tile (1, 1) disposes a shop
Tile (2, 1) disposes a gas station
Tile (3, 1) disposes a shop
</code></pre>
<p>This is easily fixed by just enumerating the column values instead of using <code>cols.index</code>:</p>
<pre><code>def check_region(td_list):
    &quot;&quot;&quot;
    This function explores an entire field by calling the explore_tile
    function for each tile in the field.
    &quot;&quot;&quot;
    for row, cols in enumerate(td_list):
        for col, value in enumerate(cols):
            if value != &quot; &quot;:
                check_area(value, row, col)
</code></pre>
<p>Output:</p>
<pre><code>Tile (1, 0) disposes a house
Tile (4, 0) disposes a pharmacy
Tile (1, 1) disposes a shop
Tile (2, 1) disposes a gas station
Tile (3, 1) disposes a shop
Tile (0, 2) disposes a cinema
Tile (2, 2) disposes a house
Tile (3, 2) disposes a shop
</code></pre>
","2024-04-05 02:11:38","1","Answer"
"78276811","78276772","","<p>This is where you need to use <code>random.choices()</code> function.</p>
<pre><code>import random 

dictionary = {'green': 1, 'eggs': 3, 'ham':2}
words   = list(dictionary.keys())
weights = list(dictionary.values())

if __name__ == '__main__':
    results = []
    for i in range(600):
        item = random.choices(words,weights)[0]
        results.append(item)
    print(results.count('green')) #about 100
    print(results.count('eggs')) #about 300
    print(results.count('ham')) #about 200
</code></pre>
<p>According to the documentation of <a href=""https://docs.python.org/3/library/random.html#random.choices"" rel=""nofollow noreferrer"">random.choices</a>, it takes these parameters as input :</p>
<blockquote>
<pre><code>population   : a sequence to select random from
weights      : the weights for the selection of items
cum_weights  : cumulative weights
k            : the number of items to choose
</code></pre>
</blockquote>
<p>So, you can rewrite your code in this way :</p>
<pre><code>import random 

dictionary = {'green': 1, 'eggs': 3, 'ham':2}
words   = list(dictionary.keys())
weights = list(dictionary.values())

if __name__ == '__main__':
    results = random.choices(words,weights,k=600)
    print(results.count('green')) #about 100
    print(results.count('eggs')) #about 300
    print(results.count('ham')) #about 200
</code></pre>
","2024-04-04 21:56:47","0","Answer"
"78276772","","How to count and return number occurrences of randomly chosen words from a list in python?","<p>I can't import anything else other than random. The goal is to create a list from a dictionary where the values of the keys indicates how many times the word(key) will appear in the list. Then from this list, randomly chose a word and return the number of times each word was chosen.</p>
<p>The desired return values are 100, 300, 200 respectively. I keep getting return values of all zero.</p>
<pre><code>import random 
def weighted_choice(counts):
    list = []
    for key in counts.keys():
        n = counts[key]
        for i in range(n):
            list.append(key)
    choice = random.choice(list)
    occurances = []
    occurances.append(choice)
    counter = occurances.count(choice)
    return counter

if __name__ == '__main__':
    results = []
    for i in range(600):
        item = weighted_choice({'green': 1, 'eggs': 3, 'ham':2})
        results.append(item)
    print(results.count('green')) #about 100
    print(results.count('eggs')) #about 300
    print(results.count('ham')) #about 200
</code></pre>
","2024-04-04 21:46:11","-2","Question"
"78276625","","Incorrect indexing of objects in the area (2d lists) python","<p>I have implemented a program which should count on coordinates of an object in the area. The area is formed as a 2d list. The problem is that generally the output is correct, however, one object performs wrong coordinates. Firstly, there was a problem with indexing in the first function but then I moved it into the second function (cols.index(value)), (cols are columns). Maybe the this is the reasong or maybe I have incorrectly implemented something else? The program us not supposed to use numpy tool</p>
<p>Thanks for help in advance!</p>
<pre><code>OBJECTS = {
    &quot;h&quot;: &quot;house&quot;,
    &quot;s&quot;: &quot;shop&quot;,
    &quot;g&quot;: &quot;gas station&quot;,
    &quot;p&quot;: &quot;pharmacy&quot;,
    &quot;c&quot;: &quot;cinema&quot;
}


def check_area(char, row_n, col_n):
    &quot;&quot;&quot;
    Explore a tile - if there is an animal, prints the
    location and name of the animal
    &quot;&quot;&quot;
    if char in list(OBJECTS):
        print(f&quot;Tile ({col_n}, {row_n}) disposes a {OBJECTS[char]}&quot;)


def check_region(td_list):
    &quot;&quot;&quot;
    This function explores an entire field by calling the explore_tile
    function for each tile in the field.
    &quot;&quot;&quot;
    for rows, cols in enumerate(td_list):
        for value in cols:
            if value != &quot; &quot;:
                check_area(value, rows, cols.index(value))


region = [
    [&quot; &quot;, &quot;h&quot;, &quot; &quot;, &quot; &quot;, &quot;p&quot;],
    [&quot; &quot;, &quot;s&quot;, &quot;g&quot;, &quot;s&quot;, &quot; &quot;],
    [&quot;c&quot;, &quot; &quot;, &quot;h&quot;, &quot;s&quot;, &quot; &quot;]
]
check_region(region)
</code></pre>
<p><strong>OUTPUT:</strong></p>
<p>Tile (1, 0) disposes a house
Tile (4, 0) disposes a pharmacy
Tile (1, 1) disposes a shop
Tile (2, 1) disposes a gas station
Tile (<strong>1</strong>, 1) disposes a shop
Tile (0, 2) disposes a cinema
Tile (2, 2) disposes a house
Tile (3, 2) disposes a shop</p>
","2024-04-04 21:08:25","1","Question"
"78275990","78275687","","<p>People tend to get attracted towards python for its simplicity. It's not just you! Many including me would have been happier if we get the option of using all the function and methods with the same syntax. But we should think about the convenience of the people who create the language as well.</p>
<p><strong>Though these functions would have been created in C-language,</strong> For the sake of understanding, I'm writing in python.</p>
<p>Let us assume you want to create several methods to handle strings. The easiest way to design is using OOPS i.e using class and methods. For instance,</p>
<pre><code>class strings:

    def __init__(self, text):
        self.text = text

    def upper():
        txt =  self.text
        for x in txt:
            if ord(x) in range(97, 123):
                idx = txt.find(x)
                x = chr(ord(x)-32)
                txt = txt[:idx] + x + txt[idx+1:]
        return txt

    def lower():
        # some code here

    def capitalize():
        # Some code here
</code></pre>
<p>In this way, all the string related codes could have been encapsuled into a single class.(Of course would be written in C, Not in python)</p>
<p>While calling also..</p>
<pre><code>strings('Hello').capitalise()
strings('Hello').upper()
strings('Hello').lower()
</code></pre>
<p>Then where has the class name strings gone? Please remember: for the sake of understanding, I took the example from python. Similar kinds of things are available in c and other languages as well. There are methods to omit the class name and considering the parameters as string. What My answer indicates is: 'The reason for this is convenient in grouping and debugging and  to explain about the simplicity in grouping and selecting the optimal algorithm'</p>
","2024-04-04 18:43:46","0","Answer"
"78275866","78275829","","<p>Here's one I use, to run them asynchronously in a way. This is to avoid hanging the event loop, there is a small <code>timeout</code> between the calls.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function run_all(queue) {
  if (!queue.length) {
    return;
  }

  function do_one(foo, foo_then) {
    foo();
    setTimeout(foo_then)
  }

  var first = queue.shift();
  do_one(first, function() {
    run_all(queue)
  })
}

var arr = []
arr.push(() =&gt; console.log(""hello""))
arr.push(() =&gt; console.log(""hello 2""))
run_all(arr)</code></pre>
</div>
</div>
</p>
","2024-04-04 18:19:57","0","Answer"
"78275852","78275829","","<p>You can use the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"" rel=""nofollow noreferrer"">forEach()</a> method like this:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const a =()=&gt;{console.log(""1"")};
const b =()=&gt;{console.log(""2"")};
const c =()=&gt;{console.log(""2"")};
const d =()=&gt;{console.log(""2"")};
const e =()=&gt;{console.log(""2"")};
const f =()=&gt;{console.log(""2"")};
const arr = [a,b,c,d,e,f];

arr.forEach(x =&gt; x());

/* Or wrap it in another function if you want to run it whenever needed

const func = () =&gt; arr.forEach(x =&gt; x());
func();

*/</code></pre>
</div>
</div>
</p>
","2024-04-04 18:18:32","0","Answer"
"78275829","","How to create a sequence of functions that performs functions from an array of functions?","<p>There is an array of functions that execute different code. It is necessary to make one function out of these functions, when called, all functions from the array would be executed at once.</p>
<pre><code>const a = ()=&gt;{console.log(&quot;1&quot;)};
const b = ()=&gt;{console.log(&quot;2&quot;)};
const arr = [a,b];
const fn = () =&gt;{
 arr[0]();
 arr[1]();
}
</code></pre>
<p>I need to make such a result in code, rather than manually calling functions.</p>
<p>I tried to do this by simply iterating through the array using a for loop, but the question is, is there any way to do this without increasing the index? Should I use it as a recursive function or something else?</p>
<p>Solving the problem using a loop:</p>
<pre><code>const fn = () =&gt;{
 for(let i = 0; i &lt; arr.length; i++){
  arr[i]();
 }
}
</code></pre>
<p>Is there some solution that doesn't use a loop? Maybe nest a function within a function somehow?</p>
","2024-04-04 18:12:13","0","Question"
"78275687","","Python Coding: Why are some implementations are Functions and some are Methods","<p>For example, when using the &quot;print&quot; Function it works like this:
print (string)
However, when using the &quot;lower&quot; Method it works like this:
string.lower()</p>
<p>Why isn't lower a normal function that works like this:
lower (string)</p>
<p>Is there a reason to implement it as a method?
(From my recent reading, a method is really just a function inside of a class.)</p>
<p>Does this have something to do with python strings being immutable so the string has to be &quot;recreated&quot; using a method instead of a function?</p>
<p>I tried lower(string) and it says &quot;NameError: name 'lower' is not defined&quot;
which makes sense since it's a method.</p>
","2024-04-04 17:43:22","-1","Question"
"78274711","78274132","","<p><code>integrate</code> expects the function to be vectorized (it will pass a vector input, and it expects a vector output). <code>if</code> statements are not vectorized, hence the error.</p>
<p>The immediate error can be resolved by surrounding the definition of <code>prob_height_given_one</code> and <code>expected_success_rate</code> by <code>Vectorize</code>.</p>
<p>However, there's no appropriate reason to use <code>integrate</code> here. Squaring the normal PDF results in another normal PDF (with standard deviation equal to sigma/sqrt(2), and then scaled by a constant), so <code>pnorm</code> can be used. I see no reason for the <code>if</code> statement: <code>height</code> will always be greater than <code>threshold</code> based on the integral. This allows <code>expected_success_rate</code> to be greatly simplified:</p>
<pre><code>expected_success_rate2 &lt;- function(thresh) {
  normalizer &lt;- pnorm(thresh, height_dist[1], height_dist[2], FALSE)
  value_LHS &lt;- pnorm(thresh, height_dist[1], s)/height_dist[2]/sqrt(pi)/2
  value_RHS &lt;- pnorm(thresh, height_dist[1], s, FALSE)/C/normalizer
  value_LHS + value_RHS
}

s &lt;- height_dist[2]/sqrt(2)
C &lt;- 2*height_dist[2]*sqrt(pi)
</code></pre>
<p>From this we can see that <code>expected_success_rate</code> is integrating a likelihood that is proportional (with a constant that depends on <code>thresh</code>) to a normal distribution. For values less than <code>thresh</code>, it is <code>C</code>, and for values greater than <code>thresh</code>, it is <code>C*normalizer</code>, where <code>normalizer</code> is a function of <code>thresh</code>. This will give a positive value everywhere, so integrating <code>expected_success_rate</code> over a non-finite interval will result in <code>Inf</code>.</p>
<p>Demonstrating that integrating the square of a normal PDF can be done using <code>pnorm</code>:</p>
<pre><code>height_dist &lt;- c(177.5, 6.35)
f &lt;- function(x) dnorm(x, height_dist[1], height_dist[2])
f1 &lt;- function(x) f(x)*f(x)
integrate(f1, -Inf, 180)
#&gt; 0.03159284 with absolute error &lt; 1.5e-06
pnorm(180, height_dist[1], height_dist[2]/sqrt(2))/height_dist[2]/sqrt(pi)/2
#&gt; [1] 0.03159284
</code></pre>
<p>Demonstrating the (mathematical) equivalence of the alternative version of <code>expected_success_rate</code>:</p>
<pre><code>prob_height_given_null &lt;- function(height) {
  dnorm(height, mean = height_dist[1], sd = height_dist[2])
}

prob_height_given_one &lt;- Vectorize(function(height, threshold) {
  if (height &gt;= threshold) {
    integrand &lt;- function(x) {
      dnorm(x, mean = height_dist[1], sd = height_dist[2])
    }
    normaliser &lt;- integrate(integrand, threshold, Inf)
    return(prob_height_given_null(height)/normaliser$value)
  }
  else {
    return(0)
  }
})

expected_success_rate &lt;- Vectorize(function(thresh) {
  integrand_LHS &lt;- function(h) {
    prob_height_given_null(h) * prob_height_given_null(h)
  }
  value_LHS &lt;- integrate(integrand_LHS, -Inf, thresh)
  integrand_RHS &lt;- function(h) {
    prob_height_given_null(h) * prob_height_given_one(h, thresh)}
  
  value_RHS &lt;- integrate(integrand_RHS, thresh, Inf)
  
  return(value_LHS$value + value_RHS$value)
})

expected_success_rate2 &lt;- function(thresh) {
  normalizer &lt;- pnorm(thresh, height_dist[1], height_dist[2], FALSE)
  value_LHS &lt;- pnorm(thresh, height_dist[1], s)
  value_RHS &lt;- pnorm(thresh, height_dist[1], s, FALSE)/normalizer
  (value_LHS + value_RHS)/C
}

s &lt;- height_dist[2]/sqrt(2)
C &lt;- 2*height_dist[2]*sqrt(pi)
rbind(
  expected_success_rate(170:180),
  expected_success_rate2(170:180)
)
#&gt;            [,1]       [,2]       [,3]       [,4]       [,5]       [,6]
#&gt; [1,] 0.05012842 0.05185676 0.05388938 0.05618745 0.05866877 0.06120528
#&gt; [2,] 0.05012842 0.05185677 0.05388939 0.05618745 0.05866877 0.06120528
#&gt;           [,7]       [,8]       [,9]      [,10]      [,11]
#&gt; [1,] 0.0636293 0.06574995 0.06737815 0.06835568 0.06858188
#&gt; [2,] 0.0636293 0.06574995 0.06737815 0.06835568 0.06858188
</code></pre>
<p>Benchmarking:</p>
<pre><code>microbenchmark::microbenchmark(
  esr1 = expected_success_rate(170:180),
  esr2 = expected_success_rate2(170:180)
)
#&gt; Unit: microseconds
#&gt;  expr     min       lq      mean  median       uq      max neval
#&gt;  esr1 69075.9 70143.35 72992.418 71919.7 74143.90 123038.1   100
#&gt;  esr2     5.5     6.20    45.632    10.8    18.85   3329.4   100
</code></pre>
<p>One final note. Integrating probability densities can be tricky in the tails. <code>expected_success_rate2</code> maintains precision, while <code>expected_success_rate</code> does not.</p>
<pre><code>expected_success_rate(120)
#&gt; [1] 1.716383e-05
expected_success_rate2(120)
#&gt; [1] 0.04442438
</code></pre>
","2024-04-04 14:54:04","0","Answer"
"78274132","","Simulation: Use of Integrate() in conjunction with custom functions","<p>In attempting to create a simple simulation for psycholinguistics, I have encountered the following error:</p>
<pre><code>&gt; expected_success_rate(170)
&gt; Error in if (height \&gt;= threshold) { : the condition has length \&gt; 1
&gt; Called from: prob_height_given_one(h, thresh)

</code></pre>
<p>I think in this case there must be a problem with the definition of <code>expected_success_rate</code>&gt; The example should be reproducible.</p>
<pre><code>height_dist \&lt;- c(177.5, 6.35)

#TWO CASES

#FIRST : h \&lt; θ   --\&gt;  null utterance, u0

# only prior distribution can inform degree of belief that referent is tall to a given degree: φ(h|u0,θ) = φ(h)

prob_height_given_null &lt;- function(height) {
  dnorm(height, mean = height_dist[1], sd = height_dist[2])
}

# SECOND: h &gt;= θ  --&gt; positive form, u1

# if h ≥ θ, then listener can update by conditioning on u1, which yields a new distribution

prob_height_given_one &lt;- function(height, threshold) {
  if (height &gt;= threshold) {
    integrand &lt;- function(x) {
      dnorm(x, mean = height_dist[1], sd = height_dist[2])
    }
    normaliser &lt;- integrate(integrand, threshold, Inf)
    return(prob_height_given_null(height)/normaliser$value)
  }
  else {
    return(0)
  }
}

# Expected success rate (still non-normalised)
expected_success_rate &lt;- function(thresh) {
  integrand_LHS &lt;- function(h) {
    prob_height_given_null(h) * prob_height_given_null(h)
    }
  value_LHS &lt;- integrate(integrand_LHS, -Inf, thresh)
  integrand_RHS &lt;- function(h) {
    prob_height_given_null(h) * prob_height_given_one(h, thresh)}

  value_RHS &lt;- integrate(integrand_RHS, thresh, Inf)
  
  return(value_LHS$value + value_RHS$value)
}

expected_success_rate(170)

integrate(expected_success_rate, -Inf, true_height)


</code></pre>
<p>Firstly, one problem appears to stem from the definitions of integrand_LHS and integrand_RHS.</p>
<p>One suggestion from copilot was to use Vectorize() to define each integrand - but I didn't trust it as I could not wrap my head around the motivation.</p>
<p>Another issue that has cropped up is that I plant to use the Luce-choice rule. Putting normalisation aside for simplicity, the bottom line is that the expected_success_rate will itself require integration to yield the quantity of interest:</p>
<pre><code>integrate(expected_success_rate, -Inf, true_height)


</code></pre>
<p>I did experiment with the Vectorize() suggestion within expected_success_rate, as follows:</p>
<pre><code>expected_success_rate &lt;- function(threshold) {
  integrand_LHS &lt;- Vectorize(function(h) prob_height_given_null(h) * prob_height_given_null(h))
  value_LHS &lt;- integrate(integrand_LHS, -Inf, threshold)
  
  integrand_RHS &lt;- Vectorize(function(h) prob_height_given_null(h) * prob_height_given_one(h, threshold))
  value_RHS &lt;- integrate(integrand_RHS, threshold, Inf)
  
  return(value_LHS$value + value_RHS$value)
}

</code></pre>
<p>it seemed to work as plots of expected_success_rate looked plausible.</p>
<p>But then a new error was generated here - as you can see, it appears to stem from the definition of that function.</p>
<pre><code>&gt; integrate(expected_success_rate, -Inf, true_height)
 Error in integrate(integrand_LHS, -Inf, thresh) : 
  length(upper) == 1 is not TRUE

</code></pre>
<p>Can anyone help? More broadly, I'd be interested in views as to which languages are best for manipulating bayesian equations.</p>
","2024-04-04 13:17:44","1","Question"
"78271721","78271076","","<p>Often packages use internal functions that are not exported, i.e. you can't get them using <code>internal_fun</code>. You need doing <code>package:::internal_fun</code>. For instance, consider <code>contrasts()</code> of the <code>stats</code> package (which is a base package loaded by default), inside there is a <code>.Diag()</code> function.</p>
<pre><code>&gt; contrasts
function (x, contrasts = TRUE, sparse = FALSE) 
{
    [...]
    if (!contrasts) 
        return(.Diag(levels(x), sparse = sparse))
    [...]
}
&lt;bytecode: 0x573380b6c578&gt;
&lt;environment: namespace:stats&gt;
</code></pre>
<p>Even though <code>stats</code> namespace is loaded,</p>
<pre><code>&gt; any(grepl('stats', loadedNamespaces()))
[1] TRUE
</code></pre>
<p><code>.Diag</code> can't be found.</p>
<pre><code>&gt; .Diag
Error: object '.Diag' not found
</code></pre>
<p>Using <code>`:::`</code> will work:</p>
<pre><code>&gt; stats:::.Diag
function (nms, sparse) 
{
    n &lt;- as.integer(length(nms))
    d &lt;- c(n, n)
    dn &lt;- list(nms, nms)
    if (sparse) {
        if (!suppressPackageStartupMessages(requireNamespace(&quot;Matrix&quot;))) 
            stop(gettextf(&quot;%s needs package 'Matrix' correctly installed&quot;, 
                &quot;contr*(.., sparse=TRUE)&quot;), domain = NA)
        methods::new(&quot;ddiMatrix&quot;, diag = &quot;U&quot;, Dim = d, Dimnames = dn)
    }
    else array(c(rep.int(c(1, numeric(n)), n - 1L), 1), d, dn)
}
&lt;bytecode: 0x57337f73d3b0&gt;
&lt;environment: namespace:stats&gt;
</code></pre>
<p><em><strong>Conclusion</strong></em></p>
<p>In the copied source code, replace <code>internal_fun</code> with <code>package:::internal_fun</code> to make it work. To avoid having to install the corresponding package, you can also copy the source code of <code>package:::internal_fun</code> (which can sometimes turn out to be a deeply nested endeavor). I did not explain special Rcpp export procedures in the answer, but explained the principle. Basically, you would have to find the corresponding C++ code in the package and proceed in a similar way.</p>
","2024-04-04 04:44:31","1","Answer"
"78271076","","Github R package and Rcpp Exports","<p>I am trying to understand a package from Github (the package is not available in R cran).</p>
<p>However, I could not find several functions which are actually being called within some other functions in that package!</p>
<p>And if I define a already defined function by any other name, the function doesn't work. For example, say in the package there is a function</p>
<pre><code>oldfunction &lt;- function (nn){m &lt;- nn}
</code></pre>
<p>I copied the <code>oldfunction</code>'s whole source code, and define it as <code>myfunction &lt;- function (nn){m &lt;- nn}</code>. Here <code>oldfunction</code> works, but <code>myfunction</code> gives me an error.</p>
<p>I can see that there are code files in the authors github link that say they have used <code>Rcpp Exports</code>. The issue is that I am completely a layman here.</p>
<p>Does the <code>Rcpp Exports</code> use functions that are defined in <code>C++</code> which may not be provided by the authors in their github Rcode files?</p>
<p>I would truly appreciate any suggestion in this regard.</p>
","2024-04-04 00:23:05","1","Question"
"78269251","78269105","","<blockquote>
<p>Shouldn't function <code>array_at</code> only return the value of pointer?</p>
</blockquote>
<p>The function is declared with return type <code>int *</code>, so it should return an <code>int *</code>, which is a pointer to an <code>int</code>, also called an address.</p>
<p>Its return statement provides the address of an <code>int</code>; <code>return &amp;(a-&gt;array[index]);</code> uses <code>&amp;</code> to take the address of <code>a-&gt;array[index]</code>.</p>
<blockquote>
<p>Why <code>array_at(&amp;a,0)</code>  is the pointer itself，not the value of the pointer?</p>
</blockquote>
<p>The function returns an <code>int *</code>, which is a value that that points to an <code>int</code>. It is the address of an <code>int</code>.</p>
<blockquote>
<p>Why is <code>*array_at(&amp;a,0)</code>   even an lvalue that can be assigned?</p>
</blockquote>
<p>The unary <code>*</code> produces an lvalue. Applying it to <code>array_at(&amp;a, 0)</code> produces an lvalue for the <code>int</code> that <code>array_at(&amp;a, 0)</code> returns a pointer to.</p>
","2024-04-03 16:51:27","0","Answer"
"78269223","78269105","","<blockquote>
<p>Why did this C language code not report an error or warning?</p>
</blockquote>
<p>Because the code is not erroneous or particularly dubious.</p>
<blockquote>
<p>Shouldn't function <code>array_at</code> only return the value of pointer?</p>
</blockquote>
<p>Functions return values.  Sometimes, as in your case, those values have pointer type.  But function call expressions are not lvalues, so the return value is all there is -- there is no underlying object storing it.  I think that's what you mean by &quot;only return the value of pointer&quot;, so yes.</p>
<blockquote>
<p>Why array_at(&amp;a,0) is the pointer itself，not the value of the pointer?</p>
</blockquote>
<p>You seem to be confused. <code>array_at(&amp;a,0)</code> evaluates to a pointer value, but that expression is not an lvalue, meaning that it does designate an object with storage or lifetime.  And it does not need to be for the apparent purpose.</p>
<blockquote>
<p>Why is *array_at(&amp;a,0) even an lvalue that can be assigned?</p>
</blockquote>
<p>Because that's what the unary <code>*</code> operator produces.  Its operand does not need to be an lvalue, and often isn't.  Its result, on the other hand, <em>is</em> an lvalue.</p>
<p>And there is nothing unreasonable about that.  A valid, non-null pointer value identifies an object. An expression in the unary <code>*</code> operator designates the object to which the operand points, just like a variable's name designates the object it names.  Either way, you can read the designated object's value.  Either way, if the object is modifiable at all, you can write the designated object's value.</p>
","2024-04-03 16:46:53","1","Answer"
"78269105","","Why does this function return a pointer instead of pointer's value in C language?","<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

typedef struct 
{
    int *array;  
    int size;     
}Array; 

Array array_create(int init_size);
int* array_at(Array *,int index);
void array_free(Array *);


int main(int argc, char const *argv[])
{
    Array a =array_create(100);
    *array_at(&amp;a,0)=10;
    printf(&quot;%d\n&quot;,*array_at(&amp;a,0));
    array_free(&amp;a);
    return 0;
}


Array array_create(int init_size){
    Array a;     
    a.size = init_size;
    a.array=(int*)malloc(sizeof(int)*a.size);
    return a;
}

void array_free(Array *a)
{
    free(a-&gt;array); 
    a-&gt;array=NULL;
    a-&gt;size=0;
}


int* array_at(Array *a,int index)
{
    return &amp;(a-&gt;array[index]);
}
</code></pre>
<p>Why did this C language code not report an error or warning? Shouldn't function <code>array_at</code> only return the value of pointer? Why <code>array_at(&amp;a,0)</code>  is the pointer itself，not the value of the pointer? Why is <code>*array_at(&amp;a,0)</code>   even an lvalue that can be assigned?</p>
<p>Because codes like</p>
<pre><code>#include &lt;stdio.h&gt;

int new(int);

int main(){

    int a=3;
    new(a)=4;
    printf(&quot;%d\n&quot;,new(a));

}

int new(int i){
    i+=3;
    return i;
}
</code></pre>
<p>won't run sucessfully. I think it's because <code>new(a)</code> is just a value of the int variable <code>i</code> and it can't be lvalue, so I really don't understand why the above code can run successfully</p>
","2024-04-03 16:24:56","1","Question"
"78268654","78268561","","<pre><code>class Encoder:
def __init__(self):
    self.chars = &quot; &quot; + string.punctuation + string.digits + string.ascii_letters
    self.chars = list(self.chars)
    self.key = self.chars.copy()
    random.shuffle(self.key)

def create_files(self):
    with open(&quot;key.txt&quot;, &quot;a&quot;) as key_file:
        key_file.write(str(self.key))

    with open(&quot;encrypted.txt&quot;, &quot;a&quot;) as encrypted_file:
        encrypted_file.write(&quot;new file&quot;)

def file_to_chars(self, file_name): # Change Encoder to self
    with open(file_name, &quot;r&quot;) as user_file:
        words = user_file.readlines()
        chars_list = []
        for word in words:
            for char in list(word):
                chars_list.append(char)
        while &quot;\n&quot; in chars_list:
            chars_list.remove(&quot;\n&quot;)

    return chars_list

def encode(self, user_input):
    original = self.file_to_chars(user_input) # Not need to pass Encoder
    encryption = &quot;&quot;
    for letter in original:
        index = self.chars.index(letter)
        encryption += self.key[index]

    with open(&quot;encrypted.txt&quot;, &quot;w&quot;) as encrypted_file:
        encrypted_file.write(str(encryption))
    try:
        return open(&quot;encrypted.txt&quot;, &quot;r&quot;)
    except:
        print(&quot;Error, try again. &quot;)
</code></pre>
<p>I have do some changes.</p>
","2024-04-03 15:11:27","0","Answer"
"78268561","","Problem with functions from a class not taking arguments","<p>I made a class, and I made functions for that class for me to use later (the functions have parameters), but I'm having a problem where one of my functions won't take an argument. I think this might be because it is nested into another function within the class (both are defined within the class) but I'm pretty new to programming so I'm quite confused.</p>
<pre><code>class Encoder():
    def __init__(self):
        self.chars = &quot; &quot; + string.punctuation + string.digits + string.ascii_letters
        self.chars = list(self.chars)
        self.key = self.chars.copy()
        random.shuffle(self.key)
    
    def create_files(self):
        with open(&quot;key.txt&quot;, 'a') as key_file:
                key_file.write(str(self.key))  

        with open(&quot;encrypted.txt&quot;, 'a') as encrypted_file:
            encrypted_file.write(&quot;new file&quot;)
        
    def file_to_chars(Encoder, file_name):
        with open(file_name, 'r') as user_file:
                words = user_file.readlines()
                chars_list = []
                for word in words:
                    for char in list(word):
                        chars_list.append(char)
                while &quot;\n&quot; in chars_list:
                    chars_list.remove(&quot;\n&quot;)
                    
        return chars_list            


    def encode(self, user_input):
        original = self.file_to_chars(Encoder, user_input)
        encryption = &quot;&quot;
        for letter in original:
            index = self.chars.index(letter)
            encryption += self.key[index]
        
        with open(&quot;encrypted.txt&quot;, 'w') as encrypted_file:
            encrypted_file.write(str(encryption))
        try:
            return open(&quot;encrypted.txt&quot;, 'r')
        except:
            print(&quot;Error, try again. &quot;)
</code></pre>
<p>When I try to pass in an argument for &quot;user_input&quot; in the encode() function, I get an error stating that the files_to_chars() has no argument for file_name.</p>
<pre><code>from encoder import Encoder

ui = input('name of file: ')
f=Encoder.encode(Encoder, ui)
print(f.read())
</code></pre>
<p>Here is an example of how it's used.</p>
<p>I tried putting <code>Encoder,</code> as the first parameter of the files_to_chars function but that didn't seem to work and I just got the same error. I'm pretty lost and any help would be great.</p>
","2024-04-03 14:55:53","0","Question"
"78267649","78260627","","<p>In this case, because your function has declared type of void, it does not return anything. And when you want to invoke that function, just use its name and pass the parameters in the parentheses.</p>
<p>Another way is you can have your function return a sum of an integer, then you need to assign it to another variable or use it in place of an integer .</p>
<p>Example below</p>
<pre><code>#include &lt;stdio.h&gt;

void sum (int n1,int n2)
{
  int result;
  result = n1 + n2;
  printf(&quot;%i&quot;,result);
}

int sum1(int m1, int m2)
{
    return m1+m2;
}

int main ()
{
  sum (2,4);

  int result = sum1(3,5);
  printf(&quot;\n\nThe result of sum of 3 and 5 is %i.\n&quot;, result);
  printf(&quot;The result of sum of 2 and 2 is %i.\n&quot;, sum1(2,2));
  return 0;
}
</code></pre>
","2024-04-03 12:29:27","1","Answer"
"78265679","78263890","","<p>The error likely comes from baseburo[NombrecolM] being referenced before it's properly defined or used out of context. You can do this:</p>
<pre><code>import pandas as pd

data = {
    'Item': [710059, 710532, 710895, 711302, 711361],
    'CO01NUM022AH': [0.0, 0.0, 0.0, 0.0, 0.0],
    'CO01NUM022CT': [0.0, -1.0, -1.0, -1.0, -1.0],
    'CO01EXP001VE': [206.0, -1.0, 13.0, -1.0, -1.0],
    'CO01EXP001RO': [239.0, 97.0, 117.0, 54.0, 225.0]
}
baseburo = pd.DataFrame(data)

print(baseburo)

VarMeses = ('CO01EXP001VE', 'CO01EXP001RO')

binsM = [0, 1, 12, 24, 48, 72, 96, 120, 144, 168, 99999]
labM = ['y. Sin antiguedad', 'a. 1-12 m', 'b. 13-24 m', 'c. 25-48 m', 'd. 49-72 m', 'e. 73-96 m', 'f. 97-120 m', 'g. 121-144 m', 'h. 145-168 m', 'i. &gt;168 m']

def RangDef0(row, column):
    if row[column] == 0:
       return 'y. Sin antiguedad'
    elif row[column] &gt; 0:
       return pd.cut([row[column]], bins=binsM, labels=labM, right=False)[0]
    elif row[column] in [-1, -2, -3]:
       return 'z. Sin informacion'
    else:
       return 'y. Sin antiguedad'

for column in VarMeses:
    NombrecolM = 'R2' + column  
    NombrecolM2 = 'R' + column
    baseburo[NombrecolM] = pd.cut(baseburo[column], bins=binsM, labels=labM, right=False)
    baseburo[NombrecolM2] = baseburo.apply(lambda row: RangDef0(row, column), axis=1)

print(baseburo)
</code></pre>
<p>Which gives</p>
<pre><code>  R2CO01EXP001VE       RCO01EXP001VE R2CO01EXP001RO RCO01EXP001RO  
0      i. &gt;168 m           i. &gt;168 m      i. &gt;168 m     i. &gt;168 m  
1            NaN  z. Sin informacion    f. 97-120 m   f. 97-120 m  
2     b. 13-24 m          b. 13-24 m    f. 97-120 m   f. 97-120 m  
3            NaN  z. Sin informacion     d. 49-72 m    d. 49-72 m  
4            NaN  z. Sin informacion      i. &gt;168 m     i. &gt;168 m 
</code></pre>
","2024-04-03 06:36:25","0","Answer"
"78265603","78265529","","<p>Instead of using the <code>apply</code> function you should iterate through each row and call <code>tradeStrategy</code></p>
<pre><code>buy_price = 0

def tradeStrategy(row):
    global buy_price

    # entry conditions
    if buy_price == 0 and row['ema200'] &lt; row['ema50']:
        buy_price = row['close']
        
    # exit conditions
    if buy_price &gt; 0 and (row['ADX_14'] &lt; 20 or (row['ADX_14'] &gt; 20 and row['DMP_14'] &lt; row['DMN_14']) or row['ema200'] &gt; row['ema50']):
        sell_price = row['close']
        profit = 1000 * ((sell_price - buy_price) / buy_price)
        temp_buy_price = buy_price  # Store buy_price temporarily
        buy_price = 0  # Reset buy_price after profit calculation
        return profit, temp_buy_price  # Return profit and buy_price

    return None, None  # Return None if exit conditions are not met

profits = []
temp_buy_prices = []

for index, row in btc_1m_2023.iterrows():
    profit, temp_buy_price = tradeStrategy(row)
    if profit is not None:
        profits.append(profit)
        temp_buy_prices.append(temp_buy_price)

btc_1m_2023['tradeStrategyProfit'] = profits
btc_1m_2023['tempBuyPrice'] = temp_buy_prices
</code></pre>
","2024-04-03 06:20:35","0","Answer"
"78265529","","Struggling to conditionally reset value of variable to zero","<p>My code doesn't work because the value of the variable <code>profit</code> is derived by division using the variable <code>buy_price</code> which is currently set to 0 before profit is returned.</p>
<pre><code>buy_price = 0

def tradeStrategy(row):
    global buy_price

    #entry conditions
    if buy_price==0 and row['ema200'] &lt; row['ema50']:
        buy_price = row['close']
        
    #exit conditions
    if buy_price &gt; 0 and row['ADX_14']&lt;20 or (row['ADX_14']&gt;20 and row['DMP_14']&lt;row['DMN_14']) or row['ema200'] &gt; row['ema50'] :
        sell_price = row['close']
        profit = 1000*((sell_price-buy_price)/buy_price)
        buy_price = 0
        return profit

btc_1m_2023['tradeStrategy'] = btc_1m_2023.apply(tradeStrategy, axis=1)
</code></pre>
<p>How can I set <code>buy_price</code> to zero ONLY if my exit conditions are met and AFTER <code>profit</code> is returned?</p>
","2024-04-03 06:04:33","-1","Question"
"78265374","78265251","","<pre class=""lang-py prettyprint-override""><code>import numpy as np


def get_activation_fn_with_deriv(fn_name):
    &quot;&quot;&quot;Returns function objects for activation function and its derivative.

    Returns function objects for the specified activation function and its derivative function.

    Args:
        fn_name: Name of the activation function.

    Returns:
        (fn, fn_deriv): A tuple of the activation function and its derivative function.

    Raises:
        ValueError: If an unavailable activation function is retrieved.

    Examples:
        &gt;&gt;&gt; relu, relu_deriv = activation_fn_with_deriv('relu')
        &gt;&gt;&gt; relu(np.array([1, -1, 2.3]))
        array([1. , 0. , 2.3])
    &quot;&quot;&quot;

    try:
        return _activation_fn_with_deriv_dict[fn_name.lower()]
    except KeyError:
        raise ValueError(
            f&quot;Specified activation function not available. Choose from - {list(_activation_fn_with_deriv_dict)}.&quot;
        )


def _identity(x):
    return x


def _identity_deriv(x):
    return np.ones(x.shape)


def _relu(x):
    return np.maximum(x, 0.0)


def _relu_deriv(x):
    return np.where(x &gt;= 0.0, 1.0, 0.0)


def _sigmoid(x):
    return 1 / (1 + np.exp(-x))


def _sigmoid_deriv(x):
    sigmoid_x = _sigmoid(x)
    return sigmoid_x * (1 - sigmoid_x)


def _tanh(x):
    exp_2x = np.exp(2 * x)
    return (exp_2x - 1) / (exp_2x + 1)


def _tanh_deriv(x):
    return 1 - _tanh(x) ** 2


_activation_fn_with_deriv_dict = {
    &quot;identity&quot;: (_identity, _identity_deriv),
    &quot;relu&quot;: (_relu, _relu_deriv),
    &quot;sigmoid&quot;: (_sigmoid, _sigmoid_deriv),
    &quot;tanh&quot;: (_tanh, _tanh_deriv),
}
</code></pre>
<p>Key points:</p>
<ol>
<li><p>Make those functions global. Name them with a prefix underscore if you don't want them to be directly used outside the module. Using an inner function normally indicates that some local variables are involved, or the function itself has very limited usage. It is not the case here.</p>
</li>
<li><p>Predefine the mapping and reuse it. Although creating a <code>dict</code> every time may be cheap, it is still unnecessary overhead.</p>
</li>
<li><p>There is no need to manually concatenate <code>dict</code> keys. A more PYTHONIC way would be just to wrap a <code>dict</code> with <code>list</code>.</p>
</li>
</ol>
<h2>EDIT</h2>
<p>Adjust function order to emphasize the entrance function.</p>
","2024-04-03 05:22:53","2","Answer"
"78265281","78265251","","<pre><code>import numpy as np

def get_activation_fn_with_deriv(fn_name):
    &quot;&quot;&quot;Returns function objects for the specified activation function and its derivative.

    Args:
        fn_name (str): Name of the activation function.
    
    Returns:
        tuple: A tuple of the activation function and its derivative function.
    
    Raises:
        ValueError: If an unavailable activation function is retrieved.
    &quot;&quot;&quot;

    available_fn = {
        'identity': (np.array, lambda x: np.ones(x.shape)),
        'relu': (np.maximum, lambda x: np.where(x &gt;= 0.0, 1.0, 0.0)),
        'sigmoid': (lambda x: 1 / (1 + np.exp(-x)), lambda x: sigmoid(x) * (1 - sigmoid(x))),
        'tanh': (lambda x: (np.exp(2 * x) - 1) / (np.exp(2 * x) + 1), lambda x: 1 - tanh(x) ** 2)
    }

    try:
        fn, fn_deriv = available_fn[fn_name.lower()]
    except KeyError:
        raise ValueError(f'Specified activation function &quot;{fn_name}&quot; not available. Choose from - {&quot;, &quot;.join(available_fn.keys())}.')

    return fn, fn_deriv
</code></pre>
","2024-04-03 04:48:58","3","Answer"
"78265251","","Are there ways to improve the following code?","<p>I have the following function that returns one of several functions along with their derivative for training neural networks.<br />
Can this function be improved and made more pythonic in any way?<br />
Are there other things like reducing the redundancy of the list etc.?<br />
Could a better way be to instead enclose the inner functions inside a class?</p>
<p>Note: I am not looking to optimize the computational aspects of the functions.</p>
<pre><code>import numpy as np


def get_activation_fn_with_deriv(fn_name):
    &quot;&quot;&quot; Returns function objects for activation function and its derivative.

    Returns function objects for the specified activation function and its derivative function.

    Args:
        fn_name: Name of the activation function.
    
    Returns:
        (fn, fn_deriv): A tuple of the activation function and its derivative function.
    
    Raises:
        ValueError: If an unavailable activation function is retrieved.
    
    Examples:
        &gt;&gt;&gt; relu, relu_deriv = activation_fn_with_deriv('relu')
        &gt;&gt;&gt; relu(np.array([1, -1, 2.3]))
        array([1. , 0. , 2.3])
    &quot;&quot;&quot;

    available_fn = ['identity', 'relu', 'sigmoid', 'tanh']

    match fn_name.lower():
        case 'identity':
            def identity(x):
                return x
            
            def identity_deriv(x):
                return np.ones(x.shape)
            
            return identity, identity_deriv
        
        case 'relu':
            def relu(x):
                return np.maximum(x, 0.0)

            def relu_deriv(x):
                return np.where(x &gt;= 0.0, 1.0, 0.0)

            return relu, relu_deriv
        
        case 'sigmoid':
            def sigmoid(x):
                return 1 / (1 + np.exp(-x))

            def sigmoid_deriv(x):
                sigmoid_x = sigmoid(x)
                return sigmoid_x * (1 - sigmoid_x)
            
            return sigmoid, sigmoid_deriv
        
        case 'tanh':
            def tanh(x):
                exp_2x = np.exp(2 * x)
                return (exp_2x - 1) / (exp_2x + 1)

            def tanh_deriv(x):
                return 1 - tanh(x) ** 2
            
            return tanh, tanh_deriv

        case _:
            raise ValueError(f'Specified activation function not available. Choose from - {[name.lower() for name in available_fn]}.')
</code></pre>
","2024-04-03 04:38:00","-1","Question"
"78263890","","ValueError: Cannot set a DataFrame with multiple columns to the single column","<p>I'm trying to use the next function, but appears ValueError: Cannot set a DataFrame with multiple columns to the single column.</p>
<p>I used this function with others columns (CO01NUM022AH and CO01NUM022CT), and I had no problem (New columns R2 ... y R ... were created). But with the other columns (CO01EXP001VE and CO01EXP001RO) only I get columns R2 ...</p>
<p>Any help or suggestion would be appreciated.</p>
<p>That's my code. I get the error for the line number 19:</p>
<pre><code>VarMeses = ('CO01EXP001VE', 'CO01EXP001RO')

def RangDef0 (row):
    if row[column] == 0:
       rango = 'y. Sin antiguedad'
    elif row[column] &gt; 0:
       rango = baseburo[NombrecolM]
    elif (row[column] == -1) | (row[column] == -2) | (row[column] == -3):
       rango = 'z. Sin informacion'
    else:
       rango = 'y. Sin antiguedad'
    return rango

binsM = [1, 12, 24, 48, 72, 96, 120, 144, 168, 99999]
labM = ['a. 1-12 m','b. 13-24 m','c. 25-48 m','d. 49-72 m','e. 73-96 m','f. 97-120 m','g. 121-144 m','h. 145-168 m','i. &gt;168 m']

for column in VarMeses:
    NombrecolM = 'R2'+ str(column)  
    NombrecolM2 = 'R'+ str(column)
    baseburo[NombrecolM] = pd.cut(baseburo[column], bins = binsM, labels = labM, include_lowest = True)
    baseburo[NombrecolM2] = baseburo.apply(RangDef0, axis=1)
</code></pre>
<p>This is the dataframe:</p>
<pre><code>Item    CO01NUM022AH    CO01NUM022CT    CO01EXP001VE    CO01EXP001RO    R2CO01NUM022AH  RCO01NUM022AH   R2CO01NUM022CT  RCO01NUM022CT   R2CO01EXP001VE  R2CO01EXP001RO
710059  0.0 0.0 206.0   239.0   b. 1    a. 0    b. 1    a. 0    i. &gt;168 m   i. &gt;168 m
710532  0.0 -1.0    -1.0    97.0    b. 1    a. 0    NaN z. Sin informacion  NaN f. 97-120 m
710895  0.0 -1.0    13.0    117.0   b. 1    a. 0    NaN z. Sin informacion  b. 13-24 m  f. 97-120 m
711302  0.0 -1.0    -1.0    54.0    b. 1    a. 0    NaN z. Sin informacion  NaN d. 49-72 m
711361  0.0 -1.0    -1.0    225.0   b. 1    a. 0    NaN z. Sin informacion  NaN i. &gt;168 m

</code></pre>
","2024-04-02 20:23:56","0","Question"
"78263496","78263397","","<p>I have changed the function to avoid hard-coding <code>record_id</code> and <code>timeframe</code>. Moreover, I provided an extra argument, <code>Nt2</code>, to showcase the changes that were applied to column <code>Nt</code>. Basically, you need to use <code>!!enquo(colname)</code> or <code>{{colname}}</code> to pass the arguments to the function.</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)
library(rlang)


lag_vars &lt;- function(df, id, time, N, B, C, Q, Nt2){
  out &lt;- df %&gt;% group_by(!! enquo(id)) %&gt;%
    mutate(!! enquo(Nt2) := case_when(
                      !! enquo(time) == 0 ~ !! enquo(B),
                      !! enquo(time) &gt; 0 &amp; !! enquo(C) == 1 ~ !! enquo(Q),
                      !! enquo(time) &gt; 0 &amp; !! enquo(C) == 0 ~ lag(!! enquo(N))
    ))
  
  return(out)
}

lag_vars(df1, record_id, timeframe, Nt, Bt, Ct, Qt, Ntest)

#&gt; # A tibble: 8 × 7
#&gt; # Groups:   record_id [3]
#&gt;   record_id timeframe    Nt    Bt    Ct    Qt Ntest
#&gt;       &lt;int&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
#&gt; 1         2         0     0     1     0     0     1
#&gt; 2         2         1    NA     0    NA    NA    NA
#&gt; 3         6         0     1    NA     1     1    NA
#&gt; 4         6         1    NA    NA     0    NA     1
#&gt; 5         6         2    NA    NA     1    NA    NA
#&gt; 6         9         0     1     0    NA     1     0
#&gt; 7         9         1     0     1     1     0     0
#&gt; 8         9         2    NA    NA    NA    NA    NA
</code></pre>
<h3>Data:</h3>
<pre><code>read.table(text = &quot;record_id timeframe Nt Bt Ct Qt
                           2         0  0  1  0  0
                           2         1 NA  0 NA NA
                           6         0  1 NA  1  1
                           6         1 NA NA  0 NA
                           6         2 NA NA  1 NA
                           9         0  1  0 NA  1
                           9         1  0  1  1  0
                           9         2 NA NA NA NA&quot;,
           header = T, stringsAsFactors = F) -&gt; df1
</code></pre>
<p><sup>Created on 2024-04-02 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.0.2</a></sup></p>
","2024-04-02 18:57:11","1","Answer"
"78263397","","Creating a function to modify a list of variables conditionally using the case_when function in R","<p>I would like to create several (30+) variables based on the following function where N, B, C, Q are each a list of variables within the df dataframe. I've included the code as well as the error from R I receive. An example of the data is provided where &quot;...&quot; represents the rest of the data besides which contain 0, 1, or missing.</p>
<pre><code>    record_id timeframe                ...
95          2         0                  0
94          2         1                 NA
19          6         0                  1
17          6         1                 NA
18          6         2                 NA
75          9         0                  1
73          9         1                  0
74          9         2                 NA



lag_vars &lt;- function(df, N, B, C, Q){
  df &lt;- df %&gt;% group_by(record_id) %&gt;%
    mutate(N = case_when(
      timeframe == 0 ~ B,
      timeframe &gt; 0 &amp; C == 1 ~ Q,
      timeframe &gt; 0 &amp; C == 0 ~ lag(N)
    ))

  return(df)
}

lag_vars(t, Nt, Bt, Ct, Qt)
</code></pre>
<p>Which returns an error:</p>
<blockquote>
<pre><code>Error in `mutate()`:
! Problem while computing `N = case_when(...)`.
ℹ The error occurred in group 1: record_id = 2.
Caused by error in `case_when()`:
! `timeframe == 0 ~ B`, `timeframe &gt; 0 &amp; C == 1 ~ Q`, `timeframe &gt; 0 &amp; C == 0 ~ lag(N)` must be length 2 or one, not 3.
Run `rlang::last_trace()` to see where the error occurred.
Called from: signal_abort(cnd, .file)
Warning messages:
1: Problem while computing `N = case_when(...)`.
ℹ longer object length is not a multiple of shorter object length
ℹ The warning occurred in group 1: record_id = 2. 
2: Problem while computing `N = case_when(...)`.
ℹ longer object length is not a multiple of shorter object length
ℹ The warning occurred in group 1: record_id = 2.
</code></pre>
</blockquote>
<p>Is <code>case_when</code> able to utilize vectors? Or can I place case_when within another function?</p>
","2024-04-02 18:39:10","0","Question"
"78261860","78247125","","<p>There is a <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters"" rel=""nofollow noreferrer"">syntax for default values of function parameters</a> in case of omitted /undefined arguments.</p>
<p>And since the OP has to assign always either passed or default values of the <code>Rectangle</code> constructor, the following code in terms of answering the OP's question already is sufficient enough ...</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>class Rectangle {
  constructor(width = 10, height = 10) {

    Object.assign(this, { width, height })
  }
}
const rect = new Rectangle;

console.log(rect);</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
</div>
</div>
</p>
<p>But since with the above code, one immediately runs into problems, due to not handling passed invalid data/values, one should provide a sanitizing function which ensures <code>Rectangle</code> instances with safe and reasonable initial properties ...</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>/**
 *  - returns an object of `width`, and `height` properties,
 *    where each property value is a number value in between
 *    1 and 100, regardless of the initially provided values.
 */
function getValidInitialRectProps(width, height) {
  width = Number(width);
  height = Number(height);

  width = Number.isFinite(width) ? width : 10;
  height = Number.isFinite(height) ? height : 10;

  return {
    width: Math.max(1, Math.min(100, width)),
    height: Math.max(1, Math.min(100, height)),
  };  
}

class Rectangle {
  constructor(width = 10, height = 10) {

    Object.assign(this, getValidInitialRectProps(width, height));
  }
}
const rect = new Rectangle;

console.log(rect);
console.log('\n');

console.log(new Rectangle(30));
console.log('\n');

console.log(new Rectangle(null, 0));
console.log(new Rectangle(-20, 20));
console.log(new Rectangle(30, 0/0));
console.log(new Rectangle(Infinity, '4'));</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
</div>
</div>
</p>
","2024-04-02 14:00:52","0","Answer"
"78261655","78261032","","<p>Instead of passing each file as separate parameters, you could pass it as a list of files to support any number of files:</p>
<pre class=""lang-js prettyprint-override""><code>export async function uploadMultipleFiles_2(
  page: Page, 
  folder: string, 
  files: string[]
) {
  const inputFiles = files.map((file) =&gt; path.join(folder, file));
  await page.locator('input[type=&quot;file&quot;]').setInputFiles(inputFiles);
}
</code></pre>
<p>Or if you want to do it in separate parameters, using <a href=""https://stackoverflow.com/questions/30016773/javascript-filter-true-booleans"">filter(Boolean)</a> will remove undefined:</p>
<pre class=""lang-js prettyprint-override""><code>export async function uploadMultipleFiles(
  page: Page,
  folder: string,
  file1: string,
  file2: string,
  file3?: string,
  file4?: string,
  file5?: string
) {
  const inputFiles = [file1, file2, file3, file4, file5]
    .filter(Boolean)
    .map((file) =&gt; path.join(folder, file));
  await page.locator('input[type=&quot;file&quot;]').setInputFiles(files);
}
</code></pre>
","2024-04-02 13:28:01","0","Answer"
"78261200","78261032","","<p>You can use the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax"" rel=""nofollow noreferrer"">spread operator</a>:</p>
<pre><code>export async function uploadMultipleFiles(page: Page, folder: string, file1: string, file2: string, ...extraFiles: string[]) {
  const files = [path.join(folder, file1), path.join(folder, file2)];
  if (extraFiles) {
    files.push(...extraFiles.map((file) =&gt; path.join(folder, file)));
  }
  await page.locator('input[type=&quot;file&quot;]').setInputFiles(files);
</code></pre>
","2024-04-02 12:08:13","0","Answer"
"78261032","","Upload multiple files with optional parameter","<p>This function is supposed to upload multiple files. I have given it 5 file parameters, out of which 2 are mandatory and the last 3 are optional:</p>
<pre><code>export async function uploadMultipleFiles(page: Page, folder: string, file1: string, file2: string, file3?: string, file4?: string, file5?: string) {
    await page.locator('input[type=&quot;file&quot;]').setInputFiles([path.join(folder, file1), path.join(folder, file2) ]);
}
</code></pre>
<p>If call the method with 3 file parameters, only the first two will be uploaded, those that correspond to the mandatory parameters which i declared.</p>
<pre><code>await functions.uploadMultipleFiles(page, 'tests/pictures/', 'photo1.jpg', 'photo2.jpg', 'conditions.pdf');
</code></pre>
<p>I am to understand that if i want other optional parameter files to be uploaded i need to fill in the rest of them as such</p>
<pre><code>export async function uploadMultipleFiles(page: Page, folder: string, file1: string, file2: string, file3?: string, file4?: string, file5?: string) {
    await page.locator('input[type=&quot;file&quot;]').setInputFiles([
        path.join(folder, file1),
        path.join(folder, file2),
        path.join(folder, file3),
        path.join(folder, file4),
        path.join(folder, file5)]);
}
</code></pre>
<p>But if i do this, i will get an error for file 3,4 and 5</p>
<pre><code>Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.ts(2345)
(parameter) file3: string | undefined
</code></pre>
<p>How do i use the file 3,4 and 5 parameters as long as i keep them optional ?</p>
","2024-04-02 11:41:10","0","Question"
"78260907","78260433","","<p>Doing something like this you can pass either <code>&quot;first&quot;</code>, <code>&quot;last&quot;</code> or the index of the locator you want to check:</p>
<pre class=""lang-js prettyprint-override""><code>  async checkLocatorByText(
    page: Page,
    locatorName: string,
    locatorPosition: &quot;first&quot; | &quot;last&quot; | number,
    text: string
  ) {
    if (locatorPosition === &quot;first&quot;) {
      await expect(page.locator(locatorName).first()).toContainText(text);
    } else if (locatorPosition === &quot;last&quot;) {
      await expect(page.locator(locatorName).last()).toContainText(text);
    } else {
      await expect(page.locator(locatorName).nth(locatorPosition)).toContainText(text);
    }
  }
</code></pre>
","2024-04-02 11:19:31","0","Answer"
"78260627","","Error : Expected parameter declarator in C","<hr />
<p>Hello Everyone.</p>
<p>I have an error : Expected parameter declarator.</p>
<p>How can I fix this problem ?
I am new in programming.
Thanks in advance.</p>
<pre><code>#include &lt;stdio.h&gt;



void sum (int n1,int n2)

{

  int result;

  result = n1 + n2;

  printf(&quot;%i&quot;,result);

}



int main ()
{

  void sum (2,4);

  return 0;

}
</code></pre>
","2024-04-02 10:30:22","1","Question"
"78260433","","Passing a method as parameter in playwright","<p>I have a function that checks a locator to have a certain text and i want to use first() and last() as parameters, among others:</p>
<pre><code>export async function checkLocatorByText(page: Page,locatorName: string,locatorPosition:string, text: string) {
    await expect(page.locator(locatorName).last()).toContainText(text);
}
</code></pre>
<p>For example here I have a parameter locatorPosition that i would like to use instead of hardcoding the .last() method directly. I want to use the .last() method later as an argument but I am failing at using it in the function.
What result i really want is something like this</p>
<pre><code>export async function checkLocatorByText(page: Page,locatorName: string,locatorPosition:string, text: string) {
    await expect(page.locator(locatorName).locatorName).toContainText(text);
}
</code></pre>
<p>How can i achieve this ?</p>
","2024-04-02 09:55:59","0","Question"
"78257720","78257687","","<p>You could give it the <a href=""https://en.cppreference.com/w/c/language/attributes/noreturn"" rel=""nofollow noreferrer""><code>[[noreturn]]</code></a> attribute which ...</p>
<blockquote>
<p>Indicates that the function does not return.</p>
</blockquote>
<pre class=""lang-c prettyprint-override""><code>[[noreturn]] void System_Fail();   // C23 attribute
_Noreturn void System_Fail(void);  // Function specifier since C11, prior to C23
</code></pre>
<p>From the C23 draft:</p>
<blockquote>
<p>§ 6.7.5 Function specifiers</p>
<ol start=""8"">
<li>A function declared with a <code>_Noreturn</code> function specifier shall not return to its caller. The attribute <code>[[noreturn]]</code> provides similar semantics. The <code>_Noreturn</code> function specifier is an obsolescent
feature (6.7.13.7).</li>
</ol>
<p>6.7.13.7 The <code>noreturn</code> and <code>_Noreturn</code> attributes</p>
<ol>
<li>When <code>_Noreturn</code> is used as an attribute token (instead of a function specifier), the constraints and semantics are identical to that of the <code>noreturn</code> attribute token. Use of <code>_Noreturn</code> as an attribute token is an obsolescent feature</li>
<li>The <code>noreturn</code> attribute shall be applied to a function. No attribute argument clause shall be present.</li>
<li>The first declaration of a function shall specify the <code>noreturn</code> attribute if any declaration of that function specifies the <code>noreturn</code> attribute. If a function is declared with the <code>noreturn</code> attribute in
one translation unit and the same function is declared without the <code>noreturn</code> attribute in another translation unit, the behavior is undefined.</li>
<li>If a function <code>f</code> is called where <code>f</code> was previously declared with the <code>noreturn</code> attribute and <code>f</code> eventually returns, the behavior is undefined.</li>
<li>The <code>__has_c_attribute</code> conditional inclusion expression (6.10.2) shall return the value 202311L when given <code>noreturn</code> as the pp-tokens operand if the implementation supports the attribute.</li>
<li>The implementation should produce a diagnostic message for a function declared with a <code>noreturn</code> attribute that appears to be capable of returning to its caller.</li>
</ol>
</blockquote>
<p>The <code>_Noreturn</code> function specifier is also available via a convenience macro named <code>noreturn</code> if you <code>#include &lt;stdnoreturn.h&gt;</code>.</p>
<hr />
<p>From the <a href=""https://wwwfiles.iar.com/AVR/webic/doc/EWAVR_CompilerGuide.pdf"" rel=""nofollow noreferrer"">IAR Embedded Workbench - Compiler Guide</a>:
The IAR C/C++ Compiler for AVR supports:</p>
<ul>
<li>Standard C—also known as C99. Hereafter, this standard is referred to as <em>Standard C</em> in this guide.</li>
<li>C89—also known as C94, C90, C89, and ANSI C. This standard is required when MISRA C is enabled.</li>
</ul>
<p>So, it does not support C11 or higher, but it has some extensions, one of which is:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th><code>__noreturn</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Syntax</td>
<td>See <em>Syntax for object attributes</em>, page 298.</td>
</tr>
<tr>
<td>Description</td>
<td>The <code>__noreturn</code> keyword can be used on a function to inform the compiler that the function will not return. If you use this keyword on such functions, the compiler can optimize more efficiently. Examples of functions that do not return are <code>abort</code> and <code>exit</code>.<br/><strong>Note:</strong> At optimization levels medium or high, the <code>__noreturn</code> keyword might cause incorrect call stack debug information at any point where it can be determined that the current function cannot return.</td>
</tr>
<tr>
<td>Example</td>
<td><code>__noreturn void terminate(void);</code></td>
</tr>
</tbody>
</table></div>
<p>Since they have chosen to name the function specifier <code>__noreturn</code> instead of <code>_Noreturn</code>, you could create your own convenience macro</p>
<pre class=""lang-c prettyprint-override""><code>// nonstdnoreturn.h
#ifndef NONSTDNORETURN_H_CC001EB0_F1FA_11EE_8B54_90B11C0C0FF8
#define NONSTDNORETURN_H_CC001EB0_F1FA_11EE_8B54_90B11C0C0FF8
#define noreturn __noreturn
#endif
</code></pre>
<p>and use that <code>noreturn</code> macro until the day comes when you upgrade to C11 or later. You'd then search-and-replace all <code>&quot;nonstdnoreturn.h&quot;</code> with <code>&lt;stdnoreturn.h&gt;</code> - or just use <code>__noreturn</code> for now.</p>
","2024-04-01 20:46:22","5","Answer"
"78257687","","Identifying functions that don't return","<p>I'm working on an embedded system that has a <code>System_Fail</code> function that doesn't return.  The objective of this function is to place the device in a safe state, then do nothing until power is cycled:</p>
<pre><code>void System_Fail(void)
{
   // Code to place device in safe state
   while (1)
   {
     ;
   }
}  
</code></pre>
<p>Is there a standard way to mark or identify that this function doesn't return?<br />
Static analyzers and Unit Testing frameworks will believe that this function returns, especially when the function is defined in an external translation unit.</p>
<p>Example:</p>
<pre><code>int main(void)
{
    System_Fail();
    printf(&quot;Error: Execution returned from System_Fail()\n&quot;);
    return 0;
}
</code></pre>
<p>Before the call to <code>System_Fail()</code>, I'd like to place a <em>standard</em> marker or identifier that can show that the <code>System_Fail()</code> function does not return.  The <code>System_Fail()</code> is called when a validation fails (so the code doesn't continue).</p>
<p>Static analysis tool are assuming that the <code>System_Fail()</code> function returns and generates errors and warnings because of this misunderstanding.</p>
<p>Unit Test fixtures believe the function returns and continue executing code that is from an invalid state.</p>
<p>Notes:</p>
<ol>
<li>This is on an embedded system, using MicroCOS, an ARM-Cortex M4 based system.</li>
<li>Compiler is IAR Embedded Workbench.</li>
<li>Coverity is one of our static analysis tools.</li>
<li>Another example is starting (launching) an RTOS that never returns.</li>
</ol>
","2024-04-01 20:38:03","2","Question"
"78253629","78253621","","<p>By removing the parentheses () after changeColor, you're passing the function reference itself to addEventListener, rather than executing the function immediately. This should resolve the error you're encountering.</p>
<pre><code>btn.addEventListener(&quot;click&quot;, changeColor);
h1.addEventListener(&quot;click&quot;, changeColor);
h2.addEventListener(&quot;click&quot;, changeColor);
p.addEventListener(&quot;click&quot;, changeColor);
</code></pre>
","2024-04-01 04:11:56","0","Answer"
"78253621","","cannot set properties in undefined setting","<p>Why i am getting cannot set properties of undefined setting (background color) in JavaScript code.</p>
<pre><code>let btn = document.querySelector('button');
let h1 = document.querySelector('h1');
let h2 = document.querySelector('h2');
let p = document.querySelector('p');

function changeColor () {
    console.dir(this.innerText);
    this.style.backgroundColor = &quot;blue&quot;;
}

btn.addEventListener(&quot;click&quot;, changeColor());

h1.addEventListener(&quot;click&quot;, changeColor());

h2.addEventListener(&quot;click&quot;, changeColor());

p.addEventListener(&quot;click&quot;, changeColor());

</code></pre>
","2024-04-01 04:08:18","0","Question"
"78253287","77801839","","<pre class=""lang-py prettyprint-override""><code>#It is known that [200,456,300,100,234,678]
#has to be swapped to [300,200,100,456,678,234]
def swap(l):
    for i in range(2):
        while True:
            l[i],l[i+2]=l[i+2],l[i]
            i+=4
            if i&gt;len(l)-3:
                break
while True:
    try:
        l=eval(input('Enter list: '))
        swap(l)
        print(l)
    except KeyboardInterrupt:
        print('Testing done')
        break
</code></pre>
","2024-04-01 01:15:44","0","Answer"
"78252951","78252933","","<p>You need to allocate those dynamically allocated arrays when your object is initialized and <code>count_sides</code> has a value. Since this is C++, you can give your struct a constructor.</p>
<p>Assuming <code>square</code> and <code>perimeter</code> are calculated from the number of sides and length of each side:</p>
<pre><code>struct regular_polygon {
    int count_sides;
    double length;
    double square;
    double perimeter;
    double *x;
    double *y;

    regular_polygon(int count_sides, double length)
    : count_sides(count_sides), 
      length(length),
      square(...),
      perimeter(...),
      x(new double[count_sides]),
      y(new double[count_sides])
    { }
};
</code></pre>
<p>Now you also need to worry about a destructor and the <a href=""https://en.cppreference.com/w/cpp/language/rule_of_three"" rel=""nofollow noreferrer"">rule of three/five/zero</a>.</p>
<p>You also probably want to use <a href=""https://en.cppreference.com/w/cpp/container/vector"" rel=""nofollow noreferrer""><code>std::vector</code></a> or <a href=""https://en.cppreference.com/w/cpp/container/array"" rel=""nofollow noreferrer""><code>std::array</code></a> rather than raw C-style arrays.</p>
","2024-03-31 21:58:39","0","Answer"
"78252933","","Dynamic array of structures in C++/ cannot fill a dynamic array of doubles in structure from dynamic array of structures","<p>Sorry for my bad english)
I created a dynamic array of structures. This structures contains dynamic array of doubles.
When I add the structure, I fill it this way
The number of sides and the length of the side are filled in calmly, but when it comes to the vertices, or rather to one vertex (along which I have to restore the rest), after entering any number, the program crashes</p>
<pre class=""lang-bash prettyprint-override""><code>struct regular_polygon {
    int count_sides;
    double length;
    double square;
    double perimeter;
    double *x = new double[count_sides];
    double *y = new double[count_sides];
};



void SetData(regular_polygon* reg_pol, int amount, int* output)
{
    cout &lt;&lt; &quot;Enter count of sides:&quot; &lt;&lt; '\n';
    cin &gt;&gt; reg_pol[amount-1].count_sides;
    bool flag = false;
    if (reg_pol[amount].count_sides &gt; 2) flag = true;
    while (flag == false)
    {
        cout &lt;&lt; &quot;Incorrect! Sides must be more than 2. Try again&quot; &lt;&lt; '\n';
        cin &gt;&gt; reg_pol[amount].count_sides;
        if (reg_pol[amount].count_sides &gt; 2) flag = true;
    }


    cout &lt;&lt; &quot;Enter length of the side:&quot; &lt;&lt; '\n';
    cin &gt;&gt; reg_pol[amount].length;
    flag = false;
    if (reg_pol[amount].length &gt; 0) flag = true;
    while (flag == false)
    {
        cout &lt;&lt; &quot;Incorrect! Length must be more than 0. Try again&quot; &lt;&lt; '\n';
        cin &gt;&gt; reg_pol[amount].count_sides;
        if (reg_pol[amount].length &gt; 0) flag = true;
    }

    cout &lt;&lt; &quot;Enter vertex coordinates&quot; &lt;&lt; '\n';

    cout &lt;&lt; &quot;Enter x:&quot; &lt;&lt; '\n';
    cin &gt;&gt; reg_pol[amount - 1].x[ 0];   /// ТУТ ОШИБКА

    cout &lt;&lt; &quot;Enter y:&quot; &lt;&lt; endl;
    cin &gt;&gt; reg_pol[amount - 1].y[ 0];
    coordinates(reg_pol, amount);
}


    cout &lt;&lt; &quot;Enter vertex coordinates&quot; &lt;&lt; '\n';

    cout &lt;&lt; &quot;Enter x:&quot; &lt;&lt; '\n';
    cin &gt;&gt; reg_pol[amount - 1].x[ 0];   /// There is an error
</code></pre>
<p>I tried to replace dynamic array of doubles to static array of doubles, but it didnot help, unfortunately</p>
","2024-03-31 21:47:58","-1","Question"
"78252815","78252762","","<p><code>selectedBook = aStoreItems[i];</code> is never executed. It is dead code. When <code>return</code> is executed, the function exits and no other statements in that function are executed.</p>
<p>You should just not have that <code>selectedBook</code> variable. Instead <em>use</em> what the function returns at the calling side. So in the second part of your code do:</p>
<pre><code>    const selectedBook = getBookById(bookSelection);
    console.log(&quot;return is(in add to cart function) &quot; + selectedBook);
</code></pre>
<p>As a side note, this also defines <code>selectedBook</code> as a <em>local</em> variable, which is preferable over global variables.</p>
","2024-03-31 20:55:58","0","Answer"
"78252762","","Function is returning undefined but should be returning a matched object from array in JavaScript","<p>I'm very new to JS. I'm trying to return a matched value from user input from a global array (aStoreItems) for a theoretical online book store. The array consists of objects passed through a constructor.</p>
<pre><code>// Function to find object by ID value

function getBookById(id) {
            console.log(&quot;Variable being passed in(in getbookbyid function)= &quot; + id)
            console.log(&quot; type Variable being passed in(ingetbookbyid function)= &quot; + typeof (id))
            for (var i = 0; i &lt; aStoreItems.length; ++i) {
                if (aStoreItems[i].bID == id) {
                    return aStoreItems[i];
                    selectedBook = aStoreItems[i];
                }
            } 
};

// Sample of object in array

var ID23 = new StoreItem(&quot;ID23&quot;, &quot;The Slow Regard of Silent Things&quot;, 12.99, 50, 1, &quot;Fiction&quot;, 1.99, [&quot;Great story&quot;, 5], &quot;Desc&quot;, &quot;&lt;img src='./imgs/the_slow_regard_of_silent_things.jpeg' /&gt;&quot;);
        
</code></pre>
<p>Now I'm trying to implement an add to cart function that passes a user typed value and passes it through the getBookById() function.</p>
<p>Right now I'm just trying to pass the variable created by the users input to find the book that they want to add to cart</p>
<pre><code>function addToCart() {
            var bookSelection = document.getElementById(&quot;pID&quot;).value;

            console.log(&quot;user typed (in add to cart function) &quot; + bookSelection);

            getBookById(bookSelection);
            console.log(&quot;return is(in add to cart function) &quot; + selectedBook);
};
</code></pre>
<p>console output shows this:
user typed (in add to cart function) ID23
Variable being passed in(in get book by id function)= ID23
type Variable being passed in(in get book by id function)= string
return is(in add to cart function) undefined</p>
<p>I don't know where I'm going wrong and other solutions researched are not fairing any better</p>
<p>Thanks to all for you help!</p>
","2024-03-31 20:37:54","0","Question"
"78252732","78250667","","<p>As it stands, its not going to be possible since the return type of the function is dependent on a runtime argument - the compiler cannot determine what is the return type of the function.</p>
<p>On a side but slightly related note, there is a talk in cppcon23 about symbolic calculus, which relates to how symbols and expressions can be represented in C++: <a href=""https://www.youtube.com/watch?v=lPfA4SFojao"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=lPfA4SFojao</a></p>
","2024-03-31 20:24:34","0","Answer"
"78252139","77801839","","<pre class=""lang-py prettyprint-override""><code>def swap(lst):
    l=len(lst)
    l2=list(lst)
    l3=[]
    if l&lt;4:
        for i in range(len(l2)):
            if i+2&lt;len(l2):
                l3.append(l2[i+2])
                l3.append(l2[i])
    elif l&gt;4:
        l4=lst[:4]
        l5=lst[4:]
        for i in range(len(l4)):
            if i+2&lt;len(l4):
                l3.append(l4[i+2])
                l3.append(l4[i])
        for i in range(0,len(l5)-1,2):
            l5[i],l5[i+1]=l5[i+1],l5[i]
            lst=l3+l6
    return lst
print(swap([200,456,300,100,234,678]))
print(swap([200,456,300,100,234,678,9,10,67,69]))
</code></pre>
<p>Output:
[300, 200, 100, 456, 678, 234]
[300, 200, 100, 456, 678, 234, 10, 9, 69, 67]</p>
<p>What the question mentioned was not an ordinary shuffle/alternate shuffle</p>
<p>Look at the image for understanding:<a href=""https://i.sstatic.net/Qgw6u.jpg"" rel=""nofollow noreferrer"">1</a></p>
<p>Here is my thought process:
For the first four elements, last two elements replace [n-2]th element
for the next consecutive terms, each term is swapped with next one continously
PS: All the best for exams broo!</p>
<p>Edit: Here is an improved code:</p>
<pre><code>def swap(lst):
l3=[]
l4=lst[:4]
l5=lst[4:]

for i in range(len(l4)-2):
    l3.append(l4[i+2])
    l3.append(l4[i])
for i in range(0,len(l5)-1,2):
    l5[i],l5[i+1]=l5[i+1],l5[i]  
          
lst=l3+l5
return lst
</code></pre>
<p>print(swap([200,456,300,100,234,678]))</p>
","2024-03-31 16:57:57","1","Answer"
"78250667","","How to convert mathematical expression to lambda function in C++?","<p>I am trying to convert string of mathematical expression to lambda function in C++17. How can I do this type of conversion with function?</p>
<pre><code>std::function&lt;void()&gt; str2lambda(const std::string&amp; str) {
    // Conversion
    // return lambda function
}
</code></pre>
<p>Example:</p>
<blockquote>
<p>Input Mathematical function:<br />
&quot;x^2+1&quot;</p>
<p>Output Lambda Function:<br />
<code>auto func = [](float x) -&gt; float { return pow(x, 2) + 1; }; </code></p>
</blockquote>
","2024-03-31 08:12:03","-4","Question"
"78250200","78246550","","<p>It should work like this</p>
<pre><code>library(terra)
# do not make a list
red &lt;- list.files(pattern = &quot;red&quot;)
nir &lt;- list.files(pattern = &quot;nir&quot;)

calc_ndvi &lt;- function(nir, red) {
  (nir-red)/(nir+red)
}

ndvi &lt;- list()
for (i in 1:9){ 
  ndvi[[i]] &lt;- calc_ndvi(rast(nir[i]), rast(red[i]))
}
ndvi &lt;- rast(ndvi)
</code></pre>
<p>But you can also do them all at once like this</p>
<pre><code>ndvi &lt;- calc_ndvi(rast(nir), rast(red))
</code></pre>
<p>Or like this</p>
<pre><code>s &lt;- sds(rast(red), rast(nir))
ndvi &lt;- lapp(s, calc_ndvi)
</code></pre>
","2024-03-31 03:26:02","0","Answer"
"78248621","78248108","","<p>So... I have figured it out through debugging it step by step
The problem was that iterator went past the <code>end()</code> of a list doing it twice.
I have fixed a problem and my code works correctly now, I simply needed to add <code>break;</code> so it won't go out of bounds of said list. Also made it into <code>while</code> loop, and renamed a function to represent what it was doing.
Thank you everyone for help.</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;list&gt;
using namespace std;
list&lt;int&gt; DeleteElementAfterValue(std::list&lt;int&gt; g, int n);
int main()
{
    int s=1, d;
    while (s){
    list&lt;int&gt;::iterator it;
    cout&lt;&lt;&quot;Enter how many elements you want in the list?&quot;&lt;&lt;endl;
    cin&gt;&gt;s;
    cout&lt;&lt;&quot;Start now: &quot;&lt;&lt;endl;
    cin&gt;&gt;d;
    list&lt;int&gt; list1{d};
    for (int i = 0; i &lt; s-1; ++i) {
        cin&gt;&gt;d;
        list1.push_back(d);
    }
    for (auto i : list1) {
        cout &lt;&lt; i &lt;&lt; ' ';
    }
    cout&lt;&lt;endl&lt;&lt;&quot;After what number do you want to delete element?&quot;&lt;&lt;endl;
    cin&gt;&gt;s;
    list1.operator=(DeleteElementAfterValue(list1, s));
    cout&lt;&lt;&quot;Result:&quot;&lt;&lt;endl;
    for (auto i : list1) {
        cout &lt;&lt; i &lt;&lt; ' ';
    }
    cout&lt;&lt;endl&lt;&lt;&quot;Do you want to do it again? (Yes - 1 / No - 0)&quot;&lt;&lt;endl;
    cin&gt;&gt;s;
    }
    cout&lt;&lt;&quot;Finish.&quot;;
    return 0;
}

//Delete element after n in STL list
list&lt;int&gt; DeleteElementAfterValue(list&lt;int&gt; g, int n){
    auto itr = g.begin();
    int a=n-1;
    for (itr = g.begin(); itr != g.end(); ++itr){
        if (*itr!=n &amp;&amp; a==n)
        {
            itr=g.erase(itr);
        }
        if (itr != g.end()) {
            a = *itr;
        }
        else{
            break;
        }
    }
    return g;
}
</code></pre>
","2024-03-30 16:12:51","0","Answer"
"78248108","","Why my code is working on everything except one instance?","<p>I do homework for my lab on c++, I needed to get a number from keyboard and delete an element after inputted number in STL list. For some reason if I get 7 elements into the list, exactly {1,2,2,3,4,2,5} and ellement is 2 it outputs {1,2,2,2} and not {1,2,2,4,2}. Why?</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;iterator&gt;
#include &lt;list&gt;
using namespace std;
list&lt;int&gt; STL_MyList(std::list&lt;int&gt; g, int n);
int main()
{
    int s, d;
    list&lt;int&gt;::iterator it;
    cout&lt;&lt;&quot;Enter how many elements you want in the list?&quot;&lt;&lt;endl;
    cin&gt;&gt;s;
    cout&lt;&lt;&quot;Start now: &quot;&lt;&lt;endl;
    cin&gt;&gt;d;
    list&lt;int&gt; list1{d};
    for (int i = 0; i &lt; s-1; ++i) {
        cin&gt;&gt;d;
        list1.push_back(d);
    }
    for (auto i : list1) {
        cout &lt;&lt; i &lt;&lt; ' ';
    }
    cout&lt;&lt;endl&lt;&lt;&quot;After what number do you want to delete element?&quot;&lt;&lt;endl;
    cin&gt;&gt;s;
    list1.operator=(STL_MyList(list1, s));
    cout&lt;&lt;&quot;Result:&quot;&lt;&lt;endl;
    for (auto i : list1) {
        cout &lt;&lt; i &lt;&lt; ' ';
    }
    cout&lt;&lt;endl&lt;&lt;&quot;Do you want to do it again? (Yes - 1 / No - 0)&quot;&lt;&lt;endl;
    cin&gt;&gt;s;
    if (s){
        main();
    } else{
        cout&lt;&lt;&quot;Finish.&quot;;
    }

    return 0;
}

//Delete element after n in STL list
list&lt;int&gt; STL_MyList(list&lt;int&gt; g, int n){
    auto itr = g.begin();
    int a=n-1;
    for (itr = g.begin(); itr != g.end(); ++itr){
        if (*itr!=n &amp;&amp; a==n)
        {
            itr=g.erase(itr);
        }
        a=*itr;
    }
    return g;
}
</code></pre>
<p>I tried changing the code and logic behind it - but it all resulted in a lot of mistakes and whole code going south.</p>
","2024-03-30 13:30:19","0","Question"
"78247603","78247125","","<p>Since you don't provide arguments for the constructor they are become <code>undefined</code> and assigned to the props. You could use a default parameter value <code>null</code> to declare that these parameters are optional and handle them accordingly in the constructur:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>class Rectangle {
  height = 10;
  width = 10;
  constructor(width = null, height = null) {
    width === null || (this.width = width);
    height === null || (this.height = height);
  }
}

const rec = new Rectangle();

console.log(rec);</code></pre>
</div>
</div>
</p>
<p>Of course you can write it this way:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>class Rectangle {
  constructor(width = 10, height = 10) {
    this.width = width;
    this.height = height;
  }
}

const rec = new Rectangle();

console.log(rec);</code></pre>
</div>
</div>
</p>
<p>You could ask what's the difference. Well, they are documented: <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Public_class_fields"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Public_class_fields</a></p>
<p>A general one example:</p>
<blockquote>
<p>By declaring a public field, you can ensure the field is always present, and the class definition is more self-documenting.</p>
</blockquote>
<p>A specific one example:</p>
<blockquote>
<p>Because class fields are added using the [[DefineOwnProperty]] semantic (which is essentially Object.defineProperty()), field declarations in derived classes do not invoke setters in the base class. This behavior differs from using this.field = … in the constructor.</p>
</blockquote>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>class Shape{
  #width = 10;
  get width(){
    return this.#width;
  }
  set width(val){
    console.log('setting width');
    this.#width = val;
  }
}

class Rectangle extends Shape{
  width = 10;
}

class Rectangle2 extends Shape{
  constructor(width = 10){
    super();
    this.width = width;
  }
}

const rc = new Rectangle();
console.log(rc);
const rc2 = new Rectangle2();
console.log(rc2);</code></pre>
</div>
</div>
</p>
<p>One subtle difference is performance also. Consider the default props as an object literal, and it should perform faster than assigning props in a constructor:</p>
<pre><code>` Chrome/123
--------------------------------------------------------------------------------------
&gt;                    n=10       |      n=100       |     n=1000     |     n=10000     
default props   ■ 1.00x x1b 341 | ■ 1.00x x10m 390 | ■ 1.00x x1m 52 | ■ 1.00x x10k 407
constructor       1.02x x1b 348 |   1.13x x10m 441 |   1.04x x1m 54 |   1.12x x10k 456
--------------------------------------------------------------------------------------
https://github.com/silentmantra/benchmark `
</code></pre>
<p>In Firefox the difference is opposite and extreme for some reasons:</p>
<pre><code>` Firefox/124
-------------------------------------------------------------------------------------------
&gt;                     n=10       |      n=100       |      n=1000       |      n=10000     
constructor     ■ 1.00x x10m 323 | ■ 1.00x x10m 739 | ■ 1.00x x100k 133 | ■ 1.00x x10k  262
default props     1.06x x10m 342 |   1.57x  x1m 116 |  15.79x  x10k 210 |  67.48x  x1k 1768
-------------------------------------------------------------------------------------------
https://github.com/silentmantra/benchmark `
</code></pre>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const $chunk = Array.from({length: 10}, () =&gt; Math.random().toString().slice(2, 8));
const $input = [...$chunk];

const genWithout = new Function('', `

  return class{
    ${ $input.map(prop =&gt; `prop${prop} = ${Math.random()}`).join(';') }
  }

`);

const genWith = new Function('', `

  return class{
    constructor(){
    ${$input.map(prop =&gt; `this.prop${prop} = ${Math.random()}`).join(';')}
    }
  }

`);

// @benchmark default props
const c = genWithout();
// @run
new c;

// @benchmark constructor
const d = genWith();
//@run
new d;


/*@skip*/ fetch('https://cdn.jsdelivr.net/gh/silentmantra/benchmark/loader.js').then(r =&gt; r.text().then(eval));</code></pre>
</div>
</div>
</p>
","2024-03-30 10:39:02","0","Answer"
"78247125","","How do default values of Class fields work in JavaScript","<p>I saw this piece of code in MDN while I was learning some syntax about Class in JavaScript today, which really confused me. <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes#field_declarations:%7E:text=class%20Rectangle%20%7B%0A%20%20height%20%3D%200%3B%0A%20%20width%3B%0A%20%20constructor(height%2C%20width)%20%7B%0A%20%20%20%20this.height%20%3D%20height%3B%0A%20%20%20%20this.width%20%3D%20width%3B%0A%20%20%7D%0A%7D"" rel=""nofollow noreferrer"">Here it is</a>:</p>
<pre class=""lang-js prettyprint-override""><code>class Rectangle {
  height = 0;
  width;
  constructor(height, width) {
    this.height = height;
    this.width = width;
  }
}
</code></pre>
<p>If I create an instance of Rectangle without passing into any arguments, the default value of height 0 doesn't work on the instance.</p>
<pre class=""lang-js prettyprint-override""><code>const rec = new Rectangle();
//  { height: undefined, width: undefined }
</code></pre>
<p>My question is &quot;Is this piece of code is a bad practice?&quot;. If a class filed has been assigned inside the constructor, we shouldn't give a default value to the class outside the constructor because it will always not work. Instead, we can set a default of a class field that hasn't been assigned inside the constructor like below:</p>
<pre class=""lang-js prettyprint-override""><code>class Rectangle {
  height = 10;
  width;
  constructor(width) {
    this.width = width;
  }
}

const rec = new Rectangle();

console.log(rec);
// { height: 10, width: undefined }
</code></pre>
<p>The default value works in this case.</p>
","2024-03-30 07:23:28","0","Question"
"78246764","78246703","","<p>There are a couple of ways of dealing with your problem. The first (and IMO preferable) solution is just to pass a function to your <code>eulers_method</code> function i.e.</p>
<pre class=""lang-py prettyprint-override""><code>def eulers_method(x, y, diff_eq, h, n):
    #empty solution and x_value lists to be used in the euler function
    solutions = []
    x_values = []
    
    for s in range (0, n):
        # compute the function
        eq = diff_eq(x, y)
        s = y + h*(eq)
        #replace initial values with the new values and adds them to the solution and x_value lists
        y = s
        solutions.append(s)
        x = x + h
        x_values.append(x)
    #creates a dataframe from the solutions
    Euler_values = pd.DataFrame(list(zip(x_values, solutions)), columns = ['xₙ', 'yₙ'])
    #creates an index for the dataframe starting at one and increasing by one 
    Euler_values.index = Euler_values.index + 1
    Euler_values.rename_axis('n', inplace = True)
    return Euler_values    

#enter an initial x value, initial y value, the differential equation, the step size, and the number of solutions to generate
eulers_method(0, 1, lambda x, y:x+y, 0.1, 10)
</code></pre>
<p>Output:</p>
<pre><code>     xₙ        yₙ
n
1   0.1  1.100000
2   0.2  1.220000
3   0.3  1.362000
4   0.4  1.528200
5   0.5  1.721020
6   0.6  1.943122
7   0.7  2.197434
8   0.8  2.487178
9   0.9  2.815895
10  1.0  3.187485
</code></pre>
<p>The second, and <a href=""https://stackoverflow.com/questions/1832940/why-is-using-eval-a-bad-practice"">not really desirable</a> method is to pass a string version of the function, and <code>eval</code> it in the <code>eulers_method</code> function:</p>
<pre><code>def eulers_method(x, y, diff_eq, h, n):
    #empty solution and x_value lists to be used in the euler function
    solutions = []
    x_values = []
    
    for s in range (0, n):
        # compute the function
        eq = eval(diff_eq)
        s = y + h*(eq)
        #replace initial values with the new values and adds them to the solution and x_value lists
        y = s
        solutions.append(s)
        x = x + h
        x_values.append(x)
    #creates a dataframe from the solutions
    Euler_values = pd.DataFrame(list(zip(x_values, solutions)), columns = ['xₙ', 'yₙ'])
    #creates an index for the dataframe starting at one and increasing by one 
    Euler_values.index = Euler_values.index + 1
    Euler_values.rename_axis('n', inplace = True)
    return Euler_values    

#enter an initial x value, initial y value, the differential equation, the step size, and the number of solutions to generate
eulers_method(0, 1, 'x+y', 0.1, 10)
</code></pre>
<p>The output is the same.</p>
","2024-03-30 03:44:35","3","Answer"
"78246703","","Getting a function to call an equation","<p>I am creating a function to create an approximate solution for differential equations using Euler's method.  I can get the code to work, but ran into trouble when trying to convert this into a function.  Namely, I am having difficulty getting my function to correctly call the formula.</p>
<p><strong>This original code worked well:</strong></p>
<pre><code>#define your inital values
y = 1
x = 0
#h represents step size (incremental shift over the directional field)
h = 0.1

solutions = []
x_values = []

#generates a list of 10 solutions, increase the number in the range to get more solutions
for s in range (0, 10):
    #enter your differential equation 
    diff_eq = x+y
    #Euler's method to approximate the solutions
    s = y + h*(diff_eq)
    solutions.append(s)
    #replace initial values with the new values
    y = s
    x = x + h
    #create a list of the x values
    x_values.append(x)

#creating a dataframe from the solutions
Euler_values = pd.DataFrame(list(zip(x_values, solutions)), columns = ['xₙ', 'yₙ'])
#create an index for the dataframe starting at one and increasing by one 
Euler_values.index = Euler_values.index + 1
Euler_values.rename_axis('n', inplace = True)
Euler_values
</code></pre>
<p><strong>This is the start of turning the above code into a function:</strong></p>
<pre><code>#eulers method to approximate the solutions function
def eulers_method(x, y, diff_eq, h, n):
    #empty solution and x_value lists to be used in the euler function
    solutions = []
    x_values = []
    
    for s in range (0, n):
        # eq = diff_eq &lt;-- this does not work
        # if I call the equation here it does work, but I want it to be entered into the function
        eq = x + y
        s = y + h*(eq)
        #replace initial values with the new values and adds them to the solution and x_value lists
        y = s
        solutions.append(s)
        x = x + h
        x_values.append(x)
    #creates a dataframe from the solutions
    Euler_values = pd.DataFrame(list(zip(x_values, solutions)), columns = ['xₙ', 'yₙ'])
    #creates an index for the dataframe starting at one and increasing by one 
    Euler_values.index = Euler_values.index + 1
    Euler_values.rename_axis('n', inplace = True)
    return Euler_values    

#enter an initial x value, initial y value, the differential equation, the step size, and the number of solutions to generate
# the diff_eq entry is giving me trouble
eulers_method(0,1, x+y, 0.1, 10)
</code></pre>
","2024-03-30 02:56:30","2","Question"
"78246550","","iterating through raster bands to perform calculation","<p>i've been trying to run this code, but i receive the error: non-numeric argument to binary operator. i've tried stacking and then iterating through them to perform a calculation. it, unfortunately, doesn't work right. it messes with the raster band metadata and appears to condense all the bands into one image rather than nine seperate ones. so i'm trying to do it without stacking the bands and instead iterate running them through a equation. any suggestions?</p>
<p>i'm attempting to run this calculation by using two lists of raster bands, one &quot;red&quot; and the other is &quot;nir&quot;. each list contains nine raster bands and the lists are in order so that the first raster band in one list is from the same image as the first raster band in the other list. i've tried adding as.numeric, but it's still not working - perhaps i didn't enter it correctly.</p>
<pre><code>subfolders &lt;- '~/Desktop/hls project/fieldszn'
bands &lt;- list.files(subfolders, pattern = &quot;.tiff&quot;, recursive = TRUE, full.names = TRUE)

red = list(list.files(subfolders, pattern = &quot;red&quot;, full.names = TRUE, recursive = TRUE))
nir = list(list.files(subfolders, pattern = &quot;nir&quot;, full.names = TRUE, recursive = TRUE))


calculate_ndvi &lt;- function(nir, red){
  ndvi &lt;- (nir-red)/(nir+red)
  return(ndvi)}


ndvi &lt;- list()
for (i in 1:9){ 
  ndvi[[i]] &lt;- (calculate_ndvi(nir[[i]], red[[i]]))
}
</code></pre>
","2024-03-30 01:16:16","-2","Question"
"78244497","78180727","","<p>The relative path to the included file was not correct. Hence, one should write something like use(&quot;C:\path\to\included\file.chai&quot;).</p>
","2024-03-29 15:09:34","1","Answer"
"78241585","78241565","","<p>The object returned by <code>setup()</code> contains a reference to the original value of <code>obj</code>. When you reassign <code>obj</code> it doesn't change this reference, it still refers to the original object. It's not linked to the variable in any way.</p>
<p>You don't need any of the methods or scope issues to demonstrate this. See the simple code here:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let obj = {a: ""something""};
let container = {obj};
console.log(container);
obj = {a: ""something else""};
console.log(container);</code></pre>
</div>
</div>
</p>
<p>Reassigning <code>obj</code> has no effect on the <code>container</code> object. Its reference is to the original value of <code>obj</code>.</p>
<p>In your second version, <code>getObj</code> is a closure that references the local variable <code>obj</code>, not the object. Reassigning the variable updates the variable in that scope, and the function returns that new value.</p>
","2024-03-29 01:28:49","1","Answer"
"78241565","","How are reference to objects handled in javascript when returning object and modifying them in their original functions","<p>I am trying to create a function that returns an object and a function that reset this object to its initial state. Something like:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const create = () =&gt; ({
    a: ""something""
});

const setup = () =&gt; {
    let obj = create();

    const reset = () =&gt; {
        obj = create();
    }

    return {
        obj,
        reset
    }
}

const { reset, obj: myObj } = setup();

myObj.b = 2;
reset();
console.log(""expected to be undefined"", myObj.b);</code></pre>
</div>
</div>
</p>
<p>But when I call the function and uses the reset function, it doesn't reset the object. <code>myObj.2</code> still contains <code>2</code>. I expected the reference to <code>myObj</code> to stay the same, so when we call <code>reset</code> obj becomes a new object and myObj's reference points to that new object.</p>
<p>After some fiddling around I realized that my function works if I do this instead:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const create = () =&gt; ({
    a: ""something""
});

const setupWithGet = () =&gt; {
    let obj = create();

    const getObj = () =&gt; obj;

    const reset = () =&gt; {
        obj = create();
    }

    return {
        getObj,
        reset
    }
}

const { reset, getObj } = setupWithGet();

getObj().b = 2;
reset();
console.log(""expected to be undefined"", getObj().b);</code></pre>
</div>
</div>
</p>
<p>Why do I need to use a new function here?</p>
","2024-03-29 01:20:19","0","Question"
"78240244","78239621",""," 
<p><em><a href=""https://docs.google.com/spreadsheets/d/12R95WLQMaY8xkM-rHrlVeRqLfvLd4ZKY_xKlP1doegY/edit#gid=1700436263"" rel=""nofollow noreferrer"">Here's one approach</a>; do test out with varied scenarios to make sure its givin' out the intended output...</em></p>
<p><em><strong>UPDATED FORMULA</strong></em>:</p>
<pre class=""lang-js prettyprint-override""><code>=choosecols(ifna(hstack(let(Ξ,G2, Δ,tocol(,1), Λ,iferror(chooserows(C2:C,sequence(index(match(,0/(C2:C&lt;&gt;0)))))),if(sum(Λ)&gt;G1,Δ,vstack(
  if(Λ=&quot;&quot;,Δ,map(Λ,lambda(Σ,max(0,Ξ-Σ)))),iferror(sequence(quotient(G1-max(sum(Λ),if(Λ=&quot;&quot;,,rows(Λ))*Ξ),Ξ),1,Ξ,0),Δ),let(x,mod(G1-max(sum(Λ),if(Λ=&quot;&quot;,,rows(Λ))*Ξ),Ξ),if(x&lt;0.1,Δ,x))))),wrapcols(,G1/G2,)),0),1)
</code></pre>
<p><a href=""https://i.sstatic.net/bwreo.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/bwreo.png"" alt=""enter image description here"" /></a></p>
","2024-03-28 18:35:31","1","Answer"
"78239960","78239910","","<p><code>float</code> != <code>double</code></p>
<p><code>float</code> has much lower precision than <code>double</code>.</p>
<p>Change function return type and parameter do double and you will get the same results</p>
<pre><code>double topowerof3(double f) {
    f = pow(f,3);
    return f;
}

int main() {
    printf(&quot;275 to the power of 3:\n&quot;);
    printf(&quot;topowerof3(): %f\n&quot;, topowerof3(275));
    printf(&quot;pow()       : %f\n&quot;, pow(275,3));
    return 0;
}
</code></pre>
<p><a href=""https://i.sstatic.net/oGCWT.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/oGCWT.png"" alt=""(C)www.geeksforgeeks.org"" /></a>
*<code>scanf</code> (not <code>printf</code>) format specifier</p>
<p><a href=""https://godbolt.org/z/WxocvEbv7"" rel=""nofollow noreferrer"">https://godbolt.org/z/WxocvEbv7</a></p>
","2024-03-28 17:29:39","2","Answer"
"78239910","","Using pow() in self-defined function yields different result compared to direct use in main()","<p>The following C program unexpectedly shows different results when pow() is used in main() and when it is used within a user-defined function:</p>
<pre><code>/*****************************************************
 * Compile command:
 *    gcc -Wall -o powhat powhat.c -lm
 *****************************************************/

#include &lt;stdio.h&gt;
#include &lt;math.h&gt;

float topowerof3(float f) {
    f = pow(f,3);
    return f;
}

int main() {
    printf(&quot;275 to the power of 3:\n&quot;);
    printf(&quot;topowerof3(): %f\n&quot;, topowerof3(275));
    printf(&quot;pow()       : %f\n&quot;, pow(275,3));
    return 0;
}
</code></pre>
<p>The output looks like this:</p>
<pre><code>275 to the power of 3:
topowerof3(): 20796876.000000
pow()       : 20796875.000000
</code></pre>
<p>Any hints why topowerof3() fails?</p>
","2024-03-28 17:19:14","0","Question"
"78239621","","I need something similar to a recursive function to dynamically update ""Amount Due"" fields for a debt payment plan in Google Sheets","<p>Edit 1: Note, the &quot;Payment Received&quot; check boxes are irrelevant. They are just for the accountant to check upon confirming receipt of the payment. That's why I didn't mention that column.</p>
<p>I'm sorry if this is as clear as mud. I am having trouble understanding how to explain my issue clearly, which is part of the reason I am having trouble figuring it out. If I was using JavaScript I would just do this with a recursive function. But I don't think Google Sheets has that capability.</p>
<p>Here is a link to an example of the spreadsheet
<a href=""https://docs.google.com/spreadsheets/d/12R95WLQMaY8xkM-rHrlVeRqLfvLd4ZKY_xKlP1doegY/edit#gid=0"" rel=""nofollow noreferrer"">Debt Payment Plan</a></p>
<p>I am creating a debt payment plan for my church group. I've got a columns for &quot;Due Date&quot; (A2:A13), &quot;Amount Due&quot; (B2:B13), and &quot;Amount Paid&quot; (C2:C13).</p>
<p>I also have &quot;Total Debt&quot; (G1), &quot;Months to pay debt&quot; (G2), &quot;First Due Date&quot; (G3), &quot;Total Amount Paid&quot; (G5), and &quot;Remaining Balance&quot; (G6).</p>
<p>The goal is for the amount due each month to be the total debt divided by the months to pay debt. That part is easy. What I am having trouble figuring out is how to make sure that the final amount due takes overpayments into account.</p>
<p>For example. Say I owe $600 and want to pay it off in 12 months. I will have 12 rows, 1 for each due date. The monthly payment will be $50. Now, let's say I am able to pay $60 one month. I don't want every monthly payment to go down because of this, but I need some kind of function or calculation that will make sure the 12th row reflects the difference. Since I have paid $10 extra, the last payment should be $10 less.</p>
<p>I could probably figure that out if I only needed the last &quot;Amount Due&quot; to work this way, but I need them all to work this way. Let's say I am able to pay $125 extra one month. Rows 11 AND 12 would need to show $0, but row 10 would need to show $25.</p>
<p>Finally, I don't want the &quot;Amount Due&quot; to show negative numbers. So, if the monthly payment has been made, whether it was $50 or more, I want the &quot;Amount Due&quot; for that row to show $0. If less than $50 was paid, I want it to show the difference of &quot;amount due&quot; minus &quot;amount paid&quot;.</p>
<p>I have tried putting this in row 12 (=IF($G$1-$G$5&gt;=($G$1/$G$2), $G$1/$G$2, $G$1-$G$5)). It is displaying the standard monthly payment if (&quot;total debt&quot; - &quot;total amount paid&quot;) is &gt;= the standard monthly payment, and it displays &quot;remaining balance&quot; otherwise. It does not display $0 if an over payment was more than the standard monthly payment.</p>
<p>My first row seems to be functioning how I want it to. It shows the standard monthly payment until a number is put into &quot;Amount Paid&quot;, and then it reflects the difference down to $0.</p>
","2024-03-28 16:22:16","0","Question"
"78239408","78239192","","<p>You could remove <code>NA</code>s, <code>rev</code> and adjust <code>length</code>s, and <code>rev</code> back .</p>
<pre><code>&gt; cls &lt;- c('x', 'y', 'z')
&gt; df[cls] &lt;- df[cls] |&gt; asplit(1) |&gt; 
+   sapply(\(x) rev(`length&lt;-`(rev(x[!is.na(x)]), length(cls)))) |&gt; t()
&gt; df
      a    x    y z
1   one &lt;NA&gt;    l u
2   two &lt;NA&gt;    m b
3 three &lt;NA&gt;    c w
4  four &lt;NA&gt; &lt;NA&gt; x
</code></pre>
<hr />
<p><em>Data:</em></p>
<pre><code>&gt; dput(df)
structure(list(a = c(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;), 
    x = c(NA_character_, NA_character_, NA_character_, NA_character_, 
    NA_character_), y = c(&quot;l&quot;, &quot;m&quot;, &quot;c&quot;, NA, &quot;p&quot;), z = c(&quot;u&quot;, 
    &quot;b&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;)), row.names = c(NA, -5L), class = &quot;data.frame&quot;)
</code></pre>
","2024-03-28 15:50:57","0","Answer"
"78239369","78239192","","<p>You can do a row-wise <code>apply</code> on your <code>df</code> excluding the first column, <code>c</code>ombining <code>NA</code> with non-<code>NA</code> entries (by <code>na.omit</code>).</p>
<pre class=""lang-r prettyprint-override""><code>df[, -1] &lt;- t(apply(df[, -1], 1, \(x) c(rep(NA, sum(is.na(x))), na.omit(x))))

     a    x    y z
1   one &lt;NA&gt;    l u
2   two &lt;NA&gt;    m b
3 three &lt;NA&gt;    c w
4  four &lt;NA&gt; &lt;NA&gt; x
5  five &lt;NA&gt;    p y
</code></pre>
","2024-03-28 15:44:26","0","Answer"
"78239192","","Shifting the values of specific columns to the right in R","<p>I want to shift the values of specific columns to the right and keep the NAs on the left.</p>
<pre><code>df = data.frame(a = c(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;), 
                x = c(&quot;l&quot;, &quot;m&quot;, NA, NA, &quot;p&quot;),
                y = c(NA, &quot;b&quot;, &quot;c&quot;, NA, NA),
                z = c(&quot;u&quot;, NA, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;))

      a    x    y    z
1   one    l &lt;NA&gt;    u
2   two    m    b &lt;NA&gt;
3 three &lt;NA&gt;    c    w
4  four &lt;NA&gt; &lt;NA&gt;    x
5  five    p &lt;NA&gt;    y
</code></pre>
<p>This is the output I want</p>
<pre><code>   a      x     y     z
1  one   &lt;NA&gt;   l    u
2  two   &lt;NA&gt;   m    b 
3  three &lt;NA&gt;   c    w
4  four  &lt;NA&gt; &lt;NA&gt;   x
5  five  &lt;NA&gt;   p    y
</code></pre>
","2024-03-28 15:12:22","1","Question"
"78239134","78239079","","<p>You can use the <code>global</code> key word to declare the variables as global from inside the function.</p>
<pre><code>def environments():
  for configuration in _secret_client:
    global ELASTIC_SEARCH_USER = _secret_client.get_secret(&quot;Elastic--User&quot;).value
    global ELASTIC_SEARCH_PASSWORD = _secret_client.get_secret(&quot;Elastic--Password&quot;).value
    global ELASTIC_SEARCH_URL = _secret_client.get_secret(&quot;Elastic--URL&quot;).value
  
</code></pre>
<p><a href=""https://stackoverflow.com/questions/423379/how-to-use-a-global-variable-in-a-function"">like here</a></p>
<p>You can also return them, and use the returned values in the next function.</p>
<pre><code>return azure_key_vault_env_specific_url, configuration,[ELASTIC_SEARCH_USER,ELASTIC_SEARCH_PASSWORD,ELASTIC_SEARCH_URL]
</code></pre>
","2024-03-28 15:02:48","-1","Answer"
"78239079","","How to pass my variables in a for loop from one function to another","<p>I want to create an array that collects three variable values.
These variable values are obtained from my Azure Keyvault.</p>
<p>Here is the script:</p>
<pre><code>CREDENTIAL = DefaultAzureCredential(exclude_shared_token_cache_credential=True, exclude_environment_credential=True, exclude_managed_identity_credential=True, exclude_visual_studio_code_credential=True)
KV_PARTIAL_NAME = &quot;KeyVault_name-&quot;

def get_secret(kv_client, secret_name):
  return kv_client.get_secret(secret_name).value 

# Subscription identification    
def environments():
  args = parse_arguments() 
  env = args.env_name
  subscription_name = env
  if env == &quot;Prod&quot;:
     subscription_name = &quot;Production&quot;
  print(f&quot;The script is running on {subscription_name}&quot;)
  azure_key_vault_env_specific_url = f&quot;https://{KV_PARTIAL_NAME}-{env}.vault.azure.net/&quot;
  _secret_client = SecretClient(vault_url=azure_key_vault_env_specific_url, credential=CREDENTIAL)
  configuration = [ ]
  for configuration in _secret_client:
    ELASTIC_SEARCH_USER = _secret_client.get_secret(&quot;Elastic--User&quot;).value
    ELASTIC_SEARCH_PASSWORD = _secret_client.get_secret(&quot;Elastic--Password&quot;).value
    ELASTIC_SEARCH_URL = _secret_client.get_secret(&quot;Elastic--URL&quot;).value
  return azure_key_vault_env_specific_url, configuration

# Provide argument -e for the script to choose the correct subscription
def parse_arguments():
  parser = argparse.ArgumentParser()
  parser.add_argument('--env_name', '-e', type=str, choices=['Dev', 'QA', 'Prod'],  help='The short for the environment for subscription', required=True)
  return parser.parse_args()

def indice_delete(configuration):
  elastic_auth_uri = f&quot;https://{ELASTIC_SEARCH_URL}/security/_authenticate&quot;
  response = requests.get(elastic_auth_uri, auth=(ELASTIC_SEARCH_USER, ELASTIC_SEARCH_PASSWORD))        
  search_url_index = &quot;_cat/indices/&quot;
  params_dict = {
  &quot;h&quot;:&quot;index,docs.count&quot;,
  &quot;s&quot;:&quot;docs.count:asc&quot;,
  &quot;format&quot;:&quot;json&quot;
  }
  elastic_console = f&quot;https://{ELASTIC_SEARCH_URL}/{search_url_index}&quot;
  getRequestElasticSearch = requests.get(elastic_console, auth=(ELASTIC_SEARCH_USER, ELASTIC_SEARCH_PASSWORD), params=params_dict)
  content = json.loads(getRequestElasticSearch.text)
  elastic_console_delete = f&quot;https://{ELASTIC_SEARCH_URL}/&quot;
  for index in content:
   indiciesList = index
   collectdoccount = index['docs.count']
   search_int = int(collectdoccount)
   if search_int == 0:
      index_name = index['index']
      delete_url = f&quot;{elastic_console_delete}{index_name}&quot;
      response = requests.delete(delete_url, auth=(ELASTIC_SEARCH_USER, ELASTIC_SEARCH_PASSWORD))
      if  response.status_code == 200:
          print(&quot;index deleted -&quot; , &quot;index name:&quot; , index['index'] , &quot;,  doc.count:&quot; , index['docs.count'] , &quot;,  elasticsearch url index:&quot; , delete_url)
      if  response.status_code != 200:
          print (&quot;index not deleted -&quot; , &quot;index name:&quot; , index['index'] , &quot;,  Reason:&quot; , response.content)

if __name__ == '__main__':
   pass_credentials = environments()
   indice_delete(pass_credentials)
</code></pre>
<p>At the moment, the variables in the for loop (of <code>environments</code> function) can't get accessed to other functions e.g. <code>indice_delete</code></p>
","2024-03-28 14:54:30","-1","Question"
"78238553","78238229","","<pre><code>CREATE FUNCTION Average_Netflix_Score (
  Score INT
  ) 
  RETURNS DECIMAL (2, 2)
  DETERMINISTIC
  BEGIN 
    DECLARE average_score DECIMAL (2, 2);

    SELECT AVG(SCORE) INTO average_score
    FROM (
      SELECT SCORE FROM NETFLIX_19
      UNION ALL
      SELECT SCORE FROM NETFLIX_20
      UNION ALL
      SELECT SCORE FROM NETFLIX_21
    ) AS CombinedScores;

    RETURN avg_score;
   END;
</code></pre>
<p>here shouldn't you RETURN average_score
as you declared the average_score but you have returned only avg_score so I think you should change the return avg_score to average_score</p>
","2024-03-28 13:31:47","0","Answer"
"78238469","78238229","","<p>Note that <code>DECIMAL (2, 2)</code> means a total of 2 digits, of which 2 are decimals, i.e. values like <code>.25</code>.</p>
<p>But you probably want <code>DECIMAL (4, 2)</code>, to be able to give values like <code>12.75</code>.</p>
","2024-03-28 13:16:56","0","Answer"
"78238229","","Creating a stored function on SQL of average scores, error code 1064","<p>I keep throwing an error code when I try to create a stored funtion for netflix average IMD scores for 3 tables. The code works on it's own but not as a stored function. The answer returns as 7.9999 so I wanted to try to reduce the decimal output in the process to only two decimals, such as 7.9.</p>
<pre><code>CREATE FUNCTION Average_Netflix_Score (
Score INT
) 
RETURNS DECIMAL (2, 2)
DETERMINISTIC
BEGIN 
DECLARE average_score DECIMAL (2, 2);

SELECT AVG(SCORE) INTO average_score
    FROM (
        SELECT SCORE FROM NETFLIX_19
        UNION ALL
        SELECT SCORE FROM NETFLIX_20
        UNION ALL
        SELECT SCORE FROM NETFLIX_21
    ) AS CombinedScores;
    
    RETURN avg_score;
END;
</code></pre>
<p>Expected stored function to save with a value of 7.9 as outcome. But got syntax error code 1067.</p>
","2024-03-28 12:34:53","0","Question"
"78229791","78228124","","<p>Write a function <code>f</code> that compares a range with a student's start date and loop over all combinations. In such double-<code>for</code>-loop situations we may use <code>outer</code> which gives a boolean matrix where we want <code>max.col</code>. Finally <code>merge</code>.</p>
<p>First however, care for your strange date formats and rename student's Start to Start_stud to have unique column names.</p>
<pre><code>&gt; ranges[] &lt;- lapply(ranges, as.Date, '%m/%d/%Y')
&gt; student &lt;- transform(student, Start_stud=as.Date(student$Start, '%m/%d/%y'), Start=NULL)
&gt; f &lt;- \(x, y) student$Start[x] &gt;= ranges[y, 1] &amp; student$Start[x] &lt;= ranges[y, 2]
&gt; student$id &lt;- max.col(outer(seq_len(nrow(student)), seq_len(nrow(ranges)), f))
&gt; merge(ranges, student, by.x=0, by.y='id') |&gt; {\(.) .[order(.[, 2]), -1]}()
       Start        End Learner  Course Start_stud
9 2023-01-01 2023-03-31       4    Math 2023-01-05
7 2023-04-01 2023-06-30       3 Science 2023-04-25
8 2023-04-01 2023-06-30       2    Math 2023-05-15
4 2023-07-01 2023-09-30       1    Math 2023-07-10
5 2023-07-01 2023-09-30       3    Math 2023-07-25
6 2023-07-01 2023-09-30       2 English 2023-07-25
1 2023-10-01 2023-12-31       1 English 2023-11-05
2 2023-10-01 2023-12-31       3 English 2023-11-15
3 2023-10-01 2023-12-31       4 Science 2023-11-05
</code></pre>
<p>If you really want just the first three columns, you can pipe in another <code>|&gt; subset(select=1:3)</code>.</p>
<hr />
<p><em>Data:</em></p>
<pre><code>&gt; dput(ranges)
structure(list(Start = c(&quot;10/1/2023&quot;, &quot;7/1/2023&quot;, &quot;4/1/2023&quot;, 
&quot;1/1/2023&quot;), End = c(&quot;12/31/2023&quot;, &quot;9/30/2023&quot;, &quot;6/30/2023&quot;, 
&quot;3/31/2023&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, -4L))
&gt; dput(student)
structure(list(Learner = c(1L, 1L, 2L, 2L, 3L, 3L, 3L, 4L, 4L
), Course = c(&quot;English&quot;, &quot;Math&quot;, &quot;English&quot;, &quot;Math&quot;, &quot;Science&quot;, 
&quot;Math&quot;, &quot;English&quot;, &quot;Science&quot;, &quot;Math&quot;), Start = c(&quot;11/5/23&quot;, &quot;7/10/23&quot;, 
&quot;7/25/23&quot;, &quot;5/15/23&quot;, &quot;4/25/23&quot;, &quot;7/25/23&quot;, &quot;11/15/23&quot;, &quot;11/5/23&quot;, 
&quot;1/5/23&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, -9L))
</code></pre>
","2024-03-27 06:47:55","0","Answer"
"78229155","78228909","","<p>You just need to check if the result of <a href=""https://www.php.net/manual/en/datetime.createfromformat.php"" rel=""nofollow noreferrer""><code>DateTime::createFromFormat</code></a> is a <code>DateTime</code> object before attempting to use it. Since it's now (as of PHP8.0.21, 8.1.8 and 8.2.0) possible for this function to throw an error, this can be implemented with a try/catch block, throwing an exception if the conversion fails or doesn't match the input:</p>
<pre><code>function check_date($a1,$a2,$a3,$a4)
{
    global $error;
    try {
        $date = DateTime::createFromFormat('d/m/Y', $a1);
        if ($date === false || $date-&gt;format('d/m/Y') !== $a1) throw new Exception('Invalid date');
    }
    catch (Throwable $e) {
        echo &quot;ERROR - Row ($a2) - Column ($a4) - {$e-&gt;getMessage()} $a3: \&quot;$a1\&quot;&lt;/br&gt;&quot; . PHP_EOL;
        $error = 1 ;
    }
}

check_date(&quot;\0&quot;, 1, &quot;ISSUE_DATE&quot;, 'Start date');
check_date('20/01/2023', 2, &quot;ISSUE_DATE&quot;, 'Start date');
check_date('3/4/2023', 3, &quot;ISSUE_DATE&quot;, 'Start date');
check_date('2023-01-20', 4, &quot;ISSUE_DATE&quot;, 'Start date');
check_date('', 5, &quot;ISSUE_DATE&quot;, 'Start date');
check_date('a', 6, &quot;ISSUE_DATE&quot;, 'Start date');
</code></pre>
<p>Output:</p>
<pre><code>ERROR - Row (1) - Column (Start date) - DateTime::createFromFormat(): Argument #2 ($datetime) must not contain any null bytes ISSUE_DATE: &quot;&quot;&lt;/br&gt;
ERROR - Row (3) - Column (Start date) - Invalid date ISSUE_DATE: &quot;3/4/2023&quot;&lt;/br&gt;
ERROR - Row (4) - Column (Start date) - Invalid date ISSUE_DATE: &quot;2023-01-20&quot;&lt;/br&gt;
ERROR - Row (5) - Column (Start date) - Invalid date ISSUE_DATE: &quot;&quot;&lt;/br&gt;
ERROR - Row (6) - Column (Start date) - Invalid date ISSUE_DATE: &quot;a&quot;&lt;/br&gt;
</code></pre>
<p>Demo on <a href=""https://3v4l.org/ga9IR"" rel=""nofollow noreferrer"">3v4l.org</a></p>
","2024-03-27 03:13:01","1","Answer"
"78228909","","Date check in PHP while importing hand typed CSV","<p>I am having a CSV to be prone to errors (typed by hand) to import to Oracle.</p>
<p>I want to check if the field in it is a valid (dd/mm/yyyy) date.</p>
<p>I wrote the following code</p>
<pre><code>function check_date($a1,$a2,$a3,$a4)
{
    global $error;
    if ( DateTime::createFromFormat('d/m/Y', $a1)-&gt;format('d/m/Y') !== $a1 )
    {
        echo &quot;ERROR - Row ($a2) - Column ($a4) - Invalid $a3&lt;/br&gt;&quot;;
        $error = 1 ;
    }
}
</code></pre>
<p>This failed if the field was empty so I added to be</p>
<pre><code>function check_date($a1,$a2,$a3,$a4)
{
    global $error;
    if ( $a1 == &quot;&quot; )
    {
        echo &quot;ERROR - Row ($a2) - Column ($a4) - Empty $a3&lt;/br&gt;&quot;;
        $error = 1 ;
        goto end_function ;
    }
    if ( DateTime::createFromFormat('d/m/Y', $a1)-&gt;format('d/m/Y') !== $a1 )
    {
        echo &quot;ERROR - Row ($a2) - Column ($a4) - Invalid $a3&lt;/br&gt;&quot;;
        $error = 1 ;
    }
    end_function:
}
</code></pre>
<p>Now the problem is if the field is any character like 'a' the script fails.</p>
<p>I call the function</p>
<pre><code>check_date($CSVData[2], $row_count, &quot;ISSUE_DATE&quot; , $alphabet[2] ) ;
</code></pre>
<p>How can I solve it.</p>
<p>Thanks.</p>
","2024-03-27 01:30:35","1","Question"
"78228433","78228124","","<p>A <strong>base R</strong> approach. The tricky part here is not finding the matches but getting the desired format of repeated dates in separate rows.</p>
<pre><code>data.frame(do.call(rbind, 
  apply(ranges, 1, \(x) 
    t(sapply(which(
      as.Date(student$Start, &quot;%m/%d/%y&quot;) &gt;= as.Date(x[&quot;Start&quot;], &quot;%m/%d/%Y&quot;) &amp; 
      as.Date(student$Start, &quot;%m/%d/%y&quot;) &lt;= as.Date(x[&quot;End&quot;], &quot;%m/%d/%Y&quot;)), \(y)
        c(x, Learner=student$Learner[y]))))))
      Start        End Learner
1 10/1/2023 12/31/2023       1
2 10/1/2023 12/31/2023       3
3 10/1/2023 12/31/2023       4
4  7/1/2023  9/30/2023       1
5  7/1/2023  9/30/2023       2
6  7/1/2023  9/30/2023       3
7  4/1/2023  6/30/2023       2
8  4/1/2023  6/30/2023       3
9  1/1/2023  3/31/2023       4
</code></pre>
<p>Note: Be careful with years in dates. 2-digits years need <code>%y</code>, 4-digit years <code>%Y</code>.</p>
<h4>Data</h4>
<pre><code>ranges &lt;- structure(list(Start = c(&quot;10/1/2023&quot;, &quot;7/1/2023&quot;, &quot;4/1/2023&quot;, 
&quot;1/1/2023&quot;), End = c(&quot;12/31/2023&quot;, &quot;9/30/2023&quot;, &quot;6/30/2023&quot;, 
&quot;3/31/2023&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, -4L))

student &lt;- structure(list(Learner = c(1L, 1L, 2L, 2L, 3L, 3L, 3L, 4L, 4L
), Course = c(&quot;English&quot;, &quot;Math&quot;, &quot;English&quot;, &quot;Math&quot;, &quot;Science&quot;, 
&quot;Math&quot;, &quot;English&quot;, &quot;Science&quot;, &quot;Math&quot;), Start = c(&quot;11/5/23&quot;, &quot;7/10/23&quot;, 
&quot;7/25/23&quot;, &quot;5/15/23&quot;, &quot;4/25/23&quot;, &quot;7/25/23&quot;, &quot;11/15/23&quot;, &quot;11/5/23&quot;, 
&quot;1/5/23&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, -9L))
</code></pre>
","2024-03-26 22:12:39","0","Answer"
"78228172","78228124","","<pre><code>mutate(df1, across(everything(), mdy)) %&gt;%
   right_join(mutate(df2, Start = mdy(Start)), 
             by = join_by(Start &lt;= Start , End&gt;Start), 
             suffix = c('', '_y'))%&gt;%
   select(-Start_y, -Course)

       Start        End Learner
1 2023-10-01 2023-12-31       1
2 2023-10-01 2023-12-31       3
3 2023-10-01 2023-12-31       4
4 2023-07-01 2023-09-30       1
5 2023-07-01 2023-09-30       2
6 2023-07-01 2023-09-30       3
7 2023-04-01 2023-06-30       2
8 2023-04-01 2023-06-30       3
9 2023-01-01 2023-03-31       4
</code></pre>
","2024-03-26 21:06:53","1","Answer"
"78228124","","Apply criteria from one table against each row in another table to generate a list of matches","<p>I have 2 tables of data.  1 table has a list of start and end date ranges.  The other table a list of students with their class and start dates.  For each of the date ranges, I'm trying to list the students who have a start date in that range.</p>
<p>Range Data</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Start</th>
<th>End</th>
</tr>
</thead>
<tbody>
<tr>
<td>10/1/2023</td>
<td>12/31/2023</td>
</tr>
<tr>
<td>7/1/2023</td>
<td>9/30/2023</td>
</tr>
<tr>
<td>4/1/2023</td>
<td>6/30/2023</td>
</tr>
<tr>
<td>1/1/2023</td>
<td>3/31/2023</td>
</tr>
</tbody>
</table></div>
<p>Student</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Learner</th>
<th>Course</th>
<th>Start</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>English</td>
<td>11/5/23</td>
</tr>
<tr>
<td>1</td>
<td>Math</td>
<td>7/10/23</td>
</tr>
<tr>
<td>2</td>
<td>English</td>
<td>7/25/23</td>
</tr>
<tr>
<td>2</td>
<td>Math</td>
<td>5/15/23</td>
</tr>
<tr>
<td>3</td>
<td>Science</td>
<td>4/25/23</td>
</tr>
<tr>
<td>3</td>
<td>Math</td>
<td>7/25/23</td>
</tr>
<tr>
<td>3</td>
<td>English</td>
<td>11/15/23</td>
</tr>
<tr>
<td>4</td>
<td>Science</td>
<td>11/5/23</td>
</tr>
<tr>
<td>4</td>
<td>Math</td>
<td>1/5/23</td>
</tr>
</tbody>
</table></div>
<p>If I only have a single date range to filter against, I can do this using filter() to filter by start dates, but I have a dozen different ranges and don't want to run in manually for each range.  My intended outcome is a list of ranges with the students having a class in that range</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Start</th>
<th>End</th>
<th>Learner</th>
</tr>
</thead>
<tbody>
<tr>
<td>10/1/2023</td>
<td>12/31/2023</td>
<td>1</td>
</tr>
<tr>
<td>10/1/2023</td>
<td>12/31/2023</td>
<td>3</td>
</tr>
<tr>
<td>10/1/2023</td>
<td>12/31/2023</td>
<td>4</td>
</tr>
<tr>
<td>7/1/2023</td>
<td>9/30/2023</td>
<td>1</td>
</tr>
<tr>
<td>7/1/2023</td>
<td>9/30/2023</td>
<td>2</td>
</tr>
<tr>
<td>7/1/2023</td>
<td>9/30/2023</td>
<td>3</td>
</tr>
<tr>
<td>4/1/2023</td>
<td>6/30/2023</td>
<td>2</td>
</tr>
<tr>
<td>4/1/2023</td>
<td>6/30/2023</td>
<td>3</td>
</tr>
<tr>
<td>1/1/2023</td>
<td>3/31/2023</td>
<td>4</td>
</tr>
</tbody>
</table></div>
","2024-03-26 20:53:28","-1","Question"
"78226560","78226483","","<p>You need to use <code>across()</code> with your <code>arrange()</code> or <code>arrange_at()</code> line. For example</p>
<pre><code>arrange(across(if(is.null(arrange_by)) all_of(cat_nms[1]) else all_of(arrange_by)))
# or 
arrange_at(if(is.null(arrange_by)) all_of(cat_nms[1]) else all_of(arrange_by))
</code></pre>
<p>With a simpler example</p>
<pre><code>iris %&gt;% arrange(Sepal.Width) %&gt;% head()
iris %&gt;% arrange(all_of(&quot;Sepal.Width&quot;)) %&gt;% head()
iris %&gt;% arrange(across(all_of(&quot;Sepal.Width&quot;))) %&gt;% head()
iris %&gt;% arrange_at(&quot;Sepal.Width&quot;) %&gt;% head()
</code></pre>
<p>You can see the arrange only works for lines 1 3 and 4, not 2.</p>
","2024-03-26 15:46:12","2","Answer"
"78226483","","Using dplyr::arrange() inside an R function","<p>I wonder why <code>my_function()</code> below doesn't <code>arrange_by=</code> the variable given to it?</p>
<p>For example, try: <code>my_function(DATA, study, time, treat_grp, arrange_by = &quot;treat_grp&quot;)</code> <strong>OR</strong>
<code>my_function(DATA, study, time, treat_grp, arrange_by = &quot;time&quot;)</code> and there is no arranging happening.</p>
<p>Is there any fix to this?</p>
<pre><code>library(tidyverse)

my_function &lt;- function(data, cluster, ..., arrange_by = NULL) {
  cluster &lt;- rlang::ensym(cluster)
  cat_mod &lt;- rlang::ensyms(...)
  cat_nms &lt;- purrr::map_chr(cat_mod, rlang::as_string)  
  
  data %&gt;% 
    count(!!cluster, !!!rlang::syms(cat_nms)) %&gt;% 
    group_by(!!!rlang::syms(cat_nms)) %&gt;% 
    summarize(`n study` = n(),
              `n effect` = sum(n)) %&gt;% 
    ungroup() %&gt;%  
    tidyr::complete(!!!rlang::syms(cat_nms), fill = list(`n study` = 0, `n effect` = 0)) %&gt;% 
    arrange(if(is.null(arrange_by)) all_of(cat_nms[1]) else all_of(arrange_by))
}

#--------------------------------------------------
DATA &lt;- structure(
  list(
    study = c(1, 1, 1, 1, 1, 1, 2, 2, 3, 4, 4, 4, 4, 5, 5),
    time = c(
      &quot;baseline&quot;, &quot;posttest1&quot;, &quot;posttest2&quot;, &quot;baseline&quot;, &quot;posttest1&quot;,
      &quot;posttest2&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;,
      &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest2&quot;
    ),
    treat_grp = c(
      &quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;,
      &quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;, &quot;framework_notes&quot;,
      &quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;,
      &quot;conventional&quot;, &quot;vocabulary_notebook&quot;, &quot;vocabulary_notebook&quot;
    )
  ), 
  row.names = c(NA, -15L), 
  class = &quot;data.frame&quot;
)

# these function calls don't arrange anything
my_function(DATA, study, time, treat_grp, arrange_by = &quot;treat_grp&quot;)
my_function(DATA, study, time, treat_grp, arrange_by = &quot;time&quot;)
</code></pre>
","2024-03-26 15:34:50","0","Question"
"78223515","78160781","","<p>This worked for me but isn't that elegant, happy for edits to make it better.</p>
<pre><code>#Filter the df to only retain the transfer in rows, and for these rows, remove any &quot;no changes&quot;
group_results = []

for i, group in df.groupby(['year','email_address']):

    transfer_in = group['manager_movement'] == 'Transfer In'
    
    if transfer_in.any():
        transfer_in_group = group.loc[transfer_in]
        #transfer_in_group = group.loc[transfer_in].drop_duplicates(keep='last')
    
    else:
        transfer_in_group = group
    
    group_results.append(transfer_in_group)

df_sub = pd.concat(group_results)


#Filter the df again where for those employees with no change, only take the latest row for each FY

group_results2 = []

for i, group in df_sub.groupby(['year','email_address']):
    no_change = group['manager_movement'] == 'No Change'
    
    if no_change.any():
        no_change_group = group.loc[no_change].drop_duplicates(['year','email_address'],keep='last')   
    
    else:
        no_change_group = group
    
    group_results2.append(no_change_group)

df_sub2 = pd.concat(group_results2)


</code></pre>
","2024-03-26 07:10:52","0","Answer"
"78222986","78222826","","<p>Here is a base R solution:</p>
<pre><code>data.frame(table(DATA))|&gt;
  aggregate(cbind(n_study = Freq &gt; 0, sum = Freq) ~ time + treat_grp, sum)

       time           treat_grp n_study sum
1  baseline        conventional       1   2
2 posttest1        conventional       4   8
3 posttest2        conventional       1   2
4  baseline     framework_notes       0   0
5 posttest1     framework_notes       1   1
6 posttest2     framework_notes       0   0
7  baseline vocabulary_notebook       0   0
8 posttest1 vocabulary_notebook       1   1
9 posttest2 vocabulary_notebook       1   1
</code></pre>
","2024-03-26 04:30:00","1","Answer"
"78222851","78222826","","<pre><code>library(tidyverse)
DATA |&gt;
  count(study, time, treat_grp) |&gt;
  summarize(n_study = n(),
            sum = sum(n),
            .by = c(time, treat_grp)) |&gt;
  complete(time, treat_grp, fill = list(n_study = 0, sum = 0))
</code></pre>
<p>Result</p>
<pre><code># A tibble: 9 × 4
  time      treat_grp           n_study   sum
  &lt;chr&gt;     &lt;chr&gt;                 &lt;int&gt; &lt;int&gt;
1 baseline  conventional              1     2
2 baseline  framework_notes           0     0
3 baseline  vocabulary_notebook       0     0
4 posttest1 conventional              4     8
5 posttest1 framework_notes           1     1
6 posttest1 vocabulary_notebook       1     1
7 posttest2 conventional              1     2
8 posttest2 framework_notes           0     0
9 posttest2 vocabulary_notebook       1     1
</code></pre>
","2024-03-26 03:39:36","1","Answer"
"78222826","","Summarizing an array into a dataframe in R","<p>I wonder how to turn my <code>TABLE</code> below to my <code>Desired_output</code>?</p>
<p>In my <code>Desired_output</code>, <code>n_study</code> is the number of rows in <code>TABLE</code> for which the value corresponding to a column other than <code>study</code> is <strong>NOT 0</strong>.</p>
<p>For example, for the first element in <code>TABLE</code> (<code>, , treat_grp = conventional</code>), <code>n_study</code> for <code>baseline</code> is <code>1</code> because there is only 1 row for <code>baseline</code> with a non 0 element, and so on.</p>
<p>Also, in my <code>Desired_output</code>, <code>sum</code> is simply the column sum of each element of <code>TABLE</code>.</p>
<p>Is my <code>Desired_output</code> possible in R?</p>
<p>(<em>I tried <code>addmargins(TABLE) %&gt;% as.data.frame.array()</code> without success</em>)</p>
<pre><code>DATA &lt;- structure(list(study = c(1, 1, 1, 1, 1, 1, 2, 2, 3, 4, 4, 4, 
       4, 5, 5), time = c(&quot;baseline&quot;, &quot;posttest1&quot;, &quot;posttest2&quot;, &quot;baseline&quot;, 
       &quot;posttest1&quot;, &quot;posttest2&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, 
        &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, &quot;posttest1&quot;, 
         &quot;posttest2&quot;), treat_grp = c(&quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;, 
           &quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;, 
            &quot;framework_notes&quot;, &quot;conventional&quot;, &quot;conventional&quot;, &quot;conventional&quot;, 
             &quot;conventional&quot;, &quot;conventional&quot;, &quot;vocabulary_notebook&quot;, &quot;vocabulary_notebook&quot;
               )), row.names = c(NA, -15L), class = &quot;data.frame&quot;)

TABLE &lt;- table(DATA)

Desired_output &lt;- read.table(header=T,text=&quot;
n_study     time      treat_grp       sum
  1     baseline   conventional         2
  4     posttest1  conventional         8
  1     posttest2  conventional         2
  0     baseline   framework_notes      0
  1     posttest1  framework_notes      1
  0     posttest2  framework_notes      0
  0     baseline   vocabulary_notebook  0
  1     posttest1  vocabulary_notebook  1
  1     posttest2  vocabulary_notebook  1&quot;)


</code></pre>
","2024-03-26 03:30:52","0","Question"
"78221252","78221095","","<p>The problem is that you are calling your functions immediately when defining the dictionary and then save the return value of those functions within your dictionary. Let's say your function1 returns None. That would mean, that your function is first executed and then the value None would be saved in your dictionary instead of the function itself, because you called it with the parentheses.</p>
<p>Wrong: <code>func2(&quot;my argument&quot;)</code></p>
<p>Instead of passing the output of the function you want to pass the function itself. Therefore you need to create a function that calls your function with the desired arguments.</p>
<p>A simple but verbose solution would look like this:</p>
<pre><code>def call_func_2():
    func_2(&quot;my argument&quot;)

menu_dictionary = {&quot;2&quot;: call_func_2}
</code></pre>
<p>Notice that the previous example does not call the function when initializing the dictionary.</p>
<p>A better approach would be using lambda functions. These are small one-liner functions, which allow you to wrap your function calls without having to define additional functions outside of your dictionary. In my opinion this is the cleanest approach and solves your problem in the most efficient way:</p>
<pre><code>menu = {
    &quot;1&quot;: func_1,
    &quot;2&quot;: lambda: func_2(&quot;my param&quot;),
    &quot;3&quot;: lambda: func_3([1, 2, 3], &quot;param&quot;)
}
</code></pre>
<p>Notice that wrapping your function call within a (lambda) function is not necessary if you don't want to pass arguments to it.</p>
","2024-03-25 19:07:12","0","Answer"
"78221156","78221095","","<pre><code>choises = {
 &quot;1&quot;: func1,
 &quot;2&quot;: func2(&quot;CategoryA&quot;),
 &quot;3&quot;: func2(&quot;CategoryB&quot;),
 ...
 &quot;7&quot;: func3,
 ...
}
</code></pre>
<p>Do you see the key difference in how the dictionary is using <code>func2</code> versus <code>func1</code> and <code>func3</code>?</p>
<p>The references to <code>func2</code> also have parentheses <code>()</code> after the function name, meaning the function is called <em>immediately</em>, and the returned value is stored in the dictionary.</p>
<p>But <code>func1</code> and <code>func3</code> do not have parentheses after, so the dictionary is storing the actual function objects, which are called <em>later</em>.</p>
<p>If you want <code>func2</code> to be called <em>later</em>, like <code>func1</code> and <code>func3</code>, then get rid of the parentheses in the dictionary definition.</p>
<p>EDIT:</p>
<p>If you want the dictionary to also contain arguments for some of the function calls, you can use <code>functools.partial()</code> to create a callable &quot;bundle&quot; with a function object and optionally some arguments:</p>
<pre><code>from functools import partial

choises = {
 &quot;1&quot;: partial(func1),
 &quot;2&quot;: partial(func2, &quot;CategoryA&quot;),
 &quot;3&quot;: partial(func2, &quot;CategoryB&quot;),
 ...
 &quot;7&quot;: partial(func3),
 ...
}
</code></pre>
<p>Then you would just call the function object in the dict:</p>
<pre><code>choises[&quot;2&quot;]()
</code></pre>
","2024-03-25 18:50:41","0","Answer"
"78221095","","Why a function in a dictionary that passes arguments is executed immediately?","<p>I'm fairly new to Python.</p>
<p>I was creating a script that performed a series of functions.</p>
<p>I don't know how many functions I would have done, so I opted for a menu on which the choices were based on a global dictionary, where the keys represent the user's input choice and the values the call to the associated function.</p>
<p>As seen in the following snippet, within the dictionary, there are several <code>func2</code> functions.</p>
<p>Initially I treated these functions individually (<code>func2</code>, <code>func3</code>, <code>func4</code>, ...). But I noticed that these repeated themselves following a common basic pattern. So, since I recently covered classes in OOP, I thought I could abstract these functions into a class.</p>
<p>The idea was to associate each <code>choices</code> key with a function to which I would, in the case of <code>func2</code>, pass the 'identifier' argument.</p>
<p>These arguments were already defined as key in another <em>nested dictionary</em> (<code>dict</code>). So, after calling the class constructor and creating a generic object, through the category, I would pass the single <em>nested dictionary</em> (<code>dict:{&quot;CatA&quot; : {sub_dict}, ... }</code>) to the method of that object that would produce a total and this would be printed along with the category it belongs to.</p>
<pre class=""lang-py prettyprint-override""><code>#main.py
from menu import *

choices = {
 &quot;1&quot;: func1,
 &quot;2&quot;: func2(&quot;CategoryA&quot;),
 &quot;3&quot;: func2(&quot;CategoryB&quot;),
 ...
 &quot;7&quot;: func3,
 ...
}

def main():
 while True:
  printMenu()  # the print lines are set up like this: `num) description`
  choice = input(&quot;Enter choice: &quot;)

  if choice == &quot;0&quot;:
   break
  elif choice in choices:
   choices[choice]()
  else:
   print(&quot;Invalid Choice&quot;)

if __name__ == &quot;__main__&quot;:
 main()
</code></pre>
<pre class=""lang-py prettyprint-override""><code># menu.py
def func1():
 ...

def func2(category: str):
 from dict import extractDict
 from classfunc2 import ClassFunc2

 dict = extractDict()
 obj = ClassFunc2()
 total = obj.totNumber(**dict[category])
 obj.printResults(total,category)

def func3()
 ... 
 
def printMenu()
 ...
</code></pre>
<pre class=""lang-py prettyprint-override""><code># classfunc2.py
class ClassFunc2:
 def __int__(self):
  return

 def totNumber(self, **dict):
  ...
  a = input(smth)
  ...
  return total

 def printResults(self, total, category):
  print()

</code></pre>
<p>But here comes the problems:
when I run the script, for some reason unknown to me, <strong><em>only</em> all</strong> instances of <code>func2</code> are executed before I can select them from the menu.
I'm very sure I did something wrong with the abstraction, but I don't know where at all.</p>
<p>Can someone explain to me why this happens and how should I fix this script?</p>
<p>PS: I know the title isn't accurate, but I didn't know what else to put. I would appreciate it if you could share some ideas on how to improve the title.</p>
","2024-03-25 18:37:08","-1","Question"
"78219313","78218944","","<p>I worked it out!</p>
<p>I need to define the round function like this:</p>
<pre><code>def round(rounding: Int)(number: Option[Double]): Option[Double] = {
  number match {
    case None =&gt; None
    case Some(n) =&gt; Some(roundHalfUp(n, rounding))
  }
}
</code></pre>
<p>and then I can lift the methods to functions (using parameter _):</p>
<pre><code>val r = round(2) _
val a = average _

val f = a andThen r

f(List(1.23, 2.242, 3.345))
</code></pre>
<p>Or, without the intermediat variables,</p>
<pre><code>val f = (average _) andThen (round(2) _)
</code></pre>
","2024-03-25 13:08:28","0","Answer"
"78218944","","Scala composition of partially-applied functions","<p>I'd like to be able to compose functions from partially-applied functions. I.e. something like this:</p>
<pre><code>def average(data: Seq[Option[Double]]): Option[Double] = {
  val numbers = data.flatten
  numbers match {
    case ns if ns.length == 0 =&gt; None
    case ns =&gt; Some(ns.sum / ns.length)
  }
}

def roundHalfUp(d: Double, rounding: Int): Double = {
  BigDecimal.apply(d).setScale(rounding, BigDecimal.RoundingMode.HALF_UP).doubleValue
}

def round(rounding: Int, number: Option[Double]): Option[Double] = {
  number match {
    case None =&gt; None
    case Some(n) =&gt; Some(roundHalfUp(n, rounding))
  }
}


val f = average andThen round(2)

f(List(1.23, 2.242, 3.345))
</code></pre>
<p>But I can't get the assignment of the composed function to work. I appreciate to coerce the functions I need parameter placeholders, i.e. <code>val f = average(_) andThen round(2,_)</code> but no matter what syntax I try doesn't work.</p>
<p>Could anyone advise on the correct syntax, or an alternative approach. This is supposed to be functionality for a simple design specific language so the simpler the better.</p>
","2024-03-25 12:05:48","0","Question"
"78217479","78215224","","<p>Looks like you just need to type cast your Object to Map&lt;String, dynamic&gt;.</p>
<p>Solution 1:</p>
<pre><code>itemName = (documentSnapshot.data()! as Map&lt;String, dynamic&gt;)['name'];
</code></pre>
<p>Solution 2:</p>
<pre><code>final Map &lt;String, dynamic&gt; item = documentSnapshot.data()!;
itemName = item['itemName'];
</code></pre>
<p>I hope this solutions help you solve your problem.</p>
","2024-03-25 07:10:28","0","Answer"
"78217228","78217213","","<p><code>strip()</code> removes all lead and end <em>characters</em> taken from the given string, not the literal input provided</p>
<p><a href=""https://docs.python.org/3/library/stdtypes.html#str.strip"" rel=""nofollow noreferrer"">https://docs.python.org/3/library/stdtypes.html#str.strip</a></p>
<p>In other words, <code>'acelnorstvP '</code> would yield the same output</p>
","2024-03-25 05:36:36","0","Answer"
"78217213","","Why do some characters in the string disappear inexplicably after using strip() method in python3?","<p>The specific code is as follows</p>
<pre><code>input = &quot;Please convert 899999999999 using AaBbCcDdEeFfGgHhIiJjKkaaaaLlaaa &quot;
output = input.strip('Please convert')

print(output)

899999999999 using AaBbCcDdEeFfGgHhIiJjKkaaaaL
</code></pre>
<p>Can anyone give an explanation?</p>
","2024-03-25 05:32:16","-4","Question"
"78216520","78216125","","<p>Normally one passes the object itself rather than its name but if there is a good reason to pass its name then the environment holding that name should also be passed since otherwise the scoping rules are such that objects not already in the current function will be looked up in the environment in which the function was defined, not in the caller.  The lines marked ## have been added or modified.  The first line so marked is to make the code reproducible.</p>
<pre><code>library(dplyr); library(purrr); library(tidyr); set.seed(12) ##

df1 &lt;- data.frame(x = rnorm(100),
                  y = rnorm(100, 1, .3),
                  z = rnorm(100, 15, 3))

measures &lt;- function(data_name = &quot;df2&quot;, col_name_diff = &quot;diff_xy&quot;, 
    envir = parent.frame()){ ##

  dataf &lt;- get(data_name, envir) ##
  mean = (sum(dataf[col_name_diff], na.rm = T))/nrow(dataf)
  variance = sd(unlist(dataf[col_name_diff]), na.rm = T)^2
  
  x &lt;- data.frame(mean = mean, 
                   variance = variance)
  x
}

aggregate_results &lt;- function(dataset_name = &quot;df1&quot;, envir = parent.frame()){ ##

  dataf &lt;- get(dataset_name, envir) ##
  df2 &lt;- dataf %&gt;% 
    mutate(diff_xy = x-y,
           diff_yx = y-x,
           diff_yz = y-z)
       data_name &lt;- &quot;df2&quot;
  col_name_diff &lt;- df2 %&gt;% select(contains(&quot;diff&quot;)) %&gt;% names
  params &lt;- crossing(data_name, col_name_diff)
  
  results &lt;- pmap_dfr(.f = measures, .l = params, envir = environment()) ##
}

aggregate_results()
</code></pre>
","2024-03-25 00:03:34","3","Answer"
"78216187","78203531","","<p>It would be better to store details in the <code>data</code> attributes in your case (it's more common practice), like:</p>
<pre class=""lang-html prettyprint-override""><code>&lt;p&gt;
    &lt;button class=&quot;subclass&quot; data-src=&quot;./assets/010.-Arbalest.png&quot;&gt;Arbalest&lt;/button&gt;
    &lt;button class=&quot;subclass&quot; data-src=&quot;./assets/011.-Dreadnaught.png&quot;&gt;Dreadnought&lt;/button&gt;
    ...
&lt;/p&gt;
</code></pre>
<p>And create a listener for a <code>click</code> event for all buttons with the class <code>subclass</code> (classes are better to use because <code>id</code> attr <a href=""https://www.w3schools.com/html/html_id.asp#:%7E:text=The%20id%20attribute%20specifies%20a,element%20with%20the%20specific%20id."" rel=""nofollow noreferrer"">must be unique on the page</a>)</p>
<pre class=""lang-js prettyprint-override""><code>const image = document.getElementById('main-img');
const p = document.getElementById('subclassDesc');

[...document.querySelectorAll(&quot;.subclass&quot;)].forEach((element) =&gt; {
    element.addEventListener('click', function(){
        const src =  element.dataset.src
        const text = element.innerText; // or innerHTML
        // setting image src
        image.src = src;
        // setting p HTML
        p.innerHTML = `&lt;h3&gt;${text}&lt;/h3&gt;${text}`;
    })
})

</code></pre>
<p>You can still use the <code>onclick</code> attribute. For this reason, you will need the following, but it will add more code to your HTML:</p>
<pre class=""lang-html prettyprint-override""><code>&lt;p&gt;
    &lt;button class=&quot;subclass&quot; onclick=&quot;updateData(this)&quot; data-src=&quot;./assets/010.-Arbalest.png&quot;&gt;Arbalest&lt;/button&gt;
    &lt;button class=&quot;subclass&quot; onclick=&quot;updateData(this)&quot; data-src=&quot;./assets/011.-Dreadnaught.png&quot;&gt;Dreadnought&lt;/button&gt;
    ...
&lt;/p&gt;
</code></pre>
<pre class=""lang-js prettyprint-override""><code>function updateData(element){
    const src =  element.dataset.src
    const text = element.innerText; // or innerHTML
    // setting image src
    image.src = src;
    // setting p HTML
    p.innerHTML = `&lt;h3&gt;${text}&lt;/h3&gt;${text}`;
}
</code></pre>
","2024-03-24 21:33:26","0","Answer"
"78216125","","pmap_dfr inside of larger function not finding object created within larger function","<p>I have 2 functions. The primary function brings in data, manipulates it, passes it to the secondary function (using pmap_dfr) for more processing, takes those values and returns results.
The only problem is that pmap_dfr cannot seem to find the object I create in that primary function. I'm guessing it's a scoping issue, but I don't really know how to fix it if I don't want to pop that processed data into the global environment. Any advice?</p>
<p>reprex</p>
<pre><code>df1 &lt;- data.frame(x = rnorm(100),
                  y = rnorm(100, 1, .3),
                  z = rnorm(100, 15, 3))

#secondary function
measures &lt;- function(data_name = &quot;df2&quot;, col_name_diff = &quot;diff_xy&quot;){
  dataf &lt;- eval(sym(data_name))

  mean = (sum(dataf[col_name_diff], na.rm = T))/nrow(dataf)
  variance = sd(unlist(dataf[col_name_diff]), na.rm = T)^2
  
  x &lt;- data.frame(mean = mean, 
                   variance = variance)  
  
  x
}

#primary function
aggregate_results &lt;- function(dataset_name = &quot;df1&quot;){
  dataf &lt;- eval(sym(dataset_name))
  
  df2 &lt;- dataf %&gt;% 
    mutate(diff_xy = x-y,
           diff_yx = y-x,
           diff_yz = y-z)
 
  data_name &lt;- &quot;df2&quot;
  col_name_diff &lt;- df2 %&gt;% select(contains(&quot;diff&quot;)) %&gt;% names
  params &lt;- crossing(data_name, col_name_diff)
  
  results &lt;- pmap_dfr(.f = measures, .l = params)
}

aggregate_results()

#get
Error: object 'df2' not found

#want
name       mean variance
1 diff_xy  -1.019687 1.164101
2 diff_yx   1.019687 1.164101
3 diff_yz -14.237093 9.755626```
</code></pre>
","2024-03-24 21:10:54","0","Question"
"78215875","78215633","","<p>IIUC, you can do:</p>
<pre class=""lang-py prettyprint-override""><code>def check(seq1, seq2):
    if len(seq1) != len(seq2):
        raise ValueError(&quot;Sequences not the same length&quot;)

    if set(seq1).union(seq2).difference(&quot;ACGT&quot;):
        raise ValueError(&quot;Sequences contain invalid character&quot;)

    transitions = 0
    transversions = 0
    for s1, s2 in zip(seq1, seq2):
        if s1 == s2:
            continue
        if (s1 in &quot;CT&quot; and s2 in &quot;CT&quot;) or (s1 in &quot;AG&quot; and s2 in &quot;AG&quot;):
            transitions += 1
        else:
            transversions += 1

    return transitions, transversions


seq1 = &quot;ACGTACGTCCACGT&quot;
seq2 = &quot;TTTACCGACGTACG&quot;

transitions, transversions = check(seq1, seq2)
print(f&quot;{transitions=} {transversions=}&quot;)
</code></pre>
<p>Prints:</p>
<pre><code>transitions=1 transversions=10
</code></pre>
","2024-03-24 19:42:46","1","Answer"
"78215633","","Creating a function that takes 2 DNA sequences, checks if they're the same length, if they're valid sequences and what type of mutation they have","<p>I am trying to create a function that takes 2 DNA sequences as arguments and checks for 3 things (in this order):</p>
<ol>
<li>compares them to see if they are both the same length</li>
<li>checks if they are both valid sequences (they must only contain the characters 'ACGT')</li>
<li>Detrmines what type of mutation (transition or transversion) has occured between the two</li>
</ol>
<p>I'm very new to coding so I'm not sure where my mistake is. I get no output from my code and when I do, it's an error. Any advice?</p>
<p>Here's what I've got so far:</p>
<pre><code>dna_bases = ['ACGT']
ct = ['CT']
ag = ['AG']

def dna_comparison(seq1, seq2):
    if len(seq1) != len(seq2):
        print(&quot;Error: The sequences are different lengths.&quot;)
    else:
        for i in range(len(seq1)):
            for ii in range(len(seq2)):
                if seq1[i] or seq2[ii] not in dna_bases:
                    return False
                    break
                else:
                    print(&quot;Valid sequences. The program will continue&quot;)                    
                    transitions = 0
                    transversions = 0 
                    for i in range(len(seq1)):
                        if seq1[i] != seq2[i]:
                            if seq1[i] in ag and seq2[i] in ag:
                                transitions =+ 1
                            elif seq1[i] in ct and seq2[i] in ct:
                                transitions =+ 1
                            else:
                                transversion += 1
                    print (transitions)
                    print (transversions)
</code></pre>
","2024-03-24 18:26:17","2","Question"
"78215224","","issue with simple action - retrieve a string field based on ID field of the row not working (flutter + firebase)","<p>i am working on a school project using flutter and i have to retrieve the name of a product based on an ID</p>
<p>the function is below</p>
<pre><code>String retrieveItemName(String itemID) {
  
  // go through a firebase collection menuItems and retrieve the name field based on the ID argument
  String itemName = '';
  FirebaseFirestore.instance
      .collection('menuItems')
      .doc(itemID)
      .get()
      .then((DocumentSnapshot documentSnapshot) {
    if (documentSnapshot.exists) {
     ** itemName = documentSnapshot.data()!['name'];**
    }
  });
  return itemName;
</code></pre>
<p>seems simple enough
i have a collection in firebase called menuItems
This collection has an ID (auto generated from firebase) and a name.
I retrieve the ID from somewhere else and try to map it to the name.</p>
<p>the issue i get is
<strong>The operator '[]' isn't defined for the type 'Object'.
Try defining the operator '[</strong>]'
this refer to the line :</p>
<pre><code>** itemName = documentSnapshot.data()!['name'];**

</code></pre>
<p>any suggestion on how to handle this issue?</p>
<p>i am at loss, i tried modifying my function but im not sure how to</p>
","2024-03-24 16:13:57","0","Question"
"78215052","78215029","","<p>You may use several references to the same object to change it. For example</p>
<pre><code>int a;
int &amp;x = a;
int &amp;y = a;

x = 1;
x = x + y;
</code></pre>
<p>As the both references <code>x</code> and <code>y</code> point to (are aliases of) the same variable <code>a</code> then after this statement</p>
<pre><code>x = 1;
</code></pre>
<p><code>a</code> becomes equal to <code>1</code>. And in the next statement</p>
<pre><code>x = x + y;
</code></pre>
<p>in fact you have</p>
<pre><code>a = a + a;
</code></pre>
<p>As a result <code>a</code> will be equal to <code>2</code>.</p>
","2024-03-24 15:18:30","4","Answer"
"78215029","","Can someone explain to me why after this function is called a becomes 2 instead of 3 or 4?","<pre><code>#include &lt;iostream&gt;
using namespace std;
void f(int &amp;x, int &amp;y)
{
    x = 1;
    x = x + y;
}
int main()
{
    int a = 3;
    f(a, a);
    cout&lt;&lt;a;
    return 0;
}
</code></pre>
<p>I found this function somewhere and the question was what the value of a is after f(a, a) is called, when a is 3. I thought it should be between 3 and 4 but it somehow gives 2, which I don't understand. Can someone explain why this happens, and how do such functions even work to begin with? Like it's so confusing, since it looks like a is both 3 and 4 after the function.</p>
","2024-03-24 15:11:47","-3","Question"
"78213312","78213149","","<p>From what you described, seems like the function should only be formatting a value.</p>
<pre><code>create or replace function format_as_money(m float) returns text
    language sql
    immutable
    returns null on null input
    return to_char(1, 'L') || m;
</code></pre>
<p>Note, I don't know the specifics of your table or your assignment, but you should be able to adjust from here. See the <a href=""https://www.postgresql.org/docs/current/sql-createfunction.html"" rel=""nofollow noreferrer"">Examples section of the <code>create function</code> docs</a>.</p>
<p>Then use that in a select by passing the amount column in.</p>
<pre><code>select
  title,
  format_as_money(amount) as formatted_amount
from detail_report
order by title
</code></pre>
","2024-03-24 03:42:54","0","Answer"
"78213152","78203416","","<p>I did some research on several websites and found great information that expanded my knowledge in the <code>noexcept</code> usage.</p>
<p>After reading the <em>Andrzej's C++ blog</em>. <a href=""https://akrzemi1.wordpress.com/2011/06/10/using-noexcept/"" rel=""nofollow noreferrer"">Using noexcept</a> I understood how does <code>noexcept</code> work better and when to use it and when to avoid it.</p>
<p>From the examples that I introduced in my question, I wanted to know why, in this particular case, the <code>operator==</code> is not using <code>noexcept</code> if is well known that mark a function/constructor as <code>noexcept</code> the compiler can perform some optimization and I ended with the conclusion that there is no performance gain if I use it in that particular function.</p>
<p>In other words, the <code>operator==</code> don't need the <code>noexcept</code> specification because no performance gain is used for the code itself because there are no move-like operations involved or other kind of no-throw exceptions guarantees that are needed. And finally, the <code>operator==</code> is marked as <code>inline constexpr</code> that is going to inline the function where used, so that is a performance gain for that particular code.</p>
","2024-03-24 01:51:09","3","Answer"
"78213149","","User defined function only returns first value in column","<p>I'm writing a function for a class that is supposed to transform one the the columns in my table. I'm using a database they gave me (dvd rental). The end goal, I think is to add this function as a substitute for a column name inside another query. (I'm only guessing because the instructions for this class are super vague and the teacher has been no help so far)</p>
<pre><code>CREATE OR REPLACE FUNCTION rental_amount()
RETURNS text AS $dollar_amount$
DECLARE dollar_amount text;
BEGIN
SELECT TO_CHAR(amount,'l9D99') amount_format INTO dollar_amount
FROM detail_report
ORDER BY title;
RETURN dollar_amount;
END; $dollar_amount$
LANGUAGE plpgsql;
</code></pre>
<p>What my function does (or what I'm trying to do)is basically append a dollar sign before the numbers in the amount column.
When the function is called it only returns the first value from the first row.</p>
<p>When I run the select query inside the function, however, I get all the values. <strong>your text</strong><a href=""https://i.sstatic.net/RKJRZ.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>How can I fix this?</p>
<p>At first I tried to make the function return a table, but then they added on the additional requirement that I have to include the function within another query. I've tried writing this many different ways but I don't have much of any experience with postgres and the faculty does not seem to want to help. When you ask any questions, they only say refer to xyz or the rubric which doesn't help.</p>
","2024-03-24 01:50:31","0","Question"
"78212602","","InjectInputEvent not working, failing to get instance","<p>This is what logcat outputs, I've signed my android apk with my own cert</p>
<pre><code>java.lang.NoSuchMethodException: com.example.receiver.InputManager.getInstance []
    at java.lang.Class.getMethod(Class.java:2937)
    at java.lang.Class.getDeclaredMethod(Class.java:2914)
    at com.example.receiver.InputHandler.getInputManager(InputHandler.java:59)
    at com.example.receiver.InputHandler.injectInputEvent(InputHandler.java:43)
    at com.example.receiver.InputHandler.Handle(InputHandler.java:84)
    at com.example.receiver.Main.main(Main.java:38)
    at com.example.receiver.MainActivity.lambda$onCreate$0(MainActivity.java:21)
    at com.example.receiver.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:2)
</code></pre>
<p>this is the code related to injectInputEvent()</p>
<pre><code>    private void injectInputEvent(MotionEvent event) {
        try {
            getInjectInputEvent().invoke(getInputManager(), event, 0);
        } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {
            e.printStackTrace();
        }
    }

    private static Method getInjectInputEvent() throws NoSuchMethodException {

        Class&lt;InputManager&gt; cl = InputManager.class;
        Method method = cl.getDeclaredMethod(&quot;injectInputEvent&quot;, InputEvent.class, int.class);
        method.setAccessible(true);
        return method;
    }

    private static InputManager getInputManager() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {
        Class&lt;InputManager&gt; cl = InputManager.class;
        Method method = cl.getDeclaredMethod(&quot;getInstance&quot;);
        method.setAccessible(true);
        return (InputManager) method.invoke(cl);
    }
</code></pre>
<p>I have set the following permission in my manifest:</p>
<pre><code>&lt;uses-permission android:name=&quot;android.permission.INJECT_EVENTS&quot;/&gt;
</code></pre>
<p>I run my apk from adb shell like so:</p>
<pre><code>am start com.example.receiver/com.example.receiver.MainActivity
</code></pre>
<p>This should work I think at it works for scrcpy's server
why it doesn't for mine?</p>
<p>I don't have root access.</p>
<p>I was expecting for the app to be able to InjectInputEvents but it is not able to.
I've tried starting it from adb shell and from android studio which didn't make any difference.</p>
","2024-03-23 21:43:34","0","Question"
"78212183","78212162","","<p>Generally, you would do this by making a dictionary that maps the string names of functions to the actual functions:</p>
<pre><code>table = {
    &quot;f1&quot;: f1,
    &quot;f2&quot;: f2,
    # etc
}
</code></pre>
<p>Then you can use <code>x</code> to look up the correct function in the table and execute it:</p>
<pre><code>table[x]()
</code></pre>
","2024-03-23 19:28:21","4","Answer"
"78212162","","I have a bunch of different functions, and a str variable that I know is the name of one of them. How do I call that function without using ifs?","<p>Like this:</p>
<pre><code>def f1(): ...
def f2(): ...
def f3(): ...
def f4(): ...

x = &quot;f1&quot;  # or &quot;f2&quot;, &quot;f3&quot;, or &quot;f4&quot;
</code></pre>
<p>Then I want to call the function that matches the value of <code>x</code>.</p>
<p>The only way I thought of is using a lot of <code>if</code>s but that will get inefficient very fast once I get lots of functions.</p>
","2024-03-23 19:23:50","1","Question"
"78211862","","Return device type with sass function","<p>I want to create a function that returns the device type based on media queries using scss.</p>
<p>For now I I've tried this:</p>
<pre><code>@function getDevice() {
    @media screen and (width &lt;= 800px) {
        @return mobile;
    }
    @media screen and (width &gt; 800px) and (width &lt;= 1024px) {
        @return tablet;
    }
    @media screen and (width &gt; 1024px) {
        @return desktop;
    }
}
</code></pre>
<p>But that returns me an error on the <code>@media</code> saying <code>} expectedscss(css-rcurlyexpected)</code></p>
<p>So if y'all have any idea on how to fix it or a different approach i'll take it :)</p>
","2024-03-23 17:44:18","0","Question"
"78211681","78211473","","<p>Untested but should work: When you're checking if <code>PIPv6</code> is empty and attempting to echo &quot;Unknown&quot; if it's not set, your script logic is inverted. You echo <code>$PIPv6</code> when it's empty (which will just print nothing since <code>PIPv6</code> is empty) and print &quot;Unknown&quot; when it's not empty, which is the opposite of what you're aiming for.</p>
<p>Additionally, you want to store the &quot;Unknown&quot; value in the <code>PIPv6</code> variable if no IPv6 is found, not just echo it. Here's a revised version of your script with the corrected logic and variable assignment:</p>
<pre class=""lang-bash prettyprint-override""><code>#!/bin/bash
OS=&quot;$(uname)&quot;
InternalIP=&quot;&quot;
LIP=&quot;ip addr show&quot;
LIP6=&quot;ip -6 addr show scope global&quot;
IPv6=&quot;&quot;
PIPv6=&quot;&quot;

case $OS in
 *)InternalIP=$($LIP | grep 'inet'| grep -v '127.0.0.1' | cut -d: -f2 | awk 'NF&gt;0{print $2}');;
esac
case $OS in
 *)IPv6=$($LIP | grep 'inet6' | grep -v '128' | awk '{print $2}');;
esac
case $OS in
 *)PIPv6=$($LIP6 | grep 'inet6' | grep -v '128' | awk '{print $2}');;
esac

# Check if PIPv6 is empty and set to &quot;Unknown&quot; if it is
if [ -z &quot;$PIPv6&quot; ]; then
    PIPv6=&quot;Unknown&quot;
fi

length=$InternalIP
echo $InternalIP | awk '{print substr($0, 1, length($0)-3)}'
echo $IPv6 | awk '{print substr($0, 1, length($0)-3)}'
echo &quot;Public IPv6: &quot;$PIPv6
</code></pre>
<p>Now, the script will correctly output &quot;Unknown&quot; for the public IPv6 address if none is found, and store this in the <code>PIPv6</code> variable for later use, as you intended. Please make other changes accordingly.</p>
","2024-03-23 16:53:25","0","Answer"
"78211596","78211473","","<p>Try this, untested:</p>
<pre><code>#!/usr/bin/env bash

InternalIP=&quot;&quot;
lip() { ip addr show; }
lip6() { ip -6 addr show scope global; }
IPv6=&quot;&quot;
PIPv6=&quot;&quot;

InternalIP=$(lip | awk -F':' '/inet/ &amp;&amp; !/127\.0\.0\.1/ &amp;&amp; split($2,a,&quot; &quot;)&gt;1{print a[2]}')
IPv6=$(lip | awk '/inet6/ &amp;&amp; !/128/{print $2}')
PIPv6=$(lip6 | awk '/inet6/ &amp;&amp; !/128/{print $2}')

if [[ -z $PIPv6 ]]; then
    PIPv6='Unknown'
fi

echo &quot;$InternalIP&quot; | awk '{print substr($0, 1, length($0)-3)}'
echo &quot;$IPv6&quot; | awk '{print substr($0, 1, length($0)-3)}'
echo &quot;Public IPv6: $PIPv6&quot;
</code></pre>
<p>I don't understand some of your code and you didn't provide the output of your 2 <code>ip</code> commands so I don't know why you're using the commands you are on it so the above is just a translation of your code into what I think you wanted it to do.</p>
<p>The most significant change is probably that I think you wanted to set PIPv6 to <code>Unknown</code> when it's empty, not just print a blank line.</p>
","2024-03-23 16:27:19","1","Answer"
"78211473","","Bash: Trying to get public IPv6 through a function","<p>I am trying to see if my public IPv6 have anything in it, if not then output the text Unknown in a variable (for storage). Then have the variable shown later in a text eg: <code>echo &quot;Public IPv6: &quot;$PIP6</code> (variable that to save).</p>
<p>I know that I don't have a public IPv6 (it is slow to come in my country), so I would expect it to say Unknown.
But it is empty.</p>
<p>What seems to be the problem?</p>
<p>test.sh</p>
<pre class=""lang-bash prettyprint-override""><code>#!/bin/bash
OS=&quot;$(uname)&quot;
InternalIP=&quot;&quot;
LIP=&quot;ip addr show&quot;
LIP6=&quot;ip -6 addr show scope global&quot;
IPv6=&quot;&quot;
PIPv6=&quot;&quot;

case $OS in
 *)InternalIP=$($LIP | grep 'inet'| grep -v '127.0.0.1' | cut -d: -f2 | awk 'NF&gt;0{print $2}');;
esac
case $OS in
 *)IPv6=$($LIP | grep 'inet6' | grep -v '128' | awk '{print $2}');;
esac
case $OS in
 *)PIPv6=$($LIP6 | grep 'inet6' | grep -v '128' | awk '{print $2}');;
esac
   if [ -z $PIPv6 ]; then
    echo $PIPv6
   else
    echo &quot;Unknown&quot;
   fi

length=$InternalIP
echo $InternalIP | awk '{print substr($0, 1, length($0)-3)}'
echo $IPv6 | awk '{print substr($0, 1, length($0)-3)}'
echo &quot;Public IPv6: &quot;$PIPv6
</code></pre>
<p>I tried different if styles. tried with <code>echo &quot;Unknown</code> instead of result and then it showed up as Unknown, but I want it to save to a variable, not showing up at the beginning of the output:</p>
<pre class=""lang-bash prettyprint-override""><code>Unknown
1xx.xxx.xxx.xxx
xxxx::xxxx:xxxx:xxxx:xxx
Public IPv6: 
</code></pre>
<p>Now when I run the file: publicip.sh</p>
<pre class=""lang-bash prettyprint-override""><code>#!/bin/bash
LIB=&quot;ip address show&quot; # Show Network Information
PIB6=&quot;ip -6 adress show scope global&quot; # Public IPv6

IPv4=&quot;$($LIB | awk '/inet/ &amp;&amp; !/127/ &amp;&amp; !/128/ &amp;&amp; !/64/{print $2}')&quot;
IPv6=&quot;$($LIB | awk '/inet6/ &amp;&amp; !/128/{print $2}')&quot;
PIPv4=&quot;$(dig +short myip.opendns.com @resolver1.opendns.com)&quot;
PIPv6=&quot;$($PIP6 | awk '/inet6/ &amp;&amp; !/128/{print $2}')&quot;

if [ -z &quot;$PIPv6&quot; ]; then
  PIPv6=&quot;unknown&quot;
fi

echo &quot;Local IPv4: $IPv4&quot; | awk '{print substr($0,1,length($0)-3)}'
echo &quot;Local IPv6: $IPv6&quot; | awk '{print substr($0,1,length($0)-3)}'
echo &quot;Public IPv4: $PIPv4&quot;
echo &quot;Public IPv6: $PIPv6&quot;
</code></pre>
<p>Output:</p>
<pre class=""lang-bash prettyprint-override""><code>Local IPv4: xxx.xxx.xxx.xxx
Local IPv6: xxxx::xxxx:xxxx:xxxx:xxx
Public IPv4: xxx.xxx.xxx.xxx
Public IPv6: Unknown
</code></pre>
<p>Just like I want it.</p>
","2024-03-23 15:48:56","-5","Question"
"78210187","78210131","","<p>For reference, this is the complete error message from gcc for your code (see <a href=""https://godbolt.org/z/Kx1Pecxc7"" rel=""nofollow noreferrer"">here</a>):</p>
<pre><code>&lt;source&gt;: In function 'int myFun()':
&lt;source&gt;:5:12: error: 'x' was not declared in this scope
    5 |     return x*2;
      |            ^
</code></pre>
<p>Nothing more. And gcc is correct. You cannot use <code>x</code> before it has been declared. C++ code is parsed top to bottom (templates aside). There is no other mistake in your code.</p>
<p><code>cin &gt;&gt; x;</code> should not be an error, because it appears after you declared <code>x</code>.</p>
<p>Chat bots can assist you but they can not teach you how a language works. Do not rely on what they say to gain knowledge.</p>
","2024-03-23 08:30:38","1","Answer"
"78210131","","What functions can access a global variable that appears in the same file with them?","<p>I asked ChatGPT and Google Bard a C++ question that <strong>&quot;What functions can access a global variable that appears in the same file with them?&quot;</strong></p>
<p>They answered that &quot;Any function within the same file where the global variable is declared can access that global variable. Global variables have program-level scope, which means they are accessible from any part of the program within the same program (file). <strong>Whether a function is defined before or after the global variable declaration, it can still access and modify that variable.</strong>&quot;</p>
<p>I was expecting that I can access the global variable in a function defined before the declaration of global variable but I am not able to access it. IDE throws this error:</p>
<blockquote>
<p>error: 'x' was not declared in this scope
cin &gt;&gt; x;</p>
</blockquote>
<p>Did ChatGPT and Google Bard answered wrong or there is any other problem with my code?</p>
<p><strong>My code :</strong></p>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int myFun()
{ 
    return x*2;
}
int x;
int main() {
    cout &lt;&lt; &quot;Enter value in global variable: &quot;;
    cin &gt;&gt; x;
    cout &lt;&lt; myFun();
    return 0;
}
</code></pre>
","2024-03-23 08:09:24","-4","Question"
"78207747","78207149","","<p>Your second version is not. That should be:</p>
<pre><code>isPangram :: String -&gt; Bool
isPangram str = allPresent <b>['a' .. 'z']</b> (map toLower str)

allPresent :: String -&gt; String -&gt; Bool
allPresent [] _ = <b>True</b>
allPresent _ [] = <b>False</b>
allPresent (x : xs) ys
  | x `elem` ys = allPresent xs ys
  | otherwise = False</code></pre>
<p>Indeed, for a <em>pangram</em> you check if all characters belong to the string. But that is not symmetrical: checking if all elements of <em>X</em> belong to <em>Y</em> is not equivalent to checking if all elements of <em>Y</em> belong to <em>X</em>. We here thus use the first list as the collection of items where we check if each item <code>x</code> of that collection, is an element of the second collection <code>ys</code>.</p>
<p>We thus call <code>allPresent ['a' .. 'z'] (map toLower str)</code> so the first list contains all lowercase characters, the second the lowercase version of the input <code>str</code>. In case the first list is empty, we are done, so we can return <code>True</code>. In case it is not, and the second list is empty, we know it will be <code>False</code>. If both lists are not empty, we check if the first item <code>x</code> of the list is a member of <code>ys</code>, and if so recurse with the rest of the elements <code>xs</code>; otherwise we can return <code>False</code>.</p>
","2024-03-22 16:54:26","1","Answer"
"78207633","78207619","","<p>Use backticks instead of quotes.</p>
<pre class=""lang-r prettyprint-override""><code>duplicate_rows(df1, 5, `Random_category`)
# # A tibble: 15 × 3
#    Random_category    ID Value
#    &lt;chr&gt;           &lt;int&gt; &lt;int&gt;
#  1 A                   2    11
#  2 A                   1    92
#  3 A                   1    92
#  4 A                   2    11
#  5 A                   1    92
#  6 B                   4    33
#  7 B                   5    93
#  8 B                   3    42
#  9 B                   4    33
# 10 B                   5    93
# 11 C                   8    46
# 12 C                   9    77
# 13 C                   7    82
# 14 C                  10    88
# 15 C                   6    79
</code></pre>
<p>The use of <code>{{..}}</code> should be working on symbols, not strings, so we need to pass it something compatible.</p>
<p>FYI, if you want it to be able to accept strings <em>instead</em>,</p>
<pre class=""lang-r prettyprint-override""><code>duplicate_rows &lt;- function(df, target_num_of_rows, group_name) {
  group_name &lt;- sym(group_name)
  df %&gt;%
    group_by({{group_name}}) %&gt;%
    mutate(rows_to_duplicate = if_else(row_number() &lt;= target_num_of_rows, ceiling(target_num_of_rows / n()), 0)) %&gt;%
    slice(rep(row_number(), times = rows_to_duplicate)) %&gt;%
    ungroup() %&gt;%
    select(-rows_to_duplicate) %&gt;%
    slice_sample(by = {{group_name}}, n = target_num_of_rows)
}
duplicate_rows(df1, 5, &quot;Random_category&quot;)
# # A tibble: 15 × 3
#    Random_category    ID Value
#    &lt;chr&gt;           &lt;int&gt; &lt;int&gt;
#  1 A                   1    92
#  2 A                   1    92
#  3 A                   2    11
#  4 A                   1    92
#  5 A                   2    11
#  6 B                   5    93
#  7 B                   4    33
#  8 B                   4    33
#  9 B                   5    93
# 10 B                   3    42
# 11 C                   9    77
# 12 C                   8    46
# 13 C                   7    82
# 14 C                  10    88
# 15 C                   6    79
</code></pre>
<p>... but now the use of symbols does not work.</p>
<pre class=""lang-r prettyprint-override""><code>duplicate_rows(df1, 5, `Random_category`)
# Error in datamart_write(copy(allouts)[, `:=`(MyCar, paste0(&quot;c&quot;, MyCar))],  : 
#   object 'Random_category' not found
</code></pre>
<p>Choose whichever strategy makes the most sense to you.</p>
<hr />
<p>Edit: @Onyambu suggested a way that handles both:</p>
<pre class=""lang-r prettyprint-override""><code>duplicate_rows &lt;- function(df, target_num_of_rows, group_name) {
  group_name &lt;- as.name(as.character(substitute(group_name)))
  df %&gt;%
    group_by({{group_name}}) %&gt;%
    mutate(rows_to_duplicate = if_else(row_number() &lt;= target_num_of_rows, ceiling(target_num_of_rows / n()), 0)) %&gt;%
    slice(rep(row_number(), times = rows_to_duplicate)) %&gt;%
    ungroup() %&gt;%
    select(-rows_to_duplicate) %&gt;%
    slice_sample(by = {{group_name}}, n = target_num_of_rows)
}
duplicate_rows(df1, 5, &quot;Random_category&quot;) # works
duplicate_rows(df1, 5, `Random_category`) # works
</code></pre>
<p>I like the fact that it is flexible, though I do believe that sometimes polymorphism can go too far. Not sure if this is one of those times ...</p>
","2024-03-22 16:32:33","3","Answer"
"78207619","","Why does custom function using dplyr give a different result to without function wrap?","<p>So I am writing a function to create a specifc number of duplicate rows, from something like this:</p>
<pre><code>df1 &lt;- tibble(
  Random_category = c(rep(&quot;A&quot;, 2), rep(&quot;B&quot;, 3), rep(&quot;C&quot;, 6)),
  ID = 1:11,
  Value = sample(1:100, 11, replace = TRUE)
)

   Random_category    ID Value
   &lt;chr&gt;           &lt;int&gt; &lt;int&gt;
 1 A                   1    92
 2 A                   2    11
 3 B                   3    42
 4 B                   4    33
 5 B                   5    93
 6 C                   6    79
 7 C                   7    82
 8 C                   8    46
 9 C                   9    77
10 C                  10    88
11 C                  11    58
</code></pre>
<p>To something like this:</p>
<pre><code>
Random_category    ID Value
&lt;chr&gt;           &lt;int&gt; &lt;int&gt;
 1 A                   2    60
 2 A                   2    60
 3 A                   1     8
 4 A                   2    60
 5 A                   1     8
 6 B                   3    31
 7 B                   4    13
 8 B                   4    13
 9 B                   5    91
10 B                   5    91
11 C                   6    19
12 C                   9    72
13 C                   7    26
14 C                  10    85
15 C                   8    67
</code></pre>
<p>My function looks like this:</p>
<pre><code>duplicate_rows &lt;- function(df, target_num_of_rows, group_name) {
  df %&gt;%
    group_by({{group_name}}) %&gt;%
    mutate(rows_to_duplicate = if_else(row_number() &lt;= target_num_of_rows, ceiling(target_num_of_rows / n()), 0)) %&gt;%
    slice(rep(row_number(), times = rows_to_duplicate)) %&gt;%
    ungroup() %&gt;%
    select(-rows_to_duplicate) %&gt;%
    slice_sample(by = {{group_name}}, n = target_num_of_rows)
}

# Duplicate rows ensuring each group has exactly 5 rows
df_duplicated &lt;- duplicate_rows(df1, 5, &quot;Random_category&quot;)

</code></pre>
<p>But instead it gives me:</p>
<pre><code>Random_category    ID Value `&quot;Random_category&quot;`
&lt;chr&gt;           &lt;int&gt; &lt;int&gt; &lt;chr&gt;
1 A                   2    60 Random_category
2 A                   1     8 Random_category
3 B                   3    31 Random_category
4 B                   4    13 Random_category
5 B                   5    91 Random_category
</code></pre>
<p>Even though I have taken the dplyr section out from the function and it works perfectly:</p>
<pre><code>df1 %&gt;%
  group_by(Random_category) %&gt;%
  mutate(rows_to_duplicate = if_else(row_number() &lt;= 5, ceiling(5 / n()), 0)) %&gt;%
  slice(rep(row_number(), times = rows_to_duplicate)) %&gt;%
  ungroup() %&gt;%
  select(-rows_to_duplicate) %&gt;%
  slice_sample(by = Random_category, n = 5)
</code></pre>
<p>I suspect it is something to do with the group name, but I don't understand why?</p>
","2024-03-22 16:30:09","0","Question"
"78207149","","Pangram Checker in Haskell","<p>I was wondering how to check whether a string is a <a href=""https://en.wikipedia.org/wiki/Pangram"" rel=""nofollow noreferrer"">pangram</a>, as a beginner's exercise. I have two solutions, but I don't understand them at all.</p>
<h3>Version 1</h3>
<pre><code>import Data.Char (toLower)

isPangram :: String -&gt; Bool
isPangram str = all (`elem` map toLower str) ['a'..'z']
</code></pre>
<h3>Version 2</h3>
<pre><code>import Data.Char (toLower)

isPangram :: String -&gt; Bool
isPangram str = allPresent (map toLower str) ['a'..'z']

allPresent :: String -&gt; String -&gt; Bool
allPresent _ [] = True
allPresent [] _ = False
allPresent (x:xs) ys
    | x `elem` ys = allPresent xs ys
    | otherwise = False
</code></pre>
<p>Not sure if they're correct, but any help to simplify or modify this would be appreciated!</p>
","2024-03-22 15:09:09","1","Question"
"78206050","78206035","","<p>You can move <code>makemouvement</code> to the global scope. Try this:</p>
<pre><code>&lt;script&gt;
   var mouvement = 1;
   test()
   makemouvement(mouvement);
&lt;/script&gt;

&lt;script&gt;
  function test(){
    function subtest1(){
      //...
    };
    function subtest2(){
      //...
    };
    window.makemouvement(mouvement){
      alert(mouvement);
      //...
    };
  }
&lt;/script&gt;
</code></pre>
","2024-03-22 11:54:24","1","Answer"
"78206035","","javascript - call a function from another function","<p>For example, in my html i have:</p>
<pre><code>&lt;script&gt;
   var mouvement = 1;
   makemouvement(mouvement);
&lt;/script&gt;

&lt;script&gt;
  function test(){
    function subtest1(){
      //...
    };
    function subtest2(){
      //...
    };
    function makemouvement(mouvement){
      alert(mouvement);
      //...
    };
  }
&lt;/script&gt;
</code></pre>
<p>how can I call the &quot;makemouvement&quot; function (which is inside test function) from my first script plz?</p>
","2024-03-22 11:52:13","-4","Question"
"78204135","78203984","","<pre><code>files_in_pwd()(
    shopt -s nullglob dotglob
    any=( * )
    dirs=( */ )
    notdir_count=$(( ${#any[@]} - ${#dirs[@]} ))

    echo &quot;Number of files in the pwd: $notdir_count&quot;
)
</code></pre>
<pre><code>files_in_pwd()(
    shopt -s nullglob dotglob
    n=0
    for e in *; do
        # add appropriate extra tests
        if [[ ! -d $e ]]; then
            (( n++ ))
        fi
    done
    echo &quot;Number of files in the pwd: $n&quot;
)
</code></pre>
","2024-03-22 05:04:03","1","Answer"
"78204053","78202868","","<blockquote>
<p>but I see no way to expand the solution to
the case of moving two such pointers at
once.</p>
</blockquote>
<pre><code>        The 2 are equivalent and neither one
            changes 2 pointers at once.
</code></pre>
<h3>The problem in <code>move_pointer()</code></h3>
<pre><code>    void move_pointer(const double** pointer){*pointer++;}
</code></pre>
<p>Consider this image with code and output side by side (source code is down below)</p>
<p><a href=""https://i.sstatic.net/8OpSz.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/8OpSz.png"" alt=""enter image description here"" /></a></p>
<p>This is just a visualization of operators and addresses changing. 32-bit platform is used, just for shorter addresses</p>
<h3>From the code</h3>
<pre><code>    p = *ppInt++; // a
    printf(&quot;\
        [1] *p is %d\n\
        ppInt now points to 0x%p\n&quot;, *p, ppInt);
</code></pre>
<ul>
<li>here <code>*ppInt</code> is assigned to <code>p</code></li>
<li>then <code>ppInt</code> is incremented</li>
</ul>
<p>This way <code>p</code> points to <code>a[]</code> so <code>*p</code> is <code>a[0]</code> that is <code>17</code>. But <code>ppInt</code> was incremented and the next command shows what ran first: <code>++</code></p>
<pre><code>    p = *ppInt; // b
    printf(&quot;    [2] *p is %d\n&quot;, *p);
</code></pre>
<p>And it prints</p>
<pre class=""lang-none prettyprint-override""><code>    [2] *p is 420
</code></pre>
<p>So <code>ppInt</code> was incremented to point to <code>b[0]</code></p>
<p>And now</p>
<pre><code>    p = ++*ppInt; // c
    printf(&quot;    [3] *p is %d\n&quot;, *p);
</code></pre>
<p>prints</p>
<pre class=""lang-none prettyprint-override""><code>    [3] *p is 170
</code></pre>
<p>because <code>ppInt</code> is de-referenced <strong>before</strong> and this value is incremented before being assigned to <code>p</code> tha now points to <code>b[1]</code></p>
<p>_</p>
<h3>back to the original <code>move_pointer()</code>###</h3>
<ul>
<li><code>pointer</code> is incremented</li>
<li><code>pointer</code> is de-referenced</li>
<li>the function ends, so this value is not used and <code>*pointer</code> is not changed at all</li>
</ul>
<p><code>++</code> needs to run <strong>at the address pointed by <code>* pointer</code></strong> so
we need to write
<code>++*pointer</code> or <code>(*pointer)++</code>:</p>
<ul>
<li><code>*pointer</code> is evaluated and we still get a <code>double*</code>, since <code>pointer</code> is <code>double**</code>.</li>
<li>but now the value at this address is then incremented. This value is the <code>double**</code> that came from the caller, so the pointer in the caller is updated.</li>
</ul>
<p>See this table from <a href=""https://en.cppreference.com/w/c/language/operator_precedence"" rel=""nofollow noreferrer"">cpp reference</a>
<a href=""https://i.sstatic.net/2DJWq.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/2DJWq.png"" alt=""enter image description here"" /></a></p>
<h2>Example</h2>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

void move_pointer(const double** pointer) { ++*pointer; }

const double* move_pointer_func(const double*);

void          check_pointer_movement(
             const double* input_vec, const int ndim);

int main(void)
{
    double input_vec[] = {0.25, 0.65, 0.95, 1.2, 42., 17.};
    int    size        = sizeof(input_vec) / sizeof(input_vec[0]);

    int  a[]    = { 17,  42};
    int  b[]    = {420, 170};
    int* p      = NULL;
    int* pInt[] = {(int*)&amp;a, (int*) &amp; b};
    printf(&quot;\
    a[] is at 0x%p\n\
    b[] is at 0x%p\n\
    pInt address is 0x%p\n\
      pInt[0] is 0x%p\n\
      pInt[1] is 0x%p\n&quot;,
        &amp;a, &amp;b, 
        &amp;pInt, pInt[0], pInt[1]);
    int** ppInt = (int**)&amp;pInt;
    printf(&quot;    ppInt points to 0x%p\n&quot;, ppInt);
    p = *ppInt++; // a
    printf(&quot;\
        [1] *p is %d\n\
        ppInt now points to 0x%p\n&quot;, *p, ppInt);
    p = *ppInt; // b
    printf(&quot;    [2] *p is %d\n&quot;, *p);
    p = ++*ppInt; // c
    printf(&quot;    [3] *p is %d\n&quot;, *p);

    printf(&quot;\nFirst attempt:\n&quot;);
    check_pointer_movement(input_vec, size);

    // 2nd
    const double* fwd = move_pointer_func(input_vec);
    if ( (fwd - input_vec) == 1 )
        printf(&quot;Second attempt worked fine!\n&quot;);
    else
        printf(&quot;Second attempt failed to move pointer forward!\n&quot;);
    return 0;
}


const double* move_pointer_func(const double* pointer)
{
    return ++pointer;
}

void check_pointer_movement(
    const double* input_vec, const int ndim)
{
    const double* input_vec_pointer = &amp;input_vec[0];
    for (int i = 0; i != ndim; i++)
    {
        printf(&quot;%.2f\n&quot;, *input_vec_pointer);
        move_pointer(&amp;input_vec_pointer);
    }
}
</code></pre>
<h3>output</h3>
<pre class=""lang-none prettyprint-override""><code>    a[] is at 0x00AFF9D4
    b[] is at 0x00AFF9C4
    pInt address is 0x00AFF9A8
      pInt[0] is 0x00AFF9D4
      pInt[1] is 0x00AFF9C4
    ppInt points to 0x00AFF9A8
        [1] *p is 17
        ppInt now points to 0x00AFF9AC
    [2] *p is 420
    [3] *p is 170

First attempt:
0.25
0.65
0.95
1.20
42.00
17.00
Second attempt worked fine!
</code></pre>
<h3>Notes</h3>
<h3><code>move_pointer(double** p)</code></h3>
<pre><code>void move_pointer(const double** pointer) {
    ++*pointer; }
</code></pre>
<p>This works since the <code>++</code> updates the now dereferenced <code>double**</code>.</p>
<h3><code>const double* move_pointer_func(const double* pointer)</code></h3>
<pre><code>const double* move_pointer_func(const double* pointer)
{
    return ++pointer;
}
</code></pre>
<p>Tends to be more practical since it can used to update other pointers or the same pointer.</p>
<p>To test it we can use this expression</p>
<pre><code>    const double* fwd = move_pointer_func(input_vec);
    if ( (fwd - input_vec) == 1 )
        printf(&quot;Second attempt worked fine!\n&quot;);
    else
        printf(&quot;Second attempt failed to move pointer forward!\n&quot;);
</code></pre>
<p>Since it is <code>C</code> and we increment the pointer by the size of the thing it points to, and we have pointer arihtmetic.</p>
<pre><code>    double input_vec[] = {0.25, 0.65, 0.95, 1.2, 42., 17.};
    int    size        = sizeof(input_vec) / sizeof(input_vec[0]);
</code></pre>
<p>This permits to add values at will to the array and keeps <code>size</code> updated</p>
","2024-03-22 04:36:45","0","Answer"
"78203990","78203984","","<p>Use <code>find</code> with the <code>-type f</code> option to count only regular files, and <code>-maxdepth 1</code> to prevent going into subdirectories.</p>
<pre><code>files_in_pwd() {
    num_files=$(find . -maxdepth 1 -type f | wc -l)
    echo &quot;Number of files in the pwd: $num_files&quot;
}
</code></pre>
","2024-03-22 04:12:54","0","Answer"
"78203984","","Write a shell script that has a function that displays the number of files in the present working directory, but not subdirectories","<p>Write a shell script that consists of a function that displays the number of files in the present working directory, but not subdirectories</p>
<pre><code>
# Function to count files in the pwd excluding sub directories 
files_in_pwd() {
    num_files=$(ls -l | wc -l) |  -maxdepth 1
    echo &quot;Number of files in the pwd: $num_files&quot;
}

# Call the function
files_in_pwd

 

</code></pre>
","2024-03-22 04:08:17","-3","Question"
"78203757","78203531","","<p>Do the text change during the same on click function since that is what you want. Your keyword for me is 'and'.</p>
<blockquote>
<p>&quot;set up) and subclassDesc&quot;</p>
</blockquote>
<p>Therefore I suggest you do away with the two separate functions and have one function that does it all. Rename the changeImg function to something more generic like onSubclassButtonClick and add the extra functionality you need.</p>
","2024-03-22 02:39:50","0","Answer"
"78203559","78203531","","<p>From your question, it is not entirely clear where you want to get the subclass information from, so here is a bit of an improvisation from my side.
I hope it helps.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const info = {
  'Arbalest': {
    text: 'Arbalest is awesome',
    url: './assets/010.-Arbalest.png'
  },
  'Dreadnought': {
    text: 'Dreadnought is awesome',
    url: './assets/011.-Dreadnaught.png',
  },
  'Executioner': {
    text: 'Executioner is awesome',
    url: './assets/012.-Executioner.png',
  },
  'Lancer': {
    text: 'Lancer is awesome',
    url: './assets/013.-Lancer.png',
  },
  'Titan': {
    text: 'Titan is awesome',
    url: './assets/014.-Titan.png',
  }
};

function onSubclassButtonClick(button) {
  const subclassName = button.innerText;
  const subclassData = info[subclassName];

  var image = document.getElementById('main-img');
  image.src = subclassData.url;

  const p = document.getElementById('subclassDesc');
  p.innerHTML = `&lt;h3&gt;${subclassName}&lt;/h3&gt;${subclassData.text}`;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div id=""imgContain""&gt;
  &lt;img id=""main-img"" src=""default.png""&gt;
&lt;/div&gt;
&lt;div id=""mainBox""&gt;
  &lt;div class=""tabMain""&gt;
    &lt;button class=""tablinks active"" onclick=""mainTab(event, 'Overview')"" id=""defaultOpen""&gt;Overview&lt;/button&gt;
    &lt;button class=""tablinks"" onclick=""mainTab(event, 'Subclasses')""&gt;Subclasses&lt;/button&gt;
    &lt;button class=""tablinks"" onclick=""mainTab(event, 'Spells')""&gt;Spells&lt;/button&gt;
  &lt;/div&gt;

  &lt;div id=""Overview"" class=""tabcontentMain""&gt;
    &lt;h3&gt;Overview&lt;/h3&gt;
    &lt;p&gt;blablabla.&lt;/p&gt;
    &lt;p id=""subclassDesc""&gt;
      &lt;h3&gt;Insert Subclass Here&lt;/h3&gt;
      insert subclass info here
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div id=""Subclasses"" class=""tabcontentMain""&gt;
    &lt;h3&gt;Subclasses&lt;/h3&gt;
    &lt;p&gt;
      &lt;button onclick=""onSubclassButtonClick(this)""&gt;Arbalest&lt;/button&gt;
      &lt;br&gt;&lt;br&gt;
      &lt;button onclick=""onSubclassButtonClick(this)""&gt;Dreadnought&lt;/button&gt;
      &lt;br&gt;&lt;br&gt;
      &lt;button onclick=""onSubclassButtonClick(this)""&gt;Executioner&lt;/button&gt;
      &lt;br&gt;&lt;br&gt;
      &lt;button onclick=""onSubclassButtonClick(this)""&gt;Lancer&lt;/button&gt;
      &lt;br&gt;&lt;br&gt;
      &lt;button onclick=""onSubclassButtonClick(this)""&gt;Titan&lt;/button&gt;
    &lt;/p&gt;
  &lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-03-22 01:20:57","1","Answer"
"78203531","","Using Javascript to change a div's text depending on what button is pressed","<p>I'm sure this is easier than what I'm making it out to be, but - I need to change a paragraph depending on what button is pressed. I want to use the same buttons as the ones I click on to change the main-img.</p>
<p>To reiterate, my goal is: if I click on a button, for example, Executioner, I want the image to change to the executioner image (like i already have set up) and subclassDesc to change to the appropriate subclass information that I need.</p>
<p>This is the HTML (I dont think the mainbox information is super relevant for this question so ignore that if you will - I just need to know how to properly change the stated information.)</p>
<pre class=""lang-html prettyprint-override""><code>    &lt;div id=&quot;imgContain&quot;&gt;
        &lt;img id=&quot;main-img&quot; src=&quot;default.png&quot;&gt;
    &lt;/div&gt;
    &lt;div id=&quot;mainBox&quot;&gt;
        &lt;div class=&quot;tabMain&quot;&gt;
            &lt;button class=&quot;tablinks active&quot; onclick=&quot;mainTab(event, 'Overview')&quot; id=&quot;defaultOpen&quot;&gt;Overview&lt;/button&gt;
            &lt;button class=&quot;tablinks&quot; onclick=&quot;mainTab(event, 'Subclasses')&quot;&gt;Subclasses&lt;/button&gt;
            &lt;button class=&quot;tablinks&quot; onclick=&quot;mainTab(event, 'Spells')&quot;&gt;Spells&lt;/button&gt;
        &lt;/div&gt;

        &lt;div id=&quot;Overview&quot; class=&quot;tabcontentMain&quot;&gt;
            &lt;h3&gt;Overview&lt;/h3&gt;
            &lt;p&gt;blablabla.&lt;/p&gt;
            &lt;p id=&quot;subclassDesc&quot;&gt;
                &lt;h3&gt;Insert Subclass Here&lt;/h3&gt;
                insert subclass info here
            &lt;/p&gt;    
        &lt;/div&gt;
        &lt;div id=&quot;Subclasses&quot; class=&quot;tabcontentMain&quot;&gt;
            &lt;h3&gt;Subclasses&lt;/h3&gt;
            &lt;p&gt;
                &lt;button id=&quot;subclass&quot; onclick=&quot;changeImg('./assets/010.-Arbalest.png')&quot;&gt;Arbalest&lt;/button&gt;
                &lt;br&gt;&lt;br&gt;
                &lt;button id=&quot;subclass&quot; onclick=&quot;changeImg('./assets/011.-Dreadnaught.png')&quot;&gt;Dreadnought&lt;/button&gt;
                &lt;br&gt;&lt;br&gt;
                &lt;button id=&quot;subclass&quot; onclick=&quot;changeImg('./assets/012.-Executioner.png')&quot;&gt;Executioner&lt;/button&gt;
                &lt;br&gt;&lt;br&gt;
                &lt;button id=&quot;subclass&quot; onclick=&quot;changeImg('./assets/013.-Lancer.png')&quot;&gt;Lancer&lt;/button&gt;
                &lt;br&gt;&lt;br&gt;
                &lt;button id=&quot;subclass&quot; onclick=&quot;changeImg('./assets/014.-Titan.png')&quot;&gt;Titan&lt;/button&gt;
            &lt;/p&gt;
        &lt;/div&gt;
</code></pre>
<p>This is the Javascript</p>
<pre class=""lang-js prettyprint-override""><code>
function changeImg(uri) {
    var image = document.getElementById('main-img');

    image.src = uri;
}

function insertTxt() {
    const button = document.getElementById('subclass');
    const p = document.getElementById('subclassDesc');

//what do i do here? Do i even need this?//
}

</code></pre>
<p>I just need answers, I'm very new to Javascript and don't really fully understand <em>everything</em>. I don't even know what to do with the function.
Do i need if else statements? How do I do all this on the same function with different parameters?</p>
","2024-03-22 01:00:57","1","Question"
"78203416","","Should I use noexcept specifier and noexcept operator in most functions in C++?","<p>I'm still new to the C++ programming language, and I'm trying to learn new things.</p>
<p>I'm implementing a very very basic iterator/reverse_iterator classes and other standard library containers.</p>
<p>I see in most standard library implementations like GCC, MS, and others that they use the <code>noexcept</code> specifier and <code>noexcept</code> operator in the majority of their functions to test if they throw or not.</p>
<p>This is one example:</p>
<pre><code>_GLIBCXX17_CONSTEXPR
        reverse_iterator(const reverse_iterator&lt;_Iter&gt;&amp; __x)
    _GLIBCXX_NOEXCEPT_IF(noexcept(_Iterator(__x.current)))
    : current(__x.current)
    { }

_GLIBCXX_NODISCARD
      _GLIBCXX17_CONSTEXPR iterator_type
      base() const
      _GLIBCXX_NOEXCEPT_IF(noexcept(_Iterator(current)))
      { return current; }
</code></pre>
<p>But, there are parts where they don't use them, like this:</p>
<pre><code>template&lt;typename _Iterator&gt;
    _GLIBCXX_NODISCARD
    inline _GLIBCXX17_CONSTEXPR bool
    operator==(const reverse_iterator&lt;_Iterator&gt;&amp; __x,
           const reverse_iterator&lt;_Iterator&gt;&amp; __y)
    { return __x.base() == __y.base(); }
</code></pre>
<p>I know that if a function is marked as <code>noexcept</code>, the compiler can perform some optimizations, and also know that only needs to be used where you know the function (or calls to other functions inside) cannot throw exceptions.</p>
<p>As until I understand, here is used because we're working with templates, and we're testing if the type does or doesn't throw (please correct me if I'm wrong).</p>
<p>So, in what situations do I need to test for no-throwing with <code>noexcept</code> specifier and <code>noexcept</code> operator in functions?</p>
<p>And, from the example above with the comparison operator, why don't they use <code>noexcept</code>?</p>
<p>Can I mark those comparison operators <code>noexcept</code> or test if they are <code>noexcept</code>?</p>
","2024-03-22 00:10:04","0","Question"
"78203381","78202117","","<p>You should try the simple</p>
<pre><code>delete from measure where id_country = 10;
</code></pre>
<p>Make sure that <code>is_country</code> is indexed before you delete. Selecting repeatedly 1000 items until there are no more matches slows down the process.</p>
<p>If you need to remove the majority of your records, then you could save the records you want to keep into another table whose schema is copied from this one, remove this table and then rename the other table.</p>
","2024-03-21 23:59:20","0","Answer"
"78203263","78203155","","<p><code>round()</code> changes the <em>value</em> of the number.  Formatting controls the <em>display</em>:</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; n = 3.00256
&gt;&gt;&gt; n
3.00256
&gt;&gt;&gt; m = round(n,3)  # Make a new rounded number
&gt;&gt;&gt; m
3.003
&gt;&gt;&gt; n
3.00256
&gt;&gt;&gt; m==n
False
&gt;&gt;&gt; m = round(n,2)
&gt;&gt;&gt; m
3.0
&gt;&gt;&gt; n
3.00256
&gt;&gt;&gt; m==n
False
&gt;&gt;&gt; print(f'{n:.3f}')  # Display to 3 places
3.003
&gt;&gt;&gt; print(f'{n:.2f}')  # Display to 2 places
3.00
&gt;&gt;&gt; n                  # n is unchanged
3.00256
</code></pre>
<p>If you want a custom display of a list, you have to do it yourself:</p>
<pre><code>&gt;&gt;&gt; def display(L):
...   print('['+', '.join([f'{n:.3f}' for n in L]) + ']')
...
&gt;&gt;&gt; L = [1.1, 2.22, 3.333, 4.4444, 5.5555]
&gt;&gt;&gt; L
[1.1, 2.22, 3.333, 4.4444, 5.5555]
&gt;&gt;&gt; display(L)
[1.100, 2.220, 3.333, 4.444, 5.556]
</code></pre>
","2024-03-21 23:10:16","2","Answer"
"78203209","78203155","","<p>The function round() does not determine the format when a list is printed out. It just rounds the number to three decimal places. 9.13 rounded to 3 places just stays 9.13.
If I understand you correctly, you want the numbers to be formatted all with exactly 3 decimal places.
For that you would have to use some kind of string format expression. For example you could use this instead of print():</p>
<pre><code>for num in generate_num(9,923):
    print(f'{num:.3f}')
</code></pre>
<p>Depending on your preference you could print the like a list if you print the brackets and the commas manually also.</p>
","2024-03-21 22:54:21","0","Answer"
"78203155","","Why wont variables in the list print to 3 decimal places?","<p>When I make the first parameter less than three decimal places and try make it be converted to three decimal places it won't do it. It will just add it to the list how I wrote it. If the value is 9.13, it won't print in the list as 9.130, it will still be 9.13. I've tried the <code>round</code> function, formatting, etc. Also, when an integer is added to the list it will only print to one decimal place. For example, 27 will only print 27.0 instead of 27.000.</p>
<pre><code>import math

def generate_num(LowNum, HighNum):
    
    try:
        LowNum = float(LowNum)
        HighNum = float(HighNum)

    except ValueError:
        return False
    except KeyboardInterrupt:
        quit()

    LowNum = round(LowNum, 3)
    sequence = [LowNum]
    j = sequence[-1]

    while j &lt;= HighNum:
        i = (math.sqrt((j) ** 3))
        i = round(i, 3)

        if i &lt;= HighNum:
            sequence.append(i)
            j = i  
        else:
            break

    return sequence


print(generate_num(9, 923))
</code></pre>
","2024-03-21 22:37:58","2","Question"
"78202879","78202868","","<p>The postfix increment operator <code>++</code> has higher precedence than the unary dereference opererator <code>*</code>.  So this:</p>
<pre><code>*pointer++;
</code></pre>
<p>Parses as this:</p>
<pre><code>*(pointer++);
</code></pre>
<p>Which just increments the local variable.  You want to dereference first, <em>then</em> increment:</p>
<pre><code>(*pointer)++;
</code></pre>
","2024-03-21 21:28:49","6","Answer"
"78202868","","C pointer arithmetic applied to function argument","<p>I have a pointer to an array element which is used as an argument in a function and is moved along the array inside said function via the &quot;++&quot; operation. I would like the updated position of the pointer to be re-used after the function's completion.</p>
<p>The following code contains two attempts to solve the issue. The first attempt - via <code>move_pointer</code> function - was expanding on an <a href=""https://stackoverflow.com/questions/13431108/changing-address-contained-by-pointer-using-function"">answer to a similar question</a>. Unfortunately, it does not seem to work, the function argument seems unaffected.
The second attempt - via <code>move_pointer_func</code> function - works as intended, but I see no way to expand the solution to the case of moving two such pointers at once. As a result, I would appreciate any advice on how the result can be achieved with modifying <code>move_pointer</code> function instead.</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdbool.h&gt;
#include &lt;stdlib.h&gt;
void move_pointer(const double** pointer){
    *pointer++;
}

const double* move_pointer_func(const double* pointer){
    pointer++;
    return pointer;
}

void check_pointer_movement(const double* input_vec, const int ndim, const bool use_func) {
    const double* input_vec_pointer=&amp;input_vec[0];
    for (int i = 0; i!=ndim; i++){
        printf(&quot;%e\n&quot;, *input_vec_pointer);
        if (use_func){
            input_vec_pointer=move_pointer_func(input_vec_pointer);
        }
        else {
            move_pointer(&amp;input_vec_pointer);
        }
    }
}

int main() {
   int ndim=4;
   double input_vec[4]={0.25, 0.65, 0.95, 1.2};
   printf(&quot;First attempt:\n&quot;);
   check_pointer_movement(input_vec, ndim, false);
   printf(&quot;Second attempt:\n&quot;);
   check_pointer_movement(input_vec, ndim, true);
   return 0;
}
</code></pre>
","2024-03-21 21:25:21","5","Question"
"78202117","","problem delete row in postgresql with commit","<p>I have a table who make a lot of time to delete some rows (32000 record by country).
I create a function.
I split the delete and use Loop instruction and commit but i have an error when i execute the function</p>
<p>My function <strong>DeleteMeasure</strong> :</p>
<pre><code>CREATE OR REPLACE FUNCTION public.DeleteMeasure(
in_id_country integer)
RETURNS integer
LANGUAGE 'plpgsql'

COST 100
VOLATILE AS $BODY$ DECLARE
err_pgsql_message   TEXT;
_err_message        TEXT;
nbdelete INTEGER=0;
BEGIN   

LOOP
    
        DELETE FROM public.measure WHERE id_measure IN (SELECT id_measure FROM public.measure WHERE id_country=in_id_country LIMIT 1000);
        EXIT WHEN NOT FOUND;
        COMMIT;
END LOOP;

    
RETURN nbdelete;
END
$BODY$;
</code></pre>
<p><code>Select * from DeleteMeasure();</code></p>
<p>Return an error on COMMIT line.
Can i have some help?</p>
","2024-03-21 18:26:48","0","Question"
"78193251","78193186","","<p>If you want to use a generic function as a parameter of another function without instantiation, you also have to make that function generic. Also don't pass a pointer to a slice, that's unneeded (a slice value is already a header holding a pointer to a backing array). See <a href=""https://stackoverflow.com/questions/39993688/are-slices-passed-by-value/39993797#39993797"">Are slices passed by value?</a></p>
<p>For example:</p>
<pre><code>func transformNumbers[T int | float64 | float32](numbers []T, transform func(T) T) []T {
    dNumbers := []T{}
    for _, value := range numbers {
        dNumbers = append(dNumbers, transform(value))
    }
    return dNumbers
}
</code></pre>
<p>Testing it:</p>
<pre><code>fmt.Println(transformNumbers([]int{1, 2, 3}, doubleG))
fmt.Println(transformNumbers([]float32{1, 2, 3}, doubleG))
fmt.Println(transformNumbers([]float64{1, 2, 3}, tripleG))
</code></pre>
<p>This will output (try it on the <a href=""https://go.dev/play/p/FN3uahm3vN3"" rel=""nofollow noreferrer"">Go Playground</a>):</p>
<pre><code>[2 4 6]
[2 4 6]
[3 6 9]
</code></pre>
<p>You can of course create a <code>transformFn</code> type for the transformer functions, which also must be generic:</p>
<pre><code>type transformFn[T int | float64 | float32] func(T) T

func transformNumbers[T int | float64 | float32](numbers []T, transform transformFn[T]) []T {
    dNumbers := []T{}
    for _, value := range numbers {
        dNumbers = append(dNumbers, transform(value))
    }
    return dNumbers
}
</code></pre>
<p>Usage is the same, try this one on the <a href=""https://go.dev/play/p/wRaiKR5nICw"" rel=""nofollow noreferrer"">Go Playground</a>.</p>
<p>You can also create a separate type for the constraint so you don't have to repeat the allowed types:</p>
<pre><code>type allowedTypes interface {
    int | float64 | float32
}

type transformFn[T allowedTypes] func(T) T

func transformNumbers[T allowedTypes](numbers []T, transform transformFn[T]) []T {
    dNumbers := []T{}
    for _, value := range numbers {
        dNumbers = append(dNumbers, transform(value))
    }
    return dNumbers
}
</code></pre>
<p>Also note that preallocating the result slice and assinging each transformed value (without using <code>append()</code>) will be much faster, so do it like this:</p>
<pre><code>func transformNumbers[T int | float64 | float32](numbers []T, transform func(T) T) []T {
    dNumbers := make([]T, len(numbers))
    for i, value := range numbers {
        dNumbers[i] = transform(value)
    }
    return dNumbers
}
</code></pre>
","2024-03-20 12:20:27","5","Answer"
"78193186","","How do I pass a generic function as an argument to another function in golang?","<p>How do i modify transformNumbers function so that it works with generic function doubleG and tripleG</p>
<pre><code>type trandformFn func(int) int

func transformNumbers(numbers *[]int, transform trandformFn) []int {
    dNumbers := []int{}
    for _, value := range *numbers {
        dNumbers = append(dNumbers, transform(value))
    }
    return dNumbers
}

func double(value int) int {
    return 2 * value
}

func triple(value int) int {
    return 3 * value
}

func doubleG[T int | float64 | float32](value T) T {
    return 2 * value
}

func tripleG[T int | float64 | float32](value T) T {
    return 3 * value
}

</code></pre>
<p>I am confused with the transformFn type.</p>
<p>trying something like:</p>
<pre><code>func transformNumbers(numbers *[]int, transform func[T int|float64|float32](T)T) []int {
    dNumbers := []int{}
    for _, value := range *numbers {
        dNumbers = append(dNumbers, transform(value))
    }
    return dNumbers
}
</code></pre>
<p>but getting error !!</p>
<pre><code>func transformNumbers(numbers *[]int, transform func[T int|float64|float32](T)T) []int {
    dNumbers := []int{}
    for _, value := range *numbers {
        dNumbers = append(dNumbers, transform(value))
    }
    return dNumbers
}

</code></pre>
<p>expecting this to work but getting error!</p>
","2024-03-20 12:09:43","1","Question"
"78192581","78192272","","<p>If you just want the content of the input <code>msg.payload.value</code></p>
<p>Then you should remove the function node and replace it with a change node that will.</p>
<p><code>move</code> <code>msg.payload.value</code> to <code>msg.payload</code></p>
<p><a href=""https://i.sstatic.net/uBRv0.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/uBRv0.png"" alt=""enter image description here"" /></a></p>
","2024-03-20 10:36:20","0","Answer"
"78192308","78192272","","<p>Try this, it will work I think.</p>
<pre><code>JSON.parse(string)
</code></pre>
","2024-03-20 09:52:30","0","Answer"
"78192272","","how to get my javascript output in json format","<p>image is the javascript code for the function node</p>
<p>I want same output as shown just value data to be in columns rather than in rows</p>
","2024-03-20 09:46:45","-1","Question"
"78191499","78191043","","<p>Here is a dynamic table of input fields, complete with the computation of a total sum for each row:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const tbd = document.querySelector(""#dynamicForm table tbody"");
document.querySelector(""button"").onclick=()=&gt;tbd.insertAdjacentHTML(""beforeend"",`&lt;tr&gt;&lt;td&gt;&lt;input type=""text"" placeholder=""price""&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=""text"" placeholder=""quantity""&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=""text"" placeholder=""tax""&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=""text"" placeholder=""total"" disabled&gt;&lt;/td&gt;&lt;/tr&gt;`);
tbd.addEventListener(""input"",()=&gt;{
 [...tbd.children].forEach(tr=&gt;{
  const inps=tr.querySelectorAll(""input"");
  inps[3].value=((inps[0].value||0)*(inps[1].value||0)*(1+(inps[2].value||0)/100)).toFixed(2)
 })
});</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>input {width:50px}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>  &lt;div&gt;
    &lt;div class=""container""&gt;
      &lt;form id=""dynamicForm"" method=""POST""&gt;
      &lt;table&gt;&lt;thead&gt;
        &lt;tr&gt;
          &lt;td&gt;Price&lt;/td&gt;
          &lt;td&gt;Quantity&lt;/td&gt;
          &lt;td&gt;Tax&lt;/td&gt;
          &lt;td&gt;Total&lt;/td&gt;
        &lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;/tbody&gt;
      &lt;/table&gt;
      &lt;/form&gt;

      &lt;div class=""controls""&gt;
        &lt;button class=""add"" onclick=""add()""&gt;
            &lt;i class=""fa fa-plus""&gt;&lt;/i&gt;Add Item
          &lt;/button&gt;

      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-03-20 07:31:55","2","Answer"
"78191043","","Dynamic form handling","<p>I'm creating a dynamic form with core JavaScript.
I am only able to create input fields but I'm not able to handle the values of inputs and also not to apply any functionality...
<a href=""https://i.sstatic.net/VyRmO.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/VyRmO.png"" alt=""Dynamic Form "" /></a></p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>var formfield = document.getElementById(""dynamicForm"");

function add() {
  var Price = document.createElement(""input"");
  Price.setAttribute(""type"", ""text"");
  Price.setAttribute(""name"", ""text"");
  Price.setAttribute(""class"", ""text"");
  Price.setAttribute(""placeholder"", ""Price"");
  Price.setAttribute(""oninput"", ""AddValue()"");
  Price.setAttribute(""style"", ""margin:2rem "");

  formfield.appendChild(Price);

  var Quantity = document.createElement(""input"");
  Quantity.setAttribute(""type"", ""text"");
  Quantity.setAttribute(""name"", ""text"");
  Quantity.setAttribute(""class"", ""text"");
  Quantity.setAttribute(""placeholder"", ""Quantity"");
  Quantity.setAttribute(""style"", ""margin:2rem "");

  formfield.appendChild(Quantity);

  var Tax = document.createElement(""input"");
  Tax.setAttribute(""type"", ""text"");
  Tax.setAttribute(""name"", ""text"");
  Tax.setAttribute(""class"", ""text"");
  Tax.setAttribute(""placeholder"", ""Tax"");
  Tax.setAttribute(""style"", ""margin:2rem "");

  formfield.appendChild(Tax);
}

function AddValue() {
  console.log(""not getting input value"");
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE html&gt;
&lt;html lang=""en""&gt;

&lt;head&gt;
  &lt;meta charset=""UTF-8"" /&gt;
  &lt;meta name=""viewport"" content=""width=device-width, initial-scale=1.0"" /&gt;
  &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;div&gt;
    &lt;div class=""container""&gt;
      &lt;table&gt;
        &lt;tr&gt;
          &lt;td&gt;Price&lt;/td&gt;
          &lt;td&gt;Quantity&lt;/td&gt;
          &lt;td&gt;Tax&lt;/td&gt;
          &lt;td&gt;Total&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/table&gt;
      &lt;form id=""dynamicForm"" method=""POST""&gt;&lt;/form&gt;

      &lt;div class=""controls""&gt;
        &lt;button class=""add"" onclick=""add()""&gt;
            &lt;i class=""fa fa-plus""&gt;&lt;/i&gt;Add Item
          &lt;/button&gt;

      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;script src=""./form.js""&gt;&lt;/script&gt;

&lt;/html&gt;</code></pre>
</div>
</div>
</p>
<p>I want to handle all the values in the input fields.
Don't want to use JQuery or another framework or library</p>
","2024-03-20 05:41:31","0","Question"
"78187932","78182069","","<p>This is somewhat unoptimized and probably doesn't handle all the cases either, but here's my try:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE OR ALTER FUNCTION getNumericValue 
    (@inputString VARCHAR(500))
RETURNS VARCHAR(500)
AS 
BEGIN
    -- Get amount starting with $ and ending with space or whatever...
    DECLARE @dollar INT = PATINDEX('%$[0-9]%', @inputString)
    ,   @endDollar INT
    ,   @postfix INT
    ,   @result NUMERIC(19,2)
    IF ISNULL(@dollar, 0) = 0
        RETURN 0

    -- Find space or end...
    SET @endDollar = charindex(' ', @inputString, @dollar) - 1
    IF @endDollar = -1
        SET @endDollar = datalength(@inputString)

    -- get the string between dollar and end string
    SET @inputString = REPLACE(SUBSTRING(@inputString, @dollar + 1, @endDollar - @dollar), ',', '')
    -- Multiplier
    SET @postfix = CASE RIGHT(@inputstring, 1) WHEN 'K' THEN 1000 WHEN 'M' THEN 1000000 ELSE 1 END
    -- Remove multiplier
    SET @inputString = REPLACE(REPLACE(@inputString, 'K', ''), 'M', '')

    -- Get the result result
    SET @result = ISNULL(TRY_CONVERT(NUMERIC(19,2), @inputString), 0) * @postfix
    -- Remove unnecessary decimals
    IF @result % 1 &gt; 0
        RETURN CAST(@result AS NUMERIC(19,2))
    RETURN CAST(@result AS NUMERIC(19,0))
 END
</code></pre>
<p>Test code:</p>
<pre class=""lang-sql prettyprint-override""><code> SELECT x.*, dbo.getNumericvalue(n) AS result
 FROM   (
    VALUES (27364829, 'Received $8,000')
    ,   (47563892, 'Received $20K')
    ,   (75372974, 'Received $2934.50')
    ,   (56382753, 'Received $15k - no payment in 2021')
    ,   (27464653, 'Will receive $5,000 over 5 years')
    ,   (27464654, 'Will receive $ over 5 years')
    ,   (27464655, '$123,340')
    ,   (27464656, '')
    ,   (27464657, '$abc')
       ) x (id, n)
</code></pre>
<p>Output:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>n</th>
<th>result</th>
</tr>
</thead>
<tbody>
<tr>
<td>27364829</td>
<td>Received $8,000</td>
<td>8000</td>
</tr>
<tr>
<td>47563892</td>
<td>Received $20K</td>
<td>20000</td>
</tr>
<tr>
<td>75372974</td>
<td>Received $2934.50</td>
<td>2934.50</td>
</tr>
<tr>
<td>56382753</td>
<td>Received $15k - no payment in 2021</td>
<td>15000</td>
</tr>
<tr>
<td>27464653</td>
<td>Will receive $5,000 over 5 years</td>
<td>5000</td>
</tr>
<tr>
<td>27464654</td>
<td>Will receive $ over 5 years</td>
<td>0</td>
</tr>
<tr>
<td>27464655</td>
<td>$123,340</td>
<td>123340</td>
</tr>
<tr>
<td>27464656</td>
<td></td>
<td>0</td>
</tr>
<tr>
<td>27464657</td>
<td>$abc</td>
<td>0</td>
</tr>
</tbody>
</table></div>
<p>Basic idea is to find the dollar and then find the next space or end of string and then work through that number. I've added some comments to the function explain the flow</p>
","2024-03-19 15:42:28","1","Answer"
"78186477","78183723","","<p>I'm afraid it's not possible to force a recalculation of sheets from the UDF function (at least I can't).<br />
You can trigger a workbook recalculation with a macro, such as an event macro. This can be controlled by a public variable, which is set to <code>True</code> when the function is called and to <code>False</code> after recalculation.<br />
Code in a standard module:</p>
<pre><code>Public flag As Boolean
Function rwdiss(ByVal speed As Integer, torque As Integer) As Double
    ThisWorkbook.Worksheets(1).Evaluate &quot;rwheat(&quot; &amp; speed &amp; &quot;, &quot; &amp; torque &amp; &quot;)&quot;
    rwdiss = Workbooks(&quot;A.xlsx&quot;).Worksheets(&quot;Top Level&quot;).Range(&quot;H64&quot;).Value
End Function

Sub rwheat(speed, torque)
    With Workbooks(&quot;A.xlsx&quot;).Worksheets(&quot;Top Level&quot;)
        .Range(&quot;F8&quot;).Value = speed
        .Range(&quot;F12&quot;).Value = torque
    End With
    flag = True
End Sub
</code></pre>
<p>Code in a <code>Worksheets(1)</code> module of the workbook &quot;B.xlsm&quot;:</p>
<pre><code>Private Sub Worksheet_Calculate()
    If flag Then
        With Application
            .EnableEvents = False
            .CalculateFull
            .EnableEvents = True
        End With
        flag = False
    End If
End Sub
</code></pre>
<p>However, it would be worth considering a different approach, such as using a <code>Data Table</code>.</p>
","2024-03-19 12:07:26","1","Answer"
"78185005","78182953","","<p>Try the following corrections in your function</p>
<pre><code>add_action( 'woocommerce_thankyou', 'display_order_received_qr_code', 10, 1 );
function display_order_received_qr_code( $order_id ) { 
    $order = wc_get_order($order_id);
    $api_url = 'https://api.paylibo.com/paylibo/generator/czech/image';

    $parameters = array(
        'accountNumber' =&gt; '2202681982',
        'bankCode'      =&gt; '2010',
        'amount'        =&gt; $order-&gt;get_subtotal(),
        'currency'      =&gt; 'CZK',
        'vs'            =&gt; $order-&gt;get_order_number(),
        'message'       =&gt; 'svetvramu.cz',
        'size'          =&gt; 200,
    );

    // Build the query string
    $query_string = http_build_query($parameters);

    // Final API URL with parameters
    $api_url_with_params = $api_url . '?' . $query_string;

    printf('&lt;img class=&quot;qrcodecz&quot; alt=&quot;QR platba&quot; src=&quot;%s&quot; /&gt;', $api_url_with_params);
}
</code></pre>
","2024-03-19 08:01:08","1","Answer"
"78183723","","Update Excel Workbook When Cell Is Changed With Function","<p>I have one big workbook (workbook A) that runs a series of calculations based on the values of various cells. When I change the cells manually and press enter, the workbook calculates automatically. Now I am trying to change these values in A from a different workbook (workbook B) and read the resulting value from A into B, but running into an issue. I created a function that takes values from B and writes it into the correct cells in A, but it does not calculate A. It just reads into B the last value I calculated manually in A. Any help would be appreciated. Code below:</p>
<pre><code>Function rwdiss(ByVal speed As Integer, torque As Integer) As Double
Dim pcb As Double

Evaluate &quot;rwheat(&quot; &amp; speed &amp; &quot;, &quot; &amp; torque &amp; &quot;)&quot;
rwdiss = Workbooks(&quot;A.xlsx&quot;).Worksheets(&quot;Top Level&quot;).Range(&quot;H64&quot;)

End Function


Sub rwheat(speed, torque)

Workbooks(&quot;A.xlsx&quot;).Worksheets(&quot;Top Level&quot;).Range(&quot;F8&quot;).Value = speed
Workbooks(&quot;A.xlsx&quot;).Worksheets(&quot;Top Level&quot;).Range(&quot;F12&quot;).Value = torque
Workbooks(&quot;A.xlsx&quot;).Worksheets(&quot;Top Level&quot;).Range(&quot;H64&quot;).Calculate

End Sub
</code></pre>
","2024-03-19 00:50:22","0","Question"
"78183588","78183444","","<p>The first thing is to declare your function, in Python there are several ways to do it. When a function is small it is usually defined as a lambda. A lambda follows the syntax.</p>
<pre><code>func = lambda parameter1, parameter2, ..., parameter: &lt;return value&gt;
</code></pre>
<p>Then we would have to define the initial values, in this case I will call the final value v and the number of iterations N</p>
<p>The last thing is to call the function N times, for this I use a for loop</p>
<pre><code># Define repeating function
a = 5
b = 1
f = lambda x : a * x + b

# Assign values to iterations 
v = 0
N = 10

# Stop iterating at Nth value
for i in range(N):
    v = f(v)
</code></pre>
","2024-03-18 23:54:22","-2","Answer"
"78183444","","Repeating an iterating function N times","<p>I have an iterative function, f(x) = ax + b, which I want to repeat N times. My steps are as follows<br>
1.) Define the iterative function<br>
2.) Assign a value to each repetition<br>
3.) Stop at the Nth repetition<br></p>
<pre><code># Define repeating function
f += a*f + b

# Assign values to iterations 


# Stop iterating at Nth value

for i in range(N+1):
    f += f(i)
</code></pre>
<p>I'm unsure of how to label each iteration of the function. My first thought is to create a list of all values of the function.</p>
","2024-03-18 23:02:08","-1","Question"
"78182953","","Avada theme not appearing functions in functions.php file for woocommerce","<p>I am trying to add a custom dynamic QR code image from order variables to Woocommerce thankyou page.</p>
<p>The code what I am trying to add into functions.php file is below:</p>
<pre><code>add_action( 'woocommerce_thankyou', 'display_order_received_qr_code', 10, 1 );
    function display_order_received_qr_code( $order_id ) { 
        $order = wc_get_order($order_id);
    
        printf('&lt;img class=&quot;qrcodecz&quot; alt=&quot;QR platba&quot; src=&quot;%s&quot; /&gt;', 
            add_query_arg( array(
                'accountNumber' =&gt; '2202681982',
                'bankCode'      =&gt; '2010',
                'amount'        =&gt; $order-&gt;get_subtotal(),
                'currency'      =&gt; 'CZK',
                'vs'            =&gt; $order-&gt;get_order_number(),
                'message'       =&gt; 'svetvramu.cz',
                'size'          =&gt; 200,
            ), 'https://api.paylibo.com/paylibo/generator/czech/image' ),
        );
    }
</code></pre>
<p>Unfortunately it is not working, nothing appeared on my thank you page. I have read some forums or advices (for example this link: <a href=""https://avada.io/woocommerce/docs/customize-thank-you-page.html"" rel=""nofollow noreferrer"">https://avada.io/woocommerce/docs/customize-thank-you-page.html</a>) and I suppose the code what I am using is correct.</p>
<p>In the same file (functions.php) I am using more actions and all of them worked well.</p>
<p>Thank you for any hint!</p>
","2024-03-18 20:50:40","0","Question"
"78182824","78182762","","<p>In <code>Main()</code>, you need to create an INSTANCE of your class <code>MyClassDel</code>, and then make your delegate point to the the <code>DoSomething()</code> method of that particular instance:</p>
<pre><code>static void Main(string[] args)
{
    MyClassDel mcd = new MyClassDel();
    SomeMethodPointer obj = new SomeMethodPointer(mcd.DoSomething);
    obj.Invoke(); // Call the delegate
    Console.ReadLine();
}
</code></pre>
<p>Alternatives...</p>
<p>(1) Make <code>DoSomething()</code> a static method in class <code>MyClassDel</code>:</p>
<pre><code>namespace ConsoleApp1
{
    public delegate void SomeMethodPointer(); // delegate definition
    
    public class MyClassDel
    {
        public static void DoSomething() // function which i am trying to call through delegate
        {
            Console.WriteLine(&quot;In the function&quot;);
        }
    }

    internal class Program
    {
        static void Main(string[] args)
        {
            SomeMethodPointer obj = new SomeMethodPointer(MyClassDel.DoSomething); // Initialize the delegate with a method reference
            obj.Invoke(); // Call the delegate
            Console.ReadLine();
        }
    }

}
</code></pre>
<p>(2) Make <code>DoSomething()</code> a static method in class <code>Program</code>:</p>
<pre><code>namespace ConsoleApp1
{
    public delegate void SomeMethodPointer(); // delegate definition

    internal class Program
    {
        static void Main(string[] args)
        {
            SomeMethodPointer obj = new SomeMethodPointer(DoSomething); // Initialize the delegate with a method reference
            obj.Invoke(); // Call the delegate
            Console.ReadLine();
        }

        public static void DoSomething() // function which i am trying to call through delegate
        {
            Console.WriteLine(&quot;In the function&quot;);
        }

    }

}
</code></pre>
","2024-03-18 20:20:30","1","Answer"
"78182762","","Unable to call main function in VS 2022","<p>In VS 2022, the entry point of the code public static void main no longer exist.</p>
<p>I was trying to implement a simple delegate but no output is shown on the console:</p>
<pre><code>using System;

namespace ConsoleApp1
{
    public delegate void SomeMethodPointer(); // delegate definition

    public class MyClassDel
    {
        // function which I am trying to call through a delegate
        public void DoSomething()
        {
            Console.WriteLine(&quot;In the function&quot;);
        }
    }

    public class Program
    {
        // created this here as program,cs is empty in my console app
        public static void Main(string[] args)
        {
            // Initialize the delegate with a method reference
            SomeMethodPointer obj = new SomeMethodPointer(DoSomething); 

            // Call the delegate
            obj.Invoke(); 
        }
    }
}
</code></pre>
","2024-03-18 20:05:08","-1","Question"
"78182081","78181999","","<p>You're importing the script as a module. That means the functions do not become global functions. Instead,  you need to import using a module, not a script tag and not attach handlers as HTML attributes, which you shouldn't do nowadays anyway to protect yourself from XSS attacks.</p>
<p>See <a href=""https://stackoverflow.com/questions/44590393/es6-modules-undefined-onclick-function-after-import"">ES6 Modules: Undefined onclick function after import</a></p>
<pre><code>&lt;button class=&quot;selectbutton selectedButton&quot;&gt;&lt;/button&gt;
&lt;button class=&quot;selectbutton selectedButton&quot;&gt;&lt;/button&gt;
&lt;button class=&quot;selectbutton selectedButton&quot;&gt;&lt;/button&gt;

&lt;script type=&quot;module&quot;&gt;

import {clique} from &quot;./scripts/index.js&quot;;

for (const [i, button] of Object.entries(document.querySelectorAll('button.selectbutton'))) {
    button.addEventListener('click', () =&gt; clique(i));
}
&lt;/script&gt;
</code></pre>
","2024-03-18 17:42:11","0","Answer"
"78182069","","Pulling the first number from a character string","<p>I've created the following function in SQL Server to pull a dollar amount out of a <code>varchar</code>. It looks for a dollar sign and then replaces any Ks or Ms with the appropriate amount of zeros. I've noticed that if there are other numbers in the <code>varchar</code> after the dollar amount (with or without a dollar sign) it will still pull it into the resulting number.</p>
<p>I want to modify this function to look at only the first number that appears in the string and ignore the rest.</p>
<p>Here's the function:</p>
<pre><code>CREATE OR ALTER FUNCTION getNumericValue 
    (@inputString VARCHAR(500))
RETURNS VARCHAR(500)
AS 
BEGIN
     DECLARE @integerPart INT, @inputString2 NVARCHAR(MAX)

     SELECT @inputString2 = @inputString,
            @integerPart = PATINDEX('%[^0-9]%', @inputString)

     WHILE @integerPart &gt; 0
     BEGIN
         SET @inputString2 = STUFF(@inputString2, @integerPart, 1, '')
         SET @integerPart = PATINDEX('%[^0-9]%', @inputString2)
     END

     IF TRY_CONVERT(BIGINT, @inputString2) IS NOT NULL 
     BEGIN 
         IF PATINDEX('%$' + @inputString2 + 'k%', @inputString) &gt; 0
         BEGIN
             SET @inputString2 = @inputString2 * 1000
         END

         IF PATINDEX('%$' + @inputString2 + 'm%', @inputString) &gt; 0
         BEGIN
             SET @inputString2 = @inputString2 * 1000000
         END 
     END 

     RETURN ISNULL(@inputString2, 0)
 END
</code></pre>
<p>Sample data:</p>
<pre><code>CREATE TABLE OrderDetails
(
    OrderID bigint UNIQUE,
    PaymentDetails varchar(200)
)


INSERT INTO OrderDetails
VALUES (27364829, 'Received $8,000')
       (47563892, 'Received $20K')
       (75372974, 'Received $2934.50')
       (56382753, 'Received $15k - no payment in 2021')
       (27464653, 'Will receive $5,000 over 5 years')
</code></pre>
<p>I've realized that the function also is not accounting for decimal places. The current output of the function on these five rows is the following:</p>
<pre><code>8000
20000
293450
152021
50005
</code></pre>
<p>The desired output is:</p>
<pre><code>8000
20000
2934.50
15000
5000
</code></pre>
","2024-03-18 17:39:50","-2","Question"
"78181999","","How can I call functions in my HTML after using two js files?","<p>I was building a project and when I added my second js file all my functions in my first js file stopped working in the HTML. OBS: I used a forEach to generate HTML in my first js file using my second js file to provide the needed data and it's working.</p>
<p>HTML file:</p>
<pre><code>&lt;button class=&quot;selectbutton selectedButton&quot; onclick=&quot;clique(0);&quot;&gt;&lt;/button&gt;
&lt;button class=&quot;selectbutton selectedButton&quot; onclick=&quot;clique(1); &quot;&gt;&lt;/button&gt;
&lt;button class=&quot;selectbutton selectedButton&quot;onclick=&quot;clique(2);&quot;&gt;&lt;/button&gt;

&lt;script type=&quot;module&quot; src=&quot;scripts/index.js&quot; &gt;&lt;/script&gt;
</code></pre>
<p>First js file:</p>
<pre><code>import {podcasts} from &quot;./podcasts.js&quot;;

function clique (valor) {
  index = valor;
  clearInterval(intervalId);
  intervalId = setInterval(() =&gt; {
    index = (index + 1) % images.length;
    sliderAction();
  }, 5000);
    sliderAction();
};

podcasts.forEach(podcast =&gt;
 { podcastsContainer.innerHTML += `
  &lt;pod class=&quot;podcastDiv&quot;&gt;
  &lt;img src=&quot;images/podcastsicons/sacocheioicon.jpg&quot; alt=&quot;&quot; class=&quot;podcastIcon&quot;&gt;
  &lt;article class=&quot;podcastInfo&quot;&gt;
    &lt;h1 class=&quot;podcastName&quot;&gt;${podcast.name}&lt;/h1&gt;
    &lt;p class=&quot;podcastDescription&quot;&gt; ${podcast.info}&lt;/p&gt;
    &lt;aside&gt;${podcast.subinfo}&lt;/aside&gt;
  &lt;/article&gt;
&lt;/pod&gt;  `});

</code></pre>
<p>console:
Uncaught ReferenceError: handleClick is not defined at HTMLButtonElement.onclick</p>
<p>I created another js file and it worked, I made some syntax fix but nothing changed.</p>
","2024-03-18 17:28:21","0","Question"
"78181869","78167637","","<p>There is no documented surefire way to get IntelliSense to display a type exactly the way you'd like it to.  There are various open feature requests to allow more user-configurable type display, such as <a href=""https://github.com/microsoft/TypeScript/issues/28508"" rel=""nofollow noreferrer"">microsoft/TypeScript#28508</a>, <a href=""https://github.com/microsoft/TypeScript/issues/31940"" rel=""nofollow noreferrer"">microsoft/TypeScript#31940</a>, and <a href=""https://github.com/microsoft/TypeScript/issues/45954"" rel=""nofollow noreferrer"">microsoft/TypeScript#45954</a>, but I don't see any indication that this is being worked on.</p>
<p>There are various tricks to try to influence this behavior, such as those described at <a href=""https://stackoverflow.com/q/57683303/2887218"">How can I see the full expanded contract of a Typescript type?</a>, but these only work in certain scenarios, and the ones from that issue don't work for your example.  The only way I know to figure out exactly <em>why</em> a particular type is displayed a particular way would be to walk through the compiler implementation. It's not something very well documented, and it changes from time to time. Technically it is the compiler's prerogative to display a type however it wants, as long as the displayed type is accurate.</p>
<p>For your example as given, I'd be inclined to write an inline <a href=""https://www.typescriptlang.org/docs/handbook/2/mapped-types.html"" rel=""nofollow noreferrer"">mapped type</a> to cause it to be eagerly evaluated for display:</p>
<pre><code>const func = (props: { [K in keyof Props]: Props[K] }) =&gt; { };
/*    ^? const func: (props: {
    a: number;
}) =&gt; void */
</code></pre>
<p>As you can see, that works. But it might not be &quot;robust&quot; enough, in light of the above information. For all I know, in the next version of TypeScript, the above type will be displayed as-is like <code>{ [K in keyof Props]: Props[K] }</code> instead of like <code>{a: number}</code>.  So this sort of thing is always going to be an art and not a science, at least until and unless one or more of the GitHub issues listed above are implemented.</p>
<p><a href=""https://www.typescriptlang.org/play?ts=5.4.2#code/C4TwDgpgBACgTgezAZygXigbwFBSgQwC4oA7AVwFsAjCOAbmwF9tsBjBE5YKAMzJNbooACjCIUxTFADaAaSgBLElADWEEAh6xxyALrF4SZHN1RGASnQA+LGYYB6e3jwA9APzYgA"" rel=""nofollow noreferrer"">Playground link to code</a></p>
","2024-03-18 17:05:08","1","Answer"
"78180727","","Calling ChaiScript function defined in another script file","<p>How to call a ChaiScript function defined in a script file (e.g. &quot;functions.chai&quot;)?</p>
<p>I have appended <code>use(&quot;functions.chai&quot;)</code> in the header of my calling script file but it did not work.</p>
<p>I would appreciate your help as I'm starting to have many functions within the same script which is not very convenient.</p>
","2024-03-18 13:56:15","1","Question"
"78179724","78178107","","<p>The code can work if you call a single function instead of calling functions within functions. Since I haven't written that many nested functions, it occurred to me that this might be the problem.</p>
","2024-03-18 11:04:12","0","Answer"
"78179515","78178078","","<p>Seems not possible. But you can get a caller's name and if the caller is accessible from the callee's scope you can eval the caller. Not sure if that's ok to use in production.</p>
<p>Anyway if you need a caller, pass it as an argument to a callee.<br />
If you need a caller for a logic (not debugging) that could be a symptom of using a bad design pattern.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>'use strict';
{
  function fnCaller(){
    fnCallee();
  }

  function fnCallee(){

    console.log(eval(callerName()));

  }

  fnCaller();
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script&gt;

function callerName(){
  try{
    throw new Error;
  }catch(e){
    return e.stack.split('\n')[3].match(/(?&lt;=^\s*at\s*)\S+/)[0];
  }
}

&lt;/script&gt;</code></pre>
</div>
</div>
</p>
","2024-03-18 10:29:34","0","Answer"
"78179174","78161937","","<p>You can use a subquery:</p>
<pre><code>SELECT * FROM
generate_series(0, 9) as tp
CROSS JOIN (
  select generate_series(1, maxSch)
  from (select max(sch) as maxSch from sometable) as _
) as _
</code></pre>
","2024-03-18 09:33:51","0","Answer"
"78178401","78178142","","<p>The error you get is because your completion handler only returns a type <code>Error?</code> from your <code> func createGroup(...)</code>,
and that, as the error says, does not have a <code>success</code>, it is either an <code>Error</code> or <code>nil</code>.</p>
<p>So try something like this:</p>
<pre><code>webService.createGroup(url: apiUrl, requestBody: requestBody) { error in
    if error == nil {
        print(&quot;Group created successfully:&quot;)
    } else {
        print(&quot;Error creating group:&quot;, error)
    }
}
</code></pre>
<p>Typically you would have completion with something like <code>... completion: @escaping (Result&lt;Data, Error?&gt;) -&gt; Void)</code>, but it's up to you what you want to do.</p>
","2024-03-18 06:52:45","0","Answer"
"78178392","78177948","","<p>First function:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>""use strict"";
function bmiCalculator(weight, height){
    return bmi = Math.round(weight / Math.pow(height, 2));
} 

const result = bmiCalculator(65, 1.8);
console.log(result)</code></pre>
</div>
</div>
</p>
<p>This one does the math to find the BMI, but it also does something else which can be confusing, especially for stricter rules in programming. So, it's like making a cake but also trying to wear your shoes at the same time, which might cause some problems.</p>
<p>Second function:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>""use strict"";
function bmiCalculator(weight, height){
    var bmi = Math.round(weight / Math.pow(height, 2));
    return bmi;
}

const result = bmiCalculator(65, 1.8);
console.log(result)</code></pre>
</div>
</div>
</p>
<p>This one is simpler. It calculates the BMI, puts it in a box (which is like the var bmi part), and then gives you the box with the BMI inside it. It's like making a cake, putting it in a box, and then giving you the box. This way is easier to understand and follow the rules.</p>
","2024-03-18 06:48:12","0","Answer"
"78178142","","Type '(any Error)?' has no member 'success'","<p>This is my create group function:</p>
<pre><code>  webService.createGroup(url: apiUrl, requestBody: requestBody) { result in
            switch result {
            case .success(let response):
                print(&quot;Group created successfully:&quot;, response)
                completion(.success(&quot;Group created successfully&quot;))
            case .failure(let error):
                print(&quot;Error creating group:&quot;, error)
                return
            }
        }
    }
</code></pre>
<pre><code> func createGroup(url: URL, requestBody: [String: Any], completion: @escaping (Error?) -&gt; Void) {
        var request = URLRequest(url: url)
        request.httpMethod = &quot;POST&quot;
        request.httpBody = try? JSONSerialization.data(withJSONObject: requestBody)
        request.addValue(&quot;application/json&quot;, forHTTPHeaderField: &quot;Content-Type&quot;)

        let task = URLSession.shared.dataTask(with: request) { data, response, error in
            do {
                if let error = error {
                    print(&quot;Error creating group: \(error)&quot;)
                    completion(error)
                    return
                }

                guard let httpResponse = response as? HTTPURLResponse else {
                    print(&quot;Error: No HTTP response&quot;)
                    completion(WebService.NetworkError.invalidResponse)
                    return
                }

                print(&quot;HTTP Response Status Code: \(httpResponse.statusCode)&quot;)

                guard (200...299).contains(httpResponse.statusCode) else {
                    print(&quot;Error: Unexpected HTTP response status code&quot;)
                    // Print response data for debugging purposes
                    if let data = data {
                        let responseString = String(data: data, encoding: .utf8) ?? &quot;Unable to convert data to string&quot;
                        print(&quot;HTTP Response Data: \(responseString)&quot;)
                    }
                    completion(WebService.NetworkError.invalidResponse)
                    return
                }

                completion(nil)
            } catch {
                print(&quot;Error in createGroup: \(error)&quot;)
                completion(error)
            }
        }

        task.resume()
    }
</code></pre>
<p>That was my web service function that I used to make the create group function in my grouplistviewmodel.</p>
<p>The error is: Type '(any Error)?' has no member 'success'</p>
<p>It is on line:</p>
<pre><code>case .success(let response): 
</code></pre>
<p>and</p>
<pre><code>case .failure(let error):
</code></pre>
<p>Any help is much appreciated thank you!</p>
","2024-03-18 05:39:12","0","Question"
"78178107","","Why will updateScore function in viewcontroller not call from gamescene","<p>So I'm trying to make it so an ad will pop up every time the score in game scene reaches a certain point in my game in Xcode using Swift but it's not calling the function that does that(updateViewScore), I don't know if I'm missing something to call the function from gamescene when the function itself is in viewcontroller. I'm new to this and it's my first time making a game so what am I doing wrong? I made the functions and code below and call updateViewScore in gamescene when the score increases but updateScore never gets called as the message isn't printed no matter how much the score increases.</p>
<pre><code>//in gamescene
score += 1  // Add this line to increase the score
updateViewScore()

func updateViewScore() {
       
viewController?.updateScore(score: 10)
        
}

//in viewcontroller
var gameScene: GameScene!
gameScene = GameScene(size: view.bounds.size)
gameScene.viewController = self

func updateScore(score: Int) {
    
print(&quot;updateScore was called with score: \(score)&quot;)
   
popUp(score)

}

@IBAction func popUp(_ sender: Any) {

if score % 10 == 0 {
    if interstitial != nil {
        interstitial?.present(fromRootViewController: self)
    } else {
        print(&quot;Ad wasn't ready&quot;)
    }
}
</code></pre>
<p>}</p>
","2024-03-18 05:26:19","0","Question"
"78178078","","How can I access function caller in strict mode at JavaScript","<p>I'm using</p>
<ul>
<li>React</li>
<li>tanstackQuery</li>
<li>axios</li>
</ul>
<p>I read that function <code>caller</code> is deprecated since ES5(not sure ES5). So I can't use it in strict mode. I don't think disabling strict mode is good idea. <strong>Is there any good alternative functions or properties which can be used in <code>strict mode</code>?</strong></p>
<p><a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Deprecated_caller_or_arguments_usage"" rel=""nofollow noreferrer"">Here</a> is a link that i read. There is no alternate in here.</p>
<p>Here is an error message when i try to use caller.</p>
<p><code>TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them</code></p>
<h6>By the way, this is the first question on stack overflow. I don't know about question rules. I'm glad to if you let me know.</h6>
<p>Thank you.</p>
<p>I try to see logs in strict mode.
I'd like to see where did it called from.
So i access function caller.
But i saw an error message.</p>
","2024-03-18 05:16:35","0","Question"
"78178071","78177948","","<p>The two functions are not equivalent (just looking at them standalone), and the first will break in strict-mode (that also includes within es modules and classes), see the error below:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>""use strict"";
function bmiCalculator(weight, height){
  return bmi = Math.round(weight / Math.pow(height, 2));
}

bmiCalculator(65, 1.8);</code></pre>
</div>
</div>
</p>
<p>That's because outside of strict-mode code, doing <code>return bmi =</code> will create a new <code>bmi</code> variable in the global scope and return the value you just assigned (ie: the value to the right-hand side of the <code>=</code>). This behaviour of creating <a href=""http://blog.niftysnippets.org/2008/03/horror-of-implicit-globals.html"" rel=""nofollow noreferrer"">&quot;implicit globals&quot;</a> can cause hard-to-debug bugs so it's not recommended and one of the reasons why strict-mode doesn't allow it.</p>
<p>Your second approach is the correct way to go. The <code>var bmi =</code> declares the variable <code>bmi</code> to be local to your <code>bmiCalculator()</code>. Now your function is no longer creating/updating an implicit global <code>bmi</code> variable. Instead, it's up to calling code of the function to decide what to do with it, whether that's to assign it to a global <code>bmi</code> variable, a local variable, or use it in some sort of expression. The main thing is, no implicit global variables are being created in your code anymore with this approach.</p>
","2024-03-18 05:13:59","2","Answer"
"78178015","78177948","","<p>Both approaches work fine, you can use either of any approaches, but 2nd is preferred in terms of readability and best practice.</p>
<pre><code>function bmiCalculator(weight, height) {
    let bmi = Math.round(weight / Math.pow(height, 2));
    return bmi;
}
</code></pre>
<p>Although, you must use <code>let</code> or <code>const</code> instead of <code>var</code>, benefits in scope control.</p>
","2024-03-18 04:57:28","0","Answer"
"78177955","78177948","","<p>The two functions are equivalent, and also equivalent to:</p>
<pre><code>function bmiCalculator(weight, height){
    return Math.round(weight / Math.pow(height, 2));
}
</code></pre>
<p>The <code>bmi</code> variable is not needed since you never refer to it after the <code>return</code> statement.</p>
<p>The console shows the same result in both cases because it automatically logs the return value of any expression you type.</p>
","2024-03-18 04:35:02","0","Answer"
"78177948","","What is the difference between these 2 JavaScript functions using return?","<p>So I'm learning JS, regarding functions and the use of return. Is there a functional difference between these 2 functions? They are both supposed to be BMI calculators. I've tested them out, and the first one works once you call the function and set a weight/height.</p>
<p>1.)</p>
<pre><code>function bmiCalculator(weight, height){
    return bmi = Math.round(weight / Math.pow(height, 2));
} 
</code></pre>
<p>2.)</p>
<pre><code>function bmiCalculator(weight, height){
    var bmi = Math.round(weight / Math.pow(height, 2));
    return bmi;
}
</code></pre>
<p>1.) works once I call function:</p>
<pre><code>bmiCalculator(65, 1.8);
</code></pre>
<p>shows 20 on console</p>
<p>2.) works once I code:</p>
<pre><code>var bmi = bmiCalculator(65, 1.8);
console.log(bmi);
</code></pre>
<p>shows 20 on console</p>
","2024-03-18 04:31:20","-1","Question"
"78176863","78176763","","<blockquote>
<p>C++ is built on the assumption that undefined behavior will never occur</p>
</blockquote>
<blockquote>
<p>There are no degrees of undefined behavior</p>
</blockquote>
<blockquote>
<p><code>noexcept</code> is about exceptions that <strong>your</strong> code throws, with <code>throw my_exception</code></p>
</blockquote>
<p>So, if a function never throws exceptions it is appropriate to put on <code>noexcept(true)</code> even if it can invoke <code>UB</code> under incorrect usage.</p>
<p>However... <em>(check commentaries)</em></p>
","2024-03-17 20:37:40","1","Answer"
"78176763","","Putting 'noexcept' on possible UB","<pre><code>struct A {
  int* a_ptr;
};

struct B {
  A* b_ptr;
};


struct C {  // iterator
  B* c_ptr;

  //...

  int&amp; f() noexcept(?) {  // provides some access if 'C' is valid
    return c_ptr-&gt;b_ptr-&gt;a_ptr;
  }
};
</code></pre>
<p>Imagine: <code>C</code> is some custom iterator, which is always valid until its container is deleted. Otherwise, calling <code>C::f</code> will result in <code>UB</code>. We trust the user that he will never try to create <code>C</code>, to delete its container and then to call <code>C::f</code> (we will warn him that it is a bad practice).</p>
<p>So, the question is whether <em>I can put <code>noexcept(true)</code> on <code>f</code></em> or <em>not</em> from the code-writing-ethics point of view? I am looking for some reasoning for any of the decisions.</p>
","2024-03-17 20:08:08","3","Question"
"78176368","78176350","","<p>It seems you need to assign strings as attributes:</p>
<pre><code>&lt;script&gt;
    function visible(a){
        document.getElementById(a).style.display = 'initial';
        document.getElementById('default').style.display = 'none';
    }
&lt;/script&gt;
</code></pre>
","2024-03-17 18:04:15","6","Answer"
"78176350","","Javascript to edit CSS Style","<p>I am having trouble getting my JavaScript code to change the CSS style of my article element. I have this in the opening tag for my article element:
'''</p>
<pre><code>&lt;img id=&quot;n1&quot; onmouseover=&quot;visible('c1')&quot; src=&quot;img/musicnote1.png&quot; alt=&quot;Music Note&quot;&gt;
</code></pre>
<p>'''
and then at the bottom of my body section I have my script tag:
'''</p>
<pre><code>&lt;script&gt;
    function visible(a){
        document.getElementById(a).style.display = initial;
        document.getElementById('default').style.display = none;
    }
&lt;/script&gt;
</code></pre>
<p>'''
I am trying to make the 'c1' article appear and the 'default' article disappear when the user hovers over the image. Neither of these actions are working</p>
","2024-03-17 17:59:14","-1","Question"
"78172246","78172189","","<p><code>#num</code> is contained in <code>#question</code>, and you are updating the whole <code>#question</code> innerHTML.</p>
<p>Solution, use <code>#ques</code>:</p>
<pre class=""lang-js prettyprint-override""><code>const q = document.querySelector(&quot;#ques&quot;);
</code></pre>
","2024-03-16 15:03:36","2","Answer"
"78172189","","innerHTML not showing up despite it being called","<p>This bug is actually pissing me off lol so i want to make a quiz game and each question will be updated based on the objects inside the question variable and everything is working but num.innerHTML = <code>${ques.id}</code> and i do not know why</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let score = 0
let i = 0

const prev = document.querySelector(""#prev"")
const next = document.querySelector(""#next"")

const num = document.querySelector(""#num"")
const q = document.querySelector(""#question"")

const ans1 = document.querySelector(""#ans1"")
const ans2 = document.querySelector(""#ans2"")
const ans3 = document.querySelector(""#ans3"")
const ans4 = document.querySelector(""#ans4"")

const questions = [{
    id: 1,
    q: ""What is the capital of Indonesia?"",
    a1: ""Jakarta"",
    a2: ""Bandung"",
    a3: ""Surabaya"",
    a4: ""Bali"",
    c: ""Jakarta""
  },
  {
    id: 2,
    q: ""Who won the 2017 NBA MVP Award?"",
    a1: ""Lebron James"",
    a2: ""Russell Westbrook"",
    a3: ""Kawhi Leonard"",
    a4: ""James Harden"",
    c: ""Russell Westbrook""
  }
]

function update(ques) {
  num.innerHTML = `${ques.id}`
  q.innerHTML = ques.q

  ans1.innerHTML = ques.a1
  ans2.innerHTML = ques.a2
  ans3.innerHTML = ques.a3
  ans4.innerHTML = ques.a4
}

update(questions[0])</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""container""&gt;
  &lt;div id=""question""&gt;
    &lt;div id=""num""&gt;1.&lt;/div&gt;
    &lt;div id=""ques""&gt;What is 10 x 10&lt;/div&gt;
  &lt;/div&gt;
  &lt;div id=""answers""&gt;
    &lt;div id=""ans1"" class=""button""&gt;100&lt;/div&gt;
    &lt;div id=""ans2"" class=""button""&gt;40&lt;/div&gt;
    &lt;div id=""ans3"" class=""button""&gt;25&lt;/div&gt;
    &lt;div id=""ans4"" class=""button""&gt;1&lt;/div&gt;
  &lt;/div&gt;
  &lt;div id=""toggle""&gt;
    &lt;div id=""prev""&gt;Prev&lt;/div&gt;
    &lt;div id=""next""&gt;Next&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-03-16 14:44:39","-1","Question"
"78171011","78170992","","<p>I think you have to do it the usual manner, with <code>=</code> operator.</p>
<pre><code>var sum = new Function('a = 1', 'b = 2', 'return a + b');

console.log(sum()); // Outputs: 3


console.log(sum(5, 7)); // Outputs: 12
</code></pre>
<p>This is from the <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function#parameters"" rel=""nofollow noreferrer"">docs</a>:</p>
<blockquote>
<p>As the parameters are parsed in the same way as function expressions, whitespace and comments are accepted. For example: &quot;x&quot;, &quot;theValue = 42&quot;, &quot;[a, b] /* numbers <em>/&quot; — or &quot;x, theValue = 42, [a, b] /</em> numbers */&quot;. (&quot;x, theValue = 42&quot;, &quot;[a, b]&quot; is also correct, though very confusing to read.)</p>
</blockquote>
","2024-03-16 07:58:19","1","Answer"
"78170992","","how to assign default value for arguments when using the new Function method","<p>how to assign default value for arguments when using the new Function method?</p>
<pre><code>let fileName = &quot;fileone.js&quot;, args = [], options = {};
let ls = new Function('fileName', 'args', 'options', 'somefunctionorValue', `....some...code...body...here`)
ls(fileName, args, options)
</code></pre>
<p>I want to assign the default value for <code>'someFunctionOrValue'</code> when the function I am creating is done: <code>new Function(....)</code>.</p>
","2024-03-16 07:53:52","0","Question"
"78170494","78167048","","<p>You're close but a bit of work needed here. For example let's break this down to show how you can switch up things like your on click to event listener.</p>
<pre class=""lang-js prettyprint-override""><code>// ... (your existing DOM elements code)

function addTask() {
  if (taskInput.value === '') {
    alert('Oh no... You have not written anything?');
  } else {
    // Create a paragraph to hold the task text
    let paragraph = document.createElement('p');
    paragraph.textContent = taskInput.value;

    // Create the checkbox 
    let checkbox = document.createElement('input');
    checkbox.type = 'checkbox';

    // Add the checkbox BEFORE the text within the paragraph
    paragraph.prepend(checkbox); 

    // Add the whole paragraph to the task list
    taskList.appendChild(paragraph);

    // Clear the input field
    taskInput.value = '';
  }
}
</code></pre>
<ul>
<li><strong><code>checkbox.type = 'checkbox'</code>:</strong> This line creates an input element and sets its type to &quot;checkbox,&quot; which is what creates the clickable box.</li>
<li><strong><code>paragraph.prepend(checkbox)</code>:</strong> This is key! We use <code>prepend</code> to insert the checkbox at the beginning of our paragraph, ensuring it appears before the task text.</li>
</ul>
<p>A minor change to the buttons too:</p>
<pre class=""lang-html prettyprint-override""><code>&lt;button id=&quot;addButton&quot; onclick=&quot;addTask()&quot;&gt;ADD&lt;/button&gt; 
</code></pre>
<p>To the more common:</p>
<pre class=""lang-html prettyprint-override""><code>&lt;button id=&quot;addButton&quot;&gt;ADD&lt;/button&gt; 
</code></pre>
<p>Note that we've removed the inline <code>onclick</code> and instead added the <code>addEventListener</code> in your JavaScript code earlier. These changes mean each new task will have a checkbox at the beginning of its line. And you can click the checkboxes to mark tasks as completed.</p>
","2024-03-16 03:14:06","0","Answer"
"78169606","78169454","","<p>With an iterator, inspired by Andrej:</p>
<pre class=""lang-py prettyprint-override""><code>import re

text = &quot;hello123 world456&quot;
text = re.sub(
    r&quot;\d+&quot;,
    lambda _, i=iter([&quot;:)&quot;]): next(i, &quot;&quot;),
    text
)
print(text)
</code></pre>
<p><a href=""https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3mzJzC_KLShSKUrm4SlIrShRsFZQyUnNy8g2NjBXK84tyUkxMzZRgUkWpesWlSRpcCkBQpBSToq2kA2bnJOYmpSQqxOsoZNpmlqQWaUQrWWkqxWpaKeQBNWpk6igoKWlClIJM4tLkKijKzCvRAHE0IS6BOgjmMAA"" rel=""nofollow noreferrer"">Attempt This Online!</a></p>
<p>Or using a dict for the state:</p>
<pre class=""lang-py prettyprint-override""><code>import re

text = &quot;hello123 world456&quot;
text = re.sub(
    r&quot;\d+&quot;,
    lambda m, d={0: &quot;:)&quot;}: d.pop(0, &quot;&quot;),
    text
)
print(text)
</code></pre>
<p><a href=""https://ato.pxeger.com/run?1=m72soLIkIz9vwYKlpSVpuhY3GzJzC_KLShSKUrm4SlIrShRsFZQyUnNy8g2NjBXK84tyUkxMzZRgUkWpesWlSRpcCkBQpBSToq2kA2bnJOYmpSQq5OoopNhWG1gpKFlpKtVaKaToFeQXaBjoKCgpaUIUgszh0uQqKMrMK9EAcTQh7oA6B-YsAA"" rel=""nofollow noreferrer"">Attempt This Online!</a></p>
<p>Or one like yours but with a closure:</p>
<pre class=""lang-py prettyprint-override""><code>import re

def repl():
    first_sub = True
    def repl(matchobj):
        nonlocal first_sub
        if first_sub:
            first_sub = False
            print(f&quot;Replacing '{matchobj.group()}' at {matchobj.start()} with ':)'&quot;)
            return &quot;:)&quot;
        else:
            print(f&quot;Deleting '{matchobj.group()}' at {matchobj.start()}&quot;)
            return &quot;&quot;
    return repl

text = &quot;hello123 world456&quot;
text = re.sub(r&quot;\d+&quot;, repl(), text)
print(text)
</code></pre>
<p><a href=""https://ato.pxeger.com/run?1=lZFLTsMwEIbF1qcYeZNYLZV4VSgSO8QBEEsk5CaTxsi1o8lYBSFOwqYbuAtX4DQ4zUtFsGA2tv9_xp898_ZRP3Pl3W73Hrg8vvw6-jSb2hMDoRAFlnGtbaoyATFKQw0_NGEFV3BHAffimLTRnFd-9dgnt-G8sz7XdqocLVNO4lTwk3KjbYMHbk3GcVrK24jUuXFrSF4G8mJNPtSpek1AM0xyw5o4yrA1XEGSqUSqg0sJOZADmSk56hjJ2a_oa7TI_yP_weto_altohCMTxw_Liu01p-cnsHWky3OL5ZysAgXsTkpyftiJuf9gObQukp0b9zvu4n2gx0G_A0"" rel=""nofollow noreferrer"">Attempt This Online!</a></p>
","2024-03-15 20:52:19","1","Answer"
"78169478","78169454","","<p>One possible approach is to use <code>itertools</code> for the task, for example:</p>
<pre class=""lang-py prettyprint-override""><code>import re
from itertools import chain, cycle

text = &quot;hello123 world456 world456 world456&quot;

to_sub = chain([&quot;:)&quot;], cycle([&quot;&quot;]))

text = re.sub(r&quot;\d+&quot;, lambda g: next(to_sub), text)
print(text)
</code></pre>
<p>Prints:</p>
<pre class=""lang-none prettyprint-override""><code>hello:) world world world
</code></pre>
<hr />
<p>OR: If you don't want to use global variable:</p>
<pre class=""lang-py prettyprint-override""><code>text = re.sub(r&quot;\d+&quot;, lambda _, i=chain([&quot;:)&quot;], cycle([&quot;&quot;])): next(i), text)
</code></pre>
<hr />
<p>EDIT: As @no_comment states in the comment, you can use also <code>itertools.repeat</code>:</p>
<pre class=""lang-py prettyprint-override""><code>chain(repeat(&quot;:)&quot;, 1), repeat(&quot;&quot;))
</code></pre>
","2024-03-15 20:19:50","1","Answer"
"78169454","","Best way to use re.sub with a different behavior when first called","<p>I'm trying to perform a number of replacements using <a href=""https://docs.python.org/3.8/library/re.html#re.sub"" rel=""nofollow noreferrer""><code>re.sub()</code></a>, except I want the first replacement to be different. One straightforward approach would be to run <code>re.sub()</code> twice with <code>count = 1</code> for the first call, but because <code>re.sub()</code> allows for the <code>repl</code> argument to be a function, we can do this in a single call:</p>
<pre><code>import re

def repl(matchobj):
    global first_sub
    if first_sub:
        first_sub = False
        print(f&quot;Replacing '{matchobj.group()}' at {matchobj.start()} with ':)'&quot;)
        return &quot;:)&quot;
    else:
        print(f&quot;Deleting '{matchobj.group()}' at {matchobj.start()}&quot;)
        return &quot;&quot;

text = &quot;hello123 world456&quot;
first_sub = True
text = re.sub(r&quot;\d+&quot;, repl, text)

# Output:
#   Replacing '123' at 5 with ':)'
#   Deleting '456' at 14
</code></pre>
<p>Unfortunately, this makes use of <code>global</code>, which isn't great. Is there a better way to do this?</p>
","2024-03-15 20:14:49","1","Question"
"78168814","78167613","","<p>Does it help if we rename some of the variables and slightly re-work how the recursion works?</p>
<pre><code>public static void main(String[] args) {    
    String str = &quot;abc&quot;;
    perm(str, &quot;&quot;);
} 

public static void perm(String strCharPool, String permutations) {
    for (int i = 0; i &lt; strCharPool.length(); i++) {
        char currChar = strCharPool.charAt(i);          
        String newStrWithoutCurrChar = strCharPool.substring(0, i) + strCharPool.substring(i + 1);
        String newPerm = permutations + currChar;
        if (newStrWithoutCurrChar.length() == 0) {
            System.out.println(newPerm);
        }
        else {
            perm(newStrWithoutCurrChar, newPerm);
        }          
    }
}
</code></pre>
","2024-03-15 17:51:18","0","Answer"
"78167711","78167613","","<p>Here's what you are missing:</p>
<pre><code>        String newStr = str.substring(0, i) + str.substring(i + 1);
</code></pre>
<p>This will skip the character in newStr at index i. The full string (which you sometimes want if you want to insert something at a point in a String) would be</p>
<pre><code>        String newStr = str.substring(0, i) + str.substring(i);
</code></pre>
<p>Read the definition of this function and try creating some test examples to clarify your understanding.</p>
","2024-03-15 14:39:12","0","Answer"
"78167637","","expanding parameter types in function signature without using generics","<p>What im trying to archive is better DX by expanding the types for parameters in a function signature, essentially i want the tooltip when hovering over the following function:</p>
<pre class=""lang-js prettyprint-override""><code>type Props = {
  a: number;
};

const func = (props: Props) =&gt; {};
</code></pre>
<p>to tell me this</p>
<pre class=""lang-js prettyprint-override""><code>const func: (props: {
    a: number;
}) =&gt; void
</code></pre>
<p>instead of the unexpanded type</p>
<pre class=""lang-js prettyprint-override""><code>const func: (props: Props) =&gt; void;
</code></pre>
<p>I cant inline the type in the signature because of the coding standards in the project im working on.</p>
<p>What i noticed by playing around with different functions and the <a href=""https://www.totaltypescript.com/concepts/the-prettify-helper"" rel=""nofollow noreferrer""><code>Prettify</code> helper (Matt Pocock)</a> is that using a generic function, all parameters that make use of the generic will get expanded, if the the prop type is fed into <code>Prettify</code> like this (notice the generic isnt actually used in props):</p>
<pre class=""lang-js prettyprint-override""><code>type Prettify&lt;T&gt; = {
  [K in keyof T]: T[K];
} &amp; {};

type PropsGeneric&lt;T&gt; = Prettify&lt;{
  a: number;
}&gt;;

const funcGeneric = &lt;T extends any&gt;(props: PropsGeneric&lt;T&gt;) =&gt; {};
</code></pre>
<p>this will expand props in the signature:</p>
<pre class=""lang-js prettyprint-override""><code>const funcGeneric: &lt;T extends unknown&gt;(props: {
    a: number;
}) =&gt; void
</code></pre>
<p>I also noticed that using any other combination, using function statements instead of arrow functions, leaving out <code>prettify</code>, not using the declared generic in the signature, will stop the props from expanding.</p>
<p>Is there a way to archive the expanded prop in the tooltip, without unneccessarily using generics in the function signature in TypeScript 5.4?</p>
<p>And if so, is there a more robust way that also works with function statements?</p>
<p><a href=""https://www.typescriptlang.org/play?#code/PTAEDMCcHsFtQBYBckAcDOAuEB3PA6JaJAQwBskBPVAU3QGNIBLVJfeuYDgO3ptfTAkCGgFpUkGiibhKokWVqQAUFVqgACpOmyAPABUAfKAC8oAN7LQoANoBpUE26gA1jUrRwofQF1M3%20x8AbmUAX1AAMgtQkOVlEABiJOSU1LT0jMystLi1Gk0YDFMLK1ASf24AV1gAIxpIEJi4kC1oVFAAE2huJFAAcylQGgAPVBJuDpoO5R50XvBK3mKACgk2rAL1gEpTY3Mm60PrEAA9AH5QXOp81owAcRpueqZ6A2MzLSkkGUpdS2tyqAqrV6o1DLEWoV0KAcEwyGR%20oMRmMJlMZt05hBFvQHk9mPRigYhsMkI8OtDxpRDKsof5buhcc9XkYdiY9gcjsdgOdLkA"" rel=""nofollow noreferrer"">Playground</a></p>
","2024-03-15 14:26:14","1","Question"
"78167613","","Problem with base condition of a recursion problem in Java","<p>in the following code I am unable to understand why is the base condition like that. I don't see &quot;str&quot; getting updated anywhere yet its length becomes &quot;0&quot;.</p>
<p>the code:</p>
<pre class=""lang-java prettyprint-override""><code>public class permutations_recursion {
    
    public static void perm(String str, String permutaions) {
        if (str.length() == 0) {
            System.out.println(permutaions);
            return;
        }

        for (int i = 0; i &lt; str.length(); i++) {
            char currChar = str.charAt(i);
            String newStr = str.substring(0, i) + str.substring(i + 1);
            perm(newStr, permutaions + currChar);
        }
    }

    public static void main(String args[]) {
        String str = &quot;abc&quot;;
        String permutations = &quot;&quot;;
        perm(str, permutations);
    }
}
</code></pre>
<p>I tried asking chatGPT but it isn't quite helpful. Need an expert's help.</p>
","2024-03-15 14:22:42","1","Question"
"78167302","78165546","","<p>Instead of a normal zeros array I used this:</p>
<pre><code>array = np.zeros_like(matrix, dtype=object)
</code></pre>
<p>I just to had define that the zeros array takes <code>object</code> since the function produces an object.</p>
","2024-03-15 13:34:36","0","Answer"
"78167091","78167048","","<ol>
<li>The button should have a <code>onClick</code> handler, not a <code>click</code>
<ul>
<li>Even better is to use <code>element.addEventListener('click')</code> instead</li>
</ul>
</li>
<li>Use the same <code>document.createElement</code> to make an <code>input</code> which you can <code>appendChild</code> on the <code>paragraph</code></li>
</ol>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// ! DOM ELEMENTS
const taskInput = document.getElementById('taskInput');
const taskList = document.getElementById('taskList');
const addButton = document.getElementById('addButton');

// ! EVENT LISTENERS
addButton.addEventListener('click', addTask);

// ! ADD TASK
function addTask(e) {
    if (taskInput.value === '') {
        alert('Oh no... You have not written anything?');
    } else {
        let paragraph = document.createElement('p');
        paragraph.textContent = taskInput.value;
        
        let checkbox = document.createElement('input');
        checkbox.type = 'checkbox'
        paragraph.appendChild(checkbox);
        
        taskList.appendChild(paragraph);
    }

    taskInput.value = '';
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""container""&gt;
    &lt;h1&gt;TO DO LIST&lt;/h1&gt;

    &lt;input type=""text"" id=""taskInput"" placeholder=""ENTER TASK HERE!""&gt;

    &lt;button id=""addButton""&gt;ADD&lt;/button&gt;

    &lt;div id=""taskList""&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-03-15 12:56:58","0","Answer"
"78167048","","How do I append an input element with an attribute of checkbox?","<p>I am new to JavaScript and attempting to create a to-do list. How can I append an input with a checkbox attribute to my code so that paragraphs can be checked off once completed?</p>
<p>Here is my code below:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// ! DOM ELEMENTS

const taskInput = document.getElementById('taskInput');
const taskList = document.getElementById('taskList');


// ! ADD TASK

function addTask() {
  if (taskInput.value === '') {
    alert('Oh no... You have not written anything?');
  } else {
    let paragraph = document.createElement('p');
    paragraph.textContent = taskInput.value;
    taskList.appendChild(paragraph);
    saveTasks();
  }

  taskInput.value = '';
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""container""&gt;
  &lt;h1&gt;TO DO LIST&lt;/h1&gt;

  &lt;input type=""text"" id=""taskInput"" placeholder=""ENTER TASK HERE!""&gt;

  &lt;button id=""addButton"" click=""addTask()""&gt;ADD&lt;/button&gt;

  &lt;div id=""taskList""&gt;
  &lt;/div&gt;

  &lt;p&gt; lorem 10&lt;/p&gt;

&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-03-15 12:49:39","3","Question"
"78165600","78165546","","<p>If you want to store a function itself (a callable thing) in an array, you should use a python list rather than a numpy's ndarray (where the later can only store primitive int or float or string value).<br />
In your case, you want to store function and its arguments, so you can do something like that:</p>
<pre class=""lang-py prettyprint-override""><code>
matrix_dict = {
    10: {&quot;multi&quot;: &quot;69&quot;},
    20: {&quot;multi&quot;: &quot;59&quot;}, 
    30: {&quot;multi&quot;: &quot;49&quot;}
}

array = []  # note here
for i in range(len(matrix)):
    array_row = []  # note here
    for j in range(len(matrix[i])):
        if matrix[i,j] == &quot;10&quot;:
            if matrix[i,j] in matrix_dict.keys():
                matrix_params = matrix_dict[matrix[i,j]]
                array_row.append((sk.HeatedSolid, {&quot;x&quot;:X_position[i][j],
                                                &quot;y&quot;:Y_position[i][j],
                                                &quot;symtype&quot;: 1,
                                                &quot;mult&quot;:rod_params(&quot;multi&quot;),
                                                &quot;power&quot;:1}))  # note here, append a tuple of function and its args
    array.append(array_row)  # note here

# when you want to call it later
for arr in array:
    for (func, kwargs) in arr:
        func(**kwargs)
</code></pre>
","2024-03-15 08:39:33","0","Answer"
"78165546","","How can I store a function in an array in python?","<p>I am trying to to store a function in an array and store that array in a dictionary so I can later call values from that array through the dictionary.</p>
<p>I created a zeros array and created a loop that will store the function in the array as the loop goes on. Every cell in zeros array should contain the function but with different arguments depending on the loop.</p>
<p>I tried this:</p>
<p>Note, in the code, the function is &quot;HeatedSolid&quot; from a python package called SubKit which I imported as &quot;sk&quot;</p>
<p>Also note that the function does not produce an integer or float or any number its just a function that produces an argument that I will process using a different code.</p>
<p>Example:
if you pass arguments to the function,</p>
<p>sk.HeatedSolid(I put random put arguments here) returns the following argument:
&lt;SubKit.build.Solid.HeatedSolid object at 0x2b407581b250&gt;</p>
<pre><code>matrix = some array

X_position = some array
Y_position = some array

matrix_dict = {
    10: {&quot;multi&quot;: &quot;69&quot;},
    20: {&quot;multi&quot;: &quot;59&quot;}, 
    30: {&quot;multi&quot;: &quot;49&quot;}
}
array = np.zeros((10, 10))

for i in range(len(matrix)):
    for j in range(len(matrix[i])):
        if matrix[i,j] == &quot;10&quot;:
            if matrix[i,j] in matrix_dict.keys():
                matrix_params = matrix_dict[matrix[i,j]]
                array[i][j]= sk.HeatedSolid(x=X_position[i][j],
                                            y=Y_position[i][j],
                                            symtype= 1,
                                            mult=rod_params(&quot;multi&quot;),
                                            power=1)
print(array)
</code></pre>
<p>When I print the array its just a zeros array and the function is not store in the array</p>
","2024-03-15 08:27:13","0","Question"
"78165507","78164292","","<p>The reason the OP doesn't output anything is because there's no code that would do that (except for the input validation and possible ValueError).</p>
<p>You need to arrange for <em>number_sequence()</em> to return something and then print that.</p>
<p>The calculation in <em>number_sequence()</em> can easily be written as a &quot;one-liner&quot; but that can make things hard to read, understand and maintain. Better to break the steps one by one.</p>
<p>There's a point in the calculation where you raise a value to the power of 3 then immediately take its square root. To achieve that, just raise to the power of 1.5.</p>
<pre><code>def number_sequence(startVal, maxVal):
    sequence = [startVal]

    while (j := sequence[-1]) &lt;= maxVal:
        j += 4
        j **= 1.5
        j += 5.125936194710044
        sequence.append(round(j, 3))

    return sequence

if __name__ == &quot;__main__&quot;:
    while True:
        startVal = input('Enter the starting value: ')
        maxVal = input('Enter the maximum value: ')
        try:
            startVal = float(startVal)
            maxVal = float(maxVal)
            print(number_sequence(startVal, maxVal))
            break
        except ValueError as e:
            print(e)
    
</code></pre>
","2024-03-15 08:19:54","0","Answer"
"78165232","78165136","","<p>You should have to place the condition inside the function getting the ordinates.</p>
<p>Since <code>const</code> and <code>let</code> are block scoped, you cannot use outside the function.</p>
<pre><code>if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(function(position) {
    const latitude = position.coords.latitude;
    const longitude = position.coords.longitude;
    console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);

    if(isPointInPoly([ latitude, longitude ], polygone) === true) {
      $(&quot;#output&quot;).html('Yup');
    } else {
      $(&quot;#output&quot;).html('Nope');
    }

  });
} else {
  console.log(&quot;Geolocation is not supported by this browser.&quot;);
}
</code></pre>
","2024-03-15 07:19:18","1","Answer"
"78165136","","How can I ensure that my code properly handles the asynchronous nature of the Geolocation API callback in JavaScript?","<p>I am trying to get the end users location and if they are within a service area (poly) let them know.  I have managed to get everything functional except the conditional for the output.</p>
<p>I am grabbing geolocation with the following:</p>
<pre><code>if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(function(position) {
    const latitude = position.coords.latitude;
    const longitude = position.coords.longitude;
    console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);
  });
} else {
  console.log(&quot;Geolocation is not supported by this browser.&quot;);
}
</code></pre>
<p>My poly detection is:</p>
<pre><code>polygone=   [
    [43.163834,-84.134153],
    [43.163834,-83.420042],
]

function isPointInPoly(point, vs) {
    var x = point[0], y = point[1];
    var inside = false;
    for (var i = 0, j = vs.length - 1; i &lt; vs.length; j = i++) {
        var xi = vs[i][0], yi = vs[i][1];
        var xj = vs[j][0], yj = vs[j][1];
        var intersect = ((yi &gt; y) != (yj &gt; y))
            &amp;&amp; (x &lt; (xj - xi) * (y - yi) / (yj - yi) + xi);
        if (intersect) inside = !inside;
    }

    return inside;
};
</code></pre>
<p>What I have tried:</p>
<pre><code>if(isPointInPoly([ $latitude, $longitude ], polygone) === true) {
    $(&quot;#output&quot;).html('Yup');
} else {
    $(&quot;#output&quot;).html('Nope');
}
</code></pre>
<p>I'm not sure if I'm going about this correctly, but I have looked up 'using const in conditionals' and a few other term, to no avail.</p>
<p>I set up a <a href=""https://jsfiddle.net/kybohpj9/2"" rel=""nofollow noreferrer"">fiddle here</a> as well.</p>
<p>In the end I would just like to show a message to users in the area, and another to users outside the area.</p>
","2024-03-15 06:57:11","0","Question"
"78165036","78162811","","<p>One option would be to use <code>stage</code> to map <code>X</code> on <code>fill</code> and do an <em>after_stat</em> calculation to set the <code>fill</code> to <code>NA</code> for columns you want to white out. Additionally, we have to set the color assigned to <code>NA</code> via <code>na.value</code> and if desired/needed drop the <code>NA</code> values from the legend using <code>breaks=</code>. Finally, note that I use <code>ave</code> to compute the percentage share and use a helper function for the computation.</p>
<pre class=""lang-r prettyprint-override""><code>library(tidyverse)

my_function &lt;- function(data = DATA, x = X, cols = vars(Year)) {
  
  helper &lt;- \(count, PANEL) ave(count, PANEL, FUN = \(x) x / sum(x))
  
  ggplot(data) +
    aes(
      x = !!ensym(x),
      y = after_stat(helper(count, PANEL)),
      fill = stage(X,
        after_stat =
          if_else(
            helper(count, PANEL) &lt; .05 |
              helper(count, PANEL) &gt; .95,
            NA,
            fill
          )
      )
    ) +
    geom_bar() +
    scale_fill_discrete(
      breaks = \(x) x[!is.na(x)],
      na.value = &quot;white&quot;
    ) +
    facet_grid(cols = cols) +
    theme(legend.title = element_blank())
}

my_function()
</code></pre>
<p><img src=""https://i.imgur.com/6J1Fczw.png"" alt="""" /></p>
","2024-03-15 06:33:43","1","Answer"
"78164448","78164428","","<blockquote>
<p>At line 56, the error where primary expression is expected before '.' token keeps popping up. Is there a way to fix this problem?</p>
</blockquote>
<p>Line 56 is this:</p>
<blockquote>
<pre><code>    if (pw == Account.password){
</code></pre>
</blockquote>
<p><code>Account</code> is the name of a <em>type</em>, and <code>password</code> is an <em>instance</em> field of that type.  Therefore <code>Account.password</code> does not identify an object that you can compare to <code>pw</code>.  Presumably, you want to compare to the <code>password</code> member of some existing <code>Account</code> instance, but it's not clear which one.  Even your <code>createAccount()</code> function does not provide an <code>Account</code> instance that survives completion of that function.</p>
","2024-03-15 03:01:46","1","Answer"
"78164428","","Does anyone know how to fix ""[Error] expected primary-expression before '.' token"" problem?","<p>This is the code that I made.</p>
<pre><code>#include &lt;iostream&gt;
#include&lt;bits/stdc++.h&gt;

using namespace std;

struct Account {
  string username;
  string password;
};

struct Schedule{
    char place[100];
    char time[100];
};

bool validatePassword(const string&amp; password) {
  const regex pattern(&quot;^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*?&amp;])[A-Za-z\\d@$!%*?&amp;]{8,}$&quot;);
  return regex_match(password, pattern);
}

void createAccount() {
  Account newAccount;
  string password;

  // Get user input for username
  cout &lt;&lt; &quot;Enter Username: &quot;;
  getline(cin, newAccount.username);

  do {
    // Get user input for password with validation
    cout &lt;&lt; &quot;Enter Password (minimum 8 characters with at least 1 number and 1 special symbol): &quot;;
    getline(cin, password);
  } while (!validatePassword(password));

  newAccount.password = password;

  // Open file for writing account in append mode
  ofstream outfile(&quot;accounts.txt&quot;, ios::app);

  if (outfile.is_open()) {
    outfile &lt;&lt; newAccount.username &lt;&lt; endl;
    outfile &lt;&lt; newAccount.password &lt;&lt; endl;
    outfile.close();
    cout &lt;&lt; &quot;Account created successfully!&quot; &lt;&lt; endl;
  } else {
    cerr &lt;&lt; &quot;Error opening file for account storage!&quot; &lt;&lt; endl;
  }
}

void Tickets(){
    int ticket, pw;
    
    reset:
    cout &lt;&lt; &quot;Enter your Password: &quot;;
    cin &gt;&gt; pw;
    if (pw == Account.password){
        cout &lt;&lt; &quot;How many tickets will you order?: &quot;;
        cin &gt;&gt; ticket;
        
        cout &lt;&lt; &quot;Thank you for ordering!&quot;&lt;&lt;endl;
    }
    else {
        cout &lt;&lt; &quot;Invalid Password. Try Again!&quot; &lt;&lt; endl;
        goto reset;
        system (&quot;pause&quot;);
    }
}

void Book(){
    Schedule location[100] ={   
        {&quot;San Mateo&quot;, &quot;5:00&quot;},
        {&quot;Sta. Lucia&quot;, &quot;5:30&quot;},
        {&quot;Santolan&quot;, &quot;5:35&quot;},
        {&quot;Cubao&quot;, &quot;4:00&quot;},
        {&quot;Philcoa&quot;, &quot;4:30&quot;},
    };
    
    for(int i = 0; i &lt; 6; i++){
        cout &lt;&lt; location[i].place &lt;&lt; endl;
    }
}
int main(){
    int choice;
    
    do{
        cout &lt;&lt; &quot;=== MKD Bus Ticket System ===&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;1. Create Account&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;2. Order Ticket&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;3. Book Schedule&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;4. View Schedule&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;5. Display Account&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;6. EXit&quot; &lt;&lt; endl;
        
        cin &gt;&gt; choice;
        cin.ignore();
        
        switch (choice){
        case 1:
            cout &lt;&lt; &quot;Account Creation screen&quot; &lt;&lt; endl;
            createAccount ();
            break;
        case 2:
            cout &lt;&lt; &quot;Order Tickets&quot; &lt;&lt; endl;
            Tickets ();
            break;
        case 3:
            cout &lt;&lt; &quot;Booking&quot; &lt;&lt; endl;
            Book ();
            break;
        case 4:
            cout &lt;&lt; &quot;Schedule Viewer&quot; &lt;&lt; endl;
            break;
        case 5:
            cout &lt;&lt; &quot;Account Information&quot; &lt;&lt; endl;
            break;
        case 6:
            cout &lt;&lt; &quot;Exit&quot; &lt;&lt; endl;
            break;

        }
    }while (choice != 6);
}
</code></pre>
<p>Its not complete yet, but I want to point something out that is bugging me. At line 56, the error where primary expression is expected before '.' token keeps popping up. Is there a way to fix this problem?</p>
<p>I tried adding newAccount in the Tickets() function. but it wasn't working. I expected it to work but it didn't fixed the error.</p>
","2024-03-15 02:51:55","-2","Question"
"78164418","78164292","","<p>I had to import math to get the code to work in my python.
and 5 and 300 were random values I chose.
<em><strong><strong>Hujaakbar code is solid</strong></strong></em>____</p>
<pre><code>import math

def number_sequence(startVal, maxVal):
    j = startVal
    sequence = [startVal]
    while j &lt;= maxVal:
        i = (math.sqrt((j + 4) ** 3)) + 5.125936194710044
        i = round(i, 3)   
        if j &lt;= maxVal:
            sequence.append(i)
        j = i
    return sequence


print(number_sequence(5,300))
</code></pre>
","2024-03-15 02:46:07","0","Answer"
"78164330","78164292","","<p>You need to define the <code>number_sequence</code> function before the while loop
and you need to call the function. Your code is not calling.</p>
<p>Try below code:</p>
<pre class=""lang-py prettyprint-override""><code>import math 
def number_sequence(startVal, maxVal):
    j = startVal
    sequence = []
    while j &lt;= maxVal:
        i = (math.sqrt((j + 4) ** 3)) + 5.125936194710044
        i = round(i, 3)
        if j &lt;= maxVal:
            sequence.append(i)
        j = i
    return sequence


while True: 
    startVal = (input('Enter the starting value: ')) 
    maxVal = (input('Enter the maximum value:')) 
    try: 
        startVal = float(startVal) 
        maxVal = float(maxVal) 
    except ValueError: 
        print('False') 
    # when ValueError occurs, if you want to prompt user again
    # use continue instead of break
        break #continue

    retuned_sequence = number_sequence(startVal, maxVal)
    print(retuned_sequence)
    break
</code></pre>
","2024-03-15 02:09:31","0","Answer"
"78164292","","How to make this function with parameters that are variables return a list?","<p>I edited this since someone helped me with the main issue, but for some reason I can't get this thing to print me out the list of the sequence, and I can't figure out why, but I think my validation might be wrong.</p>
<pre><code>import math

while True:
    startVal = (input('Enter the starting value: '))
    maxVal = (input('Enter the maximum value:'))
    try:
        startVal = float(startVal)
        maxVal = float(maxVal)
        break
    except ValueError:
        print('False')

def number_sequence(startVal, maxVal):
    j = startVal
    sequence = [startVal]

    while j &lt;= maxVal:
        i = (math.sqrt((j + 4) ** 3)) + 5.125936194710044
        i = round(i, 3)   
        if j &lt;= maxVal:
            sequence.append(i)
        j = i
    return sequence
</code></pre>
","2024-03-15 01:56:01","0","Question"
"78164164","78164151","","<p>There is no implicit cast from <code>int4</code> → <code>int2</code> (for good reasons).  So you must pass an actual <code>int2</code> (<code>int2 '1'</code>) or an untyped string literal  (<code>'1'</code>). Detailed assessment and more options:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/24751372/error-function-does-not-exist-and-hint-no-function-matches-the-given-name/24771122#24771122"">ERROR: function ... does not exist and HINT: No function matches the given name and argument types</a></li>
</ul>
<p>More problems:</p>
<p><code>smallserial</code> is not an actual data type. You must use <code>int2</code> (a.k.a. <code>smallint</code>) in <code>RETURNS TABLE</code>. See:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/69873070/data-type-smallserial-in-postgres-not-highlighted-in-visual-studio-code/69873573#69873573"">Data type &quot;smallserial&quot; in Postgres not highlighted in Visual Studio Code</a></li>
</ul>
<p>Don't use <code>SELECT *</code> when the function returns a list of columns. Use a matching <code>SELECT</code> list.</p>
<p>Use a table alias and table-qualify all column names that might conflict with <code>OUT</code> parameters. (All columns listed in <code>RETURNS TABLE</code> are <code>OUT</code> parameters effectively.)</p>
<p>This would work:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE OR REPLACE FUNCTION schema_name.function_name(input_user_id int2)
  RETURNS TABLE (
         column_1 int2  -- makes no sense: smallserial
       , column_2 varchar
       , column_3 timestamptz
       , column_4 varchar
       , column_5 int2
   )
LANGUAGE plpgsql AS
$func$
BEGIN
   RETURN QUERY
   SELECT t.column_1, t.column_2, t.column_3, t.column_4, t.column_5 
   FROM   schema_name.table_name t
   WHERE  t.column_5 = input_user_id;
END
$func$;
</code></pre>
<p>Call:</p>
<pre><code>SELECT * FROM schema_name.function_name('1');
</code></pre>
<p>If you truly want to return the whole row as defined by <code>schema_name.table_name</code>, use <code>RETURNS SETOF schema_name.table_name</code> instead. <em>Now</em> it's ok to use <code>SELECT *</code> in the function body. Also, fewer naming collisions:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE OR REPLACE FUNCTION schema_name.function_name(input_user_id int2)
  RETURNS SETOF schema_name.table_name
  LANGUAGE sql AS
$func$
SELECT *
FROM   schema_name.table_name
WHERE  column_5 = input_user_id;
$func$;
</code></pre>
<p>Also demonstrating a simpler SQL function, which does the simple job.</p>
","2024-03-15 00:55:14","3","Answer"
"78164151","","How to pass int2 parameter to a stored function?","<p>I have the following function stored in a Postgres 15 database.<br />
I use dbeaver to connect to the database.</p>
<pre><code>CREATE OR REPLACE FUNCTION schema_name.function_name(
    in input_user_id int2
)
RETURNS TABLE(
    column_1 smallint,
    column_2 character varying,
    column_3 character varying,
    column_4 timestamp with time zone,
    column_5 timestamp with time zone,
    column_6 character varying,
    column_7 int2,
    column_8 int2
)
LANGUAGE plpgsql
AS $function$
begin
    return query
    select * 
    from schema_name.table_name
    where table_name.column_5 = input_user_id;
end;
$function$
;
</code></pre>
<p>If I run the query part directly on dbeaver, I get the expected results:</p>
<pre><code>select * from schema_name.table_name where column_5 = 1;
</code></pre>
<p>If I run the function I get errors:</p>
<pre><code>select * from schema_name.function_name(1);
</code></pre>
<blockquote>
<pre><code>SQL Error [42883]: ERROR: function schema_name.function_name(integer) does not exist
Hint: No function matches the given name and argument types. You might need to add explicit type casts.
Position: 15
</code></pre>
</blockquote>
<p>All of these get me a different error:</p>
<pre><code>select * from schema_name.function_name(int2 '1');
select * from schema_name.function_name(1::int2);
select * from schema_name.function_name(1::smallint);
</code></pre>
<blockquote>
<pre><code>SQL Error [42804]: ERROR: structure of query does not match function result type
Detail: Returned type text does not match expected type smallint in column 7.
Where: SQL statement &quot;select * 
  from schema_name.table_name
  where table_name.column_5 = input_user_id&quot;
PL/pgSQL function schema_name.function_name(smallint) line 3 at RETURN QUERY
</code></pre>
</blockquote>
<p>I also typecasted to integer and got another error.</p>
<p>What am I doing wrong?</p>
<p>Note, I added the full list of columns since the error mentions the specific columns, but I didn't edited the error messages.</p>
","2024-03-15 00:49:41","1","Question"
"78163964","78163923","","<p>It dawned on me upon looking closely that for all rows where the SECOND function returns the wrong answer, they are all the correct SECOND value +1. Looking at the milliseconds in the source column, I realized that they are all 500ms or more 'past the second'...therefore, the SECOND function must be ROUNDING.</p>
<p>The ONLY indication of this is nothing more than implied here:
<a href=""https://wiki.documentfoundation.org/Documentation/Calc_Functions/SECOND"" rel=""nofollow noreferrer"">enter link description here</a></p>
<p>where is says:</p>
<p><a href=""https://i.sstatic.net/HQMxZ.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/HQMxZ.png"" alt=""enter image description here"" /></a></p>
<p>That is the <em><strong>only</strong></em> use of the word &quot;<strong>ROUND</strong>&quot; on the entire page.</p>
<p>The formula to workaround this behaviour (<em>which is not a bug, it is just obtuse</em>) is:</p>
<p><code>=SECOND(INT(A2*86400)/86400)</code></p>
<p>which truncates the milliseconds off the source, or</p>
<p><code>=TEXT(SECOND(INT(A2*86400)/86400),&quot;00&quot;)</code></p>
<p>if you want it formatted as a double digit.</p>
<p>The table now correctly extracts the '<em><strong>CURRENT</strong> SECOND</em>' of the timestamp in question, instead of the '<em><strong>NEAREST</strong> SECOND</em>':</p>
<p><a href=""https://i.sstatic.net/ctmLd.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ctmLd.png"" alt=""enter image description here"" /></a></p>
","2024-03-14 23:24:59","0","Answer"
"78163949","78163888","","<p>The issue you're facing is because of scoping. You need to ensure that welcomeMessage is accessible from the global scope so that your inline onclick handler can invoke it. One way to do this is by explicitly assigning the function to a property of the global window object. This makes the function accessible as a global variable, which allows it to be called from inline event handlers.</p>
<p>To fix this, here's the updated code:</p>
<p>In index.html</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button&gt;click me&lt;/button&gt;
    &lt;div&gt;&lt;/div&gt;
    &lt;script type=&quot;module&quot; src=&quot;script.mjs&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>In script.mjs</p>
<pre><code>window.welcomeMessage = function() {
    console.log(&quot;Hello World!&quot;);
}

const buttonUser = document.querySelector(&quot;button&quot;);
const divUser = document.querySelector(&quot;div&quot;);

buttonUser.addEventListener(&quot;click&quot;, () =&gt; {
    divUser.innerHTML = `
        &lt;h1&gt; welcome to the page &lt;/h1&gt; 
        &lt;button onclick=&quot;welcomeMessage()&quot;&gt; click me 2 &lt;/button&gt;
    `;
});

const buttonUser = document.querySelector(&quot;button&quot;);
const divUser = document.querySelector(&quot;div&quot;);

buttonUser.addEventListener(&quot;click&quot;, () =&gt; {
    divUser.innerHTML = `
        &lt;h1&gt; welcome to the page &lt;/h1&gt; 
        &lt;button onclick=&quot;welcomeMessage()&quot;&gt; click me 2 &lt;/button&gt;
    `;
});
</code></pre>
","2024-03-14 23:19:39","-1","Answer"
"78163937","78163923","","<p>You'll notice that all the &quot;wrong&quot; values of seconds actually come from a value with a fractional element that is greater than (or possibly greater than or equal to) <code>0.5</code>. For example, <code>2.577</code>, <code>5.752</code>, <code>8.754</code>, and so on.</p>
<p>Hence it's almost certainly rounding these numbers to the nearest integer.</p>
<p>From <a href=""https://wiki.documentfoundation.org/Documentation/Calc_Functions/SECOND"" rel=""nofollow noreferrer"">some documentation found online</a>, it states the formula used is <code>SECOND = ROUND(MinuteFraction * 60)</code> so I would assume, if you need it truncated rather than rounded, you could use the formula:</p>
<pre><code>=TRUNC(MinuteFraction * 60)
</code></pre>
<p>To calcucate <code>MinuteFraction</code> (as per that linked page):</p>
<pre><code>DayFraction = DateTime – INT(DateTime)
HourFraction = (DayFraction * 24) - INT(DayFraction * 24)
MinuteFraction = (HourFraction * 60) - INT(HourFraction * 60)
</code></pre>
","2024-03-14 23:17:11","1","Answer"
"78163923","","LibreOffice Calc SECOND function returning wrong value - why?","<p>I have a table with a timestamp column (column <code>A</code>) that contains the timestamp <em>with <strong>millisecond</strong> resolution</em>.</p>
<p><strong>Example:</strong></p>
<p><a href=""https://i.sstatic.net/OfGg3.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/OfGg3.png"" alt=""enter image description here"" /></a></p>
<p>I have separate columns for extracting different time 'components' (year, month, date, etc.), but the seconds column (<code>SS</code>) is giving the wrong value for the rows highlighted in red.</p>
<p>The formula for column <code>SS</code> is simply: <code>=SECOND([timestamp_column])</code>, for example in row 2, it is <code>=SECOND(A2)</code></p>
<p>Why is it giving the wrong value for some rows?</p>
","2024-03-14 23:11:50","0","Question"
"78163888","","I found a strange behavior in JS. How to stop this behavior","<p>let's start with two files index.html and script.js</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button&gt;click me&lt;/button&gt;
    &lt;div&gt;&lt;/div&gt;
    &lt;script src=&quot;script.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code>const buttonUser = document.querySelector(&quot;button&quot;);
const divUser = document.querySelector(&quot;div&quot;);

buttonUser.addEventListener(&quot;click&quot;, () =&gt; {
    divUser.innerHTML = `
        &lt;h1&gt; welcome to the page &lt;/h1&gt; 
        &lt;button onclick=&quot;welcomeMassage()&quot;&gt; click me 2 &lt;button&gt;
    `
})

function welcomeMassage() {
    console.log(&quot;Hello World!&quot;);
}
</code></pre>
<p>if i clicked in the first button the addEventListener work and adding h1 and second button two divUser adn if i click on the second one it's also work and console.log(&quot;Hello world&quot;) but :::::::</p>
<p>if change the javascript file  two script.mjs and index.js</p>
<pre><code>    &lt;script type=&quot;module&quot; src=&quot;script.mjs&quot;&gt;&lt;/script&gt;
</code></pre>
<p>When I click on the first button, the addEventListener works, but when I click on the second button, it does not work and shows up in the console. The welcomeMassage function is not defined, and I can't access it from the console. So why has this happened, and how can I prevent this behavior?</p>
<p>i want when use scritp.mjs file and  i click in the button not show in console functionNamve not defined and perform the function</p>
","2024-03-14 23:03:31","0","Question"
"78162811","","Change the color of the geom_bar() in ggplot2 inside an R function","<p>Using the toy <code>DATA</code> below, I'm trying to have <code>my_function()</code> to <strong>white out (i.e., not show)</strong> the bars in the <code>geom_bar</code> ONLY when the y axis value for a bar is &lt; .5 or &gt; .95. Otherwise, simply fill the color based on the value of <code>X</code> variable that is, <code>fill = X</code>.</p>
<p>For my purposes, I'm using the <code>after_stat(count)/ sapply(PANEL, \(x) sum(count[PANEL == x]))</code> to compute the y axis values internally.</p>
<p>Is there a way to achieve my goal (or somehow suppress those bars)?</p>
<p><em>Here is what I tried without success:</em></p>
<pre><code>library(tidyverse)
library(rlang)

DATA &lt;- structure(list(Year = c(2015, 2015, 2015, 2015, 2015, 2016, 2016, 
2016, 2016, 2016), X = c(&quot;Dissatisfied&quot;, &quot;Dissatisfied&quot;, 
&quot;Dissatisfied&quot;, &quot;Dissatisfied&quot;, &quot;Dissatisfied&quot;, &quot;Satisfied&quot;, 
&quot;Dissatisfied&quot;, &quot;Dissatisfied&quot;, &quot;Satisfied&quot;, &quot;Dissatisfied&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, 
-10L))


my_function &lt;- function(data=DATA, x=X, cols = vars(Year), fill=X){
  
  ggplot(data) + aes(x= !!ensym(x), y=after_stat(count)/ sapply(PANEL, \(x) sum(count[PANEL == x]))
                   , fill=ifelse( round(after_stat(count)/ sapply(PANEL, \(x) sum(count[PANEL == x])) * 100, 2) &lt; 5| 
round(after_stat(count)/ sapply(PANEL, \(x) sum(count[PANEL == x])) * 100, 2) &gt; 95, &quot;white&quot;
                                  , &quot;fill&quot;)) + ## what to use for `fill=` here?
    geom_bar()  +
    facet_grid(cols=cols) +
    theme(legend.title=element_blank())
  
}
###### EXAMPLE OF USE:
my_function()
</code></pre>
","2024-03-14 18:53:49","0","Question"
"78161937","","How to use a dynamic variable in a Postgresql function call","<p>I essentially want to do the following:</p>
<pre><code>SELECT * FROM 
generate_series(0, 9) as tp
CROSS JOIN 
generate_series(1, maxSch);
</code></pre>
<p>where maxSch is the maximum value of a column of another table. How could this be accomplished?</p>
<p>The larger problem: I am trying to fill in zeroes in another table for which rows do not exist. For example, <code>tp</code> above only goes up to 4 in the other table, but it should go up to 9, and for each missing value (5 through 9), there should be a row for each value from 1 through <code>maxSch</code> (this as another column, <code>sch</code> ) where another column <code>value</code> is 0.</p>
<p>I tried a <code>WITH</code> but was unsure how to make it work dynamically at runtime.</p>
","2024-03-14 16:15:51","0","Question"
"78161936","78161507","","<p>I would suggest restructuring you implementation in the following way:</p>
<p>Create a an empty string or array of characters outside of the function, lets say a global, for simplicity. (adjust to your project).</p>
<p>We'll call that variable <code>textForChat</code>.</p>
<p>Make a variable <code>currChar</code> that holds the index of the next character we want to type.</p>
<p>Make a function <code>typeNextChar()</code> that whenever called, if <code>currChar</code> is within <code>textForChat</code>'s length,types the character at that position to the chat box and increments the index.</p>
<p>Then, call <code>setInterval(typeNextChar, 50)</code>. Which will run <code>typeNextChar()</code> every 50 milliseconds (your current rate). So this will type at a speed of 20 chars/second, until it has typed all characters of <code>textForChat</code>.</p>
<p>This way, when you want to add more characters, you simply append them to <code>textForChat</code>, and they get typed automatically, since the interval we set is still running, and <code>textForChat</code>'s content/length has changed because of us adding characters.</p>
<p>You should also add a controller function to initiate/stop the interval timer, when needed.</p>
<pre><code>let textForChat = &quot;&quot;;
let currChar = 0;
function typeNextChar() {
    if (currChar &lt; textForChat.length) {
        document.getElementById(&quot;chat&quot;).innerHTML += textForChat.charAt(currChar++);
    }
}
typingTimer = setInterval(typeNextChar, 50);

// Usage - output text does not overlap =&gt; solves your issue
textForChat += &quot;Hi!&quot;;
textForChat += &quot;Hello World!&quot;;
</code></pre>
<p>Whenever you need to stop typing call <code>clearInterval(typingTimer)</code>.
To restart it just do <code>typingTimer = setInterval(typeNextChar, 50)</code></p>
","2024-03-14 16:15:16","0","Answer"
"78161704","78161507","","<p>One option is to put the words to print into an array and constantly check the array.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const words = [];
let wordIndex = 0;
const display = document.querySelector(""div"");

setInterval(() =&gt; {
  if (words.length) {
    display.innerHTML += words[0][wordIndex++];
    if (wordIndex == words[0].length) {
      words.shift();
      wordIndex = 0;
      display.innerHTML += '&lt;br&gt;';
    }
  }
 }, 100);
  
document.querySelector(""button"").onclick = () =&gt; {
  const txt = document.querySelector(""input"");
  words.push(txt.value || "" "");
  txt.value = """";
};</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;input type=""text""&gt;&lt;button&gt;Show&lt;/button&gt;
&lt;div&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
<p>You could optimize this by clearing the interval when the list is empty and restarting it when adding a word to an empty list.</p>
","2024-03-14 15:41:05","0","Answer"
"78161563","78161350","","<p>Although you are setting the internal variable <code>SetGreen</code> (which I don't recommend, it's internal for a reason, use an input), I don't see anywhere you calling the Function Block <code>TrafficLight</code> that uses taht variable. Unless you call/execute the Function Block, the code inside it <strong>won't be executed</strong>.</p>
","2024-03-14 15:17:12","0","Answer"
"78161533","78161507","","<p>As it is, you have no way of knowing when a single invocation of <code>chattext</code> has finished, and if you call it twice in succession (while one is still busy), both invocations will &quot;fight&quot; over the text field.</p>
<p>You'll have a better time turning it into an <code>async</code> function, which will also mean you'll need an <code>async</code> delay function, provided below.</p>
<p>And naturally the function(s) you call that function from will need to be <code>async</code> so you can <code>await</code> for <code>chattext</code>'s completion.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function delay(ms) {
  return new Promise(resolve =&gt; setTimeout(resolve, ms));
}

async function chattext(chat, ms=50) {
  chat = String(chat);
  var el = document.getElementById(""chat"");
  for(let i = 0; i &lt; chat.length; i++) {
    el.innerHTML += chat[i];
    await delay(ms);
  }
}

async function main() {
  await chattext(""Hello, world!\n"");
  await delay(1000);
  await chattext(""It's a nice day, isn't it?\n\n"");
  await delay(1000);
  await chattext(""You have nowhere to run.\n"", 200);
}

main();</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>#chat {
  background: #333;
  color: pink;
  font-family: monospace;
  white-space: pre;
  line-height: 1.5;
  padding: 1em;
  font-size: 15pt;
  text-shadow: red 1px 0 10px;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div id=""chat""&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-03-14 15:12:18","1","Answer"
"78161507","","I cant figure out how to make this function execute after the first one is done","<p>I have a function called chat chattext, which purposes is to write text to a box letter by letter.</p>
<pre><code>function chattext(chat) {
  playaudio(&quot;talking.mp3&quot;);
  document.getElementById(&quot;chat&quot;).style.display = &quot;block&quot;;
  document.getElementById(&quot;chat&quot;).innerHTML = &quot;&quot;;
  var count = 0;
  function update() {
    console.log(count);
    document.getElementById(&quot;chat&quot;).innerHTML += `${chat.substring(
      count - 1,
      count
    )}`;

    if (++count &lt; chat.length) {

      setTimeout(update, 50);
    } else {
    }
  }
  update();
}
</code></pre>
<p>And in another file I execute it like <code>chattext(&quot;hello world&quot;)</code>
which works fine, but if I execute it something after that like
like</p>
<pre><code>chattext(&quot;hello world&quot;)
chattext(&quot;hi&quot;)
</code></pre>
<p>it will do both at the same time and output &quot;hhello worl&quot;
<a href=""https://i.sstatic.net/M3895.png"" rel=""nofollow noreferrer"">not wanted result</a>
so im wondering how can I make it so the 2nd execution of the function will wait for the first to finish?</p>
","2024-03-14 15:06:31","0","Question"
"78161350","","Codesys question about using a Ladder function block into a SFC (doesn't work properly)","<p>I have a function block made in Ladder which I want to use in SFC, but I can't get it work properly. I hope someone knows the solution here.</p>
<p>This is my devices tree:</p>
<p><img src=""https://i.sstatic.net/fWeSa.png"" alt=""DevicesTree"" /></p>
<p>I have the following function block:</p>
<p><img src=""https://i.sstatic.net/C6Bav.png"" alt=""Function block"" /></p>
<p>And this is my SFC. A variable is declared with the type of the function block:
It's a very simple SFC. In <code>step0</code> the <code>SetGreen</code> input is set in the <code>TrafficLight</code> instance.</p>
<p><img src=""https://i.sstatic.net/45pLI.png"" alt=""SFC"" /></p>
<p>The <code>MainTask</code> calls the SFC to run it each cycle.</p>
<p><img src=""https://i.sstatic.net/d56tc.png"" alt=""MainTask"" /></p>
<p>Now if I start the program, the function block doesn't work. The <code>SetGreen</code> input is set but the SR-flipflop doesn't flip the output to high:</p>
<p><img src=""https://i.sstatic.net/c79z0.png"" alt=""Debug output"" /></p>
<p>Does someone knows why this doesn't work? Perhaps I also need to call the function block instance somewhere  each cycle?</p>
","2024-03-14 14:42:45","0","Question"
"78160881","78160781","","<p>How about doing filtering separately and the concatenating the results:</p>
<pre><code>pd.concat([
    df[df[&quot;manager_movement&quot;] == &quot;transfer_in&quot;],
    df[df[&quot;manager_movement&quot;] == &quot;no_change&quot;].drop_duplicates([&quot;year&quot;, &quot;email_address&quot;], keep='last')
])
</code></pre>
<p>Output:</p>
<pre><code>    year year_month manager_movement         email_address
0   2022   2022_jun      transfer_in    mary.crowe@abc.com
8   2022   2022_oct      transfer_in    mary.crowe@abc.com
4   2022   2022_aug        no_change    mary.crowe@abc.com
9   2022   2022_oct        no_change  andrew.gupta@abc.com
11  2023   2023_feb        no_change  andrew.gupta@abc.com
</code></pre>
<p>(By the way your desired output doesn't seem to match the requirements, 1 line  for <code>mary.crowe@abc.com</code> with <code>no_change</code> is missing)</p>
","2024-03-14 13:27:23","1","Answer"
"78160781","","Function to filter a dataframe based on multiple conditions with groupby and dropping of duplicates","<p>I have a dataframe and would like to create a function to keep rows or drop duplicates based on certain conditions</p>
<p>original dataframe</p>
<pre><code>year  year_month   manager_movement    email_address
2022  2022_jun     transfer_in         mary.crowe@abc.com
2022  2022_jun     no_change           andrew.gupta@abc.com
2022  2022_jul     no_change           mary.crowe@abc.com
2022  2022_jul     no_change           andrew.gupta@abc.com
2022  2022_aug     no_change           mary.crowe@abc.com
2022  2022_aug     no_change           andrew.gupta@abc.com
2022  2022_sep     transfer_out        mary.crowe@abc.com
2022  2022_sep     no_change           andrew.gupta@abc.com
2022  2022_oct     transfer_in         mary.crowe@abc.com
2022  2022_oct     no_change           andrew.gupta@abc.com
2023  2023_jan     no_change           andrew.gupta@abc.com
2023  2023_feb     no_change           andrew.gupta@abc.com
</code></pre>
<p>Expected dataframe</p>
<pre><code>year  year_month   manager_movement    email_address
2022  2022_jun     transfer_in         mary.crowe@abc.com
2022  2022_oct     transfer_in         mary.crowe@abc.com
2022  2022_oct     no_change           andrew.gupta@abc.com
2023  2023_feb     no_change           andrew.gupta@abc.com
</code></pre>
<p>The logic to get the dataframe is such
1st: if df['manager_movement'] == 'transfer_out', then remove rows</p>
<p>2nd: elseif df['manager_movement'] == 'transfer_in', then keep only the rows with 'transfer_in' and drop the other rows if there is 'no_change'.</p>
<p>3rd: elseif df['manager_movement'] == 'no_change', then groupby 'year' and 'email_address' and drop duplicates and keep last row</p>
<p>Here was my attempt but can't seem to get my desired output. Appreciate any help or comments, thank you.</p>
<pre><code>def get_required_rows(x):
   if x['manager_movement'] == 'transfer_out':
      return x.loc[x['manager_movement']!='transfer_out']
   elif x['manager_movement'] == 'transfer_in':
      return x
   elif x['manager_movement'] == 'No Change':
      return x.drop_duplicates(['year','email_address'], keep='last')
   end
    
df_filtered = df.apply(get_required_rows, axis=1)
</code></pre>
","2024-03-14 13:12:17","0","Question"
"78156948","78156921","","<p>If I understand you correctly, you can use <code>pd.Series.isin</code> for the task (for creating the boolean mask):</p>
<pre class=""lang-py prettyprint-override""><code>print(
    df[
        df[&quot;policy number&quot;].isin(
            df_2.loc[df_2[&quot;policy status&quot;] == &quot;good&quot;, &quot;policy number&quot;]
        )
    ]
)
</code></pre>
<p>Prints:</p>
<pre class=""lang-none prettyprint-override""><code>   policy number  policy status
3             44           good
5             66           good
7             88           good
</code></pre>
","2024-03-13 21:37:47","1","Answer"
"78156921","","Comparing two data frames with condition and removing all that not qualified","<p>I have two data frames. I have tried to generate a short data to explain what I am looking for, any suggestion or help is appreciated.</p>
<p><code>df = pd.DataFrame({'policy number':[11,22,33,44,55,66,77,88,99], ' policy status':['good', 'good', 'good', 'good', 'good','good', 'good', 'good', 'good']})</code></p>
<p><code>df_2 = pd.DataFrame({'policy number':[11,83,63,44,55,66,67,88,99,100], 'policy status':['bad','bad', 'good', 'good', 'bad', 'good','bad', 'good', 'average', 'good']})</code></p>
<p>I want to compare two data frames by policy number, if the column [policy status] is still good, I want to keep those policies. Else I want to remove them from my first data frame.</p>
<p>Is there any easier way for this? I have tried to iterate each rows of two data frames and compare them, but this takes a lot time, since I have bigger datasets.</p>
<p>Thanks in advance!</p>
","2024-03-13 21:31:39","1","Question"
"78155182","78149311","","<p>Thank you, Pavan. Your code helped me to identify the mistake i made.
Below is the updated code I wrote which works great.</p>
<pre><code>contents = json.loads(inputBlob.read()) 
for index,content in enumerate(contents.get(&quot;value&quot;)):
   fname = content.get(&quot;name&quot;)
   cbyte = content.get(&quot;contentBytes&quot;)
   conv_cbyte= base64.b64decode(cbyte)
   outputBlob1.set(conv_cbyte) 
       
</code></pre>
<p>Now, I'm using the for loop because we have multiple JSON content in the file. So we may have multiple files. In the above case, since the OUPUT Blob I specified the file name, it continue to overwrite the Test.PDF file again and again. Can you please advise how to save the file with the name from the json?</p>
","2024-03-13 15:57:18","0","Answer"
"78154138","78154024","","<p>By using the solution provided in the comment, you can do something like this:</p>
<pre><code>def fill_nan_with_mean(df):
    means = df.mean()
    df.fillna(means, inplace=True)
</code></pre>
<p>if you want to specify the column:</p>
<pre><code>def fill_nan_with_mean(df, column_name):

    mean_value = df[column_name].mean()
    df[column_name].fillna(mean_value, inplace=True)
</code></pre>
","2024-03-13 13:22:10","0","Answer"
"78154024","","Python Data Frame: def function to change NaN values in each column to the mean of each column","<p>I have the following dataset (df):</p>
<p><a href=""https://i.sstatic.net/wg4bB.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>I would like to write a def Python if/else function that would change every NaN value in each column to the mean of values in their respective column.</p>
<p>I found a simple solution without def function:</p>
<pre><code>df2 = df.apply(lambda x: x.fillna(x.mean()), axis = 0)
</code></pre>
<p>But I would also know how I would achieve the same result with a def function?
I tried:</p>
<pre><code>import pandas as pd
import numpy as np

def my_func(x):
if x is None:
return x.mean()
else:
return x

df2 = df.apply(lambda x : my_func(x), axis=1)
</code></pre>
<p>But it is not working.
Thank you for tips!</p>
","2024-03-13 13:06:17","0","Question"
"78153697","78149311","","<blockquote>
<p>function which takes blob input (JSON) and create a file using the contentbyte column from the JSON file.</p>
</blockquote>
<ul>
<li><p>&quot;File name too long,&quot; typically occurs when you attempt to create a file with a name that exceeds the maximum allowed length for file names,<code> Ensure that the file name is not too long and does not contain any illegal characters.</code></p>
</li>
<li><p>I have created Http trigger function with runtime stack python. I am able to create a file of content byte and sent to storage container by using output binding like below:</p>
</li>
</ul>
<p><strong>function code:</strong></p>
<pre><code>import azure.functions as func
import logging
import base64

app = func.FunctionApp()

@app.route(route=&quot;http_trigger&quot;, methods=[&quot;POST&quot;])
@app.blob_output(arg_name=&quot;output&quot;,
                path=&quot;pavan/pavan.pdf&quot;,
                connection=&quot;AzureWebJobsStorage&quot;)
def http_trigger(req: func.HttpRequest, output:func.Out[str]) -&gt; func.HttpResponse:
    logging.info('Python HTTP trigger function processed a request.')

    try:
        req_body = req.get_json()
    except ValueError:
        return func.HttpResponse(
            &quot;Invalid JSON input&quot;,
            status_code=400
        )

    if 'contentbyte' not in req_body:
        return func.HttpResponse(
            &quot;Missing 'contentbyte' field in JSON&quot;,
            status_code=400
        )

    content_byte_base64 = req_body['contentbyte']

    # Decode base64 content byte
    try:
        content_bytes = base64.b64decode(content_byte_base64)
    except Exception as e:
        logging.error(f&quot;Error decoding content byte: {str(e)}&quot;)
        return func.HttpResponse(
            &quot;Error decoding content byte&quot;,
            status_code=500
        )

    # Decode content if it's encoded
    if 'encoding' in req_body and req_body['encoding'] == 'base64':
        try:
            content_bytes = base64.b64decode(content_bytes)
        except Exception as e:
            logging.error(f&quot;Error decoding content: {str(e)}&quot;)
            return func.HttpResponse(
                &quot;Error decoding content&quot;,
                status_code=500
            )

    # Write content to a file
    try:
        output.set(content_bytes)
    except Exception as e:
        logging.error(f&quot;Error writing to file: {str(e)}&quot;)
        return func.HttpResponse(
            &quot;Error writing to file&quot;,
            status_code=500
        )

    return func.HttpResponse(
        &quot;File created successfully&quot;,
        status_code=200
    )

</code></pre>
<ul>
<li>I have posting contentbyte of microsoft graph api throgh postman and created file successfully. check below:</li>
</ul>
<p><img src=""https://i.imgur.com/39djlyS.png"" alt=""enter image description here"" /></p>
<p><img src=""https://i.imgur.com/dOByyoM.png"" alt=""enter image description here"" /></p>
<p>The output file is sent to storage container successfully. check below:</p>
<p><strong>Output:</strong></p>
<p><img src=""https://i.imgur.com/XKmvlD2.png"" alt=""enter image description here"" /></p>
","2024-03-13 12:14:04","0","Answer"
"78153343","78152339","","<p>Here is a random sample to model your data:</p>
<pre><code>set.seed(1)
df1 &lt;- cbind(org = sample(c(&quot;A&quot;,&quot;B&quot;, &quot;C&quot;), 10, T), as.data.frame(matrix(sample(c(0,1, NA), 100, T), 10)))

&gt; arrange(df1, org)
   org V1 V2 V3 V4 V5 V6 V7 V8 V9 V10
1    A NA NA  1  1 NA  0  0  0  1   1
2    A  0  0 NA NA  1 NA  0  0  1   0
3    A  1  0 NA  0  1 NA  1  1  1  NA
4    B  0  0  0  1  1  1 NA NA NA  NA
5    B  1  0  1  1  1 NA  0 NA NA   1
6    B NA  1  1  1  1 NA  1 NA NA   0
7    C  0  0  0  0  1 NA  0  0  1   1
8    C  1  1  1  0  0 NA NA  0  1   1
9    C  1  0  1 NA  1  1  0  0 NA  NA
10   C  0  1 NA NA  1  0  0 NA  0   1
</code></pre>
<p>... and below is the loop, to output the counts</p>
<pre><code>result &lt;- data.frame() # empty dataframe    
for (i in 2:ncol(df1)){
  loop_df &lt;- as.data.frame(do.call(rbind,
          tapply(df1[,i], df1$org, \(x)
                 c(names(df1)[i], sum(x, na.rm=TRUE),
                   sum(x==0, na.rm = TRUE)
                       ))))
  loop_df$org &lt;- rownames(loop_df)
  rownames(loop_df) &lt;- NULL
  result &lt;- rbind(result, loop_df)      
}

names(result)&lt;- c(&quot;abx.class&quot;, &quot;suscept_1&quot;, &quot;suscept_0&quot;, &quot;org&quot;)
</code></pre>
<p>The result is:</p>
<pre><code>&gt; result|&gt;select(org, everything())
   org abx.class suscept_1 suscept_0
1    A        V1         1         1
2    B        V1         1         1
3    C        V1         2         2
4    A        V2         0         2
5    B        V2         1         2
6    C        V2         2         2
7    A        V3         1         0
8    B        V3         2         1
9    C        V3         2         1
10   A        V4         1         1
11   B        V4         3         0
12   C        V4         0         2
13   A        V5         2         0
14   B        V5         3         0
15   C        V5         3         1
16   A        V6         0         1
17   B        V6         1         0
18   C        V6         1         1
19   A        V7         1         2
20   B        V7         1         1
21   C        V7         0         3
22   A        V8         1         2
23   B        V8         0         0
24   C        V8         0         3
25   A        V9         3         0
26   B        V9         0         0
27   C        V9         2         1
28   A       V10         1         1
29   B       V10         1         1
30   C       V10         3         0
</code></pre>
","2024-03-13 11:18:37","0","Answer"
"78152339","","How to use for loop method in R to generate a table with information from both rows and columns","<p>This is just a snapshot of my dataset. I have 12 org corresponding to 23 different abx.classes (e.g. penicillin, aminoglycosides, and etc.). i have to generate a table with 4 columns; org, abx class, total number of 0 (refers to resistant), total number of 1 (refers to susceptible). i need to do this using the loop method for it to me automatic(<a href=""https://i.sstatic.net/hHjNM.png"" rel=""nofollow noreferrer"">https://i.sstatic.net/hHjNM.png</a>) and not keyed in manually. pairs of org and abx.class with values either 0 or 1 should form.</p>
<p><a href=""https://i.sstatic.net/dCq5V.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<pre><code>df_long &lt;- pivot_longer(filtered_mergedfinal, cols = c(Penicillins, Aminoglycosides,    Trimethoprim,   Macrolides, Lincosamides,   Second_gen_cephalosporins,  
                                      Third_gen_cephalosporins, Fluoroquinolones,   Carbapenems,    Glycylcyclines, Fourth_gen_cephalosporins,  
                                      Polymyxins,   Beta_lactam_beta_lactamase_inhibitor,   Monobactams,    Amphenicols, Trimethoprim_sulfonamide,
                                      Tetracyclines,    Beta_lactam,
                                      Glycopeptides,    Oxazolidinones, First_gen_cephalosporins,   Sulfonaminde,   Steroid),
                        names_to = &quot;abx.class&quot;, values_to = &quot;suscept&quot;)
result2 &lt;- df_long %&gt;% group_by (org, abx.class, suscept) %&gt;% summarise(frequency=n())

lancet &lt;- na.omit(result2)

filtered_lancet &lt;- lancet %&gt;% filter(!grepl(&quot;other|contaminant&quot;, org))

library(tidyr)

# Pivot the data wider
transformed_lancet &lt;- lancet %&gt;% pivot_wider(names_from = &quot;suscept&quot;, values_from = &quot;frequency&quot;, names_prefix = &quot;suscept_&quot;)

susceptdata &lt;- na.omit(transformed_lancet) 
</code></pre>
<p>Error:
i did this but i need to use the loop method as this is forcing the data to look in the way i want it. instead of making use the dataframe with all parameters to work for me (extracting the desired information).</p>
","2024-03-13 08:50:25","-1","Question"
"78151661","78142648","","<p>You're seeing the output twice because the python interpreter opens and runs main.py twice;</p>
<ul>
<li>First when running <code>python main.py</code></li>
<li>A second time when example.py imports main.py via <code>from main import mods</code></li>
</ul>
<p>Each time main.py is interpreted , <code>printHello()</code> is then called.</p>
<p>To prevent the second time, you can replace the last 4 lines in main.py with;</p>
<pre class=""lang-py prettyprint-override""><code>if __name__ == &quot;__main__&quot;:
    exec(open(&quot;Welder/mods/example.py&quot;).read())

    mods = list(set(mods))  # Removes weirdly added duplicates
    print(mods)

    printHello()
</code></pre>
","2024-03-13 06:35:59","2","Answer"
"78150392","78150370","","<p>You return values from your functions but you don't assign these values to any variables.</p>
<p>Here is the corrected code:</p>
<pre class=""lang-py prettyprint-override""><code>import numpy as np
import pandas as pd


def user_input():

    while True:
        weather_type = input(
            &quot;Which weather type (temperature, humidity, pressure, or rainfall)? &quot;
        )
        if weather_type in [&quot;temperature&quot;, &quot;humidity&quot;, &quot;pressure&quot;, &quot;rainfall&quot;]:
            break
        else:
            print(
                &quot;Error: Please enter 'temperature', 'humidity', 'pressure', or 'rainfall'.&quot;
            )

    while True:
        try:
            num_data_points = int(input(&quot;Number of data points (maximum of 8000): &quot;))
            if num_data_points &lt; 1 or num_data_points &gt; 8000:
                print(&quot;Error: Number of data points must be between 1 and 8000.&quot;)
            else:
                break
        except ValueError:
            print(&quot;Error: Please enter an integer value for number of data points.&quot;)

    return weather_type, num_data_points


def call_API(weather_type, num_data_points):
    api_url = f&quot;https://api.thingspeak.com/channels/12397/fields/{4 if weather_type == 'temperature' else 3 if weather_type == 'humidity' else 5 if weather_type == 'rainfall' else 6}.csv?results={num_data_points}&quot;
    df = pd.read_csv(api_url)
    return df


def clean_data(df):
    data_array = df.iloc[
        :, 1
    ].to_numpy()  # Extracting the data column and converting to numpy array
    return data_array


def plot_data(data_array, weather_type, num_data_points):
    import matplotlib.pyplot as plt

    plt.plot(np.arange(num_data_points), data_array)
    plt.xlabel(&quot;Data Points&quot;)
    plt.ylabel(f&quot;{weather_type.capitalize()}&quot;)
    plt.title(f&quot;Plot of {weather_type.capitalize()}&quot;)
    plt.show()


weather_type, num_data_points = user_input()            # &lt;-- note the weather_type, num_data_points 
df = call_API(weather_type, num_data_points)            # &lt;-- df =
data_array = clean_data(df)                             # &lt;-- data_array =
plot_data(data_array, weather_type, num_data_points)
</code></pre>
","2024-03-12 22:43:12","1","Answer"
"78150370","","How to pass use output/return of one function as the input/parameter of a subsequent function?","<pre><code>import pandas as pd
import numpy as np

def user_input():
    
    while True:
        weather_type = input(&quot;Which weather type (temperature, humidity, pressure, or rainfall)? &quot;)
        if weather_type in [&quot;temperature&quot;, &quot;humidity&quot;, &quot;pressure&quot;, &quot;rainfall&quot;]:
            break
        else:
            print(&quot;Error: Please enter 'temperature', 'humidity', 'pressure', or 'rainfall'.&quot;)

    while True:
        try:
            num_data_points = int(input(&quot;Number of data points (maximum of 8000): &quot;))
            if num_data_points &lt; 1 or num_data_points &gt; 8000:
                print(&quot;Error: Number of data points must be between 1 and 8000.&quot;)
            else:
                break
        except ValueError:
            print(&quot;Error: Please enter an integer value for number of data points.&quot;)

    return weather_type, num_data_points

def call_API(weather_type, num_data_points):
    api_url = f&quot;https://api.thingspeak.com/channels/12397/fields/{4 if weather_type == 'temperature' else 3 if weather_type == 'humidity' else 5 if weather_type == 'rainfall' else 6}.csv?results={num_data_points}&quot;
    df = pd.read_csv(api_url)
    return df

def clean_data(df):
    data_array = df.iloc[:, 1].to_numpy()  # Extracting the data column and converting to numpy array
    return data_array

def plot_data(data_array, weather_type, num_data_points):
    import matplotlib.pyplot as plt
    
    plt.plot(np.arange(num_data_points), data_array)
    plt.xlabel(&quot;Data Points&quot;)
    plt.ylabel(f&quot;{weather_type.capitalize()}&quot;)
    plt.title(f&quot;Plot of {weather_type.capitalize()}&quot;)
    plt.show()

user_input()
call_API(weather_type, num_data_points) # NameError: name 'weather_type' is not defined
clean_data(df)
plot_data(data_array, weather_type, num_data_points)
</code></pre>
<p>I'm trying to run this is a Jupyter Notebook but I keep getting a NameError (&quot;NameError: name 'weather_type' is not defined).</p>
<p>I thought that weather_type was being returned from the user_input() function and then passing to call_API(). How am I supposed to pass a parameter?</p>
","2024-03-12 22:35:35","2","Question"
"78149531","78145404","","<p>At the outset I'll set aside your secondary problem:</p>
<blockquote>
<p>nor the second parameter value is correctly retreived.</p>
</blockquote>
<p>This is not reproduced for me when I run a make calling</p>
<pre><code>$(call set_target_dts,virgo,soc_prototype)
</code></pre>
<p>with the definition of <code>set_target_dts</code> that you have posted. I get:</p>
<pre><code>Selected Target is:virgo soc_prototype
Makefile:24: *** Please select the correct target.... Stop.
</code></pre>
<p>as it should be, not:</p>
<pre><code>Selected Target is:virgo soc
Makefile:48: *** Please select the correct target....  Stop. 
</code></pre>
<p>as you did. I think something not very make-related is amiss there.</p>
<p><strong>And so onward</strong></p>
<p>You are misapprehending how <code>define</code>-ed variables are expanded and how
function calls are expanded. A &quot;user defined function&quot;
in GNU Make is conventionally a variable with a multi-line definition enclosed by <code>define varname </code> and <code>endef</code>, with deferred expansion of the enclosed body so that arguments can be substituted for <code>$(n)</code> parameters in that body when the the function-call construction <code>$(func,args,...)</code> is
expanded<sup>1</sup>. <code>make</code> does not recognise any &quot;logic&quot; in the body of a variable definition while expanding it. (Although <code>make</code> might recognize such logic later if <code>make</code> itself <em>uses</em> the expansion).</p>
<p>First you should carefully read the <a href=""https://www.gnu.org/software/make/manual/html_node/Reading-Makefiles.html#"" rel=""nofollow noreferrer"">GNU Make manual: 3.7 How make Reads a Makefile</a>.
Having grasped the distinction between <em>immediate</em> and <em>deferred</em> expansion,
note that the schema that fits your definition of <code>set_target_dts</code> is:</p>
<pre><code>define *immediate*
  *deferred*
endef
</code></pre>
<p>The expansion of the definition body is deferred until the variable is used - e.g. by
function-call expansion <code>$(call foo,args...)</code>. That is the right choice. You will see from the documentation
that you could in theory adapt your definition to, say, the schema:</p>
<pre><code>define *immediate* :=
  *immediate*
endef
</code></pre>
<p>But if you did that then the definition would not be viable for
functions calls, because the definition would be frozen with all  <code>$(n)</code>
parameters empty. Deferred expansion is necessary to give you a chance to
supply <code>args...</code>.</p>
<p>With that in mind a worked example will best clarify what you've
observed, and what's misconceived about the definition of <code>set_target_dts</code>.
Consider this makefile:</p>
<pre><code>$ cat Makefile
define foo
    ifeq (1,0)
        $(info In condition 1 = 0)
        $(error In condition 1 = 0)
    else
        $(info In condition 1 ~= 0)
        $(info $$(1) = [$(1)])
        echo &quot;Parameter $$(1) = [$(1)]&quot;
    endif
endef

$(info $$(foo,bar) = &lt;&lt;&lt;$(call foo,bar)&gt;&gt;&gt;)

all:
    
</code></pre>
<p>Let's just run it:</p>
<pre><code>$ make
In condition 1 = 0
Makefile:12: *** In condition 1 = 0. Stop.
</code></pre>
<p>Observe: the fact that the <code>$(error ...)</code> call was within the scope of the unsatisfiable
condition <code>ifeq (1,0)</code> didn't stop the the <code>$(error ...)</code> call from being
fatally executed.</p>
<p>Let's remove the error call so we can get further. I'll also label the lines
within the definition of <code>foo</code> so I can talk through them:</p>
<pre><code>$ cat Makefile
define foo
    ifeq (1,0) # A
        $(info In condition 1 = 0) # B
    else # C    
        $(info In condition 1 ~= 0) # D
        $(info $$(1) = [$(1)]) # E
        echo &quot;Parameter $$(1) = [$(1)]&quot; # F
    endif # G
endef

$(info $$(foo,bar) = &lt;&lt;&lt;$(call foo,bar)&gt;&gt;&gt;)

all:
</code></pre>
<p>We know that all the labelled lines fall into deferred expansion. In our Makefile,
that will happen in:</p>
<pre><code>&lt;&lt;&lt;$(call foo,bar)&gt;&gt;&gt;
</code></pre>
<p>(It will not happen in <code>$$(foo,bar)</code>, because that expression is escaped.)</p>
<p>In performing the expansion of the definition, <code>make</code> works like so:</p>
<ul>
<li>Any un-escaped parameter <code>$(n)</code> is replaced with the <code>n</code>th argument, if any, otherwise the empty string.</li>
<li>Any un-escaped <code>$(name[...])</code> construct is expanded.</li>
<li>Any escaped construct <code>$$...</code> is expanded to <code>$...</code></li>
<li>Any text that is not in the scope of <code>$</code> goes through unchanged.</li>
</ul>
<p>So here is what will happen, line by line, as <code>make</code> expands <code>$(call foo,bar)</code>:</p>
<ul>
<li>Line <strong>A</strong>: There are no <code>$</code>s here. Add it unchanged to the expansion.</li>
<li>Line <strong>B</strong>: Expand the <code>$(info ...)</code> call <em>now</em>. That action prints <code>...</code> to the standard output <em>now</em>
and returns the empty string. Add that empty string to the expansion.</li>
<li>Line <strong>C</strong>: Same as Line <strong>A</strong>.</li>
<li>Line <strong>D</strong>: Same as Line <strong>B</strong></li>
<li>Line <strong>E</strong>: Same as Line <strong>B</strong></li>
<li>Line <strong>F</strong>: The escaped <code>$$(1)</code> is replaced with literal <code>$(1)</code>. The un-escaped <code>$(1)</code>
in replaced with <code>bar</code>. The resulting line is added to the expansion.</li>
<li>Line <strong>F</strong>: Same as Line <strong>A</strong>.</li>
</ul>
<p>Thus the final expansion of <code>$(call foo,bar)</code> is:</p>
<pre><code>    ifeq (1,0) # A
         # B
    else # C    
         # D
         # E
        echo &quot;Parameter $(1) = [bar]&quot; # F
    endif # G
    
</code></pre>
<p>Let's confirm that by running the amended Makefile:</p>
<pre><code>$ make
In condition 1 = 0
In condition 1 ~= 0
$(1) = [bar]
$(foo,bar) = &lt;&lt;&lt;    ifeq (1,0) # A
         # B
    else # C    
         # D
         # E
        echo &quot;Parameter $(1) = [bar]&quot; # F
    endif # G&gt;&gt;&gt;
make: Nothing to be done for 'all'.
</code></pre>
<p>Note that the expansion of:</p>
<pre><code>$(info In condition 1 = 0) # B  =&gt; prints &quot;In condition 1 = 0&quot;
</code></pre>
<p>was uninhibited by apparently being in the scope of the unsatisfiable
condition <code>ifeq (1,0)</code> and that <em>in the expanded definition</em> it
does not even appear to be that scope: the only text in that scope
is <code>&lt;empty_string&gt;# B</code>.</p>
<p>By analogy you should now see why the <code>$(error ...)</code> call that
we removed was executed despite lying &quot;within the scope&quot; of <code>ifeq (1,0)</code>.
In the context of expanding the definition of <code>foo</code>, that condition is
merely <em>some text</em> that requires no expansion itself and is just
added to the expansion of the function call. The <code>$(error ...)</code> call is some
more text that <em>does</em> require expansion, and doing that immediately terminates
<code>make</code> with failure.</p>
<p>And in that light you can see that in your own case,</p>
<pre><code>$(call set_target_dts,virgo,soc_prototype)
</code></pre>
<p>will execute:</p>
<pre><code>$(info Selected Target is:$(1) $(2))
</code></pre>
<p>and also:</p>
<pre><code>$(error Please select the correct target...) 
</code></pre>
<p>regardless of any surrounding conditional &quot;make-logic&quot;, because in the
context of expanding the function call <code>make</code> does not care what the
surrounding text is: it isn't doing any make-logic here.</p>
<p><strong>But...</strong></p>
<p>If you intend to call your function in the context of a <em>recipe</em>,
then it certainly does matter what the text of the expansion is,
since recipes are executed by the shell. And
since your definition of <code>set_target_dts</code> contains shell commands (<code>echo</code>) you evidently intend to use it that way. Our makefiles so far
have also contained an <code>echo</code> command to hint at the same intention.</p>
<p>Let's make a final revision of our Makefile to check that out:</p>
<pre><code>$ cat Makefile
define foo
    ifeq (1,0) # A
        $(info In condition 1 = 0) # B
    else # C    
        $(info In condition 1 ~= 0) # D
        $(info $$(1) = [$(1)]) # E
        echo &quot;Parameter $$(1) = [$(1)]&quot; # F
    endif # G
endef

$(info $$(foo,bar) = &lt;&lt;&lt;$(call foo,bar)&gt;&gt;&gt;)

all:
    @echo &quot;Building all&quot;
    $(call foo,bar)
    
$ make
In condition 1 = 0
In condition 1 ~= 0
$(1) = [bar]
$(foo,bar) = &lt;&lt;&lt;    ifeq (1,0) # A
         # B
    else # C    
         # D
         # E
        echo &quot;Parameter $(1) = [bar]&quot; # F
    endif # G&gt;&gt;&gt;
In condition 1 = 0
In condition 1 ~= 0
$(1) = [bar]
Building all
ifeq (1,0) # A
/bin/sh: 1: Syntax error: word unexpected (expecting &quot;)&quot;)
make: *** [Makefile:15: all] Error 2
</code></pre>
<p>See here that the <code>$(call foo,bar)</code> within the recipe for target <code>all</code>, just like the the previous previous one in <code>&lt;&lt;&lt;$(call foo,bar)&gt;&gt;&gt;</code>,
is expanded <em>before</em> execution of the recipe (before &quot;Building all&quot;). It
would have to be, wouldn't it?</p>
<p>Then the expansion is given to the shell to execute and of course,
the shell chokes on line <strong>A</strong>: <code>ifeq (1,0)</code> does not make sense to the shell.</p>
<p>If the definition of <code>set_target_dts</code> is meant to be such that,
after functional expansion with arguments, a shell command or expression will result
then you must write that definition in such a way that, after expansion, you get nothing
but a shell command or expression. Make-logic will not &quot;do its job and vanish&quot; in the
context of a variable definition expansion destined for recipe execution. It will
not do its job, and it will not vanish.</p>
<hr>
<p>1 @MadScientist correctly commented: &quot;Just to note, a user-defined function in make doesn't have to be multiline or created with define. Any macro can be used with $(call ...). Generally any macro that refers to at least one variable (e.g., $1, $2) is a user-defined function. You could even have zero arguments but it only makes sense to use n-ary macros where n &gt; 0: $(call foo) is legal but is the same thing as just $(foo).&quot;</p>
","2024-03-12 19:11:02","0","Answer"
"78149311","","Azure Function to Generate file from JSON contentByte - Microsoft Graph API Email generation","<p>Im having problem writting an azure function which takes blob input (JSON) and create a file using the contentbyte column from the JSON file.</p>
<p>JSON Template:</p>
<pre><code>{
   &quot;@odata.context&quot;:&quot;https://graph.microsoft.com/v1.0/$metadata#users('XXX.com')/messages('AQMkADAA3D%3D')/attachments&quot;,
   &quot;value&quot;:[
      {
         &quot;@odata.type&quot;:&quot;#microsoft.graph.fileAttachment&quot;,
         &quot;@odata.mediaContentType&quot;:&quot;application/pdf&quot;,
         &quot;id&quot;:&quot;AQMkADA0NjA5YT&quot;,
         &quot;lastModifiedDateTime&quot;:&quot;2023-06-29T14:40:33Z&quot;,
         &quot;name&quot;:&quot;MISC.pdf&quot;,
         &quot;contentType&quot;:&quot;application/pdf&quot;,
         &quot;size&quot;:314000,
         &quot;isInline&quot;:false,
         &quot;contentId&quot;:&quot;5E2D20ED5265174C8C9DC1AD59FFA4outlook.com&quot;,
         &quot;contentLocation&quot;:null,
&quot;contentBytes&quot;:&quot;JVBERi0xLjYNCiWAgYKDDQoxIDAgb2JqDQo8PCAvQ3JlYXRvciA8Pg0KL0NyZWF0aW9uRGF0ZSA8NDQzYTM[enter image description here](https://i.sstatic.net/WQJSz.png)y&quot;
      }
   ]
}
</code></pre>
<p>Azure Function:</p>
<p><a href=""https://i.sstatic.net/WwHNK.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p>Below is the azure function i wrote:</p>
<pre><code>import json
import base64
from base64 import *
import logging
import azure.functions as func

def main(req: func.HttpRequest,inputBlob: func.InputStream, outputBlob: func.Out[bytes]) -&gt; func.HttpResponse:
    logging.info('Python HTTP trigger function processed a request.')
    try:
 
        with open(inputBlob.read(),encoding='utf-8-sig') as user_file:
            file_contents = user_file.read()
            contents = json.loads(file_contents)
            
        for file_contents in enumerate(contents.get(&quot;value&quot;)):
            outputBlob.set(base64.b64decode(content.get(&quot;contentBytes&quot;)))
        
        output = {&quot;run&quot;:&quot;success&quot;}
        return json.dumps(output)
     except Exception as ex:
        logging.exception(ex)
        output =  {&quot;run&quot;:&quot;failure&quot;}   
        return json.dumps(output)
</code></pre>
<p>Below is the error msg&quot;</p>
<pre><code>[Error]   [Errno 36] File name too long: b'{\r\n   &quot;@odata.context&quot;:&quot;https://graph.microsoft.com/v1.0/$metadata#users(\'fsdja@eadft.com\')/messages(\'AQMkADA0NjA5YTMyLWU4MDctNDZkMi04
</code></pre>
","2024-03-12 18:27:46","0","Question"
"78148162","78148079","","<pre><code>library(tidyverse)

set.seed(12)
data_table &lt;- tibble(
  a = sample(100),
  b = rep(c(&quot;group_1&quot;, &quot;group_2&quot;, &quot;group_3&quot;, &quot;group_4&quot;), each = 25),
  c = rep(c(&quot;group_A&quot;, &quot;group_B&quot;, &quot;group_C&quot;, &quot;group_D&quot;), times = 25),
)

mean_fct &lt;- function(data, grouped_var){
  data %&gt;% 
    group_by({{grouped_var}}) %&gt;% 
    mutate(mean_a = mean(a)) %&gt;% 
    ungroup() %&gt;% 
    distinct(mean_a, {{grouped_var}})
}

# Define test data and arguments
data &lt;- data_table
grouped_var &lt;- quo(b)  # Using quo() to capture the argument as an expression

# Evaluate the expression within the test
data %&gt;% 
  group_by(!!grouped_var) %&gt;%  # Unquote the argument using !! (bang-bang)
  mutate(mean_a = mean(a))
</code></pre>
","2024-03-12 15:06:09","1","Answer"
"78148098","78148079","","<p>You have to take <code>col b</code> as a column of the tibble</p>
<pre><code>grouped_var &lt;-  data_table$b
</code></pre>
<p>I get this output from the <code>group_by</code> <code>mutate</code>:</p>
<pre><code>       a b       c       `&lt;chr&gt;` mean_a
   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt;
 1    66 group_1 group_A group_1   61.1
 2    90 group_1 group_B group_1   61.1
 3    80 group_1 group_C group_1   61.1
 4    91 group_1 group_D group_1   61.1
 5    46 group_1 group_A group_1   61.1
 6    69 group_1 group_B group_1   61.1
 7    95 group_1 group_C group_1   61.1
 8    92 group_1 group_D group_1   61.1
 9    34 group_1 group_A group_1   61.1
10     8 group_1 group_B group_1   61.1
# ℹ 90 more rows
</code></pre>
","2024-03-12 14:57:34","0","Answer"
"78148079","","Test when the argument of function is a column name","<p>I have the following code and function:</p>
<pre><code>library(tidyverse)

set.seed(12)
data_table &lt;- tibble(
  a = sample(100),
  b = rep(c(&quot;group_1&quot;, &quot;group_2&quot;, &quot;group_3&quot;, &quot;group_4&quot;), each = 25),
  c = rep(c(&quot;group_A&quot;, &quot;group_B&quot;, &quot;group_C&quot;, &quot;group_D&quot;), times = 25),
)

mean_fct &lt;- function(data, grouped_var){
  data %&gt;% 
    group_by({{grouped_var}}) %&gt;% 
    mutate(mean_a = mean(a)) %&gt;% 
    ungroup() %&gt;% 
    distinct(mean_a, {{grouped_var}})
}


grouped_by_number &lt;- mean_fct(data_table, b)
grouped_by_letter &lt;- mean_fct(data_table, c)
</code></pre>
<p>Now, I want to test a specific part of the function, by giving it some arguments, i.e. I want to do:</p>
<pre><code>data &lt;- data_table
grouped_var &lt;-  b

data %&gt;% 
  group_by({{grouped_var}}) %&gt;% 
  mutate(mean_a = mean(a))
</code></pre>
<p>This doesn't work and the error is &quot;Error: object 'b' not found&quot;</p>
<p>I understand why it doesn't work, as the argument is the column name of the tibble, but then, how can I test such a specific part of the function, i.e. how can I temporarily store the argument?</p>
<p>Thanks a lot for any help. I really like dplyr answers.
The code above is just an example. The question is about testing the function, not about the usefulness of that code.</p>
","2024-03-12 14:53:39","0","Question"
"78147748","78145404","","<blockquote>
<p>conditional statements are not getting evaluated inside Makefile function</p>
</blockquote>
<p>Sort of.  Conditional statements are parsed and acted on <em>immediately</em>, as the makefile is being parsed.  Any that appear within the body of a function therefore control the actual definition of the function, based on evaluation of their condition while the function definition is being parsed.  They have already had all the effect they ever will before any calls to the function can be expanded.</p>
<blockquote>
<p>Which means that neither the ifeq is evaluated correctly, nor the second parameter value is correctly retreived.</p>
</blockquote>
<p>No, it means that <code>ifeq</code> works differently than you thought.  More generally, GNU <code>make</code> <em>functions</em> work differently than you probably think.  <code>make</code>'s is not a scripting language.  Makefiles are not scripts. <code>make</code> rules are not functions, and neither are GNU <code>make</code> &quot;functions&quot;, really.  <code>make</code> functions -- especially user-defined ones -- are better characterized as parameterized <em>macros</em>.</p>
<p>In particular, ...</p>
<blockquote>
<p>a function in a Makefile [that] evaluate[s] input parameters in ifeq statements</p>
</blockquote>
<p>... is not possible in GNU <code>make</code>.</p>
<p>Do not attempt to write makefiles as if they were scripts.  You will end up with non-idiomatic makefiles, often with serious problems.  In particular, I feel comfortable recommending that you not use user-defined functions <em>at all</em>, as I have never found the need myself, and the idea of &quot;functions&quot; tends to put a person in the wrong head space.</p>
<p>Insufficient information is presented in the question to recommend what you should do instead in your case, but guessing based on the form of the function, I imagine that either creating multiple rules where you are now trying to use one or performing some kind of expansion based on target names might serve.</p>
","2024-03-12 13:59:15","0","Answer"
"78147494","78146780","","<p>Assuming there is some delimiter between the lines in original photograph then I would recommend splitting it into one observation per line and making a second variable that increments when the word PROCESSED appears in the line.</p>
<p>Let's make a sample dataset that is using CR as the delimiter between the lines.</p>
<pre><code>data have;
  length id 8 description $400;
  id=1;
  description='Object Car_bmw Processed.' || '0D'x
            ||'Colour changed from Red to Green' || '0D'x 
            ||'Mileage changed from 30 to 32' || '0D'x
            ||'Object Car_Audi Processed.' || '0D'x
            ||'Colour changed from Blue to White' || '0D'x 
            ||'Mileage changed from 0 to 5'
  ;
  output;
run;
</code></pre>
<p>Now we can use COUNTW() and SCAN() to split it into lines and FINDW() to detect when a line has PROCESSED in it.</p>
<pre><code>data want;
  set have;
  group=0;
  do lineno=1 to countw(description,'0D'x);
    length line $100;
    line=scan(description,lineno,'0D'x);
    if findw(line,'processed',,'spit') then group+1;
    output;
  end;
  drop description;
run;
</code></pre>
<p>Result</p>
<pre><code>Obs    id    group    lineno                  line

 1      1      1         1      Object Car_bmw Processed.
 2      1      1         2      Colour changed from Red to Green
 3      1      1         3      Mileage changed from 30 to 32
 4      1      2         4      Object Car_Audi Processed.
 5      1      2         5      Colour changed from Blue to White
 6      1      2         6      Mileage changed from 0 to 5
</code></pre>
","2024-03-12 13:23:20","0","Answer"
"78146780","","Split description into multiple rows","<p>I'm trying to accomplish the following in SAS.</p>
<p>My dataset looks like this:</p>
<pre><code>|ID  |Description
|----|-----------------
| 1  |Object Car_bmw Processed.Colour changed from Red to Green Mileage changed from 30 to 32 Object Car_Audi Processed.Colour changed from Blue to White Mileage changed from 0 to 5
| 2  |Object Car_Kia Processed. Colour changed from White to Black Mileage changed from 3 to 9 Value changed from 12034 to 11029
| 3  |Object Phone_Iphone Processed. Colour changed from Black to Green Value changed from 300 to 290 Object Car_bmw Processed. Colour changed from White to Red Mileage changed from 100 to 50
</code></pre>
<p>I would like to create a new object column which will split the &quot;description&quot; column into so:</p>
<pre><code>|ID  |Index| Description
|----|-----|-----------
| 1  | 1   | Object Car_bmw Processed.Colour changed from Red to Green Mileage changed from 30 to 32
|  1 | 2   | Object Car_Audi Processed.Colour changed from Blue to White Mileage changed from 0 to 5                                
| 2  | 1   | Object Car_Kia Processed.Colour changed from White to Black Mileage changed from 3 to 9 Value changed from 12034 to 11029
| 3  | 1   | Object Phone_Iphone Processed.Colour changed from Black to Green Value changed from 300 to 290 
| 3  | 2   | Object Car_bmw Processed. Colour changed from White to Red Mileage changed from 100 to 50
</code></pre>
<p>I tried using the following functions to separate the objects and &quot;descriptions&quot; into different rows. I used &quot;Processed.&quot; as a delimiter since that is common between the different objects. However, it didn't work</p>
<pre><code>data want;
set have;
do index = 1 to countw(LOG_LONG_DESC,'Processed.');
line_part = dequote(scan(LOG_LONG_DESC,index,'Processed.'));
OUTPUT;
end;
run;
</code></pre>
","2024-03-12 11:37:28","0","Question"
"78145702","78121849","","<p>Your statement</p>
<blockquote>
<p>From what I learned, in functional programming, same input results in
same output and function's internal state cannot be changed from
outside.</p>
</blockquote>
<p>is at least incomplete, that is true only for <strong>pure functional programming</strong>, i.e. a paradigm in which functions are stateless.</p>
<p>Alas, Java functional programming is <strong>impure</strong>. You can have stateful lambdas. This is exactly what you experimented.
You can be pure in Java but it is a matter of discipline.</p>
<p>You may read <a href=""https://adabeat.com/fp/pure-functions-in-functional-programming/#:%7E:text=Impure%20functions%20have%20side%20effects,changing%20the%20state%20of%20objects"" rel=""nofollow noreferrer"">pure functions in functional programming</a> for more considerations on the subject.</p>
","2024-03-12 08:45:59","0","Answer"
"78145404","","conditional statements are not getting evaluated inside Makefile function","<p>I have a function in a Makefile where I am trying to evaluate input parameters in ifeq statements like below:</p>
<pre><code>define set_target_dts
    ifeq ($(1),virgo)
        @echo &quot;Building for Virgo&quot;
        ifeq ($(2),soc_prototype)
            @echo &quot;Building for soc prototype&quot;
            DTS_FILE_NAME := virgo_soc_proto.dts
        else
            @echo &quot;Building for soc&quot;
            DTS_FILE_NAME := virgo.dts
        endif
    else ifeq ($(1),gemini)
        @echo &quot;Building for Gemini&quot;
        ifeq ($(2),soc_prototype)
            DTS_FILE_NAME := gemini_soc_proto.dts
        else
            DTS_FILE_NAME := gemini.dts
        endif
    else        
        $(info Selected Target is:$(1) $(2))
        $(error Please select the correct target...)
    endif
endef
</code></pre>
<p>Whenever I call this function using</p>
<p><code>$(call set_target_dts,virgo,soc_prototype)</code></p>
<p>It is throwing me this error:</p>
<pre><code>Selected Target is:virgo soc
Makefile:48: *** Please select the correct target....  Stop.
</code></pre>
<p>Which means that neither the ifeq is evaluated correctly, nor the second parameter value is correctly retreived.</p>
<p>Please guide me about my mistakes. I have never made Makefile functions before.</p>
","2024-03-12 07:53:53","2","Question"
"78144383","78143875","","<p>I rewrite the code as follows</p>
<pre><code>library(tidyverse)
library(openxlsx)

list_data&lt;- list(one= data.frame(District=LETTERS[1:3], V1 = 1:3),
                 two= data.frame(District=LETTERS[3:8], V7 = 3:8, V3=8:3))

rv &lt;- bind_rows(list_data) %&gt;%
  distinct(District) %&gt;%
  pull(District) %&gt;%
  lapply(function(x) {
    sub_list &lt;- lapply(names(list_data), function(y) {
      list_data[[y]] %&gt;%
        mutate(subsheet = y) %&gt;%
        relocate(subsheet) %&gt;%
        filter(District == x)
    })
    names(sub_list) &lt;- names(list_data)
    write.xlsx(sub_list, file =paste0(x,&quot;.xlsx&quot;))
  })
</code></pre>
","2024-03-12 02:36:37","1","Answer"
"78144166","78144114","","<p>So first off, you'll want a variable, isUpperCase, that will remember if the text is uppercase or lowercase. This variable will change with each click of the button so it cannot be declared as a const.</p>
<p>After this, you just need a simple if else statement within the event listener. This if else statement will check the value of isUpperCase and then will change the text to either upper or lower case depending on its state:</p>
<pre><code>const textButton = document.getElementById(&quot;textButton&quot;);
const myP = document.getElementById(&quot;myP&quot;);
let isUpperCase = false;

textButton.addEventListener(&quot;click&quot;, function() {
    if (isUpperCase) {
        myP.textContent = myP.textContent.toLowerCase();
        isUpperCase = false;
    } else {
        myP.textContent = myP.textContent.toUppperCase();
        isUpperCase = true;
    }
 });
</code></pre>
","2024-03-12 01:04:21","0","Answer"
"78144114","","Add an event listener to the first button that changes the text within the <h1> to EITHER uppercase or all lowercase","<p>Hello code friends I have an assignment, new to this</p>
<p>Add an event listener to the first button that changes the text within the  to EITHER all uppercase or all lowercase, depending on current state.</p>
<p>I need to change all paragraph under h1 to lowercase or uppercase, at the click of a button.</p>
<p>in HTML
I made an id to p.</p>
 
I made a button with an id

<p>in JS
I used getElementById to bring my button and paragraph.</p>
<p>const textChange = document.getElementById(&quot;btnChange1&quot;);
console.log(textChange);</p>
<p>const txtChange = document.getElementById(&quot;myP&quot;);</p>
<p>textChange.addEventListener(&quot;click&quot;, () =&gt; {</p>
<p>}
});</p>
<p>that's as far as I can get, thanks in advance!</p>
","2024-03-12 00:49:59","0","Question"
"78143875","","write xlsx files from a list of dataframes in R","<p>Suppose we have a list of data frames called <code>list_data</code>.</p>
<p>Our goal is to write a separate <code>.xlsx</code> file maybe using <code>openxlsx::write.xlsx()</code> for each <code>District</code> where each file has two subsheets (aka tabs) named after the data.frames in <code>list_data</code> (in this case, these names are <code>one</code> and <code>two</code>).</p>
<p>Because some <code>District</code>s are only included in <code>one</code> OR <code>two</code>, for such <code>District</code>s one of the subsheets will be empty which is OK.</p>
<p>File names can be the names of the <code>District</code>s.</p>
<p>I tried something below without success. Is this even possible in R?</p>
<p><em><strong>see a desired file output below</strong></em></p>
<pre><code>library(tidyverse)
library(openxlsx)

list_data&lt;- list(one= data.frame(District=LETTERS[1:3], V1 = 1:3),
                 two= data.frame(District=LETTERS[3:8], V7 = 3:8, V3=8:3))

lapply(list_dat,\(j) 
    group_by(j,District) %&gt;% 
      write.xlsx(file =paste0(j$District,&quot;.xlsx&quot;), sheetName = ???)) # Not sure how to add subsheet names here
</code></pre>
<p>Here is one desired file for <code>District</code> C with 2 subsheets:
<a href=""https://i.sstatic.net/a84WR.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/a84WR.png"" alt=""enter image description here"" /></a></p>
<p><a href=""https://i.sstatic.net/tMdzT.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/tMdzT.png"" alt=""enter image description here"" /></a></p>
","2024-03-11 23:15:27","0","Question"
"78142648","","Why is Python running a file twice when I only ran it once with the exec() function?","<p>I am trying to create a mod loading program, and one of the methods that I tried to do is to use the <code>exec()</code> function I found out about. I have tried to look at <a href=""https://stackoverflow.com/questions/30434492/why-python-print-my-output-two-times-when-i-import-the-same-file-in-which-i-am-p"">this</a> question here on Stack Overflow to solve my problem, but the answer to that question is to not import the module to itself (which I'm not doing, as far as I know).</p>
<h1>Code</h1>
<h2>Expected Output</h2>
<pre><code>['example']
Hello World!
</code></pre>
<h2>What I See</h2>
<pre><code>['example']
Hello World!
['example']
Hello World!
</code></pre>
<h2><code>main.py</code></h2>
<pre class=""lang-py prettyprint-override""><code>import os
import types

MODSDIR = 'Welder/mods/'

mods = []
ignoredFiles = [&quot;__init__.py&quot;, &quot;__pycache__&quot;]
files = os.listdir(MODSDIR)

def register(mod):
    try:
        mods.append(mod)
    except:
        print(&quot;Welder.error.ERROR: mod ID must be type 'str'&quot;)

'''
for fileIndex in range(len(files)):
    importFileName = &quot;&quot;
    fileName = files[fileIndex]

    for char in fileName:
        if not char == &quot;.&quot;:
            importFileName += char
        else:
            break

    if not fileName in ignoredFiles:
        mods.append(importFileName)
'''

exec(open(&quot;Welder/mods/example.py&quot;).read())

mods = list(set(mods))  # Removes weirdly added duplicates
print(mods)

printHello()
</code></pre>
<h2><code>example.py</code></h2>
<pre class=""lang-py prettyprint-override""><code>from main import mods

def printHello():
    print(&quot;Hello World!&quot;)

mods.append(&quot;example&quot;)
</code></pre>
","2024-03-11 18:08:56","2","Question"
"78141531","78137176","","<p>You cannot use both layout manager <code>boutton_quitter.place(x=1500, y=100)</code> <code>boutton_quitter.pack()</code>. Use one layout manger to suit your need.</p>
<p>When using <code>fenetre.attributes('-fullscreen', True)</code> Don't set. Layout manager value too high such as <code>place()</code>. The <code>pack()</code> is OK to suit your need.</p>
<p>I comment out that we doesn't need.</p>
<p>Snippet:</p>
<pre><code>import tkinter as tk
from PIL import Image, ImageTk

#cc = 0

def new_grille():
  #global cc
  #global tab
  global tableau


  fenetre = tk.Tk()
  fenetre.title('Gomoku : Coup joueur Blanc')
 # fenetre.attributes('-fullscreen', True)
  fenetre.bind('&lt;Escape&gt;', lambda e: fenetre.destroy())
  fenetre.config(bg='#FFFFFF')


  tableau = tk.Canvas(fenetre, width = 700, height = 500, bg =&quot;#FFFFFF&quot;)
  tableau.pack(side = tk.BOTTOM, pady=100)

  img = Image.open('p2.png')
  img_quitter = ImageTk.PhotoImage(img)

  boutton_quitter = tk.Button(fenetre, width=250, height=350,image = img_quitter, command=lambda x=&quot;&quot;: on_closing())
  boutton_quitter.image = img_quitter
  boutton_quitter.place(x=100, y=100)
  #boutton_quitter.pack()
  fenetre.mainloop()

if __name__ == &quot;__main__&quot;:
    new_grille()
</code></pre>
<p>Screenshot:</p>
<p><a href=""https://i.sstatic.net/zBkZ6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/zBkZ6.png"" alt=""enter image description here"" /></a></p>
","2024-03-11 14:52:05","0","Answer"
"78140037","78139287","","<p>You can create a numeric value and increment it. If you use modules it will be encapsulated in a module.</p>
<pre><code>let specimenNumCount = 0;
export const pAequorFactory = dna =&gt; {
  return {
    specimenNum: ++specimenNumCount,
    dna,

...
</code></pre>
","2024-03-11 10:46:25","1","Answer"
"78139336","78139287","","<p><strong>The best way is to use closure</strong></p>
<pre><code>const pAequorFactory = () =&gt; {
  let specimenCount = 0; // To keep track of the number of specimens created

  return (dna) =&gt; {
    specimenCount++; // Increment the specimen count for each new specimen
    return {
      specimenNum: specimenCount, // Assign a unique specimen number
      dna,

      // Your remaining object properties here
    };
  };
};

// Example usage:
const createSpecimen = pAequorFactory();
const specimen1 = createSpecimen('ATCGATCGATCGATC');
const specimen2 = createSpecimen('GCTAGCTAGCTAGCT');

console.log(specimen1.specimenNum);
console.log(specimen2.specimenNum);

</code></pre>
<p>This will create unique object each time you call createSpecimen, unique property will be specimenNum.</p>
","2024-03-11 08:43:00","1","Answer"
"78139287","","I created a function that creates objects, I want the objects created from that function to have a unique key. How can I do that?","<p>In the <code>pAequorFactory()</code>, when invoking that function to create  an object. I want the <code>.specimenNum</code> to be unique for all objects. Check the code below</p>
<pre><code>const pAequorFactory = (specimenNum, dna) =&gt; {
  return {
    specimenNum,
    dna,

    mutate() {
      randomBaseIndex = Math.floor[Math.random * 15];
      mutatedBase = returnRandBase();
      if (this.dna[randomBaseIndex] !== mutatedBase) {
        this.dna[randomBaseIndex] === mutatedBase;
        return this.dna;
      } else {
        mutate();
      }
    },

    compareDNA(object) {
      for (i = 0; i &lt; 15; i++) {
        let j = 0;
        if (object.dna[i] === this.dna[i]) {
          j++;
        }
        let commonPercentage = (j / 15) * 100;
      }
      return `specimen #${this.specimenNum} and specimen #${object.specimenNum} have ${commonPercentage}% DNA in common`;
    },

    willLikelySurvive() {
      for (i = 0; i &lt; 15; i++) {
        let j = 0;
        if (this.dna[i] === &quot;C&quot; || this.dna[i] === &quot;G&quot;) {
          j++;
        }
        let survivePercentage = (j / 15) * 100;
      }
      return survivePercentage &gt;= 60;
    },
  };
};
</code></pre>
<p>I haven't tried anything yet but I am thinking of a way to compare <code>.specimenNum</code> of each object.</p>
","2024-03-11 08:32:23","1","Question"
"78138746","78138335","","<p>You will need to download the blob alter it locally and then push it back up if you want to to do this, this would cause issues if file is being accessed by multiple users at the same time.</p>
<p>You should look into an SQL database storage solutions.</p>
<p>I have provided you with simple upload/download blob methods should you want to experiment. You will need to insert your own logic updating the document locally.</p>
<pre><code>public async Task DownloadBlob()
{
    var blob = &quot;&lt;BLOB_NAME&gt;&quot;;

    CloudStorageAccount storageAccount = CloudStorageAccount.Parse( &quot;DefaultEndpointsProtocol=https;AccountName=&lt;ACCOUNT_NAME&gt;;AccountKey=&lt;ACCOUNT_KEY&gt;&quot;);
    CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();
    CloudBlobContainer container = blobClient.GetContainerReference(&quot;&lt;CONTAINER_NAME&gt;&quot;);
    CloudBlockBlob blockBlob = container.GetBlockBlobReference(blob);

    string path = $@&quot;C:\Temp\{blob}.csv&quot;;
    string directoryPath = Path.GetDirectoryName(path);

    if (!Directory.Exists(directoryPath))
    {
        Directory.CreateDirectory(directoryPath);
    }

    try
    {
        using (var fileStream = System.IO.File.OpenWrite(path))
        {
            await blockBlob.DownloadToStreamAsync(fileStream);
        }
    }
    catch (Exception e)
    {
        Console.WriteLine(e);
    }
}

public async Task UploadBlob()
{
    string path = @&quot;C:\Temp\&lt;BLOB_NAME&gt;.csv&quot;;

    try
    {
        CloudStorageAccount storageAccount = CloudStorageAccount.Parse( &quot;DefaultEndpointsProtocol=https;AccountName=&lt;ACCOUNT_NAME&gt;;AccountKey=&lt;ACCOUNT_KEY&gt;&quot;);
        CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();
        CloudBlobContainer container = blobClient.GetContainerReference(&quot;&lt;CONTAINER_NAME&gt;&quot;);
        CloudBlockBlob blockBlob = container.GetBlockBlobReference(blobFilePath.Split(@&quot;\Temp\&quot;).LastOrDefault());

        CloudBlockBlob blob = container.GetBlockBlobReference(blobFilePath.Split(@&quot;\Temp\&quot;).Last());

        await blob.UploadFromFileAsync(blobFilePath);
    }
    catch (Exception e)
    {
        Console.WriteLine(e);
    }
}
</code></pre>
","2024-03-11 06:27:44","0","Answer"
"78138335","","Update Blob data using Azure function","<p>I have an excel file in container in Azure storage account. I need to update the rows of a column with an input parameter dynamically using an Azure function using C# preferably using an BlobTrigger template. Already have the code to read the blob but did not find anything to update the file.</p>
<p>Thanks</p>
<p>I tried using the SpreadsheetDocument class but could not go far.</p>
","2024-03-11 03:50:45","0","Question"
"78137176","","Cannot display an image in a function tkinter","<p>Here is my code</p>
<pre><code>def new_grille():
  global cc
  global tab
  global tableau

  x = cc[0]
  y = cc[1]


  fenetre = tk.Tk()
  fenetre.title('Gomoku : Coup joueur Blanc')
  fenetre.attributes('-fullscreen', True)
  fenetre.bind('&lt;Escape&gt;', lambda e: fenetre.destroy())
  fenetre.config(bg='#FFFFFF')


  tableau = tk.Canvas(fenetre, width = 1700, height = 1500, bg =&quot;#FFFFFF&quot;)
  tableau.pack(side = tk.BOTTOM, pady=100)

  img = Image.open('boutton quitter.png')
  img_quitter = ImageTk.PhotoImage(img)


  boutton_quitter = tk.Button(fenetre, width=45, height=7,image = img_quitter, command=lambda x=&quot;&quot;: on_closing())
  boutton_quitter.image = img_quitter
  boutton_quitter.place(x=1500, y=100)
  boutton_quitter.pack()
</code></pre>
<p>Im trying to display on the 'boutton_quitter' button an image ('boutton_quitter.png) but it raise an  error (_tkinter.TclError: image &quot;pyimage13&quot; doesn't exist), ive tried lot of things but nothing worked, pls help me :)</p>
<p>I saw different things, toplevel methods and trying to stock the image in a global function but either i messed up, either it dosnt work</p>
","2024-03-10 19:13:27","-1","Question"
"78135541","78135515","","<p>Your code invoked undefined behaviour as you pass the pointer not the integer to the <code>printf</code>. <code>%d</code> is expecting <code>int</code>. You need to dereference <code>x</code> and <code>y</code></p>
<pre><code>void swap(int* x, int* y)
{
    int temp;
    temp = *x;
    *x = *y;
    *y = temp;
    printf(&quot;The value of x and y inside the function is x = %d and y = %d\n&quot;, *x, *y);
}
</code></pre>
","2024-03-10 10:37:28","4","Answer"
"78135515","","Why my print statement inside the swap function is giving such output?","<pre><code>#include &lt;stdio.h&gt;
void swap(int* x, int* y){
    int temp;
    temp = *x;
    *x = *y;
    *y = temp;
    printf(&quot;The value of x and y inside the function is x = %d and y = %d&quot;, x, y);
}
int main()
{
    int x = 2, y =3;
    swap(&amp;x, &amp;y);
    return 0;
}
</code></pre>
<p>Output:
The value of x and y inside the function is x = 6422300 and y = 6422296</p>
<p>Why the value of x is 6422300 and y is 6422296 inside the function?</p>
<pre><code>#include &lt;stdio.h&gt;
void swap(int* x, int* y){
    int temp;
    temp = *x;
    *x = *y;
    *y = temp;
    printf(&quot;The value of x and y inside the function is x = %d and y = %d&quot;, x, y);
}
int main()
{
    int x = 2, y =3;
    swap(&amp;x,&amp;y);
    printf(&quot;\nThe value of x and y in the main is x = %d and y = %d&quot;, x, y);
    return 0;
}
</code></pre>
<p>Output:
The value of x and y inside the function is x = 6422300 and y = 6422296
The value of x and y in the main is x = 3 and y = 2</p>
<p>I tried to write the print statement for x and y in main separately, then it worked properly. But why it wasn't working inside function?</p>
","2024-03-10 10:29:17","0","Question"
"78135175","78132978","","<p>Callback Functions are technically functions triggered in the child widget and executed in the parent widget.
When you click the button, it will trigger whatever function you pass into the widget (so nothing in your code, since you dont pass any function).</p>
<p>Create a class Variable for your counter in MyApp. Increase it when the callback is triggered and pass it into your &quot;Number&quot; Widget.
AddButton(increaseNumberCallBack: (){<em>INCREASE COUNTER</em>},),</p>
<p>Here's some details: <a href=""https://stackoverflow.com/questions/50625777/how-to-pass-callback-in-flutter"">How to pass callback in Flutter</a></p>
","2024-03-10 08:16:33","0","Answer"
"78134935","78134914","","<p>The standard C doesn't allow to put function definition inside function definition (nesting function definition).</p>
<p>In this case, no local variables of the function <code>main</code> is referenced from the function <code>draw_spectrum</code>, so you can fix this by moving the definition of <code>draw_spectrum</code> before <code>main</code>.</p>
<p>Also there looks an extra <code>}</code> in the function <code>draw_spectrum</code> and a <code>}</code> is missing around the Main loop. You should apply proper indentation to your code to make it easier to find this kind of mistake.</p>
<p>Another point is that using <code>...</code> in function call like <code>XNextEvent(display, ...);</code> doesn't look valid. You should replace this with proper thing.</p>
","2024-03-10 06:36:10","1","Answer"
"78134914","","gcc error: a function-definition is not allowed here before ‘{’ token","<p>No, I can't figure out what's wrong. At least when I've tried to take the function out of main and paste it before main, I get more errors then before.</p>
<p>I get the error:</p>
<p>error: a function-definition is not allowed here before ‘{’ token
void draw_spectrum(Display *display, Window window, double *magnitudes) {</p>
<p>With this code:</p>
<pre><code> 
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
#include &lt;alsa/asoundlib.h&gt;  // For audio capture
#include &lt;X11/Xlib.h&gt;       // For X11 graphics
#include &quot;kiss_fft.h&quot;       // For FFT calculations


int main(int argc, char*argv[]) {

/// Initialize audio capture and X11 display:

// Open audio device
snd_pcm_t *pcm_handle;
snd_pcm_open(&amp;pcm_handle, &quot;default&quot;, SND_PCM_STREAM_CAPTURE, 0);
// Set audio parameters (sample rate, channels, etc.)
snd_pcm_set_params(pcm_handle, SND_PCM_FORMAT_U8, SND_PCM_ACCESS_RW_INTERLEAVED, 1, 48000, 1, 500000);

// Open X11 display
Display *display = XOpenDisplay(NULL);
Window window = XCreateSimpleWindow(display, window, 100, 100, 800, 600, 1, BlackPixel(display, DefaultScreen(display)), WhitePixel(display, DefaultScreen(display))); //finish later...display, parent, x, y, width, height, border_width, border, background
XMapWindow(display, window);

/// Create buffers for audio samples and FFT output:

#define FFT_SIZE 1024  // Adjust as needed
kiss_fft_cfg cfg = kiss_fft_alloc(FFT_SIZE, 0, 0, 0);
kiss_fft_cpx in[FFT_SIZE];
kiss_fft_cpx out[FFT_SIZE];


    // Map magnitudes to visual representation (lines and bars)
void draw_spectrum(Display *display, Window window, double *magnitudes) {
  // Get window dimensions
  int width, height;
  XWindowAttributes wa;
  XGetWindowAttributes(display, window, &amp;wa);
  width = wa.width;
  height = wa.height;

  // Calculate bar width and spacing
  int bar_width = width / (FFT_SIZE / 2 + 1);
  int bar_spacing = 1; // Adjust spacing as needed

  GC gc = XCreateGC(display, window, 0, NULL); // Create a graphics context

  // Clear the window (optional)
  XSetForeground(display, gc, WhitePixel(display, DefaultScreen(display)));
  XFillRectangle(display, window, gc, 0, 0, width, height);

  // Set drawing color for the bars
  XSetForeground(display, gc, BlackPixel(display, DefaultScreen(display)));

  // Draw bars for each magnitude value
  for (int i = 0; i &lt; FFT_SIZE / 2 + 1; i++) {
    int bar_height = (int) (magnitudes[i] * height / 256); // Scale magnitude to screen height
    XFillRectangle(display, window, gc,
                   i * (bar_width + bar_spacing), height - bar_height,
                   bar_width, bar_height);
  }

  XFreeGC(display, gc); // Release the graphics context
}


    // Handle events and refresh display
    XNextEvent(display, ...);
    XFlush(display);
}


/// Main loop:

while (1) {
    // Capture audio samples
    snd_pcm_readi(pcm_handle, in, FFT_SIZE);

    // Apply window function (Hann window)
    for (int i = 0; i &lt; FFT_SIZE; i++) {
        in[i].r *= 0.5 * (1 - cos(2 * M_PI * i / (FFT_SIZE - 1)));
    }

    // Perform FFT
    kiss_fft(cfg, in, out);

    // Calculate magnitudes
    double magnitudes[FFT_SIZE / 2 + 1];
    for (int i = 0; i &lt; FFT_SIZE / 2 + 1; i++) {
        magnitudes[i] = sqrt(out[i].r * out[i].r + out[i].i * out[i].i);
    }

    // Map magnitudes to visual representation (lines and bars)
    draw_spectrum(display, window, magnitudes);

/// Clean up:

// Close audio device
snd_pcm_close(pcm_handle);

// Close X11 display
XDestroyWindow(display, window);
XCloseDisplay(display);

return 0;
}
</code></pre>
<p>How do I solve this?</p>
","2024-03-10 06:26:56","-3","Question"
"78134435","78078849","","<p>It's safe to say that your answer is not the solution. A &quot;loop&quot; over a single row built from two input parameters, one of which (<code>days_overdue</code>) not being used at all. Makes no sense. Burns down to just:</p>
<pre class=""lang-sql prettyprint-override""><code>SELECT count(*)::smallint  -- why the cast?
FROM   past_due_detail
WHERE  days_past_due &lt; 3
AND    customer_id = $customer;  -- $customer being your customer_id input.
</code></pre>
<p>If that's not it, clarify your ambiguous task description.</p>
","2024-03-10 01:18:29","2","Answer"
"78132978","","Trying to create a callback function from one widget to another in Flutter. It won't work","<p>I'm trying to create the simple &quot;press button to increase number&quot; program in Flutter. I separated the text widget that shows the number and the button that increases the number into their own classes and files. I then imported them to the main file.</p>
<p>I'm trying to use a callback function to connect the two widget together to create functionality.
I doesn't show any errors but the button doesn't do anything.</p>
<p>Here is the main file:</p>
<pre><code>import 'package:flutter/material.dart';
import 'package:searchbartest/number.dart';
import 'package:searchbartest/button.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});
  
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        body: Center(
          child: Row(
            children: [
              const SizedBox(width: 20,),
              AddButton(increaseNumberCallBack: (){},),
              const SizedBox(width: 20,),
              const Number(),
            ],
          ),
        )),
    );
  }

}
</code></pre>
<p>Here is the file containing the text widget that shows the number and the function to increase it:</p>
<pre><code>import 'package:flutter/material.dart';

class Number extends StatefulWidget {
  const Number({super.key});

  @override
  State&lt;Number&gt; createState() =&gt; _NumberState();
}

class _NumberState extends State&lt;Number&gt; {

  void increaseNumber() {
    setState(() {
      number ++;
    });
  }


  int number = 0;

  @override
  Widget build(BuildContext context) {
    return Text(number.toString(),
    style: const TextStyle(
      fontSize: 50.0
    ),
    );
  }
}
</code></pre>
<p>Here is the file containing the button that is supposed to increase the number and my poor attempt at making a callback function:</p>
<pre><code>import 'package:flutter/material.dart';

class AddButton extends StatefulWidget {
  const AddButton({super.key, required this.increaseNumberCallBack});

  final Function() increaseNumberCallBack;

  void increaseNumber() {
    increaseNumberCallBack();
  }

  @override
  State&lt;AddButton&gt; createState() =&gt; _AddButtonState();
}

class _AddButtonState extends State&lt;AddButton&gt; {
  @override
  Widget build(BuildContext context) {
    return IconButton(
      onPressed: () {
        widget.increaseNumber();
      }, 
      icon: const Icon(Icons.add,
      size: 50,
      ));
  }
}
</code></pre>
<p>For some reason it's not working. Thanks for any help.</p>
","2024-03-09 16:02:14","0","Question"
"78131426","78128432","","<p>Heyy, I think I know how to solve this issue</p>
<p>1st you can add one onSubmit event to the form like given below</p>
<p>ex.</p>
<pre><code>&lt;form onSubmit={login}&gt;
  &lt;input/&gt;
&lt;/form&gt;
</code></pre>
<p>as you enter the onSubmit event will occur and the login function will be called</p>
<p>2nd the button inside the form should have type of submit, so when you click on to it, the submit event occur, follow the below step</p>
<pre><code>&lt;form onSubmit={login}&gt;
 &lt;input/&gt;
 &lt;button type='**submit**'&gt;submit&lt;/button&gt;
&lt;/form&gt;
</code></pre>
<p>hope it works and if doesn't we will make it work.</p>
","2024-03-09 06:25:40","0","Answer"
"78129443","78128432","","<p>Since you're using React you should be using state to manage your form data.</p>
<p>Your button should be <code>onClick={login}</code> because <code>onClick={login()}</code> assigns the value of the result of calling <code>login</code> to your event handler rather than a reference to the function itself.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""true"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const { useState } = React;

function Example() {

  // Set your state
  const [ form, setForm ] = useState({name:'', surname:'', email:''});

  // When the button is clicked do your axios
  // process (but here I'm just logging the form data)
  function login() {
    console.log(form);
  }

  // When an input value is changed grab its name and value
  // and update the form state object
  function handleChange(e) {
    const { name, value } = e.target;
    setForm(prev =&gt; ({ ...prev, [name]: value }));
  }

  // Make sure you give your inputs names, assign the
  // handleClick function to the onClick handler, and
  // make your inputs controllable by assigning their
  // values to their value contained in state
  return (
    &lt;form&gt;
      &lt;input
        name=""name""
        value={form.name}
        onChange={handleChange}
        placeholder=""Insert Your Name""
      /&gt;
      &lt;input
        name=""surname""
        value={form.surname}
        onChange={handleChange}
        placeholder=""Insert Your Surname""
      /&gt;
      &lt;input
        name=""email""
        value={form.value}
        onChange={handleChange}
        placeholder=""Insert your Email""
      /&gt;
      &lt;div className=""formButtons""&gt;
        &lt;button type=""button"" onClick={login}&gt;Submit&lt;/button&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  );
}

const node = document.getElementById('root');
const root = ReactDOM.createRoot(node);
root.render(&lt;Example /&gt;);</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.development.min.js""&gt;&lt;/script&gt;
&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.development.min.js""&gt;&lt;/script&gt;
&lt;div id=""root""&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-03-08 17:47:02","0","Answer"
"78129097","78063071","","<p>You are probably wanting primary constructors:</p>
<p><a href=""https://i.sstatic.net/6yxVC.gif"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/6yxVC.gif"" alt=""Primary constructor refactor"" /></a></p>
<p>They are only available at C# 12.</p>
<p>Edit:</p>
<p>For accessibility reasons:</p>
<p>Class without primary constructor:</p>
<pre class=""lang-cs prettyprint-override""><code>public class Identifier : LogicalExpression
{
    public Identifier(string name)
    {
        Name = name;
    }

    public string Name { get; set; }
    
    public override void Accept(LogicalExpressionVisitor visitor)
    {
        visitor.Visit(this);
    }
}
</code></pre>
<p>Class with primary constructor:</p>
<pre class=""lang-cs prettyprint-override""><code>public class Identifier(string name) : LogicalExpression
{
    public string Name { get; set; } = name;
    
    public override void Accept(LogicalExpressionVisitor visitor)
    {
        visitor.Visit(this);
    }
}
</code></pre>
","2024-03-08 16:43:28","0","Answer"
"78128853","78128831","","<p>Seems to me to be working. What behavior are you expecting?</p>
<pre><code>fxn1 &lt;- function (x) if (x &gt; 5) function (y) y * 3 else function (y) y + 2

fxn2 &lt;- fxn1(0)
fxn2
#&gt; function (y) y + 2
#&gt; &lt;environment: 0x000002b44fbd5528&gt;
fxn1(1)(3)
#&gt; [1] 5
fxn1(10)(3)
#&gt; [1] 9
</code></pre>
","2024-03-08 15:53:40","1","Answer"
"78128831","","Writing an R Function That Returns Another Function","<p>I want to write a function that will output a new function. I've tried the following function, which didn't work.</p>
<pre><code>fxn1 &lt;- function (x) {
  if (x &gt; 5) {
    fxn2 &lt;- function (y) {
      y * 3
    }
  } else if (x &lt;= 5) {
    fxn2 &lt;- function (y) {
      y + 2
    }
  }
}
</code></pre>
<p>Is there a way to do this type of thing in R?</p>
","2024-03-08 15:48:47","0","Question"
"78128498","78128432","","<p>Try one of below?</p>
<pre><code>&lt;button type=&quot;button&quot; onClick={login}&gt;Submit&lt;/button&gt;
&lt;button type=&quot;button&quot; onClick={() =&gt; login()}&gt;Submit&lt;/button&gt;
</code></pre>
<p>UPDATE:</p>
<p>After checking your github, noticed that you need below change.</p>
<ol>
<li>Fix Uncaught Error: invariant expected app router to be mounted by editing layout.js (layout needs to have html tag and body tag).</li>
<li>you should use useState for handling form value in employees/page.js.</li>
</ol>
<p>layout.js</p>
<pre><code>&quot;use client&quot;;
import { Inter } from &quot;next/font/google&quot;;
import Head from &quot;next/head&quot;;
import &quot;./globals.css&quot;;

const inter = Inter({ subsets: [&quot;latin&quot;] });

const metadata = {
  title: &quot;Company Dashboard&quot;,
  description: &quot;&quot;,
};

export default function DashboardLayout({ children }) {
  return (
    &lt;html&gt;
      &lt;Head&gt;
        &lt;title&gt;{metadata.title}&lt;/title&gt;
        &lt;meta name=&quot;description&quot; content={metadata.description} /&gt;
      &lt;/Head&gt;
      &lt;body&gt;
        &lt;div className=&quot;mainContent&quot;&gt;
          &lt;div className=&quot;leftMenu&quot;&gt;
            &lt;div style={{ textAlign: &quot;center&quot; }}&gt;
              &lt;h4&gt;
                Sistem de Gestão v1.0
                &lt;img
                  className=&quot;logo&quot;
                  src=&quot;https://www.getautismactive.com/wp-content/uploads/2021/01/Test-Logo-Circle-black-transparent.png&quot;
                  width={&quot;43px&quot;}
                /&gt;
              &lt;/h4&gt;
            &lt;/div&gt;
            &lt;nav&gt;
              &lt;a href=&quot;/&quot;&gt;
                &lt;button&gt;Home&lt;/button&gt;
              &lt;/a&gt;

              &lt;a href=&quot;/admins&quot;&gt;
                &lt;button&gt;Admins&lt;/button&gt;
              &lt;/a&gt;

              &lt;a href=&quot;/employees&quot;&gt;
                &lt;button&gt;Employees&lt;/button&gt;
              &lt;/a&gt;

              &lt;a href=&quot;/clients&quot;&gt;
                &lt;button&gt;Clients&lt;/button&gt;
              &lt;/a&gt;
              &lt;a href=&quot;/cars&quot;&gt;
                &lt;button&gt;Cars&lt;/button&gt;
              &lt;/a&gt;
            &lt;/nav&gt;
          &lt;/div&gt;
          &lt;div className=&quot;leftContent&quot;&gt;&lt;/div&gt;
          &lt;div className=&quot;middleContent&quot;&gt;{children}&lt;/div&gt;
          &lt;div className=&quot;rightContent&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  );
}
</code></pre>
<p>global.css (only change below line but should fix depends on your need)</p>
<pre><code>.logo{
  width: 43px
}
</code></pre>
<p>After applying above changes, you will see form submission is working.
but you should still can't edit the form because you didn't use useState. you need to fix it.</p>
","2024-03-08 14:48:06","1","Answer"
"78128432","","Submit Button not triggering javascript functions","<p>I have a form and functions don't work on those buttons. I am using Axios to do the post request. Is it something related to children layouts? Naming the files? It's the fact of my children layout dont have body or main tags?</p>
<p>main layout</p>
<pre><code>import { Inter } from &quot;next/font/google&quot;;
import Head from 'next/head';
import &quot;./globals.css&quot;;

const inter = Inter({ subsets: [&quot;latin&quot;] });

export const metadata = {
  title: &quot;Company Dashboard&quot;,
  description: &quot;&quot;,
};

export default function DashboardLayout({ children }) {
  return (
    &lt;div className=&quot;mainContent&quot;&gt;
      &lt;Head&gt;
        &lt;title&gt;{metadata.title}&lt;/title&gt;
        &lt;meta name=&quot;description&quot; content={metadata.description} /&gt;
      &lt;/Head&gt;
      &lt;header&gt;
        {/* Header content goes here */}
      &lt;/header&gt;
      &lt;body&gt;


      &lt;div className=&quot;leftMenu&quot;&gt;     
        &lt;nav&gt;
                &lt;a href=&quot;/&quot;&gt;&lt;button&gt;Home&lt;/button&gt;&lt;/a&gt;

                &lt;a href=&quot;/admins&quot;&gt;&lt;button&gt;Admins&lt;/button&gt;&lt;/a&gt;

                &lt;a href=&quot;/employees&quot;&gt;&lt;button&gt;Employees&lt;/button&gt;&lt;/a&gt;

                &lt;a href=&quot;/clients&quot;&gt;&lt;button&gt;Clients&lt;/button&gt;&lt;/a&gt;

                &lt;a href=&quot;/cars&quot;&gt;&lt;button&gt;Cars&lt;/button&gt;&lt;/a&gt;
        &lt;/nav&gt;
      &lt;/div&gt;
      &lt;div className=&quot;leftContent&quot;&gt;&lt;/div&gt;
      &lt;div className=&quot;middleContent&quot;&gt;{children}&lt;/div&gt;
      &lt;div className=&quot;rightContent&quot;&gt;&lt;/div&gt;
      
        
      &lt;/body&gt;
    &lt;/div&gt;
  );
}
</code></pre>
<p>code in question</p>
<pre><code>'use client'
import React  from &quot;react&quot;;
import axios from 'axios';



export default function employees(){

 
  const formDataClass = {name:'',surname:'',email:''}

  async function login() {
    try {
      const response = await axios.post(&quot;URL&quot;,formDataClass);
      alert(formDataClass.name);
    } catch (error) {
      console.log(error);
    }
  }


    return(
     
        &lt;div className=&quot;content&quot;&gt;
        &lt;div&gt;&lt;h1&gt;Seja Bem Vindo ao Sistema de Gestão V1.0&lt;/h1&gt;&lt;/div&gt;
        &lt;div className=&quot;formulary&quot;&gt;
          &lt;div&gt;&lt;h3&gt;Formulário de Empregados&lt;/h3&gt;&lt;/div&gt;
          &lt;div&gt;
            &lt;form&gt;
                &lt;input onChange={(e)=&gt;formDataClass.name=e.target.value} placeholder=&quot;Insert Your Name&quot;&gt;&lt;/input&gt;
                &lt;input onChange={(e)=&gt;formDataClass.surname=e.target.value} placeholder=&quot;Insert Your Surname&quot;&gt;&lt;/input&gt;
                &lt;input onChange={(e)=&gt;formDataClass.email=e.target.value} placeholder=&quot;Insert your Email&quot;&gt;&lt;/input&gt;
                &lt;div className=&quot;formButtons&quot;&gt;
                  &lt;button type=&quot;button&quot;&gt;Save&lt;/button&gt;
                  &lt;button type=&quot;button&quot; onClick={login()}&gt;Submit&lt;/button&gt;
                  
                &lt;/div&gt;
            &lt;/form&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
      &lt;/div&gt;
    );
}

</code></pre>
<p>I did try everything and expect the buttons to trigger the axios post</p>
","2024-03-08 14:38:15","0","Question"
"78126436","78121849","","<p>You are correct there is a closure on the lambda, but it is with a mutable object.</p>
<pre><code>return (m) -&gt; m + value;
</code></pre>
<p>That is short hand notation for.</p>
<pre><code>return (m) -&gt; m + this.value;
</code></pre>
<p>The <code>this</code> is final and does not change for the duration of the <code>Function</code>. <code>this.value</code> can change because this is a <code>mine</code> instance that is mutable. If you want the value itself to be immutable then you need to create a local version, which needs to be effectively final to be used in the lambda.</p>
<pre><code>int v = this.value;
return (m) -&gt; m + v;
</code></pre>
<p>I think this new statement would better illustrate what you expect from a function.</p>
","2024-03-08 08:43:39","0","Answer"
"78126173","78108107","","<p>As pointed out by @Rorschach, what I want can be done using <code>cl-letf</code> instead of <code>cl-flet</code>:</p>
<pre><code>(defun zzz/wrapper (f &amp;rest r)
  (cl-letf
      ((zzz/original
        ()
        (message &quot;Replacement func&quot;)))
    (apply f r)))
</code></pre>
","2024-03-08 07:45:21","0","Answer"
"78125376","78125289","","<p>The global keyword can be deceptive. It is not used for declaring a global variable, but rather for instructing the interpreter about what scope to use in future variable references. Let me try to explain it in another way:</p>
<p>When you write <code>global command</code> you’re trying to say “interpreter, please create a global variable named command”. But in reality <code>global command</code> actually means “interpreter, whenever you see a variable named command inside this function, you should look for it in the global scope”.</p>
<p>With all that said, you just need to define the variable in the global scope (outside any functions). Then, all functions that want to access this global variable should include the expression <code>global command</code>:</p>
<pre><code>command = None

def user_commands():
    ...
    ...
    return command

def run_alexa():
    global command
    command = user_commands()
</code></pre>
","2024-03-08 03:22:28","1","Answer"
"78125352","78125289","","<p>In your particular case, you are using the variable before you set it - which is not exclusive to <code>global</code> variables. That said; you may be confused on how the <code>global</code> keyword works.</p>
<p><code>global</code> allows you to create, or modify, a variable from within an enclosed scope, that will be elevated to the global scope.</p>
<p>For example, you can try this in your REPL:</p>
<pre class=""lang-py prettyprint-override""><code> &gt;&gt;&gt; foo = &quot;x&quot;
 &gt;&gt;&gt;
 &gt;&gt;&gt; def bar():
 ...     foo = &quot;y&quot;
 ...
 &gt;&gt;&gt; print(foo)
 'x'
 &gt;&gt;&gt; bar()
 &gt;&gt;&gt; print(foo)
 'x'
</code></pre>
<p>If you use the <code>global</code> keyword, however, it will be set when you modify it in the function.</p>
<pre class=""lang-py prettyprint-override""><code> &gt;&gt;&gt; foo = &quot;x&quot;
 &gt;&gt;&gt;
 &gt;&gt;&gt; def bar():
 ...     global foo
 ...     foo = &quot;y&quot;
 ...
 &gt;&gt;&gt; print(foo)
 'x'
 &gt;&gt;&gt; bar()
 &gt;&gt;&gt; print(foo)
 'y'
</code></pre>
","2024-03-08 03:10:37","-1","Answer"
"78125289","","how to declare value as none the redeclare it then use it for an if statement in python?","<p>My question is pretty simple how do how to declare value as none the redeclare it then use it for an if statement in python?</p>
<pre><code>global command
command = None

def user_commands():
    def take_command():
    try:
        with sr.Microphone() as source:
            print('listening...')
            voice = listener.listen(source)
            command = listener.recognize_google(voice)
            command = command.lower()
            if 'alexa' in command:
                command = command.replace('alexa', '')
                print(command)
    except:
        pass
    return command

def run_alexa():
    global command
    command = user_commands()
    ...

    if 'Play' in command:
        ...

</code></pre>
<p>what is happening when I do this is:
TypeError: argument of type 'NoneType' is not iterable</p>
<p>What I am doing is creating an alexa which ask to take commands then do the command. the variable for the command is set equal to the person says but in python it doesnt like to have a variable without a type so I said no then said ill redeclare it but it does not work,</p>
","2024-03-08 02:39:53","-1","Question"
"78124349","78123214","","<p>I now managed to do it.
I imported a library (I used lodash as an example for testing) and saved it into a const</p>
<pre><code>import lodash from 'lodash';
const libraries = { lodash }
</code></pre>
<p>I pass it into the Function call like this</p>
<pre><code>let func = new Function(...Object.keys(libraries), 'return ' + data.jsCode)(...Object.values(libraries));
return await func.call(null, ...args);
</code></pre>
<p>And now I can use lodash when calling a function from a string.</p>
<p>Here is my testing example:</p>
<pre><code>&quot;libraryTest&quot;: &quot;function libraryTest(text: string): { result: string } {\n&quot; +
    &quot;    const result = lodash.toUpper(text);\n&quot; +
    &quot;    return { result };\n&quot; +
    &quot;}&quot;
</code></pre>
","2024-03-07 21:09:50","0","Answer"
"78123354","78123214","","<p>Such dependencies cannot be fully dynamic unless you somehow ship all your node modules and do some complicated on-the-fly bundling, but you can probably e.g. somewhere import the module via an <a href=""https://vitejs.dev/guide/assets.html#explicit-url-imports"" rel=""nofollow noreferrer"">URL import</a> and use that.</p>
<pre class=""lang-js prettyprint-override""><code>import imageConversionUrl from 'image-conversion?url';
</code></pre>
<pre class=""lang-js prettyprint-override""><code>`import ... from ${JSON.stringify(imageConversionUrl)}`
</code></pre>
<p>URL imports bundle the dependency and output it as an asset in the build.<br />
(More commonly used for media assets so they can be used e.g. as an image <code>src</code>. For a list of file types URL imports are the implicit default.)</p>
","2024-03-07 17:35:38","0","Answer"
"78123214","","Is there a way to run JavaScript from a string in browser with imported libraries?","<p>I have a function that lets me run a JavaScript function in the browser:</p>
<pre class=""lang-js prettyprint-override""><code>export async function executeFunction(data: LoadOutput, input: Record&lt;string, any&gt;): Promise&lt;any&gt; {
    let args = [];
    for (let param of data.functionTree[0].parameters) {
        let value = input[param.name];

        if(!value) {
            return undefined;
        }

        args.push(value);
    }

    let func = new Function('return ' + data.jsCode)();
    return await func.call(null, ...args);
}
</code></pre>
<p>It all works, but now I want to add more functionality by being able to use external libraries.
I tried adding imports in the string but this didn't work and resulted in errors</p>
<p><code>There was an error: Module name, 'image-conversion' does not resolve to a valid URL.</code></p>
<p>Is there a way I can import external libraries?
Preferably by not having to pass them as a parameter (That's what ChatGPT suggested but would require a massive refactor of my code)</p>
<p>Is there maybe a library that does the same thing as Function but lets me add external libraries to the scope?</p>
<p>For additional information: I'm using SvelteKit</p>
","2024-03-07 17:11:56","0","Question"
"78122087","78121810","","<p>If I understand what you want, here is how you could generate each of the results:</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)
library(tidyr)
set.seed(1234)
df &lt;- data.frame(
  id = c(&quot;1001&quot;, &quot;1001&quot;, &quot;1001&quot;, &quot;1001&quot;, &quot;1001&quot;, &quot;1001&quot;, 
         &quot;1002&quot;, &quot;1002&quot;, &quot;1002&quot;, &quot;1002&quot;, &quot;1002&quot;,
         &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;,
         &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;),
  episode = c(0, 1, 2, 3, 4, 5,
              0, 1, 3, 4, 5,
              0, 2, 3, 6, 7, 9, 10,
              1, 2, 3, 4, 5, 6, 7, 8, 9),
  date = sample(seq(as.Date('2010/01/01'), as.Date('2016/01/01'), by=&quot;day&quot;), 27),
  diag_a = c(1, 1, 0, 0, 1, 1,
             0, 0, 0, 0, 0,
             0, 0, 1, 1, 1, 1, 1,
             0, 0, 0, 0, 0, 0, 0, 0, 0),
  diag_b = c(0, 0, 0, 0, 0, 0,
             1, 1, 1, 1, 1,
             0, 0, 0, 0, 0, 0, 0,
             0, 0, 1, 0, 0, 0, 0, 0, 0),
  diag_c = c(1, 0, 0, 1, 0, 0,
             0, 0, 0, 0, 0,
             0, 0, 1, 1, 1, 1, 1,
             0, 0, 0, 0, 0, 0, 0, 0, 0),
  diag_d = c(1, 1, 0, 0, 1, 1,
             0, 0, 0, 0, 0,
             0, 0, 1, 1, 1, 1, 1,
             0, 0, 0, 0, 1, 0, 0, 0, 0)
)
</code></pre>
<p>For the first one, I would pivot the data to longer on all the relevant diagnosis variables, identify only those that were actually diagnosed, group by the condition and then use <code>slice_min()</code> to take the smallest date for each <code>id</code>-<code>condition</code> pair.</p>
<pre class=""lang-r prettyprint-override""><code>d1 &lt;- df %&gt;% 
  pivot_longer(contains(&quot;diag_&quot;), names_to = &quot;condition&quot;, values_to = &quot;diag&quot;) %&gt;% 
  filter(diag == 1) %&gt;% 
  group_by(id, condition) %&gt;% 
  slice_min(date, n=1) 
d1
#&gt; # A tibble: 9 × 5
#&gt; # Groups:   id, condition [9]
#&gt;   id    episode date       condition  diag
#&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;     &lt;dbl&gt;
#&gt; 1 1001        1 2011-09-15 diag_a        1
#&gt; 2 1001        3 2011-02-04 diag_c        1
#&gt; 3 1001        1 2011-09-15 diag_d        1
#&gt; 4 1002        1 2010-09-27 diag_b        1
#&gt; 5 1003        3 2011-04-24 diag_a        1
#&gt; 6 1003        3 2011-04-24 diag_c        1
#&gt; 7 1003        3 2011-04-24 diag_d        1
#&gt; 8 1005        3 2012-10-10 diag_b        1
#&gt; 9 1005        5 2015-05-06 diag_d        1
</code></pre>
<p>For the second one, start with the previous dataset, then arrange by <code>id</code> and <code>date</code> and calculate the cumulative sum of diagnoses.  In particular, yo want the date where the second diagnosis happened, so you can filter to where the cumulative sum of diagnoses is 2 and then merge those data back on to the original one.</p>
<pre><code>d2 &lt;- df %&gt;% 
  pivot_longer(contains(&quot;diag_&quot;), names_to = &quot;condition&quot;, values_to = &quot;diag&quot;) %&gt;% 
  filter(diag == 1) %&gt;% 
  group_by(id, condition) %&gt;% 
  slice_min(date, n=1) %&gt;% 
  ungroup %&gt;% 
  arrange(id, date) %&gt;% 
  group_by(id) %&gt;% 
  mutate(cs_diag = cumsum(diag)) %&gt;% 
  filter(cs_diag == 2) %&gt;% 
  select(id, date) %&gt;% 
  rename(mm_date = date) %&gt;% 
  right_join(df) 
#&gt; Joining with `by = join_by(id)`
d2
#&gt; # A tibble: 27 × 8
#&gt; # Groups:   id [4]
#&gt;    id    mm_date    episode date       diag_a diag_b diag_c diag_d
#&gt;    &lt;chr&gt; &lt;date&gt;       &lt;dbl&gt; &lt;date&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
#&gt;  1 1001  2011-09-15       0 2012-09-30      1      0      1      1
#&gt;  2 1001  2011-09-15       1 2011-09-15      1      0      0      1
#&gt;  3 1001  2011-09-15       2 2012-07-22      0      0      0      0
#&gt;  4 1001  2011-09-15       3 2011-02-04      0      0      1      0
#&gt;  5 1001  2011-09-15       4 2015-11-16      1      0      0      1
#&gt;  6 1001  2011-09-15       5 2014-06-14      1      0      0      1
#&gt;  7 1003  2011-04-24       0 2013-05-03      0      0      0      0
#&gt;  8 1003  2011-04-24       2 2012-09-22      0      0      0      0
#&gt;  9 1003  2011-04-24       3 2011-04-24      1      0      1      1
#&gt; 10 1003  2011-04-24       6 2011-09-26      1      0      1      1
#&gt; # ℹ 17 more rows
</code></pre>
<p>Finally, for the third one, start with the second dataset then picot the diagnosis columns to longer again.  If you group by <code>id</code> and <code>condition</code>, you can find the maximum of <code>diag</code> - whether they ever had the condition or not.  Then, you can group by <code>id</code> and sum the number of conditions and merge it back on to the original data.</p>
<pre><code>d3 &lt;- d2 %&gt;% 
  select(id, contains(&quot;diag&quot;)) %&gt;%
  pivot_longer(-id, names_to = &quot;condition&quot;, values_to = &quot;diag&quot;) %&gt;% 
  group_by(id, condition) %&gt;% 
  summarise(diag = max(diag)) %&gt;% 
  group_by(id) %&gt;% 
  summarise(condition_count = sum(diag)) %&gt;% 
  right_join(d2)
#&gt; `summarise()` has grouped output by 'id'. You can override using the `.groups`
#&gt; argument.
#&gt; Joining with `by = join_by(id)`
d3
#&gt; # A tibble: 27 × 9
#&gt;    id    condition_count mm_date    episode date       diag_a diag_b diag_c
#&gt;    &lt;chr&gt;           &lt;dbl&gt; &lt;date&gt;       &lt;dbl&gt; &lt;date&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
#&gt;  1 1001                3 2011-09-15       0 2012-09-30      1      0      1
#&gt;  2 1001                3 2011-09-15       1 2011-09-15      1      0      0
#&gt;  3 1001                3 2011-09-15       2 2012-07-22      0      0      0
#&gt;  4 1001                3 2011-09-15       3 2011-02-04      0      0      1
#&gt;  5 1001                3 2011-09-15       4 2015-11-16      1      0      0
#&gt;  6 1001                3 2011-09-15       5 2014-06-14      1      0      0
#&gt;  7 1002                1 NA               0 2013-01-07      0      1      0
#&gt;  8 1002                1 NA               1 2010-09-27      0      1      0
#&gt;  9 1002                1 NA               3 2015-08-14      0      1      0
#&gt; 10 1002                1 NA               4 2014-08-12      0      1      0
#&gt; # ℹ 17 more rows
#&gt; # ℹ 1 more variable: diag_d &lt;dbl&gt;
</code></pre>
<p><sup>Created on 2024-03-07 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.0.2</a></sup></p>
","2024-03-07 14:20:44","1","Answer"
"78121849","","lambda function uses member variable and produces different results","<p>I dont know why the code runs without errors. From what I learned, in functional programming, same input results in same output and function's internal state cannot be changed from outside. When I created the function 'add', it uses the value of variable <code>value</code> which is 100. this results in 105 when added with 5. But when I set <code>value</code> to 10, how the already created function 'add' changes its internal state and produces 15 when added with 5?</p>
<pre><code>public class mine {
  int value;

  public Function&lt;Integer, Integer&gt; createFunction() {
    return (m) -&gt; m + value;
  }

  public void setValue(int value) {
    this.value = value;
  }
}

public class ClosureCheck {

  public static void main(String[] args) {
    mine a = new mine();
    a.setValue(100);
    Function&lt;Integer, Integer&gt; add = a.createFunction();
    System.out.println(add.apply(5));
    a.setValue(10);
    System.out.println(add.apply(5));
  }
}
</code></pre>
<p>results:
<code>105 15</code></p>
<p>In other words, why for the same input, it produces different answer?</p>
<p>I expect the same answer 105 irrespective of the value of <code>value</code> after creating the 'add' function.</p>
","2024-03-07 13:43:42","-1","Question"
"78121810","","Creating a binary variable with an attached date from a series of other dated episodes (long format)","<p>I am working with a clinical data table that contains hospital episodes for a few hundred thousand people across an approx 15 year period. The table is formatted as one row per episode, each of which contains the episode number, date of the episode (date &amp; episodes do not match chronologically for some reason) and binary indicators for 56 diagnoses of interest that may have occurred during each episode.</p>
<p>Short reproducible sample below...</p>
<pre><code>df &lt;- data.frame(
  id = c(&quot;1001&quot;, &quot;1001&quot;, &quot;1001&quot;, &quot;1001&quot;, &quot;1001&quot;, &quot;1001&quot;, 
         &quot;1002&quot;, &quot;1002&quot;, &quot;1002&quot;, &quot;1002&quot;, &quot;1002&quot;,
         &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;, &quot;1003&quot;,
         &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;, &quot;1005&quot;),
  episode = c(0, 1, 2, 3, 4, 5,
              0, 1, 3, 4, 5,
              0, 2, 3, 6, 7, 9, 10,
              1, 2, 3, 4, 5, 6, 7, 8, 9),
  date = sample(seq(as.Date('2010/01/01'), as.Date('2016/01/01'), by=&quot;day&quot;), 27),
    diag_a = c(1, 1, 0, 0, 1, 1,
                    0, 0, 0, 0, 0,
                    0, 0, 1, 1, 1, 1, 1,
                    0, 0, 0, 0, 0, 0, 0, 0, 0),
  diag_b = c(0, 0, 0, 0, 0, 0,
                    1, 1, 1, 1, 1,
                    0, 0, 0, 0, 0, 0, 0,
                    0, 0, 1, 0, 0, 0, 0, 0, 0),
  diag_c = c(1, 0, 0, 1, 0, 0,
                    0, 0, 0, 0, 0,
                    0, 0, 1, 1, 1, 1, 1,
                    0, 0, 0, 0, 0, 0, 0, 0, 0),
  diag_d = c(1, 1, 0, 0, 1, 1,
                    0, 0, 0, 0, 0,
                    0, 0, 1, 1, 1, 1, 1,
                    0, 0, 0, 0, 1, 0, 0, 0, 0)
)

</code></pre>
<p>I am hoping to achieve the following, but struggling:</p>
<ol>
<li>Identify if any of the 56 diagnoses appear across any of the episodes and extracts the earliest date of diagnosis of the condition.</li>
<li>Create a new binary indicator that indicates whether the participant has two or more of the 56 diagnoses across their series of hospital episodes (i.e. a 'multimorbidity' 0/1 column) and generate a new date column for when 'multimorbidity' is first achieved (i.e. date of second diagnosis of interest [which could happen within a single episode]). The dataset contained data about thousands of diagnoses, but I am only interested in these 56 contributing to multimorbidity.</li>
<li>Count and sums into a new column (e.g. 'condition_count') how many of the 56 diagnoses appear across the episodes for each ID.</li>
</ol>
<p>I'm getting lost on where to start with this, probably because I am trying to achieve too many things in one go. Ultimately, the most important part is to extract if each ID had multimorbidity (2+ diagnoses) and the date that this occurred, for use in subsequent regressions.</p>
","2024-03-07 13:37:04","0","Question"
"78120645","78118994","","<p>The way C handles <code>#include</code> statements is very simplistic. When it comes across <code>#include file1.c</code> all it does is replace that line with the entire contents of <code>file1.c</code> and then carry on. So, when compiling <code>main.c</code>, the first thing it does is replace the first line with the content of <code>file1.c</code> giving you:</p>
<pre><code>#include &quot;file2.c&quot;
static int anotherSampleFunction(){
    return sampleFunction()*2;
}
#include &quot;file2.c&quot;
int main(){
    return sampleFunction()+anotherSampleFunction();
}
</code></pre>
<p>So it now wants to compile this, but the first line is now <code>#include file2.c</code> so the compiler replaces the first line again with the content of <code>file2.c</code> giving you this:</p>
<pre><code>static int sampleFunction(){
    return 0;
}
static int anotherSampleFunction(){
    return sampleFunction()*2;
}
#include &quot;file2.c&quot;
int main(){
    return sampleFunction()+anotherSampleFunction();
}
</code></pre>
<p>Then it will continue compiling until it gets to the second <code>#include</code> and again replace it with the content of <code>file2.c</code></p>
<pre><code>static int sampleFunction(){
    return 0;
}
static int anotherSampleFunction(){
    return sampleFunction()*2;
}
static int sampleFunction(){
    return 0;
}
int main(){
    return sampleFunction()+anotherSampleFunction();
}
</code></pre>
<p>Now, as you can see, there are two definitions for <code>sampleFunc</code> in the same C file. This is an error.</p>
<p>The traditional way to get around this is to ut guard definitions into the files that will be included. These take the form</p>
<pre><code>#ifndef SOME_UNIQUE_NAME_USUALLY_BASED_ON_THE_FILE_NAME
#define SOME_UNIQUE_NAME_USUALLY_BASED_ON_THE_FILE_NAME

// Content of the file

#endif
</code></pre>
<p>The first time the compiler comes across this, the name is undefined, so everything inside the <code>#ifndef</code> is included, including defining the name. The next time the compiler comes across this, the name is defined, so the entire <code>#ifndef</code> is omitted. For example, in <code>file2.c</code> you might do the following</p>
<pre><code>#ifndef _FILE2_C
#define _FILE2_C

static int sampleFunction(){
    return 0;
}

#endif
</code></pre>
<p>Another thing you should bear in mind is that C files that are intended to be used in <code>#include</code> statements are usually called &quot;header files&quot; and, by convention, have a <code>.h</code> extension, not a <code>.c</code> extension. This is just a convention and the compiler attaches no relevance to it, but it is near universal, so you should stick to it.</p>
<p>Finally, you should consider not putting the function body in the header file. Doing it this way results in the function being compiled multiple times, once for each time the file is included. The normal way is to defined a header file and a C file with the header file just containing a <em>declaration</em> and the C file containing the <em>definition</em>. So you might have:</p>
<p>file2.h:</p>
<pre><code>#ifndef _FILE2_H
#define _FILE2_H

int sampleFunction();

#endif
</code></pre>
<p>file2.c:</p>
<pre><code>#include &quot;file2.h&quot;
int sampleFunction(){
    return 0;
}
</code></pre>
<p>Note I dropped the <code>static</code> keyword. This is because now <code>sampleFunction()</code> must be visible outside the compilation unit it is defined in. Also, technically, I should have used <code>extern</code> in <code>file2.h</code> but <code>extern</code> is implied for function declarations, so you don't need it.</p>
<p>Also, to compile this, you now need to compile two C files</p>
<pre><code>cc file2.c main.c
</code></pre>
","2024-03-07 10:39:16","0","Answer"
"78120181","78118994","","<p>Generally, it is not recommended to <code>#include</code> C source files into other C source files... you can end up (as you have) multiply including the same source file, and hence have multiple definitions and declarations!</p>
<p>However, the C pre-processor conveniently provides an alternative mechanism, the header file.</p>
<p>It is widely considered good practice that each C source file has an associated header file, which defines the external interface, so you should have something like:</p>
<p>file2.c</p>
<pre><code>#include &quot;file2.h&quot;    // Include the externals

int sampleFunction()  // Must be global scope
{
    return 0;
}
</code></pre>
<p>file2.h</p>
<pre><code>#ifndef HEADER_FILE2_H        // Protect against multiple inclusions
#define HEADER_FILE2_H
extern int sampleFunction();   // The external interface of file2.c
#endif
</code></pre>
<p>file1.c</p>
<pre><code>#include &quot;file1.h&quot;            // Include the externals
#include &quot;file2.h&quot;            // Get file2.c's external interface

int anotherSampleFunction()   // Must be global scope
{
    return sampleFunction()*2;
}
</code></pre>
<p>file1.h</p>
<pre><code>#ifndef HEADER_FILE1_H              // Protect against multiple inclusions
#define HEADER_FILE1_H
extern int anotherSampleFunction(); // External interface
#endif
</code></pre>
<p>main.c</p>
<pre><code>#include &quot;file1.h&quot;   // Include the header files,
#include &quot;file2.h&quot;   /// ... not the source files

int main()
{
    return sampleFunction()+anotherSampleFunction();
}
</code></pre>
<p>Of course, you may have project wide common stuff too, so that would go in a further header file.</p>
<p>Increasing the number of seperate source files will make the build process slower... and be mindful of the coupling and cohesion of each module. Ideally, there should be few external references into, and out of, a given module.</p>
","2024-03-07 09:31:44","1","Answer"
"78119259","78118994","","<p>because <code>include</code> will replace the code of file name that you specify.</p>
<p>So in file1.c will be</p>
<pre class=""lang-c prettyprint-override""><code>static int sampleFunction(){
    return 0;
}
static int anotherSampleFunction(){
    return sampleFunction()*2;
}
</code></pre>
<p>when come to <code>main.c</code> it's will defined <code>sampleFunction()</code> twice as you include.</p>
<p>So, in <code>main.c</code> you have to include only <code>file1.c</code>.</p>
<p>but in practical, You should use header files instead of include <code>.c</code> files.</p>
","2024-03-07 06:46:57","0","Answer"
"78118994","","C: redefinition of function when using #include","<p>I have encountered an issue in C that I am unable to recover, being &quot;redefinition of [function]&quot;, and when I checked for a redefinition, I don't see any.</p>
<p>this always occur when the files are written like so:</p>
<p>file2.c</p>
<pre><code>static int sampleFunction(){
    return 0;
}
</code></pre>
<p>file1.c</p>
<pre><code>#include &quot;file2.c&quot;
static int anotherSampleFunction(){
    return sampleFunction()*2;
}
</code></pre>
<p>main.c</p>
<pre><code>#include &quot;file1.c&quot;
#include &quot;file2.c&quot;
int main(){
    return sampleFunction()+anotherSampleFunction();
}
</code></pre>
<p>upon compiling, a</p>
<blockquote>
<p>&quot;redefinition of sampleFunction&quot;</p>
</blockquote>
<p>will occur in file2.c, even though the function wasn't redefined.<br />
please note that the code is sample code: in reality, the source code is much more complicated, so I tried to simplify.<br />
is there a way to fix this issue? thanks.</p>
","2024-03-07 05:43:11","0","Question"
"78116631","78115975","","<p>Thanks to some outside help, the following answer works:</p>
<ol>
<li><p>Because a custom page is just a live-wire component, the way to solve this is to use traits. In this way, functions can be added to the page</p>
</li>
<li><p>Useful link: <a href=""https://stackoverflow.com/questions/43433350/how-to-use-traits-in-laravel-5-4-18"">Using Traits in Laravel</a></p>
</li>
</ol>
","2024-03-06 18:27:25","1","Answer"
"78116557","78116335","","<p>Assuming that's definitely your problem, then try this:</p>
<pre class=""lang-json prettyprint-override""><code>{
    &quot;version&quot;: &quot;2.0&quot;,
    &quot;functionTimeout&quot;: &quot;00:10:00&quot;,
</code></pre>
<p>That might not be the cause of your problem though. In which case, consider providing more detail of what the symptoms are. A long running Azure Function is sometimes a hint you should reconsider the approach, e.g. breaking the job down into smaller parts.</p>
","2024-03-06 18:10:04","0","Answer"
"78116335","","How to Modify a host.json file to include Function Time out","<p>This is my current host.json, i need to add &quot;functionTimeout&quot;: &quot;00:10:00&quot; to it. where do i put the time out code?
'''
{
&quot;version&quot;: &quot;2.0&quot;,
&quot;logging&quot;: {
&quot;applicationInsights&quot;: {
&quot;samplingSettings&quot;: {
&quot;isEnabled&quot;: true,
&quot;excludedTypes&quot;: &quot;Request&quot;
}
}
}
}
'''</p>
","2024-03-06 17:28:51","0","Question"
"78115975","","Public functions relating to a custom page in Filament v3","<p>I am trying to code a custom function that will be called by different actions from multiple custom pages. In the traditional Laravel framework, I would have located these in a Services file under App\Services. However, when I create a Services file with the normal __construct() on the pages file, I get an error that the incorrect number of arguments are being passed.</p>
<p>I created a function in a Service as follows:</p>
<pre><code>&lt;?php


namespace App\Services;

class TripService

{

    public function test(){

        dd('yes');

    }


}
</code></pre>
<p>Then, on a custom page called LocationVolumeView, I added the normal construction:</p>
<pre><code>class LocationVolumeView extends Page implements HasForms, HasTable
{

    private $tripService;

   public function __construct (TripService $tripService)
   {
       $this-&gt;tripService = $tripService;
   }
</code></pre>
<p>Then, later on the same page, I have an action that calls on this function:</p>
<pre><code>-&gt;action(function (array $data,): void {


                        $this-&gt;tripService-&gt;test();


                    })
</code></pre>
<p>Unfortunately I get the error:</p>
<p>Too few arguments to function App\Filament\Pages\LocationVolumeView::__construct(), 0 passed in /Users/iainreynard/Code/TMS_ver2/vendor/livewire/livewire/src/Features/SupportPageComponents/SupportPageComponents.php on line 212 and exactly 1 expected</p>
<p>Any help appreciated</p>
","2024-03-06 16:29:46","0","Question"
"78115905","78115766","","<p>The <code>.index()</code> function does the inverse of what you wanted. Given a list</p>
<pre><code>x = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
</code></pre>
<p>if you did</p>
<pre><code>print(x.index(&quot;a&quot;))
</code></pre>
<p>you will see the answer</p>
<pre><code>&gt; 0
</code></pre>
<p>Because &quot;a&quot; is the 0th index in the list. The next function you tried and succeeded with was</p>
<pre><code>print(x[0])

&gt; &quot;a&quot;
</code></pre>
<p>which returns the value at that index in the list.</p>
<p>As an aside, as others have mentioned, you don't need to assign it to x, your function could just be</p>
<pre><code>def age(x):
    return x[2]
</code></pre>
","2024-03-06 16:17:58","0","Answer"
"78115874","78115766","","<p>The following are equivalent to a first approximation:</p>
<pre><code>f = lambda x: RETURN_VALUE

def f(x):
    return RETURN_VALUE
</code></pre>
<p>The only significant difference is that <code>f.__name__</code> is <code>&lt;lambda&gt;</code> in the first case, <code>f</code> in the second.</p>
<p>In other words, any function that can be defined with a single <code>return</code> statement can be defined with a lambda expression, and vice versa. The body of the lambda expression is just the return statement minus the <code>return</code> keyword.</p>
","2024-03-06 16:13:48","0","Answer"
"78115766","","Converting lambda to normal def function","<p>I am a beginner programmer and I'm currently watching Bro Code's tutorial on Python.
He coded it like this:</p>
<p><a href=""https://i.sstatic.net/jZpHa.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/jZpHa.png"" alt=""enter image description here"" /></a></p>
<p>I was wondering how you would do it with a &quot;def&quot; instead of a lambda and I guess I should put it in the next part.</p>
<p>I tried doing this:</p>
<pre><code>students = [(&quot;ab&quot;, &quot;F&quot;, 60),
            (&quot;man&quot;, &quot;D&quot;, 21),
            (&quot;yo&quot;, &quot;A&quot;, 22),
            (&quot;pope&quot;, &quot;C&quot;, 32)]
def age(x):
    return students.index(2)
a = sorted(students, key=age, reverse=True)

for e in a:
    print(e)
</code></pre>
<p>of course it didn't work and now i'm stuck.</p>
<p>edit:
in the middle of writing this i got what i should've done and now i don't understand it.</p>
<pre><code>def age(x):
    x = x[2]
    return x
</code></pre>
<p>if someone could explain it to me it would be great, thanks anyways</p>
","2024-03-06 15:57:35","-1","Question"
"78108443","78084513","","<p>Since this is a resource (control plane) level change, you will need to use the <a href=""https://learn.microsoft.com/en-us/dotnet/api/overview/azure/resourcemanager.signalr-readme?view=azure-dotnet"" rel=""nofollow noreferrer""><code>Azure.ResourceManager.SignalR</code></a> SDK which <a href=""https://github.com/Azure/azure-sdk-for-net/blob/Azure.ResourceManager.SignalR_1.1.0/doc/dev/mgmt_quickstart.md#authenticate-the-client"" rel=""nofollow noreferrer"">supports Managed Identity</a>.</p>
<p>In your scenario, I assume you have the Resource ID, so you can use the SDK to fetch the latest configuration and perform updates as shown <a href=""https://github.com/Azure/azure-sdk-for-net/blob/Azure.ResourceManager.SignalR_1.1.0/doc/dev/mgmt_quickstart.md#managing-existing-resources-by-id"" rel=""nofollow noreferrer"">here</a>.</p>
<p>Do note the following warning that the Azure Portal has for converting between Free and other tiers of Azure SignalR Service</p>
<p><a href=""https://i.sstatic.net/TJJb6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/TJJb6.png"" alt=""enter image description here"" /></a></p>
","2024-03-05 14:28:15","1","Answer"
"78108221","78108107","","<p>Found a partial solution just after posting: using <code>flet</code> from the <code>cl.el</code> package instead of <code>cl-flet</code> works:</p>
<pre><code>(require 'cl)

(defun zzz/wrapper (f &amp;rest r)
  (flet
      ((zzz/original
        ()
        (message &quot;Replacement func&quot;)))
    (apply f r)))
</code></pre>
<p>However this triggers a deprecation warning about <code>cl.el</code>, so I'm still looking for a non-deprecated solution.</p>
","2024-03-05 13:51:04","0","Answer"
"78108107","","Temporarily overriding a function in Emacs Lisp","<p>I would like to override a function, but only when it is called from another specific function. Following the answers to <a href=""https://stackoverflow.com/q/2406814/5397009"">this question</a>, I wrote the following:</p>
<pre><code>(defun zzz/original () (message &quot;Original func&quot;))

(defun zzz/uses-original () (zzz/original))

(defun zzz/wrapper (f &amp;rest r)
  (cl-flet
      ((zzz/original
        ()
        (message &quot;Replacement func&quot;)))
    (apply f r)))

(advice-add #'zzz/uses-original
            :around
            #'zzz/wrapper)
</code></pre>
<p>I expected that calling <code>(zzz/original)</code> would keep printing <code>&quot;Original func&quot;</code> (it does), and that calling <code>(zzz/uses-original)</code> would print <code>&quot;Replacement func&quot;</code> (it doesn't: it still prints <code>&quot;Original func&quot;</code>).</p>
<p>Note that if I inline the contents of <code>zzz/uses-original</code> instead of calling it through <code>apply</code>, then I get the expected result:</p>
<pre><code>(defun zzz/wrapper (f &amp;rest r)
  (cl-flet
      ((zzz/original
        ()
        (message &quot;Replacement func&quot;)))
    ;; Following is a copy of the code from `zzz/uses-original':
    (zzz/original)))
</code></pre>
<p>So what am I doing wrong, and is there a way to get this to work?</p>
","2024-03-05 13:32:31","0","Question"
"78107556","78107037","","<pre><code>output &lt;- difftime(all_trips$ended_at, all_trips$started_at)
</code></pre>
","2024-03-05 11:57:27","0","Answer"
"78107037","","How do I resolve error: objectnotfound, difftime() function in R Language","<p>I have two columns <code>ended_at</code> and <code>started_at</code>. I want to calculate the time difference  using this code below</p>
<p><code>all_trips &lt;- Dfftime(all-trips&amp;ended_at, all_trips&amp;started_at)</code> but it keeps returning</p>
<blockquote>
<p>object ended_at not found</p>
</blockquote>
","2024-03-05 10:36:46","0","Question"
"78105431","78105407","","<p>You can use <a href=""https://docs.python.org/3/tutorial/controlflow.html#tut-unpacking-arguments"" rel=""nofollow noreferrer"">dictionary unpacking</a>.</p>
<p>Here's a simple example:</p>
<pre class=""lang-py prettyprint-override""><code>def f(a = 1, b = 2):
  print(f&quot;{a = }, {b = }&quot;)

f(b=5)  # output: &quot;a = 1, b = 5&quot;

kwargs = {&quot;b&quot;: 5}
f(**kwargs)  # output: &quot;a = 1, b = 5&quot;
</code></pre>
<p>Which can be applied to your scenario:</p>
<pre class=""lang-py prettyprint-override""><code>def edit_features_retry(editType, data):
    AGOLlayer.edit_features(**{editType: data})

edit_features_retry(&quot;adds&quot;, datalayer)
</code></pre>
","2024-03-05 05:06:53","3","Answer"
"78105407","","How do I pass in a parameter name into a function as an argument in python?","<p>How do I pass in a parameter name into a function as an argument?</p>
<pre><code>def edit_features_retry(editType,data):
    AGOLlayer.edit_features(editType=data)

edit_features_retry(&quot;adds&quot;, datalayer)
</code></pre>
<p>error:</p>
<pre><code>TypeError: edit_features() got an unexpected keyword argument 'editType'
</code></pre>
<p>If I do it this way as a string:</p>
<pre><code>def edit_features_retry(editType,data):
    AGOLlayer.edit_features(editType=data)

edit_features_retry(adds, datalayer)
</code></pre>
<p>error:</p>
<pre><code>NameError: name 'adds' is not defined
</code></pre>
","2024-03-05 04:59:22","2","Question"
"78104788","78104751","","<p>I call the <code>!</code> force unwrap operator the &quot;crash if nil&quot; operator. That is what it does. Any time you use it and the optional you are force-unwrapping contains a nil, your app will crash. You should avoid it completely until you really, really understand optionals, and then probably still avoid it.</p>
<p>As Alexander says in his comment, your input date string does not appear to match the format you've given your DateFormatter. Code that depends on the format of external data is especially fragile, and you should really, REALLY avoid force-unwrapping code that relies on input data formatting.</p>
<p>Look into <code>if let</code>, <code>guard let</code>, the <code>??</code> &quot;nil coalescing operator&quot;, and other techniques for safely dealing with nil optionals. Even if you fix your date formatter problem I would still suggest getting rid of the force unwrap and using one of those other techniques (or even making your date field an Optional that is nil if your code can't parse the date correctly, and then coding defensively elsewhere.)</p>
","2024-03-05 00:50:48","0","Answer"
"78104751","","Why Fatal error: Unexpectedly found NIL while unwrapping an Optional value","<p>I would like to read metadata from a video. The console shows me the creation date from the metadata of the file. I may be extracting the date (via string) incorrectly. Why do I get the fatal error? Thank you very much!</p>
<pre><code>    func getVideoMetadataDate (srcPath: String, itemSrc: String) async -&gt; Date {
        
        let dF = DateFormatter()
        dF.dateFormat = &quot;yyyy:MM:dd HH:mm:ss&quot;
        
        let returnValue: String = &quot;1975:01:01 00:00:00&quot;
        
        
        let itemSrcURL = URL(fileURLWithPath: srcPath + &quot;/&quot; + String(itemSrc))
        let asset = AVAsset(url: itemSrcURL)
        
        do {
            for format in try await asset.load(.availableMetadataFormats) {
                
                let metadata = try await asset.loadMetadata(for: format)

                let dateItems = AVMetadataItem.metadataItems(from: metadata, filteredByIdentifier: .commonIdentifierCreationDate)
                guard let item = dateItems.first else { return dF.date(from: returnValue)! }
                let dateCreate = item.value as! String
                print(dateCreate) // Console -&gt; = &quot;2024-02-13T13:22:30+0100&quot;
                return dF.date(from: dateCreate)! // Here -&gt; Thread 9: Fatal error: Unexpectedly found nil while unwrapping an Optional value
            }
        } catch {
            return dF.date(from: returnValue)!
        }
        return dF.date(from: returnValue)!
    }
</code></pre>
<p>I would like the function to return the creation date from the metadata.</p>
","2024-03-05 00:34:01","-2","Question"
"78101031","78083297","","<p>You can use below PowerShell script to get the pipeline state.</p>
<pre><code>$ResourceGroupName = '&lt;resourceGroupName&gt;'
$DataFactoryName = '&lt;adfName&gt;'
$before = (Get-Date).AddDays(1)
$after = (Get-Date).AddDays(-1)
$runIds = Get-AzDataFactoryV2PipelineRun -DataFactoryName $DataFactoryName -ResourceGroupName $ResourceGroupName -LastUpdatedAfter $after -LastUpdatedBefore $before

$runIds | ForEach-Object {
    # Check for all statuses
    Write-Host $_.Status
    Write-Host $_.RunStart
    Write-Host $_.RunEnd
}
</code></pre>
<p>For InProgress state pipelines you will get null as value for RunEnd. Ensure the pipeline run is not getting completed before the execution of the script. For more information you can refer <a href=""https://stackoverflow.com/questions/66569681/why-get-azdatafactoryv2pipelinerun-doesnt-return-inprogress-pipeline-runs"">this</a>.</p>
","2024-03-04 11:53:29","0","Answer"
"78098922","78098874","","<p>Did you try turning off sticky scroll?
View -&gt; appearance and toggle it off.</p>
<p>Also, may be inlay hints fix the problem.
file-&gt;preferences-&gt;setting-&gt; search for inlay hints</p>
<p>Restart vscode after changing to make sure.</p>
","2024-03-04 04:09:04","7","Answer"
"78098874","","How can I turn off this function name displaying feature in visual studio code?","<p>Code Pannel:</p>
<p><img src=""https://i.sstatic.net/R7dwa.png"" alt=""Code Pannel"" /></p>
<p>How to avoid the function name displaying over other code?</p>
<p>Feels like a glitch in VS Code. The function name is displayed over the code part, making it confusing to understand where the function starts. How can this feature be removed?</p>
","2024-03-04 03:48:26","2","Question"
"78095572","78095083","","<p>By default, max() operates on the sort order of the objects passed to it. In the case of strings, the sort order is determine by lexicographical comparison. Your concept of &quot;largest&quot; is flawed. You could, of course, pass a key parameter to the built-in max() function which would then match your idea of &quot;largest&quot; in the context of strings.</p>
<p>So, if you want to emulate the built-in <em>max()</em> function, you could do this:</p>
<pre><code>def mymax(seq, key=None):
    return sorted(seq, key=key)[-1]
</code></pre>
<p>...then...</p>
<pre><code>sentences = [
    &quot;Give every man thy ear, but few thy voice&quot;,
    &quot;What's done can't be undone&quot;,
    &quot;Though she be but little, she is fierce&quot;
    ]

print(mymax(sentences))
print(mymax(sentences, key=len))
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>What's done can't be undone
Give every man thy ear, but few thy voice
</code></pre>
","2024-03-03 08:15:25","1","Answer"
"78095083","","Why my own mymax function (replacement of python built-in max) cannot compare strings properly?","<p>I am writing mymax() function as a replacement of python in-built max function. mymax will be universal function - can take any iterable (list, tuple, string) and returns the largest element in the iterable.  While this works totally fine for list and tuple, it is inconsistent while returning the larger string.</p>
<p>-- The following function returns 'lives in Jungles' as larger element which is incorrect.</p>
<pre><code>def mymax(seq):
    #for loop to initiate var as emtpy string or as 0 depending on user input.
    for elemType in seq:
        if isinstance(elemType, str):
            var = ''
            break
        else:
            var = 0
    # for loop to find the largest element in the sequence.
    for element in seq:
        if element &gt; var:  
            var = element
    return var
    
mymax(('Lions', 'live in Jungles', 'and under the starry sky'))
   -- this return 'live in Jungles' although 3rd element is larger.

mymax(('Lions', 'live in Jungles', 'and under the starry sky', 'within this galaxy where earth revolves around the sun.'))
  -- rightly returns the 4th element
</code></pre>
<p>What could be causing this inconsistency?</p>
<p>I tried to different arguments to mymax function but it still seems to be behaving inconsistently with list of strings.</p>
","2024-03-03 04:05:41","0","Question"
"78093127","78092106","","<p>Instead of a simple <code>return</code>, you can <code>return True</code> if success, and <code>return False</code> if not</p>
<pre class=""lang-py prettyprint-override""><code>def login():
    while True:
        loginUser = input(&quot;Username: &quot;)
        loginPass = getpass.getpass()
        for user_info in users:
            if loginUser == user_info[0] and loginPass == user_info[1]:
                print(&quot;Success\n&quot;)
                return True
        else:
            print(&quot;Wrong username or password\n&quot;)
            return False
</code></pre>
<p>Then using it:</p>
<pre class=""lang-py prettyprint-override""><code>if login():
    success_function()
</code></pre>
","2024-03-02 14:57:04","0","Answer"
"78092106","","How can I call a function within a login() function - python3","<p>I have a login function already which I would like to use in the code to call other functions.</p>
<pre><code>def login():
    while True:
        loginUser = input(&quot;Username: &quot;)
        loginPass = getpass.getpass()
        for user_info in users:
            if loginUser == user_info[0] and loginPass == user_info[1]:
                print(&quot;Success\n&quot;)
                return
        else:
            print(&quot;Wrong username or password\n&quot;)
</code></pre>
<p>Is there a way so that after it prints 'Success' I can call a function without putting it IN the login() function or just rewriting out the entire block of code again for example</p>
<pre><code>login()
if login() is successful then function()
else print wrong username
</code></pre>
<p>rather than just adding the whole function to another function or adding the function under the success part.</p>
","2024-03-02 09:29:05","0","Question"
"78089480","78087204","","<p>This works for me:</p>
<pre><code>
'This can be called from a worksheet as a UDF
Public Function CountByColor(CellRange As Range, TargetCell As Range) As Long
    Dim TargetColor As Long, c As Range
    
    TargetColor = CFWrapper(TargetCell)
    For Each c In CellRange
        If CFWrapper(c) = TargetColor Then CountByColor = CountByColor + 1
    Next c
End Function

'Returns the `DisplayFormat` Fill color of a cell, using Evaluate to
'  side-step limitations on what a UDF can do 
Function CFWrapper(c As Range) As Long
    'use the `Worksheet.Evaluate` method, not the default `Application.Evaluate`
    CFWrapper = c.Worksheet.Evaluate(&quot;Cfcolour(&quot; &amp; c.Address(0, 0) &amp; &quot;)&quot;)
End Function

'called from Evaluate via the worksheet
Function CFColour(c As Range) As Long
    CFColour = c.DisplayFormat.Interior.COLOR
End Function
</code></pre>
","2024-03-01 17:30:28","0","Answer"
"78089477","78089355","","<p>Here is an introduction to how to get things working. lots of room for improvement though ;)</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function getComputerChoice() {
  const choice = [""paper"", ""rock"", ""scissors""];
  let result = choice[Math.floor(Math.random() * 3)];
  console.log('computer plays ' + result);
  return result;
};

function playRound(playerSelection, computerSelection) {
  if (playerSelection == computerSelection) {
    console.log(""It is a tie!"");
    return;
  };
  if (playerSelection == 'rock' &amp;&amp; computerSelection == 'paper') {
    console.log('Computer wins');
    return;
  }
  if (playerSelection == 'paper' &amp;&amp; computerSelection == 'scissors') {
    console.log('Computer wins');
    return;
  };
  if (playerSelection == 'scissors' &amp;&amp; computerSelection == 'rock') {
    console.log('Computer wins');
    return;
  }
  console.log('You Win!');
}
document.getElementById('playRock').addEventListener('click', (e) =&gt; this.playRound('rock', getComputerChoice()));

document.getElementById('playPaper').addEventListener('click', (e) =&gt; this.playRound('paper', getComputerChoice()));

document.getElementById('playScissors').addEventListener('click', (e) =&gt; this.playRound('scissors', getComputerChoice()));</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;button id=""playRock""&gt;Shoot Rock&lt;/button&gt;
&lt;button id=""playPaper""&gt;Shoot Paper&lt;/button&gt;
&lt;button id=""playScissors""&gt;Shoot Scissors&lt;/button&gt;</code></pre>
</div>
</div>
</p>
","2024-03-01 17:29:15","0","Answer"
"78089464","78089355","","<p>Remove the playerSelection and computerSelection parameters in playRound() function as they are acting as local variables and not global variables. hope it helps.</p>
","2024-03-01 17:26:37","1","Answer"
"78089401","78089355","","<p>This:</p>
<pre><code>playRound()
</code></pre>
<p>doesn't pass any values to the function.  So within the function <code>playerSelection</code> and <code>computerSelection</code> are always <code>undefined</code>.  Within that function you are declaring those two local variables with the same name as two global variables.  The local variables <em>shadow</em> those global variables, so you can only use the local ones.</p>
<p>If you meant to use the global variables, don't re-declare local variables of the same name:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const playerSelection = ""rock""
const computerSelection = getComputerChoice();
console.log(playRound());

function getComputerChoice() {
    const choice = [""paper"", ""rock"", ""sissors""];
    return choice[Math.floor(Math.random() * 3)];
}

function playRound() {
    if (playerSelection === computerSelection) {
        return ""It is a tie!"";
    }   else {
        return ""Please try again!"";
    }
}</code></pre>
</div>
</div>
</p>
<p>Alternatively, if you do want to use local variables in that function, pass your values to it (and I recommend giving them different names to avoid confusion):</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const playerSelection = ""rock""
const computerSelection = getComputerChoice();
console.log(playRound(playerSelection, computerSelection));

function getComputerChoice() {
    const choice = [""paper"", ""rock"", ""sissors""];
    return choice[Math.floor(Math.random() * 3)];
}

function playRound(pl, cmp) {
    if (pl === cmp) {
        return ""It is a tie!"";
    }   else {
        return ""Please try again!"";
    }
}</code></pre>
</div>
</div>
</p>
","2024-03-01 17:17:39","2","Answer"
"78089355","","Need Assistance with a JavaScript Function for the ""Paper, Rock, Sissors Challenge.""","<p>I am testing my playRound() function and not receiving the desired results with a console.log output.  The output is always the initial return of the if statement.</p>
<p>I have initialized the global variable of playerChoice to equal a string, i.e. “rock”.</p>
<p>I have verified that the output of the getComputerChoice() functions generates a random selection from the array, .i.e. paper, rock or scissors, with console.log(getComputerChoice()).</p>
<p>However, when I call the playRound() function I only receive the initial return on the if statement of “It’s a tie”.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const playerSelection = ""rock""
const computerSelection = getComputerChoice();
console.log(playRound());

function getComputerChoice() {
    const choice = [""paper"", ""rock"", ""sissors""];
    return choice[Math.floor(Math.random() * 3)];
}

function playRound(playerSelection, computerSelection) {
    if (playerSelection === computerSelection) {
        return ""It is a tie!"";
    }   else {
        return ""Please try again!"";
    }
}</code></pre>
</div>
</div>
</p>
<p>Why does the code seem to short circuit at the initial return of the if statement and never proceed to outputting “Try Again?”</p>
<p><a href=""https://i.sstatic.net/c2Vq3.png"" rel=""nofollow noreferrer"">console.log(getComputerChoice())</a>
<a href=""https://i.sstatic.net/u7KfQ.png"" rel=""nofollow noreferrer"">console.log(playRound())</a></p>
","2024-03-01 17:09:53","1","Question"
"78088945","78088785","","<p>In your code, you need to transform the name referred to by <code>xvar</code> into a string. You can do this via</p>
<pre><code>deparse(substitute(xvar), backtick = TRUE)
</code></pre>
<p>Note the <code>backtick = TRUE</code> parameter! This is important to correctly handle non-syntactic names (e.g. <code>`foo bar`</code>) being passed into the function.</p>
<p><strong>But</strong> your code also handles such names incorrectly when passed via <code>yvars</code>, and you need to fix this. One way would be to transform <code>yvars</code> into names (via <code>map(yvars, rlang::sym)</code> or <code>lapply(yvars, as.name)</code>) and then back into strings as above. But what you’re currently doing is a detour anyway. Much easier to construct the formulas directly rather than via the detour of constructing strings. That way you also don’t have to convert your <code>xvar</code> into a string.</p>
<pre><code>  stat_test &lt;- yvars %&gt;%
    map(rlang::sym) %&gt;%
    map(\(y) rlang::inject(!! y ~ !! rlang::ensym(xvar))) %&gt;%
    map_df(~ wilcox_test(.x, data = df))
</code></pre>
","2024-03-01 15:57:49","4","Answer"
"78088785","","Using quotation marks in an R function","<p>I am trying to write an R function which returns a table of summary statistics (based on the <code>get_summary stats</code>function from the <code>rstatix</code> package) and computes a Wilcoxon test. This would be performed over several <em>Y</em> variables with a constant <em>X</em> variable of interest (which would be the basis for the summary stats table).</p>
<p>This is how the function looks now:</p>
<pre><code>summary_stats_and_test &lt;- function(df, xvar, yvars){
  df_res &lt;- df %&gt;% 
    group_by({{ xvar }}) %&gt;% 
    select({{ yvars }}, {{ xvar }}) %&gt;% 
    get_summary_stats(type = &quot;mean_sd&quot;) %&gt;% 
    arrange(variable) %&gt;% 
    mutate(across(where(is.numeric), ~ num(., digits = 1)))
  
  stat_test &lt;- yvars %&gt;% 
  paste(&quot; ~ &quot;, xvar) %&gt;% 
  map(as.formula) %&gt;% 
  map_df(~wilcox_test(.x, data = df))
  
  return(list(table = df_res, test = stat_test))
}
</code></pre>
<p>I &quot;embraced&quot; <code>xvar</code> and <code>yvars</code>inside the <code>df_res</code> chunk.
However, I can't seem to understand how to specify the <code>xvar</code> value inside the paste function to perform correctly.</p>
<p>This is some code for example:</p>
<pre><code>weight_wc_deltas_vars = c(&quot;weight_1&quot;, &quot;weight_2&quot;, &quot;weight_3&quot;, &quot;WC_1&quot;, &quot;WC_2&quot;, &quot;WC_3&quot;)
df %&gt;%  
  mutate(has_weight = if_else(is.na(col_1), &quot;no&quot;, &quot;yes&quot;)) %&gt;% 
  summary_stats_and_test(xvar = has_weight,
                         yvars=weight_wc_deltas_vars[1:3])
</code></pre>
<p>If <code>has_weight</code> in the function is without quotation marks, I get an error: <code>Error: object 'has_weight' not found</code>. If it's with quotation marks, I don't get an error, but the <code>group_by</code> function inside my function has no effect.</p>
<p>More generally, It's not so clear to me if the best practice would be to write the argument of my function with or without quotation marks in R. The concept of embracing in the context of tidyverse is clear, but here I'm stuck over the same issue.</p>
","2024-03-01 15:27:28","1","Question"
"78087680","78087641","","<p>There are a few problems with your code.
First, the class declaration:</p>
<pre><code>class.class1():
</code></pre>
<p>Should be:</p>
<pre><code>class class1:
</code></pre>
<p>And you should use self to reference the class member funtions. The final code should be:</p>
<pre><code>num2 = 1234
num1 = 123

class class1:
    def function1(self, num1, num2):
        t = num1 + num2
        return t


    def function2(self, num1, num2):
        print(self.function1(num1, num2))

c1 = class1()
c1.function2(num1, num2)
</code></pre>
<p>I've tested it and it works.</p>
","2024-03-01 12:16:30","1","Answer"
"78087641","","NameError: name '(function)' is not defined","<p>I was writing code and came across a certain anomaly in my opinion. I created a primer that reproduces this error.</p>
<pre class=""lang-py prettyprint-override""><code>num2 = 1234
num1 = 123
class.class1():
    def function1(num1, num2):
        t = num1 + num2
        return t

  
    def function2(num1, num2):
        print(function1(num1, num2))


class1.function2(num1, num2)
</code></pre>
<p>console</p>
<blockquote>
<p>Traceback (most recent call last):
File &quot;/home/runner/Python/main.py&quot;, line 12, in 
roro.function2(num1, num2)
File &quot;/home/runner/Python/main.py&quot;, line 9, in function2
print(function1(num1, num2))
NameError: name 'function1' is not defined</p>
</blockquote>
<p>I didn’t find the answer on the Internet and asked the AI in &quot;replit&quot; to solve this problem, but it gave me a “corrected code” that was identical to mine. In general, I'm at a dead end.
Please help. Tell me what am I doing wrong?</p>
<p>I added <code>self</code> to every function but it didn't work.</p>
<p>and I did <a href=""https://stackoverflow.com/questions/50496654/name-function-name-is-not-defined"">this</a>: &quot;The object the function is called on automatically gets passed as <code>self</code>.</p>
<p>So if you call <code>x.add(y)</code>, self will be <code>x</code> and <code>other</code> will be <code>y</code>&quot;</p>
<p>class</p>
<blockquote>
<p>Traceback (most recent call last):
File &quot;/home/runner/Python/main.py&quot;, line 11, in 
class1.num1.function2(num2)
AttributeError: type object 'class1' has no attribute 'num1'</p>
</blockquote>
<blockquote>
<p>Traceback (most recent call last):
File &quot;/home/runner/Python/main.py&quot;, line 11, in 
class1.function2(num1, num2)
TypeError: class1.function2() missing 1 required positional argument: 'num2'</p>
</blockquote>
<blockquote>
<p>Traceback (most recent call last):
File &quot;/home/runner/Python/main.py&quot;, line 11, in 
class1.function2(num1, num2)
TypeError: class1.function2() missing 1 required positional argument: 'num2'</p>
</blockquote>
","2024-03-01 12:09:12","-1","Question"
"78087600","77960533","","<p>This worked for me.</p>
<p>#My Directory</p>
<pre><code>FunctionApp2.sln/
|-- ClassLibrary1/
|   |-- Class1.cs
|-- FunctionApp2/
|   |-- Function1.cs
|   |-- Startup.cs
|   |-- host.json
|   |-- local.settings.json
</code></pre>
<p><a href=""https://i.imgur.com/DoBzjXl.png"" rel=""nofollow noreferrer""><img src=""https://i.imgur.com/DoBzjXl.png"" alt="""" /></a></p>
<p><strong><code>Class1.cs</code>:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>namespace ClassLibrary1
{
    public class Class1
    {
        public Guid Id { get; set; }
        public string Name { get; set; }

        public Class1(string name)
        {
            Id = Guid.NewGuid();
            Name = name;
        }
    }
}
</code></pre>
<p><strong><code>FunctionApp2.csproj</code>;</strong></p>
<pre class=""lang-xml prettyprint-override""><code>&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;
  &lt;PropertyGroup&gt;
    &lt;TargetFramework&gt;net6.0&lt;/TargetFramework&gt;
    &lt;AzureFunctionsVersion&gt;v4&lt;/AzureFunctionsVersion&gt;
  &lt;/PropertyGroup&gt;
  &lt;ItemGroup&gt;
    &lt;PackageReference Include=&quot;Microsoft.Azure.Functions.Extensions&quot; Version=&quot;1.1.0&quot; /&gt;
    &lt;PackageReference Include=&quot;Microsoft.NET.Sdk.Functions&quot; Version=&quot;4.2.0&quot; /&gt;
  &lt;/ItemGroup&gt;
    &lt;ItemGroup&gt;
        &lt;ProjectReference Include=&quot;..\ClassLibrary1\ClassLibrary1.csproj&quot; /&gt;
    &lt;/ItemGroup&gt;
  &lt;ItemGroup&gt;
    &lt;None Update=&quot;host.json&quot;&gt;
      &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;
    &lt;/None&gt;
    &lt;None Update=&quot;local.settings.json&quot;&gt;
      &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;
      &lt;CopyToPublishDirectory&gt;Never&lt;/CopyToPublishDirectory&gt;
    &lt;/None&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;

</code></pre>
<p><strong><code>Function1.cs</code>:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>using System;
using Microsoft.Azure.WebJobs;
using Microsoft.Azure.WebJobs.Host;
using Microsoft.Extensions.Logging;
using ClassLibrary1;

namespace FunctionApp2
{
    public class Function1
    {
        [FunctionName(&quot;Function1&quot;)]
        public void Run([TimerTrigger(&quot;0 */5 * * * *&quot;)]TimerInfo myTimer, ILogger log)
        {
            log.LogInformation($&quot;C# Timer trigger function executed at: {DateTime.Now}&quot;);

            var myObject = new Class1(&quot;Vivek&quot;);

            log.LogInformation($&quot;Created MyClass object with ID: {myObject.Id}, Name: {myObject.Name}&quot;);
        }
    }
}
</code></pre>
<p><strong><code>Startup.cs</code>:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>using Microsoft.Azure.Functions.Extensions.DependencyInjection;
using Microsoft.Extensions.DependencyInjection;
using ClassLibrary1;


[assembly: FunctionsStartup(typeof(FunctionApp2.Startup))]

namespace FunctionApp2
{
    public class Startup : FunctionsStartup
    {
        public override void Configure(IFunctionsHostBuilder builder)
        {

        }

    }
}

</code></pre>
<h1><code>OUTPUT</code>:</h1>
<p><a href=""https://i.imgur.com/5wa9c1v.png"" rel=""nofollow noreferrer""><img src=""https://i.imgur.com/5wa9c1v.png"" alt="""" /></a></p>
","2024-03-01 12:02:32","0","Answer"
"78087204","","VBA how to update cell that ran the module with the output value","<p>I am trying to return the number of cells in CellRange that have a background colour of TargetCell. Please see my code below:</p>
<pre><code>Public Function CountByColor(CellRange As Range, TargetCell As Range)
 Application.ScreenUpdating = False

  Application.Calculation = xlCalculationManual

Application.EnableEvents = False

Dim TargetColor As Long, Count As Long, C As Range

TargetColor = Evaluate(&quot;cfcolour(&quot; &amp; TargetCell.Address &amp; &quot;)&quot;)
For Each C In CellRange
If Evaluate(&quot;Cfcolour(&quot; &amp; C.Address &amp; &quot;)&quot;) = TargetColor Then Count = Count + 1

Next C
CountByColor = Count

 Application.Calculation = xlCalculationAutomatic

 Application.ScreenUpdating = True

Application.EnableEvents = True
End Function
Function CFColour(Cl As Range) As Double
 Application.ScreenUpdating = False

  Application.Calculation = xlCalculationManual

 Application.EnableEvents = False
   CFColour = Cl.DisplayFormat.Interior.Color
    Application.ScreenUpdating = True

  Application.Calculation = xlCalculationAutomatic

Application.EnableEvents = True
End Function
</code></pre>
<p>When I run this module it works perfectly, but when I comment my code (as it keeps running), the values in the cells disappear. So, as an alternate, I have been copy and pasting the cell results before commenting the code. Is there a way for me to replace the cell's function call with the actual output value? so that I only need to run the code once without having to comment and uncomment my code.</p>
<p>Thank you</p>
<p>mentioned in the description above.</p>
","2024-03-01 10:45:27","0","Question"
"78084513","","signalr - programatically scaling up (from azure function)","<p>Trying to figure out a good way to scale up/down (ex: from Free to Standard) a SignalR Service programmatically from an Azure timer Function (C#).  The function has a managed identity with the Contributor role to the SignalR Service already.</p>
<p>Any thoughts on how to do this and what Nuget libraries would be best?  Examples with a managed identity would be helpful.</p>
<p>Thanks in advance!</p>
","2024-02-29 22:00:16","0","Question"
"78083900","78062174","","<p>The version looping in reverse order to support &gt; 9 variables and without regexp functions for better efficiency on large data set:</p>
<pre><code>with data(id, text) as (
    select 1, 'It is %1 today with a %2 sky.' from dual union all
    select 2, 'It is %1 today with %2 and chances of %3.' from dual union all
    select 3, 'I just %1 have a %2 that %3 understand. We %4 need %5 to %6 on.' from dual union all
    select 4, '%1,%2,%3,%4,%5,%6,%7,%8,%9,%10' FROM DUAL
),
variables(code, id, vals) as (
    select 'A1', 1, 'sunny/bright blue' from dual union all
    select 'A2', 2, 'rainy/severe thunder storms/flooding' from dual union all
    select 'A3', 3, 'might/problem/you''ll/all/somebody/lean' from dual union all
    select 'A4', 1, 'rainy/dark' from dual union all
    select 'A5', 4, 'A/B/C/D/E/F/G/H/I/J' FROM dual
),
compvars(code, id, vid, vals, result, pos, isleaf) as (
    select code, v.id, length(vals) - length(replace(vals,'/','')) as vid, 
        vals, 
        replace(d.text, '%' || to_char(length(vals) - length(replace(vals,'/',''))+1), 
            substr(vals, instr(vals,'/', -1) + 1)
            ) as s,
        length(vals) - instr(vals,'/', -1) + 1 as pos,
        case when 0 &lt; (length(vals) - length(replace(vals,'/',''))) then 0 else 1 end as c 
    from variables v
    join data d on d.id = v.id
    
    union all
    
    select cv.code, cv.id, cv.vid-1, 
        vals, 
        case when cv.vid &gt; 0 then 
            replace(cv.result, '%' || to_char(cv.vid), 
                substr(vals, instr(vals,'/', -pos-1) + 1, 
                length(vals) - instr(vals,'/', -pos-1) - pos)
            ) 
        else null end,
        length(vals) - instr(vals,'/', -pos-1) + 1 as pos,
        case when cv.vid = 1 then 1 else 0 end 
    from compvars cv
    where cv.vid &lt;&gt; 0
)
select code, result from compvars 
where isleaf = 1
;
</code></pre>
","2024-02-29 19:44:50","0","Answer"
"78083731","78078849","","<p>I took a step back, and accomplished what I wanted by doing the following:</p>
<pre><code>create or replace function pd_lt3(customer integer,days_overdue smallint)
returns table (pd_lt3 smallint)
language plpgsql
as $$
declare var_r record;
begin
    for var_r in(select customer, days_overdue)      
         loop return query select cast(count(*) as smallint) from past_due_detail where days_past_due &lt; 3 and customer_id = customer;
    end loop;
end;
$$;
</code></pre>
","2024-02-29 19:04:38","0","Answer"
"78083297","","Why Get-AzDataFactoryV2PipelineRun doesn't return InProgress pipeline?","<p>I am running Azure Function App with the following PowerShell script to get ADF pipeline runs. It is returning all history of pipeline runs, but it is skipping the Active( In Process) run. It is returning Completed/Failed/Cancelled runs only. Microsoft Documentation shows that it should also return InProgress status as well. I triggered the ADF and made sure that it is running and this script only returned runs starting from the last completed run and previous runs, but completely ignored Active/InProgress run.</p>
","2024-02-29 17:30:44","0","Question"
"78083282","78078901","","<p>Not functionality that PHPExcel (or its successor PhpSpreadsheet) will ever support, unless somebody writes a VBA parser in PHP.</p>
","2024-02-29 17:27:59","1","Answer"
"78082758","78082662","","<p>You can restructure your code and name your variables more appropriately.</p>
<p>The <code>decreaseTime</code> function should wholly be responsible for the timeout loop.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let contactForm, submitBtn, timeRemainingSeconds; // Global state

document.addEventListener('DOMContentLoaded', onContentLoaded);

function onContentLoaded() {
  contactForm = document.forms['contact-form'];
  submitBtn = contactForm.querySelector('button[type=""submit""]');
  timeRemainingSeconds = 20;

  decreaseTime(); // Start the interval
}

function decreaseTime() {
  submitBtn.textContent = `Submit (${timeRemainingSeconds})`;
  if (timeRemainingSeconds-- &lt;= 0) {
    submitBtn.textContent = 'Submit';
    submitBtn.disabled = false;
    return true;
  }
  setTimeout(decreaseTime, 1000);
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;form name=""contact-form""&gt;
  &lt;button type=""submit"" disabled&gt;&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
</p>
","2024-02-29 15:57:33","0","Answer"
"78082662","","Decrease time with javascript","<p>I have an error with the <code>decreaseTime</code> function. It's built to hide a submit button and change the value of the <code>input</code> on the contact form for defined time.</p>
<p>On my old page it was running fine, but with JqueryMobile 1.4.5 it stops working. The name for the form is correct.</p>
<p>I hope somebody can help me. Thank you!</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>seconds = 20;

function decreaseTime() {
  document.contact.submit.value = seconds;
  seconds--;
  if (seconds &lt; 0) {
    document.contact.submit.value = 'Submit';
    document.contact.submit.disabled = false;
    return true;
  }
  setTimeout('decreaseTime()', 2000);
}

window.onload = function() {
  document.contact.submit.value = seconds;
  setTimeout('decreaseTime()', 2000);
}</code></pre>
</div>
</div>
</p>
","2024-02-29 15:44:19","0","Question"
"78080642","78079284","","<p>I don't know where this is going, but you can try using the <code>Calculate</code> event. When you call your function, you set the value of the public variable, and the procedure is executed by the <code>Calculate</code> event.<br />
Put this code in a standard module:</p>
<pre><code>Public flag As Long
Public Function Ecell(value As Double) As Double
    Ecell = value
    flag = 1
    ' Call xtest
End Function
Public Sub xtest()
    Range(&quot;A1&quot;).Interior.ColorIndex = 11
End Sub

Public Function Fcell(value As Double) As Double
    Fcell = value
    flag = 0
    ' Call ztest
End Function
Public Sub ztest()
    Range(&quot;A1&quot;).Interior.ColorIndex = xlColorIndexNone
End Sub
</code></pre>
<p>And in the sheet module:</p>
<pre><code>Private Sub Worksheet_Calculate()
   Select Case flag
      Case 1: Call xtest
      Case 0: Call ztest
   End Select
End Sub
</code></pre>
","2024-02-29 10:33:03","0","Answer"
"78080435","78078547","","<p>You should refer to <code>Cells</code> as said in first comment.</p>
<pre><code>Function myFunction(myRange As Range) As Variant
    ' here we will check if the range contains at least 3 cells
    If myRange.Cells.Count &gt;= 3 Then
        ' if yes we access the third cell
        myFunction = myRange.Cells(3, 1).Value
    Else
        ' else we can't access it because this does not exist
        myFunction = 0
    End If
End Function
</code></pre>
","2024-02-29 10:02:49","1","Answer"
"78080345","78075337","","<p>You have to set these values in <code>host.json</code> of the Azure function:</p>
<p>Refer <a href=""https://learn.microsoft.com/en-us/azure/azure-functions/functions-host-json#sample-hostjson-file"" rel=""nofollow noreferrer"">MSDOC</a> for <strong>Sample host.json for Azure Functions version 1.x</strong></p>
<pre class=""lang-json prettyprint-override""><code>{
    &quot;aggregator&quot;: {
        &quot;batchSize&quot;: 1000,
        &quot;flushTimeout&quot;: &quot;00:00:30&quot;
    },
    &quot;applicationInsights&quot;: {
        &quot;sampling&quot;: {
          &quot;isEnabled&quot;: true,
          &quot;maxTelemetryItemsPerSecond&quot; : 5
        }
    },
    &quot;functionTimeout&quot;: &quot;00:05:00&quot;,
    &quot;queues&quot;: {
      &quot;maxPollingInterval&quot;: 2000,
      &quot;visibilityTimeout&quot; : &quot;00:00:30&quot;,
      &quot;batchSize&quot;: 16,
      &quot;maxDequeueCount&quot;: 5,
      &quot;newBatchThreshold&quot;: 8
    }
}
</code></pre>
<p>Refer <a href=""https://learn.microsoft.com/en-us/azure/azure-functions/functions-host-json#sample-hostjson-file"" rel=""nofollow noreferrer"">MSDOC</a> for <strong>Sample host.json for Azure Functions version 2.x:</strong></p>
<pre class=""lang-json prettyprint-override""><code>{
    &quot;version&quot;: &quot;2.0&quot;,
    &quot;extensions&quot;: {
        &quot;blobs&quot;: {},
        &quot;cosmosDb&quot;: {},
        &quot;durableTask&quot;: {},
        &quot;eventHubs&quot;: {},
        &quot;http&quot;: {},
        &quot;queues&quot;: {},
        &quot;sendGrid&quot;: {},
        &quot;serviceBus&quot;: {}
    },
    &quot;extensionBundle&quot;: {
        &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,
        &quot;version&quot;: &quot;[4.0.0, 5.0.0)&quot;
    },
    &quot;functionTimeout&quot;: &quot;00:05:00&quot;,
    &quot;logging&quot;: {
        &quot;fileLoggingMode&quot;: &quot;debugOnly&quot;,
        &quot;logLevel&quot;: {
          &quot;Function.MyFunction&quot;: &quot;Information&quot;,
          &quot;default&quot;: &quot;None&quot;
        },
    },
    &quot;managedDependency&quot;: {
        &quot;enabled&quot;: true
    }
</code></pre>
<p><strong>Example:</strong></p>
<p>I have created a Queue Triggered Azure function:</p>
<p><strong>Code Snippet:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>[FunctionName(&quot;Function1&quot;)]
public void Run([QueueTrigger(&quot;&lt;queue_name&gt;&quot;, Connection = &quot;&lt;Storage_connection_string_name&gt;&quot;)]string myQueueItem, ILogger log)
{
    log.LogInformation($&quot;C# Queue trigger function processed: {myQueueItem}&quot;);
}
</code></pre>
<p><strong>local.settings.json:</strong></p>
<pre><code>{
  &quot;IsEncrypted&quot;: false,
  &quot;Values&quot;: {
    &quot;AzureWebJobsStorage&quot;: &quot;UseDevelopmentStorage=true&quot;,
    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;dotnet&quot;,
    &quot;demo&quot;: &quot;&lt;Storage_connection_string&gt;&quot;
  }
</code></pre>
<p><strong>host.json:</strong></p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;version&quot;: &quot;2.0&quot;,
  &quot;logging&quot;: {
    &quot;applicationInsights&quot;: {
      &quot;samplingSettings&quot;: {
        &quot;isEnabled&quot;: true,
        &quot;excludedTypes&quot;: &quot;Request&quot;
      }
    }
  },
  &quot;extensions&quot;: {
    &quot;queues&quot;: {
      &quot;maxPollingInterval&quot;: &quot;00:00:02&quot;,
      &quot;visibilityTimeout&quot;: &quot;00:00:30&quot;,
      &quot;batchSize&quot;: 1,
      &quot;maxDequeueCount&quot;: 2,
      &quot;newBatchThreshold&quot;: 1
    }
  }
}
</code></pre>
<p>I set <code>maxDequeueCount: 2</code> and raised exception to verify if its working, I could see the message has reached the defined <code>MaxDequeueCount</code> i.e., 2.</p>
<p>Response:
<img src=""https://i.imgur.com/bAg2oMZ.png"" alt=""enter image description here"" /></p>
<ul>
<li>When the message execution count reaches the  <code>MaxDequeueCount</code>, the message will be sent to  <code>Queue poison</code>.</li>
<li></li>
</ul>
<p><img src=""https://i.imgur.com/HwWOH3D.png"" alt=""enter image description here"" /></p>
","2024-02-29 09:50:30","1","Answer"
"78079690","78079649","","<p>The file is closed via <code>defer</code> in <code>makeLogger</code> function. The line</p>
<pre class=""lang-golang prettyprint-override""><code>infoLog.Printf(&quot;write to file analyze.log &quot;)
</code></pre>
<p>will try to write to a closed file.</p>
<hr />
<p>Instead the file should be closed via defer in the main function. For example:</p>
<pre class=""lang-golang prettyprint-override""><code>    import (
        &quot;log&quot;
        &quot;os&quot;
    ) 

    func main() {
         infoLog, closeLog := makeLogger()
         defer closeLog() 

         infoLog.Printf(&quot;write to file analyze.log &quot;)
    }

    func makeLogger() (i *log.Logger, close func() error) {
        infologFile, err := os.OpenFile(&quot;analyze.log&quot;, os.O_CREATE|os.O_WRONLY, 0666) // this seems not work it do create the file ,but no log write into it, why?
        if err != nil {
            log.Fatal(err)
        }
        infoLog := log.New(infologFile, &quot;[INFO]: &quot;, log.LstdFlags|log.Lshortfile|log.Lmsgprefix)
        return infoLog, infologFile.Close
    }
</code></pre>
<p>Note: In log files you'd usually want to <code>os.O_APPEND</code> otherwise the file will be overwritten every time the app starts again.</p>
","2024-02-29 07:54:05","1","Answer"
"78079665","78079649","","<p>Not tested, but I think you miss the os.O_APPEND</p>
<pre class=""lang-golang prettyprint-override""><code>// return logger function
func makeLogger() *log.Logger {
    infologFile, err := os.OpenFile(&quot;analyze.log&quot;, os.O_CREATE|os.O_WRONLY|os.O_APPEND, 0666)
    if err != nil {
        log.Fatal(err)
    }
</code></pre>
<p>otherwise you only create a file, but dont write anything to it</p>
","2024-02-29 07:49:28","-2","Answer"
"78079649","","Why my golang log not write into analyze.log?","<pre><code>    import (
        &quot;log&quot;
        &quot;os&quot;
    ) 
// main function
    func main() {
         infoLog := makeLogger()
         infoLog.Printf(&quot;write to file analyze.log &quot;)
    }
// return logger function
    func makeLogger() (i *log.Logger) {
        infologFile, err := os.OpenFile(&quot;analyze.log&quot;, os.O_CREATE|os.O_WRONLY, 0666) // this seems not work it do create the file ,but no log write into it, why?
        if err != nil {
            log.Fatal(err)
        }
        defer infologFile.Close() 
        infoLog := log.New(infologFile, &quot;[INFO]: &quot;, log.LstdFlags|log.Lshortfile|log.Lmsgprefix)
        return infoLog
    }
</code></pre>
<p>The program  do create the  file analyze.log ,but no log write into it, why?</p>
","2024-02-29 07:45:34","-4","Question"
"78079284","","Microsoft Excel: Writing a function to pass through a value and ALSO change the background color of a cell fails","<pre><code>Public Function Ecell(value As Double) As Double
    Ecell = value
    'Call xtest
End Function
Public Sub xtest()
        Range(&quot;A1&quot;).Interior.ColorIndex = 11
End Sub
</code></pre>
<p>If I use the function Ecell in a cell and give it a value - with the call to xtest commented out - it works fine. The value is just moved into the cell.</p>
<p>If I call the subroutine xtest on its own, it works fine. The color in cell A1 is correctly set.</p>
<p>If I uncomment the call to xtest in the function and use the function I get a VALUE error &quot;A value used in the formula is of the wrong data type&quot;.</p>
<p>Any idea why? Anyone know a workaround?</p>
<p>I tried many combinations of function call and setting the color in the cell. These two routines indicate the problem in the simplest way.</p>
","2024-02-29 06:32:33","0","Question"
"78078901","","Call an user defined function in PHPExcel","<p>I have an addin in excel which has many user defined function for calculating gas properties etc.
I want to fetch the calculated value from a cell which has a formulae which is user defined. for eg I have a cell A2 which has a formulae &quot;=Entrop(B2,C2)&quot;. I am loading the file using phpexcel and entering the posted values in Cells B2 and C2. I intend to get the value from A2. but getting an error as follows.
PHPExcel_Calculation_Exception: Sheet1!A2 -&gt; Formula Error: Unexpected , in C:\Program Files (x86)\Ampps\www\common\classes\PHPExcel\Cell.php on line 294</p>
<p>But the excel is working fine. I am getting the proper values in A2.
Any help would be very much appreciated.</p>
<p>I have tried using</p>
<p>$entr=$objPHPExcel-&gt;getActiveSheet()-&gt;getCell('A2')-&gt;getFormattedValue(); // error</p>
<p>$entr=$objPHPExcel-&gt;getActiveSheet()-&gt;getCell('A2')-&gt;getCalculatedValue();// error</p>
<p>$entr=$objPHPExcel-&gt;getActiveSheet()-&gt;getCell('A2')-&gt;getValue(); //This gives the formulae.</p>
","2024-02-29 04:44:19","0","Question"
"78078849","","Trouble Returning The Count of Days Past Due","<p>I am trying to build a function to return the count of days past due where the customer was less than 3 days late. Using the dvdrental database provided by PostgreSQL. It seems as though it's returning 6 for every row, likely the count of the first customer it comes across, or at least that's my guess.</p>
<p>Here's what I'm trying and what I need help on:</p>
<p>Example data:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Customer_ID</th>
<th>days_past_due</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table></div>
<p>Expected result (count of days past due less than 3 found in file returned on each row of that customer_id):</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Customer_ID</th>
<th>days_past_due</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
</tr>
</tbody>
</table></div>
<pre><code>create or replace function pd_lt3(customer_id varchar(45),days_past_due smallint)
returns smallint
language plpgsql
as $$
declare pd_lt3 smallint;
begin
    
    select total from(
    select customer_id,count(*) as total from past_due_detail where days_past_due &lt; 3 group by customer_id
        )
    into pd_lt3;
    return pd_lt3;
end;
$$;
</code></pre>
<h1><em>More Background (all of the below seems to work as intended):</em></h1>
<p><strong>Table I built for each past due occurrence:</strong></p>
<pre><code>CREATE TABLE past_due_detail(   
    customer_id integer not null,
    first_name varchar not null,
    last_name varchar not null,
    rental_id integer not null,
    rental_date timestamp not null,
    return_date timestamp,
    title varchar not null,
    days_past_due smallint,
    primary key (rental_id),
    foreign key (customer_id) references customer(customer_id)
);

</code></pre>
<p><strong>Function I built for populating days past due field in table:</strong></p>
<pre><code>CREATE OR REPLACE FUNCTION public.days_past_due(
    rental_date timestamp without time zone,
    return_date timestamp without time zone,
    rental_duration smallint,
    last_update timestamp without time zone)
    RETURNS integer
    LANGUAGE 'plpgsql'
    COST 100
    VOLATILE PARALLEL UNSAFE
AS $BODY$
declare days_past_due int;
begin
    select ((cast(return_date as date)) - (cast(rental_date as date)) - rental_duration) where ((cast(return_date as date)) - (cast(rental_date as date)) - rental_duration) &gt; 0 and return_date is not null
        into days_past_due;
    return days_past_due;
    select ((cast(last_update as date)) - (cast(rental_date as date)) - rental_duration) where ((cast(last_update as date)) - (cast(return_date as date)) - rental_duration) &gt; 0 and return_date is null
        into days_past_due;
    return days_past_due;
end;
$BODY$;
</code></pre>
<p><strong>How I populated the past_due_detail table:</strong></p>
<pre><code>insert into past_due_detail(
select rental.customer_id,first_name,last_name,rental_id,rental_date,return_date,title,days_past_due(rental_date,return_date,rental_duration,rental.last_update)
from inventory
inner join film on film.film_id = inventory.film_id
inner join rental on rental.inventory_id = inventory.inventory_id
inner join customer on rental.customer_id = customer.customer_id
where days_past_due(rental_date,return_date,rental_duration,rental.last_update) &gt; 0
order by rental_date,rental.customer_id
);
</code></pre>
","2024-02-29 04:26:08","0","Question"
"78078547","","Capturing Range Values in a VBA Function","<p>I am &quot;painting&quot; a single-column data range (called &quot;myRange&quot;) as a function argument. The function is called &quot;myFunction&quot;.    I would like to, for example, output the third value from the range. In general, I need to access specific values from the input range. The code below does not work.</p>
<pre><code>Function myFunction(myRange As Range)

 myFunction = myRange(3).Value

End Function
</code></pre>
<p>My guess is the solution is pretty easy, but I am missing it. Any suggestions?</p>
","2024-02-29 02:24:05","0","Question"
"78077902","78077770","","<p>This is a C style callback.  That void ptr is going to be passed some pointer you provide.</p>
<p>Your job is to make that ptr have the state you need.</p>
<p>In your case, it can be a pointer to your class.</p>
<pre><code>struct Foo {
  static void callback(std::vector&lt;double&gt; &amp;x,double&amp; f,void* ptr){
    return static_cast&lt;Foo*&gt;(ptr)-&gt;callback_impl(x, f);
  }
  void callback_impl(std::vector&lt;double&gt;&amp; x, double&amp;f);
};
</code></pre>
<p>Now when calling you oass <code>this</code> as <code>ptr</code>:</p>
<pre><code>minlbfgsoptimize(state,Foo::callback, nullptr, this);
</code></pre>
<p>where <code>this</code> is a <code>Foo*</code>.</p>
<p>Static member functions are just functions.  And pointers can round-trip through being a <code>void*</code> so long as the in and out types match exactly.</p>
","2024-02-28 22:11:27","4","Answer"
"78077770","","How can a function that requires another function as a parameter can be used within a class in c++?","<p>I have seen this question in different flavors but it does not really address my issue. Here is the situation, I want to use a library, but one of the functions is extremely complex and requires a <code>void(*func)(std::vector&lt;double&gt; &amp;x,double&amp; func,void* ptr)</code> as an input.</p>
<p>I have a class that holds all the key data members, and naturally the function needed by the external library must be a member function. From my understanding, it is not possible. What are the tricks to bypass that requirement?</p>
<p>Normally, I use <code>std::function</code> and <code>std::bind</code> but I don't think there is a way to convert an std::function to <code>void *</code>, and again I cant change the external library. The use of static function prevents me to have access to key data members.</p>
<p>The signature of the library function is</p>
<pre class=""lang-c prettyprint-override""><code>void minlbfgsoptimize(
    minlbfgsstate &amp;state,
    void (*func)(const real_1d_array &amp;x, double &amp;func, void *ptr),
    void (*rep)(const real_1d_array &amp;x, double func, void *ptr) = NULL,
    void *ptr = NULL);
</code></pre>
<p>The full code is in <a href=""https://github.com/hjkuijf/ALGLIB/blob/master/src/optimization.h"" rel=""nofollow noreferrer"">https://github.com/hjkuijf/ALGLIB/blob/master/src/optimization.h</a></p>
","2024-02-28 21:42:28","0","Question"
"78075707","78075643","","<pre><code>        ...
49      if(count &lt;= 0) {
50          System.out.println(&quot;Failed to authenticate ,sorry you cant set the password &quot; + username);
51      }
52      sc1.close(); // Cause of the issue
53  }

...
</code></pre>
<p>You're closing the Scanner which means you can't get input from <code>System.in</code> which is generally a bad practice.
If you're interested you can read more <a href=""https://stackoverflow.com/questions/17945683/is-it-necessary-to-close-scanner-when-there-is-no-stream-underlying/60632632#60632632"">here</a>.</p>
<hr />
<p>Also <a href=""https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html"" rel=""nofollow noreferrer"">naming conventions</a> are a good practice and makes your code look good.</p>
","2024-02-28 15:36:54","0","Answer"
"78075643","","Function not getting called/throwing exception in Java code","<pre><code>import java.util.*;
public class oops{
    public static void main(String args[]){
        System.out.println(&quot;Enter the username you want to set the for your Bank Account&quot;);
        Scanner sc2=new Scanner(System.in);
        String user=sc2.nextLine();
        Bank_account ba=new Bank_account();
        ba.username=user;
        //ba.set_pw();----not possible directly so i created a class to authenticate.
        ba.authenticate();
        //ba.display_password();-----again not possible as it is also private.
        ba.show_password();
        sc2.close();


    }
}
class Bank_account{
    public String username;
    private int password;
    public int dig_lock=123;
    private void set_pw(int s){
        this.password=s;
    }




    public void authenticate(){
        int lock;
        int count=3;
        Scanner sc1=new Scanner(System.in);

        while(count&gt;0){
            System.out.println(&quot;Enter the lock if want to set the password &quot;+username);
            lock=sc1.nextInt();
            sc1.nextLine();
            boolean allow=(dig_lock==lock)?true:false;
            if(allow){
                System.out.println(&quot;Enter the paassword you want to set &quot;+username);
                int s1=sc1.nextInt();
                set_pw(s1);
                break;
            }
            count--;
            System.out.println(&quot;Sorry try again to aunthenticate &quot;+username);
        }
        if(count&lt;=0){
            System.out.println(&quot;Failed to authenticate ,sorry you cant set the password &quot;+username);
        }
        sc1.close();
    }




    public void show_password(){
        int count=3;
        int lock;
        Scanner sc=new Scanner(System.in);
       
        
        while(count&gt;0){
            System.out.println(&quot;Enter the lock if u want to access the password &quot;+username);
            lock=sc.nextInt();
            sc.nextLine();
            boolean allow=(dig_lock==lock)?true:false;
            if(allow){
                display_password();
                break;
            }
            count--;
            System.out.print(&quot;Sorry wrong passwrod Try again &quot;+username);

        }
        if(count&lt;=0){
            System.out.print(&quot;You have used ur all terns,sorry can't show password &quot;+username);
        }
        sc.close();
    }
    private void display_password(){
        System.out.print(password);

    }


}
</code></pre>
<p>it is code for banking system where user have to authenticate before setting and displaying its password by entering a predefined lock which should match dig_lock</p>
<p>Function  named set_pw is not working as expected in this code and throwing some error and also in authenticate function ,even after entering correct lock it should break the loop but its still asking for the lock to be entered by the user but it should break and just call for the set_pw
please solve this earlier also i asked this but no response was there.--------The error is not mentioned even in vscode its just showing Error in thread main. please help me to solve this.</p>
","2024-02-28 15:26:17","-2","Question"
"78075337","","How do I set queue settings configuration variables in Azure Functions?","<p>I want to set these configuration values for an Azure Function.</p>
<pre><code>&quot;extensions&quot;: {
  &quot;queues&quot;: {
    &quot;maxPollingInterval&quot;: &quot;00:00:02&quot;,
    &quot;visibilityTimeout&quot;: &quot;00:00:30&quot;,
    &quot;batchSize&quot;: 32,
    &quot;maxDequeueCount&quot;: 5,
    &quot;newBatchThreshold&quot;: 16
  }
},
</code></pre>
<p>Do I add them in as their key or would it be like this:</p>
<ul>
<li>Key: queues:maxPollingInterval, Value: 00:00:02</li>
<li>Key: queues:visibilityTimeout, Value: 00:00:30</li>
<li>Key: queues:batchSize, Value: 32</li>
<li>Key: queues:maxDequeueCount, Value: 5</li>
<li>Key: queues:newBatchThreshold, Value: 16</li>
</ul>
<p>Talking about in these settings</p>
<p><a href=""https://i.sstatic.net/EiYl7.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/EiYl7.png"" alt=""environment variable"" /></a></p>
","2024-02-28 14:44:34","0","Question"
"78071157","78067683","","<p>Here is one approach using example data. You can make a named list of your diagnosis vectors:</p>
<pre><code>anxiety_codes &lt;- c(&quot;F400&quot;, &quot;F401&quot;, &quot;F402&quot;)
asthma_codes &lt;- c(&quot;J450&quot;, &quot;J451&quot;, &quot;J458&quot;, &quot;J459&quot;, &quot;J46X&quot;)
chronic_lyme_codes &lt;- c(&quot;A692&quot;, &quot;G630&quot;, &quot;M012&quot;)

dx_list &lt;- mget(ls(pattern = &quot;(\\w+)_codes&quot;))
names(dx_list) &lt;- sub(&quot;_codes$&quot;, &quot;&quot;, names(dx_list))

dx_list
</code></pre>
<p>Which looks like this:</p>
<pre><code>$anxiety
[1] &quot;F400&quot; &quot;F401&quot; &quot;F402&quot;

$asthma
[1] &quot;J450&quot; &quot;J451&quot; &quot;J458&quot; &quot;J459&quot; &quot;J46X&quot;

$chronic_lyme
[1] &quot;A692&quot; &quot;G630&quot; &quot;M012&quot;
</code></pre>
<p>I made an example data.frame with an <code>id</code>, the primary diagnosis code, and a couple of secondary diagnostic codes.</p>
<pre><code>df &lt;- data.frame(
  id = 1:3,
  diag_icd10 = c(&quot;F400&quot;, &quot;J458&quot;, &quot;M012&quot;),
  sec_diag_0 = c(&quot;J450&quot;, NA, &quot;J46X&quot;),
  sec_diag_1 = c(NA, NA, &quot;F401&quot;)
)
</code></pre>
<p>Here is the data.frame:</p>
<pre><code>  id diag_icd10 sec_diag_0 sec_diag_1
1  1       F400       J450       &lt;NA&gt;
2  2       J458       &lt;NA&gt;       &lt;NA&gt;
3  3       M012       J46X       F401
</code></pre>
<p>You can use <code>sapply</code> through your diagnosis list, and first check the primary diagnosis column and change column name to include &quot;prim&quot; for primary. For secondary diagnoses, use <code>Reduce</code> and <code>lapply</code> through multiple columns, then label with suffix of &quot;sec&quot; for secondary.</p>
<pre><code>df_result &lt;- cbind(
  df[1],
  setNames(
    as.data.frame(sapply(dx_list, \(x) +(df[,2] %in% x))),
    paste(names(dx_list), &quot;prim&quot;, sep = &quot;_&quot;)
  ),
  setNames(
    as.data.frame(sapply(dx_list, \(x) +Reduce(`|`, lapply(df[,3:4], `%in%`, x)))),
    paste(names(dx_list), &quot;sec&quot;, sep = &quot;_&quot;)
  )
)
</code></pre>
<p>The result looks like this:</p>
<pre><code>  id anxiety_prim asthma_prim chronic_lyme_prim anxiety_sec asthma_sec chronic_lyme_sec
1  1            1           0                 0           0          1                0
2  2            0           1                 0           0          0                0
3  3            0           0                 1           1          1                0
</code></pre>
<p>You can combine like columns and add additional summary (primary or secondary diagnosis):</p>
<pre><code>sapply(split.default(df_result[-1], sub(&quot;_(prim|sec)$&quot;, &quot;&quot;, names(df_result[-1]))),
       \(x) +(rowSums(x) &gt; 0))
</code></pre>
<p>Which has this output (can be added to <code>df_result</code> if desired):</p>
<pre><code>     anxiety asthma chronic_lyme
[1,]       1      1            0
[2,]       0      1            0
[3,]       1      1            1
</code></pre>
<p>Or, if you want to just do all columns at once, try:</p>
<pre><code>cbind(
  df[1],
  setNames(
    as.data.frame(sapply(dx_list, \(x) +(df[,2] %in% x))),
    paste(names(dx_list), &quot;prim&quot;, sep = &quot;_&quot;)
  ),
  setNames(
    as.data.frame(sapply(dx_list, \(x) +Reduce(`|`, lapply(df[,3:4], `%in%`, x)))),
    paste(names(dx_list), &quot;sec&quot;, sep = &quot;_&quot;)
  ),
  sapply(dx_list, \(x) +Reduce(`|`, lapply(df[,2:4], `%in%`, x)))
)
</code></pre>
","2024-02-27 23:35:53","1","Answer"
"78069375","78068482","","<p>Well
After several check and tries, the following code HTML/javascript achieve what I want</p>
<pre><code> &lt;html lang=&quot;en&quot; xml:lang=&quot;en&quot;&gt;
 &lt;object type=&quot;image/svg+xml&quot; data=&quot;indicator_RPM.svg&quot; id=&quot;object_indicator_RPM&quot;&gt;&lt;/object&gt;

 &lt;script type=&quot;text/javascript&quot;&gt;

     var svgObject = document.getElementById(&quot;object_indicator_RPM&quot;);
     var svg = svgObject.contentWindow;
     svg.RotateEngineRPM();

 &lt;/script&gt;
 &lt;/html&gt;
</code></pre>
<p>It uses the .contentWindow function.
Now, I don't have a clear view why I have to use the contentWindow to achieve this, but...</p>
","2024-02-27 17:18:36","0","Answer"
"78068809","78066078","","<p>For this situation, I have a code snippet. Might be helpful to you.</p>
<pre><code>function remove_menu() {

  global $user;

  if ( $user != 1 ) { //your user id

   remove_menu_page('edit.php'); 
   remove_menu_page('upload.php');
   remove_menu_page('link-manager.php');
   remove_menu_page('edit-comments.php');
   remove_menu_page('edit.php?post_type=page');
   remove_menu_page('plugins.php');
   remove_menu_page('themes.php');
   remove_menu_page('users.php');
   remove_menu_page('tools.php');
   remove_menu_page('options-general.php');
  }
}
add_action( 'admin_init', 'remove_menu' );
</code></pre>
<p>I copied it from stackoverflow. Currently, I do not have reference details. But it works 100%.</p>
","2024-02-27 15:46:55","0","Answer"
"78068482","","Call SVG function from HTML/Javascript","<p>I am a beginner in Javascript and SCG.
I write a SVG file that contains some scripts inside.<br />
Here an extract of the SVG file (the defs and some functions are not set). I check some posts on stackoverflow and other. It helps me with the onLoad call, but that's all...</p>
<p><em>Note: I use  to insert the svg, as I understoof the  provides capability to load and use the SCG script. In this case, the SVG is loaded as a document (see <a href=""https://stackoverflow.com/questions/16626938/getsvgdocument-is-returning-null-in-chrome"">getSVGDocument is returning NULL in Chrome</a>)</em></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;svg
   width=&quot;37mm&quot;
   height=&quot;52mm&quot;
   viewBox=&quot;0 0 37 52&quot;
   version=&quot;1.1&quot;
   id=&quot;indicator_RPM&quot;
   
   xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;
   xmlns=&quot;http://www.w3.org/2000/svg&quot;
   xmlns:svg=&quot;http://www.w3.org/2000/svg&quot;&gt;

&lt;script &gt;
    // &lt;![CDATA[
function RotateNeedle(name, angleInDegrees){
   let d = [angleInDegrees, cx, cy,].join(&quot; &quot;);
   let rotate = &quot;rotate(&quot; + d +&quot;)&quot;;
   document.getElementById(name).setAttribute(&quot;transform&quot;, rotate);
}
    // ]]&gt;
  &lt;/script&gt;
&lt;style&gt;......&lt;/style&gt;
&lt;defs&gt;...&lt;/defs&gt;
&lt;/svg&gt;
</code></pre>
<p>I display the SVG file thanks to the HTML code</p>
<pre><code>&lt;html&gt;
&lt;object type=&quot;image/svg+xml&quot; data=&quot;indicator_RPM.svg&quot; id=&quot;object_indicator_RPM&quot;&gt;&lt;/object&gt;


 &lt;script type=&quot;text/javascript&quot;&gt;

    var svgObject = document.getElementById(&quot;object_indicator_RPM&quot;);
    var svg;
    svgObject.onload = function(){
        svg = svgObject.contentDocument.getElementById('indicator_RPM');
        svg.RotateNeedle(&quot;EngineRPMNeedle&quot;, 120);
      
        console.log(svg);
    };

    
 &lt;/script&gt;
&lt;/html&gt;
</code></pre>
<p>The SVG file is well displayed. The scripts set in the SVG file are well executed (the display is in accordance with my definition and scripts modify it accordingly) when I load the SVG file alone (in Edge or Firefox) or through the HTML file.<br />
But, I can't call a function set in the SVG script section (here the function &quot;RotateNeedle&quot;). I got the message  &quot;svg.RotateNeedleis not a function at svgObject.onload (panels.html:11:13)&quot;</p>
<p>Do I miss something somewhere ??</p>
<p><em>Edit: I may try to put some function in the HTML/javascript code. Nevertheless, we are in experimental development, and some tuning is required. I want to avoid duplication of the configuration / constants definition as far as possible.</em></p>
<p>The following code, set in the HMT/javascript, performs the expected function, but it does not fulfil the expected implementation (and so I consider the solution as &quot;not solving the problem&quot;):</p>
<pre><code>    function RotateNeedle(item, angleInDegrees){
    let d = [angleInDegrees, 15,15,].join(&quot; &quot;);
    let rotate = &quot;rotate(&quot; + d +&quot;)&quot;;
    item.setAttribute(&quot;transform&quot;, rotate);
</code></pre>
<p>But, you have to consider that the &quot;15, 15&quot; are identified as constant in the SVG file.</p>
<p>Thanks</p>
<p>Edit: I Edit the question in regard of the initial comments.</p>
","2024-02-27 14:57:11","2","Question"
"78068279","78067683","","<p>Create a data frame, codesDF, that associates codes and conditions and also create a test input data frame DF.  Then join the them and use <code>model.matrix</code>.</p>
<pre><code>library(dplyr)

# codes has icd10 and condn columns and data has icd10 column
make01 &lt;- function(data, codes) {
  data %&gt;%
    left_join(codes) %&gt;%
    mutate(model.matrix(~ condn - 1, .) %&gt;% as.data.frame) %&gt;%
    setNames(sub(&quot;condn(.*)_codes&quot;, &quot;\\1&quot;, x = names(.)))
}

# test - create inputs codesDF and DF and then run make01

anxiety_codes &lt;- c(&quot;F400&quot;, &quot;F401&quot;, &quot;F402&quot;)
asthma_codes &lt;- c(&quot;J450&quot;, &quot;J451&quot;, &quot;J458&quot;, &quot;J459&quot;, &quot;J46X&quot;)
chronic_lyme_codes &lt;- c(&quot;A692&quot;, &quot;G630&quot;, &quot;M012&quot;)
codesDF &lt;- mget(ls(pattern = &quot;_codes$&quot;)) %&gt;%
  stack() %&gt;%
  setNames(c(&quot;icd10&quot;, &quot;condn&quot;))

# test input data frame
set.seed(123)
DF &lt;- data.frame(icd10 = sample(codesDF[[1]], 6))

make01(DF, codesDF)
</code></pre>
<p>giving</p>
<pre><code>Joining with `by = join_by(icd10)`
  icd10              condn anxiety asthma chronic_lyme
1  F402      anxiety_codes       1      0            0
2  M012 chronic_lyme_codes       0      0            1
3  F401      anxiety_codes       1      0            0
4  J458       asthma_codes       0      1            0
5  G630 chronic_lyme_codes       0      0            1
6  J451       asthma_codes       0      1            0
</code></pre>
","2024-02-27 14:22:47","0","Answer"
"78067683","","Function to search multiple strings across multiple columns and create binary output variables","<p>I am working with a clinical data table that contains hospital episodes for a few hundred thousand people across an approx 15 year period. I have cleaned my data table to now be formatted as one row per episode, each of which contains the date of the episode and the associated primary and secondary diagnoses (up to 20 secondary diagnoses). The diagnoses columns contain strings of ICD-10 disease codes.</p>
<p>I am interested in extracting data on approximately 60 conditions from this table, each of which is made up of a variable number of clinical codes (e.g. asthma has five associated ICD-10 codes, anxiety 3 codes, lyme disease 3 codes..). I'd like to write a function that searches across all of the primary and secondary diagnosis columns, checks for any of the strings associated with the 60 conditions, and creates a binary yes/no output which is coded 1 if any of the associated ICD codes are present, or otherwise 0.</p>
<p>I've worked out how to do this on the primary diagnoses column only ('diag_icd10') using grepl within ifelse within mutate, but having to write across many many lines of code to get what I want for all 60 conditions. Shortened example below...</p>
<pre><code>anxiety_codes &lt;- c(&quot;F400&quot;, &quot;F401&quot;, &quot;F402&quot;)
asthma_codes &lt;- c(&quot;J450&quot;, &quot;J451&quot;, &quot;J458&quot;, &quot;J459&quot;, &quot;J46X&quot;)
chronic_lyme_codes &lt;- c(&quot;A692&quot;, &quot;G630&quot;, &quot;M012&quot;)

# Checking primary diagnosis column 'diag_icd10'
data &lt;- data |&gt; 
  mutate(
    anxiety_prim = ifelse(grepl(paste(anxiety_codes, collapse = '|'), diag_icd10), 1, 0),
    asthma_prim = ifelse(grepl(paste(asthma_codes, collapse = '|'), diag_icd10), 1, 0),
    lymedisease_prim = ifelse(grepl(paste(chronic_lyme_codes, collapse = '|'), diag_icd10), 1, 0)) 
</code></pre>
<p>My problems are:</p>
<ol>
<li>I'd like to make this a function that checks for all 60 conditions and creates the binary <code>condition_prim</code> variables without having to write 60+ lines of code.</li>
<li>I'd also like to create a similar function that checks for the same string patterns but across multiple secondary diagnosis columns (21 columns total... 'sec_diag_0' : 'sec_diag_20') and returns to a <code>&quot;condition&quot;_sec</code> variable whether the conditions were present or not.</li>
<li>To amalgamate the two, checking across both the primary and secondary columns and returning to a single <code>condition</code> variable whether the conditions were present or not.</li>
</ol>
","2024-02-27 12:47:27","1","Question"
"78066078","","Removing access to plugin from WordPress menu","<p>I am trying to hide plugin &quot;qi-addons-for-elementor/class-qiaddonsforelementor.php&quot; from the admin menu so no one can modify it.</p>
<p>I tried adding the following code to my theme's functions.php but it does not work, please help.</p>
<pre><code>function hide_plugins_from_menu() {
    global $submenu;

    // Plugins to hide (adjust the plugin file names as needed)
    $plugins_to_hide = array(
        'qi-addons-for-elementor/class-qiaddonsforelementor.php',
    );

    // Remove the plugins from the admin menu
    foreach ( $plugins_to_hide as $plugin ) {
        if ( isset( $submenu['plugins.php'] ) ) {
            foreach ( $submenu['plugins.php'] as $index =&gt; $menu_item ) {
                if ( $plugin == $menu_item[2] ) {
                    unset( $submenu['plugins.php'][ $index ] );
                }
            }
        }
    }
}
add_action( 'admin_menu', 'hide_plugins_from_menu' );
</code></pre>
","2024-02-27 08:32:04","1","Question"
"78065637","78057690","","<p>To give you an example of how to use <code>document.querySelector</code>, and event listener, and <code>innerText</code> I made the small example below.</p>
<p>First I define the variables I intend to use, the button that is going to trigger a change. I grab it using a query selector similar to how css grabs things, the name of the html element <code>button</code> and touching the tag name is the class with a period proceeding resulting in <code>button.change</code>.</p>
<p>I add an event listener to the button element defined, and specify that I'm waiting for a click. Then I pass an anonymous arrow function as the code to be executed whenever I click the button.</p>
<p>I first toggle the class <code>&quot;accessible-styles&quot;</code> which will change the display of my page. Then, I check to see if the page is currently accessible. The result of <code>.contains</code> method will return a <code>bool</code>; <code>true</code> if it is contained, and <code>false</code> if it is not. Then I can use a conditional statement.</p>
<p>My conditional statement says <code>if(isAccessible)</code> which means if the result of the <code>.contains</code> method is <code>true</code> it will run that block of code. The else keyword following specifies what will happen if the result is <code>false</code>.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const button = document.querySelector(""button.change"");
const textField = document.querySelector("".changing-text"");
const body = document.querySelector(""body"");

button.addEventListener(""click"", () =&gt; {
  body.classList.toggle(""accessible-styles"");
  const isAccessible = body.classList.contains(""accessible-styles"");
  if (isAccessible) {
    textField.innerText = ""Accessible Styles!"";
  } else {
    textField.innerText = ""Base Styles!"";
  }
});</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>body {
  background: lightblue;
  font-size: 20pt;
  color: hotpink;
}

.accessible-styles {
  background: white;
  color: black;
  font-size: 25pt;
  font-weight: bold;
}

button {
  font-size: inherit;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""changing-text""&gt;
  Base Styles!
&lt;/div&gt;
&lt;button class=""change""&gt;Change Things&lt;/button&gt;</code></pre>
</div>
</div>
</p>
<p>However there may be other better ways to accomplish your goals. Things like <a href=""https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-contrast"" rel=""nofollow noreferrer"">prefers-contrast media query</a> come to mind. Also you can change the text content with css alone using <code>display: none</code> on a span element that is a child of specific tags if you go a media query route.</p>
<p>Good semantic html is more powerful than most stylistic changes though- if someone has a screen reader that will help the layout make more sense.</p>
","2024-02-27 06:54:44","0","Answer"
"78064962","78063782","","<p>There are a few ways to do this:</p>
<ol>
<li>You write a [<code>perl/python</code>] script that parses the <code>.c</code> files and extracts the function names.</li>
<li>If you don't have the source for some files, you can do <code>readelf -s</code> on the <code>.o</code> and/or <code>a.out</code> files and extract the names that are marked <code>FUNC</code>.</li>
</ol>
<p>For the first approach, you could first run the source file through an indenter program (e.g. GNU <code>indent</code>). It can force the function's return type onto a separate line and the function name to column 1. This makes the parsing quite easy: any line that begins with the regex <code>^([a-zA-Z][a-zA-Z0-9]*)[(]</code> will be a function name.</p>
<p>This script can be run as part of the <code>make</code> and output the names (in <em>any</em> format you wish) to an output file. This file could also contain the exact <code>perf</code> arguments(s) you want.</p>
","2024-02-27 03:14:00","0","Answer"
"78064941","78064740","","<p>Got the first 3 expressions to work with data[[aspect]], and got the final expression to work, using !!sym(column)</p>
<p>So final code being:</p>
<pre><code>AssumTests &lt;- function(data, aspect){
  # Homogeneity of Variance test
  lt &lt;- leveneTest(data[[aspect]] ~ Treatment, 
             data = data)
  
  model  &lt;- lm(data[[aspect]] ~ Treatment, data = data)
  
  # Normality residuals as group
  qq &lt;- ggqqplot(residuals(model))
  st &lt;- shapiro_test(residuals(model))
  
  # Normality test by group
  qqfac &lt;- ggqqplot(data, aspect, facet.by = &quot;Treatment&quot;)
  spfac &lt;- data %&gt;%
    group_by(Treatment) %&gt;%
    shapiro_test(!!sym(aspect))
  
  list = list(lt, qq, st, qqfac, spfac)
  return(list)
</code></pre>
","2024-02-27 03:04:37","1","Answer"
"78064740","","R: Use column name of df as input for custom function","<p>I am trying to make a custom function that takes a df and the name of the column I want to apply the function to. however I am having trouble calling my function.</p>
<p>When I enter the name of the column without parentheses, I get &quot;Error: object 'Area' not found&quot;. When I enter the column name as a character, I get &quot;Error in model.frame.default(form, data) :
variable lengths differ (found for 'Treatment')&quot;.</p>
<p>I am guessing I need to re-characterize my column name inside the function, but I don't know what to do.</p>
<pre><code>AssumTests &lt;- function(data, aspect){
  # Homogeneity of Variance test
  lt &lt;- leveneTest(aspect ~ Treatment, 
             data = data)
  
  model  &lt;- lm(aspect ~ Treatment, data = data)
  
  # Normality residuals as group
  qq &lt;- ggqqplot(residuals(model))
  st &lt;- shapiro_test(residuals(model))
  
  # Normality test by group
  qqfac &lt;- ggqqplot(data, paste(aspect), facet.by = &quot;Treatment&quot;)
  spfac &lt;- data %&gt;%
    group_by(Treatment) %&gt;%
    shapiro_test(aspect)
  
  list = list(lt, qq, st, qqfac, spfac)
  return(list)
}
</code></pre>
<pre><code>AssumTests(FluorByTreatment_Iter1.df, &quot;Area&quot;)
</code></pre>
<p>Crossposted to: <a href=""https://www.reddit.com/r/RStudio/comments/1b0zkx0/use_column_name_of_df_as_input_for_custom_function/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button"" rel=""nofollow noreferrer"">Reddit</a></p>
<p>UPDATE:
Got the first expressions to work with <code>data[[aspect]]</code>, but still having trouble with the last expression using dplyr piping. I tried the <code>{{aspect}}</code> trick, but R is still recognizing the quotes: &quot;Column <code>&quot;Area&quot;</code> doesn't exist.&quot;</p>
<p>UPDATE2: Got the final expression to work, thanks to this<a href=""https://www.reddit.com/r/RStudio/comments/1b0zkx0/comment/ksbib34/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button"" rel=""nofollow noreferrer"">Reddit comment</a> using <code>!!sym(column)</code></p>
","2024-02-27 01:44:31","0","Question"
"78064719","78062761","","<p>I haven't tested this code, but you could create a Python UDF that substitutes the strings. Something like:</p>
<pre><code>create or replace function substitute (in_string varchar)
  returns varchar
stable
as $$
words = {'APARTMENT': 'APT', 'ARCADE': 'ARC', 'BASEMENT': 'BSMT', 'BUILDING': 'BLDG', 'DEPARTMENT': 'DEPT', 'WEST': 'W', 'STREET': 'ST'}

return ' '.join(words.get(word, word) for word in in_string.upper().split())

$$ language plpythonu;
</code></pre>
<p>Use it like this:</p>
<pre><code>select name, substitute(name) from table
</code></pre>
","2024-02-27 01:35:03","0","Answer"
"78064375","78064285","","<p>You can try <code>==</code> + <code>order</code>, e.g.,</p>
<pre><code>f &lt;- function(x, y = second) x[order(x == y)]
</code></pre>
<p>and you will see</p>
<pre><code>&gt; f(A)
[1] &quot;prof&quot; &quot;time&quot;

&gt; f(B)
[1] &quot;prof&quot; &quot;time&quot;

&gt; f(C)
[1] &quot;ziba&quot; &quot;time&quot;
</code></pre>
","2024-02-26 23:20:45","3","Answer"
"78064330","78064285","","<p>If you know they are all length-two, then simply <code>c(x[!x %in% second], second)</code> will do, e.g.</p>
<pre class=""lang-r prettyprint-override""><code>c(A[!A %in% second], second)
#&gt; [1] &quot;prof&quot; &quot;time&quot;

c(B[!B %in% second], second)
#&gt; [1] &quot;prof&quot; &quot;time&quot;

c(C[!C %in% second], second)
#&gt; [1] &quot;ziba&quot; &quot;time&quot;
</code></pre>
<p>This would be equivalent to MrFlick's <code>move_last</code> function:</p>
<pre class=""lang-r prettyprint-override""><code>move_last &lt;- function(x, y) c(x[!x %in% y], y)
</code></pre>
","2024-02-26 23:04:20","3","Answer"
"78064306","78064285","","<p>You can create a helper function to move a particular value to the end of a vector</p>
<pre><code>move_last &lt;- function(x, v) {
  c(setdiff(x, v), intersect(x,v))
}
</code></pre>
<p>This works with the given vectors</p>
<pre><code>move_last(A, second)
# [1] &quot;prof&quot; &quot;time&quot;
move_last(B, second)
# [1] &quot;prof&quot; &quot;time&quot;
move_last(C, second)
# [1] &quot;ziba&quot; &quot;time&quot;
move_last(c(&quot;apple&quot;, &quot;banana&quot;), second)
# [1] &quot;apple&quot;  &quot;banana&quot;
</code></pre>
","2024-02-26 22:55:58","5","Answer"
"78064285","","Reorder a vector element to be second in R","<p>Suppose we have some two-element string vectors like <code>A, B, C, ...</code> below. We only know one of the elements which is saved as object <code>second</code>.</p>
<p>Is there a way to make the <code>second</code> to be always the second element in <code>A, B, C, ...</code>?</p>
<pre><code>A = c(&quot;time&quot;,&quot;prof&quot;) # --&gt; must become `c(&quot;prof&quot;, &quot;time&quot;)`

B = c(&quot;prof&quot;, &quot;time&quot;) # --&gt; remains Unchanged

C = c(&quot;time&quot;,&quot;ziba&quot;) # --&gt; must become `c(&quot;ziba&quot;, &quot;time&quot;)`

second = &quot;time&quot;
</code></pre>
","2024-02-26 22:48:18","2","Question"
"78063782","","How to measure execution time of all functions in a process using perf?","<p>I have a project where сalculations are run via a files. I need to measure the execution time of functions that are called after running a certain file. All the functions of the code are located in a large number of other files. Below is the perf probe - method I use to measure the time of a single function. This method is easy to use if you need to measure the time for a small number of functions, but in my case there are a lot of functions in different binares and files and it takes a long time to create probe events for each function.</p>
<p>Create a probe events, for entry and exit points of function:
<code>sudo perf probe -x ./binary_file_name --add func_name --add func_name%return</code></p>
<p>Starting profiling with created events:
<code>sudo perf record -e probe_binary_file_name:func_name -e probe_binary_file_name:func_name ./a.out</code></p>
<p>As a result, I can find out the number of calls of func_name and how long it worked for each call.
Is there any way to create probe events for large number of functions without writing out all their names?</p>
","2024-02-26 20:46:56","0","Question"
"78063554","78063363","","<p>Swap the <code>one1_two</code> to <code>two_one1</code>, keying on the presence of the number, and then do your first regex.</p>
<pre class=""lang-r prettyprint-override""><code>names(First_list) |&gt;
  sub(&quot; - .*&quot;, &quot;&quot;, x = _) |&gt;
  sub(&quot;([- A-Za-z]+[0-9]+)_([- A-Za-z]+)&quot;, &quot;\\2_\\1&quot;, x = _) |&gt;
  sub(&quot;^.([^_]+)\\D+(\\d+).*&quot;, &quot;Gain_\\2(\\1)&quot;, x = _)
# [1] &quot;Gain_1(beginner)&quot;                &quot;Gain_1(intermediate)&quot;            &quot;Gain_1(advanced)&quot;                &quot;Gain_2(beginner)&quot;               
# [5] &quot;Gain_2(intermediate)&quot;            &quot;Gain_2(advanced)&quot;                &quot;Gain_1(framework notes)&quot;         &quot;Gain_1(note-taking instruction)&quot;
names(Second_list) |&gt;
  sub(&quot; - .*&quot;, &quot;&quot;, x = _) |&gt;
  sub(&quot;([- A-Za-z]+[0-9]+)_([- A-Za-z]+)&quot;, &quot;\\2_\\1&quot;, x = _) |&gt;
  sub(&quot;^.([^_]+)\\D+(\\d+).*&quot;, &quot;Gain_\\2(\\1)&quot;, x = _)
# [1] &quot;Gain_1(beginner)&quot;                &quot;Gain_1(intermediate)&quot;            &quot;Gain_1(advanced)&quot;                &quot;Gain_2(beginner)&quot;               
# [5] &quot;Gain_2(intermediate)&quot;            &quot;Gain_2(advanced)&quot;                &quot;Gain_1(framework notes)&quot;         &quot;Gain_1(note-taking instruction)&quot;
</code></pre>
<p>The swap does nothing with <code>First_list</code> but &quot;fixes&quot; <code>Second_list</code> so that it looks like the first. From there, the same pattern works.</p>
","2024-02-26 19:57:35","0","Answer"
"78063433","78063406","","<p>Your function, check_ponctuation is returning a generator, not a boolean result.</p>
<pre><code>def check_ponctuation(s):
    return (character in string.punctuation for character in s)
</code></pre>
<p>This function is not doing what you think it is doing.</p>
<p>Presumably, you've missed an any() call.</p>
<p>This code is what it should be:</p>
<pre><code>def check_ponctuation(s):
    return any(character in string.punctuation for character in s)
</code></pre>
<p>The reason that any is needed, is that if you call</p>
<pre><code>return (character in string.punctuation for character in s)
</code></pre>
<p>by itself, you're returning a generator object which could result in unexpected behavior.</p>
<p>Instead, by using any(), you can check to see if your string contains any punctuation and return a true or a false based on that.</p>
<p>Here's some information about any() in python and how it works:</p>
<p>&quot;The any() function returns True if any item in an iterable are true, otherwise it returns False.</p>
<p>If the iterable object is empty, the any() function will return False.&quot;</p>
<p><a href=""https://www.w3schools.com/python/ref_func_any.asp"" rel=""nofollow noreferrer"">https://www.w3schools.com/python/ref_func_any.asp</a></p>
<p>Edit: Changed the word undefined to unexpected</p>
","2024-02-26 19:30:53","3","Answer"
"78063406","","Why is my function always outputting ""invalid"" as a result?","<p>I am learning python. In this context, I do an exercise in which I need to perform a series of test on a string. If these checks are met, python should output &quot;Valid&quot;, if not &quot;Invalid&quot;.</p>
<p>Here is my code, with the comments describing the goal of each functions:</p>
<pre><code>import string

def main():
    plate = input(&quot;Plate: &quot;)
    if is_valid(plate):
        print(&quot;Valid&quot;)
    else:
        print(&quot;Invalid&quot;)

# Function &quot;main&quot; calls the &quot;is_valid&quot; function

def is_valid(s):
    if lenght_valid(s) == True and starts_alpha(s) == True and check_ponctuation(s) == False:
        return True
    else:
        return False

# Function &quot;is_valid&quot; calls all the other function checking single cirterias

def lenght_valid(s):
    if len(s) &gt; 6 or len(s) &lt; 2:
       return False
    else:
       return True

# Function &quot;lengt_valid&quot; check the propoer lenght (2 characters min., 6 max.)


def starts_alpha(s):
    s = s[0:2]
    if s.isalpha():
       return True
    else:
       return False

# Function &quot;starts_alpha&quot; check that the first two characters are letters

def check_ponctuation(s):
    return (character in string.punctuation for character in s)

# Function &quot;check_punctuation&quot; checks if punctuation is present. If &quot;True&quot; then this will be rejected in the above function

main()
</code></pre>
<p>I do not understand why it always outputs &quot;Invalid&quot;. I tested &quot;KA&quot; and &quot;KOKO&quot; and these should be valid, however, these are not valid.</p>
","2024-02-26 19:24:30","0","Question"
"78063378","78062174","","<p>For a variable number of terms, you can do it without regular expressions using a recursive query:</p>
<pre class=""lang-sql prettyprint-override""><code>WITH replacements (id, text, variables, idx) AS (
  SELECT t1.id,
         t1.text,
         t2.vals,
         LENGTH(t2.vals) - LENGTH(REPLACE(t2.vals, '/')) + 1
  FROM   table1 t1
         INNER JOIN table2 t2
         ON (t1.id = t2.id)
UNION ALL
  SELECT id,
         REPLACE(
           text,
           '%'||idx,
           SUBSTR(variables, INSTR(variables, '/', -1) + 1)
         ),
         SUBSTR(variables, 1, INSTR(variables, '/', -1) - 1),
         idx - 1
  FROM   replacements
  WHERE  idx &gt; 0
)
SELECT id, text
FROM   replacements
WHERE  idx = 0;
</code></pre>
<p>Which, for the sample data:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE TABLE table1 (ID, TEXT) AS
SELECT 1, 'It is %1 today with a %2 sky.' FROM DUAL UNION ALL
SELECT 2, 'It is %1 today with %2 and chances of %3.' FROM DUAL UNION ALL
SELECT 3, 'I just %1 have a %2 that %3 understand. We %4 need %5 to %6 on.' FROM DUAL UNION ALL
SELECT 4, '%1%2%3%4%5%6%7%8%9%10' FROM DUAL;

CREATE TABLE Table2 (ID, VALS) AS
SELECT 1, 'sunny/bright blue' FROM DUAL UNION ALL
SELECT 2, 'rainy/severe thunder storms/flooding' FROM DUAL UNION ALL
SELECT 3, 'might/problem/you''ll/all/somebody/lean' FROM DUAL UNION ALL
SELECT 1, 'rainy/gloomy' FROM DUAL UNION ALL
SELECT 4, 'A/B/C/D/E/F/G/H/I/J' FROM DUAL;
</code></pre>
<p>Outputs:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th style=""text-align: right;"">ID</th>
<th style=""text-align: left;"">TEXT</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: right;"">1</td>
<td style=""text-align: left;"">It is sunny today with a bright blue sky.</td>
</tr>
<tr>
<td style=""text-align: right;"">1</td>
<td style=""text-align: left;"">It is rainy today with a gloomy sky.</td>
</tr>
<tr>
<td style=""text-align: right;"">2</td>
<td style=""text-align: left;"">It is rainy today with severe thunder storms and chances of flooding.</td>
</tr>
<tr>
<td style=""text-align: right;"">3</td>
<td style=""text-align: left;"">I just might have a problem that you'll understand. We all need somebody to lean on.</td>
</tr>
<tr>
<td style=""text-align: right;"">4</td>
<td style=""text-align: left;"">ABCDEFGHIJ</td>
</tr>
</tbody>
</table></div>
<p><a href=""https://dbfiddle.uk/2nmEfED4"" rel=""nofollow noreferrer"">fiddle</a></p>
","2024-02-26 19:17:53","0","Answer"
"78063363","","Change regex to be insensitive to order of words in a list of strings in R","<p>I wonder why:</p>
<p><code>setNames(First_list, sub(&quot;^.([^_]+)\\D+(\\d+).*&quot;, &quot;Gain_\\2(\\1)&quot;, names(First_list)))</code> can produce my <code>Desired_output</code> but:</p>
<p><code>setNames(Second_list, sub(&quot;^.([^_]+)\\D+(\\d+).*&quot;, &quot;Gain_\\2(\\1)&quot;, names(Second_list)))</code> can not produce my <code>Desired_output</code>?</p>
<p><code>First_list</code> and <code>Second_list</code> are the same except the order of words in them is reversed. Can the regex be modified to produce the same <code>Desired_ouput</code> for <code>First_list</code> and <code>Second_list</code>?</p>
<pre><code>First_list &lt;-
  list(`(beginner_post1 - beginner_baseline)`= 1,
       `(intermediate_post1 - intermediate_baseline)`= 1,
       `(advanced_post1 - advanced_baseline)`= 1,
       `(beginner_post2 - beginner_baseline)`= 1,
       `(intermediate_post2 - intermediate_baseline)`= 1,
       `(advanced_post2 - advanced_baseline)`= c(7,-1),
       `(framework notes_posttest1 - framework notes_baseline)`=1,
       `(note-taking instruction_posttest1 - note-taking instruction_baseline)`=1
  )  
  
  
Second_list &lt;- 
list(`(post1_beginner - baseline_beginner)` = 1,
     `(post1_intermediate - baseline_intermediate)` = 1,
     `(post1_advanced - baseline_advanced)` = 1, 
     `(post2_beginner - baseline_beginner)` = 1,
     `(post2_intermediate - baseline_intermediate)` = 1,
     `(post2_advanced - baseline_advanced)` = 1,
     `(posttest1_framework notes - baseline_framework notes)`=1,
     `(posttest1_note-taking instruction - baseline_note-taking instruction)`=1
   )

Desired_output = 
  list(&quot;Gain_1(beginner)&quot;= 1,
       &quot;Gain_1(intermediate)&quot;= 1,
       &quot;Gain_1(advanced)&quot;= 1,
       &quot;Gain_2(beginner)&quot;= 1,
       &quot;Gain_2(intermediate)&quot;= 1,
       &quot;Gain_2(advanced)&quot;= 1,
       &quot;Gain_1(framework notes)&quot; = 1,
       &quot;Gain_1(note-taking instruction)&quot;=1
  )
</code></pre>
","2024-02-26 19:15:05","0","Question"
"78063335","78063162","","<p>Using monkey patching you can do something like this:</p>
<pre class=""lang-py prettyprint-override""><code>import tkinter as tk

def centerw(self, width, height):
    screen_width = self.winfo_screenwidth()
    screen_height = self.winfo_screenheight()
    w = 2
    h = 2
    x = (screen_width/w) - (width/w)
    y = (screen_height/h) - (height/h)
    self.geometry('%dx%d+%d+%d' % (width, height, x, y))
tk.Wm.centerw = centerw


# Test:
root = tk.Tk()
root.centerw(300, 400)
</code></pre>
<p>If you save that into a file and import it, it will create a new method in <code>tk.Wm</code> named <code>centerw</code>. When that method is called, it will call your function with the same name and you can do anything there.</p>
<p>Even better, you can do something like this:</p>
<pre class=""lang-py prettyprint-override""><code>import tkinter as tk

def centerw(self):
    self.update_idletasks()
    width = self.winfo_width()
    height = self.winfo_height()
    screen_width = self.winfo_screenwidth()
    screen_height = self.winfo_screenheight()
    w = 2
    h = 2
    x = (screen_width/w) - (width/w)
    y = (screen_height/h) - (height/h)
    self.geometry('%dx%d+%d+%d' % (width, height, x, y))
tk.Wm.centerw = centerw


# Test:
root = tk.Tk()
root.centerw()
</code></pre>
<p>That gets the <code>width</code> and <code>height</code> of the window (in this case <code>self</code>) and uses that instead of arguments passed in. I also had to add <code>self.update_idletasks()</code> to force <code>tkinter</code> to update its <code>width</code> and <code>height</code> otherwise <code>self.winfo_width()</code> will just return <code>1</code>.</p>
<hr />
<p>Things to note:</p>
<ul>
<li><code>root.xxx()</code> always passes in the object instance (in this case <code>root</code>) as the first argument. In methods, we usually call that <code>self</code></li>
<li>You can save this as <code>tkinter_centerw_patch.py</code> and use <code>import tkinter_centerw_patch</code> in your main python file to add the <code>centerw</code> method to <code>tk.Wm</code></li>
</ul>
","2024-02-26 19:08:35","1","Answer"
"78063325","78062174","","<p>For more than 10 variables you have to process in reverse order:</p>
<pre><code>with data(id, text) as (
    select 1, 'It is %1 today with a %2 sky.' from dual union all
    select 2, 'It is %1 today with %2 and chances of %3.' from dual union all
    select 3, 'I just %1 have a %2 that %3 understand. We %4 need %5 to %6 on.' from dual union all
    select 4, '%1,%2,%3,%4,%5,%6,%7,%8,%9,%10' FROM DUAL
),
variables(code, id, vals) as (
    select 'A1', 1, 'sunny/bright blue' from dual union all
    select 'A2', 2, 'rainy/severe thunder storms/flooding' from dual union all
    select 'A3', 3, 'might/problem/you''ll/all/somebody/lean' from dual union all
    select 'A4', 1, 'rainy/dark' from dual union all
    select 'A5', 4, 'A/B/C/D/E/F/G/H/I/J' FROM dual
),
compvars(code, id, vid, vals, result, isleaf) as (
    select code, v.id, regexp_count(vals, '/') as vid, 
         vals, 
        replace(d.text, '%' || to_char(regexp_count(vals, '/')+1), regexp_substr(vals, '[^/]+', 1, regexp_count(vals, '/')+1)),
        case when 0 &lt; regexp_count(vals, '/') then 0 else 1 end
    from variables v
    join data d on d.id = v.id
    
    union all
    
    select cv.code, cv.id, cv.vid-1, 
        vals, 
        case when cv.vid &gt; 0 then 
            replace(cv.result, '%' || to_char(cv.vid), regexp_substr(vals, '[^/]+', 1, cv.vid)) 
        else null end,
        case when cv.vid = 1 then 1 else 0 end 
    from compvars cv
    where cv.vid &lt;&gt; 0
)
select code, result from compvars 
where isleaf = 1
;
</code></pre>
","2024-02-26 19:06:16","0","Answer"
"78063245","78063071","","<p>I think what you're trying to do is to turn this:</p>
<pre><code>class MyClass
{
    private readonly IMyDependency _thingy;

    public MyClass(IMyDependency thingy)
    {
        _thingy = thingy;
    }
}
</code></pre>
<p>Into this:</p>
<pre><code>class MyClass
{
    private readonly IMyDependency _thingy;
    public MyClass(IMyDependency thingy) =&gt; _thingy = thingy;
}
</code></pre>
<p>Edit: This shorthand is called <a href=""https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"" rel=""nofollow noreferrer"">Expression Body Definition</a></p>
","2024-02-26 18:48:43","0","Answer"
"78063162","","add method to existing class from external library","<p>I want to create a custom function working on the class Wm from the library Tkinter. the custom function is the following:</p>
<pre><code>def centerw(width, height):
    screen_width = tk.Wm.winfo_screenwidth()
    screen_height = tk.Wm.winfo_screenheight()
    w = 2
    h = 2
    x = (screen_width/w) - (width/w)
    y = (screen_height/h) - (height/h)
    self.geometry('%dx%d+%d+%d' % (width, height, x, y))
</code></pre>
<p>The function must be called with <code>root.centerw(300,400)</code> where root is the Tk() variable declared from the user. here is the snippet from the <code>__init__.py</code>:</p>
<pre><code>def wm_geometry(self, newGeometry=None):
        &quot;&quot;&quot;Set geometry to NEWGEOMETRY of the form =widthxheight+x+y. Return
        current value if None is given.&quot;&quot;&quot;
        return self.tk.call('wm', 'geometry', self._w, newGeometry)
</code></pre>
<p>so basically i'm trying to take advantage of the Wm class to create my custom function working with the code from init.py
goal: when i change the variable &quot;root&quot;, i don't have to change anything inside my function</p>
<p>tried adding the function directly to the _<em>init</em>.py but there's no way to do that for me</p>
","2024-02-26 18:32:42","0","Question"
"78063150","78061745","","<p>While, a function is passed as an argument, we generally pass the function name. For example, let's say, we have a number of functions, where we will define &quot;we will do this, then this and this and so on.&quot;</p>
<pre><code>def hello():
    return &quot;Hello&quot;

user_name = input(&quot;Your name : &quot;)

def name(name):
    return name

def condition():
    return &quot;How are you?&quot;

def greet(func1, func2, func3):
    return func1() + ' ' + func2(user_name) + '! ' + func3()

print(greet(hello, name, condition))`
</code></pre>
<p>when we passing the arguments(hello, name, condition), the function is not called yet. the function is triggered while we add the parenthesis(func1(), func2(), func3()). This concept is called <strong>higher order functions</strong></p>
<p>Let me know if it helps you a bit.</p>
","2024-02-26 18:30:08","0","Answer"
"78063071","","Is there C# syntactic sugar for declaring and assigning a field in the constructor arguments of a class?","<p>I'm trying to remember a C# Language feature, but I haven't touched C# in a bit. I can't remember the exact syntax or find any documentation on it.</p>
<p>The feature I'm trying to remember was shorthand to declare a field or property in the arguments of a constructor and assign the constructor argument to that field all in one statement.</p>
<p>If it helps, the context I remember using it in was a .NET Core Azure Function with dependency injection. I'm not sure if it's possible that this feature was specific to .NET Core, Azure, or the dependency injection framework.</p>
<p>It was something like this:</p>
<pre><code>class MyClass
{
  public MyClass(private IMyDependency thingy = null)
  {
    ...
  }
}
</code></pre>
<p>where the code written above was equivalent to:</p>
<pre><code>class MyClass
{
  private readonly IMyDependency _thingy;

  public MyClass(IMyDependency thingy)
  {
    this.thingy = thingy;
  }
}
</code></pre>
<p>Is this feature real? Was it removed? Am I imagining it?</p>
<p>If it is real, what is the syntax, and <strong>what is it called</strong>?</p>
","2024-02-26 18:14:36","0","Question"
"78062853","78061745","","<p><code>wrapper()</code> is an expression that calls the function, execute its instructions and catch the returned result. Thus if you write <code>a = wrapper()</code> then <code>a</code> will be set to the returned value.</p>
<p><code>wrapper</code> is an expression that represents the function itself, no more no less. When you have an expression, say <code>e</code> that corresponds to a function, you can call it using <code>()</code>. So, if you write <code>a = wrapper</code>, <code>a</code> is set to a value that represent a callable function. You can then write <code>a()</code> to call it.</p>
<p>If you change <code>return wrapper()</code> to <code>return wrapper</code>, you can observe that nothing will be printed as the wrapper is never called, so anything it wraps is not executed.</p>
","2024-02-26 17:35:25","1","Answer"
"78062761","","Create Redshift UDF that can query from a table","<p>I need to replace an input string with values from a table in Redshift</p>
<p>I have this function in SQL that replaces the input string with values from a table. I can't make it work in Redshift because it doesn't accept the FROM clause. Thoughts?</p>
<pre><code>CREATE FUNCTION [dbo].[udf_StringReplace](@str VARCHAR(200))
RETURNS VARCHAR(200)
WITH SCHEMABINDING, RETURNS NULL ON NULL INPUT
AS
BEGIN
    SELECT @str = REPLACE(UPPER(@str),find,sub)
    FROM [dbo].[StringReplace]

    RETURN @str
END
</code></pre>
<p>I tried converting it, but not no luck and I can't think of a way to accomplish the task.</p>
","2024-02-26 17:19:21","1","Question"
"78062744","78062560","","<p>The recommended methods for <a href=""https://dplyr.tidyverse.org/articles/programming.html"" rel=""nofollow noreferrer"">programming with <code>dplyr</code></a> include <code>!!sym(.)</code> or <code>{{.}}</code> as benson23 already demonstrated).</p>
<pre class=""lang-r prettyprint-override""><code>filt_func1 &lt;- function(input_df, filter_value, filter_field) {
  input_df %&gt;%
    dplyr::filter(grepl(filter_value, !!sym(filter_field)))
}
filt_func1(df, &quot;d&quot;, &quot;temp&quot;)
#   a temp
# 1 4    d
</code></pre>
<pre class=""lang-r prettyprint-override""><code>filt_func2 &lt;- function(input_df, filter_value, filter_field) {
  input_df %&gt;%
    dplyr::filter(grepl(filter_value, {{ filter_field }}))
}
filt_func1(df, &quot;d&quot;, &quot;temp&quot;)
#   a temp
# 1 4    d
</code></pre>
<p>If you want to go NSE (non-standard evaluation), you can do this:</p>
<pre class=""lang-r prettyprint-override""><code>filt_func3 &lt;- function(input_df, filter_value, filter_field) {
  filter_field &lt;- enquo(filter_field)
  input_df %&gt;%
    dplyr::filter(grepl(filter_value, !!filter_field))
}
filt_func3(df, &quot;d&quot;, temp)  # &lt;-- notice that `temp` has no quotes, just the variable name
#   a temp
# 1 4    d
</code></pre>
","2024-02-26 17:15:32","2","Answer"
"78062653","78062174","","<p>To be independent of the number of variables:</p>
<pre><code>with data(id, text) as (
    select 1, 'It is %1 today with a %2 sky.' from dual union all
    select 2, 'It is %1 today with %2 and chances of %3.' from dual union all
    select 3, 'I just %1 have a %2 that %3 understand. We %4 need %5 to %6 on.' from dual -- union all
),
variables(code, id, vals) as (
    select 'A1', 1, 'sunny/bright blue' from dual union all
    select 'A2', 2, 'rainy/severe thunder storms/flooding' from dual union all
    select 'A3', 3, 'might/problem/you''ll/all/somebody/lean' from dual union all
    select 'A4', 1, 'rainy/dark' from dual -- union all
),
compvars(code, id, vid, vals, str, result, isleaf) as (
    select code, v.id, 1 as vid, vals, regexp_substr(vals, '[^/]+', 1, 1) as str,
        replace(d.text, '%1', regexp_substr(vals, '[^/]+', 1, 1)),
        case when 0 &lt; regexp_count(vals, '/') then 0 else 1 end
    from variables v
    join data d on d.id = v.id
    
    union all
    
    select cv.code, cv.id, cv.vid+1, vals, regexp_substr(cv.vals, '[^/]+', 1, cv.vid+1),
        replace(cv.result, '%' || to_char(cv.vid+1), regexp_substr(vals, '[^/]+', 1, cv.vid+1)),
        case when cv.vid &lt; regexp_count(cv.vals, '/') then 0 else 1 end 
    from compvars cv
    where regexp_substr(cv.vals, '[^/]+', 1, cv.vid+1) is not null
)
select code, result from compvars 
where isleaf = 1
;
</code></pre>
","2024-02-26 16:58:24","0","Answer"
"78062614","78062560","","<p>You have to either <code>get</code> the string variable:</p>
<pre><code>filt_func &lt;- function(input_df,filter_value,filter_field){
  filt_df &lt;- input_df %&gt;% dplyr::filter(grepl(filter_value,get(filter_field)))
  filt_df
}

filt_func(df,&quot;d&quot;,&quot;temp&quot;)
</code></pre>
<p>Or enclose it with <code>{{}}</code>:</p>
<pre><code>filt_func &lt;- function(input_df,filter_value,filter_field){
  filt_df &lt;- input_df %&gt;% dplyr::filter(grepl(filter_value,{{filter_field}}))
  filt_df
}

filt_func(df,&quot;d&quot;,temp)
</code></pre>
<p>Both give:</p>
<pre><code>  a temp
1 4    d
</code></pre>
","2024-02-26 16:52:23","4","Answer"
"78062586","78062560","","<p>I was able to attain the same output by calling the dataframe column instead of calling a list</p>
<pre><code>output &lt;- filt_func(df,&quot;d&quot;,df$temp)
</code></pre>
","2024-02-26 16:48:54","1","Answer"
"78062560","","How to include variables in custom filter function for dataframe?","<p>I can't seem to get my R function to work which is designed to filter (dplyr) a data frame based on the filter value (character) and filter field input parameters. Here is my setup code:</p>
<pre><code>df &lt;- data.frame(a=c(1,2,3,4),temp=c(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;))
 
filt_func &lt;- function(input_df,filter_value,filter_field){
  filt_df &lt;- input_df %&gt;% dplyr::filter(grepl(filter_value,filter_field))
}
</code></pre>
<p>Now, when I run this without using a function it works?! Working code:</p>
<pre><code>&gt; df %&gt;% dplyr::filter(grepl(&quot;d&quot;, temp))
  a temp
1 4    d
</code></pre>
<p>However, my function does not!</p>
<pre><code>&gt; output &lt;- filt_func(df,&quot;d&quot;,temp)
Error in `dplyr::filter()`:
i In argument: `grepl(filter_value, filter_field)`.
Caused by error in `is.factor()`:
! object 'temp' not found
Run `rlang::last_trace()` to see where the error occurred.  
</code></pre>
<p>Putting quotes around &quot;temp&quot; enables the code to run but the output is empty.</p>
<pre><code>output &lt;- filt_func(df,&quot;d&quot;,&quot;temp&quot;)
</code></pre>
<p>I'm sure this is something silly but I've been starting at this too long and it's been a while since I coded functions. I tried adding <code>return(filt_df)</code> to the function but that didn't help.</p>
","2024-02-26 16:44:24","0","Question"
"78062463","78062174","","<p>Separate the replacement values into individual terms and then use <code>REPLACE</code> for each value (replacing <code>%10</code> before <code>%1</code>):</p>
<pre class=""lang-sql prettyprint-override""><code>WITH bounds (id, v, b1, b2, b3, b4, b5, b6, b7, b8, b9) AS (
  SELECT id,
         vals,
         INSTR(vals, '/', 1, 1),
         INSTR(vals, '/', 1, 2),
         INSTR(vals, '/', 1, 3),
         INSTR(vals, '/', 1, 4),
         INSTR(vals, '/', 1, 5),
         INSTR(vals, '/', 1, 6),
         INSTR(vals, '/', 1, 7),
         INSTR(vals, '/', 1, 8),
         INSTR(vals, '/', 1, 9)
  FROM   table2
),
terms (id, t1, t2, t3, t4, t5, t6, t7, t8, t9, t10) AS (
  SELECT id,
         CASE
         WHEN b1 = 0 THEN v
         ELSE SUBSTR(v, 1, b1 - 1)
         END,
         CASE
         WHEN b2 = 0 AND b1 &gt; 0 THEN SUBSTR(v, b1 + 1)
         WHEN b2 &gt; 0 AND b1 &gt; 0 THEN SUBSTR(v, b1 + 1, b2 - b1 - 1)
         END,
         CASE
         WHEN b3 = 0 AND b2 &gt; 0 THEN SUBSTR(v, b2 + 1)
         WHEN b3 &gt; 0 AND b2 &gt; 0 THEN SUBSTR(v, b2 + 1, b3 - b2 - 1)
         END,
         CASE
         WHEN b4 = 0 AND b3 &gt; 0 THEN SUBSTR(v, b3 + 1)
         WHEN b4 &gt; 0 AND b3 &gt; 0 THEN SUBSTR(v, b3 + 1, b4 - b3 - 1)
         END,
         CASE
         WHEN b5 = 0 AND b4 &gt; 0 THEN SUBSTR(v, b4 + 1)
         WHEN b5 &gt; 0 AND b4 &gt; 0 THEN SUBSTR(v, b4 + 1, b5 - b4 - 1)
         END,
         CASE
         WHEN b6 = 0 AND b5 &gt; 0 THEN SUBSTR(v, b5 + 1)
         WHEN b6 &gt; 0 AND b5 &gt; 0 THEN SUBSTR(v, b5 + 1, b6 - b5 - 1)
         END,
         CASE
         WHEN b7 = 0 AND b6 &gt; 0 THEN SUBSTR(v, b6 + 1)
         WHEN b7 &gt; 0 AND b6 &gt; 0 THEN SUBSTR(v, b6 + 1, b7 - b6 - 1)
         END,
         CASE
         WHEN b8 = 0 AND b7 &gt; 0 THEN SUBSTR(v, b7 + 1)
         WHEN b8 &gt; 0 AND b7 &gt; 0 THEN SUBSTR(v, b7 + 1, b8 - b7 - 1)
         END,
         CASE
         WHEN b9 = 0 AND b8 &gt; 0 THEN SUBSTR(v, b8 + 1)
         WHEN b9 &gt; 0 AND b8 &gt; 0 THEN SUBSTR(v, b8 + 1, b9 - b8 - 1)
         END,
         CASE
         WHEN b9 &gt; 0 THEN SUBSTR(v, b9 + 1)
         END
  FROM   bounds
)
SELECT t1.id,
       REPLACE(
         REPLACE(
           REPLACE(
             REPLACE(
               REPLACE(
                 REPLACE(
                   REPLACE(
                     REPLACE(
                       REPLACE(
                         REPLACE(text, '%10', t10),
                         '%9', t9
                       ),
                       '%8', t8
                     ),
                     '%7', t7
                   ),
                   '%6', t6
                 ),
                 '%5', t5
               ),
               '%4', t4
             ),
             '%3', t3
           ),
           '%2', t2
         ),
         '%1', t1
       ) AS replaced
FROM   table1 t1
       INNER JOIN terms t
       ON t1.id = t.id
</code></pre>
<p>Which, for the sample data:</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE TABLE table1 (ID, TEXT) AS
SELECT 1, 'It is %1 today with a %2 sky.' FROM DUAL UNION ALL
SELECT 2, 'It is %1 today with %2 and chances of %3.' FROM DUAL UNION ALL
SELECT 3, 'I just %1 have a %2 that %3 understand. We %4 need %5 to %6 on.' FROM DUAL;

CREATE TABLE Table2 (ID, VALS) AS
SELECT 1, 'sunny/bright blue' FROM DUAL UNION ALL
SELECT 2, 'rainy/severe thunder storms/flooding' FROM DUAL UNION ALL
SELECT 3, 'might/problem/you''ll/all/somebody/lean' FROM DUAL UNION ALL
SELECT 1, 'rainy/gloomy' FROM DUAL;
</code></pre>
<p>Outputs:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th style=""text-align: right;"">ID</th>
<th style=""text-align: left;"">REPLACED</th>
</tr>
</thead>
<tbody>
<tr>
<td style=""text-align: right;"">1</td>
<td style=""text-align: left;"">It is sunny today with a bright blue sky.</td>
</tr>
<tr>
<td style=""text-align: right;"">2</td>
<td style=""text-align: left;"">It is rainy today with severe thunder storms and chances of flooding.</td>
</tr>
<tr>
<td style=""text-align: right;"">3</td>
<td style=""text-align: left;"">I just might have a problem that you'll understand. We all need somebody to lean on.</td>
</tr>
<tr>
<td style=""text-align: right;"">1</td>
<td style=""text-align: left;"">It is rainy today with a gloomy sky.</td>
</tr>
</tbody>
</table></div>
<p><a href=""https://dbfiddle.uk/pL4PiADX"" rel=""nofollow noreferrer"">fiddle</a></p>
","2024-02-26 16:28:19","0","Answer"
"78062293","78061794","","<p>The option offered above by Rui works, and fills the gaps directly, Thanks all for taking the time.</p>
<p>In the meantime i also found that it was not the syntax of adressing the single cells in the dataframe, that was causing the error. Indeed, i missed to RETURN the dataframe under operation in the function. Otherwise it seems the result of the function is not finalized in the dataframe.</p>
<p>This works for me:</p>
<pre><code>    endfill&lt;-function(df, col){
  
  #fill the first row
  df[1,col] &lt;- df[min(which(!is.na(df[[col]]))), col]    
  df[nrow(df),col]&lt;-df[max(which(!is.na(df[[col]]))),col]
  df
  
}  
</code></pre>
","2024-02-26 15:59:57","0","Answer"
"78062203","78061794","","<p>if yu are filling the <code>NAs</code>, use <code>tidyr::fill</code>:</p>
<pre><code>tidyr::fill(df1, everything(), .direction = 'downup')

  x1 x2
1  1  1
2  1  1
3  2  1
4  3  2
5  3  2
</code></pre>
<hr />
<p>With piping, this can be written as:</p>
<pre><code>library(tidyverse)
df1 %&gt;%
  fill(x1:x2, .direction = 'downup')
</code></pre>
","2024-02-26 15:47:04","1","Answer"
"78062174","","How do I parse data in Oracle?","<p>I have two tables that are linked by a common column 'ID'. Table1 has text with fill in the blanks (%1,%2,... %10) and Table2 has values for those blanks separated by a / delimiter.</p>
<p>Expected result is to fill in the blanks and display complete sentence as a select statement and/or by creating a function.</p>
<p>Any help is much appreciated!!!</p>
<p>Note:
Oracle version: 11g. Table1 can have up to 10 values to be filled (%10)</p>
<p>Table1:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>ID</th>
<th>TEXT</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>It is %1 today with a %2 sky.</td>
</tr>
<tr>
<td>2</td>
<td>It is %1 today with %2 and chances of %3.</td>
</tr>
<tr>
<td>3</td>
<td>I just %1 have a %2 that %3 understand. We %4 need %5 to %6 on.</td>
</tr>
</tbody>
</table></div>
<p>Table2:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>CODE</th>
<th>ID</th>
<th>VALUES</th>
</tr>
</thead>
<tbody>
<tr>
<td>A1</td>
<td>1</td>
<td>sunny/bright blue</td>
</tr>
<tr>
<td>A2</td>
<td>2</td>
<td>rainy/severe thunder storms/flooding</td>
</tr>
<tr>
<td>A3</td>
<td>3</td>
<td>might/problem/you'll/all/somebody/lean</td>
</tr>
<tr>
<td>A4</td>
<td>1</td>
<td>rainy/dark</td>
</tr>
</tbody>
</table></div>
<p>Expected Output:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>CODE</th>
<th>OUTPUT TEXT</th>
</tr>
</thead>
<tbody>
<tr>
<td>A1</td>
<td>It is sunny today with a bright blue sky.</td>
</tr>
<tr>
<td>A2</td>
<td>It is rainy today with severe thunder storms and chances of flooding.</td>
</tr>
<tr>
<td>A3</td>
<td>I just might have a problem that you'll understand. We all need somebody to lean on.</td>
</tr>
<tr>
<td>A4</td>
<td>It is rainy today with a dark sky.</td>
</tr>
</tbody>
</table></div>
<p>I tried to search for a solution but no luck or maybe I am not searching right.</p>
","2024-02-26 15:43:00","0","Question"
"78062125","","What is the difference between `function () {}` and `() => {}` in JavaScript?","<p>I am trying to add a method to the Person constructor function but keep getting an output of &quot;Hello undefined&quot;</p>
<pre><code>
    function Person(name, age) {
        this.name = name;
        this.age = age;
    }

    Person.prototype.sayHi = () =&gt; {
        return (`Hello ${this.name}`);
    }

    let person1 = new Person(&quot;Jean&quot;, 30);

    console.log(person1.sayHi());

    //Output when I use `function () {}` is &quot;Hello Jean.
    //Output when I use `() =&gt; {}` is &quot;Hello undefined&quot;.
</code></pre>
","2024-02-26 15:36:56","0","Question"
"78062052","78061794","","<p>Here is a solution with function <a href=""https://search.r-project.org/CRAN/refmans/zoo/html/na.locf.html"" rel=""nofollow noreferrer""><code>na.locf</code></a> from package <code>zoo</code>.</p>
<pre class=""lang-r prettyprint-override""><code>endfill &lt;- function(DF, col) {
  if(nrow(DF) &gt; 0L) {
    DF[[col]] &lt;- zoo::na.locf(DF[[col]], na.rm = FALSE)
    DF[[col]] &lt;- zoo::na.locf(DF[[col]], na.rm = FALSE, fromLast = TRUE)
  }
  DF
}

df1 &lt;- data.frame(
  x1 = c(NA, 1:3, NA),
  x2 = c(NA, NA, 1:2, NA)
)

endfill(df1, &quot;x1&quot;)
#&gt;   x1 x2
#&gt; 1  1 NA
#&gt; 2  1 NA
#&gt; 3  2  1
#&gt; 4  3  2
#&gt; 5  3 NA
endfill(df1, &quot;x2&quot;)
#&gt;   x1 x2
#&gt; 1 NA  1
#&gt; 2  1  1
#&gt; 3  2  1
#&gt; 4  3  2
#&gt; 5 NA  2
</code></pre>
<p><sup>Created on 2024-02-26 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.0.2</a></sup></p>
","2024-02-26 15:26:37","2","Answer"
"78061794","","How do I properly refer to data.frame cells in functions","<p>My data is instrument reads and instrument baselines. The baseline data is punctual and typically does not extend to the &quot;ends&quot; of the dataset (i.e. first and last rows). Therefore I want to make a function that looks at the baseline column, and copies the values of the earliest and latest baselinepoints to the very first/last rows in the dataset, so that I can interpolate between them with approx().</p>
<p>I have so far done this manually, as exemplified below, but I need to do this task over and over again, so I'd like to make it a function.
I checked for other threads around here, and from what I read, I think must have to do with the different ways to address columns and cells esp. When using self-made functions in data.frames.</p>
<p>Here is an example</p>
<pre><code>#Make Two data frames: one holds instrument data, and one holds some 
#baseline calibration we need to extend to the ends of the dataset

time&lt;-seq(1,100,1)
data1&lt;-rnorm(n = 100,mean = 7.5, sd = 1.1)
table1&lt;-data.frame(cbind(time, data1))

time&lt;-data.frame(&quot;time&quot;=seq(2,96,4))
data2&lt;-(0.32*rnorm(n = 24, mean = 1, sd = 1))
table2&lt;-cbind(time,data2)

rm(time)

#now merge the two tables
newtable&lt;-merge(table1, table2, by=&quot;time&quot;, all=T)

#remove junk
rm(data1, data2,table1,table2)

#copy 3rd column for later testing
newtable$data3&lt;-newtable$data2

#the old manual way to fill the first row
newtable$data2[1]&lt;-newtable$data2[min(which(!is.na(newtable$data2)))]

#the old manual way to fill the last row
newtable$data2[nrow(newtable)]&lt;-newtable$data2[max(which(!is.na(newtable$data2)))]

#Now I try with a function

endfill&lt;-function(df, col){
 
   #fill the first row
  df[1,col] &lt;- df[min(which(!is.na(df[[col]]))), col]    # using = instead of &lt;- has no effect
  df[nrow(df),col]&lt;-df[max(which(!is.na(df[[col]]))),col]
  # 

}  

#I want to try my funtion in column 4:

endfill(df=  newtable,col = 4)

#Does not work...
</code></pre>
<p>Another try:</p>
<pre><code>endfill&lt;-function(df, col){
 
   #fill the first row
  df$col[1] &lt;-  df[[col]]  [min(which(!is.na(df[[col]])))] # using $names
  #df[nrow(df),col]&lt;-df[max(which(!is.na(df[[col]]))),col]
  # 

}  

endfill(df=  newtable,col = 4)
# :-(

</code></pre>
<p>In the function I have tried different approaches to address cells, first with using df$col[1], then also with df[[col]][1], and mixed versions, but I seem to miss a point here.
When I execute my above function in pieces, e.g. only the single parts before and after the &quot;&lt;-&quot;, they all make sense, i.e. deliver NA values for empty cells or the target value. But it seems impossible to do real assignments?!</p>
","2024-02-26 14:50:31","0","Question"
"78061784","78061745","","<p>In this case calling wrapper() would <strong>immediately</strong> execute the function.  if you just return wrapper, then you are returning the function itself so that it can be called later by another part of the code</p>
<p>EDIT</p>
<p>I am going to come up with a contrived example to illustrate what I mean in the above explanation:</p>
<p>An immediately executed function might be like this:</p>
<pre><code>def hello_world():
    print(&quot;Hello, World!&quot;)

# Call the function to execute it
hello_world()
</code></pre>
<p>In the above case as you expect &quot;Hello, World!&quot; is printed immediately.</p>
<p>You can also reference functions in variables like:</p>
<pre><code>def hello_world():
    print(&quot;Hello, World!&quot;)

# Assign the function to a variable
hello_function = hello_world

# Call the variable as a function
hello_function()
</code></pre>
<p>In the above case we created a variable hello_function that references the same hello_world function and then LATER executes it with hello_function()</p>
<p>You could then do slick things like pass that function around to other functions creating higher order functions.</p>
","2024-02-26 14:48:58","1","Answer"
"78061745","","different between ""return func"" and ""return func()""","<p>Firstly, I'm so sorry if this is a dupplicated question.</p>
<p>let's say I have a simple python code named decorator.py with decorator here:</p>
<pre class=""lang-py prettyprint-override""><code>def decorator(func):
    def wrapper():
        print(&quot;Before function.&quot;)
        val = func()
        print(&quot;After function.&quot;)
        return val
    return wrapper() # &lt;- please pay attention to this line`

@decorator
def hello():
    print(&quot;hello!&quot;)

@decorator
def good_bye():
    print(&quot;good_bye!&quot;)

@decorator
def thank_you():
    print(&quot;thank_you!&quot;)

@decorator
def thanks_a_lot():
    print(&quot;thanks_a_lot!&quot;)
</code></pre>
<p>the result after running the code</p>
<pre><code>Before function.
hello!
After function.
Before function.
good_bye!
After function.
Before function.
thank_you!
After function.
Before function.
thanks_a_lot!
After function.
[Finished in 46ms]
</code></pre>
<p>this mean, return wrapper() calls all my functions?
what is the difference between wrapper() and wrapper in this case.
I appreciate for your explaination.</p>
<p>I'm tring to run on debug mode to find out, but still got nothing, I hope I'll get a detail explaination</p>
","2024-02-26 14:41:50","-1","Question"
"78061343","78061200","","<p>Issue is you are using replace and strings are imutable in JS so the interpreteur is not modifying the string but rather raturning a new modifyed string</p>
<p>also in your example you have a logical issue in your replacements: once you replace 'A' with 'T', if you immediately replace 'T' with 'A', it will revert the first replacement.</p>
<p>Here is how you can achieve desired results using a map:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>    function dnaStrand(dna) {
      const complements = {
        'A': 'T',
        'T': 'A',
        'C': 'G',
        'G': 'C'
      };
      
      const compl = dna.split('').map(char =&gt; complements[char]).join('');
      
      console.log(compl);
      return compl;
    }
    
    console.log(dnaStrand(""ATGC""));</code></pre>
</div>
</div>
</p>
","2024-02-26 13:35:58","0","Answer"
"78061317","78061200","","<p><code>String.replace</code> does <em>not</em> modify the original string (why? Because <code>String</code> is <a href=""https://www.freecodecamp.org/news/mutability-vs-immutability-in-javascript/"" rel=""nofollow noreferrer"">immutable</a>).</p>
<p>You can try to remap the values, something like:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>console.log(dnaStrand(`ATGC`));

function dnaStrand(dna){
 return [...dna].map( v =&gt; {
  switch(v) {
    case `A`: return `T`;
    case `T`: return `A`;
    case `C`: return `G`;
    default: return `C`
  }
 }).join(``);
}</code></pre>
</div>
</div>
</p>
<p><code>String.replace</code> <em>can</em> be used this way:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const dna = `ATGC`;
console.log(`dnaStrand(dna) =&gt; ${dnaStrand(dna)}, dna still =&gt; ${dna}`);

function dnaStrand(dna){
 const complements = {A: `T`, T: `A`, C: `G`, G: `C`};
 return dna.replace(/[ACGT]/g, letter =&gt; complements[letter]);
}</code></pre>
</div>
</div>
</p>
","2024-02-26 13:31:40","1","Answer"
"78061200","","Replacing letters in a string using javaScript","<pre><code>function dnaStrand(dna){
 const compl = dna;
 dna.includes(&quot;A&quot;) &amp;&amp; compl.replace(/A/g, &quot;T&quot;);
 dna.includes(&quot;T&quot;) &amp;&amp; compl.replace(/T/g, &quot;A&quot;)
 dna.includes(&quot;C&quot;) &amp;&amp; compl.replace(/C/g, &quot;G&quot;)
 dna.includes(&quot;G&quot;) &amp;&amp; compl.replace(/G/g, &quot;C&quot;)
 console.log(compl)
 return compl
}
</code></pre>
<p>I intend to form the complementary dna strand, that is, A is complementary to T and C is complemantary to G.</p>
<p>input &gt;&gt;&gt; output
ATGC &gt;&gt;&gt;&gt; TACG</p>
","2024-02-26 13:17:36","-5","Question"
"78060001","78059794","","<p><code>pg_proc</code> is the system catalog where functions are stored. When you create a function, a row is inserted into <code>pg_proc</code>. Whenever you <code>INSERT</code>, <code>UPDATE</code> or <code>DELETE</code> rows in a table, the table is locked in <code>ROW EXCLUSIVE</code> mode (to prevent incompatible concurrent statements like <code>DROP TABLE</code> or <code>CREATE INDEX</code>). This is the same for system catalog tables and normal tables.</p>
","2024-02-26 09:57:15","1","Answer"
"78059794","","Always get a RowExclusiveLock on table pg_proc When I create a Function,why?","<p>Below is the create function code:</p>
<pre><code>CREATE or REPLACE FUNCTION &quot;public&quot;.createtable_if_not_exists(schema_name1 text, table_name text,create_stmt text)
RETURNS text AS
$_$
BEGIN
    IF EXISTS(select tablename from pg_catalog.pg_tables where schemaname = schema_name1 AND tablename = table_name) THEN
        RETURN 'Already exists';
    ELSE
        EXECUTE create_stmt;
        RETURN 'Created';
    END IF;
END;
$_$ LANGUAGE 'plpgsql';
</code></pre>
<p>Any idea?</p>
<p>A reason to explain!</p>
","2024-02-26 09:20:36","0","Question"
"78057690","","How to write a function to change the color of text and background as well as change the text of p by clicking only one button?","<p>Screenshot Menu of Homepage including the &quot;Plain&quot;-Button to make the page more accessible</p>
<p><a href=""https://i.sstatic.net/4efbt.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/4efbt.jpg"" alt=""enter image description here"" /></a></p>
<p>I am just programming my first website and I wish to have two versions of it. One complex and one plain/ accessible following the guidelines of accessibility.</p>
<p>This means I need to change from version 1 to version 2:</p>
<ul>
<li>a) the language/ content (hence I need to access p, h1, h2 of the different sections)</li>
<li>b) the style (background color of all sections, color of all sections etc.).</li>
</ul>
<p>My idea was to use a button with a Click-Event function for this and then use:</p>
<ul>
<li>a) innerText to change the content</li>
<li>b) addClasslist to create a classlist that has the characteristics (color etc.) that I want to change.</li>
</ul>
<p>My first try was this:</p>
<p><strong>HTML of the Nav</strong></p>
<pre><code>&lt;body class=&quot;complex&quot;&gt;
  &lt;header&gt;
    &lt;div class=&quot;content-wrapper&quot;&gt;

&lt;div class=&quot;topnav&quot;&gt;
        &lt;div class=&quot;languages&quot;&gt;
        &lt;a href=&quot;./Spanish/index.html&quot; class=&quot;active&quot;&gt;ES&lt;/a&gt;
        &lt;a href=&quot;./German/index.html&quot; class=&quot;active&quot;&gt;DE&lt;/a&gt;
        &lt;button class=&quot;accessible&quot;&gt;&lt;span class=&quot;easy&quot;&gt;&lt;/span&gt;Plain&lt;/button&gt;
        &lt;/div&gt;

        &lt;!-- Navigation links (hidden by default) --&gt;
        &lt;div id=&quot;myLinks&quot;&gt;
          &lt;a href=&quot;#work&quot;&gt;Projects&lt;/a&gt;
          &lt;a href=&quot;#skills&quot;&gt;Skills&lt;/a&gt;
          &lt;a href=&quot;#about&quot;&gt;About&lt;/a&gt;
          &lt;a href=&quot;#contact&quot;&gt;Contact Me&lt;/a&gt;
        &lt;/div&gt;

        &lt;!-- &quot;Hamburger menu&quot; / &quot;Bar icon&quot; to toggle the navigation links --&gt;
        &lt;a href=&quot;javascript:void(0);&quot; class=&quot;icon&quot; onclick=&quot;myFunction()&quot;&gt;
          &lt;i class=&quot;fa fa-bars&quot;&gt; &lt;span class=&quot;menu&quot;&gt; Menu &lt;/span&gt; &lt;/i&gt;
        &lt;/a&gt;
      &lt;/div&gt; 

</code></pre>
<p><strong>JAVASCRIPT</strong></p>
<pre><code>const accessible = document.querySelector (&quot;.accessible&quot;);
const body = document.querySelector(&quot;complex&quot;);

accessible.addEventListener('click', () =&gt; body.classList.add('add-accessibility'));
</code></pre>
<p>How to access innerText here?</p>
<p><strong>CSS of the new classlist for the body (.complex)</strong></p>
<pre><code>.add-accessibility {
    color: #2b2c2c;
    background-color: #eae4dd;
}
</code></pre>
<p>This is totally not working at all until now. The classlist is not added to the body the way I have written the function when I click the button.</p>
<p>Do you have ideas how to write a working function for all this changes needed in content and style? And do you know what the error in my idea above is? why does it not even add the classlist?</p>
<p>My other idea was to use a function with if/else. If this might be a better choice I am also glad to hear your ideas.</p>
<p>Another option could be to create a second css styles document and change to it by clicking the button but then I still do not know how to access the innerText, if my function above does not work.</p>
","2024-02-25 21:02:02","0","Question"
"78057557","78057534","","<p>That is an array of strings, and it will contain any command line arguments you added when calling the program from the command line. For example, if you open your terminal and run &quot;myprogram.exe testme&quot; then &quot;testme&quot; will be in args[1] and &quot;myprogram.exe&quot; will be in args[0].</p>
<p>As far as &quot;what parameters&quot;, that is up to you. If your program doesn't do anything with command line arguments, then you don't need to pass anything.</p>
","2024-02-25 20:18:21","0","Answer"
"78057534","","Why the Main function accepts (string [] args)?","<p>I mean that I don't quite understand why such parameters as string [] and what should be passed into them, if Main is the entry point to the program.</p>
<p>for example:</p>
<pre><code>static void Main(string[] args)
    {
         int number1 = 5;
        ChanfeVal(number1);
        System.Console.WriteLine(number1); 
    }
</code></pre>
","2024-02-25 20:11:38","-5","Question"
"78057002","78056978","","<p>The checkUserNameIsUsed function is making a database query, which is an asynchronous operation.When you try to return true or false inside the callback functions, you're actually returning from those inner functions, not from the checkUserNameIsUsed function itself.</p>
<p>To solve this here you can use callbacks or promises.</p>
<pre><code>class Admin {
  //function check if the username already used ,, error in return of function
  async checkUserNameIsUsed(userName, tableName, propertyName) {
    try {
      let sqlQuery = `SELECT * FROM ${tableName} WHERE ${propertyName} = '${userName}'`;
      await connectToMysql();
      
      return new Promise((resolve, reject) =&gt; {
        connection.query(sqlQuery, (err, result) =&gt; {
          if (err) {
            console.log(err);
            connection.end();
            reject(err);
          } else {
            if (result.length &gt; 0) {
              console.log(&quot;This username is already used:&quot;, userName);
              connection.end();
              resolve(false);
            } else {
              connection.end();
              resolve(true);
            }
          }
        });
      });
    } catch (error) {
      console.log(error);
      throw error;
    }
  }
}
</code></pre>
<p>Now you can use function like this</p>
<pre><code>async function someFunction() {
  const admin = new Admin();
  try {
    const isUserNameUsed = await admin.checkUserNameIsUsed('someUserName', 'tableName', 'propertyName');
    console.log(isUserNameUsed); // It will log either true or false
  } catch (error) {
    console.error(&quot;Error occurred:&quot;, error);
  }
}

someFunction();
</code></pre>
","2024-02-25 17:41:43","0","Answer"
"78056978","","problem in return function , why function is return undefined","<p>This function most return true or false but its return undefined...</p>
<pre><code>class Admin() {
  //function check if the username alredy used ,, error in return of function
  checkUserNameIsUsed(userName, tableName, proprtieName) {
    try {
      let sqlQuery = `select * from ${tableName} where ${proprtieName} = '${userName}'`;
      connectToMysql();
      connection.connect((err) =&gt; {
        if (!err) {
          connection.query(sqlQuery, (err, result) =&gt; {
            if (!err) {
              if (result.length &gt; 0) {
                console.log(&quot;this user name is used :&quot;, userName);
                return false;
              } else {
                return true;
              }
            }
            connection.end();
          })
        } else {
          console.log(err);
          connection.end();
          return false;
        }
      })
    } catch (error) {
      console.log(error);
    }
  }
}
</code></pre>
<p>above in this code I 'am try to check is the DB is already have username or not , if function found the user name it most return false and if not found it's return true.</p>
<p>and in this code I check if the function return false or true but its return undefined</p>
<pre><code>//check if user name is used
if (admin.checkUserNameIsUsed(adminUserName,adminTable,adminUserNameInDB)===false){
  res.status(400).send(&quot;thie user name is used please choose another username&quot;);
  return false;
}
</code></pre>
","2024-02-25 17:34:48","0","Question"
"78052993","78051767","","<p>The <code>create_matrix()</code>-like functions need 3 pieces of info: pointer to source data and x, y dimensions.</p>
<ol>
<li><p>A macro can extract these 3 from <code>double data[3][3]</code>: somewhat like OP's <code>create_matrix(data)</code></p>
</li>
<li><p>Without a macro, code can pass the dimensions and a pointer to the 2D object: <code>create_matrix_alt2(sizeX, sizeY, data)</code> <strong>Preferred</strong></p>
</li>
<li><p>If the function is hard-coded for a constant dimension, that dimension is not need as an argument.</p>
</li>
<li><p>The function can receive info via other means than a parameter.  <strong>Not recommended</strong></p>
</li>
</ol>
<pre><code>// Sneaky way to call the function with only `data`.

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

size_t xsize;
size_t ysize;

typedef struct Matrix {
    size_t sizeX;
    size_t sizeY;
    double* data;
} Matrix;

void foo(double d[ysize][xsize]) {
  printf(&quot;%zu %zu %p\n&quot;, xsize, ysize, (void *) d);
}

int main(void) {
  double data[4][3] = {
      {2, 0, 3},
      {2, 0, 3},
      {1, 2, 4},
      {5, 3, 2}
  };
  ysize = sizeof data/ sizeof data[0];
  xsize = sizeof data[0] / sizeof data[0][0];
  foo(data);  // Function called with only 1 argument.
}
</code></pre>
<p>Sample output:</p>
<pre><code>3 4 0x7ffffcb80
</code></pre>
","2024-02-24 15:29:12","1","Answer"
"78052941","78052475","","<p>If you have provided a regular Javascript function, then <code>this</code> will be set to <code>event.currentTarget</code> - which is the element you attached the event listener to.</p>
<p>However, you need to be careful that if you provide an arrow function expression, arrow functions do not have their own bindings to <code>this</code>. Therefore, you will need to use <code>event.currentTarget</code> instead.</p>
<pre class=""lang-js prettyprint-override""><code>element.addEventListener('click', function(event) {
  // this === event.currentTarget
})

element.addEventListener('click', event =&gt; {
  // this !== event.currentTarget
})

</code></pre>
<p>Also note that due to the way that events bubble or are 'captured' (depending on whether you specified <code>useCapture</code> when calling <code>addEventListener</code>), the event can fire when you are interacting with a parent or child of the element you attached the event listener to.</p>
<p>In some circumstances, you may need to check that <code>event.target === event.currentTarget</code>, in order to not have the contents of your event listener run more often than necessary. <code>event.target</code> means the element that caused the event to fire, which may be different than the element you attached the listener to.</p>
","2024-02-24 15:11:01","0","Answer"
"78052497","78052475","","<p>Using <code>this</code> in an event listener refers to the element that triggered the event.</p>
<p>Since you're adding the event listener to the <code>.add</code> element, <code>this</code> inside the callback function refers to that <code>.add</code> element. It's perfectly fine to do so and in this case would save you some extra querySelector calls.</p>
","2024-02-24 12:59:24","1","Answer"
"78052475","","Using ""this"" in an addEventListener to replace ""document.querySelector()""","<p>Beginner in JavaScript here. I'm building a simple calculator using HTML, CSS and JavaScript.
I've realized that if I use <em>this</em> instead of <code>document.querySelector(&quot;.add&quot;)</code> when adding a style to a button inside of an <code>addEventListener</code>, my code still works.</p>
<p>Would that be correct or should I always stick to the original <code>document.querySelector(&quot;.add&quot;)</code>?</p>
<pre><code>document.querySelector(&quot;.add&quot;).addEventListener(&quot;click&quot;, function () {
  let a = Number(document.querySelector(&quot;.num1&quot;).value);
  let b = Number(document.querySelector(&quot;.num2&quot;).value);

  this.classList.add(&quot;botaoClicado&quot;);
  //the above &quot;this&quot; replaces this excerpt: document.querySelector(&quot;.add&quot;)

  let soma = a + b;
  console.log(soma);

  document.querySelector(&quot;.result&quot;).textContent = `RESULTADO: ${soma}`;
});
</code></pre>
","2024-02-24 12:51:43","1","Question"
"78052321","78052287","","<p>Update- after a few more research and replit documentation I manage to find the answer and want to let everyon know. Basically I went to the 3 dots next to my files folder on top left corner and pressed unhide the hidden files, which will open the Config files. I added this line of code on top :&quot; disableInstallBeforeRun = true&quot; and it solved the problem</p>
","2024-02-24 12:04:10","0","Answer"
"78052287","","Find the sum-of-products expansions of the following Boolean function?","<p>how to get rid of this message in replit.com?
I am able to run the code but i get this message in console for every single line of code that I print.
Anyone that has the same problem or know to remove this without breaking the console?
I have tried to create new REPL, checked the settings , refresh , loged in and out but still the error is there.</p>
<p>--&gt; poetry lock --no-update
Resolving dependencies...</p>
","2024-02-24 11:53:37","0","Question"
"78051767","","Is there a way to pass only a 2d array to a function along with array size data without using a macro?","<p>I have a function for automating struct creation for my matrix struct. The struct has three properties: x-size, y-size, and a pointer to an double 2d array.</p>
<pre class=""lang-c prettyprint-override""><code>typedef struct Matrix
{
    uint16_t sizeX;
    uint16_t sizeY;
    double* data;
} Matrix;
</code></pre>
<p>I also have a helper function that is used to automatically populate the fields of the struct</p>
<pre class=""lang-c prettyprint-override""><code>Matrix _create_matrix(uint16_t sizeY, uint16_t sizeX, double numbers[][sizeX])
{
    double *data = calloc(sizeX*sizeY, sizeof(double));

    if(!data)
    {
        return create_empty_matrix();
    }

    memcpy(data, numbers, sizeX * sizeY * sizeof(*data));

    return (Matrix){ .sizeX = sizeX,
                     .sizeY = sizeY,
                     .data =  data }; // returns matrix object
}
</code></pre>
<p>To avoid having the enter the dimensions of the data, I use a macro that calculates the size of the matrix.</p>
<pre class=""lang-c prettyprint-override""><code>#define create_matrix(data) ({ uint16_t sizeY = sizeof(data)/sizeof(data[0]); \
                                 uint16_t sizeX = sizeof(data)/sizeof(double)/sizeY; \
                                _create_matrix(sizeY, sizeX, data); })
</code></pre>
<p>An example of how this macro is used is shown as such.</p>
<pre class=""lang-c prettyprint-override""><code>double data[3][3] = {
    {2, 0, 3},
    {1, 2, 4},     
    {5, 3, 2}
};

Matrix m1 = create_matrix(data);
</code></pre>
<p>However, I have heard macros should not really be used due to their lack of type checking among other things. Is it possible to have such a helper function in C without using a macro?</p>
","2024-02-24 09:02:05","1","Question"
"78050522","78050376","","<p>@Weather Vane oh wow opening the file with <code>w+</code> fixed the problem ! Ill need to do my research on <code>w+ and r+</code> then and see what is actually different. Thank you very much</p>
","2024-02-23 22:38:39","1","Answer"
"78050376","","Need help using rewind() in C working with files","<p>This is my code:</p>
<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;

void correctNumbers(FILE* input, FILE* output) {
    int year, month, day;
    int amount;

    while (fscanf(input, &quot;%d-%d-%d,%d&quot;, &amp;year, &amp;month, &amp;day, &amp;amount) == 4) {

        if (amount &lt; 0) {
            amount = 0;
        }

        fprintf(output, &quot;%d-%d-%d,%d\n&quot;, year, month, day, amount);
    }
}

double averageValue(FILE* output){
    double sum = 0; 
    double total = 0;
    int year, month, day, amount;
    
    /*fclose(output);
    output = fopen(&quot;corrected.txt&quot;, &quot;r&quot;);*/
 
    while(fscanf(output, &quot;%d-%d-%d,%d&quot;, &amp;year, &amp;month, &amp;day, &amp;amount) == 4){
        total++;
        sum += amount;
    }
    printf(&quot;Average value: %.2lf\n&quot;, sum/total);
    return sum/total;
}

void maxVisit(FILE* output) {
    int year, month, day, amount;
    int maxDay;  
    int maxVisitors = -1; 
    
    /*fclose(output);
    output = fopen(&quot;korrigiert.txt&quot;, &quot;r&quot;);*/

    while (fscanf(output, &quot;%d-%d-%d,%d&quot;, &amp;year, &amp;month, &amp;day, &amp;amount) == 4) {
        if (amount &gt;= maxVisitors) {
           
            maxDay = day;
            maxVisitors = amount;
        }
    }
    printf(&quot;Day with the highest amount of visitors: %d\n&quot;, maxDay);
}


int main(int argc, char* argv[]){
    FILE* input;
    FILE* output;

    if(argc &lt; 2){
        printf(&quot;Pls include a filename\n&quot;);
        return 0;
    }else{
        input = fopen(argv[1], &quot;r&quot;);
        output = fopen(&quot;corrected.txt&quot;, &quot;w&quot;);
        if(input == NULL || output == NULL){
            printf(&quot;File doesnt exist or failed to open\n&quot;);
            return 0;
        }
    }

    correctNumbers(input, output);
    rewind(output);
    averageValue(output);
    rewind(output);
    maxVisit(output);

    fclose(input);
    fclose(output);

    return 0;
}
</code></pre>
<p>What each function is supposed to do:</p>
<pre><code>correctNumbers = corrects the negative numbers in a given file to 0 and write them in a new file called &quot;corrected.txt&quot; 
averageValue = calculates the averageValue of the visitors (the last number in the given file on each date) in corrected.txt.
maxVisit = calculates the day that had the highest amounts of visitors in corrected.txt.
main = give the main function a file that needs to be corrected. Do correction, averagevalue, maxvisitor. Close the files.
</code></pre>
<p>All of the functions are doing what they are supposed to.</p>
<p>The given file looks like this: (the last number being the amount of visitors)</p>
<pre><code>2021-10-05,-3
2021-10-06,-2
2022-02-02,7
2022-02-03,10
2022-02-04,9
</code></pre>
<p>The corrected file will look like this:</p>
<pre><code>2021-10-5,0
2021-10-6,0
2022-2-2,7
2022-2-3,10
2022-2-4,9
</code></pre>
<p>If the program works it will put out:</p>
<pre><code>Average value: 4.50
Day with the highest amount of visitors: 3
</code></pre>
<p>The way the code is right now i get this:</p>
<pre><code>Average value: -nan
Day with the highest amount of visitors: 0
</code></pre>
<p>I put some printf commands in between the lines and found out that the while loops dont work if i use rewind() like this.</p>
<p>But for a task, i have to use rewind() in the main function. Can anyone help me do it right?</p>
<p>Now my problem is that the way i sent this program it doesn't work because my use of rewind() is somehow wrong is my guess but i don't understand why. Because if i enable the comments that i put into the functions averageValue and maxVisitor and disable the rewind() lines the program works perfectly fine</p>
","2024-02-23 21:59:07","1","Question"
"78050147","","How to locate and extract the logic behind an invoked function or method in Rust?","<p>I am trying to build an auto-differentiation procedural macro in Rust. Currently, the macro can successfully evaluate the partial derivative of a given expression when all of the logic is contained within the bounds of the macro. However, when attempting to evaluate a function or method call to logic that has been previously defined the system runs into an issue as these items fail to contain all of the information required to successfully compute the partial derivative.</p>
<h3>Questions</h3>
<ul>
<li>Is it possible to create a function that can locate and extract the body of a function or implemented method call using the rust compiler or some other similar method?</li>
</ul>
<p>After doing some research, it seems the <code>rustdoc</code> crate has an experimental feature (<code>scrape_examples</code>) which essentially finds all of the relevant function calls found in any examples. I am considering creating a modified version of this to fit my needs, however, would prefer to find a less invasive and more streamlined approach to solving the issue.</p>
<h3>Working Examples</h3>
<pre class=""lang-rust prettyprint-override""><code>use acme::prelude::autodiff;

fn main() {
    let x = 2_f64;
    assert_eq!(autodiff!(x: 1.0 / (1.0 + (-x).exp())), sigmoid_prime(x));
    assert_eq!(
        autodiff!(x: | x: f64 | 1.0 / (1.0 + (-x).exp())),
        sigmoid_prime(x)
    );
    assert_eq!(
        autodiff!(x: fn sigmoid(x: f64) -&gt; f64 { 1_f64 / (1_f64 + (-x).exp()) }),
        sigmoid_prime(x)
    );
}
</code></pre>
<h3>Objective</h3>
<pre class=""lang-rust prettyprint-override""><code>use acme::prelude::{autodiff, sigmoid};

fn main() {
    let x = 2_f64;
    assert_ne!(autodiff!(x: sigmoid(x)), sigmoid_prime(x));

}
</code></pre>
","2024-02-23 20:55:01","0","Question"
"78049535","78049390","","<p>We can use a regex on <code>names(My_list)</code> and extract the <code>Gain#</code>.</p>
<pre class=""lang-r prettyprint-override""><code>samegain &lt;- strcapture(&quot;Gain([0-9]+).*Gain([0-9]+)&quot;, names(My_list), list(g1=0L, g2=0L)) |&gt;
  with(g1 == g2)
samegain
#  [1] FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE
# [17]  TRUE FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE  TRUE FALSE
My_list[samegain]
# $`Gain1(conventional) - Gain1(framework notes)`
# [1]  5 -1 -6  2
# $`Gain1(conventional) - Gain1(note-taking instruction)`
# [1]  5 -1 -7  3
# $`Gain1(conventional) - Gain1(vocabulary notebook)`
# [1]  5 -1 -8  4
# $`Gain2(conventional) - Gain2(framework notes)`
# [1]   9  -1 -10   2
# $`Gain2(conventional) - Gain2(note-taking instruction)`
# [1]   9  -1 -11   3
# $`Gain2(conventional) - Gain2(vocabulary notebook)`
# [1]   9  -1 -12   4
# $`Gain1(framework notes) - Gain1(note-taking instruction)`
# [1]  6 -2 -7  3
# $`Gain1(framework notes) - Gain1(vocabulary notebook)`
# [1]  6 -2 -8  4
# $`Gain2(framework notes) - Gain2(note-taking instruction)`
# [1]  10  -2 -11   3
# $`Gain2(framework notes) - Gain2(vocabulary notebook)`
# [1]  10  -2 -12   4
# $`Gain1(note-taking instruction) - Gain1(vocabulary notebook)`
# [1]  7 -3 -8  4
# $`Gain2(note-taking instruction) - Gain2(vocabulary notebook)`
# [1]  11  -3 -12   4
</code></pre>
<p>Variants: if you have entries that is missing either <code>Gain</code>, then:</p>
<ol>
<li><p>If you need to <em>keep</em> them, then:</p>
<pre class=""lang-r prettyprint-override""><code>strcapture(&quot;Gain([0-9]+).*Gain([0-9]+)&quot;, names(My_list), list(g1=0L, g2=0L)) |&gt;
  with(is.na(g1) | is.na(g2) | g1 == g2)
</code></pre>
</li>
<li><p>If you need to <em>discard</em> entries without <code>Gain#</code>, then:</p>
<pre class=""lang-r prettyprint-override""><code>strcapture(&quot;Gain([0-9]+).*Gain([0-9]+)&quot;, names(My_list), list(g1=0L, g2=0L)) |&gt;
  with(!is.na(g1) &amp; !is.na(g2) &amp; g1 == g2)
</code></pre>
</li>
</ol>
","2024-02-23 18:35:38","0","Answer"
"78049390","","Remove elements of a named list based on the naming match in R","<p>Please note: this question is completely different from a <a href=""https://stackoverflow.com/q/78044966/7223434"">previous question</a>.</p>
<p>In <code>My_list</code> below, I wonder how to eliminate whole elements whose names' prefix <code>&quot;Gain&quot;</code> has a different number attached to it?</p>
<p>For example, element #1's name is: <code>Gain1(conventional) - Gain2(conventional)</code>, therefore, this element must be <strong>REMOVED</strong> because we have <code>Gain1</code> vs. <code>Gain2</code>.</p>
<p>But element #2's name is: <code>Gain1(conventional) - Gain1(framework notes)</code>, therefore, this element must be <strong>KEPT</strong> because we have <code>Gain1</code> vs. <code>Gain1</code>.</p>
<p>Is this possible in R?</p>
<pre><code>My_list &lt;-

list(`Gain1(conventional) - Gain2(conventional)` = c(5L, -1L, 
-9L, 1L), `Gain1(conventional) - Gain1(framework notes)` = c(5L, 
-1L, -6L, 2L), `Gain1(conventional) - Gain2(framework notes)` = c(5L, 
-1L, -10L, 2L), `Gain1(conventional) - Gain1(note-taking instruction)` = c(5L, 
-1L, -7L, 3L), `Gain1(conventional) - Gain2(note-taking instruction)` = c(5L, 
-1L, -11L, 3L), `Gain1(conventional) - Gain1(vocabulary notebook)` = c(5L, 
-1L, -8L, 4L), `Gain1(conventional) - Gain2(vocabulary notebook)` = c(5L, 
-1L, -12L, 4L), `Gain2(conventional) - Gain1(framework notes)` = c(9L, 
-1L, -6L, 2L), `Gain2(conventional) - Gain2(framework notes)` = c(9L, 
-1L, -10L, 2L), `Gain2(conventional) - Gain1(note-taking instruction)` = c(9L, 
-1L, -7L, 3L), `Gain2(conventional) - Gain2(note-taking instruction)` = c(9L, 
-1L, -11L, 3L), `Gain2(conventional) - Gain1(vocabulary notebook)` = c(9L, 
-1L, -8L, 4L), `Gain2(conventional) - Gain2(vocabulary notebook)` = c(9L, 
-1L, -12L, 4L), `Gain1(framework notes) - Gain2(framework notes)` = c(6L, 
-2L, -10L, 2L), `Gain1(framework notes) - Gain1(note-taking instruction)` = c(6L, 
-2L, -7L, 3L), `Gain1(framework notes) - Gain2(note-taking instruction)` = c(6L, 
-2L, -11L, 3L), `Gain1(framework notes) - Gain1(vocabulary notebook)` = c(6L, 
-2L, -8L, 4L), `Gain1(framework notes) - Gain2(vocabulary notebook)` = c(6L, 
-2L, -12L, 4L), `Gain2(framework notes) - Gain1(note-taking instruction)` = c(10L, 
-2L, -7L, 3L), `Gain2(framework notes) - Gain2(note-taking instruction)` = c(10L, 
-2L, -11L, 3L), `Gain2(framework notes) - Gain1(vocabulary notebook)` = c(10L, 
-2L, -8L, 4L), `Gain2(framework notes) - Gain2(vocabulary notebook)` = c(10L, 
-2L, -12L, 4L), `Gain1(note-taking instruction) - Gain2(note-taking instruction)` = c(7L, 
-3L, -11L, 3L), `Gain1(note-taking instruction) - Gain1(vocabulary notebook)` = c(7L, 
-3L, -8L, 4L), `Gain1(note-taking instruction) - Gain2(vocabulary notebook)` = c(7L, 
-3L, -12L, 4L), `Gain2(note-taking instruction) - Gain1(vocabulary notebook)` = c(11L, 
-3L, -8L, 4L), `Gain2(note-taking instruction) - Gain2(vocabulary notebook)` = c(11L, 
-3L, -12L, 4L), `Gain1(vocabulary notebook) - Gain2(vocabulary notebook)` = c(8L, 
-4L, -12L, 4L))
</code></pre>
","2024-02-23 18:08:19","-1","Question"
"78047636","78040790","","<p>I am able to retrieve the value of <code>app.config</code> settings in Azure Function app using the below code.</p>
<pre class=""lang-cs prettyprint-override""><code> var test = Properties.Settings.Default.Setting1;
</code></pre>
<p><img src=""https://i.imgur.com/9cuyz6S.png"" alt=""enter image description here"" /></p>
<p><em><strong>My <code>app.config</code>:</strong></em></p>
<pre class=""lang-cs prettyprint-override""><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;configSections&gt;
        &lt;sectionGroup name=&quot;userSettings&quot; type=&quot;System.Configuration.UserSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; &gt;
            &lt;section name=&quot;ClassLibrary1.Properties.Settings&quot; type=&quot;System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; allowExeDefinition=&quot;MachineToLocalUser&quot; requirePermission=&quot;false&quot; /&gt;
        &lt;/sectionGroup&gt;
    &lt;/configSections&gt;
    &lt;connectionStrings&gt;
        &lt;add name=&quot;ClassLibrary1.Properties.Settings.Setting1&quot; connectionString=&quot;Test Value from app.config&quot; /&gt;
    &lt;/connectionStrings&gt;
    &lt;userSettings&gt;
        &lt;ClassLibrary1.Properties.Settings&gt;
            &lt;setting name=&quot;Setting2&quot; serializeAs=&quot;String&quot;&gt;
                &lt;value&gt;Sample App setting&lt;/value&gt;
            &lt;/setting&gt;
        &lt;/ClassLibrary1.Properties.Settings&gt;
    &lt;/userSettings&gt;
&lt;/configuration&gt;
</code></pre>
<p>Thanks @<a href=""https://blog.submain.com/app-config-basics-best-practices/"" rel=""nofollow noreferrer"">Peter Morlion</a> for the clear steps.</p>
<ul>
<li>In <code>Class library</code> =&gt; <code>Class1.cs</code>  file, add the below code</li>
</ul>
<pre class=""lang-cs prettyprint-override""><code> public class Class1
 {
     public string GetAppSettings()
     {
         var setval = Properties.Settings.Default.Setting1;
         return setval;     
     }
 }
</code></pre>
<ul>
<li>Reference the class library dll in the <code>Azure Function</code> App.</li>
</ul>
<p><img src=""https://i.imgur.com/72GgzaT.png"" alt=""enter image description here"" /></p>
<p><em><strong>My <code>Function1.cs</code>:</strong></em></p>
<pre class=""lang-cs prettyprint-override""><code>  [Function(&quot;Function1&quot;)]
  public IActionResult Run([HttpTrigger(AuthorizationLevel.Function, &quot;get&quot;, &quot;post&quot;)] HttpRequest req)
  {
      Class1 appset = new Class1();
      var values = appset.GetAppSettings();

      _logger.LogInformation(values);
    -------
</code></pre>
<p><em><strong>Output:</strong></em>
<img src=""https://i.imgur.com/CTsIXOB.png"" alt=""enter image description here"" /></p>
","2024-02-23 13:10:34","0","Answer"
"78047574","78046636","","<p>Variables <strong>$$</strong> don't behave the same way as they do in regular PHP code inside an arrow function. <a href=""https://www.php.net/manual/en/language.variables.variable.php"" rel=""nofollow noreferrer"">Here is documentation with explanations and examples</a>; This is why you're getting <strong>Undefined variable</strong> warning. You can use a regular anonymous function, which has access to the variable <strong>$$</strong>, instead of an arrow function</p>
<pre><code>$a = &quot;hello&quot;;
$$a = &quot;world&quot;;

// Assigning the variables $$ to a new variable for use in the closure
$world = ${$a};

$res = array_map(function($number) use ($a, $world) {
    return $number . $world;
}, [&quot;1&quot;, &quot;2&quot;]);

var_dump($res);
</code></pre>
<p>The keyword <strong>use</strong> brings the variable $a into the scope of the anonymous function so that it can be used inside the function</p>
","2024-02-23 12:58:50","1","Answer"
"78046890","78046636","","<p>Your issue is due to scoping rules. <code>$$a</code> is not in the local scope of the function, while <code>$world</code> is a regular variable that you've defined in the same scope as your array_map function, so it's recognized and can be used inside the function.</p>
<pre><code>$a = &quot;hello&quot;;
$$a = &quot;world&quot;;
$world = $$a;

$res = array_map(fn($number) =&gt; $number . $world, [&quot;1&quot;, &quot;2&quot;]);

var_dump($res);
</code></pre>
","2024-02-23 10:56:13","2","Answer"
"78046636","","Variable variable is not accessible within callback scope while using arrow function syntax (Warning: Undefined variable)","<p>I need to use a variable variable for defining a lambda function inside of the callback of <code>array_map()</code>. I get an &quot;Undefined variable&quot; WARNING for the variable that I am referencing. Subsequently, I do not get the expected result. The expected and actual results are commented within the code below. A PHP Sandbox of the problem is also given.</p>
<pre class=""lang-php prettyprint-override""><code>$a = &quot;hello&quot;;
$$a = &quot;world&quot;;

# Prints &quot;world&quot; as expected.
echo $hello;

# GIVES WARNING !!!! (Undefined variable $hello)
$res = array_map(fn($number) =&gt; $number . $$a, [&quot;1&quot;, &quot;2&quot;]);

# Expected: [&quot;1 world&quot;, &quot;2 world&quot;]
# Actual: [&quot;1&quot;, &quot;2&quot;]
echo var_dump($res);
</code></pre>
<p><a href=""https://onlinephp.io/c/53540"" rel=""nofollow noreferrer"">PHP Sandbox</a></p>
<p>Tried:</p>
<ol>
<li>Replacing $$a with ${$a} did not fix the problem.</li>
<li>Replacing $$a with $hello fixes the problem BUT that solution is not applicable in my particular use case.</li>
<li>I have tried using other functions instead of the concatenation (fn($number) =&gt; func($number, $$a)) and the problem remains.</li>
</ol>
","2024-02-23 10:15:50","1","Question"
"78045649","78044966","","<p>You can use this regex:</p>
<pre><code>\(([a-z -]+)\w+?(\d+)\W+\1\w+\)
</code></pre>
<p>which matches:</p>
<ul>
<li><code>\(</code> : a <code>(</code></li>
<li><code>([a-z -]+)</code> : some number of letter, space and hyphen characters, captured in group 1</li>
<li><code>\w+?</code> : a minimal number of word characters</li>
<li><code>(\d+)</code> : some number of digits, captured in group 2</li>
<li><code>\W+</code> : some number of non-word characters</li>
<li><code>\1</code> : repeat of what was captured in group 1</li>
<li><code>\w+</code> : some number of word characters</li>
<li><code>\)</code> : a <code>)</code></li>
</ul>
<p>Regex demo on <a href=""https://regex101.com/r/vIkhuA/1"" rel=""nofollow noreferrer"">regex101</a></p>
<p>In R (thanks @thelatemail):</p>
<pre class=""lang-r prettyprint-override""><code>sub(&quot;\\(([a-z -]+)\\w+?(\\d+)\\W+\\1\\w+\\)&quot;, &quot;Gain_\\2(\\1)&quot;, names(My_list))
</code></pre>
","2024-02-23 06:56:10","2","Answer"
"78045428","78044966","","<pre><code>res &lt;- setNames(My_list, sub(&quot;^.([^_]+)\\D+(\\d+).*&quot;, &quot;Gain_\\2(\\1)&quot;, names(My_list)))

$`Gain_1(beginner)`
[1]  5 -2

$`Gain_1(intermediate)`
[1]  6 -3

$`Gain_1(advanced)`
[1]  4 -1

$`Gain_2(beginner)`
[1]  8 -2

$`Gain_2(intermediate)`
[1]  9 -3

$`Gain_2(advanced)`
[1]  7 -1

$`Gain_1(framework notes)`
[1] 1 2

$`Gain_1(note-taking instruction)`
[1] 1
</code></pre>
","2024-02-23 05:54:19","2","Answer"
"78044966","","Modify the names of a named list in R based on a logic","<p>In <code>My_list</code> below, I want to modify the elements' names based on the following logic:</p>
<ol>
<li><p>Pick the repeated word in the name (ex. <code>beginner</code> in <code>&quot;(beginner_post1 - beginner_baseline)&quot;</code>)</p>
</li>
<li><p>Pick the numeric in the NON-repeated name (ex. <code>1</code> in <code>&quot;post1&quot;</code>)</p>
</li>
<li><p>Modify the name to <code>&quot;Gain_numeric(repeated word)&quot;</code> (ex. <code>Gain_1(beginner)</code>)</p>
</li>
</ol>
<p>Is it possible to apply this logic to achieve my <code>Desired_output</code> below?</p>
<pre><code>My_list = 
  list(&quot;(beginner_post1 - beginner_baseline)&quot;= c(5,-2),
       &quot;(intermediate_post1 - intermediate_baseline)&quot;= c(6,-3),
       &quot;(advanced_post1 - advanced_baseline)&quot;= c(4,-1),
       &quot;(beginner_post2 - beginner_baseline)&quot;= c(8,-2),
       &quot;(intermediate_post2 - intermediate_baseline)&quot;= c(9,-3),
       &quot;(advanced_post2 - advanced_baseline)&quot;= c(7,-1),
       &quot;(framework notes_posttest1 - framework notes_baseline)&quot;=c(1,2),
       &quot;(note-taking instruction_posttest1 - note-taking instruction_baseline)&quot;=1
  )


Desired_output = 
  list(&quot;Gain_1(beginner)&quot;= c(5,-2),
       &quot;Gain_1(intermediate)&quot;= c(6,-3),
       &quot;Gain_1(advanced)&quot;= c(4,-1),
       &quot;Gain_2(beginner)&quot;= c(8,-2),
       &quot;Gain_2(intermediate)&quot;= c(9,-3),
       &quot;Gain_2(advanced)&quot;= c(7,-1),
       &quot;Gain_1(framework notes)&quot; = c(1,2),
       &quot;Gain_1(note-taking instruction)&quot;=1
)
</code></pre>
","2024-02-23 02:57:08","0","Question"
"78044274","78044127","","<p>Check if the <code>type</code> of the selection is &quot;Range&quot;. If it is, don't update the state:</p>
<pre><code>document.getSelection().type === 'Range'
</code></pre>
<p>Working example:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""true"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const { useState } = React;

const Demo = () =&gt; {
  const [edit, setEdit] = useState(false);
  
  function editTodo(index) {
    if (document.getSelection().type === 'Range') return;
    
    setEdit(true)
  }

  return (
    &lt;div&gt;
      &lt;h2 
        onClick={() =&gt; editTodo()}
        onSelectStart={e =&gt; stopPropogation()}
        &gt;text&lt;/h2&gt;
      &lt;div&gt;Edit: {JSON.stringify(edit)}&lt;/div&gt;
    &lt;/div&gt;
  )
}

ReactDOM
  .createRoot(root)
  .render(&lt;Demo /&gt;)</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js""&gt;&lt;/script&gt;
&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js""&gt;&lt;/script&gt;

&lt;div id=""root""&gt;&lt;/div&gt;</code></pre>
</div>
</div>
</p>
<p>In addition, your <code>editTodo</code> function is a bit cumbersome, and you can make it a bit more concise (see comments in code):</p>
<pre><code>function editTodo(index) {
  if(document.getSelection().type === 'Range') return; // bail out 

  setList(prevList =&gt; // use an updater functio get the previous state
    prevList.map((x, i) =&gt; // use an arrow function to avoid the need for explicit return
      i !== index // use a ternary instead of if/else
        ? x
        : { ...x, edit: true }
    )
  )
}
</code></pre>
","2024-02-22 22:16:59","3","Answer"
"78044127","","How to stop Click Event when selecting the text?","<p>I have this Todo app in React. In the app when I click the <code>&lt;h2&gt;</code> item. It takes it to the edit mode. But When I try to select the text from the <code>&lt;h2&gt;</code>, it still takes it into the edit mode. I don't want that to happen. How can I stop that from happening? I think <code>window.getSelection()</code> is not working because the click is registered first and then the selection happens. So when the click is registered, it has no selected text.</p>
<p>Here is the necessary code block for the problem:</p>
<pre><code>&lt;h2 onClick={() =&gt; editTodo(index)}&gt;{t.text}&lt;/h2&gt;

function editTodo(index) {
  if(window.getSelection().toString()!=='')
    setList(list.map((x, i) =&gt; { if (i !== index) { return x } else { return { ...x, edit: true } } }))
}
</code></pre>
<p>I tried <code>window.getSelection()</code> as you can see but it's not working</p>
","2024-02-22 21:36:05","2","Question"
"78043933","78042841","","<p>Or use a template function with a non-type template parameter to deduce the array's size yourself:</p>
<pre><code>#include &lt;iostream&gt;

template&lt;typename T, std::size_t N&gt;
constexpr auto get_size(T(&amp;)[N]) {
    return N;
}

int main()
{
    int nums[] = {10, 20, 30, 40, 20, 50};
    std::cout&lt;&lt;&quot;size: &quot;&lt;&lt; get_size(nums) &lt;&lt;'\n';  // size: 6
}
</code></pre>
","2024-02-22 20:47:05","0","Answer"
"78043058","78042841","","<p>C++17 and later has a <a href=""https://en.cppreference.com/w/cpp/iterator/size"" rel=""nofollow noreferrer""><code>std::size()</code></a> function in the <code>&lt;iterator&gt;</code> header (and various others), e.g.:</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;iterator&gt;

std::cout &lt;&lt; std::size(nums) &lt;&lt; &quot;\n&quot;;
</code></pre>
<p>C++20 adds the <a href=""https://en.cppreference.com/w/cpp/iterator/size"" rel=""nofollow noreferrer""><code>std::ssize()</code></a> function, eg:</p>
<pre class=""lang-cpp prettyprint-override""><code>std::cout &lt;&lt; std::ssize(nums) &lt;&lt; &quot;\n&quot;;
</code></pre>
<p>And just for good measure, another approach would be to use <a href=""https://en.cppreference.com/w/cpp/container/array"" rel=""nofollow noreferrer""><code>std::array</code></a> instead of a C-style array, and then you can use its <a href=""https://en.cppreference.com/w/cpp/container/array/size"" rel=""nofollow noreferrer""><code>size()</code></a> method, eg:</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;array&gt;

std::array&lt;int, 6&gt; nums{10, 20, 30, 40, 20, 50};    

std::cout &lt;&lt; nums.size() &lt;&lt; &quot;\n&quot;;
</code></pre>
","2024-02-22 17:45:07","1","Answer"
"78042841","","How can I get the number of elements in an already array declare by using size function not (sizeof)","<p>How can I get the number of elements in an already declared array by using the <code>size()</code> function, not <code>sizeof()</code>?</p>
<p>I did that by using the <code>sizeof()</code>, <code>begin()</code>, and <code>end()</code> functions, but how about the <code>size()</code> function??</p>
<pre class=""lang-cpp prettyprint-override""><code>#include &lt;iostream&gt;
using namespace std;

int main()
{
    int nums[] = {10, 20, 30, 40, 20, 50};
    
    // Method 1
    cout &lt;&lt; sizeof(nums) / sizeof(nums[0]) &lt;&lt; &quot;\n&quot;;
    
    // Method 2
    cout &lt;&lt; end(nums) - begin(nums) &lt;&lt; &quot;\n&quot;;
    
    // Method 3
    // ???

    return 0;
}
</code></pre>
","2024-02-22 17:05:09","-12","Question"
"78041538","78041516","","<p>It looks like you forgot to pass the terminator <code>NULL</code> after the last element.</p>
<pre class=""lang-cpp prettyprint-override""><code>OpenMenuOS menu(
    &quot;Flashlight&quot;,
    &quot;Profile&quot;,
    &quot;Heat&quot;,
    &quot;Reflow&quot;,
    &quot;Settings&quot;,
    &quot;Wifi&quot;,
    &quot;Colis&quot;,
    &quot;Survival&quot;,
    &quot;Autres&quot;,
    NULL // add this to tell the function where is the end of arguments
);
</code></pre>
","2024-02-22 13:56:13","1","Answer"
"78041516","","Random value in array when defining from function (Arduino)","<p>I am currently making an arduino library in which I need to be able to define an array from argument in a fonction like : <code>OpenMenuOS menu(&quot;Flashlight&quot;, &quot;Profile&quot;, &quot;Heat&quot;, &quot;Reflow&quot;, &quot;Settings&quot;, &quot;Wifi&quot;, &quot;Colis&quot;, &quot;Survival&quot;, &quot;Autres&quot;);</code> but when I print the array to the serial , it gives me something like that :</p>
<pre><code>Menu Items:
Item 1: Flashlight
Item 2: Profile
Item 3: Heat
Item 4: Reflow
Item 5: Settings
Item 6: Wifi
Item 7: Colis
Item 8: Survival
Item 9: Autres
Item 10: ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿøÚÆ\
Item 11: øÚÆ\
Item 12: 
Item 13: ðü?
Item 14: ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿD&lt;þ?
Item 15: D&lt;þ?
Item 16: 6a
</code></pre>
<p>The fonction used in the library is :</p>
<pre><code>OpenMenuOS::OpenMenuOS(const char* names...) {
  num_menu_items = 0;
  va_list args;
  va_start(args, names);
  const char* name = names;
  while (name != NULL) {
    strncpy(menu_items[num_menu_items], name, MAX_ITEM_LENGTH);
    name = va_arg(args, const char*);
    num_menu_items++;
  }
  va_end(args);
}
</code></pre>
<p>Does anyone knows what the problem is?
Here is a link to the Wokwi Simulation : <a href=""https://wokwi.com/projects/390361308680986625"" rel=""nofollow noreferrer"">https://wokwi.com/projects/390361308680986625</a></p>
<p>I tried adding more arguments to the function to try to counter the effect, but that seemed to make it worse.</p>
","2024-02-22 13:53:45","0","Question"
"78041407","78041241","","<p>Just write it like method of object, do not use arrow function, or use regular function expression</p>
<pre><code>path = require(&quot;path&quot;)

 var combineThesePaths =function combinePaths(basePath, relativePath) {
     // Use path.join to combine paths safely
     const absolutePath = path.join(basePath, relativePath);
     // Use path.resolve to get the absolute path
     console.log(&quot;DONE&quot;)
     return path.resolve(absolutePath);
 }

 X= {
     somePropFun: combineThesePaths,
     SomeOtherProp(Y){ 
          console.log(typeof this.somePropFun)
         //some processing 
         this.somePropFun(&quot;&quot;,&quot;&quot;)
     } 
 } 
 Z= X.SomeOtherProp(&quot;&quot;)
</code></pre>
<p>Or</p>
<pre><code>var combineThesePaths =function combinePaths(basePath, relativePath) {
    // Use path.join to combine paths safely
    const absolutePath = path.join(basePath, relativePath);
    // Use path.resolve to get the absolute path
    console.log(&quot;DONE&quot;)
    return path.resolve(absolutePath);
}

X= {
    somePropFun: combineThesePaths,
    SomeOtherProp: function(Y){ 
         console.log(typeof this.somePropFun)
        //some processing 
        this.somePropFun(&quot;&quot;,&quot;&quot;)
    } 
} 
Z= X.SomeOtherProp(&quot;&quot;)
</code></pre>
","2024-02-22 13:39:55","0","Answer"
"78041400","78041241","","<pre><code> SomeOtherProp:function(Y){ 
         console.log(typeof this.somePropFun)
        //some processing 
        this.somePropFun(&quot;&quot;,&quot;&quot;)
    } 
</code></pre>
<p>This solved it . Replace arrow function with regular function syntax</p>
","2024-02-22 13:38:36","0","Answer"
"78041241","","Uncaught TypeError TypeError: this.somePropFun is not a function in an object","<p>I am not able to reach a function which is a value of an attribute of an object . This only happens when function is called from another attribute. Calling the attribute carrying the function directly works just fine .</p>
<pre><code>path = require(&quot;path&quot;)

var combineThesePaths =function combinePaths(basePath, relativePath) {
    // Use path.join to combine paths safely
    const absolutePath = path.join(basePath, relativePath);
    // Use path.resolve to get the absolute path
    console.log(&quot;DONE&quot;)
    return path.resolve(absolutePath);
}

X= {
    somePropFun: combineThesePaths,
    SomeOtherProp:(Y)=&gt;{ 
         console.log(typeof this.somePropFun)
        //some processing 
        this.somePropFun(&quot;&quot;,&quot;&quot;)
    } 
} 
Z= X.SomeOtherProp(&quot;&quot;)
</code></pre>
<p>This gives:</p>
<pre><code>undefined
Uncaught TypeError TypeError: this.somePropFun is not a function
</code></pre>
<p>This works just fine:</p>
<pre><code>X.somePropFun(&quot;&quot;)
</code></pre>
<pre><code>DONE
</code></pre>
<p>My guess is it has to do something with scoping .</p>
","2024-02-22 13:16:59","0","Question"
"78040790","","A C# Project library with app.config as dll reference to a azure function ,keys not accessible","<p>A C# Project library with app.config file to access keys in project , When i add this project as dll reference to a azure function the keys used in dll are not able to access in metadata of dll and throwing error.</p>
<p>In function local.settings.json file i have added key with same name still issue</p>
","2024-02-22 12:05:32","0","Question"
"78038885","78035827","","<pre><code>computeMatrixD[X_] := Module[{A, B, C, D}, A = Eigenvectors[X];
  B = A[[2]];
  B = {B};
  C = ConjugateTranspose[B] . B; 
  D = C / Norm[C];
  D ]
</code></pre>
<p>You can write them into one function as above and call it by simply for example:</p>
<pre><code>X = {{1,2,3}, {2,4,5}, {3,5,6}};
computeMatrixD[X]
</code></pre>
","2024-02-22 06:49:37","2","Answer"
"78038707","78037884","","<p>Your Program Seems to have some of the below mentioned issues:</p>
<ol>
<li>Your problem statement states you need to divide it in group of 25 where number are ranging from 0 - 200. You create a function to pass it into an array which is getNumbs but you are using SCORE_SIZE as 26 while reading through the file. This will just read the first 26 characters from your file. Is this according to the problem statement?</li>
<li>In function score_count your return type and what you are actually returning does not equate. You either need to provide it an array which would be s_count not s_count[].</li>
</ol>
<p>Please fix these issues.</p>
","2024-02-22 06:01:44","0","Answer"
"78037884","","Pulling elements from one array and putting them into another using a function in C++","<p>I have an assignment to pull a list of integers from a file, &quot;numbs.txt&quot;. These numbers are random 1-200. I then need to separate them into ranges of 25(0-24, 25-49...) and report back how man integers are in each range of numbers. Where I am getting lost is when I am trying to get the list of integers back. I am trying to input them into another array in the hopes that i can then count the integers in the new array. I am just learning about functions and arrays in C++ so any help is appreciated.</p>
<p>invalid conversion from 'int' to 'int*' [-fpermissive] is the message i receive when I try to call my function.</p>
<pre><code>#include&lt;iostream&gt;
#include&lt;array&gt;
#include&lt;fstream&gt;   // open, read, and close files
    

using namespace std;

ifstream grades;
string grade_file = &quot;numbs.txt&quot;;
const int SCORE_SIZE = 26;
int scores[SCORE_SIZE];
void getNumbs();
int * score_count(int s_count[]);
//void getNumbs(int scores[], int scoreSize);


int main() {

getNumbs();
cout &lt;&lt; &quot;The following array positions are scores below 24 file: &quot; &lt;&lt; endl;
int s_count[] = score_count(scores[a]); &lt;&lt; invalid conversion from 'int' to 'int*' [-fpermissive]
return 0;
}


void getNumbs(){
ifstream grades;    // input file variable
string grade_file = &quot;numbs.txt&quot;;    // inpute file name variable
cout &lt;&lt; &quot;Opening File.&quot; &lt;&lt; endl;    // update
grades.open(grade_file.c_str());    // opening file
if (grades.is_open()){              // Verifying file is open
    cout &lt;&lt; grade_file &lt;&lt; &quot; Is Open.&quot; &lt;&lt; endl;
    for(int i = 0; i &lt; SCORE_SIZE; i++){    // If file is open iterate through the numbers and enter them into string array
        grades &gt;&gt; scores[i];
        cout &lt;&lt; scores[i] &lt;&lt; &quot; &quot;;
    }
    }
    else {
    cout &lt;&lt; &quot;No file found: &quot; &lt;&lt; grade_file &lt;&lt; endl;
}

    grades.close(); // Close file
    cout &lt;&lt; &quot;\nFile is closed.&quot; &lt;&lt; endl;
    cout &lt;&lt; endl;
}
// function to separate the numbers between 0 - 24.

int * score_count(int s_count[]){
for (int a = 0; a &lt; SCORE_SIZE; a++){
    if (scores[a] &lt;= 24){
        cin &gt;&gt; s_count[];
        }
    return s_count[];
}
}
</code></pre>
","2024-02-22 01:00:39","1","Question"
"78037301","78037238","","<p>because you call the create function from the login function however you can use this code:</p>
<pre><code>#Function for creating an account
def create():
    username = input(&quot;Please enter your desired username &quot;)
    password = input(&quot;Please enter your desired password &quot;)

    return username, password


#Function for login not built out yet
def login():
    username = input(&quot;Enter your username&quot;)
    password = input(&quot;Enter your password&quot;)
    #  login action

#Menu
ans = True
while ans:
    print (&quot;&quot;&quot;
    1. Create an account
    2. Login to an existing account
           &quot;&quot;&quot;)
    ans=input(&quot;What would you like to do&quot;)
    if ans==&quot;1&quot;:
        create()
    elif ans==&quot;2&quot;:
        login()
    else:
        print(&quot;Not a vaild option&quot;)
</code></pre>
","2024-02-21 21:55:21","1","Answer"
"78037238","","Python project menu always runs one function regardless of input","<p>I'm learning Python and am struggling on making my menu option correlate to the proper function.</p>
<p>The program should display a list upon running with menu options to either login or register an account, and once a number is pressed it should execute the function.</p>
<p>Now my program mostly works, however no matter what option is chosen it automatically selects register and runs that function.</p>
<p>I'm sure I'm doing something entirely wrong but I would like to learn. I am seeking some tips or suggestions.</p>
<pre><code>#Function for creating an account
def create():
    username = input(&quot;Please enter your desired username &quot;)
    password = input(&quot;Please enter your desired password &quot;)

    return username, password


#Function for login not built out yet
def login():
    username = create()
    password = create()
    print(&quot;What is your username?&quot;)


#Menu
ans = True
while ans:
    print (&quot;&quot;&quot;
    1. Create an account
    2. Login to an existing account
           &quot;&quot;&quot;)

    ans=input(&quot;What would you like to do&quot;)
    if ans==&quot;1&quot;:
        create()
    elif ans==&quot;2&quot;:
        login()


    else:
        print(&quot;Not a vaild option&quot;)
</code></pre>
","2024-02-21 21:40:29","0","Question"
"78037227","78037174","","<p>Because your function only returns something if the number of seconds it's equal to 0.
Indeed, you put the return of your function inside the else part of your if condition. So Unless it goes inside of it, it won't return anything.</p>
","2024-02-21 21:37:24","2","Answer"
"78037220","78037174","","<p>There are code paths in your function that do not reach the return statement. As per the Python semantics, when this happens, <code>None</code> is returned implicitly. Concretely, this happens when <code>z&gt;0</code>. I assume you would want to fix the indentation of the return statement in the else branch. Looking at what you were trying to do, that seems like it would result in the correct behaviour. There is also a way to simplify your code, if you assume that inputs like &quot;20:-10&quot; would not occur, because that's the only way</p>
<pre><code>def main():

    time = input(&quot;what time is it?&quot;)
  
    def convert (a):

       #this split the string 

       x, z = time.split(&quot;:&quot;)
       x = float(x)
       z = float(z)

       return x + z / 60

    result = convert(time)
    print(result)

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
","2024-02-21 21:35:45","2","Answer"
"78037187","78037174","","<p>The issue with your code is related to the scope and return value of the convert function. Specifically, the return statement is placed inside the else block, which means that if the condition if z &gt; 0 is true, the function ends without hitting a return statement, thus returning None by default.</p>
","2024-02-21 21:27:12","2","Answer"
"78037185","78036805","","<p>I would suggest to really do this step by step, using intermediate cells for intermediate results. First get all key positions in the data, and only when you have all of them, design your <code>mid</code> extractions based on those positions.</p>
<p>I would use these formulas. I'm assuming the data is in column A, and starting at A2. Then I'd allocate the columns as follows:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>#</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
<th>F</th>
<th>G</th>
<th>H</th>
<th>I</th>
<th>J</th>
<th>K</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Data</td>
<td>Start First</td>
<td>End First</td>
<td>End Last</td>
<td>Start Num</td>
<td>End Num</td>
<td>Start Date</td>
<td>First Name</td>
<td>Last Name</td>
<td>Number</td>
<td>Date</td>
</tr>
<tr>
<td>2</td>
<td>...</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div>
<p>Use these formulas:</p>
<ul>
<li>In B2: <code>=FIND(&quot;*1*&quot;,A2)+3</code></li>
<li>In C2: <code>=FIND(&quot;*&quot;,A2,B2)+1</code></li>
<li>In D2: <code>=FIND(&quot;*&quot;,A2,C2)</code></li>
<li>In E2: <code>=FIND(&quot;*MI*&quot;,A2,D2)+4</code></li>
<li>In F2: <code>=FIND(&quot;~&quot;,A2,E2)</code></li>
<li>In G2: <code>=FIND(&quot;*D9*&quot;,A2)+4</code></li>
<li>In H2: <code>=IFERROR(MID(A2,B2,C2-B2-1),&quot;&quot;)</code></li>
<li>In I2: <code>=IFERROR(MID(A2,C2,D2-C2),&quot;&quot;)</code></li>
<li>In J2: <code>=IFERROR(MID(A2,E2,F2-E2),&quot;&quot;)</code></li>
<li>In K2: <code>=IFERROR(DATE(MID(A2,G2,4),MID(A2,G2+4,2),MID(A2,G2+6,2)),&quot;&quot;)</code></li>
</ul>
<p>This is the result I got with that:</p>
<p><a href=""https://i.sstatic.net/5LVMl.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/5LVMl.png"" alt=""enter image description here"" /></a></p>
<p>To have so many intermediate cells may look like overkill, but it makes it easier to see where things go wrong if they do. Once all is fine, you can just hide columns B-G.</p>
","2024-02-21 21:26:19","1","Answer"
"78037174","","Why is function within main function in python always returning ""none"" when it should return a float?","<p>In order to learn python, I am trying to take a string from the user, convert this string in a float. I need to convert the minutes in a decimal number. This is what the &quot;convert&quot; function intends to do.</p>
<p>But I always get &quot;none&quot; as output. What is wrong?</p>
<pre><code>   def main():
    
     time = input(&quot;what time is it?&quot;)
    
     def convert (a):

   #this split the string 

        x, z = time.split(&quot;:&quot;)
        x = float(x)
        z = float(z)

  #converts hours and minutes to float

        if z &gt; 0:
           z = z / 60

  #converts minutes to decimals

        else:
          z = 0
          k = x + z
          return k
    
     result = convert(time)
     print(result)
    
    if __name__ == &quot;__main__&quot;:
        main()
</code></pre>
<p>Ok so when reviewing the whole thing, and using this code as follows, I have the error &quot;expected an intended block after function definition on line 1&quot;.
This indentation stuff seems not easy.</p>
<pre><code>def main():

time = input(&quot;what time is it?&quot;)

def convert (a):
    x, z = time.split(&quot;:&quot;)
    x = float(x)
    z = float(z)
    return x * (z / 60)
    

result = convert(time)
print(result)

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
<p>Ok so now it finally works...after I placed a small indentation after the first &quot;main&quot; line, like so:</p>
<pre><code>def main():

 time = input(&quot;what time is it?&quot;)

 def convert (a):
    x, z = time.split(&quot;:&quot;)
    x = float(x)
    z = float(z)
    return x * (z / 60)


 result = convert(time)
 print(result)

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
","2024-02-21 21:23:47","1","Question"
"78036805","","How to extract substrings using Right, Left, Mid, LEN and FIND","<p>I am trying to extract data from a string using different functions.</p>
<p>I have the input data in the first column, which can have two different formats.</p>
<p>Here is an example for both formats, with the expected output next to it:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Data</th>
<th>First name</th>
<th>Last name</th>
<th>Number</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>**NM1*IL*1*EEKS*MILBORD****MI*123456789~**</code></td>
<td><code>EEKS</code></td>
<td><code>MILBORD</code></td>
<td><code>123456789</code></td>
<td></td>
</tr>
<tr>
<td><code>**DTP*472*D9*20240212~ **</code></td>
<td></td>
<td></td>
<td></td>
<td><code>20240212</code></td>
</tr>
</tbody>
</table></div>
<p>Currently, I got as far as these results:</p>
<div class=""s-table-container""><table class=""s-table"">
<thead>
<tr>
<th>Data</th>
<th>MIDFUNCTION</th>
<th>First name</th>
<th>Nmbr</th>
<th>Date</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>**NM1*IL*1*EEKS*MILBORD****MI*123456789~**</code></td>
<td><code>EEKS*MILBORD****MI*123456789~</code></td>
<td><code>EEK</code></td>
<td><code>BORD****MI*123456789</code></td>
<td></td>
</tr>
<tr>
<td><code>**DTP*472*D9*20240212~ **</code></td>
<td></td>
<td></td>
<td></td>
<td><code>20240212~</code></td>
</tr>
</tbody>
</table></div>
<p>For the <code>mid</code> function -- which I placed in the D column -- I used:</p>
<pre><code>=MID(A15,FIND(&quot;NM1*IL*1*&quot;,A15)+9,LEN(A15)-FIND(&quot;NM1*IL*1*&quot;,A15))
</code></pre>
<p>For the first name I used: <code>=LEFT(D15,FIND(&quot;*&quot;,D15)-1)</code></p>
<p>For the Nmbr I used: <code>=RIGHT(A15,FIND(&quot;****MI*&quot;,A15))</code></p>
<p>For the date I could not exclude the tilde. I used: <code>=RIGHT(A16,FIND(&quot;*D9*&quot;,A16))</code></p>
<p>What I want is to extract using the find and Len based on the data in the data field... The <code>mid</code> function seems to work but does not exclude what is not needed.</p>
<p>I am trying to extract First Name, Last Name, Number and on the next line, the date and exclude the tilde.</p>
","2024-02-21 20:11:05","1","Question"
"78035827","","is it possible to evaluate a function of matrix variables in mathematica?","<p>Let for a matrix X of 3*3 dimension,
first I need to find the eigenvectors of it,
<code>A = Eigenvectors[X];</code>
Then I need to express one of its eigen vector in matrix form,
Lets write its 2nd eigenvector
<code>B = A[[2 ;; 2, 1 ;; 3]];</code>
Now I need to evaluvate
<code>C = ConjugateTranspose[B].B;</code>
Then i need to evaluvate,
<code>D = C/Norm[C];</code></p>
<p>I need to find this for different X, is it possible to write a single function for this?</p>
<p>Can i write code like this</p>
<p><code>A[X_] := Eigenvectors[X]; B[u_] := A[[2 ;; 2, 1 ;; 3]]; C[y_] := ConjugateTranspose[B].B; D[t_] := C/Norm[C];</code></p>
<p>and if i need to evaluate the whole thing for a matrix g</p>
<p><code>D[C[B[A[g]]]]</code></p>
","2024-02-21 17:05:27","3","Question"
"78034880","78031323","","<p>I found two problems in your code, and they both have to do with the <strong>calculation of the radiant exitance by</strong> <code>Spectral_Radiant_Exitance()</code>. In order of importance the errors are:</p>
<ol>
<li>The <code>wavelength</code> value should be in <code>nm</code> (<strong>nanometers</strong>), as deduced from the second graph in the Wikipedia page on the Planckian locus, and as mentioned in the source for the <code>Color_Matching_Function</code> data frame, namely: &quot;<em>Description:
CIE 1931 colour-matching functions (x_bar, y_bar, z_bar), 2 degree observer, 1 nm wavelength steps</em>&quot;. <strong>You are defining the values for <code>wavelength</code> in their nanometer scale but they are interpreted in meters</strong> (i.e. 360 should be replaced with 360E-9 and so forth).</li>
<li>Constant <code>c1</code> is set to 1 instead of <code>c1 = 2*pi*h*c^2 = 3.741772e-16</code>.</li>
</ol>
<p>When the <code>wavelength</code> value is in meters, the exponential of the formula for the radiant exitance is always near 1, regardless of temperature because its exponent <code>c2/(wavelength * temperature)</code> is almost 0 (as <code>wavelength</code> is 10^9 larger than it should be!).</p>
<h2>Incorrect calculation of the radiant exitance</h2>
<p>Here is the graph of the exponential in the denominator of <code>M(wavelength, temperature)</code> (&quot;Spectral exponential&quot;) and of <code>M(wavelength, temperature)</code> itself computed for temperatures 1500, 4000, 10000, <strong>when the <code>wavelength</code> values are defined INCORRECTLY</strong> as <code>360 m, 361 m, etc.</code>. The vertical scale is logarithmic for better visualization. We can see that the vertical scale of <code>S_values</code> are all equal to 1 in essence, and that the <code>M(wavelength, temperature)</code> curves are essentially parallel in the log scale (which probably is responsible for making the ratios computed to get the projected values of <code>x</code> and <code>y</code> always take the same values, regardless of temperature).</p>
<p><a href=""https://i.sstatic.net/LEOx2.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/LEOx2.png"" alt=""Spectral exponential"" /></a>
<a href=""https://i.sstatic.net/S1bs6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/S1bs6.png"" alt=""Radiant exitance"" /></a></p>
<h2>CORRECT calculation of the radiant exitance</h2>
<p>And here is the graph of those quantities, also computed for temperatures 1500, 4000, 10000, <strong>when the <code>wavelength</code> values are defined CORRECTLY</strong> as <code>360 nm, 361 nm, etc.</code>. The vertical scale is still logarithmic. We can now see that the <code>S_values</code> are clearly distinct, and that the <code>M(wavelength, temperature)</code> curves are no longer parallel in log scale.</p>
<p><a href=""https://i.sstatic.net/YAvKI.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/YAvKI.png"" alt=""Spectral exponential"" /></a>
<a href=""https://i.sstatic.net/5WieN.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/5WieN.png"" alt=""Radiant exitance"" /></a></p>
<p>Finally, this is the code I used to get the correct graphs (note in particular the use of the multiplier <code>1E-9</code> when defining the variable <code>wavelength</code>):</p>
<pre><code># Constants definition
h = 6.62607015E-34  # Planck's constant [J s]
c = 299792458       # Speed of light [m/s]
k = 1.380649E-23    # Boltzmann constant [J/K]
c1 = 2*pi*h*c^2
c2 = h*c/k

# Check units of c1 and c2 
# c1 / wavelength^5 = [Js m^2/s^2] / [m^5] = [J/(m^3s)] --&gt; OK! (Power/(sq.m * m))
# c2 / (lambda T) = [Js m/s K/J] / [m K] = [1]  --&gt; OK! (unitless)

# Functions definition
Spectral_Exponential = function(wavelength, temperature) {
  return(exp(c2 / (wavelength * temperature)))
}

Spectral_Radiant_Exitance &lt;- function (wavelength, temperature){
  M &lt;- c1 / (wavelength^5 * (exp(c2 / (wavelength * temperature)) - 1))
  return(M)
}
   
# Generate the graphs for the spectral exponential and for the radiant exitance
wavelength = seq(360, 830, 50)*1E-9
temperatures = c(1500, 4000, 10000)
S_values &lt;- M_values &lt;- matrix(nrow=length(wavelength), ncol=length(temperatures))
j = 0
for (temp in temperatures) {
  j = j + 1
  S_values[, j] = Spectral_Exponential(wavelength, temp)
  M_values[, j] = Spectral_Radiant_Exitance(wavelength, temp)
}

matplot(wavelength, S_values, type=&quot;o&quot;, pch=21, bg=&quot;black&quot;, main=&quot;Spectral exponential (lambda, T)&quot;, log=&quot;y&quot;)
matplot(wavelength, M_values, type=&quot;o&quot;, pch=21, bg=&quot;black&quot;, main=&quot;M(lambda, T)&quot;, log=&quot;y&quot;)
</code></pre>
","2024-02-21 14:41:22","0","Answer"
"78031914","78031828","","<p>The first adds a change event listener to <code>jQuery(selector)</code> and then triggers it, causing the function to fire even without the change event occurring.</p>
<p>Notice how the log appears when running the snippet below, even without changing the text input:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>jQuery(""#text"").change(function(){
  console.log(""I changed"");
}).change();   </code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js""&gt;&lt;/script&gt;
&lt;input type=""text"" placeholder=""Example"" id=""text"" /&gt;</code></pre>
</div>
</div>
</p>
<p>Note that <a href=""https://api.jquery.com/change-shorthand/"" rel=""nofollow noreferrer""><code>.change()</code> is deprecated</a>, the equivalent of the above is to use <code>.on(&quot;change&quot;, handler)</code>, followed by <code>trigger()</code> (see the <a href=""https://api.jquery.com/change/#on1"" rel=""nofollow noreferrer""><code>.on()</code> docs</a>):</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>jQuery(""#text"").on(""change"", function(){
  console.log(""I changed"");
}).trigger(""change"");</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js""&gt;&lt;/script&gt;
&lt;input type=""text"" placeholder=""Example"" id=""text"" /&gt;</code></pre>
</div>
</div>
</p>
<p>The second just adds a change event listener, and doesn't manually trigger the change event:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>jQuery(""#text"").change(function(){
  console.log(""I changed"");
});</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js""&gt;&lt;/script&gt;
&lt;input type=""text"" placeholder=""Example"" id=""text"" /&gt;</code></pre>
</div>
</div>
</p>
","2024-02-21 06:23:11","2","Answer"
"78031894","78031323","","<p>I was able to replicate your issue, and can pinpoint to where the problem is (<code>XYZ_to_xy()</code>). But I can't offer a solution to fix it because I have zero domain knowledge about this.</p>
<p>Your code, broadly speaking, doesn't leverage R's ability to vectorize. You don't need to do a for loop at all, you can just vectorize across the <code>Color_Matching_Function</code> data frame. The following code condenses your code in much more compact, readable form:</p>
<pre><code>library(dplyr)

Color_Matching_Function &lt;- readr::read_csv(&quot;CIE_xyz_1931_2deg.csv&quot;, col_names = FALSE) |&gt; 
  rename(wavelength = X1, x_bar = X2, y_bar = X3, z_bar = X4)

Spectral_Radiant_Exitance &lt;- function(wavelength, temperature){
  1 / (wavelength^5 * ((exp(0.01438786 / (wavelength * temperature))) - 1))
}

XYZ_to_xy &lt;- function(x, y, z) {
  x_t &lt;- x / (x + y + z)
  y_t &lt;- y / (x + y + z)
  list(x_t, y_t)
}

calculate_radiance &lt;- function(Temperature, Color_Matching = Color_Matching_Function) {
  Color_Matching |&gt; 
    mutate(Spectral_Radiance = Spectral_Radiant_Exitance(wavelength, Temperature),
           across(x_bar:z_bar, ~ .x * Spectral_Radiance, .names = &quot;{col}_Radiance&quot;)) |&gt;
    summarize(across(x_bar_Radiance:z_bar_Radiance, sum))
}

res &lt;- calculate_radiance(4000)
res

# A tibble: 1 × 3
  x_bar_Radiance y_bar_Radiance z_bar_Radiance
           &lt;dbl&gt;          &lt;dbl&gt;          &lt;dbl&gt;
1       0.000328       0.000320       0.000718

res2 &lt;- calculate_radiance(10000)
res2

# A tibble: 1 × 3
  x_bar_Radiance y_bar_Radiance z_bar_Radiance
           &lt;dbl&gt;          &lt;dbl&gt;          &lt;dbl&gt;
1       0.000819       0.000799        0.00180
</code></pre>
<p>I can't say if these values are correct or not, but they're certainly different.</p>
<p>However, the following gets the same results you mention, regardless of the value applied to <code>Temperature</code>.</p>
<pre><code>XYZ_to_xy(res$x_bar_Radiance, res$y_bar_Radiance, res$z_bar_Radiance)
XYZ_to_xy(res2$x_bar_Radiance, res2$y_bar_Radiance, res2$z_bar_Radiance)
</code></pre>
<p>Both return</p>
<pre><code>[[1]]
[1] 0.239877

[[2]]
[1] 0.2340373
</code></pre>
<p>Which points to my misunderstanding on how to define <code>XYZ_to_xy()</code>, and I am assuming yours as well. I can't help you further I'm afraid.</p>
","2024-02-21 06:18:18","0","Answer"
"78031828","","jQuery change() Function - Differences","<p>Which is the difference between:</p>
<pre><code>jQuery(selector).change(function(){
//something
}).change();   
</code></pre>
<p>And this:</p>
<pre><code>jQuery(selector).change (function(){
//define your code here to execute once the change event is happened.
});
</code></pre>
<p>Thanks in advance!</p>
<p>I could not find an explanation about difference between those methods, that is why I ask here.</p>
","2024-02-21 05:59:47","1","Question"
"78031323","","Why does my function always return the same values?","<p>I have a function &quot;xy_from_Temperature&quot; which is supposed to compute XYZ color coordinates from a spectral power distribution. However, no matter what temperature I put into it, it always ouputs</p>
<pre><code>[1] 0.2398770 0.2340373
</code></pre>
<p>My code is</p>
<pre class=""lang-r prettyprint-override""><code>xy_from_Temperature &lt;- function (Temperature){
  X_vector &lt;- c()
  Y_vector &lt;- c()
  Z_vector &lt;- c()
  repetition_counter &lt;- 1
  wavelength_counter &lt;- 360
  for (i in 360:830){
    X &lt;- Color_Matching_Function[,2][repetition_counter]
    Y &lt;- Color_Matching_Function[,3][repetition_counter]
    Z &lt;- Color_Matching_Function[,4][repetition_counter]
    Spectral_Radiance &lt;- Spectral_Radiant_Exitance (wavelength_counter, Temperature)
    X &lt;- X * Spectral_Radiance
    Y &lt;- Y * Spectral_Radiance
    Z &lt;- Z * Spectral_Radiance
    X_vector &lt;- c(X_vector, X)
    Y_vector &lt;- c(Y_vector, Y)
    Z_vector &lt;- c(Z_vector, Z)
    repetition_counter &lt;- repetition_counter + 1
    wavelength_counter &lt;- wavelength_counter + 1
  }
  sum_X &lt;- sum(X_vector)
  sum_Y &lt;- sum(Y_vector)
  sum_Z &lt;- sum(Z_vector)
  XYZ &lt;- c(sum_X, sum_Y, sum_Z)
  xy &lt;- XYZ_to_xy(XYZ)
  return (xy)
}
</code></pre>
<p>Spectral_Radiant_Exitance is a function that takes wavelength (in nanometers) and temperature (in kelvin) and ouputs spectral radiant exitance (as described <a href=""https://en.wikipedia.org/wiki/Planckian_locus#The_Planckian_locus_in_the_XYZ_color_space"" rel=""nofollow noreferrer"">here</a>). XYZ_to_xy is a function that takes a vector of XYZ color coordinates and outputs a vector of xy color coordinates (also as described <a href=""https://en.wikipedia.org/wiki/Planckian_locus#The_Planckian_locus_in_the_XYZ_color_space"" rel=""nofollow noreferrer"">here</a>).</p>
<p>Color_Matching_Function is a dataframe of the CIE 1931 2 degree color matching function for xyz color space which I copy-pasted from the file <a href=""https://cie.co.at/datatable/cie-1931-colour-matching-functions-2-degree-observer"" rel=""nofollow noreferrer"">on this page</a>.</p>
<p>I based &quot;xy_from_Temperature&quot; on the equations I found in <a href=""http://www.brucelindbloom.com/index.html?Eqn_Spect_to_XYZ.html"" rel=""nofollow noreferrer"">this webpage</a>.</p>
<p>I have tried inputting various temperature such as 10, 2000, and 40000, but it always outputs the same result. It should output results on the <a href=""https://i.sstatic.net/ZwCwR.png"" rel=""nofollow noreferrer"">Planckian locus</a>.</p>
<p>So if I input 4000, I should get</p>
<pre><code>[1] 0.38 0.38
</code></pre>
<p>(approximately), and if I input 10000, I should get</p>
<pre><code>[1] 0.53 0.42
</code></pre>
<p>(also approximately). I have truly no idea what I am doing wrong. Any help would be greatly appreciated!</p>
<p>Edit:
Spectral_Radiant_Exitance is defined as</p>
<pre class=""lang-r prettyprint-override""><code>    Spectral_Radiant_Exitance &lt;- function (wavelength, temperature){
  M &lt;- 1 / (wavelength^5 * ((exp(c2 / (wavelength * temperature))) - 1))
  return (M)
}
</code></pre>
<p>where c2 is 0.01438786.</p>
<p>Edit 2:
XYZ_to_xy is defined as</p>
<pre class=""lang-r prettyprint-override""><code>XYZ_to_xy &lt;- function (XYZ_vector){
  X &lt;- XYZ_vector[1]
  Y &lt;- XYZ_vector[2]
  Z &lt;- XYZ_vector[3]
  x &lt;- X / (X + Y + Z)
  y &lt;- Y / (X + Y + Z)
  xy_vector &lt;- c(x,y)
  return (xy_vector)
}
</code></pre>
","2024-02-21 02:54:21","0","Question"
"78030456","78029887","","<p>Here is the whole procedure by walk:  :-)</p>
<pre><code>a &lt;- gsub(&quot;\\s+&quot;, &quot;&quot;, names(My_list)[1]) 
b &lt;- gsub(&quot;\\s+&quot;, &quot;&quot;, names(My_list)[2]) 
c &lt;- gsub(&quot;\\s+&quot;, &quot;&quot;, names(My_list)[3]) 

a_c &lt;- paste(a, &quot;-&quot;, c)
a_b &lt;- paste(a, &quot;-&quot;, b)
b_c &lt;- paste(c, &quot;-&quot;, b)

a1_numeric &lt;- as.numeric(strsplit(paste(My_list[[1]], collapse = &quot;,&quot;), &quot;,&quot;)[[1]])
b1_numeric &lt;- as.numeric(strsplit(paste(My_list[[2]], collapse = &quot;,&quot;), &quot;,&quot;)[[1]])
c1_numeric &lt;- as.numeric(strsplit(paste(My_list[[3]], collapse = &quot;,&quot;), &quot;,&quot;)[[1]])

a1_c1 &lt;- c(a1_numeric, -c1_numeric)
a1_b1 &lt;- c(a1_numeric, -b1_numeric)
c1_b1 &lt;- c(c1_numeric, -b1_numeric)

my_list &lt;- list(a_c = a1_c1, a1_b1, c1_b1)
names(my_list) &lt;- c(a_c, a_b, b_c)

my_list
</code></pre>
<pre><code>$`(beginner_post1-beginner_baseline) - (advanced_post1-advanced_baseline)`
[1]  5 -2 -4  1

$`(beginner_post1-beginner_baseline) - (intermediate_post1-intermediate_baseline)`
[1]  5 -2 -6  3

$`(advanced_post1-advanced_baseline) - (intermediate_post1-intermediate_baseline)`
[1]  4 -1 -6  3
</code></pre>
","2024-02-20 21:43:30","0","Answer"
"78029906","78029887","","<p>Perhaps this use of <code>combn(.., FUN=)</code>.</p>
<pre class=""lang-r prettyprint-override""><code>fun &lt;- function(i) {
  setNames(list(c(My_list[[i[1]]], -My_list[[i[2]]])), 
           paste(names(My_list)[i], collapse = &quot; - &quot;))
}
### demo of manual/single invocation
fun(c(1, 3))
# $`(    beginner_post1 - beginner_baseline    ) - (    advanced_post1 - advanced_baseline    )`
# [1]  5 -2 -4  1

### all pairs
do.call(c, combn(3, 2, FUN = fun, simplify = FALSE))
# $`(    beginner_post1 - beginner_baseline    ) - (intermediate_post1 - intermediate_baseline)`
# [1]  5 -2 -6  3
# $`(    beginner_post1 - beginner_baseline    ) - (    advanced_post1 - advanced_baseline    )`
# [1]  5 -2 -4  1
# $`(intermediate_post1 - intermediate_baseline) - (    advanced_post1 - advanced_baseline    )`
# [1]  6 -3 -4  1
</code></pre>
","2024-02-20 19:37:11","3","Answer"
"78029887","","subtract all unique pairs of elements of a list in R","<p>In <code>My_list</code> below, I want to subtract all unique <em>pairs of elements (no repetition)</em> from one another.</p>
<p>In this example, because there are 3 elements in <code>My_list</code>, therefore, we expect <code>choose(3, 2)</code>= three pairs to be subtracted from each other.</p>
<p>Is it possible to achieve my <code>Desired_output</code> shown below in R?</p>
<pre><code>My_list = 
  list(&quot;(    beginner_post1 - beginner_baseline    )&quot;= c(5,-2),
       &quot;(intermediate_post1 - intermediate_baseline)&quot;= c(6,-3),
       &quot;(    advanced_post1 - advanced_baseline    )&quot;= c(4,-1))


Desired_output = 
  list(&quot;(beginner_post1 - beginner_baseline) - (    advanced_post1 - advanced_baseline    )&quot;= c(5,-2,-4,1),
       &quot;(beginner_post1 - beginner_baseline) - (intermediate_post1 - intermediate_baseline)&quot;= c(5,-2,-6,3),
       &quot;(advanced_post1 - advanced_baseline) - (intermediate_post1 - intermediate_baseline)&quot;= c(4,-1,-6,3)
  )
</code></pre>
","2024-02-20 19:31:07","1","Question"
"78029828","78029581","","<p>The function calls seem to have <a href=""https://community.openai.com/t/json-mode-returns-no-json-arrays/480792/8"" rel=""nofollow noreferrer"">some issues with arrays</a>.</p>
<p>I changed your custom function to this:</p>
<pre><code>student_custom_functions = [
    {
        'name': 'extract_student_info',
        'description': 'Extraction of all individuals mentioned in the text, including their names, majors, schools, grades and clubs',
        'parameters': {
            &quot;type&quot;: &quot;object&quot;,
            &quot;properties&quot;: {
                &quot;students&quot;: {
                    &quot;type&quot;: &quot;array&quot;,
                    &quot;items&quot;: {
                        &quot;type&quot;: &quot;object&quot;,
                        &quot;properties&quot;: {
                            &quot;name&quot;: {
                                &quot;type&quot;: &quot;string&quot;,
                                &quot;description&quot;: &quot;Name of the person&quot;
                            },
                            &quot;major&quot;: {
                                &quot;type&quot;: &quot;string&quot;,
                                &quot;description&quot;: &quot;Major subject.&quot;
                            },
                            &quot;school&quot;: {
                                &quot;type&quot;: &quot;string&quot;,
                                &quot;description&quot;: &quot;The university name.&quot;
                            },
                            &quot;grades&quot;: {
                                &quot;type&quot;: &quot;integer&quot;,
                                &quot;description&quot;: &quot;GPA of the student.&quot;
                            },
                            &quot;club&quot;: {
                                &quot;type&quot;: &quot;string&quot;,
                                &quot;description&quot;: &quot;School club for extracurricular activities.&quot;
                            }
                        },
                    },
                },
            }
        },
    },
]
</code></pre>
<p>And it returns:</p>
<p><code>{'students': [{'name': 'Ravi Patel', 'major': 'computer science', 'school': 'University of Michigan', 'grades': 3.7, 'club': 'Chess Club and South Asian Student Association'}, {'name': 'David Nguyen', 'major': 'computer science', 'school': 'Stanford University', 'grades': 3.8, 'club': 'Robotics Club'}]}</code></p>
","2024-02-20 19:18:59","0","Answer"
"78029640","78029625","","<p>The issue is that you have added height explicitly and this is preventing the container to grow. To fix the issue, update your container css with following code -</p>
<pre><code>#container {
  width: 700px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
}
</code></pre>
","2024-02-20 18:36:18","0","Answer"
"78029625","","How to get container to grow along with divs?","<p>Hey guys im trying to build an etch-a-sketch, having issues making my divs stay inside its container. I also would like the container to stretch if I were to add more divs.My divs are made via a function.</p>
<pre><code>!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot; /&gt;
    &lt;script text='text/javascript' src=&quot;Etch.js&quot; defer&gt;&lt;/script&gt;
    &lt;title&gt;Etch-a-Sketch&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;container&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;

</code></pre>
<pre><code>* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  border: 1px solid red;
}

body {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

#container {
  width: 700px;
  height: 700px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
}

.squares {
  height: 40px;
  width: 40px;
  padding: 10px;
  flex-grow:1;
}
</code></pre>
","2024-02-20 18:33:39","0","Question"
"78029581","","OpenAI Function Calling Unstructured Data","<p>I am trying to create a structured JSON output from sample text that is related to two students activities at school. My current code only returns the first student's information, I would like to collect all student info.</p>
<p>Text = &quot;Ravi Patel is a sophomore majoring in computer science at the University of Michigan. He is South Asian Indian American and has a 3.7 GPA. Ravi is an active member of the university's Chess Club and the South Asian Student Association. He hopes to pursue a career in software engineering after graduating. David Nguyen is a sophomore majoring in computer science at Stanford University. He is Asian American and has a 3.8 GPA. David is known for his programming skills and is an active member of the university's Robotics Club. He hopes to pursue a career in artificial intelligence after graduating.&quot;</p>
<p>Variables I am looking to extract:
{'name':'major':'school':'grades':'club':}</p>
<p>My Code:</p>
<pre><code>%pip install --upgrade openai -q

import os
from openai import OpenAI

my_key = &quot;API KEY&quot;
os.environ[&quot;OPENAI_API_KEY&quot;] = my_key
client = OpenAI()

student_1_description = &quot;Ravi Patel is a sophomore majoring in computer science at the University of Michigan. He is South Asian Indian American and has a 3.7 GPA. Ravi is an active member of the university's Chess Club and the South Asian Student Association. He hopes to pursue a career in software engineering after graduating. David Nguyen is a sophomore majoring in computer science at Stanford University. He is Asian American and has a 3.8 GPA. David is known for his programming skills and is an active member of the university's Robotics Club. He hopes to pursue a career in artificial intelligence after graduating.&quot;

import json

# Loading the response as a JSON object
#json_response = json.loads(openai_response.choices[0].message.content)
#json_response

student_custom_functions = [
    {
        'name': 'extract_student_info',
        'description': 'Extraction of all individuals mentioned in the text, including their names, majors, schools, grades and clubs',
        'parameters': {
            'type': 'object',
            'properties': {
                'name': {
                    'type': 'string',
                    'description': 'Name of the person'
                },
                'major': {
                    'type': 'string',
                    'description': 'Major subject.'
                },
                'school': {
                    'type': 'string',
                    'description': 'The university name.'
                },
                'grades': {
                    'type': 'integer',
                    'description': 'GPA of the student.'
                },
                'club': {
                    'type': 'string',
                    'description': 'School club for extracurricular activities. '
                }
                
            }
        }
    }
]

student_description = [student_1_description]
for i in student_description:
    response = client.chat.completions.create(
        model = 'gpt-3.5-turbo',
        messages = [{'role': 'user', 'content': i}],
        functions = student_custom_functions,
        function_call = 'auto'
    )

    # Loading the response as a JSON object
    json_response = json.loads(response.choices[0].message.function_call.arguments)
    print(json_response)
</code></pre>
<p>Code output:</p>
<p>{'name': 'Ravi Patel', 'major': 'Computer Science', 'school': 'University of Michigan', 'grades': 3.7, 'club': 'Chess Club, South Asian Student Association'}</p>
<p>I was expecting to see both student's information but the code only returned one student's info</p>
","2024-02-20 18:23:48","0","Question"
"78028962","78028413","","<p>Here's a fairly simple base solution:</p>
<pre><code>as.data.frame(  table( (df3+100) %/% 100, useNA=&quot;always&quot;)  , make.names = TRUE)
     x Freq
1    1   99
2    2  100
3    3  100
4    4  100
5    5   51
6 &lt;NA&gt;   50
</code></pre>
<p>The key trick is to get the NA's counted by adding the <code>useNA</code> parameter to <code>table</code>. The +100 is just to deliver the values as you labeled them beginning with 1. The <code>make.names</code> parameter to as.data.frame move the rownames of the table-object over to a label column.</p>
","2024-02-20 16:29:59","2","Answer"
"78028842","78025470","","<p>To better detect and handle errors, I think it's more useful to use <a href=""https://en.cppreference.com/w/c/io/fgets"" rel=""nofollow noreferrer""><code>fgets</code></a> to read the input, and <a href=""https://en.cppreference.com/w/c/string/byte/strtol"" rel=""nofollow noreferrer""><code>strtol</code></a> to parse the input.</p>
<p>The thing about <code>strtol</code> is that it can detect not only invalid input, but also input that begins with digits and followed by non-digits (like for example <code>&quot;123abc&quot;</code>).</p>
<p>Another important thing is that you should really put the input handling in its own function. That means you can use it again from multiple places without having to copy-paste code (which makes it so much harder for maintenance).</p>
<p>Another nice thing with a function is that it's easy to return not only the value that was read and parsed, but also a status saying if the input was valid or not.</p>
<p>Something like this:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdbool.h&gt;
#include &lt;limits.h&gt;
#include &lt;errno.h&gt;

// &quot;Flush&quot; the input buffer, i.e. read everything until either
// end-of-line (the newline) or end-of-file
// Can be used for any input stream
// Returns true if flushed to the end-of-line
// Returns false if flushed to the end-of-file
bool flush_input(FILE *stream)
{
    int c;

    // Read characters until newline or end of file
    while ((c = fgetc(stream)) != '\n' &amp;&amp; c != EOF)
    {
        // Empty
    }

    // Returns true if newline, false otherwise
    return c == '\n';
}

// Read an int value from a stream
// This function is line-based, it assumes that the integer is alone on the line
// Pass a pointer to the variable you want to read into using the pointer-to &amp; operator
// Returns true if a valid int value was read
// Returns false otherwise
bool read_integer(FILE *stream, int *destination)
{
    // Don't skimp on memory
    char input[256];

    if (!fgets(input, sizeof input, stream))
    {
        // Failed to read from the input stream
        return false;
    }

    // Now try to parse the input (in base 10)
    char *end;
    long result = strtol(input, &amp;end, 10);

    if (*end == '\0')
    {
        // We filled up the whole buffer with text!
        // That is either a value too big for us to handle
        // Or it contains invalid input (letters, etc.)
        // Either way, we need to flush the stream input and return as a failure
        // (We don't care about what the flush_input function returns)
        (void) flush_input(stream);

        return false;
    }

    if (*end != '\n')
    {
        // The input contains non-digit characters
        // This is a failure because we only allow digit-only input
        (void) flush_input(stream);

        return false;
    }

    if ((result == LONG_MAX || result == LONG_MIN) &amp;&amp; errno == ERANGE)
    {
        // The input was a number, but either too large or too small for us to handle
        return false;
    }

    if (sizeof(int) &lt; sizeof(long))
    {
        // The strtol function parses strings into a long integer
        // On this system the types int and long are not the same
        // So we need to add another over-/under-flow check for int
        if (result &gt; INT_MAX || result &lt; INT_MIN)
        {
            return false;
        }
    }

    // If we come to this point, we have valid input and a valid number
    // Set the value and return with success
    *destination = result;
    return true;
}

// This function prompts the user for an integer input, and attempts to read it
// If the input fails for some reason, we retry for a few times
// Pass a pointer to the variable you want to read into using the pointer-to &amp; operator
// Returns true if a valid int value was read
// Returns false otherwise
bool prompt_for_integer(const char *prompt, unsigned retries, int *destination)
{
    for (unsigned try = 0; try &lt; retries; ++try)
    {
        printf(&quot;%s&quot;, prompt);
        if (read_integer(stdin, destination))
        {
            // Success!
            return true;
        }

        if (feof(stdin))
        {
            // The user gave the end-of-file input sequence
            return false;
        }

        if (ferror(stdin))
        {
            // There's an error in the input, just fail
            return false;
        }

        printf(&quot;Failed to read the input, or it was invalid.\n&quot;);
    }

    // If the loop ends, we're out of retries and fail
    return false;
}

int main(void)
{
    // The variable we try to fill
    int value;

    // Try to read an integer, but retry at most five times
    if (!prompt_for_integer(&quot;Please input an integer: &quot;, 5, &amp;value))
    {
        printf(&quot;I'm sorry, but you failed to input a valid integer.\n&quot;);
        return EXIT_FAILURE;
    }

    printf(&quot;Success! Your input is %d\n&quot;, value);
}
</code></pre>
<p>I use many different functions to keep functionality <a href=""https://en.wikipedia.org/wiki/Separation_of_concerns"" rel=""nofollow noreferrer"">separated</a> and easy to reuse and maintain.</p>
<p>The comments should hopefully be enough to explain what happens and why.</p>
","2024-02-20 16:15:43","1","Answer"
"78028711","78028413","","<p>Here's a simple modification - count the <code>NA</code>s, remove them, and then tack them on again at the end:</p>
<pre><code>evenbins &lt;- function(x, bin.count = 5, order = T) {
  n_na = sum(is.na(x))
  x = na.omit(x)
  bin.size &lt;- rep(length(x) %/% bin.count, bin.count)
  bin.size &lt;- bin.size + ifelse(1:bin.count &lt;= length(x) %% bin.count, 1,0)
  bin &lt;- rep(1:bin.count, bin.size)
  if(order) {
    bin &lt;- bin[rank(x, ties.method = &quot;random&quot;)]
  }
  return(factor(c(bin, rep(NA, n_na)), levels = 1:bin.count, ordered = order))
}

df3 &lt;- rbind (df1, df2 )
df3$Bin &lt;- evenbins(df3$x)
df3$isNA &lt;- ifelse(is.na(df3$x), &quot;# NA&quot;,&quot;complete&quot;)
cbind(
  table(df3$Bin, useNA = &quot;always&quot;)
  ,table(df3$Bin, df3$isNA, useNA = &quot;always&quot;)
)
#         # NA complete &lt;NA&gt;
# 1    90    0       90    0
# 2    90    0       90    0
# 3    90    0       90    0
# 4    90    0       90    0
# 5    90    0       90    0
# &lt;NA&gt; 50   50        0    0
</code></pre>
","2024-02-20 15:54:55","1","Answer"
"78028413","","Binning in R with NA Group","<p>I've been using the following function to create even bin variables:</p>
<pre><code>## Even Bins Funtion
evenbins &lt;- function(x, bin.count = 5, order = T) {
  bin.size &lt;- rep(length(x) %/% bin.count, bin.count)
  bin.size &lt;- bin.size + ifelse(1:bin.count &lt;= length(x) %% bin.count, 1,0)
  bin &lt;- rep(1:bin.count, bin.size)
  if(order) {
    bin &lt;- bin[rank(x, ties.method = &quot;random&quot;)]
  }
  return(factor(bin, levels = 1:bin.count, ordered = order))
}
</code></pre>
<p>This works great to bin the numeric values, however, it groups NA's into the final group (in this case the 5th bin). So it does something like this if pivoted:</p>
<p><a href=""https://i.sstatic.net/lTZN6.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/lTZN6.png"" alt=""Current Output"" /></a></p>
<p>I'd like to tweak the function to remove the NA's from initial binning funciton and keep them as NA values so when I group the bin column it yields this:</p>
<p><a href=""https://i.sstatic.net/bvviW.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/bvviW.png"" alt=""Desired output"" /></a></p>
<p>Thanks in advance for reading and any help!!</p>
<p>SAMPLE CODE to work w/:</p>
<pre><code>##set up fake dataset

df1 &lt;- data.frame(x = c(1:450))

df2 &lt;- data.frame(x = 1:50)
df2$x &lt;- NA

df3 &lt;- rbind (df1, df2 )


## Even Bins Funtion
evenbins &lt;- function(x, bin.count = 5, order = T) {
  bin.size &lt;- rep(length(x) %/% bin.count, bin.count)
  bin.size &lt;- bin.size + ifelse(1:bin.count &lt;= length(x) %% bin.count, 1,0)
  bin &lt;- rep(1:bin.count, bin.size)
  if(order) {
    bin &lt;- bin[rank(x, ties.method = &quot;random&quot;)]
  }
  return(factor(bin, levels = 1:bin.count, ordered = order))
}

df3$Bin &lt;- evenbins(df3$x)
df3$isNA &lt;- ifelse(is.na(df3$x) == TRUE, &quot;# NA&quot;,&quot;complete&quot;)


t1 &lt;- cbind(
  table(df3$Bin)
  ,table(df3$Bin, df3$isNA)
)
</code></pre>
","2024-02-20 15:11:45","1","Question"
"78027605","78027194","","<p>Try this formula in H2 and drag down.</p>
<pre><code>=TEXTJOIN(&quot;&quot;,TRUE,IF((I2=B$2:B$7)*(J2&gt;=C$2:C$7)*(J2&lt;=D$2:D$7),A$2:A$7,&quot;&quot;))
</code></pre>
<p><a href=""https://i.sstatic.net/FiIwf.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/FiIwf.png"" alt=""enter image description here"" /></a></p>
","2024-02-20 13:11:57","0","Answer"
"78027194","","Function for lookup with multiple conditions in excel","<p><img src=""https://i.sstatic.net/dYnIx.png"" alt=""enter image description here"" /></p>
<p>I want a function that returns the Policy Number on &quot;column A&quot;, by checking that client name on &quot;column i&quot; and client name on &quot;column b&quot; are the same and also cheeking if the claim date on &quot;column J&quot; is between the start date on &quot;column C&quot; and End date on &quot;Column D&quot;. return it on Column H.</p>
<p>I am expecting a result by first looking on the client names are the same then checking if the claim date is between the start date and end date. Then the result to be shown on column H.</p>
","2024-02-20 12:05:37","-3","Question"
"78026711","78026323","","<p>You can use <code>Math.max</code> function along with spread syntax to achieve this.</p>
<p>Refer to the following code :</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function filterByPHA(neowise) {
  let filteredPHA = neowise.filter(neo =&gt; neo.pha === true);

  if (filteredPHA.length &gt; 0) {
    let maxHMAG = Math.max(...filteredPHA.map(neo =&gt; neo.h_mag));
    console.log(`Maximum h_mag for PHA objects: ${maxHMAG}`);
  } else {
    console.log(""No PHA objects found"");
  }
}

const neowiseData = [
  {
    ""designation"": ""419880 (2011 AH37)"",
    ""discovery_date"": ""2011-01-07T00:00:00.000"",
    ""h_mag"": 19.7,
    ""moid_au"": 0.035,
    ""q_au_1"": 0.84,
    ""q_au_2"": 4.26,
    ""period_yr"": 4.06,
    ""i_deg"": 9.65,
    ""pha"": true,
    ""orbit_class"": ""Apollo""
  },
  {
    ""designation"": ""419880 (2011 AH38)"",
    ""discovery_date"": ""2011-01-07T00:00:00.000"",
    ""h_mag"": 20.7,
    ""moid_au"": 0.035,
    ""q_au_1"": 0.84,
    ""q_au_2"": 4.26,
    ""period_yr"": 4.06,
    ""i_deg"": 9.65,
    ""pha"": true,
    ""orbit_class"": ""Apollo""
  }
];

console.log(filterByPHA(neowiseData));</code></pre>
</div>
</div>
</p>
","2024-02-20 10:49:47","0","Answer"
"78026668","78026323","","<p>As mentioned you should return from your filter function.</p>
<p>But I would suggest avoid using <code>Math.max()</code> with big amount of data, since about 100_000 items the stack is overflowed.
Moreover you create 2 intermediate arrays, which expensive.</p>
<p>I suggest to use <code>Array::reduce()</code> to have filtering and finding the max in 1 operation:</p>
<pre><code>neowise.reduce((r, item) =&gt; (item.pha &amp;&amp; item.h_mag &gt; r &amp;&amp; (r = item.h_mag), r), -Infinity);
</code></pre>
<p>And you can see the performance difference with different number of elements:</p>
<pre><code>` Chrome/121
-----------------------------------------------------------------------------
&gt;              n=1       |      n=10       |     n=100      |     n=1000     
reduce   1.00x x100m 227 | 1.00x x100m 852 | 1.00x x10m 663 | 1.00x x100k  93
map      6.92x  x10m 157 | 8.23x  x10m 701 | 7.95x  x1m 527 | 6.44x x100k 599
-----------------------------------------------------------------------------
https://github.com/silentmantra/benchmark `
</code></pre>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const $chunk = () =&gt; [{
  ""designation"":""419880 (2011 AH37)"",
  ""discovery_date"":""2011-01-07T00:00:00.000"",
  ""h_mag"":Math.random()*100,
  ""moid_au"":0.035,
  ""q_au_1"":0.84,
  ""q_au_2"":4.26,
  ""period_yr"":4.06,
  ""i_deg"":9.65,
  ""pha"":Math.random()&gt;.4,
  ""orbit_class"":""Apollo""
}];

const $input=[];

// @benchmark map
Math.max(...$input.filter(x =&gt; x.pha).map(x =&gt; x.h_mag));

// @benchmark reduce

$input.reduce((r, item) =&gt; (item.pha &amp;&amp; item.h_mag &gt; r &amp;&amp; (r = item.h_mag), r), -Infinity);

/*@end*/eval(atob('e2xldCBlPWRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3Rvcigic2NyaXB0Iik7aWYoIWUubWF0Y2hlcygiW2JlbmNobWFya10iKSl7bGV0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7dC5zcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9zaWxlbnRtYW50cmEvYmVuY2htYXJrL2xvYWRlci5qcyIsdC5kZWZlcj0hMCxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHQpfX0='));</code></pre>
</div>
</div>
</p>
","2024-02-20 10:44:04","0","Answer"
"78026568","78026323","","<p>Try it like this. That should work.</p>
<pre><code>console.log(Math.max(... neowise.filter((value) =&gt; value.pha).map((value) =&gt; value.moid_au)))
</code></pre>
<p>console.log() obviously print into your console.</p>
<p>Math.max() finds the greatest value.</p>
<p>neowise.filter() can filter your array. Therefore you need to provide a function a parameter which returns a bool (true =&gt; value stays).
My function was <code>(value) =&gt; value.pha</code>.</p>
<p>.map() maps the value to another value. It also needs a function as its parameter which returns the new value.</p>
","2024-02-20 10:29:29","0","Answer"
"78026510","78025470","","<p>Advanced: Real good input is tricky.</p>
<p>Say you create a user input function.  How to handle various below cases?</p>
<p>Once we know that, then write the code.</p>
<hr />
<p>Normal: <code>&quot;123\n&quot;</code> --&gt; nice and clean.  Read and return from input function.</p>
<p>Non-numeric: <code>&quot;xyz\n&quot;</code> or <code>&quot;\n&quot;</code> --&gt; Read input line and try again.</p>
<p>Numeric, yet with junk: <code>&quot;123xyz\n&quot;</code> --&gt; Read input line and try again.</p>
<p>Out of range of <code>int</code>: <code>&quot;12345678901234567890\n&quot;</code>  --&gt; Read all input line and try again.</p>
<p>End-of-file: Give up reading and return indicate end-of-file.</p>
<p>Input error (rare): Example keyboard disappeared half-way though input. Give up reading and return indicate error.</p>
<hr />
<p>Consider using <code>fgets()</code> to read a <em>line</em> of user input into a <em>string</em>, then process the string.</p>
<p>Avoid <code>scanf()</code> as it does not handle faulty <em>lines</em> of input well.</p>
","2024-02-20 10:21:59","0","Answer"
"78026383","78025470","","<p>You probably want something like this:</p>
<pre><code>#include &lt;stdio.h&gt;

// Read an int from the user
//   prompt       Prompte message to display to the user
//   errortext    Text to display upon wrong input
//
int GetIntFromUser(const char *prompt, const char *errortext)
{
  int value;
  while (1) {
    fputs(prompt, stdout);

    // Read the input
    if (scanf(&quot;%d&quot;, &amp;value) != 1) {
      fprintf(stderr, &quot;%s\n&quot;, errortext);
      
      // Clear the input buffer
      int c;
      while ((c = getchar()) != '\n' &amp;&amp; c != EOF);
    }
    else {
      break; // Exit the loop if input is valid
    }
  }

  return value;
}


int main(void) {
  int pass = 0;   // initialize to 0 (mandatory)
  int fail = 0;   // initialize to 0 (mandatory)
  int invalid = 0;  // initialize to 0 (mandatory)

  for (int trainee_total = 0; trainee_total &lt; 20; trainee_total++) {
  //                       ^
  //                        initialize to 0, (mandatory)

    // declare test_result here (better style)
    int test_result = GetIntFromUser(&quot;Enter Result (Pass=1 Fail=2) :&quot;, &quot;Wrong input&quot;);

    if (test_result == 1) {
      pass = pass + 1;
    }
    else if (test_result == 2) {
      fail = fail + 1;
    }
    else {
      invalid = invalid + 1;
    }
  }

  printf(&quot;The number of participants that passed is :  %d\n&quot;, pass);
  printf(&quot;The number of participants that failed is :  %d\n&quot;, fail);
  printf(&quot;Invalid input is :  %d\n&quot;, invalid);
}
</code></pre>
<ul>
<li>The <code>GetIntFromUser</code> function is inspired from <a href=""https://stackoverflow.com/a/78025554/898348"">this answer</a>.</li>
<li>The explanations are in the comments. The comments with <code>(mandatory)</code> are needed so the program is correct, The comments with <code>(better style)</code> just show that it is a better style.</li>
<li>There is maybe still room for improvement for the <code>GetIntFromUser</code> function. If e.g. <code>11 22 33</code> is entered the program output looks kind of strange.</li>
</ul>
","2024-02-20 10:04:15","1","Answer"
"78026323","","Analysing an array of objects data using my function and Math.max","<p>Assuming an array of objects that has a couple hundred fields that look like this</p>
<pre><code>[
  {
    &quot;designation&quot;:&quot;419880 (2011 AH37)&quot;,
    &quot;discovery_date&quot;:&quot;2011-01-07T00:00:00.000&quot;,
    &quot;h_mag&quot;:19.7,
    &quot;moid_au&quot;:0.035,
    &quot;q_au_1&quot;:0.84,
    &quot;q_au_2&quot;:4.26,
    &quot;period_yr&quot;:4.06,
    &quot;i_deg&quot;:9.65,
    &quot;pha&quot;:true,
    &quot;orbit_class&quot;:&quot;Apollo&quot;
  }
</code></pre>
<p>I'm trying to show the maximum &quot;h_mag&quot; value for all of the data points that I have isolated with the following function:</p>
<pre><code>function filterByPHA (neowise){
  for (let i = 0; i &lt; neowise.length; i++) {
    let neo = neowise[i];
    if (neo.pha === true) {
      console.log(`${neo.designation}: ${neo.orbit_class}`);
    }
  }
}
filterByPHA(neowise);
</code></pre>
<p>The function works.</p>
<p>I have tried the following:</p>
<pre><code>const maxMOID = Math.max(...filterByPHA(neowise).map(function(x){
  return x.moid_au;
}));

console.log(maxMOID);
</code></pre>
<p>What I think this code should be doing is 'applying' Math.max to my function ('filterByPHA(neowise)' and 'mapping' it onto a new function that returns the maximum moid value for the array inside 'filterByPHA(neowise)'. However, the .map is giving me a 'TypeError: Cannot read properties of undefined (reading 'map')'. The 'x' is just a placeholder. I'm not actually clear on what I need to be putting there to make this code work, or if even it could be a functional bit of code.</p>
","2024-02-20 09:56:48","0","Question"
"78025470","","how to make fputs function prompt wrong input and ask user to input again...program stopping instead of request for new input","<p>i'm doing calculation for result. user will input 3 type of result that is pass, fail &amp; invalid. I need to have 1 more checking that is when user input result other than integer value it will be count as wrong input. By using fputs function, how can i ask user to input integer data only ? instead of stopping, program will ask user to input again until user input the correct data.</p>
<pre><code>#include &lt;stdio.h&gt;

int main(void) {
    int test_result;
    int pass;
    int fail;
    int invalid;

    for (int trainee_total; trainee_total &lt; 6; trainee_total++) {
        printf(&quot;Enter Result (Pass=1 Fail=2) :&quot;);

        if (scanf(&quot;%d&quot;, &amp;test_result) != 1) {
            fputs(&quot;Wrong input\n&quot;, stderr);
            return 1;
        }

        if (test_result == 1) {
            pass = pass + 1;
        } else if (test_result == 2) {
            fail = fail + 1;
        } else {
            invalid = invalid + 1;
        }
    }

    printf(&quot;The number of participants that passed is :  %d\n&quot;, pass);
    printf(&quot;The number of participants that failed is :  %d\n&quot;, fail);
    printf(&quot;Invalid input is :  %d\n&quot;, invalid);
}
</code></pre>
","2024-02-20 07:36:14","0","Question"
"78023917","78023800","","<pre><code>def myFunction(*args):

    total_lists = len(args[0])
    lst = []
    
    for i in range(total_lists):
        sub = []
        for j in range(len(args)):
            sub.append(args[j][i])
        lst.append(sub)

    return lst
        
r =  myFunction([1,2,3],[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;])
print(r) #Output: [[1, 'a'], [2, 'b'], [3, 'c']]

r = myFunction([1,2,3],[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;])
print(r) #Output:[[1, 'a', 'one'], [2, 'b', 'two'], [3, 'c', 'three']]
</code></pre>
","2024-02-19 22:39:09","1","Answer"
"78023866","78023800","","<p>If you want the output as strings as in your example you could use:</p>
<pre><code>def myFunction(*args):
    z = zip(*args)
    for v in z:
        print(','.join((str(i) for i in v)))

myFunction([1,2,3],[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;])
</code></pre>
<p>to give</p>
<pre><code>1,a,one
2,b,two
3,c,three
</code></pre>
","2024-02-19 22:22:33","2","Answer"
"78023821","78023800","","<p>Use <code>zip(*args)</code>:</p>
<pre class=""lang-py prettyprint-override""><code>def my_function(*args):
    for p in zip(*args):
        print(list(p))


my_function([1, 2, 3], [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [1.1, 1.2, 1.3])
</code></pre>
<p>Prints:</p>
<pre><code>[1, 'a', 1.1]
[2, 'b', 1.2]
[3, 'c', 1.3]
</code></pre>
","2024-02-19 22:12:17","3","Answer"
"78023800","","Python dynamic argument processing inside fucntion","<p>I have following code that is not working.</p>
<pre><code>def myFunction(*args):

    total_lists = len(args)

    for n in range(total_lists):
        print(list(zip(args[0], args[1])))


myFunction([1,2,3],[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;])
</code></pre>
<p>Basically function receives unknown number of arguments as <code>lists</code> with equal number of values, need to output every list line by line like so</p>
<pre><code>1,a
2,b
3,c
</code></pre>
<p>if called with three arguments then</p>
<pre><code>myFunction([1,2,3],[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;], [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;])
</code></pre>
<p>should output</p>
<pre><code>1,a,one
2,b,two
3,c,three
</code></pre>
<p>I don't have control how many lists will be passed to function so i can't mix them prior to sending, only can process inside function, how i make it work dynamically?</p>
","2024-02-19 22:07:29","0","Question"
"78023103","78023085","","<p>You've already implemented the logic to calculate the tip based on the amount. Your last hurdle is to implement a loop to iterate over the amounts in <code>bills</code>, run the calculation and store the result in <code>tips</code>.</p>
<p>To do that you can use a <code>for</code> loop, along with the <code>push()</code> method, like this:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function calculateTip(bill) {
  if (bill &gt;= 50 &amp;&amp; bill &lt;= 100) {
    return bill * 0.15;
  } else {
    return bill * 0.20;
  }
}

const bills = [125, 555, 44];
const tips = [];

for (let i = 0; i &lt; bills.length; i++) {
  tips.push(calculateTip(bills[i]));
}

console.log(tips);</code></pre>
</div>
</div>
</p>
<p>If you wanted to take this a step further, the <code>calculateTip()</code> method can be simplified to a one-liner, and you can use the <code>map()</code> method to iterate through the values array, and create a new array with the outputs:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const calculateTip = bill =&gt; bill * (bill &gt;= 50 &amp;&amp; bill &lt;= 100 ? 0.15 : 0.2);
const bills = [125, 555, 44];
const tips = bills.map(calculateTip);

console.log(tips);</code></pre>
</div>
</div>
</p>
","2024-02-19 19:30:19","0","Answer"
"78023085","","How to Complete a Function to Calculate Tips for an Array of Bills in JavaScript","<p>I'm working on a JavaScript function to calculate tips based on the total amount of a bill. The goal is to calculate a 15% tip for bills between 50 and 100 units (inclusive), and a 20% tip for all other bills. After calculating the tips, I want to store them in an array corresponding to a predefined array of bill amounts. However, I'm having trouble figuring out how to apply my calculateTip function to each bill in my array of bills and then store the resulting tips in another array.</p>
<p>Here is the code so far:</p>
<pre><code>function calculateTip(bill) {
    if (bill &gt;= 50 &amp;&amp; bill &lt;= 100) {
        return bill * 0.15;
    } else {
        return bill * 0.20;
    }
}

const bills = [125, 555, 44];
const tips = [];

</code></pre>
","2024-02-19 19:26:35","0","Question"
"78022913","78022626","","<p><strong>Edit</strong></p>
<p>Here is an option for any number of &quot;post&quot; measures:</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)

DATA |&gt;
  filter(!endsWith(Variables, &quot;baseline&quot;)) |&gt;
  mutate(Variables2 = sub(&quot;post\\d+&quot;, &quot;baseline&quot;, Variables),
         Variables = paste0(&quot;(&quot;, Variables, &quot; - &quot;, Variables2, &quot;)&quot;)) |&gt;
  right_join(filter(DATA, endsWith(Variables, &quot;baseline&quot;)), 
             by = c(&quot;Variables2&quot; = &quot;Variables&quot;), suffix = c(&quot;_post&quot;, &quot;_pre&quot;)) |&gt;
  summarize(Variables, Row = list(c(Row_post, -Row_pre)), .by = Variables) |&gt;
  tibble::deframe()
# $`(advanced_post1 - advanced_baseline)`
# [1]  4 -1
# 
# $`(beginner_post1 - beginner_baseline)`
# [1]  5 -2
# 
# $`(intermediate_post1 - intermediate_baseline)`
# [1]  6 -3
# 
# $`(advanced_post2 - advanced_baseline)`
# [1]  7 -1
# 
# $`(beginner_post2 - beginner_baseline)`
# [1]  8 -2
# 
# $`(intermediate_post2 - intermediate_baseline)`
# [1]  9 -3
</code></pre>
<hr />
<pre class=""lang-r prettyprint-override""><code>library(tidyr)
library(dplyr)

DATA |&gt; 
  separate_wider_delim(Variables, &quot;_&quot;, names = c(&quot;x&quot;, &quot;y&quot;)) |&gt;
  pivot_wider(names_from = x, values_from = Row, names_glue = &quot;({x}_post1 - {x}_baseline)&quot;) |&gt;
  arrange(desc(y)) |&gt;
  mutate(across(-1, \(x) x * c(1, -1)), .keep = &quot;none&quot;) |&gt; 
  as.list()
# $`(advanced_post1 - advanced_baseline)`
# [1]  4 -1
# 
# $`(beginner_post1 - beginner_baseline)`
# [1]  5 -2
# 
# $`(intermediate_post1 - intermediate_baseline)`
# [1]  6 -3
</code></pre>
","2024-02-19 18:47:36","2","Answer"
"78022626","","Create a named list of numerics from a data.frame in R","<p>I want to create a named list of numerics from my <code>DATA</code>, such that all <code>Variables</code> ending in <code>baseline</code> get subtracted from their corresponding <code>Variables</code> ending in <code>post1</code>.</p>
<p>For example, the first element's <em>name</em> will be <code>&quot;beginner_post1 - beginner_baseline&quot;</code>.</p>
<p>For example, the first element's <em>numerics</em> will be <code>c(5,-2)</code> meaning they are on <code>Row 5</code> and <code>Row 2</code>.</p>
<p>Is it possible to automate this process to achieve my <em><strong><code>Desired_output</code> (below)</strong></em>?</p>
<pre><code>DATA &lt;- read.table(header=TRUE,text =
&quot;
Row           Variables
1     advanced_baseline
2     beginner_baseline
3 intermediate_baseline
4        advanced_post1
5        beginner_post1
6    intermediate_post1
7        advanced_post2
8        beginner_post2
9    intermediate_post2&quot;)


Desired_output = 
list(&quot;(    beginner_post1 - beginner_baseline    )&quot;= c(5,-2),
     &quot;(intermediate_post1 - intermediate_baseline)&quot;= c(6,-3),
     &quot;(    advanced_post1 - advanced_baseline    )&quot;= c(4,-1),
     &quot;(    beginner_post2 - beginner_baseline    )&quot;= c(8,-2),
     &quot;(intermediate_post2 - intermediate_baseline)&quot;= c(9,-3),
     &quot;(    advanced_post2 - advanced_baseline    )&quot;= c(7,-1)
     )
</code></pre>
","2024-02-19 17:48:46","1","Question"
"78022549","78022385","","<p>The idea behind the key function in sorting is that the key function is the criteria that the sort function will use to sort. Most of the times there is a default sorting criteria. For string, it is usually alphabetical sorting, but you can specify your own sorting criteria as you are doing in your code.</p>
<p>For you particular case, you are defining a sorting key that sorts by length. However, in the cases where two strings have the same length, <code>string.casefold()</code> will be used as a second criteria to decide which of the same-length strings go first. In other words, that will sort the same-length string alphabetically.</p>
","2024-02-19 17:35:48","0","Answer"
"78022460","78022385","","<p>The entire tuple returned by <code>length_and_alphabetical</code> is treated as a single key. So when <code>sorted</code> has to compare <code>&quot;Salmon&quot;</code> and <code>&quot;Goldenrod&quot;</code>, it <em>really</em> compares <code>(6, &quot;salmon&quot;)</code> to <code>(9, &quot;goldenrod&quot;)</code>. Tuples are ordered lexicographically, just like strings, except the &quot;letters&quot; involved are elements of the tuple. So since <code>6 &lt; 9</code> is true, <code>(6, &quot;salmon&quot;) &lt; (9, &quot;goldenrod&quot;)</code> is <em>also</em> true, and <code>sorted</code> thus considers <code>&quot;Salmon&quot;</code> to precede <code>&quot;Goldenrod&quot;</code> in the sorted list.</p>
<p>When comparing <code>&quot;Salmon&quot;</code> and <code>&quot;Purple&quot;</code>, the function compares <code>(6, &quot;purple&quot;)</code> and <code>(6, &quot;salmon&quot;)</code>. Since <code>6</code> equals <code>6</code> and <code>&quot;purple&quot;</code> is less than <code>&quot;salmon&quot;</code>, <code>(6, &quot;purple&quot;)</code> is considered smaller and <code>&quot;Purple&quot;</code> comes first in the sorted order.</p>
<hr />
<p>Python 2 used to support <em>comparison</em> functions, which let you compare two values directly, rather than having to map both to some new value to be compared. While <code>key</code> is more efficient (it guarantees that the <code>key</code> function is called at most once per key), comparison functions are sometimes more direct and easy to follow. Fortunately, you can automatically convert any comparison function to an appropriate key using <code>functools.cmp_to_key</code>.</p>
<pre><code># -1 means x &lt; y
# 0 means x == y
# 1 means x &gt; y
def compare_colors(x, y):
    if len(x) &lt; len(y):
        return -1
    elif len(x) &gt; len(y):
        return 1
    elif x.casefold() &lt; y.casefold():
        return -1
    elif x.casefold() &gt; y.casefold():
        return 1
    else:
        return 0

colors_by_length = sorted(colors, key=cmp_to_key(compare_colors))
</code></pre>
<p><code>compare_colors</code> would be a little simpler to define usingg the old built-in <code>cmp</code> function:</p>
<pre><code># def cmp(x, y):
#     return -1 if x &lt; y else 1 if x &gt; y else 0

def compare_colors(x, y):
    return cmp(len(x), len(y)) or cmp(x.casefold(), y.casefold())
</code></pre>
","2024-02-19 17:23:21","3","Answer"
"78022454","78022385","","<p>When Python compares two tuples, it compares them element by element.  If the first element of one is unequal to the first element of the other, it returns the result of that comparison.  Then it does the same for each succeeding element, stopping when it reaches one that's unequal.</p>
<p>In your case only strings of equal length will get to the comparison of the strings themselves.</p>
<p>If the elements are types that are not comparable, you'll get an exception.</p>
","2024-02-19 17:23:04","1","Answer"
"78022426","78022385","","<p>sort will use the first element of the tuple in ascending order but the function will return tuple of tuple as you mentioned.</p>
","2024-02-19 17:18:29","-2","Answer"
"78022385","","Python sorted function key","<p>Please help me understand this Python3 code:</p>
<pre><code>def length_and_alphabetical(string):
    &quot;&quot;&quot;Return sort key: length first, then case-normalized string.&quot;&quot;&quot;
    return (len(string), string.casefold())

colors = [&quot;Goldenrod&quot;, &quot;Purple&quot;, &quot;Salmon&quot;, &quot;Turquoise&quot;, &quot;Cyan&quot;]
colors_by_length = sorted(colors, key=length_and_alphabetical)
</code></pre>
<p>I understand what it's doing, but I don't understand how it's working.
The <code>length_and_alphabetical</code> function returns a tuple which contains two items, an <code>int</code> and a <code>string</code>, this tuple is used for comparison by the <code>sorted</code> function.</p>
<p>So for example the function may return <code>(9, &quot;Goldenrod&quot;)</code>, but which of these is being used as the key? There's two options here, and you can't do a direct comparison on them as they're different object types.</p>
<p>I've been looking at the <a href=""https://docs.python.org/3/library/functions.html#sorted"" rel=""nofollow noreferrer"">official documentation</a> and I'm none the wiser.</p>
<p>Thanks.</p>
","2024-02-19 17:10:01","-1","Question"
"78019118","78014921","","<p>I believe, you can use Python's in-built module - <code>trace</code>, It helps you trace function calls, exceptions, returns, line-by-line execution.</p>
<p>For Example -</p>
<pre><code>import trace

tracer_call = trace.Trace(trace=1, count=1)
tracer_call.runfunc(tokenizer.tokenize('Hello World', some_parameter='some_value'))

output_res = tracer_call.results()
output_res.write_results()
</code></pre>
<p><a href=""https://docs.python.org/3/library/trace.html"" rel=""nofollow noreferrer"">You can refer to this</a></p>
","2024-02-19 08:01:37","-1","Answer"
"78018952","78016198","","<p>Based off  @Jmb's answer, you can also pass a slice of boxed trait objects to a <code>sum()</code> function:</p>
<p><code>Cargo.toml</code></p>
<pre class=""lang-ini prettyprint-override""><code>[package]
name = &quot;dyn_arg&quot;
version = &quot;0.1.0&quot;
edition = &quot;2021&quot;

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
</code></pre>
<p><code>src/lib.rs</code></p>
<pre class=""lang-rust prettyprint-override""><code>pub struct Oranges {
    i: i32,
}
pub struct Apples {
    i: i32,
}
pub struct Chairs {
    i: i32,
}

impl Apples {
    #[must_use]
    pub const fn new(i: i32) -&gt; Self {
        Self { i }
    }
}

impl Oranges {
    #[must_use]
    pub const fn new(i: i32) -&gt; Self {
        Self { i }
    }
}

impl Chairs {
    #[must_use]
    pub const fn new(i: i32) -&gt; Self {
        Self { i }
    }
}

pub trait Countable {
    fn count(&amp;self) -&gt; i32;
}

impl Countable for Oranges {
    fn count(&amp;self) -&gt; i32 {
        self.i
    }
}

impl Countable for Apples {
    fn count(&amp;self) -&gt; i32 {
        self.i
    }
}

impl Countable for Chairs {
    fn count(&amp;self) -&gt; i32 {
        self.i
    }
}

#[must_use]
pub fn sum(countables: &amp;[Box&lt;dyn Countable&gt;]) -&gt; i32 {
    countables.iter().map(|countable| countable.count()).sum()
}
</code></pre>
<p><code>src/main.rs</code></p>
<pre class=""lang-rust prettyprint-override""><code>use dyn_arg::{sum, Apples, Countable, Oranges};

fn main() {
    let apples = Apples::new(42);
    let oranges = Oranges::new(1337);
    let s = sum(&amp;[
        Box::new(apples) as Box&lt;dyn Countable&gt;,
        Box::new(oranges) as Box&lt;dyn Countable&gt;,
    ]);
    println!(&quot;Sum: {s}&quot;);
}
</code></pre>
","2024-02-19 07:24:08","1","Answer"
"78017199","78017023","","<p>You should make yourself familiar with using a <a href=""https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems"">debugger</a>, that allows you to step through your code line by line. Then you will notice a few points:</p>
<ol>
<li><p>how is <code>let output = [1, 2, ];</code> an &quot;empty array&quot;?</p>
</li>
<li><p>You don't have any loop, and everytime you call your function, you start over with <code>let num = 1</code></p>
</li>
<li><p><code>num = num++;</code> is quite a &quot;dangerous&quot; construct for a beginner to use and interpret (and sometimes also for experienced developers) and will most certainly not do what you expect it to do (ie <code>num</code> won't be changed after that line.) And in other C like languages, that might even be undefined behaviour.</p>
</li>
<li><p>You are incrementing your <code>num</code> in every <code>if</code>. Probably not what you want to do.</p>
</li>
<li><p>Consider <code>num</code> to be a value like <code>15</code> (not that it can ever reach that value with your code, but lets just imagine). So you should somehow arrive in your last <code>if</code>, but you never will, because you already <code>return</code> from your first <code>if</code>, because <code>num</code> is divisible by 3.</p>
</li>
<li><p>And finally, <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push"" rel=""nofollow noreferrer""><code>Array.push</code></a> does not return the array, but just the length of the array after the new element was added. So probably, not what you expect. That's why your code is outputting <code>4</code> instead of an array ...</p>
</li>
</ol>
<p>I won't give you working code, because that would (in my opinion) defeat the purpose of a the course. But if you take into account, the points I gave you above, you should be able to solve that assignment.</p>
","2024-02-18 19:50:17","0","Answer"
"78017023","","Function to push numbers to an array. If each number that's being pushed is increasing by one and also checking if the number % by 3, 5, 3 and 5 == 0?","<p>Good day to you all. I'm new to JavaScript and while following an online course, I encountered a problem that I need to solve. Please bear in mind that I'll need answers to be as lay/explicit as you can.</p>
<p>The function is supposed to add number one to an empty array at first and, keep pushing other integers that's steadily increasing (++) by 1. Before pushing, it'll check if it's divisible without remainder by 3, 5, 3 and 5 and would return a string if it support the conditional.</p>
<p>I'm looking forward to the answers I'm hoping to get as I think my lack of basics of programming language is hindering me from solving this.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function fizzBuzz() {
    let output = [1, 2, ]; // An empty array
    let num = 1; // The first num that'll be pushed to the array
    num = num++; // Increasing the value of the variable
    output.push(num); // Pushing the number to the array
    
    //Conditionals
    if (num++ % 3 === 0) {      
        return output.push(""Fizz"");
    } else if (num++ % 5 === 0) {           
        return output.push(""Buzz"");
    } else if (num++ % 3 === 0 &amp;&amp; num++ % 5 === 0) {
        return output.push(""FizzBuzz"");
    } else {
        return output.push(num++);
    }
}
console.log(fizzBuzz()); </code></pre>
</div>
</div>
</p>
<p>This is what I've tried so far and it's even confusing me the more I think about it.</p>
","2024-02-18 19:00:35","-3","Question"
"78016252","78016198","","<p>Two possibilities:</p>
<h1>Trait with a <code>count</code> method</h1>
<p>Traits can't declare or access fields, so you need to have a <code>count</code> method that you implement for each type of fruit that returns the correct value:</p>
<pre><code>trait Fruit {
    fn count (&amp;self) -&gt; i32;
}

impl Fruit for Apples {
    fn count (&amp;self) -&gt; i32 { self.i }
}

impl Fruit for Oranges {
    fn count (&amp;self) -&gt; i32 { self.i }
}

fn count&lt;T, S&gt;(a: &amp;T, o: &amp;S) -&gt; i32
where T: Fruit, S: Fruit
{
    a.count() + o.count()
}  
</code></pre>
<p><a href=""https://play.rust-lang.org/?version=stable&amp;mode=release&amp;edition=2021&amp;gist=ae324f3ebaca936ebd38805b08eba624"" rel=""nofollow noreferrer"">Playground</a></p>
<h1><code>enum</code> with a <code>count</code> method to avoid the combinatorial mess</h1>
<pre><code>enum Fruit{
    O(Oranges),
    A(Apples)
}

impl Fruit {
    fn count (&amp;self) -&gt; i32 {
        match self {
            Fruit::O (o) =&gt; o.i,
            Fruit::A (a) =&gt; a.i,
        }
    }
}

fn count(a: &amp;Fruit, b: &amp;Fruit) -&gt; i32
{
    a.count() + b.count()
}
</code></pre>
<p><a href=""https://play.rust-lang.org/?version=stable&amp;mode=release&amp;edition=2021&amp;gist=674a29cc54c5fd61574701c789ec6b71"" rel=""nofollow noreferrer"">Playground</a></p>
<h1>Avoiding repetition</h1>
<p>If you have a lot of fruit types, you can avoid repeated code for either solution with macros, e.g.:</p>
<pre><code>trait Fruit {
    fn count (&amp;self) -&gt; i32;
}

macro_rules! impl_fruit {
    ($($f:ident),*) =&gt; {
        $(
            impl Fruit for $f {
                fn count (&amp;self) -&gt; i32 { self.i }
            }
        )*
    }
}

impl_fruit!(Apples, Oranges);

fn count&lt;T, S&gt;(a: &amp;T, o: &amp;S) -&gt; i32
where T: Fruit, S: Fruit
{
    a.count() + o.count()
}  
</code></pre>
<p><a href=""https://play.rust-lang.org/?version=stable&amp;mode=release&amp;edition=2021&amp;gist=5735407803e9816f8cb58a8a515ca3f1"" rel=""nofollow noreferrer"">Playground</a></p>
","2024-02-18 15:09:19","3","Answer"
"78016198","","Function to accept a set of types","<p>Suppose I have the following <code>structs</code>:</p>
<pre class=""lang-rust prettyprint-override""><code>struct Oranges { i: i32 }
struct Apples { i: i32 }
struct Chairs { i: i32 }
</code></pre>
<p>I can define a set of <code>Apples</code> and <code>Oranges</code> and count them up as a bunch of fruits.</p>
<pre class=""lang-rust prettyprint-override""><code>let o = Oranges{i: 4};
let a = Apples{i: 3};
let fruits = o.i + a.i;
println!(&quot;I have {} fruits&quot;, fruits)  // I have 7 fruits.
</code></pre>
<p>If I write a function I can do this dynamically, but this is restrictive becuase argument 1 must be <code>Apples</code> and argument 2 must be <code>Oranges</code>.</p>
<pre><code>fn count(a: &amp;Apples, o: &amp;Oranges) -&gt; i32 {
    a.i + o.i
}
println!(&quot;I have {} fruits&quot;, count(&amp;a, &amp;o));  // I have 7 fruits.
</code></pre>
<h2>How do I write <code>count</code> function that accepts either <code>Apples</code> or <code>Oranges</code> as types?</h2>
<hr />
<p>I realise that this must seem quite trivial to one experienced in Rust. I have introduced <code>Chairs</code> as a comparator that is not allowed.</p>
<p>I have tried to implement <code>traits</code> with compiler errors:</p>
<pre><code>trait Fruit {}
impl Fruit for Apples {}
impl Fruit for Oranges {}

fn count&lt;T, S&gt;(a: &amp;T, o: &amp;S) -&gt; i32
where T: Fruit, S: Fruit
{
    a.i + o.i
}           ^ unknown field error[E0609]
</code></pre>
<p>I have also tried to use <code>enums</code> but that just seems to create such a combinatorial mess that I assume there is a much better way.</p>
<pre class=""lang-rust prettyprint-override""><code>enum Fruit{
    O(Oranges),
    A(Apples)
}

fn count(a: &amp;Fruit, b: &amp;Fruit) -&gt; i32
{
    match (a, b) {
        (Fruit::O(x), Fruit::O(y)) =&gt; x.i + y.i,
        (Fruit::O(x), Fruit::A(y)) =&gt; x.i + y.i,
        (Fruit::A(x), Fruit::O(y)) =&gt; x.i + y.i,
        (Fruit::A(x), Fruit::A(y)) =&gt; x.i + y.i,
    }
}
println!(&quot;I have {} fruits&quot;, count(&amp;Fruit::A(a), &amp;Fruit::O(o)));  // I have 7 fruits.
</code></pre>
","2024-02-18 14:49:36","-1","Question"
"78015029","78014985","","<p>To resolve this issue, you need to check if the round count is equal to 5 immediately after the playerChoice() function is called, and then call the endGame() function if the condition is met.</p>
<pre><code>function playerChoice(e){
        playerSelection= e.target.innerHTML;
        playerid.innerHTML =playerSelection;
        console.log(&quot; playerSelection&quot;, playerSelection);
        computerChoice();
        playGame();
        
        if (round === 5) {
           endGame(computerScore, playerScore);
        }
}
</code></pre>
<p>With this change, the endGame() function will be called immediately after the 5th round is completed, without requiring an additional button click.</p>
","2024-02-18 08:09:47","0","Answer"
"78015013","78014985","","<p>In <code>playGame</code>, move the <code>endGame</code> call inside the <code>if</code> block, and make it conditional to <code>round</code> being 5 after you've increased it. The <code>else</code> block means the game <em>was</em> already over, and nothing should happen.</p>
<pre><code>    if(round &lt; 5){
        let result = playRound(computerSelection,playerSelection);
        console.log(&quot;result&quot;,result);
        if(result == &quot;computer won&quot;){
            computerScore++;
            computermarks.innerHTML = computerScore;
            console.log(&quot;computer Score&quot;,computerScore);
        }else if(result == &quot;player won&quot;){
             playerScore++;
             playermarks.innerHTML = playerScore;
            console.log(&quot;playerscore&quot;,playerScore);
        }
        round++;
        // Check whether this was the last round:
        if (round === 5) {
            endGame(computerScore,playerScore);
        }
    } // No else-case
</code></pre>
<p>Still, after this correction, the buttons can still be clicked, and you'd get into a continuation of the game that was already finished. One way to deal with that is to consider the next button click the first round of a <em>new</em> game. So at that button click the game should be &quot;reset&quot;. You could for instance start the <code>playGame</code> function with this code:</p>
<pre><code>    if (round === 5) { // Game was already over. Start a new game:
        playerScore = 0;
        computerScore = 0;
        round = 0;        
        playermarks.innerHTML = &quot;&quot;;
        computermarks.innerHTML = &quot;&quot;;
        res.innerHTML = &quot;&quot;;
    }
</code></pre>
<p>... and then have it followed by the code you already had (with the suggested correction).</p>
","2024-02-18 08:04:09","1","Answer"
"78014985","","Need to display result after end of round 5 without clicking event. Rock Paper Scissor game","<p>I am trying to Build Rock paper scissor game in this everything is working fine. But the issue is after the end of 5 rounds the endGame function is not executing immediately it is showing result after i click on buttons again. The result should display after the end of 5 round without me clicking the button again.</p>
<pre><code>const choices = [&quot;Rock&quot;,&quot;Paper&quot;,&quot;Scissor&quot;];
const buttons = document.querySelectorAll(&quot;button&quot;);
let playerid = document.getElementById(&quot;playerid&quot;); 
let computerid = document.getElementById(&quot;computerid&quot;);
const playermarks = document.getElementById(&quot;playerscore&quot;);
const computermarks = document.getElementById(&quot;computerscore&quot;);
const res = document.getElementById(&quot;res&quot;);
let computer;
let computerSelection;
let playerSelection;
//computer choice
function computerChoice(){
    computerSelection = choices[Math.floor(Math.random()*choices.length)];
    computerid.innerHTML = computerSelection;
    console.log(&quot;computerSelection&quot;,computerSelection);
}

buttons.forEach((btn) =&gt; {
    btn.addEventListener(&quot;click&quot;,(playerChoice));
})
//player choice
function playerChoice(e){
   playerSelection= e.target.innerHTML;
            playerid.innerHTML =playerSelection;
            console.log(&quot; playerSelection&quot;, playerSelection);
            computerChoice();
            playGame();
            
}


//Round
function playRound(computerSel,playerSel){

    return (playerSel == computerSel) ? &quot;Its a Tie&quot; :
    ((computerSel == &quot;Rock&quot; &amp;&amp; playerSel == &quot;Paper&quot;) ||
    (computerSel == &quot;Paper&quot; &amp;&amp; playerSel == &quot;Rock&quot;) ||
    (computerSel == &quot;Scissor&quot; &amp;&amp; playerSel == &quot;Rock&quot;)) ? &quot;computer won&quot; : &quot;player won&quot;;
}

// 5 Round



let playerScore = 0;
let computerScore = 0;
let round=0
function playGame(){
    
   
    if(round &lt; 5){
        let result = playRound(computerSelection,playerSelection);
        console.log(&quot;result&quot;,result);
        if(result == &quot;computer won&quot;){
            computerScore++;
            computermarks.innerHTML = computerScore;
            console.log(&quot;computer Score&quot;,computerScore);
        }else if(result == &quot;player won&quot;){
             playerScore++;
             playermarks.innerHTML = playerScore;
            console.log(&quot;playerscore&quot;,playerScore);
        }
        round++;
    }else{
        endGame(computerScore,playerScore);
    }
    
    }
    
function endGame(cs,ps){
    if(cs &gt; ps){
        res.innerHTML = &quot;The Winner is Computer&quot;;
        console.log(&quot;The Winner is Computer&quot;);
    }else if (cs &lt; ps){
        console.log(&quot;The Winner is Computer&quot;);
        res.innerHTML = &quot;The Winner is Computer&quot;;
    }else{
        console.log(&quot;Its a tie&quot;)
        res.innerHTML = &quot;Its a tie&quot;;
    }
}

</code></pre>
<p>I have also tried with else if(round == 5) and else if( round == 5) or with 4 but still it is showing result after i click on button. With for loop i was facing lot of issues hence tried with if else.</p>
","2024-02-18 07:53:36","1","Question"
"78014921","","Python: trace all previous call stack of a library for debug purpose","<p>Is there any elegant and easy way to trace all the call stacks in Python of a library for debugging or code understanding purposes?</p>
<p>Suppose there is a very big huge library that I'm importing and need to understand the code of it.</p>
<pre><code>from xyz import tokenizer

start_call_stack_trace()
tokenizer.tokenize('Hello World', some_parameter='some_value')
stop_call_stack_trace()
</code></pre>
<p>Now I want to get a list of all the functions with parameter values &amp; return values (if possible!) that were called in a chain while invoking <code>tokenizer.tokenize()</code>.</p>
<p>I was wondering if there is any elegant way to get it and understand the code of XYZ library quickly?</p>
","2024-02-18 07:32:05","1","Question"
"78013410","78013102","","<p>Every time the page loads, PHP is going to go through your whole code, in the order it's written. It won't remember where it got to last time, or jump to a particular part.</p>
<p>Here's your description of the intention:</p>
<ol>
<li>if the deal button is pressed ...</li>
<li>... those 3 numbers go in the inBetween function</li>
<li>... then should echo</li>
<li>... then create new random numbers</li>
</ol>
<p>But here's what your code does:</p>
<ol>
<li><code>$num1 = rand(0, 9); ...</code></li>
<li><code>if ($choice == &quot;deal&quot;) { ...</code></li>
<li><code>echo isBetween($num1, $num2, $num3);</code></li>
<li><code>echo $num1 . &quot;&lt;br /&gt;&quot;; ...</code></li>
</ol>
<p>Clearly these don't match, step 4 of your intended list has become step 1. To move it around, you need some other place to get <code>$num1</code> etc from - the obvious place being the same place you already get the number of rounds, the session.</p>
<p>So we can expand the outline a bit:</p>
<ol>
<li>if the deal button is pressed ...</li>
<li>... retrieve the previous numbers from the session</li>
<li>... those 3 numbers go in the inBetween function</li>
<li>... then should echo</li>
<li>... then create new random numbers</li>
<li>... and store the new numbers in the session</li>
</ol>
","2024-02-17 19:22:37","0","Answer"
"78013102","","Why is it that the inBetween function uses the current numbers when it should use the previous ones","<p>The goal is that the program creates 3 randomly generated numbers then if the deal button is pressed those 3 numbers go in the inBetween function then should echo then create new random numbers but what's happening is the inBetween function uses the current generated numbers instead of the previous one</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;?php
    session_start();

    function isBetween($num1, $num2, $num3)
    {
        $numbers = [$num1, $num2];

        if ($num3 &gt; min($numbers) &amp;&amp; $num3 &lt; max($numbers)) {
            return $num3 . &quot; Is Between &quot; . min($numbers) . &quot; and &quot; . max($numbers) . &quot;&lt;br/&gt;&quot;;
        } else {
            return $num3 . &quot; Is Not Between &quot; . min($numbers) . &quot; and &quot; . max($numbers) . &quot;&lt;br/&gt;&quot;;
        }
    }

    $num1 = rand(0, 9);
    $num2 = rand(0, 9);
    $num3 = rand(0, 9);

    if (isset($_POST['btn1'])) {

        if ($_SESSION['round'] &gt;= 10) {
            echo &quot;Game Over&quot;;
            session_destroy();
            exit;
        }

        $choice = $_POST['btn1'];

        if ($choice == &quot;deal&quot;) {
            echo isBetween($num1, $num2, $num3);
            echo &quot;You Pressed Deal &lt;br /&gt;&quot;;
        } else {
            echo &quot;You Pressed No Deal &lt;br /&gt;&quot;;
        }

        $_SESSION['round']++;
    } else {
        $_SESSION['round'] = 1;
    }

    echo $num1 . &quot;&lt;br /&gt;&quot;;
    echo $num2 . &quot;&lt;br /&gt;&quot;;
    echo $num3 . &quot;&lt;br /&gt;&quot;;
    ?&gt;

    &lt;form method='POST'&gt;
        &lt;button type=&quot;submit&quot; class=&quot;btnDeal&quot; name=&quot;btn1&quot; value=&quot;deal&quot;&gt;Deal&lt;/button&gt;
        &lt;button type=&quot;submit&quot; class=&quot;btnNodeal&quot; name=&quot;btn1&quot; value=&quot;nodeal&quot;&gt;No Deal&lt;/button&gt;
        &lt;p&gt;Round &lt;?php echo $_SESSION['round'] ?&gt;&lt;/p&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Dunno what to do next</p>
","2024-02-17 17:44:08","0","Question"
"78012698","78012678","","<pre><code>void (*exec)(struct test_t*)
</code></pre>
<p>This makes <code>exec</code> a pointer to a <code>void</code> function that takes a <code>struct test_t*</code> as a parameter .</p>
<blockquote>
<p>... <code>test.exec = fcn1; test.exec(&amp;test);</code> the function gets assigned to that struct member and that in the brackets the function parameter gets passed in order for the function to be executed. But how is that set to actually happen in the variable definition?</p>
</blockquote>
<ul>
<li><code>test.exec</code> is assigned to point at <code>fcn1</code>.</li>
<li>The pointed out function is then called with <code>&amp;test</code> as an argument. It has the same effect as calling the function directly:
<pre class=""lang-c prettyprint-override""><code>fcn1(&amp;test);
</code></pre>
</li>
</ul>
","2024-02-17 15:46:43","5","Answer"
"78012695","78012678","","<p>This line:</p>
<pre><code>void (*exec)(struct test_t*)
</code></pre>
<p>Declares <code>exec</code> as a <strong>function pointer</strong>.  This pointer points to a function that takes a single parameter of type <code>struct test_t*</code> and has a return type of <code>void</code>.</p>
<p>When you do this:</p>
<pre><code>test.exec = fcn1;
</code></pre>
<p>The function <code>fcn1</code> is first automatically adjusted to a pointer to that function, and that function pointer is assigned to <code>test.exec</code>.  This function is declared as <code>void fcn1(test_t* test);</code>, so a pointer to this function has the same type as the <code>exec</code> member of the struct.</p>
<p>Then when you do this:</p>
<pre><code>test.exec(&amp;test); 
</code></pre>
<p>You're executing the function pointed to by <code>test.exec</code> and passing it <code>&amp;test</code> as a parameter.</p>
<p>Note also that there's no requirement that the parameter passed to this function is <code>&amp;test</code> specifically.  It can a pointer to any struct of type <code>struct test_t</code>.  This is just a way of emulating a &quot;this&quot; pointer in C similar to how C++ works, but requires the programmer to call functions in a certain way for it to work.</p>
","2024-02-17 15:46:25","5","Answer"
"78012678","","Why does casting a struct member to its struct pointer type work?","<p>I'm not sure of the terminology to explain this correctly, but I have isolated the code into a file on it's own to kind of understand how it works, and I'm hoping someone can further help me with this!</p>
<p>The main issues I have understanding this is why does <code>void (*exec)(struct test_t*);</code> work exactly? A struct member casts itself as the struct pointer? That is very confusing to me.</p>
<p>Also, in the switch-case statement I understand that in these lines <code>test.exec = fcn1; test.exec(&amp;test);</code> the function gets assigned to that struct member and that in the brackets the function parameter gets passed in order for the function to be executed. But how is that set to actually happen in the variable definition?</p>
<p>Am I basically assigning a function to be a struct member? If yes then how does it know about itself before the struct is even compiled? And what is this syntax <code>(*x)(struct y*)</code> used for ?</p>
<pre><code>
typedef struct test_t{
    int num;
    void (*exec)(struct test_t*);
}test_t;

void fcn0(test_t* test);
void fcn1(test_t* test);
void fcn2(test_t* test);

int main(){
    while(1){
        test_t test = {
            .num = 0,
            .exec = fcn0
        };

        printf(&quot;Enter a number: &quot;);
        scanf(&quot;%d&quot;, &amp;test.num);

        switch (test.num)
        {
        case 1:
            test.exec = fcn1;
            test.exec(&amp;test);
            break;
        case 2:
            test.exec = fcn2;
            test.exec(&amp;test);
            break;
        
        default:
            test.exec = fcn0;
            test.exec(&amp;test);
            break;
        }

        printf(&quot;Value: %d\n&quot;, test.num);
    }
}

void fcn0(test_t* test){
    printf(&quot;Entered fcn0\n&quot;);
    test-&gt;num = 0;
}

void fcn1(test_t* test){
    printf(&quot;Entered fcn1\n&quot;);
    test-&gt;num = 1;
}

void fcn2(test_t* test){
    printf(&quot;Entered fcn2\n&quot;);
    test-&gt;num = 2;
}
</code></pre>
","2024-02-17 15:40:38","2","Question"
"78010340","78008896","","<p>What the OP tries to achieve can be done by patching the global <code>Proxy</code> function before any other code starts using it.</p>
<p>The next provided example code, for demonstration purposes, stretches an overwriting and function-wrapping interception and introspection approach as far as one can go.</p>
<p>One has to do three things ...</p>
<ul>
<li><p>reassign the <code>Promise</code> constructor function with a proxied version of itself, where the invocation of its internal <code>[[Construct]]</code> slot gets handled by custom code.</p>
</li>
<li><p>wrap intercepting custom code around the <code>Promise</code> constructor's <code>executer</code> function.</p>
</li>
<li><p>wrap intercepting custom code around the <code>executer</code> function's <code>resolve</code> function.</p>
</li>
</ul>
<p>Having access to the <code>Proxy</code> constructor's <code>executer</code> function and logging it, as well as having access to the arguments passed to the <code>resolve</code> function might reveal some of the <code>executer</code> function's implementation details, thus being possibly able to provide some hints about where to drill down next.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// - The actual use case, an asynchronously implemented
//   `wait` functions which resolves after the provided
//   amount of milliseconds.
// - It uses the proxied version of the before created
//   and reassigned global `Proxy` constructor function.

async function waitForResolvedData(valueInMSec) {
  console.log('... executing ...\n\n');

  return new Promise(resolve =&gt;
    setTimeout(resolve, valueInMSec, { foo: 'Foo', bar: 'Bar'})
  );
}

(async () =&gt; {
  console.log('waiting ...');

  const data = await waitForResolvedData(3000);

  console.log('\n... awaited data ...', data);
})();</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script&gt;

// - reassign the `Promise` constructor function
//   with a proxied version of itself, where the
//   invocation of its internal `[[Construct]]`
//   slot gets handled.

window.Promise = (Promise =&gt; {

  const handlers = {
    construct(target, [executer]) {

      console.log(
        `\`${ target.name }\` creation with following \`executer\` function ...\n`, executer
      );

      // - wrap intercepting custom code around the
      //   `Promise` constructor's `executer` function.
      executer = (proceed =&gt; {

        return ((/*resolve, reject*/...args) =&gt; {
          let [ resolve, reject ] = args;

          // - wrap intercepting custom code around the
          //   `executer` function's `resolve` function.
          resolve = (proceed =&gt; {
            return ((...args) =&gt; {

              console.log('`\nresolve` function intercepted with following args ...\n', args);
              console.log('original `resolve` function ...\n', proceed);

              proceed(...args);
            });
          })(resolve);

          console.log('`executer` intercepted with following args ...\n', args);
          console.log('original `executer` function ...\n', proceed);

          proceed(resolve, reject);
        });
      })(executer);

      return new target(executer);
    },
  };  
  return new Proxy(Promise, handlers);

})(window.Promise);

&lt;/script&gt;</code></pre>
</div>
</div>
</p>
","2024-02-16 22:50:18","2","Answer"
"78009007","78008896","","<p>No. The promise object does not contain the code, neither internally nor accessible to JavaScript. A promise represents the <strong>result</strong> of a task, not the task itself, it is <strong>not runnable</strong>. The function is used only during construction.</p>
","2024-02-16 17:17:34","5","Answer"
"78008896","","How can one access an unknown executer function from a Promise instance's construction time?","<p>Is it possible to retrieve the implementation details of a Promise instance? Let's assume the following created promise ...</p>
<pre><code>let myPromise = new Promise(function (success, error) {
  /* implementation */
}
</code></pre>
<p>Can one somehow access the anonymous function ...</p>
<pre><code>function (success, error) {
  /* implementation */
}
</code></pre>
<p>... or get the location of the anonymous function in the code file?</p>
","2024-02-16 16:58:03","-1","Question"
"78004388","78003763","","<p>I would not bother using the command &quot;system&quot; built into the GridView (they are messy, and don't help much -- really, they don't!!!).</p>
<p>However, either way (a standard plain jane button and button click), or the use of command of the GridView)?</p>
<p>You need to get the given clicked row, and then you MUST use find.control to get/pull/see/use the control(s) for that given GridView row.</p>
<p>So, you need the current GridViewRow. You then use .FindControl method.</p>
<p>It's not clear why/how your posted code compiles, but the use of</p>
<pre><code>room.roomID 
</code></pre>
<p>That is a valid control on the GridView (I assume), but those templated controls in the GridView have many and multiple instances of those controls for each row.</p>
<p>So, you have to pull the room.id value (control) for the CURRENT row.</p>
<p>(or better in your case pull the combo box control).</p>
<p>In fact, for things like a primary key value (database PK), I don't suggest including the PK values in the GridView markup (it's a big security risk, and you can use data keys for that purpose). This means you don't have to include the database PK column value in your GridView markup.</p>
<p>Ok, so you have to get the current row here first.</p>
<p>Then get/grab the instance of the given control for that one row of the GridView.</p>
<p>If the user changes/selects a room type, if you not saved it back to the database, then your code to find/get/use the room type by database &quot;room type id&quot; not going to work unless you save the data row back to the database each time a user changes the room type.</p>
<p>Now, if such a room change with that combo ALWAYS forces an update to the database, then your find code for room type should work.</p>
<p>However, if the user can freely change the room type combo and you don't save back to the database?</p>
<p>Then as noted, the value(s) for the current GridView row should be used.</p>
<p>So, to pull/get the values from the current row, then:</p>
<p>Button markup in grid can be this:</p>
<pre><code>                &lt;asp:TemplateField&gt;
                    &lt;ItemTemplate&gt;
                        &lt;asp:Button ID=&quot;Button1&quot; runat=&quot;server&quot; Text=&quot;Row Click&quot;
                            CommandName=&quot;RowClick&quot;
                            CommandArgument='&lt;%# Eval(&quot;ID&quot;) %&gt;'
                            /&gt;
                    &lt;/ItemTemplate&gt;
                &lt;/asp:TemplateField&gt;
</code></pre>
<p>And row command can be this:</p>
<pre><code>    protected void GVHotels_RowCommand(object sender, GridViewCommandEventArgs e)
    {
        if (e.CommandName == &quot;RowClick&quot;)
        {
            Button btn = (Button)e.CommandSource;
            GridViewRow gRow = (GridViewRow)btn.NamingContainer;

            Debug.Print($&quot;Row index = {gRow.RowIndex}&quot;);
            int PK = (int)GVHotels.DataKeys[gRow.RowIndex][&quot;ID&quot;];
            Debug.Print($&quot;Database PK = {PK}&quot;);

            CheckBox chkSel = (CheckBox)gRow.FindControl(&quot;chkSel&quot;);

            Debug.Print($&quot;Check box setting = {chkSel.Checked}&quot;);
        }
    }
</code></pre>
<p>So, in my case, I had/have a check box on the current row.</p>
<p>e.g. this:</p>
<p><a href=""https://i.sstatic.net/oyRBK.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/oyRBK.png"" alt=""enter image description here"" /></a></p>
<p>So, my check box on that row was this:</p>
<pre><code>    &lt;asp:TemplateField 
        ItemStyle-HorizontalAlign=&quot;Center&quot;
        HeaderStyle-HorizontalAlign=&quot;Center&quot; &gt;
        &lt;ItemTemplate&gt;
            &lt;asp:CheckBox ID=&quot;chkSel&quot; runat=&quot;server&quot; 
                OnCheckedChanged=&quot;chkSel_CheckedChanged&quot;
                AutoPostBack=&quot;true&quot; /&gt;
        &lt;/ItemTemplate&gt;
    &lt;/asp:TemplateField&gt;
</code></pre>
<p>And as noted, we don't have to use &quot;command&quot; here, but just a simple button.</p>
<p>So, in your markup, using a button like this:</p>
<pre><code>&lt;asp:TemplateField&gt;
    &lt;ItemTemplate&gt;
        &lt;asp:Button ID=&quot;cmdRowBtn&quot; runat=&quot;server&quot; Text=&quot;Row Click&quot;
            CommandArgument='&lt;%# Eval(&quot;ID&quot;) %&gt;'
            OnClick=&quot;cmdRowBtn_Click&quot;
            /&gt;
    &lt;/ItemTemplate&gt;
&lt;/asp:TemplateField&gt;
</code></pre>
<p>And then our button code becomes this:</p>
<pre><code>    protected void cmdRowBtn_Click(object sender, EventArgs e)
    {
        Button btn = (Button)sender;
        GridViewRow gRow = (GridViewRow)btn.NamingContainer;

        Debug.Print($&quot;Row index = {gRow.RowIndex}&quot;);
        int PK = (int)GVHotels.DataKeys[gRow.RowIndex][&quot;ID&quot;];
        Debug.Print($&quot;Database PK = {PK}&quot;);

        CheckBox chkSel = (CheckBox)gRow.FindControl(&quot;chkSel&quot;);

        Debug.Print($&quot;Check box setting = {chkSel.Checked}&quot;);

    }
</code></pre>
<p>You can still use &quot;CommandArgs&quot; in above if you wish.</p>
<p>So, any standard event for the given control can be used. You thus can then pick up current row with &quot;Naming Container&quot;. This works for click events, even a dropdown selected index change event or whatever.</p>
<p>As above 2 examples show, once we get our hands on the current GridViewRow, then we have to use the .FindControl() method of that given row.</p>
<p>For non templated columns, you use the .cells[] collection of the GridViewRow and for templated columns, then you have to use .FindControl. I think in your case you want RoomType. (But not sure what that control is in the GridView. I suppose you can &quot;walk back to the database based on PK assuming that combo ALWAYS updates the database. If not, then you need to pull from the GridView and not the database as you are.</p>
<p>So, in your case, get current row, and then use .FindControl() method to the get the given control, of which then you are free to use/get the .text value of that desired control, or even the selected index or whatever.</p>
<p>edit:</p>
<p>I should also note for some reason your code stub is not a row command. As noted, just wire up a standard button you place in the GridView, and then use the code to get the current grid row. From that you can pull the current selected index of the dropdown list, or the DataText field, or the DataValue field of that combo. So, with both the row &quot;room.id&quot; and the room type, you should be able to pull the data in any fashion you wish.</p>
<h1>Edit: Putting Above into practice.</h1>
<p>Ok, so assume this GridView markup:</p>
<pre><code>&lt;asp:GridView ID=&quot;GVHotels&quot; runat=&quot;server&quot; AutoGenerateColumns=&quot;False&quot;
    DataKeyNames=&quot;ID&quot; CssClass=&quot;table table-hover&quot;
    OnRowDataBound=&quot;GVHotels_RowDataBound&quot;&gt;
    &lt;Columns&gt;
        &lt;asp:BoundField DataField=&quot;FirstName&quot; HeaderText=&quot;FirstName&quot; /&gt;
        &lt;asp:BoundField DataField=&quot;LastName&quot; HeaderText=&quot;LastName&quot; /&gt;
        &lt;asp:BoundField DataField=&quot;City&quot; HeaderText=&quot;City&quot; /&gt;
        &lt;asp:BoundField DataField=&quot;HotelName&quot; HeaderText=&quot;HotelName&quot; /&gt;
        &lt;asp:BoundField DataField=&quot;Description&quot; HeaderText=&quot;Description&quot; /&gt;
        &lt;asp:TemplateField HeaderText=&quot;Room Type&quot;&gt;
            &lt;ItemTemplate&gt;
                &lt;asp:DropDownList ID=&quot;ddlRoomType&quot; runat=&quot;server&quot;
                    DataValueField=&quot;ID&quot;
                    DataTextField=&quot;RoomType&quot;
                    Width=&quot;180px&quot; /&gt;
            &lt;/ItemTemplate&gt;
        &lt;/asp:TemplateField&gt;
        &lt;asp:TemplateField&gt;
            &lt;ItemTemplate&gt;
                &lt;asp:Button ID=&quot;cmdRowBtn&quot; runat=&quot;server&quot; Text=&quot;Row Click&quot;
                    CommandArgument='&lt;%# Eval(&quot;ID&quot;) %&gt;'
                    OnClick=&quot;cmdRowBtn_Click&quot;
                    CssClass=&quot;btn&quot; /&gt;
            &lt;/ItemTemplate&gt;
        &lt;/asp:TemplateField&gt;
    &lt;/Columns&gt;
&lt;/asp:GridView&gt;
</code></pre>
<p>Code to load the GridView:</p>
<pre><code>    DataTable rstData = new DataTable();
    DataTable rstRoomTypes = new DataTable();
    protected void Page_Load(object sender, EventArgs e)
    {
        if (!IsPostBack)
        {
            LoadGrid();
            Session[&quot;rstData&quot;] = rstData;
        }
        else
            rstData = (DataTable)Session[&quot;rstData&quot;];
            
    }

    void LoadGrid()
    {

        rstRoomTypes =  // Load combo choices
            General.MyRst(&quot;SELECT * FROM vRoomTypes ORDER BY ID&quot;);

        rstData = General.MyRst(&quot;SELECT * FROM tblhotelsA ORDER BY HotelName&quot;);
        GVHotels.DataSource = rstData;
        GVHotels.DataBind();
    }


    protected void GVHotels_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            DropDownList ddlRoomType = (DropDownList)e.Row.FindControl(&quot;ddlRoomType&quot;);

            ddlRoomType.DataSource = rstRoomTypes;
            ddlRoomType.DataBind();
            ddlRoomType.Items.Insert(0, &quot;Select RoomType&quot;);
            // setup current cbo setting for this row of data.
            DataRowView RowData = (DataRowView)e.Row.DataItem;
            if (RowData[&quot;RoomType&quot;].ToString() != &quot;&quot;)
                ddlRoomType.Text = RowData[&quot;RoomType&quot;].ToString();

        }
    }
</code></pre>
<p>Note the use of row data bind to setup each row with the ddl.</p>
<p>And now our row click code is this:</p>
<pre><code>    protected void cmdRowBtn_Click(object sender, EventArgs e)
    {
        SaveData(); // optional save data

        Button btn = (Button)sender;
        GridViewRow gRow = (GridViewRow)btn.NamingContainer;
        int PK = (int)GVHotels.DataKeys[gRow.RowIndex][&quot;ID&quot;];

        DropDownList ddlRoomType = (DropDownList)gRow.FindControl(&quot;ddlRoomType&quot;);

        string sInfo =
            $@&quot;Row index click = {gRow.RowIndex} &lt;br/&gt;
            RoomType = {ddlRoomType.SelectedItem.Value} - {ddlRoomType.SelectedItem.Text} &lt;br/&gt;
            Database PK (Hotel) = {PK}&quot;;
        lblInfo.Text = sInfo;
    }
</code></pre>
<p>And the result is now this:</p>
<p><a href=""https://i.sstatic.net/atfuf.gif"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/atfuf.gif"" alt=""enter image description here"" /></a></p>
<p>So, note the button click for the row click. The event stub is standard, and we pick up the current row information by using of naming container.</p>
<p>The other HUGE tip here? Don't use sqlDatasource(s) in the markup, since then you can't control WHEN they re-load. In other words, place your data load code in the !IsPostBack stub in the page load event. Thus, you now will not experience re-binding and re-loading of data on the page, and if a sqlDataSouce on a page &quot;decides&quot; to re-load a control, then your lose your current selection of that control.</p>
<p>So, note how in my 2nd example, I load up a combo box for each grid row, but they can well survive post backs since I avoided using sqlDataSource objects in the markup. SqlDataSource(s) in the markup are a great and quick solution, but the instant your code on the page becomes complex, then that's the first thing I recommend you dump and avoid (since you lose control as to when such data sources are triggered for re-loading such controls, and you don't want that occurring unless you the developer says so by use of your code behind).</p>
","2024-02-15 23:00:45","0","Answer"
"78004325","78004078","","<p>As Thierry has mentioned his first comment, you are just incrementing a local variable inside the function: <code>a</code> is NOT a reference to individual characters in a list, but a new variable. (In fact, <code>map</code> in Python 3 is an iterator, not a list.) Try this instead:</p>
<pre><code>def shift_n(text, shift=2):
    current_numbers = map(ord, text)
    new_numbers = [number+shift for number in current_numbers]
    new_letters = map(chr, new_numbers)
    return ''.join(new_letters)
</code></pre>
<p>or a bit condensed:</p>
<pre><code>def shift_n(text, shift=2):
    numbers = (number+shift for number in map(ord, text))
    return ''.join(map(chr, numbers))
</code></pre>
","2024-02-15 22:45:01","1","Answer"
"78004247","78002337","","<h2>Suggestion: Use <code>slice</code> instead of <code>substring</code></h2>
<p>@FiddlingAway's suggestion is valid; you would have to combine both of your functions as only one onEdit trigger will apply to the cell being modified. How I approached this is to slice the string and remove the text before and after the address and I've slightly modified your script to do that.</p>
<p>Do try this out:</p>
<pre><code>function removeTags() {
  var column = 11
  var sh = SpreadsheetApp.getActive().getActiveSheet();
  var data = sh.getRange(1, column, sh.getLastRow(), 1).getValues();
  for (var n in data) {
    if (data[n][0] == '') { continue };// if cell empty then continue
    var str = data[n][0].toString();
    var startLocation = str.indexOf(&quot;Postcode: &quot;)+10; //returns the index of &quot;Postcode: &quot; + 10
    var endLocation = str.indexOf(&quot;Distance: &quot;); //Returns the index of &quot;Distance: &quot;
    if (startLocation != -1) {
      //The method below slices the string based on index stored in both startLocation and endLocation
      data[n][0] = str.slice(startLocation, endLocation)
    }
    
  }
  
  sh.getRange(1, column, sh.getLastRow(), 1).setValues(data);// update sheet with new data
}
</code></pre>
<p>Note, however, that your script modifies <strong>all rows in the column</strong> whenever a new value is added if it's set up as a trigger.</p>
<p>If you would like the script to only modify and check just the last row, change both:</p>
<pre><code>var data = sh.getRange(1, column, sh.getLastRow(), 1).getValues();
//and 
sh.getRange(1, column, sh.getLastRow(), 1).setValues(data);
</code></pre>
<p>to:</p>
<pre><code>var data = sh.getRange(sh.getLastRow(), column).getValues();
//and
sh.getRange(sh.getLastRow(), column).setValues(data);
</code></pre>
<h2>Reference:</h2>
<ul>
<li><a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/slice"" rel=""nofollow noreferrer"">slice()</a></li>
</ul>
","2024-02-15 22:20:17","0","Answer"
"78004078","","How can I print a map object in python?","<p>I'm trying to write a function that takes a string and then increases all characters by 2.
The problem is that when I try to print the result the output is non-existant.</p>
<p>This is the code:</p>
<pre><code>def plustwo(text):
    text = list(text)
    numbers = map(ord, text)
    for a in numbers:
        a += 2
    letters = map(chr, numbers)
    return letters

data = open(&quot;dati.txt&quot;)
readed = data.read()
sentence = plustwo(readed)

for letter in sentence:
    print(sentence)
</code></pre>
<p>And there is no output.</p>
","2024-02-15 21:44:21","1","Question"
"78003763","","How to keep list items after a method","<p>I am using ASP.NET Web Forms in C#</p>
<p>I have a GridView with a list of available rooms, each with a 'Reserve' button in a column next to each of them. When 'Reserve' is clicked, i want an object of the Room class, selectedRoom, to be made that contains the same information that was present as when it was in the availableRooms list.</p>
<p>The availableRooms list is initialised outside of any of these methods, in the WebForms method.</p>
<p>Here is a snippet of my BtnSearch_Click method, which actually does successfully display the GridView on the page:</p>
<pre><code>        using (MySqlDataReader reader = command.ExecuteReader())
        {
            while (reader.Read())
            {
                Room room = new Room();
                room.roomID = reader.GetInt32(&quot;roomID&quot;);
                room.roomName = reader.GetString(&quot;roomName&quot;);
                room.roomType = reader.GetString(&quot;typeName&quot;);
                room.enSuite = reader.GetBoolean(&quot;enSuite&quot;);
                room.ppNight = reader.GetFloat(&quot;pricePerNight&quot;);

                if (!reader.IsDBNull(reader.GetOrdinal(&quot;ppAddAdult&quot;)))
                {
                    room.ppAddAdult = reader.GetFloat(&quot;ppAddAdult&quot;);
                }
                else
                {
                    room.ppAddAdult = 0.0f;
                    //allows null value
                }

                if (!reader.IsDBNull(reader.GetOrdinal(&quot;ppAddChild&quot;)))
                {
                    room.ppAddChild = reader.GetFloat(&quot;ppAddChild&quot;);
                }
                else
                {
                    room.ppAddChild = 0.0f;
                    //allows null values
                }
                
                TimeSpan lengthStay = checkOutDate - checkInDate;
                //calculate length of stay
                room.lengthStay = (int)lengthStay.TotalDays;
                room.price = room.GetPrice(Convert.ToInt32(adultGuests.Text), Convert.ToInt32(childGuests.Text));
                //calculate price
                availableRooms.Add(room);
                //add current room to list
            }
        }
    }
    catch (Exception ex)
    {
        error = Convert.ToString(ex);
    }
}
gridViewRooms.DataSource = availableRooms;
gridViewRooms.DataBind();
//provide data source and bind data for gridView
</code></pre>
<p>And here is a snippet of my reserve button logic:</p>
<pre><code> protected void gridViewRooms_reserveCommand(object sender, GridViewCommandEventArgs e)
 {
     if (e.CommandName == &quot;Reserve&quot;)
     {
         using (MySqlConnection connection = new MySqlConnection(connectionString))
         {
             try
             {
                 connection.Open();
                 int accountID = 0;
                 DateTime checkOutDate = Convert.ToDateTime(checkOut.Text);
                 DateTime checkInDate = Convert.ToDateTime(checkIn.Text);
                 //initalise variables

                 int rowID = Convert.ToInt32(e.CommandArgument);
                 Room selectedRoom = availableRooms.Find(room =&gt; room.roomID == rowID);
                 //define the currently selected room

</code></pre>
<p>The thing that confuses me is that the availableRooms list displays perfectly on the page, but suddenly is empty when I click 'Reserve', preventing selectedRoom being made.</p>
<p>I have tried repopulating the availableRooms list by calling the BtnSearch_Click method again but it produced many, many errors. Any help would be greatly appreciated - I am very new to this. Thanks.</p>
","2024-02-15 20:28:20","0","Question"
"78002568","78002505","","<p>In Python, there's no built-in file management library that directly supports reading a line from a file and then deleting it.
The standard approach, as you've done, involves reading the file, processing lines, and then writing back the unprocessed lines, mainly due to how file I/O works in most operating systems.</p>
<p>For your requirement—to know where in the file the process stopped in case of an error—you might consider an alternative approach that involves less overhead than rewriting the file each time:</p>
<ol>
<li><p>Track Progress Using a Separate File or Variable: Instead of deleting lines from the original file, you can keep track of the line number that has been processed. If an error occurs, you save this line number to a separate file or a persistent storage mechanism. Upon restart, you read this progress indicator and skip to the line you previously stopped at.</p>
</li>
<li><p>Process and Archive Processed Lines: Instead of deleting lines from the original file, move processed lines to a separate &quot;archive&quot; file. This approach keeps the original file intact and provides a clear record of what has been processed.</p>
</li>
</ol>
<p>This is the code.</p>
<pre><code>def process_file(filepath, progress_filepath):
    try:
        with open(progress_filepath, 'r') as progress_file:
            last_processed_line_number = int(progress_file.read())
    except FileNotFoundError:
        last_processed_line_number = 0

    with open(filepath, 'r') as file:
        lines = file.readlines()

    for i, line in enumerate(lines, 1):
        if i &lt;= last_processed_line_number:
            continue  # Skip already processed lines
        # Process the line here
        print(f&quot;Processing line {i}: {line}&quot;, end='')

        # Update the progress file
        with open(progress_filepath, 'w') as progress_file:
            progress_file.write(str(i))
</code></pre>
","2024-02-15 16:52:45","0","Answer"
"78002505","","Function that deletes a readed line in a file","<p>Is there a <strong>file</strong> <strong>management</strong> library in python that has a <strong>function</strong> that: <strong>once</strong> a <strong>line</strong> has been <strong>read</strong> in a file, it <strong>deletes</strong> <strong>it</strong> (<strong>the line</strong>)?</p>
<p>I need it to know, in case the program stops due to an error (the program can stop due a unexpected computer shutdown), where in the file it has ended up. What I have done for now is rewrite the entire file except the line it is reading or delete the line equivalent for each iteration in the for function.</p>
<pre class=""lang-py prettyprint-override""><code>with open(archivo, 'r') as f:
        lineas = f.readlines()
    for i, linea in enumerate(lineas):
        print(f'Procesando {linea}')     
        with open(archivo, 'w') as f:
            f.writelines(lineas[i + 1:])            
        lineas = lineas[i + 1:]
</code></pre>
","2024-02-15 16:42:37","0","Question"
"78002337","","How can I merge two trigger functions into one, in apps script?","<p>I have two pieces of script that both remove text from a Google sheet. Both scripts are on their own trigger when sheet is updated, but theyre both trying to edit the same cell and its only applying one of the functions.</p>
<p>Oringinal cell text example:
From: Leigh-on-sea, ss9, UK
Building No. Street &amp; Postcode: 123 street address UK
Distance: 0.7m
Duration: 4 min</p>
<p>Function to remove text BEFORE &quot;Postcode: &quot;</p>
<pre><code>function removeTags() {
  var column = 11
  var sh = SpreadsheetApp.getActive().getActiveSheet();
  var data = sh.getRange(1, column, sh.getLastRow(), 1).getValues();
  for (var n in data) {
    if (data[n][0] == '') { continue };// if cell empty then continue
    var str = data[n][0].toString();
    var location = str.indexOf(&quot;Postcode: &quot;);
    if (location != -1) {
      data[n][0] = str.substring(location + 10, str.length - 1);//remove everything BEFORE Postcode: 
    }
  }
  sh.getRange(1, column, sh.getLastRow(), 1).setValues(data);// update sheet with new data
}
</code></pre>
<p>Function to remove text AFTER &quot;Distance: &quot;</p>
<pre><code>function removeTags(){
  var column = 11
  var sh = SpreadsheetApp.getActive().getActiveSheet();
  var data = sh.getRange(1,column,sh.getLastRow(),1).getValues();
  for(var n in data){
    if(data[n][0]==''){continue};// if cell empty then continue
    var str = data[n][0].toString();
    data[n][0]= str.substring(0,str.indexOf(&quot;Distance: &quot;));//remove everything after Distance: 
  }
  sh.getRange(1,column,sh.getLastRow(),1).setValues(data);// update sheet with new data
}
</code></pre>
<p>Both functions work as expected when run separately, but when a new enrty is sent to the sheet, it only applies the first trigger/script. I need to merge the scripts together for a single trigger.</p>
<p>I tried editing a bit of the script a few way to figure it out myself, but failed.</p>
","2024-02-15 16:17:30","0","Question"
"78000206","77999057","","<p><em>The modified code below includes your code that accesses the Streamlit session state variable with the atexit function.</em></p>
<p><strong>Code :</strong></p>
<pre class=""lang-py prettyprint-override""><code>import atexit
import streamlit as st
from azure.search.documents.indexes import SearchIndexClient 
from azure.core.credentials import AzureKeyCredential

vector_store_address = None
vector_store_password = None
index_name = None

def delete_vector_index():
    if vector_store_address and vector_store_password and index_name:
        admin_client = SearchIndexClient(
            endpoint=vector_store_address,
            index_name=index_name,
            credential=AzureKeyCredential(vector_store_password)
        )
        admin_client.delete_index(index_name)

if &quot;initialized&quot; not in st.session_state:
    st.session_state.initialized = True
    vector_store_address = &quot;https://&lt;azure_search_name&gt;.search.windows.net/&quot;
    vector_store_password = &quot;&lt;azure_search_key&gt;&quot;
    index_name = &quot;&lt;index_name&gt;&quot;

atexit.register(delete_vector_index)

def main():
    st.title(&quot;Streamlit App&quot;)

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
<p><strong>Output :</strong></p>
<p>It ran successfully as shown below:</p>
<p><img src=""https://i.imgur.com/cuYdlVK.png"" alt=""enter image description here"" /></p>
<p>I got the below output in the browser.</p>
<p><img src=""https://i.imgur.com/ChR7XmV.png"" alt=""enter image description here"" /></p>
<p><em>Next, the index was deleted while stopping Streamlit, as shown below.</em></p>
<p><img src=""https://i.imgur.com/iimZ2Hm.png"" alt=""enter image description here"" /></p>
","2024-02-15 10:54:40","0","Answer"
"77999057","","atexit registered function unable to access streamlit session state variable","<p>I have registered an atexit function like this:</p>
<pre><code>import streamlit as st
from azure.search.documents.indexes import SearchIndexClient 
from azure.core.credentials import AzureKeyCredential


@atexit.register
def delete_vector_index():
    admin_client = SearchIndexClient(endpoint=st.session_state.vector_store_address,
                      index_name=st.session_state.index_name,
                      credential=AzureKeyCredential(st.session_state.vector_store_password))
    admin_client.delete_index(st.session_state.index_name)

if &quot;initialized&quot; not in st.session_state:
    st.session_state.initialized = True
    st.session_state.vector_store_address: str = &quot;&lt;my endpoint&gt;&quot;
    st.session_state.vector_store_password: str = &quot;&lt;admin key&gt;&quot;
    st.session_state.index_name: str = &quot;&lt;index name&gt;&quot;

</code></pre>
<p>But everytime the interpreter finishes, this is the error message I get <code>&quot;AttributeError: st.session_state has no attribute &quot;vector_store_address&quot;. Did you forget to initialize it? More info: https://docs.streamlit.io/library/advanced-features/session-state#initialization&quot;</code></p>
<p>Why is the st.session_state variable inaccessible from the atexit function when it can be easily accessed from my other functions? Does anyone know what to do about this?</p>
","2024-02-15 07:37:00","0","Question"
"77998419","77998401","","<p><strong>Class Components</strong></p>
<p>In typical words its a class which have a built-in state object, You may have observed earlier in the component constructor section that we utilized the term &quot;state&quot;. The state object serves as a container for property values specific to the component. When modifications occur within the state object, the component undergoes re-rendering.</p>
<p><strong>Functional Components</strong>
Functional components in React.js are a type of component that are primarily defined as JavaScript functions. They are also referred to as stateless components or functional stateless components. Functional components accept props (properties) as input and return React elements to describe the user interface.</p>
<p>There are several reasons why it's advisable to favor functional components over class components in React, for example:
Functional components offer a simpler and more straightforward approach compared to class components. They don't entail the additional complexity of managing lifecycle methods, state, and binding this.</p>
","2024-02-15 04:25:38","1","Answer"
"77998401","","Difference between class component and function component in reactjs","<p>Difference between class and function components in reactions?</p>
<p>Working and use of both components and when to use them. And also explains when to use which component that completes our programming needs and when which component work effectively in a particular scenario.</p>
","2024-02-15 04:15:44","-1","Question"
"77995632","77995468","","<p>You can use <code>lapply</code> or <code>purrr::map</code> to iterate through your variables. To do that, we need to loop through strings but not variables, so you'll need to <code>pick</code> the variable in <code>group_by</code>.</p>
<pre><code>library(tidyverse)

group_the_data &lt;- function(data, 
                           variable, 
                           group_tag) {
  
  grouped_output &lt;- data %&gt;%
    mutate(flag = 1) %&gt;%
    group_by(pick(variable)) %&gt;% # pick the variable
    summarise(number_staff = sum(flag, na.rm = T)) %&gt;%
    mutate(grouping_tag := {{group_tag}})
  
  return(grouped_output)
  
}

purrr::map(colnames(data)[-1], 
           ~ group_the_data(data, variable = .x, group_tag = .x)) %&gt;% 
  bind_rows()

# A tibble: 6 × 5
  disability_status number_staff grouping_tag      age_group teacher
  &lt;chr&gt;                    &lt;dbl&gt; &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;  
1 no                           4 disability_status NA        NA     
2 yes                          4 disability_status NA        NA     
3 NA                           4 age_group         20-30     NA     
4 NA                           4 age_group         30-40     NA     
5 NA                           4 teacher           NA        no     
6 NA                           4 teacher           NA        yes 
</code></pre>
<p>Similarly, use <code>purrr::map2</code> if you want to have different &quot;variable&quot; and &quot;group_tag&quot;:</p>
<pre><code>purrr::map2(colnames(data)[-1], 
            c(&quot;disability status&quot;, &quot;age group&quot;, &quot;role&quot;), 
            ~ group_the_data(data, variable = .x, group_tag = .y)) %&gt;% 
  bind_rows()

# A tibble: 6 × 5
  disability_status number_staff grouping_tag      age_group teacher
  &lt;chr&gt;                    &lt;dbl&gt; &lt;chr&gt;             &lt;chr&gt;     &lt;chr&gt;  
1 no                           4 disability status NA        NA     
2 yes                          4 disability status NA        NA     
3 NA                           4 age group         20-30     NA     
4 NA                           4 age group         30-40     NA     
5 NA                           4 role              NA        no     
6 NA                           4 role              NA        yes   
</code></pre>
","2024-02-14 15:57:25","3","Answer"
"77995468","","Loop through a number of variables and insert each into a function R","<p>I am working in R.</p>
<p>I have some data about staff in a school:</p>
<pre><code>data &lt;- data.frame(person_id = c(1, 2, 3, 4, 5, 6, 7, 8), 
                   disability_status = c(&quot;yes&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;),
                   age_group = c(&quot;20-30&quot;,&quot;30-40&quot;,&quot;20-30&quot;,&quot;30-40&quot;,&quot;20-30&quot;,&quot;30-40&quot;,&quot;20-30&quot;,&quot;30-40&quot;), 
                   teacher = c(&quot;yes&quot;, &quot;no&quot;, &quot;no&quot;, &quot;yes&quot;, &quot;no&quot;,&quot;yes&quot;, &quot;no&quot;, &quot;yes&quot; ))
</code></pre>
<p>I have written a function that creates sums across what variable you insert into it. The &quot;group_tag&quot; argument is to help with debugging at a later date in my code.</p>
<pre><code>group_the_data &lt;- function(data, 
                           variable, 
                           group_tag) {
  
  grouped_output &lt;- data %&gt;%
                    mutate(flag = 1) %&gt;%
                    group_by({{variable}}) %&gt;%
                    summarise(number_staff = sum(flag, na.rm = T)) %&gt;%
                    mutate(grouping_tag := {{group_tag}})
  
  return(grouped_output)
  
}
</code></pre>
<p>I then use the function to group by disability_status, age_group and teacher in turn:</p>
<pre><code>disability_grouped &lt;- group_the_data(data = data,
                                     variable = disability_status,
                                     group_tag = &quot;disability status&quot;)

age_group_grouped &lt;- group_the_data(data = data,
                                    variable = age_group,
                                    group_tag = &quot;age group&quot;)

role_grouped &lt;- group_the_data(data = data,
                               variable = teacher,
                               group_tag = &quot;role&quot;)
</code></pre>
<p>Once I have the dataframes I need, I bind them together:</p>
<pre><code>all_data_grouped &lt;- bind_rows(disability_grouped, age_group_grouped, role_grouped)
</code></pre>
<p>Is there a way to loop through the variables so I don't need to write out the function three times?</p>
<p>Or is using one of the Apply functions a better idea?</p>
","2024-02-14 15:34:13","3","Question"
"77995386","77995295","","<p>These objects are being <code>attach</code>ed into the global environment:</p>
<pre class=""lang-r prettyprint-override""><code>somefunction &lt;- function(df1,df2) {attach(df1); attach(df2); mean(Sepal.Length) + speed*3}
somefunction(iris, cars)
#&gt;  [1] 17.84333 17.84333 26.84333 26.84333 29.84333 32.84333 35.84333 35.84333
#&gt;  [9] 35.84333 38.84333 38.84333 41.84333 41.84333 41.84333 41.84333 44.84333
#&gt; [17] 44.84333 44.84333 44.84333 47.84333 47.84333 47.84333 47.84333 50.84333
#&gt; [25] 50.84333 50.84333 53.84333 53.84333 56.84333 56.84333 56.84333 59.84333
#&gt; [33] 59.84333 59.84333 59.84333 62.84333 62.84333 62.84333 65.84333 65.84333
#&gt; [41] 65.84333 65.84333 65.84333 71.84333 74.84333 77.84333 77.84333 77.84333
#&gt; [49] 77.84333 80.84333
dist
#&gt;  [1]   2  10   4  22  16  10  18  26  34  17  28  14  20  24  28  26  34  34  46
#&gt; [20]  26  36  60  80  20  26  54  32  40  32  40  50  42  56  76  84  36  46  68
#&gt; [39]  32  48  52  56  64  66  54  70  92  93 120  85
Sepal.Length
#&gt;   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1
#&gt;  [19] 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5 4.9 5.0
#&gt;  [37] 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4 6.9 5.5
#&gt;  [55] 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1
#&gt;  [73] 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4 6.0 6.7 6.3 5.6 5.5
#&gt;  [91] 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3
#&gt; [109] 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7 6.0 6.9 5.6 7.7 6.3 6.7 7.2
#&gt; [127] 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8
#&gt; [145] 6.7 6.7 6.3 6.5 6.2 5.9
</code></pre>
<p>You would need to <code>detach</code> them or you're likely to cause nasty errors for users.</p>
<p>You'll also have to ensure that this happens if your function errors or is interrupted, eg using <code>on.exit</code>.</p>
<p>Generally I think you should reconsider whether using <code>attach</code> is worth the headache of difficult bugs, over simply writing <code>df$variable</code>...</p>
<p>The documentation for <code>attach</code> even covers this:</p>
<pre><code>In programming, functions should not change the search path unless 
that is their purpose.  Often ‘with’ can be used within a
function. If not, good practice is to

    • Always use a distinctive ‘name’ argument, and

    • To immediately follow the ‘attach’ call by an ‘on.exit’ call
      to ‘detach’ using the distinctive name.
</code></pre>
","2024-02-14 15:23:48","1","Answer"
"77995295","","Referring to data frame columns (without referring to the data frame) inside a function in R?","<p>I would like to refer to data frame columns inside a function by their names (just write columnname), but not write df$columnname or df[&quot;columnname&quot;] every time</p>
<p>This can be achieved using attach() function, but I have heard that it is slow etc.</p>
<p>So far I have achieved something like this:</p>
<pre><code>&gt; somefunction &lt;- function(df1,df2) {attach(df1); attach(df2); mean(Sepal.Length) + speed*3}
&gt; somefunction(iris, cars)
The following objects are masked from iris:

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from b (pos = 5):

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from a (pos = 6):

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from a (pos = 8):

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from cars:

    dist, speed

The following objects are masked from b (pos = 8):

    dist, speed

 [1] 17.84333 17.84333 26.84333 26.84333 29.84333 32.84333 35.84333 35.84333 35.84333 38.84333 38.84333 41.84333 41.84333 41.84333 41.84333 44.84333
[17] 44.84333 44.84333 44.84333 47.84333 47.84333 47.84333 47.84333 50.84333 50.84333 50.84333 53.84333 53.84333 56.84333 56.84333 56.84333 59.84333
[33] 59.84333 59.84333 59.84333 62.84333 62.84333 62.84333 65.84333 65.84333 65.84333 65.84333 65.84333 71.84333 74.84333 77.84333 77.84333 77.84333
[49] 77.84333 80.84333
</code></pre>
<p>And if I call the function again...</p>
<pre><code>&gt; somefunction(iris, cars)
The following objects are masked from df1 (pos = 4):

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from iris:

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from b (pos = 7):

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from a (pos = 8):

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from a (pos = 10):

    Petal.Length, Petal.Width, Sepal.Length, Sepal.Width, Species

The following objects are masked from df2 (pos = 4):

    dist, speed

The following objects are masked from cars:

    dist, speed

The following objects are masked from b (pos = 10):

    dist, speed

 [1] 17.84333 17.84333 26.84333 26.84333 29.84333 32.84333 35.84333 35.84333 35.84333 38.84333 38.84333 41.84333 41.84333 41.84333 41.84333 44.84333
[17] 44.84333 44.84333 44.84333 47.84333 47.84333 47.84333 47.84333 50.84333 50.84333 50.84333 53.84333 53.84333 56.84333 56.84333 56.84333 59.84333
[33] 59.84333 59.84333 59.84333 62.84333 62.84333 62.84333 65.84333 65.84333 65.84333 65.84333 65.84333 71.84333 74.84333 77.84333 77.84333 77.84333
[49] 77.84333 80.84333
</code></pre>
<p>Those pos values seem to change, which is not good (or is it?).</p>
<p>Anyway, is there a better way to do this?</p>
","2024-02-14 15:09:45","1","Question"
"77994931","77994872","","<p>You can unpack some of the arguments from <code>*args</code>:</p>
<pre><code>def f(a, b, c):
    return a + b + c


def g(b, *args):
    a,*rest = args
    return f(a, b, *rest)


print(g(1,2,3))
</code></pre>
<p>Output:</p>
<p><code>6</code></p>
","2024-02-14 14:14:06","2","Answer"
"77994912","77994872","","<p>You are just reordering the args in you last example such that <code>b</code> is the the first named args.  However, you will need to unpack <code>*args</code> to get <code>a</code> and <code>c</code> before passing them to <code>f</code>.</p>
<pre><code>def g(b, *args):
    a, c = args
    return f(a, b, c)
</code></pre>
","2024-02-14 14:11:48","1","Answer"
"77994872","","Specify an arbitrary argument in addition to *args in python","<p>For a function with multiple arguments like this:</p>
<pre><code>def f(a, b, c):
    return a + b + c
</code></pre>
<p>it is straightforward to define a new function as follows:</p>
<pre><code>def g(a, *args):
    return f(a, *args)
</code></pre>
<p>here, <code>a</code> is the first argument of <code>f()</code>. What if I would like to specify the second argument of <code>f()</code>, namely:</p>
<pre><code>def g(b, *args):
    # return f(???)
</code></pre>
","2024-02-14 14:04:29","-1","Question"
"77994813","77993972","","<blockquote>
<p>I want a clean way to record stdio after calling a function for unit test.</p>
</blockquote>
<p>The way to do this is to declare a function in the same way that <code>printf</code> or <code>fprintf</code> is declared. Then your function can define <code>va_list args;</code> as you show, and it can use the standard C library functions <code>vsnprintf</code> or <code>vsprintf</code> to format the desired output strings into a buffer and/or the functions <code>vprintf</code> or <code>vfprintf</code> to write them to a stream.</p>
<p>The <code>vprintf</code>, <code>vfprintf</code>, <code>vsnprintf</code>, and <code>vsprintf</code> functions take a <code>va_list</code> argument, so you can pass that directly without needing to reconstruct the original arguments in a new function call.</p>
<p>Note that these routines manipulate the <code>va_list</code>, so you need to use <code>va_end</code> on it after they return and use <code>va_start</code> to restart argument processing if you want to do it a second time, or you need to use <code>va_copy</code> before the call to make a copy.</p>
","2024-02-14 13:55:05","0","Answer"
"77994670","77993972","","<p>This is not possible in C at runtime.  Calling a function whose argument list is not known at compile time requires hand-written assembly language.</p>
<p>For problems <em>like</em> this I usually recommend <a href=""https://sourceware.org/libffi/"" rel=""nofollow noreferrer""><code>libffi</code></a>, which contains that hand-written assembly language wrapped up in a nice API, but your problem is harder than what libffi can handle. The trouble is that you cannot even know <em>how many</em> arguments have been passed to a C variadic function, never mind the types, unless you know which function it is and how it interprets its arguments.  To illustrate the problem, here's some standard (C+POSIX) variadic functions annotated with the only way to know when to stop calling va_arg for each...</p>
<pre><code>// parse the format string in the first argument
void printf(const char *, ...);
// parse the format string in the *second* argument
void fprintf(FILE *, const char *, ...);
// look for O_CREAT in the flags passed as the second argument
// some OSes have added other flags that also require the third arg
int open(const char *, int, ...);
// last variadic arg is a null pointer
int execlp(const char *, const char *, ...);
</code></pre>
<p>Therefore, the only way to handle <em>any</em> function call is to have one wrapper for each function you want to wrap, that knows how to handle that function's arguments.  But look on the bright side: if you do it that way, you can use <code>vprintf</code> and therefore you won't have to reimplement the <code>printf</code> format string parser yourself in assembly language.  In fact, as long as there's a way to translate each call to a wrapper into a <em>non</em>-variadic call to the wrapped function, you can do the whole thing in C.  (For <code>execlp</code> use <code>execvp</code>, for <code>open</code> pass a third argument even when it won't be used, etc.)</p>
<p>It <em>is</em> possible to write a semi-generic wrapper in assembly language, but it won't work for <em>all</em> function calls.  The hardest constraint is that there's no way to make it work if any of the arguments <em>to the wrapper</em>, including both arguments to be consumed by the wrapper and arguments to be consumed by the wrapped function, were passed on the stack.  This is because, like I said above, there's no way for a generic wrapper to know how many arguments there are, so there's no way to know how much data the wrapper should copy from its own incoming argument area to the argument area for the call to the wrapped function.  Depending on the ABI, it may also be impossible to wrap calls to functions that take floating-point arguments or return a floating-point value, because generically you don't know whether there <em>are</em> any, and that might mean you don't know which registers hold which arguments anymore.</p>
<p>Here is an example semi-generic wrapper, in pseudo-C:</p>
<pre class=""lang-c prettyprint-override""><code>any_int log_call(const char *name, void (*fn)(...), ...)
{
    log_entry(name);
    any_int rv = fn(...);
    log_exit(name);
    return rv;
}
</code></pre>
<p>and in actual assembly language for the x86-64 ELF ABI, assuming that all the arguments are in the integer arg registers.  Under that assumption, it's not necessary to know how many arguments there really were, because there are a fixed number of integer arg registers, so the wrapper can just assume they are all live.  If the caller didn't put an argument in %r9 on entry, whatever garbage value was in there will get copied to %rcx and then the wrapped function won't look at it. This logic breaks down if the args spill onto the stack.</p>
<p>I think it <em>would</em> be possible to handle floating point arguments and/or return values on this CPU and ABI, but it would be significantly more work and this is already long enough.</p>
<pre><code># any_int log_call(const char *name, any_int (*fn)(...), ...)
        .globl log_call
        .type log_call, @function
log_call:
        # Push all six call-preserved registers and also %r10.
        # The call-preserved registers will be used to hold onto
        # the integer arguments to this function. %r10 is pushed
        # partially because the easiest way to keep the stack
        # properly aligned is to push an odd number of registers,
        # partially because it _might_ be a static chain pointer.
        push %rbp
        push %rbx
        push %r15
        push %r14
        push %r13
        push %r12
        push %r10

        # Save all the integer argument registers in call-preserved
        # regs; the first two we need ourselves, the rest might hold
        # args for the wrapped function.
        mov  %rdi, %rbp
        mov  %rsi, %rbx
        mov  %rdx, %r12
        mov  %rcx, %r13
        mov  %r8,  %r14
        mov  %r9,  %r15

        # Work done by the wrapper before the call.  At this point
        # 'name' is still in %rdi and the hypothetical static chain
        # pointer is still in %r10.
        call log_entry

        # Emplace arguments to the wrapped function and call it.
        # Note how we shift them so that what was our third arg is
        # the wrapper's first arg, and so on. %r10 is not call-
        # preserved and might have been a static chain pointer.
        # %eax must be cleared in case the wrapped function was variadic.
        mov  (%rsp), %r10
        mov  %r12, %rdi
        mov  %r13, %rsi
        mov  %r14, %rdx
        mov  %r15, %rcx
        xor  %eax, %eax
        call *%rbx

        # Save all the registers that might hold the wrapped
        # function's return value. The stashed arguments to the
        # wrapped function are no longer needed at this point.
        mov  %rax, %r12
        mov  %rdx, %r13

        # Work done by the wrapper after the call.  Must restore
        # 'name' to %rdi to be the first arg to log_exit, and, again,
        # the static chain pointer.
        mov  (%rsp), %r10
        mov  %rbx, %rdi
        call log_exit

        # Put the wrapped function's return value back in the
        # return value registers, clear our own stack frame, return.
        mov  %r12, %rax
        mov  %r13, %rdx

        pop  %r10
        pop  %r12
        pop  %r13
        pop  %r14
        pop  %r15
        pop  %rbx
        pop  %rbp

        ret
        .size log_call, .-log_call
</code></pre>
","2024-02-14 13:32:53","2","Answer"
"77994168","77993972","","<p>For <code>foo()</code> to call a function pointer of a type that differs from the definition of the function being called, it needs to convert the function pointer to the correct type. Also, the number of arguments in each function call cannot be varied at run time. You may need to pass additional information to <code>foo()</code> to tell it how to call the function if it can choose several different types of function to call.</p>
<p>For example:</p>
<pre><code>#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;

void
foo(int ftype, void (*function)(), ...) {
  va_list args;
  va_start(args, function);
  if (ftype == 1) {
      void (*fp)(int, char *) = (void (*)(int, char *))function;
      int a = va_arg(args, int);
      char *b = va_arg(args, char *);
      fp(a, b);
  }
  va_end(args);
}


void
bar(int a, char *b) {
  printf(&quot;a = %d, b = %s\n&quot;, a, b);
}


int
main() {
    foo(1, (void (*)())bar, 2, &quot;hello&quot;);
  return 0;
}
</code></pre>
<p><strong>EDIT 1:</strong> Originally, my call to <code>foo</code> was <code>foo(1, bar, 2, &quot;hello&quot;);</code>. That is OK for C17, but for C23 (not yet published at the time of writing), the argument <code>bar</code> needs to be converted by a type-cast as shown above. (For C17, the type-cast on <code>function</code> in the initializer for <code>fp</code> in function <code>foo</code> was also not needed, but I originally added it anyway.)</p>
","2024-02-14 12:06:04","2","Answer"
"77994009","77993972","","<p>It does not work like you think. You need to pass the <code>va_list</code> to the function.</p>
<pre><code>void foo(void (*function)(va_list), ...) {
  va_list args;
  va_start(args, function);
  function(args);
  va_end(args);
}


void bar(va_list list) 
{
    int a = va_arg(list, int);
    char *b = va_arg(list, char *);
    printf(&quot;a = %d, b = %s\n&quot;, a, b);
}


int main(void) {
    foo(bar, 2, &quot;hello&quot;);
}
</code></pre>
<p><a href=""https://godbolt.org/z/db8nKPbrq"" rel=""nofollow noreferrer"">https://godbolt.org/z/db8nKPbrq</a></p>
<p>You can also use variadic macros (but of course it is done compile time):</p>
<pre><code>#define foo(f, ...) f(__VA_ARGS__)


void bar(int a, char *b) {
    printf(&quot;a = %d, b = %s\n&quot;, a, b);
}

void zoo(int a, char *b) {
    printf(&quot;b = %s, a = %d\n&quot;, b, a);
}


void (*arr[2])(int, char *) = {zoo, bar};

int main() 
{
    for(int x = 0; x &lt; 30; x++)
       foo(arr[x &amp; 1], 5, &quot;hello&quot;);
}
</code></pre>
<p><a href=""https://godbolt.org/z/j16focM9o"" rel=""nofollow noreferrer"">https://godbolt.org/z/j16focM9o</a></p>
","2024-02-14 11:37:55","4","Answer"
"77993972","","Variadic function pointer in C","<p>I want to implement a function that take a function and its arguments then call it.
I have search a lot and could not implement it with variadic function.
I want a clean way to record stdio after calling a function for unit test.</p>
<p><strong>Even if you want to suggest another way to record stdio, please help me solve the original question.</strong></p>
<p>something like this, but working.</p>
<pre><code>void
foo(void (*function)(...), ...) {
  va_list args;
  va_start(args, function);
  // This line is just to explain what i want
  function(args);
  va_end(args);
}


void
bar(int a, char *b) {
  printf(&quot;a = %d, b = %s\n&quot;, a, b);
}


int
main() {
    foo(bar, 2, &quot;hello&quot;);
  return 0;
}
</code></pre>
<p>the above code ....................</p>
","2024-02-14 11:31:49","1","Question"
"77991645","77991523","","<p>In base R, You could do this in an <code>apply</code> statement across rows (<code>1</code>):</p>
<pre><code>DATA$newcol &lt;- apply(DATA, 1, \(x) ifelse(all(is.na(x[-1])), 
                                          NA, 
                                          paste(names(x)[grepl(&quot;Y&quot;, x)], collapse = &quot;_&quot;)))
</code></pre>
<p>Output</p>
<pre><code>#   ID    A    B    C    D    E    F newcol
# 1  1    Y    Y    N    N    N    N    A_B
# 2  2    N    N    N    Y    N    N      D
# 3  3    Y    N    Y    N    Y    N  A_C_E
# 4  4    Y    Y    N    N    N    N    A_B
# 5  5    N    N    N    Y    N    N      D
# 6  6    Y    Y    Y    N    N    N  A_B_C
# 7  7    N    N    N    N    N    N       
# 8  8 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;   &lt;NA&gt;
</code></pre>
","2024-02-14 01:00:46","1","Answer"
"77991572","77991523","","<p>You can do this in a couple of steps with the <strong>tidyverse</strong>:</p>
<pre><code>library(tidyverse)

new_col &lt;- DATA |&gt; 
  pivot_longer(-ID) |&gt;
  filter(value == 'Y') |&gt; 
  group_by(ID) |&gt; 
  summarize(new_column = paste(name, collapse = '_'))

new_df &lt;- left_join(DATA, new_col, by = 'ID')

  ID    A    B    C    D    E    F new_column
1  1    Y    Y    N    N    N    N        A_B
2  2    N    N    N    Y    N    N          D
3  3    Y    N    Y    N    Y    N      A_C_E
4  4    Y    Y    N    N    N    N        A_B
5  5    N    N    N    Y    N    N          D
6  6    Y    Y    Y    N    N    N      A_B_C
7  7    N    N    N    N    N    N       &lt;NA&gt;
8  8 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;       &lt;NA&gt;
</code></pre>
","2024-02-14 00:32:34","1","Answer"
"77991523","","Paste the names of a columns in which there is a ""Y"" in R","<p>In my <code>DATA</code> below, I want to create a <code>New_Column</code> which pastes the names of columns <code>A:F</code> in which there is a <code>Y</code> to achieve my <code>Desired_Output</code>.</p>
<p>I was wondering if this might be possible in R?</p>
<pre><code>DATA &lt;- read.table(h=TRUE,t=&quot;
ID  A   B   C   D   E   F
1   Y   Y   N   N   N   N
2   N   N   N   Y   N   N
3   Y   N   Y   N   Y   N
4   Y   Y   N   N   N   N
5   N   N   N   Y   N   N
6   Y   Y   Y   N   N   N
7   N   N   N   N   N   N
8   NA  NA  NA  NA  NA  NA&quot;)

Desired_Output &lt;- read.table(h=TRUE,t=&quot;
ID  A   B   C   D   E   F   New_Column
1   Y   Y   N   N   N   N   A_B
2   N   N   N   Y   N   N   D
3   Y   N   Y   N   Y   N   A_C_E
4   Y   Y   N   N   N   N   A_B
5   N   N   N   Y   N   N   D
6   Y   Y   Y   N   N   N   A_B_C
7   N   N   N   N   N   N   N
8   NA  NA  NA  NA  NA  NA  NA&quot;)
</code></pre>
","2024-02-14 00:15:00","1","Question"
"77991061","77989584","","<p><code>long</code> is not certainly wider than <code>int</code> and so its use may not widen the computation.</p>
<hr />
<p>To certainly avoid overflow, don't multiple, but divide.</p>
<pre><code>int ft_sqrt(int nb) {
    int    sqrt;
    if (nb &lt;= 0)
        return (0);
    if (nb == 1)
        return (1); 
    sqrt = 1;
    // while (sqrt * sqrt &lt; nb)
    while (sqrt &lt; nb / sqrt) {
        sqrt++;
    }
    if (sqrt == nb / sqrt)
        return (sqrt);
    else
        return (0);
}
</code></pre>
<hr />
<p>Yes code takes a performance hit - yet OP algorithm has many ways for improvement)</p>
<hr />
<p>Alternate code:</p>
<pre><code>unsigned bit_width(unsigned x) {
  unsigned width = 0;
  while (x) {
    x /= 2;
    width++;
  }
  return width;
}

unsigned usqrt(unsigned x) {
  if (x == 0) {
    return 0;
  }
  unsigned y = 1u &lt;&lt; bit_width(x) / 2;
  unsigned y_previous;
  unsigned diff;
  unsigned diff1count = 0;

  do {
    y_previous = y;
    y = (y + x / y) / 2;
    diff = y_previous &lt; y ? y - y_previous : y_previous - y;
    if (diff == 1)
      diff1count++;
  } while (diff &gt; 1 || (diff == 1 &amp;&amp; diff1count &lt;= 1));
  y = (y_previous + y) / 2;
  return y;
}
</code></pre>
","2024-02-13 21:51:09","1","Answer"
"77991016","77989584","","<p>So, first of all, you need to know if you want to detect an overflow or if you could just avoid them.</p>
<p>To just avoid them, if you know how long <code>nb</code> can be, maybe you could see if <code>long</code> or <code>long long</code> is big enough. And, if it isn't, maybe the solution proposed by <a href=""https://stackoverflow.com/users/15168"">@Jonathan Leffler</a> of using <code>while (sqrt &lt; nb / sqrt)</code> is the way to making it fit in one of those types.</p>
<p>Now, if you really want/need to check for overflow, then you'll need to check for <code>square_root(MAX_NUMBER_ALLOWED) &lt; sqrt</code>, where <code>MAX_NUMBER_ALLOWED</code> would depend on which type you are using. C/C++ already have constants for that, you can check them <a href=""https://en.cppreference.com/w/c/types/limits"" rel=""nofollow noreferrer"">here</a>.</p>
","2024-02-13 21:39:26","2","Answer"
"77989991","77989900","","<p><code>df$Date</code> is class <code>Date</code> and <code>time_windows</code>'s elements are all strings (and not in unambiguous date formats), so your problem starts in the <strong>middle</strong> of your code block. It helps to step through things line-by-line to see when things are not as you expect.</p>
<pre class=""lang-r prettyprint-override""><code># df &lt;- data.frame(...)
# time_windows &lt;- list(...)
# site_names &lt;- sub(...) |&gt; unique()

# for (window in time_windows) {
window &lt;- time_windows[[1]]        # we'll step through one iteration of the loop
window
# [1] &quot;01/11/1876&quot; &quot;01/03/1877&quot;
class(window)
# [1] &quot;character&quot;

window_df &lt;- df[df$Date &gt;= window[1] &amp; df$Date &lt;= window[2], ]
window_df
# [1] Date                Att-Bissen P [mm]   Att-Bissen PET [mm] Att-Bissen Q [mm]   Rau. Merl P [mm]    Rau. Merl PET [mm]  Rau. Merl Q [mm]   
# &lt;0 rows&gt; (or 0-length row.names)
</code></pre>
<p>If instead you convert your <code>time_windows</code> to proper <code>Date</code>-class, things are different.</p>
<pre class=""lang-r prettyprint-override""><code>time_windows &lt;- lapply(time_windows, as.Date, format = &quot;%m/%d/%Y&quot;)
time_windows
# [[1]]
# [1] &quot;1876-01-11&quot; &quot;1877-01-03&quot;
# [[2]]
# [1] &quot;1876-01-11&quot; &quot;1877-01-09&quot;
# [[3]]
# [1] &quot;1876-01-11&quot; &quot;1878-01-01&quot;
class(time_windows[[1]])
# [1] &quot;Date&quot;

window &lt;- time_windows[[1]]
window_df &lt;- df[df$Date &gt;= window[1] &amp; df$Date &lt;= window[2], ]
window_df
#         Date Att-Bissen P [mm] Att-Bissen PET [mm] Att-Bissen Q [mm] Rau. Merl P [mm] Rau. Merl PET [mm] Rau. Merl Q [mm]
# 1 1876-11-01              48.5                88.4              13.5             43.7               91.4              8.7
# 2 1876-12-01             111.2                88.3              12.6            104.2               91.3             10.6
# 3 1877-01-01              29.7                80.5              11.3             25.5               83.2              8.4
</code></pre>
<p>and the rest of your processing should proceed normally.</p>
<pre class=""lang-r prettyprint-override""><code># after the `for` loop
str(results)
# List of 3
#  $ 1876-01-11 to 1877-01-03:List of 2
#   ..$ Att-Bissen:'data.frame':    1 obs. of  1 variable:
#   .. ..$ runoffcoef: num 0.197
#   ..$ Rau. Merl :'data.frame':    1 obs. of  1 variable:
#   .. ..$ runoffcoef: num 0.16
#  $ 1876-01-11 to 1877-01-09:List of 2
#   ..$ Att-Bissen:'data.frame':    1 obs. of  1 variable:
#   .. ..$ runoffcoef: num 0.197
#   ..$ Rau. Merl :'data.frame':    1 obs. of  1 variable:
#   .. ..$ runoffcoef: num 0.16
#  $ 1876-01-11 to 1878-01-01:List of 2
#   ..$ Att-Bissen:'data.frame':    1 obs. of  1 variable:
#   .. ..$ runoffcoef: num 0.507
#   ..$ Rau. Merl :'data.frame':    1 obs. of  1 variable:
#   .. ..$ runoffcoef: num 0.488

runoff_coefficients &lt;- data.frame(Site = names(results), unlist(results))
runoff_coefficients
#                                                                    Site unlist.results.
# 1876-01-11 to 1877-01-03.Att-Bissen.runoffcoef 1876-01-11 to 1877-01-03       0.1974657
# 1876-01-11 to 1877-01-03.Rau. Merl.runoffcoef  1876-01-11 to 1877-01-09       0.1597463
# 1876-01-11 to 1877-01-09.Att-Bissen.runoffcoef 1876-01-11 to 1878-01-01       0.1974657
# 1876-01-11 to 1877-01-09.Rau. Merl.runoffcoef  1876-01-11 to 1877-01-03       0.1597463
# 1876-01-11 to 1878-01-01.Att-Bissen.runoffcoef 1876-01-11 to 1877-01-09       0.5074551
# 1876-01-11 to 1878-01-01.Rau. Merl.runoffcoef  1876-01-11 to 1878-01-01       0.4882470
</code></pre>
","2024-02-13 17:57:49","2","Answer"
"77989900","","Loop returns NA","<p>The following script <strong>returns &quot;NA&quot; instead of the runoff coefficient function</strong> that has been defined in step 2. I suspect it is because I am no able to relate the Date column to my data. I have to run the runoff coefficient in different <strong>time windows (defined in step 3)</strong> and loop so it can be applied to <strong>all my sites (in this case &quot;Att-Bissen and Rau.Merl)</strong>, the variable &quot;PET&quot; is not used in the runoff coefficient function but in my original data set it is included so I would like to keep it in the data frame. The expected <strong>outcome is a data frame that contains all my sites in column 1, the runoff coefficient calculations from time window 1, 2 and 3 in columns 2, 3 and 4, respectively.</strong></p>
<p>To reproduce the problem I have created the following data frame.</p>
<p>Any help would be truly appreciated!!</p>
<pre><code>#Step 1. Define data frame

df &lt;- data.frame(
  stringsAsFactors = FALSE,
  check.names = FALSE,
  Date = c(&quot;01/11/1876&quot;,&quot;01/12/1876&quot;,
           &quot;01/01/1877&quot;,&quot;01/02/1877&quot;,&quot;01/03/1877&quot;,
           &quot;01/04/1877&quot;,&quot;01/05/1877&quot;,&quot;01/06/1877&quot;,
           &quot;01/07/1877&quot;,&quot;01/08/1877&quot;,&quot;01/09/1877&quot;,
           &quot;01/10/1877&quot;,&quot;01/11/1877&quot;,&quot;01/12/1877&quot;,
           &quot;01/01/1878&quot;),
  `Att-Bissen P [mm]` = c(48.5,111.2,29.7,139.4,90.1,25.9,
                          216,94.6,40.5,NA,64.4,68.8,44.7,
                          34.8,71.9),
  `Att-Bissen PET [mm]` = c(88.4,88.3,80.5,53.4,36.7,20.2,
                            21.6,21.7,21.3,37.6,46.1,66.5,89.8,
                            121.5,87.7),
  `Att-Bissen Q [mm]` = c(13.5,12.6,11.3,12.9,44.6,21.3,
                          194.9,NA,49.1,46.7,63.6,25.4,19.8,
                          15.3,16),
  `Rau. Merl P [mm]` = c(43.7,104.2,25.5,131.3,83.7,21.9,
                         205.2,88.1,35.9,61,59,63.2,40,
                         30.4,66.2),
  `Rau. Merl PET [mm]` = c(91.4,91.3,83.2,54.9,37.5,20.3,
                           21.8,21.8,21.4,38.4,47.3,68.6,NA,
                           125.9,90.7),
  `Rau. Merl Q [mm]` = c(8.7,10.6,8.4,14.3,23.7,14.1,
                         131.6,106.7,40.1,42.4,50.3,24.6,16.7,
                         11.3,13.7))

df$Date &lt;- as.Date(df$Date, format = &quot;%d/%m/%Y&quot;)


# Step 2. Create the runoff coefficient function using &quot;complete.cases&quot; data
runoff_coef &lt;- function(P, Q) {
  complete_rows &lt;- complete.cases(P, Q)
  P_complete &lt;- P[complete_rows]
  Q_complete &lt;- Q[complete_rows]
  runoffcoef &lt;- (mean(Q_complete))/(mean(P_complete))
  return(data.frame(runoffcoef = runoffcoef))
}

# Step 3. Define time windows
time_windows &lt;- list(
  c(&quot;01/11/1876&quot;, &quot;01/03/1877&quot;),#time window 1
  c(&quot;01/11/1876&quot;, &quot;01/09/1877&quot;),# time window 2
  c(&quot;01/11/1876&quot;, &quot;01/01/1878&quot;) #time window 3
)

#Step 4. Extract the name of the sites
site_names &lt;- sub(&quot; P \\[mm\\]| PET \\[mm\\]| Q \\[mm\\]&quot;, &quot;&quot;, names(df)[-1]) |&gt;
  unique()


# Step 5. Loop through each time window
results &lt;- list()
for (window in time_windows) {
  window_df &lt;- df[df$Date &gt;= window[1] &amp; df$Date &lt;= window[2], ]
  

# Calculate the runoff coefficient for each site in the current time window
  window_results &lt;- list()
  for (site in site_names) {
    site_data &lt;- window_df[, grepl(site, names(window_df))]
    result &lt;- runoff_coef(site_data[[paste0(site, &quot; P [mm]&quot;)]], 
                          site_data[[paste0(site, &quot; Q [mm]&quot;)]])
    window_results[[site]] &lt;- result
  }
  
  results[[paste(window, collapse = &quot; to &quot;)]] &lt;- window_results
}

# Step 6. Print the results
results

#Step 7. Unlist results
runoff_coefficients &lt;- data.frame(Site = names(results), unlist(results))
</code></pre>
","2024-02-13 17:42:43","1","Question"
"77989584","","best way to recognize and handle integer overflow in c?","<p>I am so new in C and so far I didn't comprehend how to prevent from integer overflow, I read many articles but still I am not 100% sure!
in this case</p>
<pre><code>int ft_sqrt(int nb)
{
    long int    sqrt;
    
    if (nb &lt;= 0)
        return (0);
    if (nb == 1)
        return (1); 
    sqrt = 1;
    while (sqrt * sqrt &lt; nb)
    {
        sqrt++;
    }
    if (sqrt * sqrt == nb)
        return (sqrt);
    else
        return (0);
}
</code></pre>
<p>to prevent overflow should I use</p>
<blockquote>
<p>long</p>
</blockquote>
<p>? what is the best practice to do that?</p>
","2024-02-13 16:48:45","2","Question"
"77988701","77988323","","<p>Why not consolidate on jQuery?</p>
<p>Note the snippet below is not allowed to run in Stack Overflow</p>
<p>Also I changed the invalid P to a div with a class as suggested in a comment</p>
<p>This one will run <a href=""https://jsfiddle.net/mplungjan/0v1kamyf/"" rel=""nofollow noreferrer"">https://jsfiddle.net/mplungjan/0v1kamyf/</a> but still give error due to security</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const fullScreen = elem =&gt; elem.requestFullscreen &amp;&amp; elem.requestFullscreen(); // all modern browsers including Safari

$(function() {
  $("".node--view-mode-full iframe[src*='.pdf']"").each(function(index) {
    $(this).addClass('fullscreenframe');
    $(this).attr('id', 'fullscreen-' + index);
    $('&lt;button class=""fullScreen""&gt;Open in Fullscreen Mode&lt;/button&gt;&amp;nbsp;&lt;strong&gt;Tip:&lt;/strong&gt; Press the ""Esc"" key to exit full screen.&lt;br&gt;').insertBefore(this);
  });
  $("".fullScreen"").on(""click"", function() {
    const $iFrame = $(this).closest('.wrapper').find('iframe.fullscreenframe');
    if ($iFrame) fullScreen($iFrame.get(0)); // pass the DOM element
  });
});</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js""&gt;&lt;/script&gt;
&lt;div class=""node--view-mode-full""&gt;
  &lt;div class=""wrapper""&gt;&lt;iframe allow=""fullscreen"" allowfullscreen="""" frameborder=""0"" height=""980"" scrolling=""no"" src=""https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"" width=""660""&gt;&lt;/iframe&gt;&lt;/div&gt;
  &lt;div class=""wrapper""&gt;&lt;iframe allow=""fullscreen"" allowfullscreen="""" frameborder=""0"" height=""980"" scrolling=""no"" src=""https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"" width=""660""&gt;&lt;/iframe&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-02-13 14:27:52","1","Answer"
"77988336","77983529","","<p>What you need to do is re-architect the code and make use of the Cloud Storage library for Python. You have already started to use it. You can then process file contents from there. I'd recommend to use the <a href=""https://cloud.google.com/storage/docs/reference/libraries"" rel=""nofollow noreferrer"">official documentation</a> as a starting point, as it contains many good examples.</p>
","2024-02-13 13:36:26","0","Answer"
"77988323","","JavaScript function openFullscreen() , how to get it worked for several iframes on the page","<p>On page I have an iframe with *.pdf file in src.</p>
<pre class=""lang-html prettyprint-override""><code>&lt;div class=&quot;node--view-mode-full&quot;&gt;

&lt;p&gt;&lt;iframe allow=&quot;fullscreen&quot; allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;980&quot; scrolling=&quot;no&quot; src=&quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot; width=&quot;660&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;

&lt;p&gt;&lt;iframe allow=&quot;fullscreen&quot; allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;980&quot; scrolling=&quot;no&quot; src=&quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot; width=&quot;660&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;

&lt;/div&gt;
</code></pre>
<p>The build-in pdf-viewers in browsers now do not support fullscreen mode in iframes.</p>
<p>I found the solution <a href=""https://www.w3schools.com/howto/howto_js_fullscreen.asp"" rel=""nofollow noreferrer"">https://www.w3schools.com/howto/howto_js_fullscreen.asp</a>, that resolves the problem - open the iframe in fullscreen mode. In example from w3schools the button, that opens the iframe, already exists in HTML <a href=""https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_fullscreen"" rel=""nofollow noreferrer"">https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_fullscreen</a>.</p>
<p>In my solution, I add button via JavaScript, because pages with iframes already exist without such buttons:</p>
<pre><code>jQuery(document).ready(function($){

    $(&quot;.node--view-mode-full iframe[src*='.pdf']&quot;).each(function (index) {
        $(this).addClass('fullscreenframe');
        $(this).attr('id', 'fullscreen-'+index);
        $('&lt;button onclick=&quot;openFullscreen()&quot;&gt;Open in Fullscreen Mode&lt;/button&gt;&amp;nbsp;&lt;strong&gt;Tip:&lt;/strong&gt; Press the &quot;Esc&quot; key to exit full screen.&lt;br&gt;').insertBefore(this);
    });

});
</code></pre>
<p>and after that add a function that opens iframe on fullscreen (same as on w3schools):</p>
<pre><code>function openFullscreen() {
  var elem = document.getElementsByClassName(&quot;fullscreenframe&quot;)[0];
  if (elem.requestFullscreen) {
    elem.requestFullscreen();
  } else if (elem.webkitRequestFullscreen) { /* Safari */
    elem.webkitRequestFullscreen();
  } else if (elem.msRequestFullscreen) { /* IE11 */
    elem.msRequestFullscreen();
  }
};
</code></pre>
<p>Everything working fine when I have only one iframe with *.pdf on the page. But when I have two or more iframes on the page, and I clicking on a any button &quot;Open in Fullscreen Mode&quot; near any iframe, I always see only first *.pdf on fullsceen mode...</p>
<p>I know, that it happens because I get only first iframe in <code>elem = document.getElementsByClassName(&quot;fullscreenframe&quot;)[0]; </code></p>
<p>I know that I need to use each or something like that, but I can't to resolve it. In search all solutions about one fullscreen element on the page and there is no solution about multiple elements on the page.</p>
","2024-02-13 13:35:06","0","Question"
"77985131","77953329","","<p>The <code>e</code> parameter you provide to your callback function is the event object, which contains some useful data about the event (ex: a button click) which triggered this callback. Flet passes this information to your callback function when calling it.</p>
<p>This event object <code>e</code> is of type <code>ControlEvent</code>, but could sometimes be of another type - which inherits from <code>ControlEvent</code> - containing more data on the event. (example <a href=""https://flet.dev/docs/controls/container#on_click"" rel=""nofollow noreferrer"">here</a>)</p>
<p>5 basic information are contained in the <code>ControlEvent</code> (see them <a href=""https://github.com/flet-dev/flet/blob/main/sdk/python/packages/flet-core/src/flet_core/control_event.py#L5"" rel=""nofollow noreferrer"">here</a>) - below, the description of the most useful ones:</p>
<ul>
<li><code>e.control</code>: the control through which the event got triggered</li>
<li><code>e.data</code>: some possible extra data on the event</li>
<li><code>e.page</code>: the page on which the event was triggered</li>
<li><code>e.name</code>: the event's name (ex: &quot;click&quot;, &quot;dismiss&quot;)</li>
</ul>
<p>If you find the need to see all the information contained in the event object, you could just use print statements as below:</p>
<pre class=""lang-py prettyprint-override""><code>import flet as ft

def main(page: ft.Page):
    def handle_click(e: ft.ControlEvent):
        print(e.__dict__)  # all
        print(f&quot;e.data: {e.data}&quot;)  # single info
        print(f&quot;e.name: {e.name}&quot;)  # single info

    page.add(ft.ElevatedButton(&quot;Press me to see data&quot;, on_click=handle_click))


ft.app(target=main)
</code></pre>
<p><strong>Note</strong> that instead of <code>e</code>, you could name that parameter as you want or could even ignore it using the <code>_</code> if you don't find it useful - we are in python. <code>e</code> is the short form for event, and has gotten quite popular in the Flet community.</p>
","2024-02-13 01:22:26","1","Answer"
"77983529","","Can I change Google cloud functions working directory?","<p>I have a python script that works locally. It processes text files and imports rows to a google sheet. I am trying to run this script using cloud functions and a cloud storage bucket to automate the process.</p>
<p>Can I change the working directory to the bucket directory? Or do I have to download the files from the bucket as text to process them and run the code?</p>
<p>If I can change the working directory, the script should run as is and I won't have to use the storage module from google.cloud (I am assuming).</p>
<p>If I do have to download the files, I will have to figure out how to use glob.glob() to loop through the files in the directory and only process certain files.</p>
<p>Anyone know the best way to go about this?</p>
<p>I am currently able to download a file and process it but, I have to call out the file name explicitly and cannot use glob.glob to find files that match a certain pattern.</p>
<p>Below you can see, the first half of this code where I am able to download the file and start processing it.</p>
<p>Within the function, you can see how it would work typically if I could just point to the directory the files are in.</p>
<pre><code>from google.cloud import storage
from cloudevents.http import CloudEvent
import functions_framework
import glob
import os
#Can I change the working directory?
#os.chdir(bucket)
#print(os.getcwd())

# Instantiates a client
client = storage.Client()
bucket_name = 'working_files'
bucket = client.get_bucket(bucket_name)

#This will show me all of the files in the directory
#blobs = client.list_blobs('working_files')
#for blob in blobs:
#  print(blob.name)

##I have to call out the specific file name for this to work.
blob = bucket.blob(&quot;explicit_file_name.txt&quot;)
blob = blob.download_as_text()
#example of the work we will do in the file
Main_DF = blob[50:100]
##Splitting the data and cleaning out the = dividers
Main_DF = [row.strip().replace('=','').split(', ') for row in Main_DF]
##Getting rid of whitespace
Main_DF = [row[0].split() for row in Main_DF]
print(Main_DF)

@functions_framework.cloud_event
def hello_gcs(cloud_event: CloudEvent):
  ##example of how the code would typically work if I could just iterate through files in the direcotry
  Daily_File = [f for f in glob.glob(&quot;*common_identifier*&quot;)]
  if Daily_File == []:
     
      print(&quot;No relevant file found&quot;)
      #Daily_File
  else:
    print(Daily_File)
</code></pre>
","2024-02-12 18:22:01","0","Question"
"77981172","77975414","","<p>Well, in your code, the function <code>arrayCounter(int arr[40][50])</code> expects a parameter of an <code>array</code> type, but what you give it is <code>array[i][j]</code>, and that is a cell of <code>array</code>. That means what you give it is a member of the array, but not an array.<br />
Since your function is defined with a <code>array</code> parameter with a fixed size, you can just call the function with the name of <code>array</code> as a parameter, like <code>arrayCounter(array)</code>.</p>
<p>Another problem in your code is that, since the function expects a <code>array</code>, if you want to calculate with the array, you have initialize it. In your code, <code>array</code> is initialized in the <code>for</code> loop. That means, if you call <code>arrayCounter</code> in the inner loop, it is not ready. Therefore you have to put <code>printf(&quot;%d&quot;, arrayCounter(array[i][j]));</code> after the <code>for</code> loop.</p>
<p>This is the edited code:</p>
<pre class=""lang-c prettyprint-override""><code>#include&lt;stdio.h&gt;

int arrayCounter(int arr[40][50]) {
    int counter = 0;
    for (int i = 0; i &lt; 40 ; i ++) {
        for (int j = 0 ; j &lt; 50 ; j ++) {
            if(arr[i][j] % 6  == 0 &amp;&amp; arr[i][j] % 5 !=0 ) {
                counter ++;
            }
        }
    }
    return counter;
}

int main() {
    int array[40][50];
    for (int i = 0; i &lt; 40; i++) {
        for(int j = 0; j &lt; 50; j++) {
            array[i][j] = (i+1) * (j+1);
        }
    }
    printf(&quot;%d&quot;, arrayCounter(array));
    return 0;
}
</code></pre>
<p>This the output:</p>
<pre><code>533
</code></pre>
","2024-02-12 11:34:22","0","Answer"
"77980151","77975414","","<p>This prototype says that the function accepts a pointer to an array of array of 50 <code>int</code>:</p>
<pre><code>int arrayCounter(int arr[40][50]);
</code></pre>
<p>But this call is passing a single <code>int</code> from the contents of <code>array</code>:</p>
<pre><code>arrayCounter(array[i][j])
</code></pre>
<p>That's what the compiler message is telling you.</p>
","2024-02-12 08:28:01","1","Answer"
"77978641","77978518","","<p>I found a solution as follows:</p>
<pre><code>formula &lt;- '6.1121 * exp(((18.678 - ta/234.5) * ta)/(ta + 257.14)) * 100'

ta = c(20,5,-10)
rh = c(50,40,70)

iterative_Td &lt;- function(formula, ta, rh){
  es &lt;- function(ta){
    parse(text = formula)}

  Td_array &lt;- rep(NA,length(ta))
  ea &lt;- eval(es(ta)) * rh/100

  for (i in 1:length(ea)){
    Td_array[i] = optimize(function(ta){abs(ea[i] - 
        eval(es(ta[i])))}, c(-100,100), tol = 0.00001)$minimum}

  return(Td_array)}

&gt; iterative_Td(formula,ta,rh)
[1]   9.270961  -7.478382 -14.430393
</code></pre>
","2024-02-11 22:23:19","2","Answer"
"77978518","","How to use algebraic formula as an argument in an R function","<p>I have a long list of different formulations for atmospheric vapor pressure.  I would like to make evaluation of these easier by writing a function that uses the formula as an argument, and finds a solution with the optimization function.  The code without a function looks like this (as an example):</p>
<pre><code>  es &lt;- function(ta){6.1121 * exp(((18.678 - ta/234.5) * ta)/(ta + 257.14)) * 100}
  ea &lt;- es(ta) * rh/100
  result &lt;- optimize(function(ta){abs(es - es(ta))}, c(-100,100), tol = 0.00001)$minimum
</code></pre>
<p>The formula inside the brackets in the &quot;es&quot; function is what I want to be used as an argument.  Some code I've tried looks like this:</p>
<pre><code>formula &lt;- '6.1121 * exp(((18.678 - ta/234.5) * ta)/(ta + 257.14)) * 100'

iterative_Td &lt;- function(formula, ta, rh){
  es &lt;- function(ta){
    substitute(formula)}

    ea &lt;- es(ta) * rh/100

    return(optimize(function(ta){abs(ea - es(ta))}, c(-100,100), tol = 0.00001)$minimum)}
</code></pre>
<p>How do I reference the formula in the iterative_Td function to make this work?  I've tried various configurations of quote, eval, and substitute. None of them work.  Thank you.</p>
<p>EDIT: to test, a value of 20 for ta and 50 for rh is good.  You should get a Td value of 9.2506.</p>
","2024-02-11 21:38:21","1","Question"
"77978260","77967179","","<p>You could use bcc's <code>stackcount</code> to do this. It relies on eBPF to aggregate stack traces in the kernel. To trace the write(2) syscall for your process, you can run:</p>
<pre><code>stackcount-bpfcc -p [pid_of_your_process] t:syscalls:sys_enter_write
</code></pre>
<p>On Ubuntu, you can install it with <code>apt install bpfcc-tools</code>. See <a href=""https://github.com/iovisor/bcc/"" rel=""nofollow noreferrer"">https://github.com/iovisor/bcc/</a> for more details.</p>
","2024-02-11 20:12:16","0","Answer"
"77977185","77963731","","<p>The format in <code>parse_date</code> does not match the sample dates.</p>
<pre><code>WITH
  sample AS (SELECT * FROM UNNEST([&quot;10/12/2007&quot;,&quot;10-12-2007&quot;]) AS date_col )
SELECT
  FORMAT_DATE('%Y-%m-%d', PARSE_DATE('%d/%m/%Y', REPLACE(date_col, '-', '/'))) AS new_date_column,
  FORMAT_DATE('%Y-%m-%d', PARSE_DATE(if( contains_substr(date_col, '/') , '%d/%m/%Y','%d-%m-%Y'), date_col)) AS new_date_column,
  
FROM   sample
</code></pre>
","2024-02-11 14:54:13","0","Answer"
"77976227","77976186","","<p>Change &quot;Lizzard Man&quot; to &quot;Lizzard man&quot; in your <code>elif</code> condition</p>
","2024-02-11 09:26:35","0","Answer"
"77976186","","I'm not sure why my def dice_game() is not being called when it is supposed to","<p>So I have been trying to solve the problem, but I could not. When it asks for an NPC to pick and I pick the Lizzard man, the game that should call the function dice_game(), it does not want to be called. But I have no idea why. Below are the codes that I feel like is related to the problem that I am facing right now.</p>
<pre><code>import random

#Dice Rolling Function
def dice_roll():
    dice_side = [1, 2, 3, 4, 5, 6]
    return random.choice(dice_side)

# Lizzard Man Mini Game: Dice Game
def dice_game():
    global points
    user_sum = 0
    npc_sum = 0
    while user_sum &lt; 50 and npc_sum &lt; 50:
        user_dice = dice_roll()
        npc_dice = dice_roll()
        print(f&quot;You rolled: {user_dice}&quot;)
        print(f&quot;Lizzard Man rolled: {npc_dice}&quot;)

        user_sum += user_dice
        npc_sum += npc_dice

        print(f&quot;Your current sum is {user_sum}&quot;)
        print(f&quot;Lizzard Man's current sum is {npc_sum}&quot;)

        if user_sum &gt;= 50:
            print(f&quot;Congratulations, {username}!! You have earned 10 points from winning.&quot;)
            points += 10
            confirmed_npc_function()
        elif npc_sum &gt;= 50:
            print(f&quot;{username}, sadly you have lost the game.&quot;)
            points += 5
            confirmed_npc_function()
        else: 
            print(&quot;Please type in 1 to roll the dice.&quot;)

#User Input Validation
def validate_input(prompt, valid_options):
    while True:
        user_input = input(prompt)
        if user_input in valid_options:
            return user_input
        else:
            print(&quot;Please enter a valid option.&quot;)

# Starting Point of Game: The Hidden Garden
def hidden_garden():
    global username
    print('\nWould you like to start a journey by opening the hidden pathway to the lost garden?')
    start_option = input(&quot;Enter 'Yes' or 'No': &quot;)

    if start_option.lower() == &quot;yes&quot;:
        username = input(&quot;What is your name?: &quot;)
        if username.isalpha():
            print(f'\n{username.title()}, you are now the chosen warrior to save the village from the Dragon King.')
            spawn_area()
        else:
            print(f'\nSorry, please only type in alphabetical characters for your username.')
    else:
        print('Hoping to see you again next time!')

# NPC Confirmation Function
def confirmed_npc_function():
    global confirmed_npc
    confirmed_npc = &quot;&quot;
    while True:
        print(&quot;\nList of NPCs:&quot;)
        for npc in npc_lists:
            print(npc)
        conversation = input(&quot;\nNow, which NPC would you like to have a conversation with?: &quot;).capitalize()
        if conversation in [npc.capitalize() for npc in npc_lists]:
            confirmed_npc = conversation
            break
        else:
            print(&quot;\nInvalid NPC selection. Please pick the correct NPC from the list.&quot;)
            continue
    
    npc_confirmation = input(f&quot;\nAre you sure that you would want to talk to the {confirmed_npc}?\nType in 'Yes' or 'No': &quot;)
        
    if npc_confirmation.lower() == &quot;yes&quot;:
        if confirmed_npc == &quot;Witch&quot;:
            witch_story()
        elif confirmed_npc == &quot;Lizzard Man&quot;:
            dice_game()
        elif confirmed_npc == &quot;Vampire&quot;:
            vampire_mg()
        elif confirmed_npc == &quot;Phoenix&quot;:
            phoenix_mg()
        elif confirmed_npc == &quot;Angel&quot;:
            angel_mg()
    else:
        print(&quot;\nInvalid NPC selection. Please pick the correct NPC from the list.&quot;)
        confirmed_npc_function()
</code></pre>
<p>I tried asking ChatGPT and tried to search online why it is not working, but I could not. I am expecting the def dice_game() to be called when user types in lizzard man, and then confirms to talk with the lizzard man</p>
","2024-02-11 09:09:02","0","Question"
"77975919","77975421","","<p><strong>Issue</strong></p>
<ul>
<li>With csv.reader object, each row is a list of the field values.</li>
<li>Since you desire to reference values by fieldnames you should use DictReader which provides a dictionary rather than a list.</li>
<li>DictReader maps the information in each row to a dictionary
whose keys correspond to the fieldnames.</li>
</ul>
<p><strong>Code</strong></p>
<pre><code>import csv
from statistics import median

def median_age(filename):
  with open(filename, 'r') as file:
    reader = csv.DictReader(file, delimiter = '\t')

    # Generator for ages
    # row is dictonary of fieldnames/values pairs
    customer_age = (2024 - int(row['birth_year']) for row in reader)
             
    return median(customer_age)
</code></pre>
<p><strong>Example Usage</strong></p>
<p><em>Input File:</em> data.csv</p>
<pre><code>first   last    birth_year
paul    henry   2019
bill    thompson    1995
mary    allen   2003
jennifer    davis   2015
liz morgan  1999
</code></pre>
<p><em>Test Code</em></p>
<pre><code>median_customer_age = median_age('data.csv')
print(f'File data.csv median age: {median_customer_age}')
</code></pre>
<p><em>Output</em></p>
<pre><code>File data.csv median age: 21
</code></pre>
","2024-02-11 07:17:18","0","Answer"
"77975693","77975414","","<blockquote>
<p><em>I know C is weird when it comes to 2D arrays</em></p>
</blockquote>
<p>Well, this is an opinion.</p>
<p>C was written to aid in the writing of Unix, the operating system. An array in C is very close to the memory and the machine, as in Assembler: an array is an <em>address</em> and and <em>offset</em>. Others can say it is smart and really really fast.</p>
<p>And in C there is no such thing as 2D arrays or multi-dimensional arrays like in FORTRAN. There is just an array. But an array can be an array of arrays of arrays and so on...</p>
<p>When you declare</p>
<pre><code>    int array[40][50];
</code></pre>
<p>you are declaring a name, <code>array</code> as a variable of a type, <code>int</code>. The presence of <code>[]</code> turns this into an array of <code>int</code>. So here <code>array</code> in an array of <code>int</code>. In fact as we have 2 sets of <code>[]</code> then
<code>array</code> is an array of 40 arrays of 50 <code>int</code>, and <code>array</code> is a pointer, the address of the first of these 2,000 <code>int</code>.</p>
<p>And <code>array[0]</code> is <code>int[50]</code>, <code>array[1]</code> is <code>int[50]</code> and so on.</p>
<p>The output of this command</p>
<pre><code>    int array[40][50] = {0};
    printf(&quot;\
    size of `array` is %llu\n\
    size of 'int' here is %llu\n\
    size of array[0] is %llu\n&quot;,
    sizeof(array),sizeof(int),sizeof(array[0]));
</code></pre>
<p>is here</p>
<pre class=""lang-none prettyprint-override""><code>    size of `array` is 8000
    size of 'int' here is 4
    size of array[0] is 200
</code></pre>
<p>and you can do the math.</p>
<p>The array starts at <code>array</code>, has 8,000 bytes, the last element is <code>array[39][49]</code></p>
<p>When you pass this to a function this address is what is passed. The type is, as you declared, <code>int[40][50]</code> and C has pointer arithmetic: based on the type size, so <code>array[1][19]</code> is an <code>int</code> and can be set as easy as <code>array[1][19] = 42</code>. Starting at <code>array</code> address (so array is a pointer at some sense), the elements are placed row after row in memory.<br />
So if you have a pointer to <code>int</code> you can build upon this arithmetic and get the value from <code>array[1][19]</code> as</p>
<pre><code>    array[1][19] = 42;
    int* pI      = array[1] + 19;
    printf(
        &quot;\
    array[1][19] = %d, *pI = %d [1]\n&quot;,
        array[1][19], *pI);
    pI  = (int*) (array[0] + sizeof(array[0])/sizeof(int) + 19);
    *pI = 17;
    printf(
        &quot;\
    array[1][19] = %d, *pI = %d [2]\n&quot;,
        array[1][19], *pI);
</code></pre>
<p>and the <code>printf</code> calls shows</p>
<pre class=""lang-none prettyprint-override""><code>    size of `array` is 8000
    size of 'int' here is 4
    size of array[0] is 200
    array[1][19] = 42, *pI = 42 [1]
    array[1][19] = 17, *pI = 17 [2]
</code></pre>
<h3><code>arrayCounter</code> just returns a number</h3>
<pre><code>int arrayCounter(int arr[40][50])
{
    int counter = 0;
    for (int i = 0; i &lt; 40; i++)
        for (int j = 0; j &lt; 50; j++)
            if (arr[i][j] % 6 == 0)
                if (arr[i][j] % 5 != 0) counter++;
    return counter;
}
</code></pre>
<p>You may find easier to read this way</p>
<h2>complete example</h2>
<pre><code>#include &lt;stdio.h&gt;
// Answer to #1
int arrayCounter(int arr[40][50])
{
    int counter = 0;
    for (int i = 0; i &lt; 40; i++)
        for (int j = 0; j &lt; 50; j++)
            if (arr[i][j] % 6 == 0)
                if (arr[i][j] % 5 != 0) counter++;
    return counter;
}

int main(void)
{
    int array[40][50] = {0};
    printf(
        &quot;\
    size of `array` is %llu\n\
    size of 'int' here is %llu\n\
    size of array[0] is %llu\n&quot;,
        sizeof(array), sizeof(int), sizeof(array[0]));

    array[1][19] = 42;
    int* pI      = array[1] + 19;
    printf(
        &quot;\
    array[1][19] = %d, *pI = %d [1]\n&quot;,
        array[1][19], *pI);
    pI  = (int*)(array[0] + sizeof(array[0]) / sizeof(int) +
                19);
    *pI = 17;
    printf(
        &quot;\
    array[1][19] = %d, *pI = %d [2]\n&quot;,
        array[1][19], *pI);
    for (int i = 0; i &lt; 40; i++)
        for (int j = 0; j &lt; 50; j++)
            array[i][j] = (i + 1) * (j + 1);
    printf(
        &quot;\n    cells that are divisible by 6 but not by 5: &quot;
        &quot;%d\n\n&quot;,
        arrayCounter(array));
}
</code></pre>
<h3>output</h3>
<pre class=""lang-none prettyprint-override""><code>    size of `array` is 8000
    size of 'int' here is 4
    size of array[0] is 200
    array[1][19] = 42, *pI = 42 [1]
    array[1][19] = 17, *pI = 17 [2]

    cells that are divisible by 6 but not by 5: 533
</code></pre>
","2024-02-11 05:24:22","2","Answer"
"77975421","","Having an issue calculating age using csv file without importing it completely into memory","<p>I keep getting the following error. don't know how to fix it.</p>
<pre><code>TypeError: '_csv.reader' object is not subscriptable
</code></pre>
<p>.....</p>
<pre><code>def median_age(filename):
    
    with open(filename, 'r') as file:
        
        data = csv.reader(file,delimiter = '\t')
        
        next(data) # Skips the header of the csv file
        
        customer_age = (2024 - int(data['birth_year']) for row in data)
        
        median_customer_age = statistics.median(customer_age)
        
        return median_customer_age
</code></pre>
","2024-02-11 02:49:54","0","Question"
"77975414","","Why my program throws ""incompatible integer to pointer conversion"" error when using function of 2D array parameter?","<p>I am getting the following error:<br />
<code>warning: incompatible integer to pointer conversion passing 'int' to parameter of type 'int (*)[50]'</code></p>
<p>I am trying to pass a function that will traverse each cell in the 2D array &amp; count the values in the cells that are divisible by 6 but not by 5. For some reason, I am getting the above error but don't know why &amp; can't find anything online related to the error.<br />
I think C is weird when it comes to 2D arrays and I think it has something to do with that but any advise would be appreciated.</p>
<p>My code is below :</p>
<pre class=""lang-c prettyprint-override""><code>#include&lt;stdio.h&gt;

int arrayCounter(int arr[40][50]) {
    int counter = 0; 
    for (int i = 0; i &lt; 40 ; i ++) {
        for (int j = 0 ; j &lt; 50 ; j ++) {
            if(arr[i][j] % 6  == 0 &amp;&amp; arr[i][j] % 5 !=0 ) {
                counter ++;
            }
    
        }
    }
    return counter;
}

int main() {
    int array[40][50];
    for (int i = 0; i &lt; 40; i++) {
        for(int j = 0; j &lt; 50; j++) {
            array[i][j] = (i+1) * (j+1);
            printf(&quot;%d&quot;, arrayCounter(array[i][j]));
        }
    }
    return 0;
}
</code></pre>
<p>I didn't try much other than add '&amp;' in front of the array[i][j] to see if that would solve the error but to no avail. I am not a beginner of C but coming back to it after years of not using the language at all.</p>
<p>One of my biggest confusions is why the program is stating my parameter is a pointer for the first array when its clearly defined in the function.</p>
","2024-02-11 02:46:39","0","Question"
"77975095","77975010","","<p>Declare <code>z</code> before your loop. You will need to give it some default value - the value you want to use for the first loop.</p>
<p>Then use <code>z</code> within the loop. Until you reassign the variable, it will be the last loop's value.</p>
<pre><code>int z = 1;
for (int i = 0; i &lt; 10; i++)
{
    z = function(z);
}
</code></pre>
","2024-02-10 23:35:18","-2","Answer"
"77975010","","How to use the result of a function as a parameter in a loop?","<p>Using C#, I want to loop through a method with the result of the first iteration being used as a parameter for the next.</p>
<p>Ex:</p>
<pre><code>public int function(int x)
{

y = x + 1;

return y;

}

for (int i = 0; i &lt; 10; i++)
{

//I want to use the result of this function as the next parameter in the loop//

int z = function(1);

}
</code></pre>
","2024-02-10 22:57:25","-2","Question"
"77973968","77973776","","<p><code>is_acyclic</code> is not an &quot;associated function&quot;, it's a method. This means that it takes a <code>self</code> parameter in some way. In your case, since it's part of a trait implementation for <code>Network&lt;Node&lt;T&gt;&gt;</code>, its prototype is equivalent to:</p>
<pre><code>fn is_acyclic (self: &amp;Network&lt;Node&lt;T&gt;&gt;) -&gt; bool;
</code></pre>
<p>Given an instance <code>net</code> of type <code>Network&lt;Node&lt;T&gt;&gt;</code>, it is usually called with the <a href=""https://doc.rust-lang.org/reference/expressions/method-call-expr.html"" rel=""nofollow noreferrer"">method call syntax</a> <code>net.is_acyclic()</code>, but it can also be called with the <a href=""https://doc.rust-lang.org/reference/expressions/call-expr.html#disambiguating-function-calls"" rel=""nofollow noreferrer"">fully qualified syntax</a>: <code>Network::&lt;Node::&lt;T&gt;&gt;::is_acyclic (&amp;net)</code>. So in your case, this should work:</p>
<pre><code>#[test]
fn acyclic() {
    // Need to replace the `?????` with the real type that `gen_test_nets`
    // and `Network::new_random` create.
    assert!(run_test(10, Network::&lt;Node::&lt;?????&gt;&gt;::is_acyclic))
}
...
fn run_test(n: usize, f: for&lt;'a&gt; fn (&amp;'a Network&lt;Node&lt;?????&gt;&gt;) -&gt; bool) -&gt; bool {
    let mut results = vec![];
    for _ in 0..n {
        let (l,r) = gen_test_nets();
        // You can find out the real type of `net` with an IDE or:
        // let net: () = Network::new_random(l, r);
        // which will fail to compile and the error message will give
        // you the actual type.
        let mut net = Network::new_random(l, r);
        results.push(f (&amp;net));
    }
    results.iter().all(|&amp;x| x)
}
</code></pre>
<hr />
<p>Unrelated to your question, but your code would be a lot more efficient like this:</p>
<pre><code>fn run_test(n: usize, f: for&lt;'a&gt; fn (&amp;'a Network&lt;Node&lt;?????&gt;&gt;) -&gt; bool) -&gt; bool {
    (0..n).all (|_| {
        let (l,r) = gen_test_nets();
        // You can find out the real type of `net` with an IDE or:
        // let net: () = Network::new_random(l, r);
        // which will fail to compile and the error message will give
        // you the actual type.
        let mut net = Network::new_random(l, r);
        f (&amp;net)
    })
}
</code></pre>
<p>This version avoids allocating a temporary vector (and reallocating it as it grows), and returns as soon as one of the test returns <code>false</code> without wasting time doing the others.</p>
","2024-02-10 17:11:27","2","Answer"
"77973776","","Passing associated function of type as parameter","<p>I have an implementation of a type <code>Network</code> with the associated function <code>pub fn is_acyclic(&amp;mut self) -&gt; bool</code>. I am trying to create a generic function <code>fn run_test(n: usize, f: fn()-&gt;bool)</code> so I can pass functions of the same signature as <code>Network::is_acyclic</code> so I can apply these functions on constructed <code>Network</code>s <code>n</code> times.</p>
<p>See my code here:</p>
<pre><code>#[test]
fn acyclic() {
    assert!(run_test(10, Network::is_acyclic))
}
...
fn run_test(n: usize, f: fn()-&gt;bool) -&gt; bool {
    let mut results = vec![];
    for _ in 0..n {
        let (l,r) = gen_test_nets();
        let mut net = Network::new_random(l, r);
        results.push(net.f());
    }
    results.iter().all(|&amp;x| x)
}
</code></pre>
<p>I am getting 2 errors in particular:</p>
<pre><code>Mismatched Types ...
   = note: expected fn pointer 'fn(Network&lt;_&gt;) -&gt; _'
                 found fn item 'for&lt;'a&gt; fn(&amp;'a mut Network&lt;Node&lt;_&gt;&gt;) -&gt; _ {Network::&lt;Node&lt;_&gt;&gt;::is_acyclic}'
</code></pre>
<p>Which I gather implies I am passing <code>Network::is_acyclic</code> wrong in the <code>acyclic</code> method. I have tried passing as <code>Network::is_acyclic()</code>, I had tried <code>Try</code> and <code>as</code> in various forms that I have found in similar questions online which I honestly didn't understand what I was doing. I also tried <code>where</code> keyword on the <code>run_test</code> definition which I think is supposed to coerce the parameter type into a function, though I don't believe that's the problem since it knows I am trying to have a function pointer as an argument (which is what I believe I want).</p>
<p>I have also tried this version of <code>run_test</code> method with the same results</p>
<pre><code>fn run_test&lt;T&gt;(n: usize, f: fn(Network&lt;T&gt;)-&gt;bool) -&gt; bool {
    let mut results = vec![];
    for _ in 0..n {
        let (l,r) = gen_test_nets();
        let mut net = Network::new_random(l, r);
        results.push(net.f());
    }
    results.iter().all(|&amp;x| x)
}
</code></pre>
<p>In particular, <code>is_acyclic</code> is implement in <code>impl&lt;T: Clone + PartialEq + Eq + Hash&gt; Network&lt;Node&lt;T&gt;&gt;</code> and I have tried making all of these declarations in the test method with no luck. I get the same errors &quot;expected function pointer, found function item&quot; along with a few bonus errors along the lines of <code>associated type bindings are not allowed here... assert!(run_test::&lt;T: Clone + PartialEq + Eq + Hash&gt;(10, Network::is_acyclic))</code>.</p>
<p>The other error I am getting is <code>no method named 'f' found for struct 'Network' in the current scope</code> on the line <code>results.push(net.f());</code> in <code>run_test</code>. I am not sure if this error will resolve on its own once I have correctly passed a function pointer as <code>f</code> in that method.</p>
","2024-02-10 16:11:50","0","Question"
"77973067","77971728","","<p>You were soooo close to the solution. So in your function, you need just 2 changes.</p>
<p>First, you need to provide the length of the array, as math.random requires your range.</p>
<p>Second, you already have the randomised element at this point, not the index, so there is no need to try to use it as an index.</p>
<p>Im currently on my mobile so please ignore syntax issues! But something like this should work:</p>
<pre><code>let choices = [&quot;Rock&quot;, &quot;Paper&quot;, &quot;Scissors&quot;];

function getComputerChoice(){

let choice = choices[Math.floor(Math.random()*choices.length)];

return choice;

}
</code></pre>
","2024-02-10 12:36:17","1","Answer"
"77971728","","Null is popping up when it shouldn't be","<p>New JavaScript coder here, self taught. Learning for fun and very confused along the way.</p>
<p>Anyway when I check my code on the browser, &quot;null&quot; comes up for &quot;computerSelection&quot;. Here is my code:</p>
<pre><code>    let choices = [&quot;Rock&quot;, &quot;Paper&quot;, &quot;Scissors&quot;];

    function getComputerChoice(){
    let choice = choices[Math.floor(Math.random())];
    let computerSelection = (choices[choice]);
    return computerSelection
    }
</code></pre>
<p>How do I go about doing this properly so that it works?</p>
<p>I tried programming it in the way I thought was correct with variables in the function and I expected it to return a choice of rock, paper or scissors. Instead, all I get is &quot;null&quot; :/</p>
","2024-02-10 02:38:31","0","Question"
"77970604","77970509","","<p>First make sure you are returning the correct value from your function and match up the parameter names to how you are calling the function. Also set it up so you can pass in the column name as a character value/string rather than a bare symbol</p>
<pre><code>my_function = function(individual_dataframe, increasing_order, column_to_order){
  output_dataframe = if(increasing_order == T){
    individual_dataframe[order(individual_dataframe[[column_to_order]],decreasing = F),]
  }else {
    individual_dataframe[order(individual_dataframe[[column_to_order]],decreasing = T),]
  }
  return(output_dataframe)
}
</code></pre>
<p>And then you can use the following syntax putting the column name in quotes.</p>
<pre><code>ordered_iris_species = lapply(iris_species, my_function,
                              increasing_order = F,
                              column_to_order = &quot;Sepal.Length&quot;)

</code></pre>
","2024-02-09 20:11:21","1","Answer"
"77970509","","lapply a function for a specific column in each dataframe in a list of dataframes?","<p>I'm trying to apply a function that orders a specific column in each dataframe within a list of dataframes using lapply. I am mostly confused on how to call a specific column from each dataframe while having lapply go through each dataframe.</p>
<p>My code for the function, which orders a column in a dataframe by either decreasing or increasing depending on a logical condition</p>
<pre><code>my_function = function(individual_dataframe, logical_condition, column_to_order){
  output_dataframe = if(logical_condition == T){
    individual_dataframe[order(column_to_order,decreasing = F),]
  }else {
    individual_dataframe[order(column_to_order,decreasing = T),]
  }
    return(ordered_dataframe)
  }
</code></pre>
<p>I now want to apply this function to a list of dataframes using lapply, ordering a specific column in each dataframe.</p>
<p>Data replication using the iris dataset:</p>
<pre><code>iris_species = split(iris, iris$Species)
</code></pre>
<p>Code I have tried, attempting to sort Sepal.length</p>
<pre><code>ordered_iris_species = lapply(iris_species, 
       FUN = my_function(df = iris_species[[]],
                            increasing_order = F,
                            column_to_order = Sepal.length))

ordered_iris_species = lapply(iris_species, 
       FUN = my_function,
             increasing_order = F,
             column_to_order = iris_species[[1]]$Sepal.length))

</code></pre>
<p>output in the first instance asks for a subscript.
output in the second instance orders only the first dataframe.
How do I order the Sepal.length column for each dataframe within iris_species?</p>
","2024-02-09 19:49:29","0","Question"
"77969565","77969006","","<p>You could use <code>event.target.id</code> when you pass event in function,
each button must have its own id.</p>
<p>example:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code> function XonSquare(event) {
        document.getElementById(event.target.id).innerHTML = ""X"";
      }</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code> &lt;button id=""cell1"" onclick=""XonSquare(event)""&gt;-&lt;/button&gt;
    &lt;button id=""cell2"" onclick=""XonSquare(event)""&gt;-&lt;/button&gt;
    &lt;button id=""cell3"" onclick=""XonSquare(event)""&gt;-&lt;/button&gt;</code></pre>
</div>
</div>
</p>
","2024-02-09 16:34:03","1","Answer"
"77969183","77969006","","<p>The whole point of HTML IDs is that they are unique, and therefore addressable.  You're giving all cells the same ID.  You should give them all the same class, but unique IDs, so your function can change the appropriate ID's content to an X.</p>
<p>Code example:</p>
<pre><code>&lt;button id=&quot;cell1&quot; class=&quot;cell&quot; onClick=&quot;XonSquare(1)&quot;&gt;-&lt;/button&gt;
&lt;button id=&quot;cell2&quot; class=&quot;cell&quot; onClick=&quot;XonSquare(2)&quot;&gt;-&lt;/button&gt;
&lt;button id=&quot;cell3&quot; class=&quot;cell&quot; onClick=&quot;XonSquare(3)&quot;&gt;-&lt;/button&gt;
</code></pre>
<p>That way you can have your function target the appropriate cell.</p>
","2024-02-09 15:28:24","0","Answer"
"77969057","77969006","","<p>You can use:</p>
<pre><code>inner = document.getElementById(&quot;cell&quot;).value;
inner.innerHTML ='X';
</code></pre>
<p>This code should make the value of the button element be &quot;X&quot;.</p>
","2024-02-09 15:06:56","0","Answer"
"77969006","","How do I target specific buttons based on which is clicked with only one function?","<p>So I'm revising a tic-tac-toe game I made a while ago and I'm trying to figure out how to get rid of repetitive functions. Is there anyway to target a specific button based on which is clicked?</p>
<pre><code>function XonCell() {
document.getElementById(&quot;cell&quot;).innerHTML = 'X'
}
</code></pre>
<pre><code>&lt;button id=&quot;cell&quot; onclick=&quot;XonSquare()&quot;&gt;-&lt;/button&gt;
&lt;button id=&quot;cell&quot; onclick=&quot;XonSquare()&quot;&gt;-&lt;/button&gt;
&lt;button id=&quot;cell&quot; onclick=&quot;XonSquare()&quot;&gt;-&lt;/button&gt;
</code></pre>
<p>So how would I make it to if the first button was clicked X would replace the first button's text and if the second was clicked X would replace the second button's text, and so on for all the buttons?</p>
<p>All I need is for the X to appear on the button that is clicked without multiple functions. Is there any way to do this?</p>
","2024-02-09 14:57:00","0","Question"
"77968447","77968375","","<p><strong>tldr;</strong></p>
<p>A constructor is declared using a <em>function-declarator</em> and so it is a function and hence a member function.</p>
<hr />
<h4>Language-lawyered Explanation</h4>
<p><a href=""https://eel.is/c++draft/class.mem#general-1"" rel=""nofollow noreferrer"">class.mem</a> states:</p>
<blockquote>
<p><strong>The member-specification in a class definition declares the full set of members of the class</strong>; no member can be added elsewhere.
A direct member of a class X is a member of X that was first declared within the member-specification of X, including anonymous union members ([class.union.anon]) and direct members thereof.
<strong>Members of a class are</strong> data members, <strong>member functions</strong> ([class.mfct]), nested types, enumerators, and member templates ([temp.mem]) and specializations thereof.</p>
</blockquote>
<p>Now we move onto <a href=""https://eel.is/c++draft/class.mem#general-3"" rel=""nofollow noreferrer"">class.mem#general-3</a> to see what is a member function:</p>
<blockquote>
<p>A data member is a non-function member introduced by a member-declarator. <strong>A member function is a member that is a function.</strong>
Nested types are classes ([class.name], [class.nest]) and enumerations ([dcl.enum]) declared in the class and arbitrary types declared as members by use of a typedef declaration ([dcl.typedef]) or alias-declaration. The enumerators of an unscoped enumeration defined in the class are members of the class.</p>
</blockquote>
<p>Now we need to show that a ctor is a function so we move onto <a href=""https://eel.is/c++draft/class.ctor.general#1.sentence-1"" rel=""nofollow noreferrer"">class.ctor.general#1</a>:</p>
<blockquote>
<p><strong>A declarator declares a constructor if it is a function declarator</strong> ([dcl.fct]) of the form</p>
<pre><code>ptr-declarator ( parameter-declaration-clause ) noexcept-specifieropt attribute-specifier-seqopt
</code></pre>
<p>where the ptr-declarator consists solely of an id-expression, an optional attribute-specifier-seq, and optional surrounding parentheses, and the <strong>id-expression has one of the following forms</strong>:</p>
<ul>
<li>in a friend declaration ([class.friend]), the id-expression is a qualified-id that names a constructor ([class.qual]);</li>
<li><strong>otherwise, in a member-declaration that belongs to the member-specification of a class or class template, the id-expression is the injected-class-name ([class.pre]) of the immediately-enclosing entity;</strong></li>
</ul>
</blockquote>
<p>The important thing to note is that a ctor is declared using a declarator which is a <strong>function declarator</strong>. Now to see that the <em>ctor's function declarator</em> declares a function we move onto <a href=""https://eel.is/c++draft/dcl.spec.auto.general#3.sentence-3"" rel=""nofollow noreferrer"">dcl.spec.auto.general</a>:</p>
<blockquote>
<p>A placeholder type can appear with a function declarator in the decl-specifier-seq, type-specifier-seq, conversion-function-id, or trailing-return-type, in any context where such a declarator is valid.
<strong>If the function declarator includes a trailing-return-type ([dcl.fct]), that trailing-return-type specifies the declared return type of the function.
Otherwise, the function declarator shall declare a function.</strong>
If the declared return type of the function contains a placeholder type, the return type of the function is deduced from non-discarded return statements, if any, in the body of the function ([stmt.if]).</p>
</blockquote>
<p>Now since the ctor's function declarator form doesn't include a trailing return type, the ctor's function declarator  declares a function as per the above <a href=""https://eel.is/c++draft/dcl.spec.auto.general#3.sentence-3"" rel=""nofollow noreferrer"">reference</a>.</p>
<p>Hence proved, the ctor <code>S::S(int, float, double</code>) is a function and so a member function.</p>
<h4>Additional support</h4>
<p>There is additional support for the statement that a constructor is a function in <a href=""https://eel.is/c++draft/dcl.constexpr#3.2"" rel=""nofollow noreferrer"">dcl.constexpr</a>:</p>
<blockquote>
<p>A function is constexpr-suitable if:</p>
<ul>
<li><strong>if the function is a constructor</strong> or destructor, its class does not have any virtual base classes.</li>
</ul>
</blockquote>
<p>This also indicates that a constructor is a function.</p>
<hr />
<h4>Layman Explanation</h4>
<blockquote>
<p>Is a constructor, that is not a special member function, still a member function?</p>
</blockquote>
<p>Yes, because the constructor <code>S::S(int, float, double)</code> is declared inside the <strong>member-specification</strong> of the class  <code>S</code> so the declaration is by definition a member function declaration.</p>
<p>Basically,  declarations inside the <strong>member-specification</strong> of the class are <strong>member declarations</strong>. If the declaration is of a</p>
<ul>
<li>variable, it is called <strong>member variable</strong> and</li>
<li>if the declaration is of a function then it is called a <strong>member function</strong>.</li>
</ul>
<hr />
<p>So yes, <code>S::S(int, float, double)</code> is a member function.</p>
","2024-02-09 13:24:40","5","Answer"
"77968375","","Is a constructor, that is not a special member function, still a member function?","<p>From the C++ standard working draft:</p>
<blockquote>
<p>Default constructors ([class.default.ctor]), copy constructors, move constructors ([class.copy.ctor]), copy assignment operators, move assignment operators ([class.copy.assign]), and prospective destructors ([class.dtor]) are special member functions.</p>
</blockquote>
<p>(<a href=""https://eel.is/c++draft/special"" rel=""nofollow noreferrer"">https://eel.is/c++draft/special</a>)</p>
<p>Given the following code:</p>
<pre class=""lang-cpp prettyprint-override""><code>struct S {
    S(int, float, double);
};
</code></pre>
<p>In my understanding, the constructor of <code>S</code> is <em>not</em> a special member function, since it is neither a default constructor, copy constructor, nor move constructor.</p>
<p>I would like to know whether the standard still considers such as constructor a member function (or something &quot;unique&quot;).</p>
<p>I read the parts of the C++ working draft about member functions, special member functions, and constructors, but didn't find anything reasonable answering this question. I also looked on StackOverflow, but most answers state that <em>all</em> constructors are considered special member functions, which seems to contradict the standard.</p>
","2024-02-09 13:13:14","4","Question"
"77967416","77967179","","<blockquote>
<p>Is there a way to get the complete function calls chain from a function in the C standard library all the way down to the system call?</p>
</blockquote>
<p>Debugger is for that. Example debugging <code>echo</code> program:</p>
<pre><code>$ gdb echo
(gdb) catch syscall 1
Catchpoint 1 (syscall 'write' [1])
(gdb) r
Starting program: /usr/bin/echo 
Downloading separate debug info for /lib64/ld-linux-x86-64.so.2
Downloading separate debug info for system-supplied DSO at 0x7ffff7fc8000                                                               
Downloading separate debug info for /usr/lib/libc.so.6                                                                                  
[Thread debugging using libthread_db enabled]                                                                                           
Using host libthread_db library &quot;/usr/lib/libthread_db.so.1&quot;.

Catchpoint 1 (call to syscall write), 0x00007ffff7e9d034 in write () from /usr/lib/libc.so.6
(gdb) bt
#0  0x00007ffff7e9d034 in write () from /usr/lib/libc.so.6
#1  0x00007ffff7e1dd4d in _IO_file_write () from /usr/lib/libc.so.6
#2  0x00007ffff7e1c014 in ?? () from /usr/lib/libc.so.6
#3  0x00007ffff7e1ce19 in _IO_do_write () from /usr/lib/libc.so.6
#4  0x00007ffff7e1d353 in _IO_file_overflow () from /usr/lib/libc.so.6
#5  0x0000555555556741 in putchar_unlocked (__c=10) at /usr/include/bits/stdio.h:110
#6  main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at src/echo.c:275
</code></pre>
","2024-02-09 10:22:02","1","Answer"
"77967179","","Is there a way to get the complete function calls chain from a function in the C standard library all the way down to the system call?","<p>I'm on an Ubuntu x86_64 system. I know we have the strace command to trace the system calls in our programs. However I'd like to know if there is a way ( other than inspecting the GNU C library source codes ) to get the complete function calls chain.
For example when I do :</p>
<p>printf(&quot;Hello World\n&quot;);</p>
<p>I'd like to know the complete function call chain from printf all the way down to the write system call ( not the wrapper function )</p>
","2024-02-09 09:43:08","0","Question"
"77963891","77963832","","<p><code>func</code> is correct, but you didn't populate <code>a</code> correctly.</p>
<p>Think of array indexes as offsets, which is to say how far they are from the start the array.</p>
<ul>
<li>The index/offset of the first element of an array is <code>0</code>.</li>
<li>The index/offset of the second element of an array is <code>1</code>.</li>
<li>⋮</li>
<li>The index/offset of the last element of an array with <code>n</code> elements is <code>n-1</code>.</li>
</ul>
<p>So this is what you are building:</p>
<pre class=""lang-none prettyprint-override""><code>int a[5]
  0   1   2   3   4
+---+---+---+---+---+
| ? | 1 | 3 | 9 | 8 | 2
+---+---+---+---+---+
</code></pre>
<ul>
<li>You never assign a value to <code>a[0]</code>.</li>
<li>You write a value beyond the end of the array. (Undefined behaviour!)</li>
<li>Every value is in the wrong element (box).</li>
</ul>
<p>Replace</p>
<pre class=""lang-c prettyprint-override""><code>for (int i = 1; i &lt;= n; i++)  // 1 (inclusive) to n (inclusive)
</code></pre>
<p>with</p>
<pre class=""lang-c prettyprint-override""><code>for (int i = 0; i &lt; n; i++)   // 0 (inclusive) to n (exclusive)
</code></pre>
","2024-02-08 18:06:57","1","Answer"
"77963832","","Why is the value of the pointer pointing at the 0th index of an array different from the actual 0th index of the array in C?","<p>Python programmer here. I know just the basics about C but I was given the task of taking n entries in an array then creating a function that takes an array pointer as its argument, and then accessing the elements of the array that the pointer is pointing at.</p>
<p>A simplified version of my initial code was as follows:</p>
<pre><code>#include&lt;stdio.h&gt;

void func(int *pArr, int size){
    for (int j = 0; j &lt; size; j++){
        printf(&quot;%d &quot;,*(pArr+j));
    }
}

int main(){
    int n;
    printf(&quot;Enter the number of elements you want in your list: &quot;);
    scanf(&quot;%d&quot;, &amp;n);
    int a[n];
    for (int i = 1; i &lt;= n; i++){
        printf(&quot;Enter element no.%d: &quot;, i);
        scanf(&quot;%d&quot;, &amp;a[i]);
    }
    func(&amp;a[0], n);
    return 0;
}
</code></pre>
<p>Here my thought process was, since pArr is pointing at the 0th index of a, *(pArr+j) when j = 0 should just return *pArr which should just be the 0th index of a.</p>
<p>But to my surprise, the following is the output I got for a test run where a[5] = {1, 3, 9, 8, 2}</p>
<blockquote>
<p>863014944 1 3 8 9</p>
</blockquote>
<p>The program prints out a garbage value for *(pArr+j) when j = 0 but works fine after that. So I modified the code by initializing &quot;j&quot; with a value of 1 instead of 0 and changing the &quot;&lt;&quot; to &quot;&lt;=&quot; and surprisingly the program did run perfectly fine after those changes.</p>
<p>This is what puzzles me.</p>
<p>If I'm declaring a pointer *pArr pointing at the 0th index of an array a, i.e., *pArr = &amp;a[0]; then shouldn't printing *(pArr+1) return the 1st index? Why is it that my program returns the 0th index instead? Why is *(pArr+0) not equal to a[0] when pArr is pointing at a[0]?</p>
","2024-02-08 17:53:08","0","Question"
"77963731","","in my date column some rows i have 10/12/2007 and in some rows 10-12-2007 now i want to transfer the date into 2007-12-10 in big query","<p>i want to change date format in big query while doing transformations in refine table actually i have date column in my date column some rows i have  10/12/2007 and in some rows 10-12-2007 now i want to change the date into 2007-12-10 this format.</p>
<p>when i am trying some of the commands like                                                          SELECT FORMAT_DATE('%Y-%m-%d', PARSE_DATE('%Y/%m/%d', REPLACE(your_date_column, '-', '/'))) AS new_date_column FROM your_table;
it showing errors</p>
","2024-02-08 17:34:37","0","Question"
"77963095","77962990","","<p>Try this?</p>
<pre><code>import pandas as pd

data = {'Name': ['Tom', 'Nick','Jack', 'Ann', 'Jane'],
        'group1': ['SRE_high_0101240243', 'ERS_med_140124065', 'SRE_low_110124084' , 'SRE_high_05022484', 'CER_med_11022437023']}

def parse_group(x):
    return x[:15] if len(x) == 19 else x[:14]
  
df = pd.DataFrame(data)
df = df.assign(group1_clean=df['group1'].apply(parse_group))
print(df)
</code></pre>
","2024-02-08 16:03:07","1","Answer"
"77963028","77962990","","<p><code>df.apply(clean_substr)</code> applies the function to every column; so in the <code>clean_substr</code> code, your <code>df</code> is actually a series, whose index is the same as <code>df</code>'s. There <code>df['group1']</code> would throw a <code>KeyError</code> exception.</p>
<p>You can do a conditional select:</p>
<pre><code>df['group1_clean'] = np.where(df['group1'].str.len() == 19, 
                              df['group1'].str[:15], 
                              df['group1'].str[:14])
</code></pre>
","2024-02-08 15:52:40","1","Answer"
"77962990","","Determine the length of string and extract the first 15 or 14 characters","<p>Here is my data set:</p>
<pre><code>import pandas as pd
data = {'Name': ['Tom', 'Nick','Jack', 'Ann', 'Jane'],
        'group1': ['SRE_high_0101240243', 'ERS_med_140124065', 'SRE_low_110124084' , 'SRE_high_05022484', 'CER_med_11022437023']}
  
df = pd.DataFrame(data)
df
</code></pre>
<p><a href=""https://i.sstatic.net/ihqKy.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ihqKy.png"" alt=""enter image description here"" /></a></p>
<p>I want to extract the first 15 or 14 characters from the 'group1' column, depending on the length of the string in 'Group 1'.
If the length of the string in column group 1 is 19 then extract the first 15 characters, and if it's not 19 then extract the first 14 characters.</p>
<p>Here's my failed attempt:</p>
<pre><code>def clean_substr(df):
    if df['group1'].str.len() == 19:
        val = df['group1'].str.slice(0,15)
    elif df['group1'].str.len() != 19:
        val = df['group1'].str.slice(0,14)  
    else:
        val = &quot;issue&quot;
        return val

df['group1_clean'] = df.apply(clean_substr)
display(df)
</code></pre>
<p>I'm getting an error when I run this code and not sure whats making it fail. Any help will be greatly appreciated. Thanks</p>
","2024-02-08 15:47:03","1","Question"
"77962390","","Bolt python bot running in Azure functions","<p>Currently have an Azure function(python) which responds to the challenge from the slack and triggers another function to send the message to my slack channel.
I want to listen to events(simple hello from any user) and send the message to the channel with bot ideally in threads but can be in the channel as well.
But with bolt framework it doesn't work ((</p>
<p>what i tried</p>
<pre><code>import azure.functions as func
from slack_bolt import App
import json
import os

# Initializes your app with your bot token and signing secret
app = App(
    token=os.environ.get(&quot;SLACK_BOT_TOKEN&quot;),
    signing_secret=os.environ.get(&quot;SLACK_SIGNING_SECRET&quot;)
)


# Listens to incoming messages that contain &quot;hello&quot;
@app.message(&quot;hello&quot;)
def message_hello(message,say):
# say() sends a message to the channel where the event was triggered
    say(f&quot;Hey there &lt;@{message['user']}&gt;&quot;)


def main(req: func.HttpRequest) -&gt; func.HttpResponse:
    try:
        # checking if in req http request has a json and putting this value into req_body
        req_body = req.get_json() 

    except ValueError: 
        return func.HttpResponse(&quot;Invalid JSON in request body&quot;, status_code=400)

    request_type = req_body.get('type')# here we are getting the request type value 

    if request_type == 'url_verification': #checking if the request type is url_verification 

        challenge = req_body.get('challenge') #from request type we are getting challenge value 

        if challenge: # if challenge is has something in it

            #Responding with the challenge in JSON format 
            response_data ={&quot;challenge&quot;:challenge} #creating a dict for storing challenge key is challenge 

            #returning the response with json format 
            return func.HttpResponse(json.dumps(response_data),status_code=200, mimetype=&quot;application/json&quot;)
            
        else:
            # Missing challenge parameter in the request
            return func.HttpResponse(&quot;Missing challenge parameter in the request&quot;, status_code=400)
        
    else:
        # Respond to other types of requests as needed
        
        return func.HttpResponse(&quot;Unhandled request type&quot;, status_code=400)
        


#start our app 
if __name__==&quot;__main__&quot;:

     app.start(port=int(os.environ.get(&quot;PORT&quot;, 3000)))   
</code></pre>
","2024-02-08 14:17:22","0","Question"
"77961012","77960938","","<p>You presumably meant to write</p>
<pre><code>date_trunc(myperiod, current_date - ('1 ' || myperiod)::interval)
</code></pre>
","2024-02-08 10:47:27","1","Answer"
"77960938","","postgresql function parameter interval","<p>I want to create a function with a period (month, week, day...) as a parameter called 'myperiod'</p>
<p>Creating the function with this sql (not complete) is permitted (no syntax error) :</p>
<pre><code>where *some_sql* = date_trunc(myperiod, &quot;Table1&quot;.&quot;Date&quot;) = date_trunc(myperiod, current_date - (interval '1' + myperiod))
</code></pre>
<p>But when invoking the function, I've the following error :</p>
<pre><code>ERROR:  operator does not exist: interval + character varying
LINE 10: ...date_trunc(myperiod, current_date - (interval '1' + myperiod...
                                                              ^
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.
</code></pre>
","2024-02-08 10:35:16","0","Question"
"77960533","","Azure Function developed in .Net6 , not able to inject dependencies from another project from the same solution file. Tried byStartupclass.NOt working","<p>Azure Function developed in.Net6 is not able to inject dependencies from another project from the same solution file. I Already Tried adding the Startup class which was inherited from the FunctionsStartup abstract class. But that way it is looking for dependent to dependent dependency and I could not inject for the UnitofFactory class.
Another way was, by changing the newly created AzureFunction project's Output Type from ClassLibrary to ConsoleApplication. I did that but here even though I have added a new program.cs file, it was never hit while executing the project. I am not sure what next can be done.</p>
<p>This is my startup class -</p>
<pre class=""lang-cs prettyprint-override""><code>[assembly: FunctionsStartup(typeof(Test.AzureFunctions.Startup))]

namespace Test.AzureFunctions
    {
public class Startup : FunctionsStartup
       {
      
       public override void Configure(IFunctionsHostBuilder builder2) {
    
           builder2.Services.AddScoped&lt;IMapperUnitOfWorkFactory, MapperUnitOfWorkFactory&gt;();

           builder2.Services.AddScoped&lt;IEntityOpsApiClient, EntityOpsApiClient&gt;();
}
}
</code></pre>
<p>Code of Test1Function.cs class</p>
<pre class=""lang-cs prettyprint-override""><code>namespace Test.AzureFunctions.Functions
{
    public class TestFunction1
    {
        private readonly IMapperUnitOfWorkFactory _unitOfWorkFactory;
        private readonly ILogger _logger;
        private readonly IEntityOpsApiClient _entityOpsApiClient;
      
 

        public TestFunction1(
            IMapperUnitOfWorkFactory unitOfWorkFactory, 
            IEntityOpsApiClient entityOpsApiClient) {
            _unitOfWorkFactory = unitOfWorkFactory.ThrowIfNull(nameof(unitOfWorkFactory));
            _entityOpsApiClient = entityOpsApiClient;
         
            }
        [FunctionName(&quot;TestFunction1&quot;)]
        public void Run([TimerTrigger(&quot;0 * * * * *&quot;)] TimerInfo myTimer, ILogger log)
        {
            log.LogInformation($&quot;C# Timer trigger function executed at: {DateTime.Now}&quot;);
            var exceptions = new List&lt;Exception&gt;();          
                    using var unitOfWork = _unitOfWorkFactory.Create();
                    var client = unitOfWork.ClientRepository.GetFirstOrDefaultAsync(c =&gt; c.ClientId == 1).Result;
                   
            }

        }
    }
</code></pre>
<p>When I have used the startup class to inject dependency my code throws an exception when trying to create a unitOfFactory Object in this line</p>
<pre class=""lang-cs prettyprint-override""><code>using var unitOfWork = - _unitOfWorkFactory.Create();
</code></pre>
<p>I tried 2 approaches but could not inject dependencies in the Azure Function.</p>
","2024-02-08 09:28:16","-1","Question"
"77958406","77955720","","<p>I don't recommend following this approach, because you'll have very difficulties to make this work.</p>
<p>You can configure your package.json with <code>&quot;type&quot;: &quot;module&quot;</code>, and exporting yours functions in a file, this way:</p>
<pre><code>export * from './function1'
export * from './function2'
export * from './function3'
</code></pre>
<p>And when you need import your functions, just do it:</p>
<pre><code>import { function1 } from './file-with-exports'
</code></pre>
","2024-02-07 23:05:23","0","Answer"
"77958087","77958070","","<pre><code>button2.onclick(draw_onclick2())
                             ^^
</code></pre>
<p>This is actually an immediate <em>call</em> to the <code>draw_onclick2</code> function, and the return value from it is then passed to <code>onclick</code>.</p>
<p>What you need to do instead is pass the actual <em>function</em>, with something like:</p>
<pre><code>button2.onclick(draw_onclick2)
</code></pre>
<hr />
<p>You can see the effect in the following transcript:</p>
<pre class=""lang-py prettyprint-override""><code>&gt;&gt;&gt; def fn():
...     return 7
...

&gt;&gt;&gt; print(fn)
&lt;function fn at 0x7f8e36456f70&gt;

&gt;&gt;&gt; print(fn())
7
</code></pre>
<p>You can see that <code>fn</code> is the function, but <code>fn()</code> <em>calls</em> the function giving its return value.</p>
","2024-02-07 21:44:40","1","Answer"
"77958070","","Why is onclick() function calling the function inside instantly?","<p>In this code:</p>
<pre><code>button = Turtle()
button2 = Turtle()
button.hideturtle(), button2.hideturtle()

button2.color(&quot;#f73487&quot;)
button2.hideturtle()
button2.shape(&quot;square&quot;)
button2.fillcolor('#f73487')
button2.shapesize(4)
button2.penup()
button2.goto(-300, 230)
button2.write(&quot;No&quot;, align='center', font=('Arial', 12, 'bold'))
button2.setx(-300), button2.sety(182)
button2.onclick(draw_onclick2())
button2.showturtle()

button.color(&quot;#f73487&quot;)
button.hideturtle()
button.shape(&quot;square&quot;)
button.fillcolor('#f73487')
button.shapesize(4)
button.penup()
button.goto(300, 230)
button.write(&quot;Yes&quot;, align='center', font=('Arial', 12, 'bold'))
button.setx(300), button.sety(182)
button.onclick(draw_onclick())
button.showturtle()

</code></pre>
<p>the function <code>button2.onclick()</code> that contains <code>draw_onclick2</code> just calls the function instantly without me clicking and I can't figure out why.</p>
<p>When I first tried it with the <code>button</code> it worked but now if I do it it just instantly calls the function.</p>
","2024-02-07 21:40:37","-1","Question"
"77957614","77957329","","<p>Try</p>
<pre><code>echo html_entity_decode(esc_html__('Best &amp; Sea', 'textdomain'));
</code></pre>
","2024-02-07 20:02:45","-2","Answer"
"77957329","","esc_html__ and special character in WordPress","<p>I use esc_html__ in my below code:</p>
<pre><code>esc_html__( 'Best &amp; Sea', 'textdomain' );
</code></pre>
<p>When I use the above code the special character &amp; is not displayed.</p>
<p>How to fix this issue?</p>
","2024-02-07 19:09:12","-2","Question"
"77955907","77955720","","<p>If you want to keep your export structure, you need to access the function through the object property when you import:</p>
<pre class=""lang-js prettyprint-override""><code>const functionsManager = require(&quot;...&quot;);

// Now access functions like this
const randomNumber = functionsManager.randomNumber;
const randomColor = functionsManager.randomColor;
</code></pre>
<p>Either of these approaches should resolve the TypeError you're encountering. Choose the one that best fits your project structure and preferences.</p>
","2024-02-07 15:11:53","0","Answer"
"77955720","","Why can't I request a specific function from an object?","<p>I'm programming my first project, a bot for discord made in discord.js, but I'm having a problem. My project has a folder of functions that follow this model (I will use this random number function as an example ):</p>
<pre><code>module.exports.randomNumber = function (min, max) {
  let number = Math.floor(Math.random() * (max - min + 1)) + min;

  return number;
}
</code></pre>
<p>My handler reads all the files and saves them in an object that is exported so that I can use them in my commands:</p>
<pre><code>const fs = require(&quot;node:fs&quot;);

const functionsManager = {};

try {
  fs.readdir(&quot;./src/functions&quot;, (err, files) =&gt; {
    if (err) {
      console.log(err)
    } else {
      for (const file of files) {
        const functionName = file.replace(&quot;.js&quot;, &quot;&quot;);

        functionsManager[functionName] = require(`../functions/${file}`);
      }
    }
  })

  module.exports = functionsManager;
} catch(err) {
  console.log(err)
}
</code></pre>
<p>When I require functions and save them in a variable, like this: <code>const functionsManager = require(&quot;...&quot;); </code>They work, however, when I try to request just a few, like this:<code> const { randomNumber, randomColor, ... } = require(&quot;...&quot;);</code> They don't work... The following error appears:</p>
<blockquote>
<p>Type Error: randomNumber (or any of the others functions) is not a functions</p>
</blockquote>
<p>Why does this happen and how can I resolve it?</p>
","2024-02-07 14:45:50","2","Question"
"77953990","77944478","","<p>The problem with your function is that it is not <em>vectorized</em></p>
<pre><code>norm_formula(1:10, 1, 10)
#Error in if (is.na(x)) { : the condition has length &gt; 1
</code></pre>
<p>Here are two vectorized versions</p>
<pre><code>norm_vect1 &lt;- function(x, min_value, max_value){
    norm_x &lt;- 99 * ((x - min_value)/(max_value - min_value)) + 1      
    norm_x[x &lt; min_value] &lt;- 1
    norm_x[x &gt; max_value] &lt;- 100
    norm_x
}

norm_vect2 &lt;- function(x, min_value, max_value){
    norm_x &lt;- 99 * ((x - min_value)/(max_value - min_value)) + 1      
    norm_x[norm_x &lt; 1] &lt;- 1
    norm_x[norm_x &gt; 100] &lt;- 100
    norm_x
}
</code></pre>
<p>And you can see that it works</p>
<pre><code>norm_vect1(c(NA, 1:10), 2, 5)
# [1]  NA   1   1  34  67 100 100 100 100 100 100
norm_vect2(c(NA, 1:10), 2, 5)
# [1]  NA   1   1  34  67 100 100 100 100 100 100
</code></pre>
<p>And use one of them with <code>app</code></p>
<pre><code>s &lt;- app(r, fun=\(x) norm_vect1(x, 0, 4))
</code></pre>
<p>Here are two possible alternatives to using <code>app</code>. You would need to check if they indeed work as intended. If so, <code>f2</code> is probably the most efficient.</p>
<pre><code>f1 &lt;- function(r, min_value, max_value) {  
    ifel(r &lt; min_value, 1, 
       ifel(r &gt; max_value, 100, 
         99 * ((r - min_value)/(max_value - min_value)) + 1))
}
                
a &lt;- f1(r, 0, 4)

        
f2 &lt;- function(r, min_value, max_value) {  
    y &lt;- clamp(r, min_value, max_value)
    (100-1)*((y - min_value)/(max_value - min_value)) + 1
}

b &lt;- f2(r, 0, 4)
</code></pre>
","2024-02-07 10:35:56","1","Answer"
"77953629","77943328","","<p>You can write the formula in OPL and then use it in an execute block. Or you can use a loop in the execute block.</p>
<pre><code>range r=1..10;
int a[i in r]=i;

float f=sum(i in r)a[i]*a[i]/sum(i in r) i;

execute
{
  var f2a=0;
  var f2b=0;
  for(var i in r)
  {
    f2a+=a[i]*a[i];
    f2b+=i;
  }
  var f2=f2a/f2b;
  writeln(&quot;f=&quot;,f);
  writeln(&quot;f2=&quot;,f2);
}
</code></pre>
<p>You get the same result either way</p>
","2024-02-07 09:37:51","0","Answer"
"77953329","","Parameters of a function for library Flet","<p>I'm trying to initiate myself to the library flet.
For example :</p>
<pre><code>def btn_clicked(e):
 pass

def btn_clicked2():
 pass

</code></pre>
<p>How don't really understand what is the difference, sometimes I put a &quot;e&quot;, and it works, but in another function, it could be not working.
I don't find the answer on Flet website, if someone could explain to me it would be great thanks a lot !</p>
","2024-02-07 08:51:51","2","Question"
"77951927","77951897","","<p>there are two problems with your decrypt function:</p>
<ol>
<li>newIdx could be very negative value, for example if incoming letter is <code>a</code>, <code>idx</code> will be 0, so <code>0-42+26 = -16</code>, this is why you're getting undefined</li>
<li>you know that encrypt inserted random symbol every 2 symbols, you just remove them or ignore</li>
</ol>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const alphabet = ""abcdefghijklmnopqrstuvwxyz"";

function decrypt (encryptedMessage, shiftValue)
{
  let decryptedMessage = '';

  for (i = 0; i &lt; encryptedMessage.length; i++){
    if ( (i+1) % 3 != 0) { // ignore random insertions
      const char = encryptedMessage[i].toLowerCase();
      const idx = alphabet.indexOf(char);
      if (idx &gt;= 0) {
          let newIdx = idx - shiftValue;
          while (newIdx &lt; 0) newIdx += alphabet.length; // here is how you avoid negative indexes
          decryptedMessage += alphabet[newIdx % alphabet.length];
      } else {
        decryptedMessage += char;
      } 
    }
  }
  // Your decryption code here
  return decryptedMessage;
}

console.log(decrypt('Iueuan jrxuq cjythdykwxaj mixkqtaeml ebv wHenckvbkei rqdmt fHukckvi.r Jbxuihus, tmxayiwfuxh sjxau amenhtv \'zQkhhuubyjkit\' yjew jhxux mxydatij. zJxmu hvymhihj ajel kldlsuyjb dyju yid uekdh qIbkqsxa xsxqqdvduzb wuqzhdoi qjxwu waueo xjem jfxuy dpuntj dgkvuiwj.', 42));</code></pre>
</div>
</div>
</p>
","2024-02-07 02:37:13","0","Answer"
"77951897","","how to decrypt after adding random letter after every two letters javascript","<pre><code>const alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;;

function encrypt (message, shiftValue)
{   
    let encryptedMessage = ''; // somewhere for the message to be stored
    for (i = 0; i &lt; message.length; i++){
      let char = message[i].toLowerCase(); // each character made lowercase

      if (alphabet.includes(char)) { // if alphabet includes the character
        const idx = alphabet.indexOf(char);// find its index
        const newIdx = (idx + shiftValue) % alphabet.length;// then add the shift value to it     while going through the alphabet
        encryptedMessage += alphabet[newIdx] // add/store it as the message

        if ((i + 1) % 2 === 0) {
          const randomIndex = Math.floor(Math.random() * 26);
           encryptedMessage += alphabet[randomIndex];// every two character a random letter is     added
        }
      } else {
        encryptedMessage += char;
      }
    }

  return encryptedMessage;
}

function decrypt (encryptedMessage, shiftValue)
{
  let decryptedMessage = '';

  for (i = 0; i &lt; encryptedMessage.length; i++){
    const char = encryptedMessage[i].toLowerCase();

    if (alphabet.includes(char)) {
        const idx = alphabet.indexOf(char);
        const newIdx = (idx - shiftValue  + alphabet.length) % alphabet.length;
        decryptedMessage += alphabet[newIdx]
    }else {
    decryptedMessage += char;

    } 
  }
  // Your decryption code here
  return decryptedMessage;
}
</code></pre>
<p>I'm brand new to coding and have used many an online resource to scramble this together. I even consulted chatgpt at one point and feel so dumb for that. I mainly would like some feedback on how the code is and to help me solve a problem that I cant quite find online or seem to figure out myself. below the requirements will be posted</p>
<ol>
<li><strong>Implementing the Encryption Algorithm of Caesar's Cipher</strong>
<ul>
<li>Step 1: Take a plaintext message and a shift value and return an encrypted string. If the message includes a character out of the alphabet, pass it as is to the encrypted string.</li>
<li>Step 2: After every two letters, insert a random letter from the alphabet.</li>
</ul>
</li>
<li><strong>Implementing the Decryption Algorithms of Caesar's Cipher</strong>
<ul>
<li>Take in the encrypted message and a shift value and return the original plaintext message.</li>
<li>Accurately reverse the encryption process to retrieve the original message.</li>
</ul>
</li>
<li><strong>Decrypting the Secret Message</strong>
<ul>
<li>Iueuan jrxuq cjythdykwxaj mixkqtaeml ebv wHenckvbkei rqdmt fHukckvi.r Jbxuihus, tmxayiwfuxh sjxau amenhtv 'zQkhhuubyjkit' yjew jhxux mxydatij. zJxmu hvymhihj ajel kldlsuyjb dyju yid uekdh qIbkqsxa xsxqqdvduzb wuqzhdoi qjxwu waueo xjem jfxuy dpuntj dgkvuiwj.</li>
<li>Decrypt the above secret message using 42 as the shift value and complete the quest.</li>
</ul>
</li>
</ol>
<p>My main question in all of this is how do I reverse the fact that a random letter is added after every two letters to properly decrypt not only the messages I put through it but the required message. I get most of the message i put through back. The required decryption I only ever get back undefined.</p>
<p>This is my first post on here, I hope I've formatted and asked this properly thank you to any and all who help me brainstorm this!</p>
<p>I've not tried anything as of yet I'm still very new and feel like I cheated even scraping together what I have above by looking up most of it.</p>
","2024-02-07 02:22:49","-1","Question"
"77951800","77951539","","<p>You can try this solution. First thing, when you put a <code>keydown</code> event it checks the value before you actually type, so you change it to <code>keyup</code> which checks after you actually type the character. Also I made the what  <code>inputCheck()</code> return true or false, and I put a condition when you press the  Convert button. If it is valid it works but if not, it doesn't put anything.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const numberInput = document.getElementById(""number"");
const convertBtn = document.getElementById(""convert-btn"");
const outputField = document.getElementById(""output-field"");
const resetBtn = document.getElementById(""reset-btn"");
const errorField = document.getElementById(""error-field"");


//conversion
function toRoman(num) {
  const romanNumerals = {
    M: 1000,
    CM: 900,
    D: 500,
    CD: 400,
    C: 100,
    XC: 90,
    L: 50,
    XL: 40,
    X: 10,
    IX: 9,
    V: 5,
    IV: 4,
    I: 1
  };

  let result = """";

  for (let i in romanNumerals) {
    while (num &gt;= romanNumerals[i]) {
      result += i;
      num -= romanNumerals[i];
    }
  }
  return result;
}

//reset
function resetApp() {
  outputField.textContent = """";
  numberInput.value = """";
  errorField.textContent = """";
}

//check user input
function inputCheck() {
  const errorNum = parseInt(numberInput.value)
  if (isNaN(errorNum) || !errorNum) {
    outputField.textContent = ""Please enter a valid number"";
    return false;
  } else if (errorNum &lt; 1) {
    outputField.textContent = ""Please enter a number greater than or equal to 1"";
    return false;
  } else if (errorNum &gt; 3999) {
    outputField.textContent = ""Please enter a number less than or equal to 3999"";
    return false;
  } else {
    outputField.textContent = """";
  };
  return true; 
}

//button functionality
convertBtn.addEventListener(""click"", () =&gt; {
  if (inputCheck(numberInput.value)) outputField.textContent = toRoman(numberInput.value);
});

resetBtn.addEventListener(""click"", resetApp);

numberInput.addEventListener
(""keyup"", (e) =&gt; {
  
    inputCheck(numberInput.value);
    if (e.key === ""Enter"") {
      outputField.textContent = toRoman(numberInput.value);
    }
  
  
  
});</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>body {
  font-family: system-ui;
  text-align: center;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE&gt;
&lt;html&gt;


&lt;body&gt;
&lt;input id='number'&gt;
&lt;button id='convert-btn'&gt;Convert&lt;/button&gt;
&lt;p id='output-field'&gt;Output will appear here.&lt;/p&gt;
&lt;button id='reset-btn'&gt;Reset&lt;/button&gt;
&lt;p id='error-field'&gt;Errors will show here.&lt;/p&gt;
&lt;/body&gt;
&lt;html&gt;</code></pre>
</div>
</div>
</p>
","2024-02-07 01:48:40","0","Answer"
"77951594","77951539","","<p>You have to change the <code>keydown</code> event in your EventListener to be <code>input</code> when you add an event listener to the <code>numberInput</code>:</p>
<pre class=""lang-js prettyprint-override""><code>numberInput.addEventListener
(&quot;input&quot;, (e) =&gt; {
  inputCheck(numberInput.value);
  if (e.key === &quot;Enter&quot;) {
    outputField.textContent = toRoman(numberInput.value);
  }
});
</code></pre>
<p>If you also want to be able to track the <code>Enter</code> key:</p>
<pre class=""lang-js prettyprint-override""><code>function inputCheck() {
  const errorNum = parseInt(numberInput.value)
  if (isNaN(errorNum) || !errorNum) {
    outputField.textContent = &quot;Please enter a valid number&quot;;
    return false;
  } else if (errorNum &lt; 1) {
    outputField.textContent = &quot;Please enter a number greater than or equal to 1&quot;;
    return false;
  } else if (errorNum &gt; 3999) {
    outputField.textContent = &quot;Please enter a number less than or equal to 3999&quot;;
    return false;
  } else {
    outputField.textContent = &quot;&quot;;
    return true;
  };
}
</code></pre>
<pre class=""lang-js prettyprint-override""><code>numberInput.addEventListener(&quot;keyup&quot;, (e) =&gt; {
  if (inputCheck(numberInput.value)) {
    convertBtn.style.display = 'block';
    if (e.key === &quot;Enter&quot;) {
        outputField.textContent = toRoman(numberInput.value);
    } else {
        // pass
    }
  } else {
    convertBtn.style.display = 'none';
  }

});
</code></pre>
<p>The <code>keydown</code> event comes <em>before</em> anything is typed in the input box. The <code>input</code> event is when something actually is typed in.
Here we add return statements in <code>inputCheck</code> to see how the check went, if positive, continue on with calculations, otherwise hide the convert button and disable the option to convert with <code>Enter</code>.</p>
","2024-02-07 00:25:53","3","Answer"
"77951539","","Javascript: Output error messages are updating on next keystroke (i.e. late) instead on ""keydown"" or ""click""","<p>The functionality for all valid numbers is working fine. When the &quot;keydown&quot; or &quot;click&quot; are used the Roman Numeral conversion properly displays in the outputField. However, when the same is done for one of the error numbers, the outputField updates to show the string after the next keystroke. For numbers greater than 3999 it will also convert the number then display the error string after the next keystroke. Please, proofread through my JS code and let me know any thoughts.</p>
<p>I am still quite new to JS so any other insights in how I can improve my code would be helpful too.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const numberInput = document.getElementById(""number"");
const convertBtn = document.getElementById(""convert-btn"");
const outputField = document.getElementById(""output-field"");
const resetBtn = document.getElementById(""reset-btn"");
const errorField = document.getElementById(""error-field"");


//conversion
function toRoman(num) {
  const romanNumerals = {
    M: 1000,
    CM: 900,
    D: 500,
    CD: 400,
    C: 100,
    XC: 90,
    L: 50,
    XL: 40,
    X: 10,
    IX: 9,
    V: 5,
    IV: 4,
    I: 1
  };

  let result = """";

  for (let i in romanNumerals) {
    while (num &gt;= romanNumerals[i]) {
      result += i;
      num -= romanNumerals[i];
    }
  }
  return result;
}

//reset
function resetApp() {
  outputField.textContent = """";
  numberInput.value = """";
  errorField.textContent = """";
}

//check user input
function inputCheck() {
  const errorNum = parseInt(numberInput.value)
  if (isNaN(errorNum) || !errorNum) {
    outputField.textContent = ""Please enter a valid number"";
  } else if (errorNum &lt; 1) {
    outputField.textContent = ""Please enter a number greater than or equal to 1"";
  } else if (errorNum &gt; 3999) {
    outputField.textContent = ""Please enter a number less than or equal to 3999"";
  } else {
    outputField.textContent = """";
  };
  return; 
}

//button functionality
convertBtn.addEventListener(""click"", () =&gt; {
  inputCheck(numberInput.value);
  outputField.textContent = toRoman(numberInput.value);
});

resetBtn.addEventListener(""click"", resetApp);

numberInput.addEventListener
(""keydown"", (e) =&gt; {
  inputCheck(numberInput.value);
  if (e.key === ""Enter"") {
    outputField.textContent = toRoman(numberInput.value);
  }
});</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>body {
  font-family: system-ui;
  text-align: center;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;!DOCTYPE&gt;
&lt;html&gt;


&lt;body&gt;
&lt;input id='number'&gt;
&lt;button id='convert-btn'&gt;Convert&lt;/button&gt;
&lt;p id='output-field'&gt;Output will appear here.&lt;/p&gt;
&lt;button id='reset-btn'&gt;Reset&lt;/button&gt;
&lt;p id='error-field'&gt;Errors will show here.&lt;/p&gt;
&lt;/body&gt;
&lt;html&gt;</code></pre>
</div>
</div>
</p>
<p>I've tried several fixes with .textContent, .value, .innerHTML, etc. this state is the best working I've had yet. When the outputField.textContent was replaced with errorField.textContent and displaying to a separate paragraph element the error messages worked great. However, that violates the code checks for the class as the error messages must display in the #output element.</p>
","2024-02-07 00:06:51","0","Question"
"77949573","77949527","","<p>It is not an array only single integer.</p>
<p>You need to change it to:</p>
<pre><code>int arr[] = {1,2,3,4,5,6,7,9,10,10};
</code></pre>
<ul>
<li>You need to be much more careful when you program. Your second <code>if</code> was also wrong.</li>
<li><code>main</code> function <strong>has</strong> to return <code>int</code> (not <code>void</code>)</li>
</ul>
<pre><code>int countSmaller(int arr[], int start, int end, int num) {
    int mid = start + (end - start) / 2;

    if (arr[end] &lt; num)
        return (end - start);
    if (arr[start] &gt;= num)
        return 0;
    if (arr[mid] &gt;= num)
        return countSmaller(arr, start, mid, num);
    return (mid + 1-start) + countSmaller(arr, mid + 1, end, num);
}

int main() {
    int arr[] = {1, 2, 3, 4, 5, 6, 7, 9, 10, 10};
    printf(&quot;%d\n&quot;, countSmaller(arr, 0, 9, 5));
}
</code></pre>
","2024-02-06 17:04:28","1","Answer"
"77949527","","why is it that when I pass an array as a parameter for a function, its values are changing?","<p>the function is supposed to receive: a sorted array of integers, a starting index, an end index, and an integer number, and return the amount of values in the array between the start and end indexes that are smaller than the number.</p>
<p>when I pass an array into the function, {1,2,3,4,5,6,7,9,10,10} for example, as soon as the function is called, the array changes to an array with a random single value.</p>
<p>can anyone tell me why that is happening and how do I fix it?</p>
<p>this is the code:</p>
<pre><code>int countSmaller(int arr[], int start, int end, int num) {
     int mid = start+(end - start) / 2;

 if (arr[end] &lt; num)
     return (end - start) ;
 if (arr[start &gt;= num])
     return 0;
 if (arr[mid] &gt;= num)
     return countSmaller(arr, start, mid,num);
return (mid + 1-start) + countSmaller(arr, mid + 1, end, num);

void main(){
 int arr = {1,2,3,4,5,6,7,9,10,10};
 countSmaller(arr,0,9,5);

}

</code></pre>
<p>it's supposed to return 4, but because the array for some reason changes, the return value is incorrect.</p>
","2024-02-06 16:57:49","0","Question"
"77949472","77947560","","<p>The fastest way is to use an object to keep your numbers to remove:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const removeFromArray = function(array, ...number) {

    const set = {};
    for(let i = 0; i &lt; number.length; i++){
      set[number[i]] = true;
    }

    for(let i = 0; i &lt; array.length  ; i++ ){
        set[array[i]] &amp;&amp; array.splice(i--, 1);
    }
    return array;
};

console.log(removeFromArray([2, 1, 2, 3, 4], 1, 2));</code></pre>
</div>
</div>
</p>
<p>The more items in the both arrays, the more the object lookup dominating over <code>Array::includes()</code> which is O(n^k):</p>
<pre><code>` Chrome/121
-----------------------------------------------------------------------------
&gt;                n=10      |     n=100     |     n=1000      |    n=10000    
Alexander   3.40x x10m 686 | 1.00x x1m 135 | 1.00x   x1m 805 | 1.00x x10k  84
IMSoP       1.00x x10m 202 | 1.90x x1m 256 | 3.32x x100k 267 | 3.27x x10k 275
-----------------------------------------------------------------------------
https://github.com/silentmantra/benchmark `
</code></pre>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const $chunk = () =&gt; Array.from({length:10}, () =&gt; Math.random()*10|0);
const $input = [];

// @benchmark Alexander
const removeFromArray = function(array, ...number) {

    const set = {};
    for(let i = 0; i &lt; number.length; i++){
      set[number[i]] = true;
    }

    for(let i = 0; i &lt; array.length  ; i++ ){
        set[array[i]] &amp;&amp; array.splice(i--, 1);
    }
    return array;
};
removeFromArray($input, 1, 2, 3, 4, 5);

// @benchmark IMSoP
{
const removeFromArray = function(targetArray, ...numsToRemove) {
    for(let targetArrayIdx = targetArray.length-1; targetArrayIdx &gt;= 0; targetArrayIdx-- ){
       if(numsToRemove.includes(targetArray[targetArrayIdx])){
        targetArray.splice(targetArrayIdx, 1);
       }
    }
    return targetArray;
};

removeFromArray($input, 1, 2, 3, 4, 5);
}

/*@end*/eval(atob('e2xldCBlPWRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3Rvcigic2NyaXB0Iik7aWYoIWUubWF0Y2hlcygiW2JlbmNobWFya10iKSl7bGV0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7dC5zcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9zaWxlbnRtYW50cmEvYmVuY2htYXJrL2xvYWRlci5qcyIsdC5kZWZlcj0hMCxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHQpfX0='));</code></pre>
</div>
</div>
</p>
","2024-02-06 16:47:57","0","Answer"
"77949031","77945121","","<p>You have to change  <code>var(ibb2(i), 1)</code> to <code>var(1, ibb2(i))</code>;</p>
<p>In the for loop at <code>item=floor((1+var(ibb2(i),1)-a)/(b-a)*63);</code>, you are accessing the each elements of <code>var</code> but you are iterating over its rows and fixed the column <code>var(ibb2(i), 1)</code>.</p>
<p><code>var</code> has 1 row and 5 columns. You have to iterate over the coulmns while keeping the row constant like this <code>var(1, ibb2(i))</code>. The final equation will be</p>
<pre><code>item=floor((1+var(1, ibb2(i))-a)/(b-a)*63);
</code></pre>
<p>Hope that helps</p>
","2024-02-06 15:47:25","0","Answer"
"77948216","77946669","","<p>No, there isn't. You need to build this.</p>
<p>As you found out <code>await</code> works with signals. Well, you can create your own <a href=""https://docs.godotengine.org/en/stable/getting_started/step_by_step/signals.html#custom-signals"" rel=""nofollow noreferrer"">custom signals</a>. So in the code where you increment the variable, you can either add a check, or emit a signal, or both.</p>
<hr />
<p>For example, one way would be to define a setter for your variable, and have signal when it changes to the value you want. Then you connect or await it.</p>
<pre><code>signal expected_x_reached()

var expected_x:int

var x:int:
    set(mod_value):
        if x == mod_value:
            return

        x = mod_value
        if mod_value == expected_x:
            expected_x_reached.emit()
</code></pre>
<p><em>Addendum: In this scenario, you might want to have a setter for <code>expected_x</code> too (since <code>x == expected_x</code> can become true because <code>x</code> changed or because <code>expected_x</code> changed). But I'll keep it as is for clarity.</em></p>
<hr />
<p>Be aware that you can define a signal for when a value changes, and connect an anonymous method to check fo the value (which is useful if different parts of your code need to wait for different values):</p>
<pre><code>signal x_changed(value:int)

var x:int:
    set(mod_value):
        if x == mod_value:
            return

        x = mod_value
        x_changed.emit(mod_value)
</code></pre>
<p>In this case the method connected will get the value:</p>
<pre><code>obj.x_changed.connect(
    func (value:int) -&gt; void:
        if value == expected_x:
            # do something, emit a signal, whatever
            pass
)
</code></pre>
<hr />
<p>If is not code you control... You might have to find an adequete existing signal. Or you need to check for it in <a href=""https://docs.godotengine.org/en/stable/classes/class_object.html#class-object-private-method-notification"" rel=""nofollow noreferrer""><code>_notification</code></a> or some other callback.</p>
<p>Worse case scenario you need to check every frame (because there is no notification mechanism, and you can't add one without a custom build of Godot).</p>
<p>You can check every frame using <code>_process</code> or connecting to the <code>process_frame</code> signal of the scene tree.</p>
<p>Using <code>_process</code> could be like this:</p>
<pre><code>func _process(_delta:float) -&gt; void:
    if obj.x == expected_x:
        # do something, emit a signal, whatever
        pass
</code></pre>
<p>You might do this in your existing nodes, or create a new node to keep track of the variable and emit the signal... Which other nodes can connect to.</p>
<hr />
<p>If you were writing a loop to wait, you should be able to either:</p>
<ul>
<li>Convert it to code that runs in <code>_process</code> (doing one iteration each frame).</li>
<li>Use <code>await</code>※ on <code>process_frame</code>, or on some custom signal.</li>
<li>Or break it with <code>call_deferred</code>. <em>I'll advice to not abuse this, there is a limit to how many deferred calls you can have going.</em></li>
</ul>
<p>※: I'll also point out that there is a drawback to awaiting: it cannot be cancelled, and a freed object cannot resume from an await (which can result in some nasty bugs). If you run into such problems, consider refactoring from <code>await</code> to continuations connecting to the signal using <code>CONNECT_ONE_SHOT</code> or having code to disconnect when it is appropiate. The reason being that when objects are freed, they automatically disconnect.</p>
","2024-02-06 13:53:14","1","Answer"
"77948023","77941401","","<blockquote>
<p>I want similar thing in dotnet function app</p>
</blockquote>
<p>To set dotnet function version which is similar to dotnet webapp use below code, it displays <code>function app version</code> instead of <code>function runtime version</code>.</p>
<p><strong>Function.cs:</strong></p>
<pre class=""lang-cs prettyprint-override""><code>public static class VersionFunction
{
    [FunctionName(&quot;GetVersion&quot;)]
    public static string Run(
        [HttpTrigger(AuthorizationLevel.Function, &quot;get&quot;, Route = null)] HttpRequest req,
        ILogger log)
    {
        var response = new HttpResponseMessage(HttpStatusCode.OK);
        response.Headers.Add(&quot;Access-Control-Allow-Origin&quot;, &quot;https://ms.portal.azure.com&quot;);

        
        string version = GetAssemblyVersion();

        return $&quot;Function App Version: {version}&quot;;
    }

    private static string GetAssemblyVersion()
    {
        Assembly entryAssembly = Assembly.GetEntryAssembly();
        return entryAssembly.GetName().Version.ToString();
    }
}
</code></pre>
<ul>
<li>The above code uses <code>GetAssemblyVersion()</code> to get the version as shown in the output below.</li>
</ul>
<p><strong>Output:</strong></p>
<p><img src=""https://i.imgur.com/AP0ATOT.png"" alt=""enter image description here"" /></p>
","2024-02-06 13:23:47","0","Answer"
"77947747","77947560","","<p>As <a href=""https://stackoverflow.com/a/77947619/157957"">pointed out by winner_joiner</a>, the easier solution in this case is to use the built-in <code>.filter</code> method, so this is just provided as a learning exercise.</p>
<hr />
<p>This is a demonstration of why naming variables carefully is so useful, as the bug becomes more obvious if we rename them like this:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const removeFromArray = function(targetArray, ...numsToRemove) {
    for(let targetArrayIdx = 0; targetArrayIdx &lt; targetArray.length  ; targetArrayIdx++ ){
       if(numsToRemove == targetArray[targetArrayIdx]){
        targetArray.splice(targetArrayIdx, numsToRemove.length);
       }
    }
    return targetArray;
};
console.log('result:', removeFromArray([2, 1, 2, 3, 4], 1, 2));</code></pre>
</div>
</div>
</p>
<p>(Note that I've removed the <code>Array.from</code> call, because <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters"" rel=""nofollow noreferrer"">JavaScript rest parameters are already an array</a>. So <code>numsToRemove</code> replaces both <code>number</code> and <code>numArray</code> in the original code.)</p>
<p>Two things hopefully now stand out:</p>
<ul>
<li><code>if(numsToRemove == targetArray[targetArrayIdx])</code> is comparing a whole list of numbers to a single item in the target array</li>
<li>if we corrected that to find a matching item, <code>targetArray.splice(targetArrayIdx, numsToRemove.length);</code> is going to delete as many items as are in the <code>numsToRemove</code> list every time</li>
</ul>
<p>What we want instead is:</p>
<ul>
<li>Test if the single item is <em>included in</em> the list of <code>numsToRemove</code>, using <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes"" rel=""nofollow noreferrer"">numsToRemove.includes(value)</a>.</li>
<li>Remove <em>the single item we've found</em>, by always passing <code>1</code> to <code>targetArray.splice</code>:</li>
</ul>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const removeFromArray = function(targetArray, ...numsToRemove) {
    for(let targetArrayIdx = 0; targetArrayIdx &lt; targetArray.length  ; targetArrayIdx++ ){
       if(numsToRemove.includes(targetArray[targetArrayIdx])){
        targetArray.splice(targetArrayIdx, 1);
       }
    }
    return targetArray;
};
console.log('result:', removeFromArray([2, 1, 2, 3, 4], 1, 2));</code></pre>
</div>
</div>
</p>
<p>This leaves a more subtle bug: as we delete items, the remaining items in the array move; so after we delete the <code>2</code> at index 0, the <code>1</code> moves to index 0 - but we carry on with the <code>for</code> loop, and don't check index 0 again.</p>
<p>We can avoid this by iterating the loop <em>backwards</em>, instead of forwards:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const removeFromArray = function(targetArray, ...numsToRemove) {
    for(let targetArrayIdx = targetArray.length-1; targetArrayIdx &gt;= 0; targetArrayIdx-- ){
       if(numsToRemove.includes(targetArray[targetArrayIdx])){
        targetArray.splice(targetArrayIdx, 1);
       }
    }
    return targetArray;
};
console.log('result:', removeFromArray([2, 1, 2, 3, 4], 1, 2));</code></pre>
</div>
</div>
</p>
<p>Now when we remove an item, the only items that move are ones we've already checked, so we safely check each item once.</p>
","2024-02-06 12:37:07","0","Answer"
"77947619","77947560","","<p><code>number == array[i]</code> will never be <code>true</code>. Since <code>number</code> is an Array and you are comparing it with a single number <em>(even if <code>array[i]</code> were an Array, the result would be <code>false</code>, since arrays aren't compared like that, in javascript)</em>.</p>
<p>If you want to remove values from an Array an easy solution would be to use the <code>filter</code> function <em>(<a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"" rel=""nofollow noreferrer"">link to documenation</a>)</em>.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function removeFromArray(array, ...numbers) {
    return array.filter(v =&gt; numbers.indexOf(v) == -1);
};
    
console.log('result:', removeFromArray([2, 1, 2, 3, 4], 1, 2));</code></pre>
</div>
</div>
</p>
<blockquote>
<p><strong>Short sidenote:</strong> your function uses <code>splice</code>, which <strong>changes the underlying array</strong>, the solution I presented <em>only</em> creates a new array. So If you need the passed array the be altered, <em>this solution is not for you</em>.</p>
</blockquote>
","2024-02-06 12:15:53","0","Answer"
"77947601","77947560","","<p>const removeFromArray = function(array, ...numbers) {
let numArray = Array.from(numbers);</p>
<pre><code>for (let i = 0; i &lt; numArray.length; i++) {
    let index = array.indexOf(numArray[i]);
    while (index !== -1) {
        array.splice(index, 1);
        index = array.indexOf(numArray[i]);
    }
}
return array;
</code></pre>
<p>};</p>
<p>console.log(removeFromArray([2, 1, 2, 3, 4], 1, 2));</p>
","2024-02-06 12:13:42","-2","Answer"
"77947560","","Dose splice works when the second parameter is an array.length?","<p>I want to implement a function that takes an array and some other arguments then removes the other arguments from that array.
So i used the rest parameter for the second argument then used Array.from to convert it an array,
then used .length to get its length to use it as the second parameter for splice and it doesn't works.
I know there are better ways to solve this problem, but I want to why it's not working .</p>
<pre><code>const removeFromArray = function(array, ...number) {
    let numArray = Array.from(number)

    for(let i = 0; i &lt; array.length  ; i++ ){
       if(number == array[i]){
        array.splice( i , numArray.length);
       }
    }
    return array;
};

removeFromArray([2, 1, 2, 3, 4], 1, 2);
</code></pre>
<p>expecting the output to be: <code>[3, 4]</code></p>
<p>but it's: <code>[2, 1, 2, 3, 4]</code></p>
","2024-02-06 12:05:50","-1","Question"
"77947445","77945916","","<p>Thanks to @SIM.</p>
<p>I was able to pass the scrapedate using meta</p>
<pre><code>    #...
yield response.follow(next_dateurl, callback=self.parse_date, meta={'scrapedate' : scrapedate})
</code></pre>
<p>then</p>
<pre><code>#...
yield response.follow(nextmeeting, callback=self.parse_meeting, meta={'scrapedate' : response.meta['scrapedate']})
#...

yield response.follow(nextrace, callback=self.parse_race, meta={'scrapedate' : response.meta['scrapedate']})
</code></pre>
<p>and i'm able to call it with</p>
<pre><code>dog_item['date'] = response.meta['scrapedate']
</code></pre>
","2024-02-06 11:46:26","1","Answer"
"77946828","77946806","","<p>To change the slug in WordPress, you can use the <code>wp_update_post</code> function along with the <code>wp_insert_post</code> function. Here's how you can do it:</p>
<pre><code>&lt;?php
// First, get the post ID based on the post URL
$post_url = 'https://www.example.com/mypost/';
$post_id = url_to_postid( $post_url );

// If post ID is found
if ( $post_id ) {
    // Get the post object
    $post = get_post( $post_id );
    
    // Update the post's slug to 'yourpost'
    $post-&gt;post_name = 'yourpost';
    
    // Update the post in the database
    wp_update_post( $post );
    
    echo &quot;Slug updated successfully!&quot;;
} else {
    echo &quot;Post not found!&quot;;
}
?&gt;

</code></pre>
<p>Hopefully this will fix your problem.
Happy Coding :)</p>
","2024-02-06 10:07:59","1","Answer"
"77946806","","How to change the post slug with WordPresss functions?","<p>After a post is created, it looks like:</p>
<pre><code>https://www.example.com/mypost/
</code></pre>
<p>Now I want to use a WordPress built-in function to change 'mypost' to 'yourpost'. How to do so? I cannot find such a function on Google</p>
","2024-02-06 10:04:44","0","Question"
"77946712","77945916","","<p>Observing your code I can see you're trying to use scrapedate, which is declared in parse function (generator), in the parse_race function (generator). This will lead to NameError because scrapedate is a local variable specific to the parse generator. Therefore if you want to use scrapedate in parse_race you'll have to make it a Class attribute:</p>
<pre><code>class DogspiderSpider(scrapy.Spider):
    # ... (your existing code)
    scrapedate = None  # Initialize to None

    def parse(self, response):
        for scrapedate in scrape_list:
            # ... (your existing code)
            self.scrapedate = scrapedate  # assign the attribue
            yield response.follow(next_dateurl, callback=self.parse_date)

    # ..... (Your existing code)


    def parse_race(self, response):
        # ... (your existing code)
        dog_item['date'] = self.scrapedate  # Access the attribute
</code></pre>
","2024-02-06 09:48:08","1","Answer"
"77946669","","Is there a way to await for an if statement to be true?","<p>I am trying to make a multiplayer godot game, and I want to make sure every @rpc have been read by all peers before continuing to read through the main part of the code.</p>
<p>So I made a variable that increases every time one of the rpc is read.</p>
<p>The problem is that I want to make sure that the main program is stopped while this variable is below the number of players.</p>
<p>I have been searching a lot for documentations, but I only came across <em>await</em> which uses signals (so no links to variables), <em>while</em> (which just completely freezes the program) and have been trying to find <em>functions that launches anytime an if statement is true</em> (without luck).</p>
","2024-02-06 09:41:55","1","Question"
"77945916","","Scrapy nameerror while running multiple functions","<p>I'm trying to run the following code but i'm getting this error 'NameError: name 'scrapedate' is not defined'</p>
<pre><code>import scrapy
from datetime import datetime, timedelta
from dogscraper.items import DogItem

racedate = '2024-01-25'
days = 2
realdate = datetime.strptime(racedate, '%Y-%m-%d').date()
scrape_list = [(realdate - timedelta(days=x)).strftime('%Y-%m-%d') for x in range(days)]

class DogspiderSpider(scrapy.Spider):
    name = &quot;dogspider&quot;
    allowed_domains = [&quot;www.thedogs.com.au&quot;]
    start_urls = [&quot;https://www.thedogs.com.au/racing/&quot;+racedate]

    def parse(self, response):
        for scrapedate in scrape_list:
            next_dateurl = 'https://www.thedogs.com.au/racing/' + scrapedate
            yield response.follow(next_dateurl, callback=self.parse_date)


    def parse_date(self, response):
        nswmeetings = response.css('table.meeting-grid')[0]
        nswmeetings = nswmeetings.css('td.meetings-venues__name')

        for meeting in nswmeetings:
            meeting_url = meeting.css('a::attr(href)').get()
            nextmeeting = 'https://www.thedogs.com.au' + meeting_url
            yield response.follow(nextmeeting, callback=self.parse_meeting)


    def parse_meeting(self, response):
        races = response.css('a.race-box.race-box--result')
        for race in races:
            race_url = race.css('a.race-box.race-box--result::attr(href)').get()
            nextrace = 'https://www.thedogs.com.au' + race_url
            yield response.follow(nextrace, callback=self.parse_race) 
      

    def parse_race(self, response):

        dogs = response.css('tr.accordion__anchor.race-runner')
        dog_item = DogItem()

        for dog in dogs:               

            dog_item['date'] = scrapedate
</code></pre>
<p>NameError: name 'scrapedate' is not defined</p>
<p>Essentially, i want to take the scrapedate in the scrape_list under def parse, and use it later on when running def parse_race, dog_item['date'] = scrapedate</p>
","2024-02-06 07:27:42","0","Question"
"77945121","","How to fix the error in the color_post function in this code?","<p>I have this data:</p>
<pre><code>lon = [121,1.212500000000000e+02,1.215000000000000e+02,1.217500000000000e+02,122];
lat = [10,10.250000000000000,10.500000000000000,10.750000000000000,11];
bdlvl = [0,1,2,3,4];
</code></pre>
<p>I want to use the function <code>color_post</code> for this data. However, I am encountering some errors. For instance when I input <code>color_post(lon, lat, bdlvl, [])</code> it sends back an error indicating &quot;<em>Index in position 1 exceeds array bounds. Index must not exceed 1</em>&quot;.</p>
<p>Also there is an error with this certain line:</p>
<pre><code>item=floor((1+var(ibb2(i),1)-a)/(b-a)*63);
</code></pre>
<p>Here's the code:</p>
<pre><code>function color_post(lon,lat,var,limit)
    % mapping z values with gradient of colors
    % make sure you have set your projection area already
    m=length(var);
    hold on 
    
    load('C:\Users\Pia\Downloads\scripts\MyRainbowCmap.mat')
    cmap=mycmap;
    
    if isempty(limit)==1;
        a = min(var); b = max(var);
    else
        a = limit(1); b=limit(2);
    end
    
    caxis([a b]);
    hold on
    
    var(imag(var) ~= 0) = NaN;
    ibb2 = find(isfinite(var));
    %for i=length(ibb2):-1:1;
    for i=1:length(ibb2);
        item=floor((1+var(ibb2(i),1)-a)/(b-a)*63);
        if(item&lt;1)
            item=1;
        end
        if(item&gt;64)
           item=64;
        end
        m_plot(lon(ibb2(i)),lat(ibb2(i)),'o','color',cmap(item,:),'markerfacecolor',cmap(item,:),'MarkerSize',7);   
    end
    fig=gcf; set(fig,'Colormap',mycmap);
    %h=colorbar;
</code></pre>
<p>I tried changing the <code>for i=1:length(ibb2);</code> into  <code>for i=0:length(ibb2);</code>. I expect that this function will help me to classify my bed level values according to colors.</p>
<p>Hope you could help me!</p>
","2024-02-06 03:33:40","0","Question"
"77944554","77904845","","<p>Your rule is backward fill but implement forward fill.</p>
<p>Sample data generate:</p>
<pre><code>import pandas as pd

data_dict = {
    &quot;date&quot;: [&quot;2022-01-01&quot;, &quot;2022-01-02&quot;, &quot;2022-01-03&quot;, &quot;2022-01-04&quot;, &quot;2022-01-05&quot;,
             &quot;2022-01-01&quot;, &quot;2022-01-02&quot;, &quot;2022-01-03&quot;, &quot;2022-01-04&quot;, &quot;2022-01-05&quot;,
             &quot;2022-01-01&quot;, &quot;2022-01-02&quot;, &quot;2022-01-03&quot;, &quot;2022-01-04&quot;, &quot;2022-01-05&quot;,
             &quot;2022-01-01&quot;, &quot;2022-01-02&quot;, &quot;2022-01-03&quot;, &quot;2022-01-04&quot;, &quot;2022-01-05&quot;],
    &quot;id&quot;: [11, 11, 11, 11, 11,
           22, 22, 22, 22, 22,
           33, 33, 33, 33, 33,
           44, 44, 44, 44, 44],
    &quot;value1&quot;: [1, 2, None, None, 5,
               11, None, None, None, 12,
               2, 4, None, None, None,
               None, 34, None, 35, None],
    &quot;value2&quot;: [12, 13, None, None, 15,
               3, None, None, None, 34,
               4, 8, None, None, None,
               None, 89, None, None, None]
}

df = pd.DataFrame(data_dict)
df
</code></pre>
<p>Create dummy fill indicator by using backward fill <code>bfill</code>:</p>
<pre><code>df[['dum1', 'dum2']] = df.groupby('id')[['value1', 'value2']].bfill().notna()
</code></pre>
<p>Then using <code>groupby</code> foward fill <code>ffill</code>:</p>
<pre><code>df[['fvalue1', 'fvalue2']] = df.groupby('id')[['dum1', 'dum2']].ffill()
</code></pre>
<p>Lastly combine:</p>
<pre><code>df['nvalue1'] = np.where(df['dum1']==True, df['fvalue1'], np.NaN)
df['nvalue2'] = np.where(df['dum2']==True, df['fvalue2'], np.NaN)
</code></pre>
","2024-02-05 23:31:56","0","Answer"
"77944478","","Applying a function to each cell in raster returns error","<p>I have a function that normalises a value</p>
<pre><code>norm_formula &lt;- function(x, min_value, max_value){
    if(is.na(x)){
      norm_x &lt;- NA
    } else if(is.nan(x)) {
      norm_x &lt;- NA
    } else {  
      if(x &lt; min_value){
        norm_x &lt;- 1
      } else if (x &gt; max_value){
        norm_x &lt;- 100
      } else {  
        norm_x &lt;- (100-1)*((x - min_value)/(max_value - min_value)) + 1      
      }
    }  
    return(norm_x)
  }
</code></pre>
<p>I want to apply this function to each cell in a spatraster</p>
<pre><code>library(terra)
r &lt;- rast(ncol=3, nrow=2)
values(r) &lt;- 1:ncell(r)
  
s &lt;- app(r, fun= function(x) norm_formula(x, 0, 0.5))
Error in if (is.na(x)) { : the condition has length &gt; 1
</code></pre>
","2024-02-05 23:08:20","0","Question"
"77944327","77944292","","<p>The function you call <code>RangeFactorial</code> is just the regular factorial function:</p>
<pre><code>def factorial(n)
    result = 1
    for x in range(1, n +1):
         result = result * x
    return result
</code></pre>
<p><code>RangeFactorial</code> would be the function that <em>calls</em> <code>factorial</code> 10 times:</p>
<pre><code>def range_factorial():
    for n in range(1, 10):
        print(n, factorial(n))
</code></pre>
<p>To build a list instead of printing the values, you can do, for example,</p>
<pre><code>def range_factorial():
    result = []
    for n in range(1, 10):
        result.append(factorial(n))
    return result
</code></pre>
","2024-02-05 22:23:47","0","Answer"
"77944292","","Defining a function that will print each factorial of y from 0 up to a specified value","<p>I'm trying to get the function input to be similar to</p>
<p><code>RangeFactorial(10)</code></p>
<p>and the function produce the factorials of each number from 0 to 10</p>
<p>Currently I have:</p>
<pre><code>def RangeFactorial(n)
    result = 1
    for x in range(1, n +1):
         result = result * x
    return result

for n in range(1, 10):
    print(n, RangeFactorial(n))
</code></pre>
<p>The outcome is fine, but I would the range input be like I stated above.</p>
<p>Additionally, I want the output to be a list and I've no idea where to start with that.</p>
","2024-02-05 22:16:10","-1","Question"
"77943328","","How to add a sum inside another sum under execute in cplex","<p>Good day to all. I ask you to help me with this issue. I have to add this formula into my cplex code:</p>
<p><a href=""https://i.sstatic.net/VALtk.jpg"" rel=""nofollow noreferrer"">Probfunction</a></p>
<p>I am struggling to add the sum inside the sum in the denominator. Can anyone please help me on how this code would work on cplex? Specifically, under execute. I thank you in advance for any help.</p>
<p>I tried to add the sum in two parts, but it did not work, since the sums need to happen simultaneously.</p>
","2024-02-05 18:52:42","0","Question"
"77941823","77940290","","<p>Yes, you should iterate through your Maps.</p>
<pre><code>ProductSettings settings = /* ... */;

Set&lt;ProductType&gt; enabledProductTypes = EnumSet.noneOf(ProductType.class);

for (Map.Entry&lt;ProductType, Predicate&lt;ProductSettings&gt;&gt; entry : mapGetter) {
    ProductType type = entry.getKey();
    Predicate&lt;ProductSettings&gt; enabled = entry.getValue();

    if (enabled.test(settings)) {
        enabledProductTypes.add(type);
    }
}
</code></pre>
<p>And:</p>
<pre><code>ProductSettings settings = /* ... */;
Set&lt;ProductType&gt; enabledProductTypes = /* ... */

for (Map.Entry&lt;ProductType, BiConsumer&lt;ProductSettings, Boolean&gt;&gt; entry : mapSetter) {
    ProductType type = entry.getKey();
    BiConsumer&lt;ProductSettings, Boolean&gt;&gt; setter = entry.getValue();

    setter.accept(settings, enabledProductTypes.contains(type));
}
</code></pre>
","2024-02-05 14:51:39","1","Answer"
"77941401","","How to set dotnet function version similar to dotnet web app assembly version","<p>I have a dotnet function app and trying to set the assembly version similar to the dotnet web app. But when I try to read the assembly version I am only receiving the dotnet function runtime version. I need a way to set the version of the function app in build time and read that during runtime time.</p>
<pre><code>dotnet publish -c Release -p:UseAppHost=false -o buildFolder project.csproj 
</code></pre>
<p>with the above publish command I want to pass a version number and I should be able to read the version in runtime</p>
<p>Even if I add Assembly version like this in the visual studio
<a href=""https://i.sstatic.net/WVQFz.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/WVQFz.png"" alt=""enter image description here"" /></a>
<a href=""https://i.sstatic.net/zS2Pj.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/zS2Pj.png"" alt=""enter image description here"" /></a></p>
<p>But the api is returning the core tools versions only not the assembly version as expected
<a href=""https://i.sstatic.net/ozQWb.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/ozQWb.png"" alt=""enter image description here"" /></a></p>
<p>I am able to do that in a dotnet web app with the below command</p>
<pre><code>dotnet publish -c Release -o buildFolder project.csproj -p:Version=$(version)
</code></pre>
<p>and I am reading like this</p>
<pre><code>string version = Assembly.GetEntryAssembly().GetName().Version.ToString();
</code></pre>
<p>I want similar thing in dotnet function app</p>
","2024-02-05 13:45:24","0","Question"
"77940846","77940165","","<blockquote>
<p>Is <code>int(int) const</code> a valid function type in C++23?</p>
</blockquote>
<p>Yes, <code>int(int) const</code> has always been(even before c++23) a <em>function type</em>. Even <code>auto(int)const-&gt;int</code> is a function type.</p>
<p>This can be seen from <a href=""https://eel.is/c++draft/dcl.fct"" rel=""nofollow noreferrer"">dcl.fct</a>:</p>
<blockquote>
<ol>
<li>In a declaration T D where D has the form</li>
</ol>
<pre><code> D1 ( parameter-declaration-clause ) cv-qualifier-seqopt
   ref-qualifieropt noexcept-specifieropt attribute-specifier-seqopt
</code></pre>
<ol start=""2"">
<li>In a declaration T D where D has the form</li>
</ol>
<pre><code> D1 ( parameter-declaration-clause ) cv-qualifier-seqopt
   ref-qualifieropt noexcept-specifieropt attribute-specifier-seqopt trailing-return-type  
</code></pre>
<ol start=""3"">
<li><strong>A type of either form is a function type.</strong></li>
</ol>
</blockquote>
<p>(emphasis mine)</p>
<p>This means that both are <code>auto(int)const-&gt;int</code> as well as <code>int(int)const</code> are function type.</p>
<pre><code>using type = int(int) const;             //this is a function type
using anothertype = auto(int)const-&gt;int; //this is also a function-type
</code></pre>
","2024-02-05 12:13:12","4","Answer"
"77940796","77940165","","<p>By chance I found this example from the <a href=""https://eel.is/c++draft/dcl.fct#example-4"" rel=""nofollow noreferrer"">standard draft</a>:</p>
<blockquote>
<pre><code>[Example 4: 
typedef int FIC(int) const;
FIC f;              // error: does not declare a member function
struct S {
  FIC f;            // OK
};
FIC S::*pm = &amp;S::f; // OK
— end example]
</code></pre>
</blockquote>
<p>The section is about the possibility to use an alias to declare but not define a (member) function. Coincidentally, it nicely illustrates the <code>foo(bar) const</code> type.</p>
<p>Above <code>FIC</code> is an alias for <code>int(int) const</code>. Its a function type. There are, however, no functions of that type. You can use it to declare a member inside a class, or declare a pointer to member function, as shown in the lines marked with <code>OK</code> respectively. The type of the pointer is <code>int(S::*)(int)const</code>.</p>
","2024-02-05 12:03:22","4","Answer"
"77940290","","using functional interfaces in java","<p>I have <code>ProductSettings</code> and <code>ProductType</code>. Product settings determine whether product types are enabled or not.</p>
<pre><code>ProductSettings productSettings = new ProductSettings()
            .setIsTreasuryInfoEnabled(true)
            .setIsTreasurySwiftInfoEnabled(true)
            .setIsTreasuryExecutionControlEnabled(true)
            .setIsAcceptEnabled(true);

public enum ProductType {
INFO,
INFOSWIFT,
BUDGETCONTROL,
ACCEPT,
DIRECTACCOUNTCONTROL
</code></pre>
<p>how can i fill the <code>enabledProductTypes</code> set using functional interfaces and vs task - enable settings by having product types?</p>
<pre><code>Set&lt;ProductType&gt; enabledProductTypes = EnumSet.noneOf(ProductType.class);
</code></pre>
<p>I created map</p>
<pre><code>static Map&lt;ProductType, Predicate&lt;ProductSettings&gt;&gt; mapGetter = new HashMap&lt;&gt;();

static Map&lt;ProductType, BiConsumer&lt;ProductSettings, Boolean&gt;&gt; mapSetter = new HashMap&lt;&gt;();
</code></pre>
<p>and filled out <code>mapGetter </code> with Predicate like this:</p>
<pre><code>mapGetter.put(ProductType.ACCEPT, ProductSettings::getIsAcceptEnabled);


mapGetter.put(ProductType.INFO,ProductSettings::getIsTreasuryInfoEnabled);
</code></pre>
<p>and filled out <code>mapSetter</code> with BiConsumer like this:</p>
<pre><code>mapSetter.put(ProductType.ACCEPT, ProductSettings::setIsAcceptEnabled);

mapSetter.put(ProductType.INFO, ProductSettings::setIsTreasuryInfoEnabled);
</code></pre>
<p>but how to use it I can't understand.
I guess i shoul iterate by my map</p>
","2024-02-05 10:40:18","-1","Question"
"77940165","","Is `int(int) const` a valid function type in C++23?","<p>Below is excerpted from <a href=""https://en.cppreference.com/w/cpp/utility/functional/move_only_function"" rel=""nofollow noreferrer"">cppref</a>:</p>
<pre><code>template&lt;class...&gt;
class move_only_function; // not defined

template&lt;class R, class... Args&gt;
class move_only_function&lt;R(Args...) const&gt;;
</code></pre>
<p>I also tried the following code:</p>
<pre><code>// ok
std::function&lt;int(int)&gt; fn; 

// error: implicit instantiation of undefined template
// 'std::function&lt;void () const&gt;'
std::function&lt;int(int) const&gt; fn; 
</code></pre>
<p><strong>Is</strong> <code>int(int) const</code> <strong>a valid function type in C++23?</strong></p>
","2024-02-05 10:20:44","2","Question"
"77938883","77934899","","<p>In Matlab, each m file can contain only one function that is accessible from outside the file. That function is defined at the top of the m file.</p>
<p>The function is called by the same name as m file name, even if the function name is different from the file. Although more than one function can exist in the same m file but all other functions that exist in that file are visible to only to the function defined at the top of m file. It like scope of the other functions is only inside the m file.</p>
<p>You can use aliasing to assign more than one name to a matlab function.
<code>yourfunction = @myfunction</code>. The downside is you have to write the aliasing syntax separately in a scrip or run on command window, but it cannot be included in the same m file.</p>
","2024-02-05 05:58:20","1","Answer"
"77936739","77936718","","<blockquote>
<p>sometimes they are not added to the password</p>
</blockquote>
<p>You are doing</p>
<pre><code>password = ''.join(random.choice(characters) for _ in range(length))
</code></pre>
<p>so you take character <em>randomly</em> <code>length</code> times, therefore (as long as <code>characters</code> contain at least 1 non-digit character) you might end with digitless <code>password</code>.</p>
","2024-02-04 16:59:22","0","Answer"
"77936718","","why digits not used sometimes if this function","<p>i need help. I have function and this function generates a password based on what the user has entered, but when numbers need to be used, sometimes they are not added to the password, why can this be? Here is the code:</p>
<pre><code>def generate_secure_password(length, include_digits, include_symbols, include_uppercase):
    characters = string.ascii_lowercase
    if include_digits == 1:
        characters += string.digits
    if include_symbols == 1:
        characters += string.punctuation
    if include_uppercase == 1:
        characters += string.ascii_uppercase

    password = ''.join(random.choice(characters) for _ in range(length))

    return password


a = generate_secure_password(8, 1, 1, 1)
print(a)
</code></pre>
<p>i try another commands but it doesnt help</p>
","2024-02-04 16:55:04","0","Question"
"77934899","","Call MATLAB function with original name even when its function M file is named differently?","<p>New to MATLAB. At work, in the vast set of MATLAB functions we have, I have noticed that some function <code>m</code> files (a file that declares and defines one single function) contain a function that has a different name, e.g. <code>myfunction.m</code> contains <code>yourfunction()</code>. From what I know it is not a must for both to be the same but it is considered a good practice.</p>
<p>This creates a problem, since even in MATLAB editor I have to call <code>myfunction()</code> in the command line instead of <code>yourfunction()</code>.</p>
<p>Does MATLAB provide some way to enable me to still call <code>yourfunction()</code> (the actual name of the function) even with that discrepancy in naming?</p>
","2024-02-04 07:17:38","2","Question"
"77932282","77932226","","<p>The struct redefinition errors are appearing because you're including given1.h in multiple places in a single translation unit (i.e. a source file, the headers it includes, the headers <em>those</em> include, etc) resulting in the struct definition appearing in multiple places.</p>
<p>You can fix this by adding <em>header guards</em> in your header files.  This prevents the contents from being included multiple times.  For example:</p>
<p>given1.h:</p>
<pre><code>#ifndef GIVEN_H
#define GIVEN_H

struct Animal {
   ...

int readFromFile (char fName [30], struct Animal dataZoo [NUM_SAMPLES]) ;

...

#endif
</code></pre>
","2024-02-03 13:36:45","1","Answer"
"77932226","","Error about the Redefinition of a struct and conflicting types for a function","<p>I have a given header (given1.h) file that includes my function prototypes, definitions, a struct definition, and libraries. I wanted to add a helper file called helper.h that incldues a function prototype called <code>int readDataFile(char fileName[30], struct Animal testData[NUM_TEST_DATA]);</code></p>
<p>It would seem wise to add the prototype to given1.h but I must create a helper.h. Since the function prototype has struct Animal from given1.h and NUM_TEST-DATA, I need to add #include &quot;given1.h&quot;, then include this both headers in both my main and function definition file.
Only problem is that when I do this, I get an error saying</p>
<pre class=""lang-none prettyprint-override""><code>error: redefinition of ‘struct Animal’
   31 | struct Animal {
      |        ^~~~~~
given1.h:31:8: note: originally defined here
   31 | struct Animal {
      |        ^~~~~~
given1.h:40:5: error: conflicting types for ‘readFromFile’; have ‘int(char *, struct Animal *)’
   40 | int readFromFile (char fName [30], struct Animal dataZoo [NUM_SAMPLES]) ;
      |     ^~~~~~~~~~~~
givenA1.h:40:5: note: previous declaration of ‘readFromFile’ with type ‘int(char *, struct Animal *)’
   40 | int readFromFile (char fName [30], struct Animal dataZoo [NUM_SAMPLES]) ;
</code></pre>
<p>and so on for all my functions. What can I do to fix this?</p>
<p>I did try putting my prototype within givenA1 and it gave me an implicit differentiation warning and still even then, it must go in helper.h. For some reason, the program only runs without warnings/errors when I put the prototype in main. I have zero idea as to why it only runs when the prototype is in main. How can I declare this prototype with the correct parameters from given1.h without causing an error regarding a redefintion of struct and an error regarding conflicting types for all functions. I also use a make file to compile it.</p>
","2024-02-03 13:16:37","-2","Question"
"77931211","77929442","","<p>You should improvide your question, provide some example data, and be as specific as possible. But here is a start. With SpatRaster <code>nbr</code> you could do</p>
<pre><code>years &lt;- as.integer(names(nbr))
i &lt;- which(years == year_of_fire)

dNBR &lt;- nbr[i-1] − nbr[i+1]​
R80P &lt;- max(nbr[[ i+4:5 ]]) / mean(nbr[[ (i-4):(i-1) ]])
</code></pre>
","2024-02-03 07:23:47","0","Answer"
"77930158","77929403","","<p>You could write a small helper function to accomplish the same:</p>
<pre><code>fn &lt;- function(w,x){
  i1 &lt;- w &gt; 0
  x[sequence(w[i1], seq_along(w)[i1])] &lt;- rep(x[i1], w[i1])
  x
}

dt1[,x2 := fn(w0,x1)][]
    w0 x1 x2
 1:  0  0  0
 2:  0  0  0
 3:  3  1  1
 4:  0  0  1
 5:  0  0  1
 6:  0  0  0
 7:  0  0  0
 8:  5  2  2  # New line added
 9:  0  0  2
10:  0  0  2
11:  0  0  2
12:  0  0  2
13:  0  0  0
</code></pre>
","2024-02-02 22:29:57","4","Answer"
"77929872","77929403","","<p>A plodder's alternative:</p>
<pre><code>tmp &lt;- dt1[w0&gt;0, .(x2 = rep(x1, w0)), by=.I][, I := I + seq_len(.N)-1, by=I]
dt1[, x2 := x1][tmp$I, x2:=tmp$x2]

&gt; dt1
       w0    x1    x2
    &lt;num&gt; &lt;num&gt; &lt;num&gt;
 1:     0     0     0
 2:     0     0     0
 3:     3     1     1
 4:     0     0     1
 5:     0     0     1
 6:     0     0     0
 7:     0     0     0
 8:     0     0     0
 9:     0     0     0
10:     0     0     0
11:     0     0     0
12:     0     0     0
13:     0     0     0
</code></pre>
<p>NB requires data.table 1.15.0 (for <code>by=.I</code>)</p>
<p>This just expands the relevant rows in a new table, creates a column for the row no. where they should go in the old table, and overwrites a clone of x1 at those rows.</p>
","2024-02-02 21:11:56","2","Answer"
"77929650","77929136","","<p>Here's another version using <code>substitute</code>, which additionally allows you to pass the unquoted function body as an argument, and allows you to specify the calculation <em>or</em> the result:</p>
<pre class=""lang-r prettyprint-override""><code>my_formula &lt;- function(x, y, z = 195.084, f = x/z * y, formula = FALSE) {
  
  y &lt;- case_when(y == &quot;A&quot; ~ 300.05, 
                 y == &quot;B&quot; ~ 397.28, 
                 .default = 1/z)
  
  f &lt;- substitute(f)
  
  calc &lt;- lapply(seq_along(x), function(i) {
    do.call(&quot;substitute&quot;, list(expr = f, env = list(x = x[i], y = y[i], z = z)))
    })
  
  if(formula) sapply(calc, deparse) else sapply(calc, eval)
}
</code></pre>
<p>Testing</p>
<pre><code>df %&gt;% 
  mutate(ppm_calculated = my_formula(ppm, material),
         calculation = my_formula(ppm, material, formula = TRUE))
#&gt;   id   ppm material ppm_calculated            calculation
#&gt; 1  1 0.730        A        1.12278  0.73/195.084 * 300.05
#&gt; 2  2 0.807        B        1.64342 0.807/195.084 * 397.28
</code></pre>
","2024-02-02 20:17:32","2","Answer"
"77929646","77929575","","<p><code>**randomColor()**</code> is incorrect JavaScript syntax. You may have meant <code>randomColor()</code> as in:</p>
<pre class=""lang-html prettyprint-override""><code>&lt;span
  className={`… bg-[${randomColor()}]`}
&gt;
</code></pre>
<p>Furthermore, as per <a href=""https://tailwindcss.com/docs/content-configuration#dynamic-class-names"" rel=""nofollow noreferrer"">the documentation</a>:</p>
<blockquote>
<p>The most important implication of how Tailwind extracts class names is that it will only find classes that exist as <em>complete unbroken strings</em> in your source files.</p>
<p>If you use string interpolation or concatenate partial class names together, Tailwind will not find them and therefore will not generate the corresponding CSS:</p>
<p><strong>Don’t construct class names dynamically</strong></p>
<pre class=""lang-js prettyprint-override""><code>&lt;div class=&quot;text-{{ error ? 'red' : 'green' }}-600&quot;&gt;&lt;/div&gt;
</code></pre>
<p>In the example above, the strings <code>text-red-600</code> and <code>text-green-600</code> do not exist, so Tailwind will not generate those classes.
Instead, make sure any class names you’re using exist in full:</p>
<p><strong>Always use complete class names</strong></p>
<pre class=""lang-js prettyprint-override""><code>&lt;div class=&quot;{{ error ? 'text-red-600' : 'text-green-600' }}&quot;&gt;&lt;/div&gt;
</code></pre>
</blockquote>
<p>You could:</p>
<ul>
<li>Have the entire class in the <code>bgColor</code> array like:
<pre class=""lang-js prettyprint-override""><code>const bgColor = [
  &quot;bg-[#0B956C]&quot;,
  &quot;bg-[#1C6FBD]&quot;,
  &quot;bg-[#BC1C1E]&quot;,
  &quot;bg-[#8D4615]&quot;,
  &quot;bg-[#0695B7]&quot;,
  &quot;bg-[#6110A7]&quot;,
  &quot;bg-[#99630F]&quot;,
  &quot;bg-[#14B9B2]&quot;,
  &quot;bg-[#99630F]&quot;,
];
</code></pre>
<pre><code>&lt;span
  className={`… ${randomColor()}`}
&gt;
</code></pre>
Also, ensure the file that the <code>randomColor()</code> function is in is covered by the <code>content</code> file globs in the Tailwind configuration.</li>
<li>Use the <code>style</code> attribute:
<pre><code>&lt;span
  className={`…`}
  style={{
    backgroundColor: randomColor(),
  }}
&gt;
</code></pre>
</li>
</ul>
","2024-02-02 20:16:53","0","Answer"
"77929636","77929136","","<p>You could use <code>substitute</code>:</p>
<pre><code>my_formula &lt;- function(x, y, z = 195.084){
    fm &lt;- function(x, y, z){
        a &lt;- substitute(x/z * y, list(x = x, y = y, z = z))
        data.frame(list(value=a), calculation = deparse1(a))
    }
    
    b &lt;- Map(fm, x, c(A = 300.05, B = 397.28)[y], z)
    do.call(rbind, b)
}

with(df, my_formula(ppm, material))
    value            calculation
1 1.12278  0.73/195.084 * 300.05
2 1.64342 0.807/195.084 * 397.28
</code></pre>
<hr />
<p>The function works within mutate as well:</p>
<pre><code>df %&gt;%
  mutate(my_formula(ppm, material))
  id   ppm material   value            calculation
1  1 0.730        A 1.12278  0.73/195.084 * 300.05
2  2 0.807        B 1.64342 0.807/195.084 * 397.28
</code></pre>
<hr />
<h3>Edit:</h3>
<p>If you could use <code>strings</code> then simply do:</p>
<pre><code>my_formula &lt;- function(x, y, z = 195.084){
    y &lt;- c(A = 300.05, B = 397.28)[y]
    data.frame(value = x / z * y, calc = paste(x, '/', z, '*',y))
}
with(df, my_formula(ppm, material))
    value                     calc
A 1.12278  0.73 / 195.084 * 300.05
B 1.64342 0.807 / 195.084 * 397.28
</code></pre>
","2024-02-02 20:12:41","3","Answer"
"77929624","77929403","","<p>I'm doing this as a &quot;reduction&quot;, simply because we don't know a priori how many <code>w0</code> will meet the condition, and we want to preserve what changes we can from previous rows.</p>
<pre class=""lang-r prettyprint-override""><code>dt1[, x2new := Reduce(function(prev, ind) fifelse(.I %in% (ind + 0:2), x1[ind], prev),
                      which(w0 != 0), init = x1)]
dt1
#        w0    x1    x2 x2new
#     &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;
#  1:     0     0     0     0
#  2:     0     0     0     0
#  3:     3     1     1     1
#  4:     0     0     1     1
#  5:     0     0     1     1
#  6:     0     0     0     0
#  7:     0     0     0     0
#  8:     0     0     0     0
#  9:     0     0     0     0
# 10:     0     0     0     0
# 11:     0     0     0     0
# 12:     0     0     0     0
# 13:     0     0     0     0
</code></pre>
<p>Quick walk-through:</p>
<ul>
<li><code>which(.)</code> returns a list of indices, which, if empty, just passes <code>x1</code> (from <code>init=</code>) through unchanged;</li>
<li><code>.I</code> is all row numbers, so <code>ind+0:2</code> means &quot;the non-zero row and two following it&quot;, and the use of <code>%in%</code> means we aren't concerned if <code>ind+2</code> is more than we have rows in the frame; using <code>fifelse</code>, if each row number is found in <code>ind + 0:2</code> then replace those rows with the single value of <code>x1[ind]</code>, otherwise we use the values returned by the previous call to the anon-func</li>
<li>on the first call of the inner function, <code>prev</code> is the existing values from <code>x1</code> (because of <code>init=x1</code>), and <code>ind</code> is the row number of the first non-zero <code>w0</code>, which is 3` in this case;</li>
<li>on the second call (if it were to happen), then <code>prev</code> is the set of values from the previous call to the anon-func, so within the <code>fifelse</code> if the rows are <em>not</em> to be affected, then we pass through the values as returned by that previous call;</li>
<li><code>prev</code> always means &quot;return from the last call of the anon-func&quot; except for the first time when it is filled by <code>init=</code>;</li>
<li><code>ind</code> always means (in this case) the next row number where <code>w0</code> is non-zero.</li>
</ul>
<p>Notes:</p>
<ul>
<li><p>It's not perfectly clear to me if we should always use the pre-<code>Reduce</code> values of <code>x1</code> for repeating, or if we should be using <code>fifelse(..., prev[ind], prev)</code> instead</p>
</li>
<li><p>if you're tempted (as I am) to define this <code>function(prev, ind)</code> <em>outside</em> the <code>Reduce</code> call and <em>outside</em> the <code>dt1[...]</code> enclosure,</p>
<pre class=""lang-r prettyprint-override""><code>fun &lt;- function(prev, ind) fifelse(.I %in% (ind + 0:2), x1[ind], prev)
dt1[, x2new := Reduce(fun, which(w0 != 0), init = x1)]
# Error in f(init, x[[i]]) : object 'x1' not found
</code></pre>
<p>the <code>x1</code> is not found. One workaround involves a touch of meta-programming:</p>
<pre class=""lang-r prettyprint-override""><code>fun &lt;- function(DT) function(prev, ind) DT[, fifelse(.I %in% (ind + 0:2), x1[ind], prev)]
dt1[, x2new := Reduce(fun(.SD), which(w0 != 0), init = x1)]
</code></pre>
<p>where <code>fun(..)</code> returns a function, which is then used for finding <code>x1</code>.</p>
<p><em><strong>IF INSTEAD</strong></em> we should be using <code>fifelse(.., prev[ind], prev)</code>, then this problem goes away so long as we also replace <code>.I</code> with <code>seq_along(prev)</code> (which we can use anyway):</p>
<pre class=""lang-r prettyprint-override""><code>fun &lt;- function(prev, ind) fifelse(seq_along(prev) %in% (ind + 0:2), prev[ind], prev)
dt1[, x2new := Reduce(fun, which(w0 != 0), init = x1)]
</code></pre>
</li>
</ul>
<p>For anybody else that is interested, this last form of <code>fun</code> works perfectly well in non-<code>data.table</code>:</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)
fun &lt;- function(prev, ind) if_else(seq_along(prev) %in% (ind + 0:2), prev[ind], prev)
tibble(dt1) |&gt;
  mutate(x2new = Reduce(fun, which(w0 != 0), init = x1))
</code></pre>
<p>we could even throw in <code>purrr::reduce</code> if you're loath to use base R :-)</p>
","2024-02-02 20:11:30","2","Answer"
"77929575","","How can I added function in tailwindcss class","<p>I want to added a function to tailwindcss class.
such as,
I have a list Tags. And I want to added a function as like as class.
But it not work
My function Name <strong>randomColor</strong>
<strong>randomColor</strong> function i want to add as like tailwindcss class</p>
<p><strong>My code is</strong></p>
<pre><code>{task?.tags?.length &gt; 0 &amp;&amp;
                      task?.tags?.map((tag) =&gt; (
                        &lt;li key={tag}&gt;
                          &lt;span
                            className={`inline-block h-5 whitespace-nowrap rounded-[45px]  px-2.5  text-sm capitalize text-[#F4F5F6]  bg-[${**randomColor()**}]`}
                          &gt;
                            {tag}
                          &lt;/span&gt;
                        &lt;/li&gt;
                      ))}
</code></pre>
<p><strong>My function is,</strong></p>
<pre><code>const bgColor = [
    &quot;#0B956C&quot;,
    &quot;#1C6FBD&quot;,
    &quot;#BC1C1E&quot;,
    &quot;#8D4615&quot;,
    &quot;#0695B7&quot;,
    &quot;#6110A7&quot;,
    &quot;#99630F&quot;,
    &quot;#14B9B2&quot;,
    &quot;#99630F&quot;,
  ];

  export function randomColor() {
    const randomNumber = Math.floor(Math.random() * bgColor.length) + 1;
    const data = bgColor[randomNumber];
    if (data === undefined) {
      return bgColor[1];
    }
    return data;
  }
</code></pre>
<p>Please help me to solve this problem</p>
","2024-02-02 19:57:42","0","Question"
"77929447","77929136","","<p>You could just have your function return both in a data frame and the unnest the data frame.</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)
library(tidyr)

my_formula &lt;- function(x, y, z = 195.084){
  calc = case_when(
    y == &quot;A&quot; ~ sprintf(&quot;%.3f / 300.05 * %.3f&quot;, x, z), 
    y == &quot;B&quot; ~ sprintf(&quot;%.3f / 397.28 * %.3f&quot;, x, z)
  )
  output = case_when(
    y == &quot;A&quot; ~ x/z * 300.05,
    y == &quot;B&quot; ~ x/z * 397.28,
    .default = x
  )
  output &lt;- data.frame(calculated = output, calculation = calc)
  return(output)
}

df &lt;- structure(list(id = 1:2, ppm = c(0.73, 0.807), 
                     material = c(&quot;A&quot;, &quot;B&quot;)), 
                class = &quot;data.frame&quot;, row.names = c(&quot;1&quot;, &quot;2&quot;))

df %&gt;% 
  mutate(res = my_formula(ppm, material)) %&gt;% 
  unnest(res)
#&gt; # A tibble: 2 × 5
#&gt;      id   ppm material calculated calculation             
#&gt;   &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;                   
#&gt; 1     1 0.73  A              1.12 0.730 / 300.05 * 195.084
#&gt; 2     2 0.807 B              1.64 0.807 / 397.28 * 195.084
</code></pre>
<p><sup>Created on 2024-02-02 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.0.2</a></sup></p>
","2024-02-02 19:32:33","2","Answer"
"77929442","","How can I calculate metrics on a spat raster based on a known year? ex: dNBR","<p>&quot;I am trying to calculate a number of metrics that describe spectral recovery post-fire across a time series. I have a 'spatraster' of fitted NBR values over 38 years (export of LandTrendR) on my AOI and the year of the fire.</p>
<pre><code>r
#class       : SpatRaster 
#dimensions  : 967, 1193, 38  (nrow, ncol, nlyr)
#resolution  : 8.983153e-05, 8.983153e-05  (x, y)
#extent      : -115.5009, -115.3937, 51.15043, 51.2373  (xmin, xmax, ymin, ymax)
#coord. ref. : lon/lat WGS 84 (EPSG:4326) 
#source      : NBR_FTV_fit_neg_stack.tif 
#names       : 1984, 1985, 1986, 1987, 1988, 1989, .
 
year_of_fire == 2014
</code></pre>
<p>One simple metric I would like to calculate is dNBR, where:
dNBR=NBR pre −NBR post
​
I am attempting to write a function that calculates this using 'year_of_fire,' which is just a year I have saved as a variable.</p>
<p>I want to create a function that indexes the 'spatraster' layers based on 'year_of_fire' without manually passing the pre and post-fire years, as I will need to run this on dozens of fires.</p>
<p>I believe I will need to use the 'tapp::terra' package to get the output raster of the calculated metric (in this case, dNBR).</p>
<p>[for context; I am trying calculate a handful of metrics that all use year_of_fire;
R80P (ratio of recovery @80 percent) = Max(year 4 or 5) post fire / NBR pre3 (avg of 3 years pre fire)*.8</p>
<p>Appreciate any thoughts on alternatives.</p>
<p>I have tried to use tapp but have not been successful at figuring out how to tell the function to index based on year_of_fire.</p>
","2024-02-02 19:31:54","0","Question"
"77929403","","R programming: Carry forward a value in a column repeatedly based on a value in another column","<p>In R, ideally data.table, I have the following dataset:</p>
<pre><code>dt1 &lt;- data.table(
  w0 = c(0, 0, 3, rep(0, 10)),
  x1 = c(0, 0, 1, rep(0, 10)))
</code></pre>
<p>And I would like to create one new variable x2 that carries forward the value in x1 based on the value in w0.</p>
<p>Something that works like this:</p>
<pre><code>dt1[, x2 := function(x1, w0)]
</code></pre>
<p>Which then results into a variable that looks like this:</p>
<pre><code>dt1[, x2 := c(0, 0, 1, 1, 1, rep(0, 8))]
dt1
</code></pre>
<p>FYI: The &quot;carried forward&quot; variable x1 will not overlap with any next original value in x1.</p>
<p>EDIT (based on Greg's comment):
It's actually carrying forward a 1 in a dummy variable and then overwrite the consecutive 0s. The values of w0 = 0 can be ignored and w0 &gt; 0 will only appear where x1 = 1.</p>
<p>Thanks in advance.</p>
","2024-02-02 19:23:44","1","Question"
"77929136","","How to automate and show calculation steps using a custom function formula","<p>I have this function calculating a formula:</p>
<pre><code>my_formula &lt;- function(x, y, z = 195.084){
  output = case_when(
    y == &quot;A&quot; ~ x/z * 300.05,
    y == &quot;B&quot; ~ x/z * 397.28,
    .default = x
  )
  return(output)
}
</code></pre>
<p>and this data frame on which the function should be applied:</p>
<pre><code>df &lt;- structure(list(id = 1:2, ppm = c(0.73, 0.807), material = c(&quot;A&quot;, 
&quot;B&quot;)), class = &quot;data.frame&quot;, row.names = c(&quot;1&quot;, &quot;2&quot;))

  id   ppm material
1  1 0.730        A
2  2 0.807        B
</code></pre>
<p>I do:</p>
<pre><code>library(dplyr)

df %&gt;% 
  mutate(ppm_calculated = my_formula(ppm, material))
</code></pre>
<p>and I get:</p>
<pre><code>     id   ppm material ppm_calculated
  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt;
1     1 0.730 A                  1.12
2     2 0.807 B                  1.64
</code></pre>
<p>I would like to add a new column that shows the calculation steps for each material, like:</p>
<pre><code>     id   ppm material ppm_calculated calculation             
  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;chr&gt;                   
1     1 0.730 A                  1.12 0.730 / 300.05 * 195.084
2     2 0.807 B                  1.64 0.807 / 397.28 * 195.084
</code></pre>
<p>I can do this with:</p>
<pre><code>library(dplyr)
df %&gt;% 
  mutate(ppm_calculated = my_formula(ppm, material)) %&gt;% 
   mutate(calculation = case_when(
    material == &quot;A&quot; ~ sprintf(&quot;%.3f / 300.05 * 195.084&quot;, ppm),
    material == &quot;B&quot; ~ sprintf(&quot;%.3f / 397.28 * 195.084&quot;, ppm),
    .default = as.character(ppm)
  ))
</code></pre>
<p>But I want to do it automatically.</p>
","2024-02-02 18:24:10","0","Question"
"77928813","77928676","","<p><em>I assume your code has a typo and <code>col = df[A]</code> was supposed to be <code>col = df[col_name]</code>. If not, there's some other deep magic happening that needs to be clarified.</em></p>
<hr />
<p>The short answer is that Python doesn't know that, and the concept of &quot;column name&quot; only appears when you do <code>df[col_name]</code>.</p>
<p>The long answer is that all values in Python, be they arguments or local variables, only care about themselves. In some cases you might see type annotations:</p>
<pre><code>col_name: str = 'A'
</code></pre>
<p>Which tells type-checking tools that <code>col_name</code> is supposed to be a string. But there's no type &quot;column name&quot;, what happens instead is that the dataframe will have a method with the special name <code>__getitem__</code> that accepts string values. You can make your own like so:</p>
<pre><code>class MyClass:
    def __getitem__(self, index: str):
        # You're allowed to do anything here.
        # Let's reverse the &quot;index&quot; and return it.
        return ''.join(reversed(index))
    
name: str = 'example'
obj = MyClass()
print(obj[name]) # 'elpmaxe'
</code></pre>
<p>Note that the only relation between the local variable <code>name</code> and the function argument <code>index</code> is that they have compatible types (both <code>str</code>).</p>
","2024-02-02 17:18:57","0","Answer"
"77928676","","How does python know a function argument is the column in a df?","<p>If a function is defined and there are a number of parameters, how is it recognised what those parameters are? For example:</p>
<pre><code>def count_entries(df, col_name='A'):
    
    # Extract column from DataFrame: col
    col = df[A]
    
    # Iterate over the column in DataFrame
    for entry in col:
    # If entry is in cols_count, add 1
        if entry in cols_count.keys():
            cols_count[entry] += 1

        # Else add the entry to cols_count, set the value to 1
        else:
            cols_count[entry] = 1

    # Return the cols_count dictionary
    return cols_count
</code></pre>
<p>How does python understand that col_name='A' is referring to a column within a df? Is it due to the prior argument being a df, so python knows that the next argument will be a column? Is this a default setting? Suppose, we didn't actually want to access a column in this parameter, instead we wanted to pass something else, would this parameter still default to a column? Or alternatively, in the function header, the parameter</p>
<pre><code>col_name='A'
</code></pre>
<p>is only understood by python due to subsequent code when we define col as:</p>
<pre><code>col=df[A]
</code></pre>
<p>and it's the use of the square brackets after a dataframe that enables python to recognise it as a column and prior to this it is not understood that I want to access columns in the df?</p>
","2024-02-02 16:56:50","0","Question"
"77926190","77926107","","<pre><code>campo = play(gioca, campo, ...
</code></pre>
<p>I bet that <code>campo</code> in the assignment is an array. You can't assign arrays.</p>
<p>Also if you pass the 2D array as parameters you cant return pointer to pointer. Arrays are not pointers!!!</p>
","2024-02-02 10:13:40","2","Answer"
"77926107","","'=' left operator must be an l-value problem encountered while passing value from a function in visual studio C","<p>I'm programming in visual studio C. The program consist tomonitorate monopoly's game and I was wondering about how to passing value of a matrix of struct from a function, but it gaves me error C2106 ('=' left operator must be an l-value).</p>
<p>This is my code in main.c:</p>
<pre><code>campo = play(gioca, campo, &amp;sortedPlayers, roundPlayer);
/*gioca and roundPlayer are both an int value
* sortedPlayers is a list of struct
* campo[][] is an matrix of struct (is the field of the game)
*/
</code></pre>
<p>This is my code in the header file:</p>
<pre><code>casa** play(int scelta, casa campo[DIM_CAMPO][DIM_CAMPO], playerlist* players, int idP);
</code></pre>
<p>And this is my code in the .c file:</p>
<pre><code>casa** play(int scelta, casa campo[DIM_CAMPO][DIM_CAMPO], playerlist* players, int idP) {
    int dado1, dado2, isDadoDoppio, idx;
    player player;
    playerlist copiaPlayers = emptylistP(), defPlayers = emptylistP();
    switch (scelta) {
    case 0:
        exit(0);
        break;
    case 1:
        srand(time(NULL));
        dado1 = rand() % 6 + 1;
        dado2 = rand() % 6 + 1;
        printf(&quot;\nIl numero uscito e': %d + %d&quot;, dado1, dado2);
        if (dado1 == dado2)
            isDadoDoppio = 1;
        else
            isDadoDoppio = 0;

        copiaPlayers = *players;
        while (!emptyP(copiaPlayers)) {
            player = headP(copiaPlayers);

            /* Movimento giocatore */
            if (player.idP = idP) {
                for (idx = 0; idx &lt; dado1 + dado2; idx++) {
                    //printf(&quot;\n[%d][%d] --&gt; &quot;, player.x, player.y);
                    if (player.x == 0 &amp;&amp; (player.y &lt;= 10 &amp;&amp; player.y &gt; 0))
                        player.y += 1;
                    else if (player.x == 10 &amp;&amp; (player.y &lt;= 10 &amp;&amp; player.y &gt; 0))
                        player.y -= 1;
                    else if (player.y == 0  &amp;&amp; (player.x &lt;= 10 &amp;&amp; player.x &gt; 0))
                        player.x -= 1;
                    else if (player.y == 10 &amp;&amp; (player.x &lt;= 10 &amp;&amp; player.x &gt; 0))
                        player.x += 1;
                    //printf(&quot;[%d][%d]&quot;, player.x, player.y);
                }
                break;
            }
            defPlayers = newPlayer(player, defPlayers);
            campo[player.x][player.y].simbolo = (char)player.idP;
            copiaPlayers = tailP(copiaPlayers);
        }

        break;
    }
    return campo;
}
</code></pre>
","2024-02-02 10:01:07","0","Question"
"77924809","77924142","","<p>The issue is that <code>nondiff_argnums</code> is expected to be a sequence:</p>
<pre class=""lang-py prettyprint-override""><code>@partial(custom_vjp, nondiff_argnums=(0,))
</code></pre>
<p>With this properly defined, it's better to avoid wrapping the function in <code>Partial</code>, and just pass it as a static argument by closing over it in the <code>vjp</code> call:</p>
<pre class=""lang-py prettyprint-override""><code>primal_out, f_vjp = vjp(partial(cart_deriv, test_func),
                        2,
                        jnp.array([1., 2., 3.])
                        )
cotangent_out = f_vjp(jnp.ones((3, 3)))

print(*cotangent_out)
# (b'',) [1. 1. 1.]
</code></pre>
","2024-02-02 05:15:32","1","Answer"
"77924142","","JAX `vjp` does not recognize cotangent argument with `custom_vjp`","<p>I have a JAX function <code>cart_deriv()</code> which takes another function <code>f</code> and returns the Cartesian derivative of <code>f</code>, implemented as follows:</p>
<pre><code>@partial(custom_vjp, nondiff_argnums=0)
def cart_deriv(f: Callable[..., float],
               l: int,
               R: Array
               ) -&gt; Array:

    df = lambda R: f(l, jnp.dot(R, R))

    for i in range(l):
        df = jacrev(df)

    return df(R)


def cart_deriv_fwd(f, l, primal):

    primal_out = cart_deriv(f, l, primal)
    residual = cart_deriv(f, l+1, primal)  ## just a test

    return primal_out, residual


def cart_deriv_bwd(f, residual, cotangent):

    cotangent_out = jnp.ones(3)  ## just a test

    return (None, cotangent_out)


cart_deriv.defvjp(cart_deriv_fwd, cart_deriv_bwd)



if __name__ == &quot;__main__&quot;:

    def test_func(l, r2):
        return l + r2

    primal_out, f_vjp = vjp(cart_deriv, 
                            jax.tree_util.Partial(test_func),
                            2,
                            jnp.array([1., 2., 3.])
                            )

    cotangent = jnp.ones((3, 3))
    cotangent_out = f_vjp(cotangent)

    print(cotangent_out[1].shape)
</code></pre>
<p>However this code produces the error:</p>
<pre><code>TypeError: cart_deriv_bwd() missing 1 required positional argument: 'cotangent'
</code></pre>
<p>I have checked that the syntax agrees with that in the documentation. I'm wondering why the argument <code>cotangent</code> is not recognized by <code>vjp</code>, and how to fix this error?</p>
","2024-02-02 00:51:44","1","Question"
"77922294","77922227","","<p>The expression <code>y=4</code> sets the (global, in this case) variable <code>y</code> to <code>4</code> and returns its value, so what you are doing is equivalent to this:</p>
<pre class=""lang-js prettyprint-override""><code>y = 4
console.log(add(4))
</code></pre>
<p>So, the first argument is now <code>4</code> and the second is the default <code>2</code>, resulting in a sum of <code>6</code>, and as side-effect you created a useless global variable (or clobbered a local one).</p>
<p>The correct way is, as you noticed, <code>add(undefined, 4)</code>.</p>
<p>If you'd like to &quot;name&quot; your arguments, you could use a single object as argument:</p>
<pre class=""lang-js prettyprint-override""><code>function add ({ x = 1, y = 2 } = {}) {
    return x + y
}

console.log(add({ y: 4 })) // 5
</code></pre>
<p>This works thanks to <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"" rel=""nofollow noreferrer"">destructuring</a>. (The <code>= {}</code> allows to use <code>add()</code> without any argument whatsoever - without it, you'd have to write <code>add({})</code>.)</p>
<p>Note that then you need to <em>always</em> specify the names.</p>
","2024-02-01 17:39:16","3","Answer"
"77922227","","Unexpected output when using default parameters in JavaScript function","<pre><code>function add(x=1, y=2){
    return x + y;
}
console.log(add(y=4));
</code></pre>
<p>Output I am getting is 6, Why? How does this work?</p>
<p>I was expecting 5 as y=4 and x will retain its default value.</p>
<p>Is there any other method of doing this without using <code>add(undefined, 4)</code>?</p>
","2024-02-01 17:27:57","0","Question"
"77922060","77921971","","<p>You can use enquo like so:</p>
<pre class=""lang-r prettyprint-override""><code>library(ggplot2)
library(rlang)

fun1 &lt;- function(va1,va2) {
  va1 &lt;- enquo(va1)
  va2 &lt;- enquo(va2)

  ggplot2::ggplot(data=test,mapping=aes(!!va1, !!va2)) + 
    geom_point()
}
</code></pre>

<h4>From the help page of the &quot;Tidy eval helpers&quot;:</h4>
<p>(You can find it with: ?enquo):</p>
<blockquote>
<p>enquo() and enquos() delay the execution of one or several function arguments. The former returns a single expression, the latter returns a list of expressions. Once defused, expressions will no longer evaluate on their own. They must be injected back into an evaluation context with ⁠!!⁠ (for a single expression) and ⁠!!!⁠ (for a list of expressions).</p>
</blockquote>
","2024-02-01 17:03:03","4","Answer"
"77922054","77921971","","<p>We can use <code>{{ var }}</code>:</p>
<pre class=""lang-r prettyprint-override""><code>library(ggplot2)
library(rlang)

fun1 &lt;- function(va1,va2){
  ggplot(data=test, mapping=aes({{va1}}, {{va2}})) + geom_point()
}

fun1(base, heig)
</code></pre>
<p><img src=""https://i.imgur.com/DK2ymW5.png"" alt="""" /></p>
<p>Or using <code>base::match.call</code> and <code>base::eval</code> (this will change the axes labels):</p>
<pre class=""lang-r prettyprint-override""><code>library(ggplot2)

fun1 &lt;- function(va1,va2){
  arg &lt;- match.call()
  ggplot(data=test, mapping=aes(eval(arg$va1), eval(arg$va2))) + geom_point()
}

fun1(base, heig)
</code></pre>
<p><img src=""https://i.imgur.com/7iUhnX8.png"" alt="""" /></p>
<p><sup>Created on 2024-02-01 with <a href=""https://reprex.tidyverse.org"" rel=""nofollow noreferrer"">reprex v2.0.2</a></sup></p>
","2024-02-01 17:01:42","3","Answer"
"77922047","77921516","","<p>How about an approach which straightforwardly provides interception handling by wrapping the intercepting handler around the original (prototypal) <code>isPermitted</code> method. And for convenience reasons (code-reuse of the wrapping pattern) one would make use of an immediately invoked arrow function expression.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>// n.prototype.isPermitted = function (t) {
//   var n = !this.direct || ('OW2017' !== e.AppSettings.omo_username);
// 
//   return !n &amp;&amp; t &amp;&amp; this.onFail(new e.ErrorMessage({
//     error: 'FEED_NOT_PERMITTED'
//   })), n;
// };

// test code based on the OP's provide exampe.

class N {
  direct = true;

  isPermitted(t) {
    // const n = !this.direct || 'OW2017' !== e.AppSettings.omo_username;
    const n = !this.direct;

    // return !n &amp;&amp; t &amp;&amp; this.onFail(new e.ErrorMessage({
    //   error: 'FEED_NOT_PERMITTED'
    // })), n;
    if (!n &amp;&amp; t) {
      this.onFail(new Error('FEED_NOT_PERMITTED'));
    }
    return n;
  }

  onFail(error) {
    console.log({ ""error.message"": error.message });
  }
}

function handleIsPermittedInterception(proceed, args, target) {
  /**
   *  - implement all functionality which is specific to the
   *    interception of the original `isPermitted` method.
   *
   *    - one does get passed in ...
   *
   *      - the original `isPermitted` method as `proceed`.
   *      - the method's arguments as a real arrray as `args`.
   *      - the method's `this` context as `target`.
   */
  console.log('+++ interception handling :: begin +++');
  console.log({ args, target, proceed });

  // the intercepted sole `t` parameter.
  const [ t ] = args;

  // implement e.g. handling upon `t`'s value.
  console.log({ t });

  // invocation of the original method within its correct context.
  const intermediateResult = proceed.apply(target, args);

  // implement e.g. handling upon the `intermediateResult`'s value.
  console.log({ intermediateResult });
  
  console.log('--- interception handling :: end ---\n\n\n');

  return intermediateResult // or any implementation specific value.
}

N.prototype.isPermitted = ((proceed, interceptor) =&gt; {

  // - wrap the handling of the interception
  //   around the original `isPermitted` method.
  return function (...args) {

    // - forwarding call wich passes all necessary
    //   values to the provided intercetion handler.
    return interceptor(proceed, args, this);
  };
})(N.prototype.isPermitted, handleIsPermittedInterception);

const n = new N;
console.log('n.isPermitted(true) ...', n.isPermitted(true));</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
</div>
</div>
</p>
","2024-02-01 17:00:28","1","Answer"
"77921971","","R passing a function argument to ggplot","<p>I'm trying to pass a function argument (or parameter) to a ggplot - here's a dummy dataset to show/ test</p>
<pre><code>test &lt;- data.frame(id=c(1,2,3,4,5), 
                   base=c(230,365,390,201,298), 
                   heig=c(200,310,90,100, 91), 
                   widt=c(21,75,22,46,51))

fun1 &lt;- function(va1,va2){
  ggplot(data=test,mapping=aes(va1, va2)) + geom_point()
}

fun1(base,heig)
</code></pre>
<p>I get an error:</p>
<blockquote>
<pre><code>Error in `geom_point()`:
! Problem while computing aesthetics.
ℹ Error occurred in the 1st layer.
Caused by error in `FUN()`:
! object 'base' not found
Run `rlang::last_trace()` to see where the error occurred.
</code></pre>
</blockquote>
<p>I tried <code>{{}}</code>, <code>[[]]</code> and other combinations inside the ggplot in order to call the function param to no avail.</p>
","2024-02-01 16:48:28","2","Question"
"77921516","","How does one override a method in order to intercept any call to this method?","<p>In this <a href=""https://s3-eu-west-1.amazonaws.com/widget.cloud.opta.net/v3/v3.opta-widgets.js"" rel=""nofollow noreferrer"">widget</a> there is a function <code>isPermitted()</code>. How would I intercept it and overwrite it.</p>
<p>I use the following to intercept other functions <code>isPermittedDomain</code> etc, but unable to overwrite the <code>isPermitted</code> function. Any suggestions?</p>
<p>this is the function I'm trying to intercept and overwrite:</p>
<pre class=""lang-js prettyprint-override""><code>n.prototype.isPermitted = function (t) {var n = !this.direct || 'OW2017' !== e.AppSettings.omo_username;
return !n &amp;&amp; t &amp;&amp; this.onFail(new e.ErrorMessage({ error: 'FEED_NOT_PERMITTED' })), n;
};
</code></pre>
<p>My code:</p>
<pre class=""lang-js prettyprint-override""><code>function intercept(obj, prop, callback) {
  var oldVal = null;
  Object.defineProperty(
    obj, prop, {
      get: function() {
        return oldVal;
      },
      set: function(newVal) {
        callback.call(this, newVal);
        oldVal = newVal;
      },
      enumerable: true,
      configurable: true
    });
};

intercept(Opta, 'Subscriptions', function(Subscriptions) {
  Subscriptions.isPermittedDomain = function() {
    return true;
  };
  intercept(Subscriptions, 'feeds', function(feeds) {
    const t = Opta.Trans.loadTerms({
      term_set_id: Opta.Trans.mapSportIdToTerms(1)
    });
    Opta.when(t).done(startReact);
  });
});
</code></pre>
","2024-02-01 15:41:33","-2","Question"
"77920268","77920089","","<p>Your PHP code adapts to python quite literally:</p>
<pre class=""lang-py prettyprint-override""><code>def s(t1, t2, *funcs):
    print(t1)
    print(t2)
    for func in funcs:
        func()
</code></pre>
<p>Note how python's <code>*</code> replaces PHP's <code>...</code> for variable number of arguments.</p>
<p>You can use the <code>lambda</code> keyword to declare anonymous inline functions:</p>
<pre class=""lang-py prettyprint-override""><code>s('a', 'b', lambda: print(5), lambda: print(6))
# a
# b
# 5
# 6
</code></pre>
<p>You can also use <code>functools.partial</code>, although this is rarely the best way to do things in python in my opinion:</p>
<pre class=""lang-py prettyprint-override""><code>from functools import partial

s('a', 'b', partial(print, 5), partial(print, 6))
# a
# b
# 5
# 6
</code></pre>
","2024-02-01 12:40:11","1","Answer"
"77920195","77920089","","<p>You might use <code>*</code> operator to create variadic function, functions are 1st class citizens in <code>python</code>, therefore you might pass them as arguments. Consider following example</p>
<pre><code>def uno():
    print(1)
def dos():
    print(2)
def tres():
    print(3)
def execute_functions(*args):
    for func in args:
        func()
print(&quot;---&quot;)
execute_functions(uno)
print(&quot;---&quot;)
execute_functions(uno, dos, tres)
print(&quot;---&quot;)
</code></pre>
<p>gives output</p>
<pre><code>---
1
---
1
2
3
---
</code></pre>
","2024-02-01 12:29:21","1","Answer"
"77920128","77920089","","<p>In python you can pass functions as arguments the same way you do with any other object:</p>
<pre class=""lang-py prettyprint-override""><code>def s(t1, t2, funcs):
    # other code
    for func in funcs:
        func()

def partial():
    print(6)

s('a', 'b', [lambda : print(5), partial])
</code></pre>
<p>where lambda is a small function with no name.</p>
<p>Example with *args so that you can pass a variable number of arguments without the need for a list.</p>
<pre class=""lang-py prettyprint-override""><code>def s(t1, t2, *funcs):
    # other code
    for func in funcs:
        func()

def partial():
    print(6)

s('a', 'b', lambda : print(5), partial)
</code></pre>
","2024-02-01 12:18:38","2","Answer"
"77920089","","Passing multiple functions as arguments to another function anonymously Python","<p>I have code in PHP that I would like to rewrite in Python, but the difficulty is passing functions as arguments. Here is the PHP code:</p>
<pre><code>function s($t1, $t2, ...$funcs){
    echo '$t1' . PHP_EOL;
    echo '$t2' . PHP_EOL;
    foreach ($funcs as $func)
        $func();
    unset($func);
}
</code></pre>
<p>It is important to me that the transfer method does not require a preliminary declaration of functions:</p>
<pre><code>s('a', 'b', function(){print(5);}, function() {print(6);});
</code></pre>
<p>The question is what is the best way to implement this in python?</p>
<p>I tried to do the same in Python as in PHP, but without success:</p>
<pre><code>s('a', 'b', partial(print, 5))
</code></pre>
<p>Also, I'm not sure if this is the best solution to the problem.</p>
","2024-02-01 12:12:08","1","Question"
"77914985","77914704","","<p>The solution turned out to be simple; only two instructions:</p>
<pre><code>popcnt rax, rcx
ret
</code></pre>
","2024-01-31 16:39:18","0","Answer"
"77914704","","In Windows x64 assembly, how to access an 8-byte integer argument to a function?","<p>I am working on an assembly function that will be called from a C program.</p>
<p>My setup:</p>
<ol>
<li>x64 CPU</li>
<li>Windows 11</li>
<li>NASM (which relies on Intel syntax)</li>
<li><code>nasm -f win64</code></li>
</ol>
<p>My question is: assuming the function expects only one (8-byte) argument, how can I locate it with regard to the <code>RBP</code> register?</p>
<p>My best try so far:</p>
<pre><code>global _mypopcnt
section .text
            
_mypopcnt:  push rbp            ; Prolog starts here.
            mov rbp, rsp        ; Prolog ends here.
            push r8             ; Save rbx.
            mov r8, [rbp + 8]   ; Read the value to bit count.
            popcnt rax, r8      ; Count bits. 
            pop rbx             ; Restore rbx.
            mov rsp, rbp        ; Epilog starts here.
            pop rbp             ; Epilog ends here.
            ret                 ; Done!
</code></pre>
<p>The C program looks like this:</p>
<pre><code>#include &lt;stdio.h&gt;

int _mypopcnt(unsigned long long value);

int main() {
    int num = _mypopcnt(0xffffffff);
    printf(&quot;%d\n&quot;, num);
    return 0;
}
</code></pre>
<p>My (MinGW) Makefile is:</p>
<pre><code>all: main.obj popcnt.obj
    gcc -o main.exe main.obj popcnt.obj

main.obj: main.c
    gcc -c -o main.obj main.c

popcnt.obj: popcnt.asm
    nasm -f win64 popcnt.asm
</code></pre>
<p>The stuff compiles and runs, but expected result (32) does not appear to happen.</p>
","2024-01-31 15:55:46","1","Question"
"77914597","77910629","","<blockquote>
<p>I'm working on an exercise which requires me to use a stack built on linked nodes, and each node must have its value being a string, instead of number as usual</p>
</blockquote>
<p>A stack is just a (possibly empty) <em>container</em> of nodes. And each node contains or points to a unit of something, a data record.</p>
<blockquote>
<p>Then how should I edit my code?</p>
</blockquote>
<p>IMHO the code as posted has much to be changed. But in order to work <code>pop</code> must be changed and I will show a minimum change, plus code for testing and the results</p>
<pre><code>const char* pop(stack** s)
{
    if (!isEmpty(*s))
    {
        node* p = (*s)-&gt;top;
        strcpy(res, p-&gt;value);
        (*s)-&gt;top = p-&gt;next;
        free(p);
        return res;
    }
}
</code></pre>
<ul>
<li>There is no reason to return <code>const char*</code>: the data is being extracted from the stack and the caller can do whatever wanted with the data.</li>
<li><code>s</code> is an input value: there is no point in passing the adress of a pointer to a stack. Prefer <code>char* pop(Stack* )</code></li>
<li><code>res</code> is a problem: WTF is <code>res</code>? There is no reason to rely on an external pointer</li>
</ul>
<p>Consider</p>
<pre><code>char* pop(stack** s)
{
    if (s == NULL) return NULL;
    if ((*s) == NULL) return NULL;
    if (isEmpty(*s)) return NULL;
    node* p   = (*s)-&gt;top;
    char* res = malloc(1 + strlen(p-&gt;value));
    strcpy(res, p-&gt;value);
    (*s)-&gt;top = p-&gt;next;
    free(p);
    return res;
}
</code></pre>
<h2>editing the code</h2>
<p>Consider the usual header, code and test files, as here</p>
<h3><code>v0.h</code></h3>
<pre><code>#pragma once
#include &lt;stdbool.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

typedef struct node
{
    struct node* next;
    char         value[];
} node;

typedef struct stack
{
    node* top;
} stack;

node*  init_node(char[]);
stack* init_stack();
int    push(stack**, char[]);
bool   isEmpty(stack*);
char*  pop(stack**);
</code></pre>
<h3><code>v0.c</code></h3>
<pre><code>#include &quot;v0.h&quot;

node* init_node(char c[])
{
    node* p = (node*)malloc(sizeof(node) + strlen(c) + 1);
    if (p == NULL) return NULL;
    strcpy(p-&gt;value, c);
    p-&gt;next = NULL;
    return p;
}

stack* init_stack()
{
    stack* s = (stack*)malloc(sizeof(stack));
    if (s == NULL) return NULL;
    s-&gt;top = NULL;
    return s;
}

int push(stack** s, char c[])
{
    node* p = init_node(c);
    if (p == NULL) return -1;
    p-&gt;next   = (*s)-&gt;top;
    (*s)-&gt;top = p;
    return 0;
}

bool isEmpty(stack* s) { return (s-&gt;top == NULL); }

char* pop(stack** s)
{
    if (s == NULL) return NULL;
    if ((*s) == NULL) return NULL;
    if (isEmpty(*s)) return NULL;
    node* p   = (*s)-&gt;top;
    char* res = malloc(1 + strlen(p-&gt;value));
    strcpy(res, p-&gt;value);
    (*s)-&gt;top = p-&gt;next;
    free(p);
    return res;
}
</code></pre>
<h3><code>main0.c</code> to test the thing</h3>
<pre><code>#include &lt;stdio.h&gt;

#include &quot;v0.h&quot;

char* factory();

int main(void)
{
    char*  el  = NULL;
    stack* one = init_stack();
    for (int i = 0; i &lt; 8; i += 1)
    {
        el      = factory();
        int res = push(&amp;one, el);
        printf(&quot;push() returned %d for '%s'\n&quot;, res, el);
        free(el);
        if (res != 0) return -1;
    }
    char* p = NULL;
    printf(&quot;\n\n    Now pop() until error\n\n&quot;);
    while ((p = pop(&amp;one)) != NULL)
        printf(&quot;pop() returned '%s'\n&quot;, p);
    return 0;
}

char* factory()
{
    // Element 1234567
    static number = 1;
    char* value   = malloc(16);
    if (value == NULL) return NULL;
    sprintf(value, &quot;Element %7d&quot;, number);
    ++number;
    (number == 9999999) ? 1 : number + 1;
    return value;
}
</code></pre>
<h3>output</h3>
<pre class=""lang-none prettyprint-override""><code>push() returned 0 for 'Element       1'
push() returned 0 for 'Element       2'
push() returned 0 for 'Element       3'
push() returned 0 for 'Element       4'
push() returned 0 for 'Element       5'
push() returned 0 for 'Element       6'
push() returned 0 for 'Element       7'
push() returned 0 for 'Element       8'


    Now pop() until error

pop() returned 'Element       8'
pop() returned 'Element       7'
pop() returned 'Element       6'
pop() returned 'Element       5'
pop() returned 'Element       4'
pop() returned 'Element       3'
pop() returned 'Element       2'
pop() returned 'Element       1'
</code></pre>
","2024-01-31 15:38:58","0","Answer"
"77912784","77912661","","<p>A function pointer</p>
<blockquote>
<pre><code>double (*f)(double x, void *void_ptr)
</code></pre>
</blockquote>
<p>points to a function with two arguments, not to a function of different signature. Though, casting is not the issue here. You can cast a pointer to <code>double func1(double x);</code> to the above function pointer type, but the resulting pointer is useless, you cannot use it to call the function.</p>
<p>Conceptually it is similar to ordinary pointers. In a nutshell, a pointer to object of certain type is of little use if you don't have an object of that type but an object of different type (aliasing via <code>char*</code> et al aside).</p>
<p>You can write the function with desired signature and then get a pointer to it :</p>
<pre><code> double foo(double x,void*) { return func1(x); }

 using fun_type = double(*)(double,void*);
 fun_type f = &amp;foo;
</code></pre>
<p>However, as you are requsting something like this, indicates that bare function pointers is the wrong tool to begin with. Lambda expressions and <code>std::function</code> are much easier to work with when wrapping callables or binding arguments. Perhaps you actually need just a callable with right signature, ie nothing more complicated than:</p>
<pre><code> auto f = [](double x,void*) { return func1(x); };
</code></pre>
","2024-01-31 11:00:16","3","Answer"
"77912661","","C++: Set function pointer to function with fewer/different arguments","<p>is there a way to set a function pointer with two arguments to functions with fewer or different arguments.</p>
<p>Let's say I have</p>
<p><code>double func1(double x);</code></p>
<p>and I want a function pointer</p>
<p><code>double (*f)(double x, void *void_ptr)</code></p>
<p>Setting f=func1; is wrong. So is it possible to cast somehow?</p>
<p>Furthermore, is it possible to cast functions like</p>
<p><code>double calc(double x, const XYZ *xyz)</code></p>
<p>to achieve f=calc;?</p>
<p>I already tried f=func1; and static_casts. The compiler always says that a conversion is not possible.</p>
","2024-01-31 10:42:37","-1","Question"
"77912403","77912165","","<p><strong>Send-MailMessage</strong> function requires <code>-Body</code> parameter to send body message (pls have a look at the reference below).</p>
<p>Adding the input parameter (body message) to your function helps you. In your function, the input parameter is not defined, but it is called with a parameter. Also, your <code>Send-MailMessage</code> does not have a <code>-Body</code> parameter.</p>
<p>In addition, you can call the function in different places with different body messages.</p>
<p>Code:</p>
<pre><code>function emailHelp {
    # add parameter
    param (
        [string]$BodyMessage
    )

    $smtpaddress = &quot;help@help.com&quot;
    $fromsmtpaddress = &quot;needhelp@help.com&quot;

    # use body parameter
    Send-MailMessage -To $smtpaddress -From $fromsmtpaddress -Subject 'I have an issue' -Body $BodyMessage -SmtpServer &quot;1.1.1.1&quot; -Port 25
}

# ---some script here---
$bodyMessage = &quot;body message1.&quot;

# send with your body message
emailHelp -BodyMessage $bodyMessage

# ---some script here---
$bodyMessage = &quot;body message2.
emailHelp -BodyMessage $bodyMessage
</code></pre>
<p><strong>Ref:</strong> <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/send-mailmessage?view=powershell-7.4"" rel=""nofollow noreferrer"">https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/send-mailmessage?view=powershell-7.4</a></p>
","2024-01-31 10:04:29","1","Answer"
"77912165","","Passing a parameter into a function Powershell","<p>I've made an email function for my Powershell script using the standard Send-email message command.</p>
<p>I want to pass the -body parameter into the function at various parts of the script and use a different body message depending on what gets triggered.</p>
<p>The function is as follows:</p>
<pre><code>function emailHelp  {
   $smtpaddress = &quot;help@help.com&quot;
   $fromsmtpaddress = &quot;needhelp@help.com&quot;

   Send-MailMessage -To $smtpaddress -From $fromsmtpaddress -Subject 'I have an issue' -SmtpServer &quot;1.1.1.1&quot; -Port 25
}

---some script here---

$bodyMessage

---going to call email function---
 

emailHelp -body $bodyMessage
</code></pre>
<p>I've tried different approaches from Google but none have worked. I always get an empty body in the email sent</p>
<p>Help appreciated.</p>
<p>Thanks</p>
<p>Donald</p>
","2024-01-31 09:30:34","0","Question"
"77910629","","How to make the pop() function of a stack, defined by linked nodes, return its string value properly?","<p><strong>Edit: I had some change to my code. The edited code will be put right down here. Thanks for your suggestions!</strong></p>
<pre><code>typedef struct node{
    struct node* next;
    char value[];
}node;

typedef struct stack{
    node* top;
}stack;

node* init_node(char c[])
{
    node* p = (node*)malloc(sizeof(node) + strlen(c) + 1);
    if (p == NULL) return NULL;
    strcpy(p-&gt;value, c); p-&gt;next = NULL;
    return p;
}

stack* init_stack()
{
    stack* s = (stack*)malloc(sizeof(stack));
    if (s == NULL) return NULL;
    s-&gt;top = NULL;
    return s;
}

int push(stack* *s, char c[])
{
    node* p = init_node(c);
    if (p == NULL) return -1;
    p-&gt;next = (*s)-&gt;top;
    (*s)-&gt;top = p;
    return 0;
}

bool isEmpty(stack* s)
{
    return (s-&gt;top == NULL);
}

char* pop(stack* *s)
{
    if (!isEmpty(*s))
    {
        node* p = (*s)-&gt;top;
        char* res = (char*)malloc(sizeof(char));
        strcpy(res, p-&gt;value);
        (*s)-&gt;top = p-&gt;next;
        free(p);
        return res;
    }
}
</code></pre>
<p>As you can see, I put the 'res' pointer into the <code>pop()</code> function, and I allocate its memory when just initializing it. This really works!</p>
<p>-----***-----</p>
<p>I'm working on an exercise which requires me to use a stack built on linked nodes, and each node must have its value being a string, instead of number as usual.</p>
<p>However, I can't find out a way to return the string value with the function <code>pop()</code>. In other words, it seems to be an undefined behavior, having the return code of -1073741819 (it's accessing unallocated memory, if I remember correctly)</p>
<p>This is my code for the functions to work with stack:</p>
<pre><code>typedef struct node{
    struct node* next;
    char value[];
}node;

typedef struct stack{
    node* top;
}stack;

char* res;

node* init_node(char c[])
{
    node* p = (node*)malloc(sizeof(node) + strlen(c) + 1);
    if (p == NULL) return NULL;
    strcpy(p-&gt;value, c); p-&gt;next = NULL;
    return p;
}

stack* init_stack()
{
    stack* s = (stack*)malloc(sizeof(stack));
    if (s == NULL) return NULL;
    s-&gt;top = NULL;
    return s;
}

int push(stack* *s, char c[])
{
    node* p = init_node(c);
    if (p == NULL) return -1;
    p-&gt;next = (*s)-&gt;top;
    (*s)-&gt;top = p;
    return 0;
}

bool isEmpty(stack* s)
{
    return (s-&gt;top == NULL);
}

const char* pop(stack* *s)
{
    if (!isEmpty(*s))
    {
        node* p = (*s)-&gt;top;
        strcpy(res, p-&gt;value);
        (*s)-&gt;top = p-&gt;next;
        free(p);
        return res;
    }
}
</code></pre>
<p>All other functions work well except the <code>pop()</code> one. I used to meet problems with memory allocation for flexible string member in a struct, but this time I don't think it comes from that.</p>
<p>Then how should I edit my code?</p>
","2024-01-31 03:20:53","1","Question"
"77907026","77906907","","<p>Remove arguments and return the results:</p>
<pre><code>def question_asker():
    item_bought = input(&quot;What item has been bought?&quot;)
    unit_price = input(&quot;How much is each unit of &quot; + item_bought)
    quantity = input(&quot;How many units of &quot;+ item_bought + &quot; have been bought?&quot;)
    item_total = int(unit_price) * int(quantity)
    return item_bought,unit_price,quantity,item_total

    
item_bought_1, unit_price_1, quantity_1, item_total_1 = question_asker()
item_bought_2, unit_price_2, quantity_2, item_total_2 = question_asker()
item_bought_3, unit_price_3, quantity_3, item_total_3 = question_asker()
item_bought_4, unit_price_4, quantity_4, item_total_4 = question_asker()
</code></pre>
","2024-01-30 14:16:45","2","Answer"
"77906978","77906907","","<pre class=""lang-py prettyprint-override""><code>question_asker(item_bought_1, unit_price_1, quantity_1, item_total_1)
question_asker(item_bought_2, unit_price_2, quantity_2, item_total_2)
question_asker(item_bought_3, unit_price_3, quantity_3, item_total_3)
question_asker(item_bought_4, unit_price_4, quantity_4, item_total_4)
</code></pre>
<p>None of these variables exists, however <code>question_asker</code> does not need any arguments anyway.</p>
<p>You should change <code>def question_asker(item_bought, unit_price, quantity, item_total):</code> to <code>def question_asker():</code> then call it how many times you need, in this case</p>
<pre class=""lang-py prettyprint-override""><code>question_asker()
question_asker()
question_asker()
question_asker()
</code></pre>
<p>Note that you need to decide whatever it should return, if at all. It might make sense to return <code>item_total</code>:</p>
<pre class=""lang-py prettyprint-override""><code>
def question_asker():
    ...
    
    item_total = int(unit_price) * int(quantity)

    return item_total

...

item_total_1 = question_asker()
item_total_2 = question_asker()
item_total_3 = question_asker()
item_total_4 = question_asker()

</code></pre>
<p>At this point you may want to use a <code>for</code> loop to call the function and a list or a dictionary to store the values, see <a href=""https://stackoverflow.com/questions/1373164/how-do-i-create-variable-variables"">How do I create variable variables?</a></p>
","2024-01-30 14:09:33","3","Answer"
"77906907","","Can input values in python be arguments in a python function?","<p>I am trying to call a function in Python but I get the error:</p>
<blockquote>
<p>File &quot;&lt;exec&gt;&quot;, line 11, in &lt;module&gt;
NameError: name 'item_bought_1' is not defined`</p>
</blockquote>
<p>I am making a simple program in Python that asks the user for an item they have bought, the price and quantity of items bought. It later on displays the input in a table format. I have not included that code here. Here is the relevant initial code (that asks the user to key in the item, price and quantity, as well as computes the total per item):</p>
<pre><code>#ask the user what item they intend to buy as well as the unit price and number of items they intend to buy

item_bought_1 = input(&quot;What item has been bought?&quot;)
unit_price_1 = input(&quot;How much is each unit of &quot; + item_bought_1)
quantity_1 = input(&quot;How many units of &quot;+ item_bought_1 + &quot; have been bought?&quot;)

item_total_1 = int(unit_price_1) * int(quantity_1)



item_bought_2 = input(&quot;ITEM 2::: What item has been bought?&quot;)
unit_price_2 = input(&quot;How much is each unit of &quot; + item_bought_2)
quantity_2 = input(&quot;How many units of &quot;+ item_bought_2 + &quot; have been bought?&quot;)

item_total_2 = int(unit_price_2) * int(quantity_2)


item_bought_3 = input(&quot;ITEM 3:::What item has been bought?&quot;)
unit_price_3 = input(&quot;How much is each unit of &quot; + item_bought_3)
quantity_3 = input(&quot;How many units of &quot;+ item_bought_3 + &quot; have been bought?&quot;)

item_total_3 = int(unit_price_3) * int(quantity_3)


item_bought_4 = input(&quot;iTEM 4:::What item has been bought?&quot;)
unit_price_4 = input(&quot;How much is each unit of &quot; + item_bought_4)
quantity_4 = input(&quot;How many units of &quot;+ item_bought_4 + &quot; have been bought?&quot;)

item_total_4 = int(unit_price_4) * int(quantity_4)
</code></pre>
<p>I am trying to make the code less repetitive by using a function:</p>
<pre><code>#ask the user what item they intend to buy as well as the unit price and number of items they intend to buy

def question_asker(item_bought, unit_price, quantity, item_total):
    item_bought = input(&quot;What item has been bought?&quot;)
    unit_price = input(&quot;How much is each unit of &quot; + item_bought)
    quantity = input(&quot;How many units of &quot;+ item_bought + &quot; have been bought?&quot;)

    item_total = int(unit_price) * int(quantity)

    
question_asker(item_bought_1, unit_price_1, quantity_1, item_total_1)
question_asker(item_bought_2, unit_price_2, quantity_2, item_total_2)
question_asker(item_bought_3, unit_price_3, quantity_3, item_total_3)
question_asker(item_bought_4, unit_price_4, quantity_4, item_total_4)
</code></pre>
<p>But I get the error:</p>
<pre><code> File &quot;&lt;exec&gt;&quot;, line 11, in &lt;module&gt;
NameError: name 'item_bought_1' is not defined
</code></pre>
<p>Am I calling the function correctly? Where is my problem?</p>
","2024-01-30 13:58:08","0","Question"
"77906798","77906742","","<p>You have to query the <code>pg_aggregate</code> catalog:</p>
<pre><code>SELECT a.aggfnoid::regprocedure AS aggregate,
       a.agginitval AS initial_value,
       a.aggtransfn::regprocedure AS state_transition_function,
       a.aggfinalfn::regprocedure AS final_function
FROM pg_aggregate AS a
   JOIN pg_proc AS p
      ON a.aggfnoid = p.oid
WHERE p.prokind = 'a'
  AND p.proname = 'stddev_pop';

          aggregate           │ initial_value │             state_transition_function             │            final_function             
══════════════════════════════╪═══════════════╪═══════════════════════════════════════════════════╪═══════════════════════════════════════
 stddev_pop(bigint)           │ ∅             │ int8_accum(internal,bigint)                       │ numeric_stddev_pop(internal)
 stddev_pop(integer)          │ ∅             │ int4_accum(internal,integer)                      │ numeric_poly_stddev_pop(internal)
 stddev_pop(smallint)         │ ∅             │ int2_accum(internal,smallint)                     │ numeric_poly_stddev_pop(internal)
 stddev_pop(real)             │ {0,0,0}       │ float4_accum(double precision[],real)             │ float8_stddev_pop(double precision[])
 stddev_pop(double precision) │ {0,0,0}       │ float8_accum(double precision[],double precision) │ float8_stddev_pop(double precision[])
 stddev_pop(numeric)          │ ∅             │ numeric_accum(internal,numeric)                   │ numeric_stddev_pop(internal)
(6 rows)
</code></pre>
<p>Those are just the basic attributes; see <a href=""https://www.postgresql.org/docs/current/catalog-pg-aggregate.html"" rel=""nofollow noreferrer"">the documentation of <code>pg_aggregate</code></a> for the rest.</p>
<p>If you need to get the <code>CREATE AGGREGATE</code> statement, you should use <code>pg_dump</code>. However, there is no way to dump only a single function.</p>
<p>To get to the definition of the constituent functions, query <code>pg_proc</code>:</p>
<pre><code>SELECT l.lanname,
       p.prosrc
FROM pg_proc AS p
   JOIN pg_language AS l
      ON p.prolang = l.oid
WHERE p.oid = 'float8_accum(double precision[],double precision)'::regprocedure;

 lanname  │    prosrc    
══════════╪══════════════
 internal │ float8_accum
(1 row)
</code></pre>
<p><code>internal</code> functions are implemented in the PostgreSQL server, so you'd have to look for the function <code>float8_accum</code> in the C source code.</p>
","2024-01-30 13:42:27","3","Answer"
"77906786","77906742","","<p>This is a built-in aggregate function. You will find the implementation in the <a href=""https://github.com/postgres/postgres/blob/776621a5e4796fa214b6b29a7ca134f6c138572a/src/backend/utils/adt/float.c#L3277"" rel=""nofollow noreferrer"">postgres code base</a>.</p>
<pre><code>Datum
float8_stddev_pop(PG_FUNCTION_ARGS)
{
    ArrayType  *transarray = PG_GETARG_ARRAYTYPE_P(0);
    float8     *transvalues;
    float8      N,
                Sxx;

    transvalues = check_float8_array(transarray, &quot;float8_stddev_pop&quot;, 3);
    N = transvalues[0];
    /* ignore Sx */
    Sxx = transvalues[2];

    /* Population stddev is undefined when N is 0, so return NULL */
    if (N == 0.0)
        PG_RETURN_NULL();

    /* Note that Sxx is guaranteed to be non-negative */

    PG_RETURN_FLOAT8(sqrt(Sxx / N));
}
</code></pre>
","2024-01-30 13:40:36","1","Answer"
"77906742","","How do I find the implementation of an aggregate PostgreSQL function?","<p>I am interested in the implementation or code of the stddev_pop() function. I understand what it does, I know there is a definition in the documentation, but I am interested in the code itself.
I tried to find it in pgAdmin within the public schema/functions and aggregates, but it's not there. I also tried this query:</p>
<pre><code>SELECT *
FROM pg_proc
WHERE proname = 'stddev_pop';
</code></pre>
<p>that gave me 6 different results. But when I try to query using the function's oid, this is what happens:</p>
<pre><code>SELECT pg_get_functiondef(2724);
ERROR:  &quot;stddev_pop&quot; is an aggregate function
SQL state: 42809
</code></pre>
<p>Also in psql I tried:</p>
<pre><code>isa=# \df stddev_pop
                            List of functions
   Schema   |    Name    | Result data type | Argument data types | Type
------------+------------+------------------+---------------------+------
 pg_catalog | stddev_pop | numeric          | bigint              | agg
 pg_catalog | stddev_pop | double precision | double precision    | agg
 pg_catalog | stddev_pop | numeric          | integer             | agg
 pg_catalog | stddev_pop | numeric          | numeric             | agg
 pg_catalog | stddev_pop | double precision | real                | agg
 pg_catalog | stddev_pop | numeric          | smallint            | agg
(6 rows)
</code></pre>
<p>but couldn't get further.</p>
<p>How can I &quot;look into&quot; an aggregate function?</p>
","2024-01-30 13:34:47","0","Question"
"77906411","77906333","","<p>There is a small error in the JavaScript code.
The correct method to get an element by its ID is getElementById (with a lowercase “d”), not getElementByID (with an uppercase “D”). Below is the corrected choiceMade function:</p>
<pre><code>// Function to print the selected choice in the input box
function choiceMade(choice) {
    document.getElementById(&quot;courseName&quot;).value = choice;
}
</code></pre>
<p><a href=""https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById</a></p>
","2024-01-30 12:38:37","0","Answer"
"77906389","77906193","","<p>NumPy's <code>fromfunction()</code> actually behaves just as <code>function(*np.indices(shape))</code> in this case.</p>
<p><code>np.indices</code> returns an array that you can multiply and add with numbers. When you multiply <code>*np.indices((2, 2))</code> by 0 you get an array of zeroes and then +1 increases all elements by one but without the multiplication result is just the scalar 1.</p>
<p>By coincidence <code>i</code> is 2*2 array and <code>j</code> is an array of the same shape but with different numbers but lambda <code>i*0+1</code> uses only <code>i</code>.</p>
","2024-01-30 12:33:48","1","Answer"
"77906385","77906193","","<p>The callable function is passed two arrays, not repeatedly called with two numbers:</p>
<pre><code>i=[ [ 0.0, 0.0 ],
    [ 1.0, 1.0 ] ]

j=[ [ 0.0, 1.0 ],
    [ 0.0, 1.0 ] ]
</code></pre>
<p>It returns what it is asked to provide ... just ONCE ... to be the ultimate result of np.fromfunction.</p>
<p>So an input of 1 returns just 1
whereas an input of i*0+1 returns</p>
<pre><code>[ [ 0.0, 0.0 ],
  [ 1.0, 1.0 ] ] * 0 + 1
</code></pre>
<p>which is the (broadcast) array</p>
<pre><code>[ [ 1.0, 1.0 ],
  [ 1.0, 1.0 ] ]
</code></pre>
","2024-01-30 12:33:16","1","Answer"
"77906333","","Unable to change value of input box to selected option of comboBox","<p>I'm following an introduction-course to HTML, in this particular demo I made a comboBox:</p>
<pre><code>//Combobox to select a course
&lt;div&gt;
        &lt;select id=&quot;courses&quot; multiple size=&quot;3&quot; onchange=&quot;choiceMade(this.value);&quot;&gt;
            &lt;option value=&quot;&quot; selected&gt;--Choose--&lt;/option&gt;
            &lt;option value=&quot;Angular&quot;&gt;Angular&lt;/option&gt;
            &lt;option value=&quot;ReactJS&quot;&gt;React&lt;/option&gt;
            &lt;option value=&quot;VueJS&quot;&gt;Vue&lt;/option&gt;
            &lt;option value=&quot;JavaScript&quot;&gt;JavaScript&lt;/option&gt;
            &lt;option value=&quot;Python&quot;&gt;Python&lt;/option&gt;
       &lt;/select&gt;
&lt;/div&gt;
</code></pre>
<p>The selected value should be printed in this <code>input</code> box using JavaScript:</p>
<pre><code>//Inputbox where above selected course should be printed
&lt;div&gt;
     &lt;label class=&quot;standoutLabel&quot;&gt;Favorite Course:&lt;/label&gt;
     &lt;input type=&quot;text&quot;  id=&quot;courseName&quot;&gt;
&lt;/div&gt;
</code></pre>
<p>The course tells me the <code>function</code> to do this should be this:</p>
<pre><code>//Function to print selected choice in inputbox
function choiceMade(choice) {
    document.getElementByID(&quot;courseName&quot;).value = choice;
}
</code></pre>
<p>In the video it works fine, but for me... Nope...Nothing...Nada</p>
<p>How do I get this to work? What am I missing?</p>
<p>I tried adding a function call to get the value of <code>choiceMade</code> so it would input the <code>choice</code> in the <code>&lt;input&gt;</code>, but it just isn't working.</p>
","2024-01-30 12:25:20","0","Question"
"77906272","77906193","","<p>This is the definition of the function</p>
<pre><code>numpy.fromfunction(function, shape, *, dtype=&lt;class 'float'&gt;, like=None, **kwargs)
</code></pre>
<p>function : callable</p>
<blockquote>
<p>The function is called with N parameters, where N is the rank of shape. <strong>Each parameter represents the coordinates of the array varying along a specific axis</strong>. For example, if shape were (2, 2), then the parameters would be array([[0, 0], [1, 1]]) and array([[0, 1], [0, 1]])</p>
</blockquote>
<p>shape(N,) : tuple of ints</p>
<blockquote>
<p>Shape of the output array, which also determines the shape of the coordinate arrays passed to function.</p>
</blockquote>
<p>Returns: fromfunction : any</p>
<blockquote>
<p>The result of the call to function is passed back directly. Therefore the <strong>shape of fromfunction is completely determined by function. If function returns a scalar value, the shape of fromfunction would not match the shape parameter</strong>.</p>
</blockquote>
<p>emphasis is mine.</p>
<p>Document: <strong><a href=""https://numpy.org/doc/stable/reference/generated/numpy.fromfunction.html#numpy-fromfunction"" rel=""nofollow noreferrer"">https://numpy.org/doc/stable/reference/generated/numpy.fromfunction.html#numpy-fromfunction</a></strong></p>
","2024-01-30 12:16:45","1","Answer"
"77906193","","The behavior of numpy.fromfunction()","<p>I was trying to create different arrays using Numpy's <code>fromfunction()</code>. It was working fine until I faced this issue. I tried to make an array of ones using <code>fromfunction()</code>(I know I can create it using <code>ones()</code> and <code>full()</code>) and here is the issue :</p>
<pre><code>array = np.fromfunction(lambda i, j: 1, shape=(2, 2), dtype=float)
print(array)
</code></pre>
<p>Surprisingly, the output of this function is this :</p>
<pre><code>1
</code></pre>
<p>Which is expected to be :</p>
<pre><code>[[1. 1.]
 [1. 1.]]
</code></pre>
<p>When I change the input function by adding zero times <code>i</code>, It works just fine.</p>
<pre><code>array = np.fromfunction(lambda i, j: i*0 + 1, shape=(2, 2), dtype=float)
print(array)
</code></pre>
<p>The output of this code is :</p>
<pre><code>[[1. 1.]
 [1. 1.]]
</code></pre>
<p>My main question is how does <code>fromfunction()</code> actually behaves? I passed the same function with 2 different representations and the output is completely different.</p>
","2024-01-30 12:01:48","3","Question"
"77905977","77905899","","<p>The difference is between assignment targets (function parameters, assignment lhs) and expressions (function call arguments, assignment rhs), not between functions and assignments. A destructuring pattern with a default initialiser is only valid as the target of an assignment.</p>
<pre><code>// wrong:
function getData({name, age: 20}) {…}
// correct object destructuring:
function getData({name, age = 20}) {…}
// wrong:
const {name, age: 20} = student;
// correct object destructuring:
const {name, age = 20} = student;
</code></pre>

<pre><code>// wrong:
getData({name, age = 20});
// correct object literal:
getData({name, age: 20});
// wrong:
const student = {name, age = 20};
// correct object literal:
const student = {name, age: 20};
</code></pre>
","2024-01-30 11:23:22","2","Answer"
"77905971","77905899","","<pre><code>let name = &quot;Mike&quot;
let anotherStudent = {name, age = 20}
</code></pre>
<p>This syntax is not valid for creating an object literal. The issue lies with the use of the age = 20 part. This syntax is allowed in function parameters for providing default values, but it's not allowed in object literals directly.</p>
<p>If you want to achieve the same default value behavior when creating an object, you can use the following approach:</p>
<pre><code>let name = &quot;Mike&quot;
let anotherStudent = {name, age: 20 /*Your number*/}
</code></pre>
<p>In this case, you explicitly set the age property to 20 when creating the object literal.</p>
","2024-01-30 11:22:00","1","Answer"
"77905899","","Shorthand property initializer with default value works in function parameters but not during object assignment?","<p>Consider an object</p>
<pre><code>let student = {
    name: &quot;Josh&quot;
}
</code></pre>
<p>and a function</p>
<pre><code>function getData({name, age = 20}){
    console.log(name, age)
}
</code></pre>
<p>This works as expected. We get console log of <code>name</code> and <code>age</code> with default value of 20.</p>
<p>However, how come below throws the error (Uncaught SyntaxError: Invalid shorthand property initializer)?</p>
<pre><code>let name = &quot;Mike&quot;
let anotherStudent = {name, age = 20}
</code></pre>
<p>Why the shorthand <code>{name, age = 20}</code> behaves differently in function parameters and object assignment?</p>
","2024-01-30 11:11:25","0","Question"
"77904845","","Pandas: Fill null values between dates","<p>Consider following dataframe</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>date</th>
<th>id</th>
<th>value1</th>
<th>value2</th>
</tr>
</thead>
<tbody>
<tr>
<td>2022-01-01</td>
<td>11</td>
<td>1</td>
<td>12</td>
</tr>
<tr>
<td>2022-01-02</td>
<td>11</td>
<td>2</td>
<td>13</td>
</tr>
<tr>
<td>2022-01-03</td>
<td>11</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-04</td>
<td>11</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-05</td>
<td>11</td>
<td>5</td>
<td>15</td>
</tr>
<tr>
<td>2022-01-01</td>
<td>22</td>
<td>11</td>
<td>3</td>
</tr>
<tr>
<td>2022-01-02</td>
<td>22</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-03</td>
<td>22</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-04</td>
<td>22</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-05</td>
<td>22</td>
<td>12</td>
<td>34</td>
</tr>
<tr>
<td>2022-01-01</td>
<td>33</td>
<td>2</td>
<td>4</td>
</tr>
<tr>
<td>2022-01-02</td>
<td>33</td>
<td>4</td>
<td>8</td>
</tr>
<tr>
<td>2022-01-03</td>
<td>33</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-04</td>
<td>33</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-05</td>
<td>33</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-01</td>
<td>44</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-02</td>
<td>44</td>
<td>34</td>
<td>89</td>
</tr>
<tr>
<td>2022-01-03</td>
<td>44</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-04</td>
<td>44</td>
<td>35</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-05</td>
<td>44</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
<p>The output which I am expecting should be:</p>
<ol>
<li>grouped on id column</li>
<li>fill null only when the whole row is empty</li>
<li>fill null values on id grouped column only when an upper bound date is present. eg. for id 11, null imputation will happen for 2022-01-03 and 2022-01-04 only because 2022-01-05 is present. But for id 33 there will be no null value imputation as there are no values after 2022-01-03</li>
</ol>
<p>Final Output:</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>date</th>
<th>id</th>
<th>value1</th>
<th>value2</th>
</tr>
</thead>
<tbody>
<tr>
<td>2022-01-01</td>
<td>11</td>
<td>1</td>
<td>12</td>
</tr>
<tr>
<td>2022-01-02</td>
<td>11</td>
<td>2</td>
<td>13</td>
</tr>
<tr>
<td>2022-01-03</td>
<td>11</td>
<td>2</td>
<td>13</td>
</tr>
<tr>
<td>2022-01-04</td>
<td>11</td>
<td>2</td>
<td>13</td>
</tr>
<tr>
<td>2022-01-05</td>
<td>11</td>
<td>5</td>
<td>15</td>
</tr>
<tr>
<td>2022-01-01</td>
<td>22</td>
<td>11</td>
<td>3</td>
</tr>
<tr>
<td>2022-01-02</td>
<td>22</td>
<td>11</td>
<td>3</td>
</tr>
<tr>
<td>2022-01-03</td>
<td>22</td>
<td>11</td>
<td>3</td>
</tr>
<tr>
<td>2022-01-04</td>
<td>22</td>
<td>11</td>
<td>3</td>
</tr>
<tr>
<td>2022-01-05</td>
<td>22</td>
<td>12</td>
<td>34</td>
</tr>
<tr>
<td>2022-01-01</td>
<td>33</td>
<td>2</td>
<td>4</td>
</tr>
<tr>
<td>2022-01-02</td>
<td>33</td>
<td>4</td>
<td>8</td>
</tr>
<tr>
<td>2022-01-03</td>
<td>33</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-04</td>
<td>33</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-05</td>
<td>33</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-01</td>
<td>44</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-02</td>
<td>44</td>
<td>34</td>
<td>89</td>
</tr>
<tr>
<td>2022-01-03</td>
<td>44</td>
<td>34</td>
<td>89</td>
</tr>
<tr>
<td>2022-01-04</td>
<td>44</td>
<td>35</td>
<td>NaN</td>
</tr>
<tr>
<td>2022-01-05</td>
<td>44</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>
</div>
<p>I tried ffill() function but it does not take into consideration the issue mentioned in point 3</p>
","2024-01-30 08:26:40","0","Question"
"77903464","77903087","","<p>This will only work if the numbers are ascending.</p>
<p><code>MAX</code> and <code>MIN</code> to find the previous and next non-blank numbers</p>
<p><code>MATCH</code> to find the position of the previous and next non-blank numbers</p>
<p>Subtract and divide to work out the increments</p>
<p><code>IF</code> <code>ISNUMBER</code> to determine if the formula will use the actual number or interpolate a number.</p>
<p>Formula in B2 is:</p>
<pre><code>=LET(
PREV,MAX($A$2:A2),
NEXT,MIN(A2:$A$11),
GAP,MATCH(NEXT,$A$2:$A$11,0)-MATCH(PREV,$A$2:$A$11,0),
IF(ISNUMBER(A2),A2,(NEXT-PREV)/(GAP)+B1))
</code></pre>
<p><a href=""https://i.sstatic.net/Sfk0N.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Sfk0N.png"" alt=""enter image description here"" /></a></p>
","2024-01-30 01:30:21","1","Answer"
"77903087","","Interpolating when the gaps are variable","<p>Ok, ChatGPT and MS Copilot are unable to help despite several iterations.  Google searches here and elsewhere haven't turned up anything I've found to be useful. So maybe a real brain can help figure this out (that's you!)</p>
<p>I have a small column of numerical data (n &lt;= 10) that is collected from a table using Index/Match.  There are gaps in the data which I need to linearly interpolate with an Excel formula.  The gaps can be anywhere from one to three or four cells in size and they won't always be in the same location (not in the same rows for each set of results).  Any meaningful data will be increase in value as you proceed down the rows.  In another column, I need the formula to:</p>
<ol>
<li>return the same value if there is one present already</li>
<li>if there is no value present, then it fills in the blank(s) with a linear interpolation
2.1  [(next value) - (previous value) / (number of rows between next and previous values)] + (previous value)</li>
</ol>
<p>...and so on down the rows.</p>
<p>Is this possible in an Excel formula?   I could switch to VBA if this isn't feasible in a formula.</p>
<p>Thanks!</p>
<hr />
<p><strong>Examples that AI has suggested, but there were always too many or too few arguments for the function:</strong>
(column F contains days/rows, I contains the data, J is the target cells)</p>
<pre><code>=IF(ISBLANK(I2), FORECAST.LINEAR(J2, INDEX(I:I, MIN(IF(I:I&lt;&gt;&quot;&quot;, ROW(I:I)))), INDEX(J:J, MIN(IF(I:I&lt;&gt;&quot;&quot;, ROW(I:I)))) : INDEX(J:J, MAX(IF(I:I&lt;&gt;&quot;&quot;, ROW(I:I)))), INDEX(I:I, MIN(IF(I:I&lt;&gt;&quot;&quot;, ROW(I:I)))) : INDEX(I:I, MAX(IF(I:I&lt;&gt;&quot;&quot;, ROW(I:I))))), I2)
</code></pre>
<pre><code>=IF(ISBLANK(I2), FORECAST(J2, INDEX(I:I, SMALL(IF(I:I&lt;&gt;&quot;&quot;, ROW(I:I)-ROW($I$2)+1))), INDEX(J:J, SMALL(IF(I:I&lt;&gt;&quot;&quot;, ROW(I:I)-ROW($I$2)+1)))), I2)
</code></pre>
<pre><code>=IF(ISBLANK(I2), INDEX(LINEST(INDEX($I$2:$I$12, N(IF({1}, SMALL(IF($I$2:$I$12&lt;&gt;&quot;&quot;, ROW($I$2:$I$12)-ROW($I$2)+1)))), INDEX($J$2:$J$12, N(IF({1}, SMALL(IF($I$2:$I$12&lt;&gt;&quot;&quot;, ROW($I$2:$I$12)-ROW($I$2)+1))))), 2, 1) * J2 + INDEX(LINEST(INDEX($I$2:$I$12, N(IF({1}, SMALL(IF($I$2:$I$12&lt;&gt;&quot;&quot;, ROW($I$2:$I$12)-ROW($I$2)+1)))), INDEX($J$2:$J$12, N(IF({1}, SMALL(IF($I$2:$I$12&lt;&gt;&quot;&quot;, ROW($I$2:$I$12)-ROW($I$2)+1))))), 2, 2), I2)
</code></pre>
<p><strong>[This formula &quot;works&quot;, but the values returned are not properly/evenly interpolated:]</strong></p>
<pre><code>=IF(ISNUMBER(I2), I2, IFERROR(FORECAST.LINEAR(F2,IF(ISNUMBER(I$2:I$12),I$2:I$12,&quot;&quot;),F$2:F$12), &quot;&quot;))
</code></pre>
","2024-01-29 23:01:33","0","Question"
"77897782","77897478","","<p>Could you try this</p>
<pre class=""lang-js prettyprint-override""><code>let totalCost = 0;
window.addEventListener(&quot;load&quot;, (e) =&gt; {
  totalCost = addPaintAndSupplies(totalCost, updateTotals);
  totalCost = addFloorCoverings(totalCost, updateTotals);
  totalCost = addFurniture(totalCost, updateTotals);
});
</code></pre>
<p>As a good practice you should move the <code>script</code> tag to the line before the end of body tag <code>&lt;/body&gt;</code></p>
<p><a href=""https://stackoverflow.com/questions/436411/where-should-i-put-script-tags-in-html-markup"">where-should-i-put-script-tags-in-html-markup</a></p>
","2024-01-29 06:29:34","-1","Answer"
"77897613","77897478","","<p>You can use <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Window#load_unload_events"" rel=""nofollow noreferrer"">Window's <code>load</code> event</a> to wait for the document to render before prompting the user for input, and you can use <a href=""https://developer.mozilla.org/en-US/docs/Web/API/setTimeout"" rel=""nofollow noreferrer""><code>setTimeout</code></a> with no delay to allow the DOM to update between inputs. Without <code>setTimeout</code>, all three inputs are processed in the same event loop, and the DOM is unable to update in between.</p>
<pre class=""lang-js prettyprint-override""><code>window.addEventListener(&quot;load&quot;, () =&gt; {
  totalCost = addPaintAndSupplies(totalCost, updateTotals);
  setTimeout(() =&gt; {
    totalCost = addFloorCoverings(totalCost, updateTotals);
    setTimeout(() =&gt; {
      totalCost = addFurniture(totalCost, updateTotals);
    })
  })
})
</code></pre>
<p>Here's a runnable example implemented this way</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function addPaintAndSupplies(totalCost, callback) {
  let cost = prompt(""Enter the cost for the paint and supplies :"");
  cost = parseFloat(cost);
  if (cost &gt; 100) {
    cost *= 1.1;
  }
  // Get a handle for the paint paragraph
  let paintArea = document.querySelector("".paint"");
  paintArea.innerHTML = `Paint $ ${cost.toFixed(2)}`;
  callback(totalCost + cost);
  return (totalCost + cost);
}

const addFloorCoverings = function(totalCost, callback) {
  let cost = prompt(""Enter the cost for the floor coverings :"");
  cost = parseFloat(cost);
  if (cost &lt; 500) {
    cost *= .85;
  }
  // Get a handle for the floor coverings paragraph
  let floorCoveringsArea = document.querySelector("".floorCoverings"");
  floorCoveringsArea.innerHTML = `Floor Coverings $ ${cost.toFixed(2)}`;
  callback(totalCost + cost);
  return (totalCost + cost);
}

const addFurniture = (totalCost, callback) =&gt; {
  let cost = prompt(""Enter the cost for the furniture :"");
  cost = parseFloat(cost);
  if (cost &lt; 500) {
    cost *= .90;
  }
  // Get a handle for the furniture paragraph
  let furnitureArea = document.querySelector("".furniture"");
  furnitureArea.innerHTML = `Furniture $ ${cost.toFixed(2)}`;
  callback(totalCost + cost);
  return (totalCost + cost);
}

const updateTotals = (cost) =&gt; {
  // Get a handle for the total cost header
  let totalsArea = document.querySelector("".totalCost"");
  totalsArea.innerHTML = `Total $ ${cost.toFixed(2)}`;
}

let totalCost = 0;
window.addEventListener(""load"", () =&gt; {
  totalCost = addPaintAndSupplies(totalCost, updateTotals);
  setTimeout(() =&gt; {
    totalCost = addFloorCoverings(totalCost, updateTotals);
    setTimeout(() =&gt; {
      totalCost = addFurniture(totalCost, updateTotals);
    })
  })
})</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;h1&gt;Reno calculator &lt;img src=""2chicks.jpg""&gt;&lt;/h1&gt;

&lt;p class=""paint"" style=""background-color:grey;""&gt;&lt;/p&gt;
&lt;p class=""furniture"" style=""background-color:pink;""&gt;&lt;/p&gt;
&lt;p class=""floorCoverings""&gt;&lt;/p&gt;
&lt;h3 class=""totalCost""&gt;&lt;/h3&gt;</code></pre>
</div>
</div>
</p>
","2024-01-29 05:36:38","0","Answer"
"77897478","","How to load HTML before loading JavaScript/Asking user for input using prompt","<p>I need the page to run like this: The HTML loads, and the first prompt asks user for input. Prompt is submitted, and the running total is changed and the page displays it. Second prompt is asked, submitted, and then running total is changed and displayed again. Same thing for the final prompt. I believe everything is working completely fine except I can't find a way to make the prompts show up after all of the HTML is loaded, and for the total to update and be displayed after each prompt. I've tried window.onload, setTimeout, DOMContentLoader, etc. but none of them seem to work.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function addPaintAndSupplies(totalCost, callback) {
  let cost = prompt(""Enter the cost for the paint and supplies :"");
  cost = parseFloat(cost);
  if (cost &gt; 100) {
    cost *= 1.1;
  }
  // Get a handle for the paint paragraph
  let paintArea = document.querySelector("".paint"");
  paintArea.innerHTML = `Paint $ ${cost.toFixed(2)}`;
  callback(totalCost + cost);
  return (totalCost + cost);
}

const addFloorCoverings = function(totalCost, callback) {
  let cost = prompt(""Enter the cost for the floor coverings :"");
  cost = parseFloat(cost);
  if (cost &lt; 500) {
    cost *= .85;
  }
  // Get a handle for the floor coverings paragraph
  let floorCoveringsArea = document.querySelector("".floorCoverings"");
  floorCoveringsArea.innerHTML = `Floor Coverings $ ${cost.toFixed(2)}`;
  callback(totalCost + cost);
  return (totalCost + cost);
}

const addFurniture = (totalCost, callback) =&gt; {
  let cost = prompt(""Enter the cost for the furniture :"");
  cost = parseFloat(cost);
  if (cost &lt; 500) {
    cost *= .90;
  }
  // Get a handle for the furniture paragraph
  let furnitureArea = document.querySelector("".furniture"");
  furnitureArea.innerHTML = `Furniture $ ${cost.toFixed(2)}`;
  callback(totalCost + cost);
  return (totalCost + cost);
}

const updateTotals = (cost) =&gt; {
  // Get a handle for the total cost header
  let totalsArea = document.querySelector("".totalCost"");
  totalsArea.innerHTML = `Total $ ${cost.toFixed(2)}`;
}

let totalCost = 0;
totalCost = addPaintAndSupplies(totalCost, updateTotals);
totalCost = addFloorCoverings(totalCost, updateTotals);
totalCost = addFurniture(totalCost, updateTotals);</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;h1&gt;Reno calculator &lt;img src=""2chicks.jpg""&gt;&lt;/h1&gt;

&lt;p class=""paint"" style=""background-color:grey;""&gt;&lt;/p&gt;
&lt;p class=""furniture"" style=""background-color:pink;""&gt;&lt;/p&gt;
&lt;p class=""floorCoverings""&gt;&lt;/p&gt;
&lt;h3 class=""totalCost""&gt;&lt;/h3&gt;</code></pre>
</div>
</div>
</p>
<p>In case its needed, here's a video showing how the website should work. <a href=""https://streamable.com/tss6ar"" rel=""nofollow noreferrer"">https://streamable.com/tss6ar</a></p>
","2024-01-29 04:41:07","0","Question"
"77896945","77896353","","<p>Assuming you have ordered factors for each column:</p>
<pre><code>df_f[] &lt;- lapply(df_f, factor, levels = c(&quot;NA&quot;, &quot;1.1_mif&quot;, &quot;1.2_mof&quot;, &quot;1.3_sef&quot;), ordered = TRUE)
</code></pre>
<p>You can use the following in tidyverse. Determine the <code>max</code> level for each row (for rows that are not all <code>NA</code>), and then <code>replace</code> values less than that for each column.</p>
<pre><code>library(tidyverse)

df_f |&gt;
  rowwise() |&gt;
  mutate(max = max(c_across(everything()))) |&gt;
  transmute(across(!max, ~ replace(., . &lt; max, &quot;NA&quot;))) 
</code></pre>
<p>Note - if your data.frame has <code>NA</code> instead of character &quot;NA&quot;, then you could do something similar with <code>NA</code> as a factor level:</p>
<pre><code>df_f[df_f == &quot;NA&quot;] &lt;- NA
l &lt;- c(NA, &quot;1.1_mif&quot;, &quot;1.2_mof&quot;, &quot;1.3_sef&quot;)
df_f[] &lt;- lapply(df_f, factor, levels = l, exclude = NULL, ordered = TRUE)

df_f |&gt;
  rowwise() |&gt;
  mutate(max = max(c_across(everything()))) |&gt;
  mutate(across(everything(), ~ factor(., levels = l))) |&gt;
  transmute(across(!max, ~ replace(., . &lt; max, NA))) 
</code></pre>
<p><strong>Output</strong></p>
<pre><code>  c1      c2    c3      c4    c5     
  &lt;ord&gt;   &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;ord&gt;  
1 NA      NA    NA      NA    NA     
2 NA      NA    NA      NA    1.3_sef
3 NA      NA    1.2_mof NA    NA     
4 NA      NA    NA      NA    1.3_sef
5 1.1_mif NA    NA      NA    NA     
6 NA      NA    1.3_sef NA    NA     
7 NA      NA    NA      NA    NA     
8 1.3_sef NA    NA      NA    NA 
</code></pre>
","2024-01-29 00:49:32","0","Answer"
"77896637","77896353","","<p>in Base R:</p>
<pre><code>fn &lt;- function(x){
    a &lt;- do.call(pmax, c(type.convert(df_f, as.is = TRUE), na.rm = TRUE))
    replace(df_f, df_f != a, 'NA')
 }
 fn(df_f)

       c1 c2      c3 c4      c5
1      NA NA      NA NA      NA
2      NA NA      NA NA 1.3_sef
3      NA NA 1.2_mof NA      NA
4      NA NA      NA NA 1.3_sef
5 1.1_mif NA      NA NA      NA
6      NA NA 1.3_sef NA      NA
7      NA NA      NA NA      NA
8 1.3_sef NA      NA NA      NA
</code></pre>
","2024-01-28 22:21:16","1","Answer"
"77896353","","Replace specific levels of a row with NA, based on conditions across ALL factor columns of a data frame","<p>I have a large data frame, df_f, with different levels across multiple column (5 columns in this example):</p>
<pre><code>c1 &lt;- as.factor(c(&quot;NA&quot;, &quot;1.1_mif&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;1.1_mif&quot;, &quot;1.1_mif&quot;, &quot;NA&quot;, &quot;1.3_sef&quot;))
c2 &lt;- as.factor(c(&quot;NA&quot;, &quot;NA&quot;, &quot;1.1_mif&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;1.2_mof&quot;, &quot;NA&quot;, &quot;NA&quot;))
c3 &lt;- as.factor(c(&quot;NA&quot;, &quot;NA&quot;, &quot;1.2_mof&quot;, &quot;1.2_mof&quot;, &quot;NA&quot;, &quot;1.3_sef&quot;, &quot;NA&quot;, &quot;NA&quot;))
c4 &lt;- as.factor(c(&quot;NA&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;NA&quot;))
c5 &lt;- as.factor(c(&quot;NA&quot;, &quot;1.3_sef&quot;, &quot;NA&quot;, &quot;1.3_sef&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;NA&quot;, &quot;NA&quot;))
</code></pre>
<pre><code>df_f &lt;- data.frame(c1, c2, c3, c4, c5)
</code></pre>
<pre><code>       c1      c2      c3     c4      c5
1      NA      NA      NA     NA      NA
2 1.1_mif      NA      NA     NA 1.3_sef
3      NA 1.1_mif 1.2_mof     NA      NA
4      NA      NA 1.2_mof     NA 1.3_sef
5 1.1_mif      NA      NA     NA      NA
6 1.1_mif 1.2_mof 1.3_sef     NA      NA
7      NA      NA      NA     NA      NA
8 1.3_sef      NA      NA     NA      NA
</code></pre>
<p>I am particularly interested in three levels: &quot;1.1_mif&quot;, &quot;1.2_mof&quot; and &quot;1.3_sef&quot;.</p>
<p>I would like to create a function that would allow me to keep the level with the highest index among the three levels above, if several of these levels are present on the same row (across ALL the columns) - and to replace the other one(s) with NA.</p>
<p>Expected outcome:</p>
<pre><code>       c1    c2      c3      c4      c5
1      NA    NA      NA      NA      NA
2      NA    NA      NA      NA 1.3_sef
3      NA    NA 1.2_mof      NA      NA
4      NA    NA      NA      NA 1.3_sef
5 1.1_mif    NA      NA      NA      NA
6      NA    NA 1.3_sef      NA      NA
7      NA    NA      NA      NA      NA
8 1.3_sef    NA      NA      NA      NA
</code></pre>
<p>I'm struggling to find what would be a very efficient way to do this in R (across ALL the columns :)</p>
","2024-01-28 20:39:33","1","Question"
"77895125","77895113","","<p>The arguments to <code>std::max</code> must have the same type.</p>
<p><code>ds.size()</code> returns a <code>std::size_t</code> and unless <code>idx</code> can be negative, you should probably make it a <code>std::size_t</code> too - or cast to <code>std::size_t</code> when using <code>std::max</code>:</p>
<pre class=""lang-cpp prettyprint-override""><code>return std::max(ds.size(), static_cast&lt;std::size_t&gt;(idx));
</code></pre>
<p>Note that if <code>idx</code> can be negative, this will likely fail miserably since the cast of a negative value will make it into a positive value, which is likely going to be bigger than <code>ds.size()</code>.</p>
<p>Since C++26, you will be able to use <a href=""https://en.cppreference.com/w/cpp/numeric/saturate_cast"" rel=""nofollow noreferrer""><code>std::saturate_cast</code></a> to clamp the value you cast from to the range of the destination type:</p>
<pre class=""lang-cpp prettyprint-override""><code>return std::max(ds.size(), std::saturate_cast&lt;std::size_t&gt;(idx));
</code></pre>
","2024-01-28 14:29:52","3","Answer"
"77895113","","Max function in C++","<p>I once wrote <code>return max(ds.size(),idx);</code> where <code>ds</code> is a <code>std::vector</code> and <code>idx</code> is an integer, but it gave me an error saying incompatiable types in the <code>max</code> function. I later wrote <code>int i1 = ds.size() int i2= idx, return max(i1,i2)</code>, then it worked properly.</p>
<p>can anyone please tell what is the reason behind it ?</p>
","2024-01-28 14:24:08","0","Question"
"77894597","77894379","","<p>If we look at the Sass documentation for <a href=""https://sass-lang.com/documentation/modules/color/#mix"" rel=""nofollow noreferrer""><code>color.mix()</code>/<code>mix()</code></a>:</p>
<blockquote>
<p>Returns a color that’s a mixture of <code>$color1</code> and <code>$color2</code>.</p>
</blockquote>
<p>You could consider the <a href=""https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix"" rel=""nofollow noreferrer""><code>color-mix()</code> CSS function</a>. MDN describes it as:</p>
<blockquote>
<p>The <code>color-mix()</code> functional notation takes two <a href=""https://developer.mozilla.org/en-US/docs/Web/CSS/color_value"" rel=""nofollow noreferrer""><code>&lt;color&gt;</code></a> values and returns the result of mixing them in a given colorspace by a given amount.</p>
</blockquote>
<p>Thus I would determine that <code>color-mix()</code> would be the closest native-CSS implementation of Sass's <code>color.mix()</code>/<code>mix()</code>.</p>
","2024-01-28 11:24:25","0","Answer"
"77894478","77894449","","<p>If you try to learn python you generally should not outsource your assignments to stackoverflow, but if i understood this question correctly, this should work:</p>
<pre><code>def student_function(field):
    plough_movements = []

    for i, row in enumerate(field):
       col_indices = list(range(len(row)))

       if i % 2 == 0:
           plough_movements.extend([(col, i) for col in col_indices])
       else:
           plough_movements.extend([(col, i) for col in reverse_list(col_indices)])
return plough_movements
</code></pre>
<p>Also please provide some context on what the field is exactly.</p>
","2024-01-28 10:47:30","0","Answer"
"77894449","","I want to create a function that reads a list comprehension, returning odd number rows, and reversing even number rows. See my current code block","<p>Understand the field: Recognise that the field is a nested list of lists where each element can be accessed using row and column indexes.</p>
<p>Plan the path: On even rows (0, 2, 4, ...), the tractor should move from left to right. On odd rows (1, 3, 5, ...), it should move from right to left.</p>
<p>Implement the Logic: Use loops and conditions to build the path according to the above plan.</p>
<p>Reuse the <code>reverse_list</code> function: Change the direction of the tractor by reusing code.</p>
<p>Return the movements: Your function should ultimately return a list of tuples, with each tuple representing the coordinates (row, column) of each movement.</p>
<p>Will this function:</p>
<pre><code>def reverse_list(input_list):
    list_reversed = input_list[::-1]
    return list_reversed

def student_function(field):
    plough_movements = []

    for row_index, row in enumerate(field):
        if row_index % 2 == 0:
            plough_movements.extend([(col, row_index) for col in range(len(row))])
        else:
            reverse_row = reverse_list(row)
            plough_movements.extend([(col, row_index) for col in range(len(reverse_row))])

    return plough_movements
</code></pre>
<p>give this result:</p>
<p>[(0, 0), (0, 1), (0, 2), (0, 3), (0, 4), (1, 4), (1, 3), (1, 2), (1, 1), (1, 0), (2, 0), (2, 1), (2, 2), (2, 3), (2, 4), (3, 4), (3, 3), (3, 2), (3, 1), (3, 0), (4, 0), (4, 1), (4, 2), (4, 3), (4, 4), (5, 4), (5, 3), (5, 2), (5, 1), (5, 0), (6, 0), (6, 1), (6, 2), (6, 3), (6, 4), (7, 4), (7, 3), (7, 2), (7, 1), (7, 0), (8, 0), (8, 1), (8, 2), (8, 3), (8, 4), (9, 4), (9, 3), (9, 2), (9, 1), (9, 0)]</p>
","2024-01-28 10:39:05","-2","Question"
"77894379","","How to implement SASS color functions in raw CSS","<p>SASS has functions which can compute a new color given some variables as input. Specifically, I'm using:</p>
<ul>
<li><a href=""https://sass-lang.com/documentation/modules/color/#mix"" rel=""nofollow noreferrer"">https://sass-lang.com/documentation/modules/color/#mix</a></li>
<li><a href=""https://sass-lang.com/documentation/modules/color/#lighten"" rel=""nofollow noreferrer"">https://sass-lang.com/documentation/modules/color/#lighten</a></li>
<li><a href=""https://sass-lang.com/documentation/modules/color/#darken"" rel=""nofollow noreferrer"">https://sass-lang.com/documentation/modules/color/#darken</a></li>
</ul>
<p>CSS now also has variables and some related builtin functionality like <a href=""https://developer.mozilla.org/en-US/docs/Web/CSS/filter"" rel=""nofollow noreferrer"">https://developer.mozilla.org/en-US/docs/Web/CSS/filter</a>.</p>
<p>I also managed to implement <code>lighten</code>/<code>darken</code> by using <code>hsl(var(--my-hue), var(--my-saturation), calc(var(--my-lightness) + 10%))</code>.</p>
<p>Does anyone have any suggestions on whether it's possible to implement/hack <code>mix</code> in pure CSS (the <a href=""https://stackoverflow.com/questions/62502147/boostrap-sass-functions-mix-function-in-scss"">source code of mix</a>) - maybe also using some representations like <code>rgba</code>/<code>hsl</code> and <code>calc</code> expressions?</p>
","2024-01-28 10:10:28","-1","Question"
"77893343","77889920","","<p>This answers my question in a simple manner, but does not really fit the title.</p>
<pre><code>#!/bin/bash

r () {
    read -rp &quot;Give text: &quot; var
}

m () {

        if [ -n &quot;$1&quot; ]; then
                echo &quot; &amp;&amp; $1&quot;
        else
                echo ''
        fi

}

r
a=&quot;$(m &quot;$var&quot;)&quot;

r
b=&quot;$(m &quot;$var&quot;)&quot;

r
c=&quot;$(m &quot;$var&quot;)&quot;

echo &quot;$a$b$c&quot; | sed 's/ &amp;&amp; //1'
</code></pre>
","2024-01-28 01:05:32","0","Answer"
"77892505","77891551","","<p>The 'main' element has <code>display:none;</code> applied to it as well, so child elements will automatically not display, despite changes you make to them individually.</p>
<p>To fix this, just need to add <code>#main</code> in front of <code>div</code> in your css, to ensure it effects only child div elements.</p>
<p>A few additional things to mention:</p>
<ol>
<li><p>I saw you targeted <code>html</code> in your css, but that can cause the body to have a white background in certain browsers, so it now targets <code>body</code> instead.</p>
</li>
<li><p>I got rid of the current variable as it wasn't needed.</p>
</li>
<li><p>To save you having to type out <code>document.getElementById(n).etc.etc</code> a ton of times, I put it into a function called <code>setStyleProp(id,propStr,valStr)</code></p>
</li>
<li><p>Not sure why you want to hide a 4th element, aside from testing? But I left it in as it's your call.</p>
</li>
</ol>
<p>I hope this helps!</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function init() {
  show(1);
}
function setStyleProp(id,propStr,valStr){
  document.getElementById(id).style.setProperty(propStr,valStr);
}
function show(n) {
  setStyleProp(n,'display', 'block');
  for (let i = 1; i &lt; 4; i++) {
    if (i !== n) {
      setStyleProp(i,'display', 'none');
    }
  }
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>#main div {
  background: red;
  padding: 10px;
  color: white;
  margin: 10px;
  display: none
}

body {
  background: grey;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;body onload=""init()""&gt;
  &lt;!-- no real reason to make a 'main' div, but i plan to when i implement this into my site --&gt;
  &lt;div id=""main""&gt;
    &lt;div id=""1""&gt;div1&lt;/div&gt;
    &lt;div id=""2""&gt;div2&lt;/div&gt;
    &lt;div id=""3""&gt;div3&lt;/div&gt;
    &lt;div id=""4""&gt;div4&lt;/div&gt;
  &lt;/div&gt;

  &lt;button onclick=""show(1)""&gt;show 1&lt;/button&gt;
  &lt;button onclick=""show(2)""&gt;show 2&lt;/button&gt;
  &lt;button onclick=""show(3)""&gt;show 3&lt;/button&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
</p>
","2024-01-27 19:21:44","0","Answer"
"77891840","77883834","","<p>That is not what recursion is used for. You are just stacking up method calls and decreasing efficiency.
This could be a solution, you must not use recursion in this case&quot;</p>
<pre><code>def validate_number(n):
try:
     num = int(n) #validates it is a number
     if num &lt; 1000: #too small
        print(&quot;==&gt; Too few numbers\n&quot;)
     if num &gt; 9999: #too big
        print(&quot;==&gt; Too many numbers\n&quot;)             
     return 1000 &lt;= num &lt;=9999 #number ok
except ValueError: #if not number
     print(&quot;==&gt; Non digits in card\n&quot;)
     return False

def main():
n = ''
while n not in ['n', 'N']: #if not, end
    n = input(&quot;Enter a 4 digit number: &quot;)
    validate_number(n)
    n = input(&quot;Another card (y/Y/n/N): &quot;)
    while n not in ['n', 'N', 'y', 'Y']: #if not ['n', 'N', 'y', 'Y'], keep asking
        print(&quot;Please enter only y/Y/n/N&quot;)
        n = input(&quot;Another card (y/Y/n/N): &quot;)
    if n in ['y', 'Y']: #if yes, ask another number
        print(&quot;--------------------------------------------&quot;)
print(&quot;program terminated&quot;)
</code></pre>
","2024-01-27 16:00:52","0","Answer"
"77891618","77891551","","<p>Your div with id 'main' is being hidden with the display none property to the div. Update the css as below</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function init(){
        show(1)
    }

function show(n) {
        document.getElementById(n).style.display = 'block';
        var el = document.getElementById(n);
        for (let i = 1 ; i &lt;=4 ; i++) {
            if (i != n) {
                document.getElementById(i).style.display = 'none';
            }
        }



    }</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>#main div {
      background: red;
      padding: 10px;
      color: white;
      margin: 10px;
      display:none
  }
  #main div:first-child{
      display:block;
  }
  html {
      background: grey;
  }</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;body&gt;
    &lt;!-- no real reason to make a 'main' div, but i plan to when i implement this into my site --&gt;
&lt;div id=""main""&gt; 
    &lt;div id=""1""&gt;div1&lt;/div&gt;
    &lt;div id=""2""&gt;div2&lt;/div&gt;
    &lt;div id=""3""&gt;div3 &lt;/div&gt;
    &lt;div id=""4""&gt;div4&lt;/div&gt;
&lt;/div&gt;
&lt;br /&gt;
  &lt;button onclick=""show(1)""&gt;show 1&lt;/button&gt;
  &lt;button onclick=""show(2)""&gt;show 2&lt;/button&gt;
  &lt;button onclick=""show(3)""&gt;show 3&lt;/button&gt;
  &lt;button onclick=""show(4)""&gt;show 3&lt;/button&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
</p>
","2024-01-27 14:59:47","0","Answer"
"77891551","","New to JS. I'm trying to code something that toggles divs on a site using .setProperty, but nothing happens","<p>I'm using the <code>display</code> property on my divs and they are manually toggled on/off by the user when they click a button. I have tried this using the <code>visibility</code> property and it works, but it leaves a blank space when the div is toggled off, which I don't want.</p>
<p>Here's my current code. It does not return any errors; I feel like the logic I tried to implement is just off, but I can't see it.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function init() {
  let current = 1
  show(current)
}

function show(n) {
  document.getElementById(n).style.setProperty('display', 'block');

  let current = n;
  for (let i = 1; i &lt; 4; i++) {
    if (i != current) {
      document.getElementById(i).style.setProperty('display', 'none');
    }
  }
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>div {
  background: red;
  padding: 10px;
  color: white;
  margin: 10px;
  display: none
}

html {
  background: grey;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;body onload=""init()""&gt;
  &lt;!-- no real reason to make a 'main' div, but i plan to when i implement this into my site --&gt;
  &lt;div id=""main""&gt;
    &lt;div id=""1""&gt;div1&lt;/div&gt;
    &lt;div id=""2""&gt;div2&lt;/div&gt;
    &lt;div id=""3""&gt;div3&lt;/div&gt;
    &lt;div id=""4""&gt;div4&lt;/div&gt;
  &lt;/div&gt;

  &lt;button onclick=""show(1)""&gt;show 1&lt;/button&gt;
  &lt;button onclick=""show(2)""&gt;show 2&lt;/button&gt;
  &lt;button onclick=""show(3)""&gt;show 3&lt;/button&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
</p>
","2024-01-27 14:36:59","-1","Question"
"77891096","77890918","","<p>I think this could be fun. Just add a 'valid' property to the Matrix and check it only when you want to!</p>
<pre><code>class Matrix
{
public:
    Matrix Multiply(Matrix other)
    {
       return Multiply(other, m_isValid);
    }

    bool IsValid()
    {
        return m_isValid;
    }

private:
    bool m_isValid;
    Matrix Multiply(Matrix other, bool&amp; isValid);
};
</code></pre>
","2024-01-27 11:56:11","0","Answer"
"77890999","77890918","","<p>Before attempting to multiply two matrices, ensure that the number of columns in the first matrix matches the number of rows in the second. If this condition is not met, throw an exception.</p>
","2024-01-27 11:26:17","-1","Answer"
"77890918","","Writing functions which handle invalid inputs in C++","<p>In C++, how to handle function outputs , if the inputs are invalid. Say, I am writing a function to multiply two matrices. How to deal with it if the two matrices cannot be multiplied (due to in-compatible shape)?</p>
<p>I tried to use <code>std::optional</code> , but then it has created other problems. Since the output is expected to be std::optional(Matrix) ,I have to write all the other functions in the class (like print Matrix()) with the expected output as std::optional , which seems unnecessary.</p>
","2024-01-27 10:57:20","0","Question"
"77890905","77889920","","<p>Using single-letter variables obscures your code. I can understand that <code>r</code> probably stands for &quot;read&quot;, but what's the purpose exactly of the function you simply called <code>m</code>? Giving it a useful name also helps yourself understand your code. But more fundamentally, a function should ideally not have any side effects outside of its own scope.</p>
<p>A better design altogether is to accept a list of words on the command line, and put them in an array.</p>
<pre><code>#!/bin/bash

subsequences () {
    local array=(&quot;$@&quot;)
    local this=${array[0]}
    local tail
    echo &quot;$this&quot;
    [ &quot;${#array[@]}&quot; -eq 1 ] &amp;&amp; return
    subsequences &quot;${array[@]:1}&quot; |
    while IFS='' read -r tail; do
        printf '%s &amp;&amp; %s\n' &quot;$this&quot; &quot;$tail&quot;
        echo &quot;$tail&quot;
    done
}
 
subsequences &quot;$@&quot;
</code></pre>
<p>If you saved this as <code>subsequences</code> (in a directory in your <code>PATH</code>, and <code>chmod +x subsequences</code>), you'd run this like</p>
<pre><code>subsequences fire water air
</code></pre>
<p>Demo: <a href=""https://ideone.com/jfBwTr"" rel=""nofollow noreferrer"">https://ideone.com/jfBwTr</a></p>
<p>The output order is different than in your example; if the order is significant, it should not be hard to refactor this (though then perhaps an iterative solution would be better than a recursive one).</p>
","2024-01-27 10:50:53","2","Answer"
"77890826","77890797","","<p>This is happening because in python small integers (=&lt;256) are pre allocated, when you define a variable with a small integer, it is not creating a new ID, but rather giving it the one that already exists. This means that if you have 2 different variables that are 2 and 2, or 50 and 50, or 250 and 250, the ID will be the same. However, python does make a new ID for integers above 256, which means 2 different variables with the value of 257 will have a different ID.</p>
<p>edit: it does seem to depend on which interpreter you are using, as many will reuse the same ID anyway, but this is not an integral part of python but rather just the interpreter. It also has to do with how the interpreter deals with memory allocation.</p>
","2024-01-27 10:19:46","0","Answer"
"77890818","77889920","","<p>I agree with <a href=""https://stackoverflow.com/users/10971581/jhnc"">@jhnc</a>.</p>
<p>Use <code>local -n ...</code> to create variables in a function and pass variable names in calls:</p>
<pre class=""lang-bash prettyprint-override""><code>#! /usr/bin/env bash

r () {
    read -rp &quot;Give text: &quot; var
}

m () {
    local -n l_g=$2
    local -n l_v=$3
    if [[ -n &quot;$l_g&quot; ]] ; then
        l_v=&quot; &amp;&amp; $1&quot;
    else
        l_v=&quot;$1&quot;
        l_g='1'
    fi
}

r
g=
m &quot;$var&quot; g a

r
m &quot;$var&quot; g b

r
m &quot;$var&quot; g c

echo &quot;$a$b$c&quot;
</code></pre>
","2024-01-27 10:14:49","1","Answer"
"77890797","","Python ID Function","<p>When i am entering num1 = any number till 256 and num2 = same number as num1 getting same id for both objects but when i am using num1 = 257 and num2 = 257 its providing different ID to both objects. why? let me know about this issue?</p>
<pre><code>&gt;&gt;&gt; num1 = 256
&gt;&gt;&gt; num2 = 256
&gt;&gt;&gt; print(id(num1), id(num2))
140703620028824 140703620028824
&gt;&gt;&gt; num1 = 257
&gt;&gt;&gt; num2 = 257
&gt;&gt;&gt; print(id(num1), id(num2))
2102222951568 2102222952080
</code></pre>
<p>Python Version: 3.12.1</p>
","2024-01-27 10:11:10","-4","Question"
"77889920","","How to use variable from previous function iteration in bash script","<p>I have the following bash script:</p>
<pre><code>#!/bin/bash

r () {
        read -rp &quot;Give text: &quot; var
}

m () { 
        if [ -n &quot;$2&quot; ] ; then
                echo &quot; &amp;&amp; $1&quot;
                g='1'
        else
                echo &quot;$1&quot;
                g=''
        fi
}

r
t1=&quot;$g&quot;
a=&quot;$(m &quot;$var&quot; &quot;&quot;)&quot;

r
t2=&quot;$g&quot;
b=&quot;$(m &quot;$var&quot; &quot;$t1&quot;)&quot;

r
c=&quot;$(m &quot;$var&quot; &quot;$t2&quot;)&quot;

echo &quot;$a$b$c&quot;
</code></pre>
<p>I want to run this script with a combination of the following input:
Enter &quot;fire&quot; or just hit enter to leave empty.<br />
Enter &quot;water&quot; or just hit enter to leave empty.
Enter &quot;air&quot; or just hit enter to leave empty.
By that I mean just the words or nothing.</p>
<p>Currently when I run this, I get the following possible combinations:</p>
<pre><code>firewaterair
firewater
waterair
fire
water
air

</code></pre>
<p>What I am trying to achieve is these possible outcomes:</p>
<pre><code>fire &amp;&amp; water &amp;&amp; air
fire &amp;&amp; water
water &amp;&amp; air
fire 
water
air

</code></pre>
<p>I tried several things but not sure why this script does not work as intended. Help is much appreciated.</p>
","2024-01-27 03:01:34","-1","Question"
"77889461","77883838","","<p>A <code>forall</code> specifies a certain kind of function, just like <code>-&gt;</code> does.</p>
<pre><code>f :: forall (a :: Type). a -&gt; a 
-- &quot;f is a function from types to (functions from values of the type passed as argument to values of that same type)&quot;
f {- @a -} (x :: a) = x
-- &quot;f of a type a and a value (x :: a) is x&quot;
-- syntax for type abstractions is not present in GHC (yet!) for historical reasons
-- but they do appear in the high-level IR (pass -ddump-simpl to GHC)

main = print (f @Integer 5)
-- f must be applied to a type and then a value
-- type abstraction (@a above) and application (@Integer here) can be left unwritten
-- then GHC will infer them
</code></pre>
<p>Swapping instances of <code>-&gt;</code> (e.g. <code>A -&gt; B -&gt; C</code> to <code>B -&gt; A -&gt; C</code>)</p>
<ul>
<li>creates a different type, so a value of the swapped type is not acceptable for the original type, yet</li>
<li>does not <em>meaningfully</em> change the type; the two types are <em>interconvertible</em>, just not implicitly.</li>
</ul>
<p>In your very own words, &quot;the difference is only in the style of description&quot;. Yet you're still required to be consistent about that style (i.e. the argument order). You surely aren't confused by the following:</p>
<pre><code>data A = A; data A' = A'; data B = B; data B' = B'; data C = C
f :: A -&gt; B -&gt; A' -&gt; B' -&gt; C
f A B A' B' = C
g :: A -&gt; A' -&gt; B -&gt; B' -&gt; C
g A A' B B' = C

w_f :: (A -&gt; B -&gt; A' -&gt; B' -&gt; C) -&gt; Bool
w_f _ = True

w_g :: (A -&gt; A' -&gt; B -&gt; B' -&gt; C) -&gt; Bool
w_g _ = True

main = do
  print (w_f f)
  -- print (w_f g) -- error...
  print (w_f (\x y -&gt; g y x)) -- ...must shuffle arguments
  -- print (w_g f) -- error...
  print (w_g (\x y -&gt; f y x)) -- ...must shuffle arguments
  print (w_g g)
</code></pre>
<p>Compare:</p>
<pre><code>-- replacing:
-- A  -&gt; Type (named a)
-- B  -&gt; Type (named b)
-- A' -&gt; a
-- B' -&gt; b
f :: forall (a :: Type) (b :: Type). a -&gt; b -&gt; C
f {- @_ @_ -} _ _ = C
g :: forall (a :: Type). a -&gt; forall (b :: Type). b -&gt; C
g {- @_ -} _ {- @_ -} _ = C
-- notice that f and g even have different equations

w_f :: (forall (a :: Type) (b :: Type). a -&gt; b -&gt; C) -&gt; Bool
w_f _ = True

w_g :: (forall (a :: Type). a -&gt; forall (b :: Type). b -&gt; C) -&gt; Bool
w_g _ = True

main = do
  print (w_f f)
  -- print (w_f g) -- error...
  print (w_f (\x y -&gt; g x y)) -- ...must (invisibly) shuffle arguments
  -- print (w_g f) -- error...
  print (w_g (\x y -&gt; f x y)) -- ...must (invisibly) shuffle arguments
  print (w_g g)
</code></pre>
<p>Your code is a slightly more elaborate version of the above. The underlying reason for the errors is the same in all three cases, and is very simple. You defined <code>f</code> and <code>g</code> with certain argument orders; you had better use them with those argument orders.</p>
<hr />
<p>P.S. The comments note there's <code>DeepSubsumption</code> extension that makes <code>w_f g</code> and <code>w_g f</code> compile, and historically this behavior was the default (hence why you may have absorbed the belief that order shouldn't matter for <code>forall</code>). One reason this is no longer the default is that while there's an obvious conversion from <code>forall a b. a -&gt; b -&gt; C</code> to <code>forall a. a -&gt; forall b. b -&gt; C</code>, this conversion changes definedness.</p>
<pre><code>{-# LANGUAGE DeepSubsumption #-}
convert :: (forall a b. a -&gt; b -&gt; C) -&gt; (forall a. a -&gt; forall b. b -&gt; C)
convert f = f

main = do
  -- print (undefined `seq` ())      -- would die with an exception
  print (convert undefined `seq` ()) -- does NOT die with an exception
  -- so... convert undefined /= undefined...
  -- even though it looks like I defined convert f = f...
  -- gross
</code></pre>
<p>GHC has thus moved towards forcing you to make it explicit when you're changing the <code>forall</code> order of a function.</p>
","2024-01-26 23:24:17","1","Answer"
"77888619","77888458","","<p>You say that</p>
<blockquote>
<p>the two functions that I have written crossover at zero</p>
</blockquote>
<p>and my understanding is that you contemplate on the case when n is 0. If so, then your functions as they are written are correctly assessing that <code>book_cost</code> is 0, but incorrectly assessing that <code>shipping_cost</code> is 3. It is not 3, because we only have a shipping cost starting from the first book. Therefore, in your functions it makes sense to check whether <code>n &lt;= 0</code> and if so, return 0.</p>
<p>Then you say:</p>
<blockquote>
<p>The final statement is just what I was using to determine the crossover, after I realized that it is not at a positive integer point, which again I feel defeats the point of the problem. Have I misinterpreted the question and incorrectly written the two functions? Or is it a poorly designed problem?</p>
</blockquote>
<p>I think it is deliberate in order to make you think. Because the first is being greater than the second at n = 1 and at each increment of n the difference increases.</p>
<p>So you are supposed to search for the crossover for positive n until you realize that it will not happen (unless you get into a number overflow for an n high-enough). Therefore you either conclude that there is no crossover, or that the crossover is below, depending on what you define as the domain of n. Again, for non-positives your function should return sensible values.</p>
<p>The task does not say anything about the cases when n &lt;= 0, it only speaks about the first book and subsequent books, so it is up to you to handle these edge cases.</p>
<p>Finally, you say:</p>
<blockquote>
<p>Additionally, the check_cost function seems poorly designed by the nature he wants, as I feel as if there is no reason to pass the parameter n if we just need to compare the values of the two functions at n.</p>
</blockquote>
<p>Here you clearly misunderstood the point. The point was to pass the functions to <code>check_cost</code> and <code>n</code>, but you pass the return value of these functions and <code>n</code> instead. The idea is that if you implement <code>wholesale3</code>, <code>wholesale4</code>, etc., then you should be able to pass them to <code>check_cost</code>.</p>
<p>The idea is to use <code>wholesale</code> and <code>wholesale2</code> as <a href=""https://www.askpython.com/python/built-in-methods/callback-functions-in-python"" rel=""nofollow noreferrer"">callbacks</a>, that is, functions that are passed (and not their return values) to <code>check_cost</code> and then those functions are called inside <code>check_cost</code> and their results are compared. This will allow <code>check_cost</code> to compare the result of any two functions for <code>n</code>, including, but not limited to your two wholesale functions.</p>
","2024-01-26 19:35:30","0","Answer"
"77888458","","Using functions to compare the rates of shipping for books in Python","<p>I am supposed to grade this assignment for a professor in an introductory computer science class, but I think I am either misinterpreting the assignment or it is kind of a poorly designed problem. Here are the three parts:</p>
<ol>
<li>Suppose that the cover price of a book is 24.95 dollars, however bookstores get a 40% discount. Shipping costs 3 dollars for the first copy and 75 cents for each additional copy. Write a function <em>wholesale(n)</em> that returns the total wholesale cost for an order of n books.</li>
<li>Write a second wholesale function for a different book that costs 22.95 dollars, has the same discount, but that ships for 3 dollars for the first copy and 85 cents for each additional copy. Call this function wholesale2.</li>
<li>Functions are actually objects themselves, and they have a type. As a result you can pass functions to other functions. Write a function <em>check_cost(p, p2, n)</em> that takes functions <em>p</em> and <em>p2</em> and an integer <em>n</em>, and returns a Boolean value True if p(n) &gt; p2(n); and False otherwise. Apply it to your wholesale functions by calling: <em>check_cost(wholesale, wholesale2, n)</em> and use different values for n until you find where the order of the costs changes.</li>
</ol>
<p>In theory this is a pretty basic concept, however the two functions that I have written crossover at zero (and in this context we should only need to consider positive integers), and I feel like this defeats the point of the assignment especially in the context, where one should be cheaper for some number of books, but if you buy in bulk ultimately the other should be cheaper - at least that is what I was expecting.</p>
<p>Here is my chunk of code:</p>
<pre><code>def wholesale(n):
    book_cost = 0.6 * 24.95 * n # the price of the book with a forty percent discount times the number of books
    shipping_cost = 3 + .75*(n-1) # this way shipping is exactly $3 for one book
    total_cost = book_cost + shipping_cost
    return total_cost

def wholesale2(n):
    book_cost = 0.6 * 22.95 * n # the price of the book with a forty percent discount times the number of books
    shipping_cost = 3 + .85*(n-1) # this way shipping is exactly $3 for one book
    total_cost = book_cost + shipping_cost
    return total_cost

def check_cost(p, p2, n):
    if (p &gt; p2):
        return True
    else:
        return False

for n in range(-5, 100):
    print(check_cost(wholesale(n), wholesale2(n), n))
</code></pre>
<p>The final statement is just what I was using to determine the crossover, after I realized that it is not at a positive integer point, which again I feel defeats the point of the problem. Have I misinterpreted the question and incorrectly written the two functions? Or is it a poorly designed problem? Additionally, the <em>check_cost</em> function seems poorly designed by the nature he wants, as I feel as if there is no reason to pass the parameter <em>n</em> if we just need to compare the values of the two functions at <em>n</em>.</p>
<p>Please let me know if I am simply overlooking something. I plan to talk to the professor who wrote this assignment, but I wanted to make sure I wasn't missing something obvious first.</p>
","2024-01-26 18:54:08","1","Question"
"77887878","77884704","","<p>Except for objects or arrays, parameters passed to function are by value, not by reference.  You are passing an undefined value <code>jmlTUPDNet</code> to <code>JmlhTransaksi </code>.  I believe what you want to do is</p>
<pre><code>let  jmlTUPDNet = JmlhTransaksi(1);
</code></pre>
<p>and</p>
<pre><code>function JmlhTransaksi(b) {
  .......
  let a = DataNetto.length;
  return a;
}
</code></pre>
","2024-01-26 17:00:16","0","Answer"
"77886812","77886391","","<p>In my thought, you might choose the wrong method to implement what you're trying to do. What you're trying to do is create a <code>pphase</code> column which is <code>1</code> size smaller than the <code>flight_phase</code> column right? <br/></p>
<p>I suggest you to use <code>df['pphase'] = df['flight_phase] - 1</code> instead of <code>df['pphase'] = df['flight_phase].shift(1)</code>.
<br/>Since it's a more explicit expression than <code>pandas.DataFrame.shift</code> method. The <code>shift</code> method is designed to handle date-related data, but your <code>pphase</code> and <code>flight_phase</code> columns have no relations about date. Isn't it?
<br/>
FYI, see <a href=""https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.shift.html"" rel=""nofollow noreferrer"">pandas official document</a> and <a href=""https://www.geeksforgeeks.org/python-pandas-dataframe-shift/"" rel=""nofollow noreferrer"">GeeksforGeeks</a> for further interest, it explains pretty kind.</p>
","2024-01-26 14:07:34","0","Answer"
"77886391","","Function with condition to calculate output","<p>I have the following code, where I want to compute the phase of flight of a particular aircraft. In this regard, I'm trying to compute it using conditions with df.loc function. Here is what I've tried so far. Unfortunately the output of this code is not accurate, because the df['pphase'] (previous flight phase), is not working properly. The way I've done, the pphase will not be computed correctly. Would you please help me figure out the correct coding?</p>
<pre><code>#phases of flight:
# 1)engine stopped
# 2)taxi-out
# 3)take-off
# 4)rejected take-off
# 5)second segment
# 6)Initial Climb
# 7)Climb
# 8)Cruise
# 9)Descent
# 10)Approach
# 11)Final Approach
# 12)Go Around
# 13)Landing
# 14)Taxi-in

def compute_flight_phase(df_to_be_computed):

    # VALUE OF THE PREVIOUS PHASE
    # ==============================
    df['flight_phase'] = 0
    df['pphase'] = df['flight_phase'].shift(1)

 # 1) ENGINE STOPPED
    # =================
    df.loc[df['radioHeight-2a'] &lt; 50, 'flight_phase'] = 1

    # 2) TAXI-OUT
    # ===========
    df.loc[(df['eng_stopped'] == 0) &amp; (df['wOW-3a'] == 1) &amp; (df['eng_takeoff'] == 0) &amp;
           (((df['pphase'] &lt; 5) | ((df['eng_2started'] == 1) &amp; (df['groundSpeed-1a'] &lt; df['gsc_min'])) |
             ((df['pphase'] == 14) &amp; ((df['eng_cruise'] == 1) | (df['conf'] &gt; df['conf'].shift(-1)))))),
           'flight_phase'] = 2

(....)
</code></pre>
","2024-01-26 12:53:00","0","Question"
"77886318","77885613","","<p>I think that in your showing script, it seems that <code>jmlTUPDNet</code> is not declared. From your showing log of <code>the third result is null</code>, I think that if <code>const jmlTUPDNet = 1;</code> is declared as a global variable, your showing log can be replicated.</p>
<p>I think that when <code>const jmlTUPDNet = 1;</code> is declared as a global variable as follows.</p>
<pre class=""lang-js prettyprint-override""><code>const jmlTUPDNet = 1;

Logger.log(jmlTUPDNet)

function TarikDatadanKirim(a, b) {
  if (a != 0) {
    Logger.log(a)
  }
}

TarikDatadanKirim(jmlTUPDNet, 0)
</code></pre>
<p>In this case, when a function <code>TarikDatadanKirim</code> is run, the following flow is run.</p>
<ol>
<li><code>const jmlTUPDNet = 1;</code> is run.</li>
<li><code>Logger.log(jmlTUPDNet)</code> is run.
<ul>
<li>By this, <code>1.0</code> is shown in the log with <code>Logger.log(jmlTUPDNet)</code>.</li>
</ul>
</li>
<li><code>TarikDatadanKirim(jmlTUPDNet, 0)</code> is run.
<ul>
<li>By this, <code>1.0</code> is shown in the log with <code>Logger.log(a)</code>.</li>
</ul>
</li>
<li><code>function TarikDatadanKirim(a, b) {,,,}</code> is run.
<ul>
<li>By this, the function <code>TarikDatadanKirim</code> is run without arguments. So, <code>Logger.log(a)</code> shows <code>null</code>.</li>
</ul>
</li>
</ol>
<p>I guess that this is the reason for your current situation.</p>
<p>If you want to show only <code>Logger.log(a)</code>, how about the following modification?</p>
<pre class=""lang-js prettyprint-override""><code>function TarikDatadanKirim(a, b) {
  if (a != 0) {
    Logger.log(a);
  }
}

function sample() {
  const jmlTUPDNet = 1;
  TarikDatadanKirim(jmlTUPDNet, 0);
}
</code></pre>
<p>By this modification, when you run the function <code>sample</code>, <code>Logger.log(a);</code> shows <code>1.0</code>.</p>
","2024-01-26 12:42:41","2","Answer"
"77885613","","google app script: i get result null out of nowhere","<p>i have this code that puzzled  me:</p>
<pre><code>Logger.log(jmlTUPDNet)


function TarikDatadanKirim (a,b) {

if (a!=0) {

Logger.log(a)

}}

TarikDatadanKirim(jmlTUPDNet,0)
</code></pre>
<p>i expected only 2 result but it return 3 result with the third result returned null, like this:
<a href=""https://i.sstatic.net/eOm2X.png"" rel=""nofollow noreferrer"">the third result is null</a></p>
<p>i dont know where the null value came from, and it bugged my script ahead. Even, after i erased all other code except code above (no more code after that) the log keeps results 3 logs instead of 2.</p>
<p>where did i miss? help please</p>
","2024-01-26 10:38:05","0","Question"
"77884950","77883834","","<p>Your use of recursion is inappropriate for this. You should use a <em>while True</em> construct and stay in that loop until such time as your criteria have been validated.</p>
<p>For example:</p>
<pre><code>def get_number() -&gt; int:
    while True:
        value = input(&quot;Enter a 4-digit number: &quot;)
        try:
            rv = int(value)
            if 1000 &lt;= rv &lt;= 9999:
                return rv
        except ValueError:
            pass
        print(f&quot;\a{value} is not a 4-digit number&quot;)

def main() -&gt; tuple[int, ...]:
    first_number = get_number()
    while True:
        reply = input(&quot;Another card (y/Y/n/N): &quot;)
        if reply in set(&quot;nN&quot;):
            print(&quot;Program terminated&quot;)
            break
        if reply in set(&quot;yY&quot;):
            second_number = get_number()
            return first_number, second_number
        print(&quot;\aInvalid response&quot;)
    return -1, -1

if __name__ == &quot;__main__&quot;:
    x, y = main()
    if x &gt; 0:
        print(f&quot;Your numbers are {x} and {y}&quot;)
</code></pre>
","2024-01-26 08:28:05","1","Answer"
"77884877","77880766","","<p>I would just create a new overload, instead of using parameters with default values.</p>
<pre><code>// add this new overload
fun foo(arg1: Int, arg2: Double, vararg strings: String) {
    // move the implementation to the new overload...
}

fun foo(arg1: Int, vararg strings: String) {
    // the old overload will call the new overload and pass some default values
    foo(arg1, 0.0, *strings)
}
</code></pre>
","2024-01-26 08:12:46","2","Answer"
"77884704","","Google App script function returned null instead of returned value when recalled","<p>i would like to ask this question on GOOGLE APP SCRIPT:</p>
<p>i have this script :</p>
<pre><code>let jmlTUPDNet; 


function JmlhTransaksi (a,b) {
  let DataBruto = UserPageSheet.getRange(12,b,UserPageSheet.getLastRow(),1).getValues();

  // Logger.log(DataBruto)

  let DataNetto = DataBruto.filter(
    innerArray =&gt; innerArray.join(&quot;&quot;) !== &quot;&quot; 
);

// console.log(DataNetto);

 a = DataNetto.length

 Logger.log(a)

 return a = DataNetto.length

}  

JmlhTransaksi(jmlTUPDNet,1)

Logger.log(jmlTUPDNet)
</code></pre>
<p>the thing is, when i log the &quot;jmlTUPDNet&quot; within the function, it returns &quot;1&quot;, but when i log it outside the function (the last Logger.log) it return null.</p>
<p>is there something im missing there?</p>
<p>thanks in advance</p>
<p>i wish the logger log outside the function  is also return &quot;1&quot;, so i can use it on another function</p>
","2024-01-26 07:33:52","0","Question"
"77884653","77884408","","<p>You can try this:</p>
<p>I must say it is not a good practice since panic \ error due to wrong types are not validated. I would consider another way to do so.</p>
<pre><code>package main

import &quot;fmt&quot;

type GeneralFunc func(args ...interface{})

func main() {
    // Create a map of functions with the type GeneralFunc
    functionsMap := map[string]GeneralFunc{
        &quot;MyPrintf&quot;: func(args ...interface{}) { fmt.Println(args[0].(string)) },
        &quot;MyAdd&quot;:    func(args ...interface{}) { fmt.Println(args[0].(int), args[1].(int)) },
    }

    // Use the functions from the map
    functionsMap[&quot;MyPrintf&quot;](&quot;Hello World&quot;)
    functionsMap[&quot;MyAdd&quot;](2, 3)
}
</code></pre>
","2024-01-26 07:18:34","3","Answer"
"77884408","","Multiple function types in a map, Golang","<p>I hope to connect user input to functions. The user inputs are string. For example,
<code>&quot;func_name=MyPrintf&amp;s1=Hello, world\!&quot;</code>
or
<code>&quot;func_name=MyAdd&amp;i1=1&amp;i2=2&quot;</code></p>
<p>Each function's code is,</p>
<pre><code>func MyPrintf(s1 string) {
    fmt.Println(s1)
}

func MyAdd(i1, i2 int) {
    fmt.Println(i1, i2)
}
</code></pre>
<p>I want a map like below,</p>
<pre><code>type Myfunc func(string) | func(int, int)   // &lt;- Of course, it's wrong code, just I hope like this.

myMap := make(map[string]Myfunc)

myMap[&quot;MyPrintf&quot;] = MyPrintf
myMap[&quot;MyAdd&quot;] = MyAdd
</code></pre>
<p>myMap is possible to call function by func_name string from user input.</p>
<p><code>myMap[func_name](s1)</code>
Output: Hello, world!
<code>myMap[func_name](i1, i2)</code>
Output: 3</p>
<p>Is it possible?
Maybe It's possible by using 'eval' I think, but I heard using 'eval' is not good. So, I thought using function pointer, however there's no function pointer in Golang.</p>
<p>I tried some generic programming for Golang,</p>
<pre><code>type Myfunc interface {
    func(string) | func(int, int)
}

myMap := make(map[string]Myfunc)
</code></pre>
<p>Output: error occurred: cannot use type Myfunc outside a type constraint: interface contains type constraints</p>
<p>another try,</p>
<pre><code>myMap := make(map[string]interface{})

myMap[&quot;MyPrintf&quot;] = interface{}(MyPrintf)
myMap[&quot;MyPrintf&quot;].(func(string))(&quot;Hello, world!&quot;)
</code></pre>
<p>Output: Hello, world!</p>
<pre><code>myMap[&quot;MyAdd&quot;] = interface{}(MyAdd)
myMap[&quot;MyAdd&quot;].(func(int,int))(1, 2)
</code></pre>
<p>Output: 3</p>
<p>It works but must specify right func type, it's not comfortable. I think this way is not proper to my scenario. Please give me help.
I'm sorry for my bad English writing.</p>
","2024-01-26 06:00:31","1","Question"
"77883964","77883834","","<p>The example posted is an unusual use of recursion. I would remove all calls of <code>anotherno</code> from <code>numbervalid</code>. With <code>anotherno</code> only called as the last line of <code>main</code>, only two functions will be recursing on each other and the <code>anotherno</code> function will work as expected.</p>
<pre><code>Enter a 4 digit number: 8755
Testing
Another card (y/Y/n/N): n
program terminated
</code></pre>
<pre><code>Enter a 4 digit number: 9353
Testing
Another card (y/Y/n/N): Y
--------------------------------------------
Enter a 4 digit number: 4685
Testing
Another card (y/Y/n/N): y
--------------------------------------------
Enter a 4 digit number: 58
==&gt; Too few numbers

Testing
Another card (y/Y/n/N): y
--------------------------------------------
Enter a 4 digit number: 4764
Testing
Another card (y/Y/n/N): n
program terminated
</code></pre>
<p>Failing that, you could make <code>anotherno</code> return a boolean and use a while-loop.</p>
","2024-01-26 02:49:32","0","Answer"
"77883889","77883834","","<p>exit() missing after print(&quot;program terminated&quot;) in your n case. You are not telling Python to end</p>
","2024-01-26 02:14:47","-1","Answer"
"77883838","","How does 'forall' affect function signature?","<p>I declared two functions using the 'forall' quantifier. The first of them has a quantifier with all generic type parameters before the signature. The second has quantifiers in place of the first usage of each generic type parameter.</p>
<pre><code>f :: forall a b c. a -&gt; b -&gt; c -&gt; b -&gt; a
f a _ _ _ = a

g :: forall a. a -&gt;
     forall b. b -&gt;
     forall c. c -&gt; b -&gt; a
g a _ _ _ = a
</code></pre>
<p>I expected that these two functions would be the same (The difference is only in the style of description), but the following two tests showed me that it is not.</p>
<pre><code>w_f :: (forall a b c. a -&gt; b -&gt; c -&gt; b -&gt; a) -&gt; Bool
w_f _ = True

w_g :: (forall a. a -&gt;
        forall b. b -&gt;
        forall c. c -&gt; b -&gt; a) -&gt; Bool
w_g _ = True
</code></pre>
<pre><code>&gt; w_f g
</code></pre>
<pre><code> error:  
    • Couldn't match type: forall b1. b1 -&gt; forall c1. c1 -&gt; b1 -&gt; a  
                     with: b -&gt; c -&gt; b -&gt; a   
      Expected: a -&gt; b -&gt; c -&gt; b -&gt; a  
      Actual: a -&gt; forall b. b -&gt; forall c. c -&gt; b -&gt; a  
    • In the first argument of ‘w_f’, namely ‘g’  
      In the expression: w_f g  
      In an equation for ‘it’: it = w_f g  
</code></pre>
<pre><code>&gt; w_g f
</code></pre>
<pre><code> error:
    • Couldn't match type: b0 -&gt; c0 -&gt; b0 -&gt; a
                     with: forall b. b -&gt; forall c. c -&gt; b -&gt; a
      Expected: a -&gt; forall b. b -&gt; forall c. c -&gt; b -&gt; a   
        Actual: a -&gt; b0 -&gt; c0 -&gt; b0 -&gt; a  
    • In the first argument of ‘w_g’, namely ‘f’
      In the expression: w_g f
      In an equation for ‘it’: it = w_g f
</code></pre>
<p>I created a graphical representation of this case to see what is wrong, but I can't.</p>
<p><a href=""https://i.sstatic.net/CtxO9.png"" rel=""noreferrer""><img src=""https://i.sstatic.net/CtxO9.png"" alt=""enter image description here"" /></a></p>
<p>Why are they not equivalent? Why can't we move all quantifiers out of the signature like move common multiples out of expression in math? Could somebody please provide an example of types mismatching?</p>
","2024-01-26 01:50:49","8","Question"
"77883834","","Why is my python code not exiting correctly?","<p>I made a code that prompts me to input a 4 digit number and it checks if it is a valid 4 digit number. Then, it will ask if I would like to enter another 4 digit or terminate the program.
However, when I input the 4 digits wrongly and would like to terminate the program, it still runs through the main()...</p>
<pre><code>def numbervalid(n):
    length1 = len(n)
    
    for i in range(0,length1):
            if n[i] &gt;= 'A' and n[i] &lt;= 'Z' or n[i] &gt;= 'a' and n[i] &lt;= 'z':
                print(&quot;==&gt; Non digits in card\n&quot;)
                anotherno()     

    if length1 &lt; 4 and length1 &gt; 2: 
        print(&quot;==&gt; In valid length\n&quot;)
        
        anotherno() 
           
    elif length1 &gt; 4:
        print(&quot;==&gt; Too many numbers\n&quot;)
        
        anotherno() 
          
    elif length1 &lt; 3:
        print(&quot;==&gt; Too few numbers\n&quot;) 
        
        anotherno() 
    

def anotherno():
        n = input(&quot;Another card (y/Y/n/N): &quot;)
        if n == &quot;y&quot; or n == &quot;Y&quot;:
            print(&quot;--------------------------------------------&quot;)
            main()
        elif n == &quot;n&quot; or n == &quot;N&quot;:
            print(&quot;program terminated&quot;)
        else:
            print(&quot;Please enter only y/Y/n/N&quot;)
            anotherno() 

def main():
    n = input(&quot;Enter a 4 digit number: &quot;)
    numbervalid(n)

    print(&quot;Testing&quot;)
    
    anotherno() 


if __name__ == &quot;__main__&quot;:
    main ()
</code></pre>
<p>This is the output:</p>
<pre><code>Enter a 4 digit number: 123
==&gt; In valid length     

Another card (y/Y/n/N): n
program terminated      
Testing
Another card (y/Y/n/N): n
program terminated
</code></pre>
<p>If I input the digits wrongly for 2 times in a row, it will do this</p>
<pre><code>Enter a 4 digit number: 123
==&gt; In valid length     

Another card (y/Y/n/N): y
--------------------------------------------
Enter a 4 digit number: 123
==&gt; In valid length     

Another card (y/Y/n/N): n
program terminated
Testing
Another card (y/Y/n/N): n
program terminated
Testing
Another card (y/Y/n/N): n
program terminated
</code></pre>
<p>I would like the program to terminate after I input &quot;n&quot; or &quot;N&quot; once.</p>
","2024-01-26 01:49:42","-1","Question"
"77882266","77881461","","<p>One of, or a combination of, the below, may prove useful in ascertaining the information you require:</p>
<ol>
<li><p>Using IDA Pro - Static Disassembly</p>
<p>You will need to identify a place in code to start. Open the container of your starting point for disassembly: if the starting point is within an executable, you would disassemble the executable, if it is within a DLL, you would disassemble the DLL. There will be some functions that IDA has knowledge of, i.e., Standard library functionality, and as IDA knows the signature of these functions, the software can identify them to you in the disassembled form, however other functions will not have meaningful names. You can trace through all of the calls made from the starting point - check online for some tutorials using IDA.</p>
</li>
<li><p>OllyDbg - Dynamic Disassembly</p>
<p>OllyDbg is a useful debugging and patching tool developed by one of my peers from the old game modding scene.</p>
<p>Unlike with IDA Pro, you would follow your route through the code by the application being run and the debugger being attached. As you step through the code, you will see the functions called. Again, you would do well to find online tutorials to learn how to use this tool.</p>
</li>
<li><p>Class Inheritance</p>
<p>This may or may not be applicable - depending on your use-case - but it is a method of intercepting a class' function call.</p>
<p>If you wish to determine the call of a specific function defined within a class, you can derive your own class from the base class, define the function - with a matching signature - within the derived class, instantiate your class instead of the base class, and when the specified function is called it should call your function instead of the base class' version.</p>
<p>An example of me doing this as a cringe-worthy work around within QT, when a charting feature would not work based on the chart type:</p>
<pre><code>QtCharts::QAbstractAxis::AxisType TTCategoryAxis::type(void) const
{
    HMODULE hMod = GetModuleHandleA(&quot;Qt5Chartsd.dll&quot;);
    void *returnAddress = _ReturnAddress();
    qint64 result = ((qint64)returnAddress) - (qint64)(hMod);

    if(result == UPDATE_GEO_OFFSET) // If the callee is the function we wish to trick, return a type of QDateTimeAxis
        return QAbstractAxis::AxisTypeDateTime;

    // otherwise return QCategoryAxis::type();
    return QCategoryAxis::type();
}
</code></pre>
</li>
<li><p>Similar to #3, you can write a wrapper library containing the same symbols, and just like #3 call the original functionality.</p>
</li>
</ol>
<p>Another tool that may be useful is the objdump tool from bintools.</p>
<p>This useful tool allows to you dump all external symbol references, but just because a function may be referenced does not mean it is utilised.</p>
<p>It would likely be much easier to run over the actual problem in a post here, enabling us to provide a possible method of working out the issue with you, if the issue is not already obvious to one of the community.</p>
","2024-01-25 18:41:11","1","Answer"
"77882021","77881979","","<p>Just assign your function's output to variables and use them with <code>matplotlib</code>.</p>
<p>Here is a quick example:</p>
<pre><code>import matplotlib.pyplot as plt

def tacoma(dt=1, cromer=True):
    # this is just a dummy example
    times = np.linspace(0, 10, 50)
    theta = np.sin(times)
    displacement = times**2-dt*times+1
    return times, theta, displacement

f, (ax1, ax2) = plt.subplots(nrows=2, sharex=True)
times, th, dis = tacoma()
ax1.plot(times, th)
ax2.plot(times, dis)

ax1.set_title('theta')
ax2.set_title('displacement')
</code></pre>
<p>Output:</p>
<p><a href=""https://i.sstatic.net/7NOX2.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/7NOX2.png"" alt=""enter image description here"" /></a></p>
","2024-01-25 17:55:40","1","Answer"
"77881979","","Best way to plot a graph with a Function that returns 3 values","<p>I have a function:</p>
<pre><code>def tacoma(dt=1, cromer=True):

    ..........
    ..........

    return times, theta, displacement
</code></pre>
<p>That returns 3 arrays of time, theta  and y. What I would like to do is plot two graphs, one showing how theta varies with times, and the other how displacement varies with times, (the length of all of the arrays is the same).</p>
<p>I do not now how to best do this, is there a way I can access times, theta, displacement individually when I call a function?</p>
","2024-01-25 17:47:30","0","Question"
"77881613","77881421","","<p>An <a href=""https://en.wikipedia.org/wiki/Object_(computer_science)"" rel=""nofollow noreferrer"">object</a> is an independent entity. It doesn't need a name, or a variable to be stored in, it can exist on its own. The properties (key-value pairs) belong to the object itself.</p>
<p>In your examples, the objects are created by evaluation of the object literals <code>{ prop: val }</code> and <code>{ prop: 50 }</code> respectively. The result is a reference to the object, a handle that can be copied, shared and passed around by your program. It can be returned from the <code>newObject</code> function, or stored in the <code>newObject</code> variable. Notice that the same reference can be stored in multiple variables or in none. It also can be stored in properties of other objects, which is quite common, without ever being touched by a variable.</p>
<p>So when we speak of &quot;the <code>newObject</code> object&quot;, this is slightly sloppy (but common and broadly understood) terminology. The phrase actually means &quot;the object to which the reference stored in the <code>newObject</code> variable is pointing&quot;. This only applies to your second example. In the first example, one would say &quot;the object returned by <code>newObject()</code>&quot; (in case there's just one call to the function, otherwise it would be ambiguous).</p>
","2024-01-25 16:44:26","2","Answer"
"77881550","77881421","","<p>Your confusion is totally understandable, I am sure a lot of us had the same doubt in the begin,  and it's great that you're diving into these concepts in JavaScript.</p>
<p>I'm not very good in explain things, but let's clarify the difference between these two approaches of creating an object with a key-value pair.</p>
<p>1 - Think of this like baking a single cake and putting it straight into a box labeled &quot;newObject&quot;. You decide the flavor (the properties) right then and there. Here's your recipe:</p>
<pre><code>var newObject = {
    prop: 50
};
</code></pre>
<p>You've made a cake (an object) with chocolate chips (property prop with value 50) and put it in the &quot;newObject&quot; box.</p>
<h3>Using a Function to Make an Object</h3>
<p>Now, imagine you're setting up a cake-making machine. This machine is your function. Every time you use it, you can tell it what kind of cake to make. Here's how you set up the machine:</p>
<pre><code>function newObject(val) { 
    return {
        prop: val
    };
}
</code></pre>
<p>This machine is special. You tell it, &quot;Hey, make a cake with val amount of chocolate chips!&quot; (val is like saying &quot;you choose how many chips&quot;). When you want a cake, you just tell the machine how many chips to add:</p>
<pre><code>var result = newObject(50);
</code></pre>
<p>This is like saying, &quot;Hey machine, make me a cake with 50 chocolate chips!&quot; Now, &quot;result&quot; is your box with this freshly made cake.</p>
<p>Ok, it is little dumb my explanation but I use to use it with my son...</p>
<h3>Here is the real difference:</h3>
<p>Direct Assignment vs Function:</p>
<ul>
<li><strong>Direct Assignment:</strong> You create an object and assign it directly to a variable.</li>
<li><strong>Function:</strong> You create a function that returns an object. The object is created when you call the function.</li>
</ul>
<p>With the function approach, you can dynamically create objects with different properties based on the function's parameters, making your code more flexible and reusable.</p>
<p>Direct assignment is straightforward and useful when the object's properties are static or known in advance.</p>
<p>The function approach is more powerful when you need to create multiple objects with similar structure but different values, or when the object's structure might depend on some logic or calculation.</p>
<p>Examples:</p>
<p>Directly Assigning to a Variable (Manual Process):</p>
<pre><code>var cake = {
    flavor: 'vanilla',
    sugarAmount: '100g',
    chocolateChips: '50g'
};
</code></pre>
<p>Using a Function to Create the Object:</p>
<pre><code>function makeCake(flavor, sugar, chips) {
    return {
        flavor: flavor,
        sugarAmount: sugar,
        chocolateChips: chips
    };
}

var myCake = makeCake('vanilla', '100g', '50g');
</code></pre>
","2024-01-25 16:34:02","2","Answer"
"77881490","77881432","","<p>No need for loops, just use modulo and integer division:</p>
<pre class=""lang-py prettyprint-override""><code>def make_chocolate(small, big, goal):
    after_big = goal%big
    if after_big%small != 0:
        return -1
    return after_big//small
</code></pre>
<p>It the works well:</p>
<pre><code>&gt;&gt;&gt; make_chocolate(1,5,12)
2
</code></pre>
","2024-01-25 16:24:17","0","Answer"
"77881481","77881432","","<p>You need to return <code>-1</code> if <em>none</em> of the calls to <code>sum</code> produce the right answer. That means waiting until after the outer loop has completed. You can do this by making use of the <code>for</code> loop's <code>else</code> clause, which means the fix here is to simply dedent your <code>else</code>:</p>
<pre><code>def make_chocolate(small, big, goal):
    for i in range(1,big+1):
        for j in range(1,small+1):
            if sum(list((i*5,j*1))) == goal:
                return i
    else:
        return -1
</code></pre>
<p>And because there is no code after the <code>for</code> loop, <code>return -1</code> can simply appear <em>after</em> the <code>for</code> loop, rather than as part of it.</p>
<pre><code>def make_chocolate(small, big, goal):
    for i in range(1,big+1):
        for j in range(1,small+1):
            if sum(list((i*5,j*1))) == goal:
                return i
    
    return -1
</code></pre>
","2024-01-25 16:23:27","1","Answer"
"77881461","","Logging function calls to a library","<p>I'm working on a multi-threaded, complex C++ program that constantly calls into an external library for some functionalities. I'm tracing a bug that occurs very randomly and am trying to figure out if the library calls have anything to do with it.</p>
<p>Is there a way to log all functions to the library without having to alter source code? All the function calls to the library have a specific prefix to it.</p>
<p>Using VSCode if it helps.</p>
","2024-01-25 16:20:42","-2","Question"
"77881432","","End a nested loop in Python","<p>We want make a package of goal kilos of chocolate.
We have small bars (1 kilo each) and big bars (5 kilos each).
Return the number of small bars to use, assuming we always use big bars before small bars.
Return -1 if it can't be done.</p>
<pre><code>def make_chocolate(small, big, goal):
    for i in range(1,big+1):
        for j in range(1,small+1):
            if sum(list((i*5,j*1))) == goal:
                return i
            else:
                return -1

    
make_chocolate(2,2,12)
</code></pre>
<p>The text above says it all: However, the function does not give the correct output. I always get -1. How can I fix this?</p>
","2024-01-25 16:16:20","0","Question"
"77881421","","If i code a function to create a key-value pair, what will the Object it belongs to be?","<p>I'm new to coding and i'm just learning some JavaScript. I'm learning about using return versus console.log and how you can use return values in other functions. Anyway, I see that you can create  a key-value pair using a function and the return statement. They gave an example like this:</p>
<pre><code>  function newObject(val) { 
        return {
            prop: val
        }
   }
   newObject(50);

   // output would be: {prop:50}
</code></pre>
<p>I am a bit confused at this because what is the object of this key-value pair? The way I learned about creating objects is you do:</p>
<pre><code> var newObject = {
      prop: 50
 }
</code></pre>
<p>so here this key-value pair would belong to the newObject object which was declared as a variable. In the function example that I first gave, is the object still newObject except instead of it being declared as a variable it is a function?</p>
<p>a bit confused, maybe im getting  ahead of myself. Unsure how this key-value pair that was made through a function would be assigned to an object.</p>
","2024-01-25 16:15:20","0","Question"
"77880987","77880615","","<p>You could try one of the following as well:</p>
<p><a href=""https://i.sstatic.net/3OrPm.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/3OrPm.png"" alt=""enter image description here"" /></a></p>
<hr />
<p>• <strong>Method One:</strong></p>
<pre><code>let
    Source = Excel.CurrentWorkbook(){[Name=&quot;Table1&quot;]}[Content],
    First2Rows = Table.FirstN(Source,2),
    Rows2Columns = Table.Transpose(First2Rows),
    Merged = Table.CombineColumns(Rows2Columns,{&quot;Column1&quot;, &quot;Column2&quot;},Combiner.CombineTextByDelimiter(&quot; &quot;, QuoteStyle.None),&quot;Merged&quot;),
    Columns2Rows = Table.Transpose(Merged),
    Combined = Table.Combine({Columns2Rows,Table.RemoveFirstN(Source,2)}),
    PromotedHeaders = Table.PromoteHeaders(Combined, [PromoteAllScalars=true])
in 
    PromotedHeaders
</code></pre>
<hr />
<p>Or,</p>
<p>• <strong>Second Method:</strong></p>
<pre><code>let
    Source = Excel.CurrentWorkbook(){[Name=&quot;Table1&quot;]}[Content],
    SplitDataIntoTwo = Table.SplitAt(Source,2),
    FirstSplit = Table.FromRows(Table.ToColumns(SplitDataIntoTwo{0})),
    Merged = Table.CombineColumns(Table.TransformColumnTypes(FirstSplit, {{&quot;Column1&quot;, type text}}, &quot;en-US&quot;),{&quot;Column1&quot;, &quot;Column2&quot;},Combiner.CombineTextByDelimiter(&quot; &quot;, QuoteStyle.None),&quot;Merged&quot;)[Merged],
    SecondSplit = SplitDataIntoTwo{1},
    ColumnNames = Table.ColumnNames(SecondSplit),
    CustomNames = List.Zip({ColumnNames,Merged}),
    Combined = Table.RenameColumns(SecondSplit,CustomNames)
in 
    Combined
</code></pre>
<hr />
","2024-01-25 15:06:14","0","Answer"
"77880766","","How to add new argument with default value to function which accepts varargs in Kotlin?","<p>Let's say initially I have function:</p>
<pre><code>fun foo(arg1: Int, vararg strings: String) {
}
</code></pre>
<p>and there are a lot of calls like this:</p>
<pre><code>foo(1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
</code></pre>
<p>Now I want to add additional argument with default value to avoid need  changing existing calls:</p>
<p>I tried</p>
<pre><code>fun foo(arg1: Int, arg2: Double = 0.0, vararg strings: String) {
}
</code></pre>
<p>But it breaks existing calls:</p>
<blockquote>
<p>Type mismatch.
Required:
Double
Found:
String</p>
</blockquote>
<p>Also I've found this way:</p>
<pre><code>fun foo(arg1: Int, vararg strings: String, arg2: Double = 0.0) {
}
</code></pre>
<p>It doesn't break existing calls but if I want to use custom value for <code>arg2</code> I have to name argument explicitly:</p>
<pre><code>foo(1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, arg2 = 0.0)
</code></pre>
<p>because following call leads to compile error:</p>
<pre><code>foo(1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 0.0)
</code></pre>
<p>Is there better option for my use case ?</p>
","2024-01-25 14:35:19","2","Question"
"77880706","77880615","","<p>Modify this line:</p>
<pre><code>ListCounter = {0..(HeaderRows - 1)},
</code></pre>
<p>to</p>
<pre><code>ListCounter = List.Reverse({0..(HeaderRows - 1)}),
</code></pre>
","2024-01-25 14:26:45","1","Answer"
"77880696","77880615","","<p>That seems needlessly complex</p>
<p>If you start with table on left, you can use first two rows to generate column titles on the right</p>
<p><a href=""https://i.sstatic.net/RikOv.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/RikOv.png"" alt=""enter image description here"" /></a></p>
<pre><code>let Source = Excel.CurrentWorkbook(){[Name=&quot;Table1&quot;]}[Content],
x = List.Transform(Record.FieldValues(Source{1}), each _??&quot;&quot;),
y =List.Transform(Record.FieldValues(Source{0}), each _??&quot;&quot;),
#&quot;Rename&quot;=Table.RemoveFirstN(Table.RenameColumns(Source,List.Zip({Table.ColumnNames(Source), List.Transform(List.Positions(x), each Text.Trim(x{_} &amp;&quot; &quot;&amp;y{_}))})),2)
in #&quot;Rename&quot;
</code></pre>
<p>or swapping row2 / row1:</p>
<p><a href=""https://i.sstatic.net/J0K64.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/J0K64.png"" alt=""enter image description here"" /></a></p>
<pre><code>let Source = Excel.CurrentWorkbook(){[Name=&quot;Table1&quot;]}[Content],
x = List.Transform(Record.FieldValues(Source{0}), each _??&quot;&quot;),
y =List.Transform(Record.FieldValues(Source{1}), each _??&quot;&quot;),
#&quot;Rename&quot;=Table.RemoveFirstN(Table.RenameColumns(Source,List.Zip({Table.ColumnNames(Source), List.Transform(List.Positions(x), each Text.Trim(x{_} &amp;&quot; &quot;&amp;y{_}))})),2)
in #&quot;Rename&quot;
</code></pre>
","2024-01-25 14:25:18","0","Answer"
"77880615","","Combining headers in excel tables using power query","<p>I currently have data in excel which has two headers that I need to combine. I have found a great article online which creates a custom function to dynamically achieve this:</p>
<p><a href=""https://www.ehansalytics.com/blog/2021/6/12/working-with-multiple-row-headers-from-excel-in-power-query"" rel=""nofollow noreferrer"">https://www.ehansalytics.com/blog/2021/6/12/working-with-multiple-row-headers-from-excel-in-power-query</a></p>
<p>I am using the custom function and it works as described. However, I need the combined header names to be there other way round. For example, the top header contains &quot;Main Header&quot;. The second header down contains &quot;Secondary Header&quot;. Currently the code will return &quot;Main Header_Secondary Header&quot;, but I required &quot;Secondary Header_Main Header&quot;.</p>
<p>Unfortunately I cannot change these headers around before hand. So I need the custom function to achieve this. I have tried my best at editing the code but it's always erroring. I am new to creating functions in power query so would appreciate any help.</p>
<p>Below is the code I am using which is a direct copy from the referenced website.</p>
<pre><code>(OriginalTable as table, HeaderRows as number, optional Delimiter as text) =&gt;
let
    DelimiterToUse = if Delimiter = null then &quot; &quot; else Delimiter,
    HeaderRowsOnly = Table.FirstN(OriginalTable, HeaderRows),
    /*  Convert the header rows to a list of lists. Each row is a full list
        with the number of items in the list being the original number of columns*/
    ConvertedToRows = Table.ToRows(OriginalTable),
    /* Counter used by List.TransformMany to iterate over the lists (row data) in the list. */
    ListCounter = {0..(HeaderRows - 1)},
    /*  for each list (row of headers) iterate through each one and
        convert everything to text. This can be important for Excel
        data where it is pulled in from an Excel Table and is kept
        as the Any data type. You cannot later combine numerical
        and text data using Text.Combine */
    Transformation = 
        List.TransformMany(
            ListCounter,
            each {ConvertedToRows{_}}, 
            (Counter, EachList) =&gt; List.Transform(EachList, Text.From)
        ),
    /*  Convert the list of lists (rows) to a list of lists (each column of headers is now in
        a list - so you'll have however many lists you originally had columns, and each list
        will have the same number of elements as the number of header rows you give it in the
        2nd parameter */
    ZipHeaders = List.Zip(Transformation),
    /*  Combine those lists back to a single value. Now there is just a list of the actual
        column header, combined as one value, using a space, or the chosen delimiter. */
    CombineHeaders = 
        List.Transform(
            ZipHeaders, 
            each Text.Trim(Text.Combine(_, DelimiterToUse))
        ),
    /*  Convert this list back to a single column table. */
    BackToTable = Table.FromList(CombineHeaders, Splitter.SplitByNothing(), null, null, ExtraValues.Error),
    /*  Transpose this table back to a single row. */
    TransposeToRow = Table.Transpose(BackToTable),
    /*  Append the original data from the source table to this. */
    NewTable = 
        Table.Combine(
            {
                TransposeToRow, 
                Table.Skip(OriginalTable, HeaderRows)
            }
        ),
    /*  Promote the new first row to the header. */
    PromoteHeaders = Table.PromoteHeaders(NewTable, [PromoteAllScalars=true])
in
    PromoteHeaders
</code></pre>
<p>Thanks in advance!</p>
","2024-01-25 14:13:06","1","Question"
"77880571","77878108","","<p>The main effect of <code>inline</code> is to allow multiple definitions of the same function (because the definition is typically in a header included in multiple translation units).</p>
<p>The name &quot;inline&quot; is a red herring; like with the <code>register</code> hint, it has become obsolete with modern compilers, except for the &quot;accept multiple definitions&quot; effect.</p>
<p><strong>Modern compilers choose to inline or not entirely independent of the presence of the <code>inline</code> keyword.</strong></p>
<p>Given the non-mandatory nature of <code>inline</code>, it makes sense that a build system tries to treat a function with a missing definition as non-inline  (after issuing the mandatory diagnostic message) and tries to resolve the symbol at link time.</p>
<p>The linker error does not occur because the function definition is missing at the call site; as you correctly observed, that is the compiler's domain. Here is a short transcript of two files, one defining a function declared inline, one defining an inline function which we'll change into an ordinary function in a second step, demonstrating that this will work. I compile both and inspect the object files with <a href=""https://sourceware.org/binutils/docs-2.41/binutils/nm.html"" rel=""nofollow noreferrer""><code>nm</code></a>. <code>nm</code> inspects object files; we use it to display &quot;global symbols&quot; (exported or unresolved). A &quot;T&quot; indicates that the function is defined in the &quot;text&quot;, i.e., code section, as one would expect.</p>
<pre><code>$ cat other.cpp
inline int InlineFun() { return 3; }
int Fun() { return InlineFun(); }
$ gcc -c -O1 other.cpp
$ nm -g --defined-only other.o
0000000000000000 T _Z3Funv
$ cat perhaps-inline.cpp
inline int InlineFun();
int main(){ return InlineFun(); /* From other TU */ }
$ gcc -O1 -c perhaps-inline.cpp
perhaps-inline.cpp:1:12: warning: inline function ‘int InlineFun()’ used but never defined
    1 | inline int InlineFun();
      |            ^~~~~~~~~
$ g++ -O1 other.o perhaps-inline.o -o perhaps-inline
/usr/lib/gcc/x86_64-pc-msys/13.2.0/../../../../x86_64-pc-msys/bin/ld: perhaps-inline.o:perhaps-inline:(.text+0xa): undefined reference to `InlineFun()'
collect2: error: ld returned 1 exit status

</code></pre>
<p>The function declared inline is not visible as a global symbol and is not available for linking against. Indeed, inspecting the object code confirms that <a href=""https://www.godbolt.org/z/jGf4x6vEc"" rel=""nofollow noreferrer"">no code at all is generated for it</a>.</p>
<p>Absent the inline definition, gcc treated the call of <code>InlineFunc()</code> in <code>main()</code> as a regular function call, with a warning; the error is simply that no such function was provided. Let's change that. We'll eliminate the <code>inline</code> in the function definition in other.cpp, making it a regular one:</p>
<pre><code>$ cat other.cpp
int InlineFun() { return 3; }
int Fun() { return InlineFun(); }
$ gcc -c -O1 other.cpp
$ nm -g --defined-only other.o
0000000000000006 T _Z3Funv
0000000000000000 T _Z9InlineFunv
$ g++ -O1 other.o perhaps-inline.o -o perhaps-inline
$ g++ -O1 other.o perhaps-inline.o -o perhaps-inline
$ ./perhaps-inline
$ echo $?
3
</code></pre>
<p>Voila: Works.</p>
<p><strong>The linker error in your example occurs indeed because the function is declared inline <em>at the definition site.</em></strong></p>
<p>The symbol is simply not created. To link successfully, remove the <code>inline</code> where the function is defined. (We see that gcc does not &quot;decorate&quot; the name of an inline function in any special fashion.)</p>
<hr />
<p>Let's dive a bit into the standard wording and the behavior of two compilers I have at hand.</p>
<p>The C++ 2020 standard requires in 6.3/11:</p>
<blockquote>
<p>A definition of an inline function or variable shall be reachable from the end of every definition domain in which it is odr-used outside of a discarded statement.</p>
</blockquote>
<p>There is a bit of jargon here:</p>
<ul>
<li>Absent modules, a <strong>definition domain</strong> is the translation unit.</li>
<li><strong>odr-used:</strong> &quot;Odr&quot; stands for the &quot;one definition rule&quot; that variables etc. may only be defined once in each translation unit. The chapter establishes which uses fall under that category. I don't really understand that opaque language, but I'm sure function calls do.</li>
<li>The wording <strong>reachable</strong> is quite interesting: It does not say the translation unit must <em>contain</em> the definition! See the end of the answer for details.</li>
<li><strong>Discarded statements</strong> are parts of templates or const-expressions which can be, well, discarded at compile time.</li>
</ul>
<p>As we'll see, &quot;reachable&quot; gives the compiler builders some leeway. Here is an instructive session with an msys g++ 13.2 with a modified example (in particular, I didn't use the iostream lib but simply return something from the functions, including main, as the observable behavior). I show the two files, compile them to object files, and inspect them with the gnu binutil <code>nm</code>. It shows that <code>InlineFun()</code> is compiled into a normal undefined symbol at the call site and into a defined symbol at the implementation site, despite its inline declaration. Consequently, the two can be successfully linked:</p>
<pre><code>$ cat perhaps-inline.cpp
inline int InlineFun();
int main(){ return InlineFun(); /* From other TU */ }
$ cat other.cpp
inline int InlineFun() { return 3; }
int Fun() { return InlineFun(); }
$ gcc -c perhaps-inline.cpp other.cpp
perhaps-inline.cpp:1:12: warning: inline function ‘int InlineFun()’ used but never defined
    1 | inline int InlineFun();
      |            ^~~~~~~~~
$ nm -g --undefined-only perhaps-inline.o
                 U _Z9InlineFunv
                 U __main
$ nm -g --defined-only other.o
0000000000000000 T _Z3Funv
0000000000000000 T _Z9InlineFunv
$ g++ -o  perhaps-inline other.o perhaps-inline.o
$ ./perhaps-inline
$ echo $?
3
</code></pre>
<p><strong>Now I switch optimization on:</strong></p>
<pre><code>$ rm *.o perhaps-inline
$ gcc -O1 -c perhaps-inline.cpp other.cpp
perhaps-inline.cpp:1:12: warning: inline function ‘int InlineFun()’ used but never defined
    1 | inline int InlineFun();
      |            ^~~~~~~~~
$ nm -g --defined-only other.o
0000000000000000 T _Z3Funv
$ g++ -o  perhaps-inline other.o perhaps-inline.o
/usr/lib/gcc/x86_64-pc-msys/13.2.0/../../../../x86_64-pc-msys/bin/ld: perhaps-inline.o:perhaps-inline:(.text+0xa): undefined reference to `InlineFun()'
collect2: error: ld returned 1 exit status
</code></pre>
<p>Ooops. The symbol <code>InlineFun</code> is gone in other.o. Consequently, the linker cannot resolve the symbol any longer which is needed by perhaps-inline.o.</p>
<p>As we saw above, we can simply omit the &quot;inline&quot; in the function definition in other.cpp; the function symbol will be emitted and the link succeeds. We can also tell the compiler not to optimize (<code>-O0</code>). It will not inline at all and produce code for the function, including the symbol. The link will succeed:</p>
<pre><code>$ gcc -O0 -c other.cpp
$ cat other.cpp
inline int InlineFun() { return 3; }
int Fun() { return InlineFun(); }
$ gcc -O0 -c other.cpp
$ nm -g --defined-only other.o
0000000000000000 T _Z3Funv
0000000000000000 T _Z9InlineFunv
$ g++ -o perhaps-inline perhaps-inline.o other.o
$ ./perhaps-inline
$ echo $?
3
</code></pre>
<p>Or shorter, first with <code>-O0</code> which succeeds, with a warning, and then with <code>-O1</code>, which fails at the link stage:</p>
<pre><code>$ g++ -O0 -o perhaps-inline other.cpp perhaps-inline.cpp
perhaps-inline.cpp:1:12: warning: inline function ‘int InlineFun()’ used but never defined
    1 | inline int InlineFun();
      |            ^~~~~~~~~
$ g++ -O1 -o perhaps-inline other.cpp perhaps-inline.cpp
perhaps-inline.cpp:1:12: warning: inline function ‘int InlineFun()’ used but never defined
    1 | inline int InlineFun();
      |            ^~~~~~~~~
/usr/lib/gcc/x86_64-pc-msys/13.2.0/../../../../x86_64-pc-msys/bin/ld: /tmp/cc7eC9Lr.o:perhaps-inline:(.text+0xa): undefined reference to `InlineFun()'
collect2: error: ld returned 1 exit status

</code></pre>
<p>Now we'll inspect the &quot;reached&quot; wording. Let's call g++ differently! We let g++ read the files from standard input. Lo and behold, it can now &quot;reach&quot; the definition! There is no warning any longer. Effectively, this combines the source files into one translation unit.</p>
<pre><code>$ rm perhaps-inline
$ cat other.cpp perhaps-inline.cpp | g++ -Wall -O1 -xc++ -o perhaps-inline -
$ ./perhaps-inline
$ echo $?
3
</code></pre>
<p>But we can observe a similar effect with Visual Studio: The link fails for Release mode (optimization on) but succeeds if we switch on whole program optimization: If the build system looks at all source files at once, the &quot;translation unit&quot; concept becomes fuzzy and the inline function from the other file becomes available for inlining.</p>
<p>Bottom line:</p>
<ul>
<li>Such a program is ill-formed if the source files are compiled separately (and thus form separate translation units).</li>
<li>The compilers perform their duty and emit a diagnostic message in the form of a warning.</li>
<li>In the absence of an inline definition, both compilers try to be robust and fall back to producing a regular function call, potentially resolving the missing function definition at link time. This succeeds if such a function is available (because it is defined non-inline somewhere).</li>
<li>In debug mode, a compiler may still treat the function as non-inline, i.e. emit code and a symbol for the function. (This will allow the user to step into it during a debug session.) This will let the link stage succeed and mask the error (if one ignores the warning). Such a build will fail when optimization is turned on.</li>
<li>A build system is free to interpret the standard's &quot;reachable&quot; requirement leniently as &quot;maybe I can find it somewhere, give me a second&quot;, for example when whole program optimization is turned on.</li>
</ul>
","2024-01-25 14:05:08","6","Answer"
"77879900","77879590","","<blockquote>
<p>distinguish between the two files without necessarily having to open
them</p>
</blockquote>
<p>This is not possible unless you are able to enforce names of said files to indicate difference</p>
<blockquote>
<p>type3 has data separated by commas, while type4 has data separated by
spaces</p>
</blockquote>
<p>You might find <a href=""https://docs.python.org/3/library/csv.html#csv.Sniffer"" rel=""nofollow noreferrer""><code>csv.Sniffer</code></a> useful for determining that, observe that it might works by reading beginning of file rather than whole file, if you just want to know separator used in <code>file.txt</code> you might do</p>
<pre><code>import csv
with open('file.txt', newline='') as file:
    dialect = csv.Sniffer().sniff(file.read(1024))
print(dialect.delimiter)
</code></pre>
<p>however keep in mind that it is using certain heuristic so it might give wrong delimiter.</p>
","2024-01-25 12:14:56","2","Answer"
"77879771","77879590","","<p>If the files differ by having different column separators, the space delimited files do not have comas in the values and vice versa, then you do not even need python for this.</p>
<pre><code>grep  --max-count=1 ' ' file_pattern &gt; files_with_spaces.txt
grep  --max-count=1 ',' file_pattern &gt; files_with_comas.txt
</code></pre>
<p>But to check that the given file is properly formatted you may use existing python libraries checking number of columns, data types etc.
Take a look at polars i.e. You can read files one by one  using:</p>
<pre><code>coma_df = pl.read_csv(file_name, separator=&quot;,&quot;)
space_df = pl.read_csv(file_name, separator=&quot; &quot;)
</code></pre>
<p>wrapping it into try/except and checking the numbers of columns.</p>
","2024-01-25 11:57:55","-1","Answer"
"77879590","","How can I differentiate two .txt files without open & read the file?","<pre><code>def load_data(path: str, format: Literal['type0', 'type1', 'type2', 'type3', 'type4'] = 'type0') -&gt; Data:
if format not in {'type0', 'type1', 'type2', 'type3', 'type4'}:
    raise ValueError(f&quot;Incorrect format `{format}` specified for load_data()&quot;)



if format == 'type0':
    if path.lower().endswith('.pdf'):
        data = parse_type1(path)
    elif path.lower().endswith('.csv') or path.lower().endswith('.d'):
        data = parse_type2(path)
    elif path.lower().endswith('.txt'):
        data = parse_type3(path)
    elif path.lower().endswith('.txt'):
        data = parse_type4(path)
    else:
        raise Exception(&quot;Unknown file format in load_data(), consider specifying the format instead of using `type0`&quot;)
elif format == 'type1':
    data = parse_type1(path)
elif format == 'type2':
    data = parse_type2(path)
elif format == 'type3':
    data = parse_type3(path)
elif format == 'type4':
    data = parse_type4(path)
    
assert data.data.shape[0] == data.wavelength.shape[0], 'Parsing raw data by load_data() yields inconsistent shapes'
assert data.data.shape[1] == data.time.shape[0], 'Parsing raw data by load_data() yields inconsistent shapes'

return data`
</code></pre>
<p>Given the following function, as you can see, I link this main function to other sub-functions for each specific file type. I have a new file type, namely a txt file (type4), which has the same txt format as type3. I would like to be able to distinguish between the two files without necessarily having to open them. The files are similar but have differences. For example, type3 has data separated by commas, while type4 has data separated by spaces. How can I modify the function so that type4 is not confused with type3, given that they have the same txt format?</p>
","2024-01-25 11:28:23","-1","Question"
"77879199","77878377","","<p>Base R seems to be sufficiently fast (<a href=""https://stackoverflow.com/a/77558838/20002111"">related</a>).</p>
<p>Adapt the wrapper:</p>
<pre class=""lang-r prettyprint-override""><code>calc = \(row, cnms, ASFRmax = 49, perc = 0) {
  m = as.numeric(row[&quot;Mother.age&quot;])
  diff = na.omit( m - as.numeric(row[grep(&quot;child.age&quot;, cnms)]) )
  idx1 = unique(c(diff, m:ASFRmax))
  idx2 = unique(c(diff-1L, diff+1L))
  id1 = cnms %in% paste0(&quot;ASFR&quot;, idx1)
  id2 = cnms %in% paste0(&quot;ASFR&quot;, idx2) 
  row[id1] = row[id1] * 0L 
  row[id2] = row[id2] * perc
  return(row)
}
</code></pre>
<p>Haven't thought about this carefully. Chances are to remove redundancy. Then, <code>apply</code> the wrapper row-wisely (<code>MARGIN = 1L</code>):</p>
<pre class=""lang-r prettyprint-override""><code>cnms = colnames(sample2)
# sample2 = sample2[!is.na(sample2$Mother.age), ]
sample2 = as.data.frame(t(apply(sample2, 1L, calc, cnms = cnms, perc = .25)))
</code></pre>
<p>Make sure that <code>Mother.age</code> doesn't contain <code>NA</code>'s.</p>
<hr />
<p>Your data</p>
<pre class=""lang-r prettyprint-override""><code>sample = tibble::tibble( 
  iD=c(1),
  Mother.age=c(45),child.age1=c(21),child.age2=c(15),child.age3=c(8),child.age4=c(NA),child.age5=c(NA),
  ASFR15=(0.000000),ASFR16=(7.40444),ASFR17=(42.8774),ASFR18=(73.0532),ASFR19=(98.28869),
  ASFR20=(144.9568),ASFR21=(164.976),ASFR22=(180.280),ASFR23=(191.304),ASFR24=(198.4832),
  ASFR25=(202.0248),ASFR26=(202.136),ASFR27=(200.392),ASFR28=(197.684),ASFR29=(193.7632),
  ASFR30=(187.6072),ASFR31=(179.561),ASFR32=(170.509),ASFR33=(160.837),ASFR34=(150.4840),
  ASFR35=(139.3304),ASFR36=(127.796),ASFR37=(115.028),ASFR38=(100.720),ASFR39=(85.62560),
  ASFR40=(182.4384),ASFR41=(178.412),ASFR42=(171.928),ASFR43=(163.316),ASFR44=(152.9056),
  ASFR45=(141.0264),ASFR46=(128.008),ASFR47=(114.180),ASFR48=(99.8720),ASFR49=(85.41360))
</code></pre>
<p>scaled to 500,000 rows:</p>
<pre class=""lang-r prettyprint-override""><code>set.seed(01252023)
sample2 = sample[rep(seq_len(nrow(sample)), 5e5), ]
sample2$child.age1 = floor(rnorm(5e5, 13, 2)) 
sample2$child.age2 = floor(rnorm(5e5, 20, 3)) 
sample2$child.age3 = floor(rnorm(5e5, 7, .5)) 
</code></pre>
","2024-01-25 10:32:32","2","Answer"
"77878377","","How can write a function by which we can change our variables based on other variables in a data frame","<p>I have a dataset that contains information about more than 500,000 women. Below, I bring one of the cases in the dataset.</p>
<pre><code>library(tidyverse)
sample &lt;- tibble( 
  iD=c(1),
  Mother.age=c(45),child.age1=c(21),child.age2=c(15),child.age3=c(8),child.age4=c(NA),child.age5=c(NA),
  ASFR15=(0.000000),ASFR16=(7.40444),ASFR17=(42.8774),ASFR18=(73.0532),ASFR19=(98.28869),
  ASFR20=(144.9568),ASFR21=(164.976),ASFR22=(180.280),ASFR23=(191.304),ASFR24=(198.4832),
  ASFR25=(202.0248),ASFR26=(202.136),ASFR27=(200.392),ASFR28=(197.684),ASFR29=(193.7632),
  ASFR30=(187.6072),ASFR31=(179.561),ASFR32=(170.509),ASFR33=(160.837),ASFR34=(150.4840),
  ASFR35=(139.3304),ASFR36=(127.796),ASFR37=(115.028),ASFR38=(100.720),ASFR39=(85.62560),
  ASFR40=(182.4384),ASFR41=(178.412),ASFR42=(171.928),ASFR43=(163.316),ASFR44=(152.9056),
  ASFR45=(141.0264),ASFR46=(128.008),ASFR47=(114.180),ASFR48=(99.8720),ASFR49=(85.41360))
</code></pre>
<p>My task is to calculate the age difference between each child and their mother. After that, I need to set the ASFR values to zero for every age that matches the age difference. Then, I have to multiply the values before and after the zero cell by 0.25, which means only 25% of the original amount will remain in each cell before and after the zero cell.</p>
<p>To illustrate, suppose the first child is 21, and the mother is 45. In this case, the age difference would be 24. Therefore, the ASFR value for age 24 should be set to zero, while the ASFR values for ages 23 and 25 should be multiplied by 0.25.</p>
<p>Lastly, I need to set all the ASFR values above the mother's age, 45, to zero, including ages 46 to 49.</p>
","2024-01-25 08:11:00","1","Question"
"77878108","","Why having a function declared as inline without a definition results in a linker error?","<p>I know that a function declared as <code>inline</code> must have a definition in its own translation unit (As the standard says: An inline function shall be defined in every translation unit in which it is used).</p>
<p>Previously, my understanding to this requirement was that the compiler will try to inline a function declared with the <code>inline</code> keyword, and thus although inlining is not compulsory, the definition should be visible to the compiler in the first place.</p>
<p>Following this understanding, I thought not providing the definition should cause a compiler error. In reality, I've never written an <code>inline</code> function without a definition. But then I tried this error intentionally in my toy program, and it causes a linker error.</p>
<p>So, I'm just curious why doesn't C++ keep this problem as a compile-time error and let the compiler catch the error? And since, in my understanding, <code>inline</code> function has external linkage by default, how exactly does the linker catch this error behind the scenes?</p>
<hr />
<p>An example:</p>
<pre class=""lang-cpp prettyprint-override""><code>// main.cpp:

inline void InlineFun();

int main()
{
    InlineFun();
}

// other.cpp:

#include&lt;iostream&gt;
#include&lt;string&gt;

inline void InlineFun()
{
    std::cout &lt;&lt; &quot;From other TU&quot; &lt;&lt; std::endl;
}
</code></pre>
<p>I'm using Visual Studio 2022 on Windows 10 with C++20. The error I encounter are <code>LNK2001</code>  and <code>LNK1120</code>. The examples provided in the comments are also perfectly fine.</p>
<hr />
<p>A follow-up example:</p>
<pre class=""lang-cpp prettyprint-override""><code>// main.cpp:

inline void InlineFun();

int main()
{
    InlineFun();  // From other TU
}

// other.cpp:

#include&lt;iostream&gt;
#include&lt;string&gt;

inline void InlineFun()
{
    std::cout &lt;&lt; &quot;From other TU&quot; &lt;&lt; std::endl;
}

void Fun()
{
    InlineFun();
}
</code></pre>
<p>This time, using the same environment, I added a normal function <code>Fun</code> in <code>other.cpp</code> to try to force <code>InlineFun</code> to have observable effect. My program then compiled and linked successfully (with no warnings or errors reported on Visual Studio) and printed <code>From other TU</code>, seemingly disregarding the standard.</p>
","2024-01-25 07:15:36","6","Question"
"77877145","77877001","","<p>C doesn't support recursive type definitions.</p>
<p>Exception: You can use a pointer to a struct type you haven't declared, so a struct type can include a pointer to a struct of the struct type being declared.</p>
<p>Also, you can apparently use a struct type you haven't yet declared as the return value of a function. So this is close to what you want:</p>
<pre class=""lang-c prettyprint-override""><code>// This effectively gives us
// typedef struct { F *f } F( void );

typedef struct S S;

typedef S F( void );

struct S {
   F *f;
};

S foo() {
   return (S){ foo };
}

int main( void ) {
   F *f = foo;
   printf( &quot;%p\n&quot;, (void*)f );

   f = f().f;
   printf( &quot;%p\n&quot;, (void*)f );
}
</code></pre>
","2024-01-25 01:53:40","7","Answer"
"77877001","","Forward Declaration of Function Type in C","<p>I want to declare a recursive function type (a function which declares itself) in C.</p>
<p>In a language like Go I can do:</p>
<pre class=""lang-golang prettyprint-override""><code>type F func() F

func foo() F {
  return foo
}
</code></pre>
<p>If I try to do the equivalent in C:</p>
<pre><code>typedef (*F)(F());
</code></pre>
<p>I get the following error from GCC:</p>
<pre><code>main.c:1:14: error: unknown type name ‘F’
    1 | typedef (*F)(F());
</code></pre>
<p>Which makes sense because F doesn't exist at the time of its use. A forward declaration could fix this, how do you forward declare a function type in C?</p>
","2024-01-25 00:44:17","6","Question"
"77874225","77874003","","<p>An option that takes a string cannot have a default -- at least not one that is specified through the <code>syntax</code> command.</p>
<p>You can define defaults for yourself later in the program code, as in</p>
<pre><code>if &quot;`groupname'&quot; == &quot;&quot; local groupname &quot;Dataset&quot;
</code></pre>
","2024-01-24 15:22:54","0","Answer"
"77874003","","how to solve syntax invalid?","<p>I wrote a Stata function in R code. When I run my function and test it again in Stata, I keep seeing <code>syntax error</code>.</p>
<p>Please help me find the problem.</p>
<pre><code>syntax, data(str) [Data2(str) Groupname(str &quot;Dataset&quot;) Groupname2(str &quot;Dataset2&quot;) Nboot(int 100) Gridsize(int 50) Option(str &quot;1&quot;)]
***coding
*test
np, data(&quot;dataset1.dta&quot;) data2(&quot;dataset2.dta&quot;) nboot(100) gridsize(50) option(&quot;1&quot;)
invalid syntax
r(197);
</code></pre>
<p>I am trying to transfer R code to Stata code and compare their results.</p>
","2024-01-24 14:52:59","-1","Question"
"77869961","77869415","","<p><code>feature</code> contains only one value. You need an array of all features for that ad. <code>group by ad</code> and aggregate all of its features into an array with <a href=""https://www.postgresql.org/docs/current/functions-aggregate.html"" rel=""nofollow noreferrer""><code>array_agg</code></a>.</p>
<p>Then use <a href=""https://www.w3schools.com/sql/sql_having.asp"" rel=""nofollow noreferrer""><code>having</code></a> to constrain the aggregate and <a href=""https://www.postgresql.org/docs/current/functions-array.html"" rel=""nofollow noreferrer""><code>@&gt;</code></a> to check if one array contains the other.</p>
<pre><code>select
  ads.*,
  array_agg(feature) as features
from ads
join ads_features
  on ads.id = ads_features.ad
where ads.status = 'active'
group by ads.id
having array_agg(feature) @&gt; array['feature2', 'feature1']
</code></pre>
<p><a href=""https://dbfiddle.uk/MHkAn45z"" rel=""nofollow noreferrer"">Demonstration</a>.</p>
","2024-01-24 00:25:57","1","Answer"
"77869415","","Rreturn ONLY rows that match ALL values from an array parameter","<p>I have 2 tables.</p>
<p>Table1 &quot;ads&quot;:</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>description</th>
<th>status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Ad number 1</td>
<td>active</td>
</tr>
<tr>
<td>2</td>
<td>Ad number 2</td>
<td>active</td>
</tr>
</tbody>
</table>
</div>
<p>Table 2 &quot;ads_features&quot;:</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>ad</th>
<th>feature</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>feature 1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>feature 2</td>
</tr>
</tbody>
</table>
</div>
<p>I need a SQL function that will return values from 1 and add new column with values from Table 2. But should return only values if ALL items from function parameter &quot;features&quot; (type array) are found in Table 2. Here is what I have so far:</p>
<pre><code>CREATE OR REPLACE FUNCTION filter_ads(features text[] default NULL)
RETURNS table (
    id uuid,
    description text,
    status text,
    ads_features text[]
)
LANGUAGE plpgsql
AS $$
BEGIN
    RETURN QUERY
    SELECT
        ads.*,
        ARRAY(
            SELECT featuresTable.feature
            FROM ads_features featuresTable
            WHERE featuresTable.ad = ads.id
        ) AS ads_features
    FROM ads
    WHERE
        (ads.status = 'active') AND
        features IS NULL OR COALESCE(features, '{}'::text[]) = '{}'::text[] OR EXISTS(
            SELECT 1
            FROM ads_features featuresTable
            WHERE (featuresTable.ad = ads.id) AND
            (featuresTable.feature = ANY(features))
        );
END;
$$;
</code></pre>
<p>The problem is that if I pass &quot;[feature 1, feature 3]&quot; as parameter, function will still return ad with ID 1, as ANY operator is satisfied. But I want to return records when ONLY ALL array items are found in table 2. If I use ALL operator it does not work at all. I get zero records.</p>
<p><strong>Expected results:</strong></p>
<p><strong>Scenario 1:</strong></p>
<pre><code>select * from filter_ads(ARRAY(“feature 1”, “feature 2”))
</code></pre>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>id</th>
<th>description</th>
<th>status</th>
<th>ads_features</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Ad number 1</td>
<td>active</td>
<td>[feature 1, feature 2]</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Scenario 2:</strong></p>
<pre><code>select * from filter_ads(ARRAY(“feature 1”, “feature 3”))
</code></pre>
<pre><code>No records found
</code></pre>
<p>Basically this is part of a filter function where user will select among many check boxes in UI and records that match all conditions will be shown.</p>
","2024-01-23 21:39:08","-1","Question"
"77868023","77867997","","<p>Your return type is <code>Record&lt;string, string | undefined&gt;</code> since you may have an object that can have any key, but the values are always string or undefiend.</p>
<pre class=""lang-js prettyprint-override""><code>
const decodeParameters = (params: string): Record&lt;string, string| undefined&gt; =&gt; {
  return decodeURI(params)
    .split('&amp;')
    .reduce((result, current) =&gt; {
      const [key, value] = current.split('=');

      result[key] = value;

      return result;
    }, {});
};

const queryParametersObj2 = decodeParameters(
  'q=return+unknow+object+in+method+typescript+what+type&amp;rlz=1C1GCER_en&amp;oq=return+unknow+object+in+method+typescript+what+type&amp;gs_lcrp=EgZjaHJvbWUyBggAEEUYOdIBCTEyNjAwajBqN6gCALACAA&amp;sourceid=chrome&amp;ie=UTF-8'
);

//here we have type safety on the value since it is a string
if (queryParametersObj2['q'] !== undefined) {
  console.log(queryParametersObj2['q'].split('+'));
}

</code></pre>
<p><a href=""https://stackblitz.com/edit/typescript-h7puof?file=index.ts"" rel=""nofollow noreferrer"">Here is a working fork on your example</a></p>
","2024-01-23 16:57:52","1","Answer"
"77867997","","What is the best practice for returning type when the function is making object based on string?","<p>I have the follow function that is retuning an object when a string is provided. I defined as any but I wonder if exists a better type or generic type even when the object structure is unknow</p>
<p>This is the function:</p>
<pre><code>const decodeParameters = (params: string): any =&gt; {
  return decodeURI(params)
    .split('&amp;')
    .reduce((result, current) =&gt; {
      const [key, value] = current.split('=');

      result[key] = value;

      return result;
    }, {});
}

// https://stackblitz.com/edit/typescript-drs5f6?file=index.ts
const queryParametersObj1 = decodeParameters('file=index.ts');
console.log(queryParametersObj1)
</code></pre>
<p>Output:</p>
<pre><code>{file: &quot;index.ts&quot;}
</code></pre>
<p><a href=""https://stackblitz.com/edit/typescript-drs5f6?file=index.ts"" rel=""nofollow noreferrer"">Live sample.</a></p>
","2024-01-23 16:53:05","-1","Question"
"77866012","77865969","","<p><em>Assuming there is no <code>Excel Constraints</code> as per the tags posted then the following formula should work which uses a <code>LAMBDA()</code> helper function called <code>MAKEARRAY()</code></em></p>
<p><a href=""https://i.sstatic.net/Y9XRI.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Y9XRI.png"" alt=""enter image description here"" /></a></p>
<hr />
<pre><code>=LET(
     α, A1:A2,
     φ, B1:B2,
     TOCOL(MAKEARRAY(ROWS(α),MAX(φ),LAMBDA(δ,ε,
     IF(ε&lt;=INDEX(φ,δ),INDEX(α,δ)&amp;&quot; &quot;&amp;ε,p))),3))
</code></pre>
<hr />
<p>Here is another alternative method without using any <code>LAMBDA()</code> helper functions:</p>
<p><a href=""https://i.sstatic.net/Ahg2x.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Ahg2x.png"" alt=""enter image description here"" /></a></p>
<hr />
<pre><code>=LET(α, SEQUENCE(,MAX(B1:B2)), TOCOL(IF(α&gt;B1:B2,0/0,A1:A2&amp;&quot; &quot;&amp;α),3))
</code></pre>
<hr />
<p>This can also be accomplished using <code>Power Query</code>, available in <code>Windows Excel 2010+</code> and <code>Excel 365 (Windows or Mac)</code> and what I see it will be easier &amp; simpler to achieve using the said tool.</p>
<p><a href=""https://i.sstatic.net/B7EFi.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/B7EFi.png"" alt=""enter image description here"" /></a></p>
<hr />
<hr />
<p>To use Power Query follow the steps: (Read the steps annotations to follow)</p>
<ul>
<li>First convert the source ranges into a table and name it accordingly, for this example I have named it as <code>Table_ONE</code></li>
</ul>
<hr />
<ul>
<li>Next, open a blank query from <kbd>Data</kbd> Tab --&gt; <kbd>Get &amp; Transform Data</kbd> --&gt; <kbd>Get Data</kbd> --&gt; <kbd>From Other Sources</kbd> --&gt; <kbd>Blank Query</kbd></li>
</ul>
<hr />
<ul>
<li>The above lets the <kbd>Power Query</kbd> window opens, now from <kbd>Home</kbd> Tab --&gt; <kbd>Advanced Editor</kbd> --&gt; And paste the following <kbd>M-Code</kbd> by removing whatever you see, and press <kbd>Done</kbd></li>
</ul>
<hr />
<pre><code>let
    Source = Excel.CurrentWorkbook(){[Name=&quot;Table_ONE&quot;]}[Content],
    #&quot;Added Custom&quot; = Table.AddColumn(Source, &quot;Custom&quot;, each {1..[Column2]}),
    #&quot;Expanded Custom&quot; = Table.ExpandListColumn(#&quot;Added Custom&quot;, &quot;Custom&quot;),
    #&quot;Merged Columns&quot; = Table.CombineColumns(Table.TransformColumnTypes(#&quot;Expanded Custom&quot;, {{&quot;Custom&quot;, type text}}, &quot;en-US&quot;),{&quot;Column1&quot;, &quot;Custom&quot;},Combiner.CombineTextByDelimiter(&quot; &quot;, QuoteStyle.None),&quot;Output&quot;),
    #&quot;Removed Columns&quot; = Table.RemoveColumns(#&quot;Merged Columns&quot;,{&quot;Column2&quot;})
in
    #&quot;Removed Columns&quot;
</code></pre>
<hr />
<p><a href=""https://i.sstatic.net/T5nOl.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/T5nOl.png"" alt=""enter image description here"" /></a></p>
<hr />
<ul>
<li>Lastly, to import it back to <kbd>Excel</kbd> --&gt; Click on <kbd>Close &amp; Load</kbd> or <kbd>Close &amp; Load To</kbd> --&gt; The first one which clicked shall create a <kbd>New Sheet</kbd> with the required output while the latter will prompt a window asking you where to place the result.</li>
</ul>
<hr />
","2024-01-23 11:40:13","0","Answer"
"77865969","","Merge columns and generate new column based on the number in original column using EXCEL","<p>I got an issue when trying to merge columns in Excel which should be common in real life but superisingly not found on internet(May be that's just because I didn't find it). The problem is here below:</p>
<p>Assume you have a table in sheet which have two columns, column A is the name for some items such as parks like Disney, Water Park, Universal Studio etc. and column B is the number that assigned to each item representing the serial number of this item. A sample table is like:</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Column A</th>
<th>Column B</th>
</tr>
</thead>
<tbody>
<tr>
<td>Disney</td>
<td>2</td>
</tr>
<tr>
<td>Water Park</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
<p>What i intend to do is create a new column, says Column C, where Disney 1 and Disney 2 are listed. And the new table is like:</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Column C</th>
</tr>
</thead>
<tbody>
<tr>
<td>Disney 1</td>
</tr>
<tr>
<td>Disney 2</td>
</tr>
<tr>
<td>Water Park 1</td>
</tr>
<tr>
<td>Water Park 2</td>
</tr>
<tr>
<td>Water Park 3</td>
</tr>
<tr>
<td>Water Park 4</td>
</tr>
</tbody>
</table>
</div>
<p>Does anyone know how to realize this conversion using Excel function?</p>
<p>Thank you very much!</p>
","2024-01-23 11:34:27","0","Question"
"77865312","77865232","","<p>You can try to convert the text from HTML to plain text using javascript – by getting the element via querySelector, then add to the variable &quot;.innerText&quot; or &quot;.textContent&quot;:</p>
<pre><code>let theVariable = document.querySelector(&quot;#text&quot;).innerText
</code></pre>
<p>Where you can then return this with a form (with an  of type=&quot;hidden&quot;) and set the value of &quot;theVariable&quot; and retrieve that (value) in views.py.</p>
","2024-01-23 09:46:07","0","Answer"
"77865232","","plain text instead of HTML element in Django","<p>I have a model like this:</p>
<pre><code>class FirstOne(models.Model):
    title = models.CharField(max_length=250)
    pretext = models.TextField(null=True, blank=True, default=None)
    first = models.PositiveIntegerField()
    last = models.PositiveIntegerField()
</code></pre>
<p>and then another model is like this:</p>
<pre><code>class SecondOne(models.Model):
    def first_one_pretext(self):
        pk = self.firstone.pk
        a = FirstOne.objects.filter(pk=pk).get()
        return a.pretext
</code></pre>
<p>And when I do this, I always get a &quot;html element&quot; and not the plain text stored in pretext of the object. How do I get rid of this?</p>
","2024-01-23 09:34:46","0","Question"
"77864547","77864489","","<p>Using global <code>name</code> variable actually sets the <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Window/name"" rel=""nofollow noreferrer"">window.name</a> property. When you click cancel on the <code>prompt</code>, it returns <code>null</code> which is assigned to <code>name</code>. Any value assigned to <code>window.name</code> is converted into a string.</p>
<p>From <a href=""https://developer.mozilla.org/en-US/docs/Web/API/Window/name"" rel=""nofollow noreferrer"">MDN - window.name:</a></p>
<blockquote>
<p>Note: window.name converts all stored values to their string representations using the toString method.</p>
</blockquote>
<p>So the value assigned to <code>name</code> is string <code>&quot;null&quot;</code>. This is why <code>if (name)</code> check evaluates to true because string <code>&quot;null&quot;</code> is a truthy value.</p>
<p>You can verify this with the following code:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>var name = prompt('Press cancel and check console output');
console.log(typeof name);</code></pre>
</div>
</div>
</p>
<p>Inside a function, <code>name</code> is a local variable, so it works fine because <code>null</code> returned from <code>prompt</code> isn't stringified. As a result, <code>if (name)</code> check evaluates to false because value of <code>name</code> in this case is <code>null</code> and not the string <code>&quot;null&quot;</code>.</p>
<p>Following code verifies this:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function showName() {
  var name = prompt('Press cancel and check console output');
  console.log(typeof name);
}

showName();</code></pre>
</div>
</div>
</p>
","2024-01-23 07:14:42","1","Answer"
"77864489","","why else if statement is not execute without function statement in javascript?","<p>When function is used the else if part is executed but without function the else if statement is not executed why?
here is the code which converts first character of word to  Upper Case.</p>
<pre><code>function showName() {
    var name = prompt(&quot;Type your name&quot;);

    if (name) {
        var nameParts = name.split(' ');

        for (var i = 0; i &lt; nameParts.length; i++) {
            nameParts[i] = nameParts[i].charAt(0).toUpperCase() + nameParts[i].slice(1).toLowerCase();
        }

        var capitalName = nameParts.join(' ');

        alert(&quot;Hello, &quot; + capitalName);

    }
    else if (name == null){
        alert(&quot;The prompt was Canceled.&quot;);
    }
    else {
        alert(&quot;The name has not typed.&quot;)
    }
}
showName();
</code></pre>
<p>My code is working fine when function statement is used but without the function statement I'm expecting the same output when the user cancel the prompt.
Explain?</p>
","2024-01-23 07:02:47","1","Question"
"77863586","77856423","","<p>A web method is only like some sub call, and it is a 100% stand alone routine that you call.</p>
<p>The whole idea behind a web method is the browser page (on your desktop) is not posted back to the server. Since the page is not posted back, then a web method has no use of any controls on the web page.</p>
<p>So, you have to keep in mind the so called &quot;round trip&quot; or what is often called the page life cycle.</p>
<p>Remember, the web server does NOT keep in memory a copy of that web page. Since the web server can process any web page, not just YOUR web page. So, you have to think of the web server as ONE computer. Thus, unlike a desktop program, you have to think of the web page (and code) starting 100% from scratch EACH time you press a button and post-back a page.</p>
<p>If you don't post back the page, then code behind can't modify the controls, since the copy of the browser page and controls are still sitting on the user’s desktop.</p>
<p>So, the web page life cycle works and looks like this:</p>
<p><a href=""https://i.sstatic.net/XVe56.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/XVe56.png"" alt=""enter image description here"" /></a></p>
<p>YOU DO NOT have this:</p>
<p><a href=""https://i.sstatic.net/dMMus.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/dMMus.png"" alt=""enter image description here"" /></a></p>
<p>And you not even have this:</p>
<p><a href=""https://i.sstatic.net/5q4TG.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/5q4TG.png"" alt=""enter image description here"" /></a></p>
<p>So, when you click on a button, or do a post-back, then you get this:</p>
<p><a href=""https://i.sstatic.net/tfGvU.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/tfGvU.png"" alt=""enter image description here"" /></a></p>
<p>Our web page is sent up to the server. You now have this:</p>
<p><a href=""https://i.sstatic.net/UQCKi.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/UQCKi.png"" alt=""enter image description here"" /></a></p>
<p>So NOW your page is sitting on the server.</p>
<p>NOW an instance of the page class is created, and your code behind starts running.</p>
<p>Your code behind can modify controls (even controls to be visible or not), but the page is NOT interacting with the user - ONLY code can MODIFY the web page. So, one change, or MANY changes to the web page can occur, but AS YOU update things like a text box etc., the user does NOT see these changes just yet. So, you can't say run a loop to flash a text box on and off - since the changes are occurring on the server - the client-side browser does not have the web page anymore!!!</p>
<p>So, all the user sees is the browser &quot;spinner&quot; or &quot;wait&quot; icon in the upper left of the browser.</p>
<p>When all, and I mean 100% of the code behind is done running, then and ONLY then is the web page that been processed and changed is sent back to the client-side browser.</p>
<p>VERY important: The server-side class instance and code is TOSSED OUT - DOES NOT exist!!! Your server-side page class is disposed - removed from memory, and the web page code behind does NOT exist anymore. And that means ALL code variables (server side) do NOT exist anymore! They are gone! Tossed out!</p>
<p>So, page travels back to the client side, is re-displayed, JavaScript is loaded, and THEN JavaScript starts running.</p>
<p>Thus this:</p>
<p><a href=""https://i.sstatic.net/dbygg.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/dbygg.png"" alt=""enter image description here"" /></a></p>
<p>So, a web method can't change any controls, since those controls and markup is still sitting on the user's desktop.</p>
<p>So, there are several solutions. Most common is to then have your client-side JavaScript code update the control(s) in question AFTER the web method is called.</p>
<p>Say I have a simple temperature converter. And say we don't want a page post back (that slow full page life cycle).</p>
<p>So, we could drop in 2 text boxes and some markup like this:</p>
<pre><code>        &lt;h3&gt;Enter Fahrenheit&lt;/h3&gt;
        &lt;asp:TextBox ID=&quot;txtF&quot; runat=&quot;server&quot; ClientIDMode=&quot;Static&quot;&gt;&lt;/asp:TextBox&gt;
        &lt;br /&gt;
        &lt;asp:Button ID=&quot;cmdConvert&quot; runat=&quot;server&quot; Text=&quot;Convert to Celsius&quot;
            CssClass=&quot;btn&quot;                
            OnClientClick=&quot;myconvert();return false;&quot;
            /&gt;
        &lt;br /&gt;
        &lt;h3&gt;Celsius Resultt&lt;/h3&gt;
        &lt;asp:TextBox ID=&quot;txtC&quot; runat=&quot;server&quot; ClientIDMode=&quot;Static&quot;&gt;&lt;/asp:TextBox&gt;


        &lt;script&gt;

            function myconvert() {

                var myF = $('#txtF').val()

                $.ajax({
                    url: &quot;WebForm7.aspx/FtoC&quot;,
                    dataType: &quot;json&quot;,
                    type: &quot;POST&quot;,
                    contentType: &quot;application/json; charset=utf-8&quot;,
                    data: JSON.stringify({F : myF}),
                    success: function (data) {
                        $('#txtC').val(data.d);
                    },
                    failure: function (rData) {
                        alert(&quot;error &quot; + rData.d);
                    }
                });
            }

        &lt;/script&gt;
</code></pre>
<p>So, to &quot;modify&quot; the 2nd text box? I can't use code behind, since we never post the page back to the server. So, we have the web method return the value, and then use client-side JavaScript code to update the results of that web method into the 2nd textbox.</p>
<p>Hence, the server-side code is this:</p>
<pre><code>&lt;WebMethod&gt;
Public Shared Function FtoC(F As String)

    Dim Ftemp As Single
    Ftemp = Convert.ToSingle(F)

    Dim Ctemp As Single

    Ctemp = (Ftemp - 32) / 1.8

    Return Ctemp.ToString(&quot;F2&quot;)

End Function
</code></pre>
<p>And thus, the result is this:</p>
<p><a href=""https://i.sstatic.net/Xup7c.gif"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/Xup7c.gif"" alt=""enter image description here"" /></a></p>
<p>The other possible suggestion?</p>
<p>Consider using an update panel. An update panel does not do a full-page post back, and you not see a browser &quot;spinner&quot;.</p>
<p>And keep in mind that if you use an update panel, then ONLY controls inside of the update panel can be updated by code behind.</p>
<p>So, an update panel is a &quot;half way&quot; solution. Kind of between a full-page post back, and no page post back (a web method).</p>
<p>So, we could use 100% server-side code, but if you try the following test code, note how you do not see a browser &quot;spinner&quot; or wait, and the results look much the same as the first example with a web method.</p>
<p>Keep in mind that an update panel DOES do a round trip, but ONLY part of the page is sent and refreshed. (and page load will still trigger each time).</p>
<p>So, using an update panel? (you have to drop in a Script manger into the page).</p>
<p>Hence, this would work, and no JavaScript code has to be written:</p>
<p>So, drop in an update panel, and then place all the markup and code and buttons you want to become a &quot;ajax&quot; post back.</p>
<p>thus this:</p>
<pre><code>        &lt;asp:UpdatePanel ID=&quot;UpdatePanel1&quot; runat=&quot;server&quot;&gt;
            &lt;ContentTemplate&gt;

                &lt;h3&gt;Enter Fahrenheit&lt;/h3&gt;
                &lt;asp:TextBox ID=&quot;txtF&quot; runat=&quot;server&quot; ClientIDMode=&quot;Static&quot;&gt;&lt;/asp:TextBox&gt;
                &lt;br /&gt;
                &lt;br /&gt;
                &lt;asp:Button ID=&quot;cmdConvert&quot; runat=&quot;server&quot; Text=&quot;Convert to Celsius&quot;
                    CssClass=&quot;btn&quot;
                    OnClick=&quot;cmdConvert_Click&quot; /&gt;
                &lt;br /&gt;
                &lt;h3&gt;Celsius Resultt&lt;/h3&gt;
                &lt;asp:TextBox ID=&quot;txtC&quot; runat=&quot;server&quot; ClientIDMode=&quot;Static&quot;&gt;&lt;/asp:TextBox&gt;

            &lt;/ContentTemplate&gt;
        &lt;/asp:UpdatePanel&gt;
</code></pre>
<p>And now our code behind click event becomes server-side code.</p>
<pre><code>Protected Sub cmdConvert_Click(sender As Object, e As EventArgs)

    Dim Ftemp As Single
    Ftemp = Convert.ToSingle(txtF.Text)
    Dim Ctemp As Single
    Ctemp = (Ftemp - 32) / 1.8

    txtC.Text = Ctemp.ToString(&quot;F2&quot;)

End Sub
</code></pre>
<p>So, from a user point of view, they will not see that a post-back has occurred.</p>
<p>And even the current scroll position of the browser does not change.</p>
<p>So, an update panel can save a LOT of work and eliminate a lot of JavaScript and web methods if you don't want a full-page post back.</p>
<p>A update panel still sends most of Viewstate, and is a &quot;larger&quot; payload then a web method, and they are slower, but for a lot of cases, a update panel allows you to write 100% server code, and the code behind can update any control placed inside of the update panel.</p>
<p>So, a update panel tends to be &quot;less&quot; of a page post back and cycle then a full page post back. However, these so called partial page post backs are certainly larger then a web method.</p>
","2024-01-23 01:21:49","1","Answer"
"77862868","77862179","","<p>You are looking for an analytical contact.</p>
<p><em>Any</em> smooth surface defined as <code>z = z(x,y)</code> can be used in a contact, as long as the contact normal vector is given also <code>nx=nx(x,y)</code>, <code>ny=ny(x,y)</code>, and <code>nz=nz(x,y)</code>. Also, note that <code>nx*nx + ny+ny + nz*nz = 1</code> is a constraint requirement.</p>
<p>The center of the ball is going to be given by offsetting the contact point (given by <code>[x,y,z]</code>) by the ball radius <code>R</code> along the contact normal direction.</p>
<pre><code>cx = x + nx * R
cy = y + ny * R
cz = z(x,y) + nz * R
</code></pre>
<p>From here it gets much more complicated as you need to take derivatives of vectors to work out the velocity and acceleration of the center of the ball, while applying the no-slip condition.</p>
<p>The velocity of the center of the ball is</p>
<pre><code>vcx = R*(nz*ωy-ny*ωz)
vcy = R*(nx*ωz-nz*ωx)
vcz = R*(ny*ωx-nx*ωy)
</code></pre>
<p>where <code>[ωx,ωy,ωz]</code> is the rolling velocity vector of the body.</p>
<p>From there you need the acceleration of the center, and the rotational acceleration vector in order to apply the equations of motion.</p>
<p>=&gt; <strong>Rolling ball dynamics are rather complex</strong> and it is unclear if you have a clear understanding of the math behind this to be able to code a simulation like this. I am not familiar with godot, and how fine-grained you need the code to be, but if it already contains a physics engine, then all you need to do is describe the analytical surface with the function of your choice.'</p>
<p>Remember that a surface is described using <em>two</em> parameters, as in <code>z(x,y)</code> and not a single one like <code>y(x)</code> like you state in your posting.</p>
","2024-01-22 21:26:09","1","Answer"
"77862681","77862179","","<p><strong>First Step:</strong>  Simplify the physics.  I suggest starting with a <a href=""http://hyperphysics.phy-astr.gsu.edu/hbase/mincl.html#:%7E:text=For%20a%20frictionless%20incline%20of,the%20sine%20of%20the%20angle."" rel=""nofollow noreferrer"">mass on a frictionless inclined plane.</a> and limiting the function to be a straight line ( y = mx + c )</p>
<p><a href=""https://i.sstatic.net/sId76.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/sId76.png"" alt=""enter image description here"" /></a></p>
<p><strong>Second step:</strong> Do the graphics using your favorite graphics package</p>
<p><strong>Third Step:</strong>  Loosen the restrictions on the function.  You will need to use calculus to integrate over the instantaneous acceleration on the tangent of the surface.  You can reuse the graphics code you developed in step 2.</p>
<p><strong>Onward and upwards:</strong>  ( or do I mean downwards?) Improve the physics model.  Begin with adding friction and continue, perhaps all the way to the angular momentum of a rolling ball.</p>
<p><a href=""https://github.com/JamesBremner/so77862179"" rel=""nofollow noreferrer"">Here is the C++ code</a> To enhance the physics modelling, edit the code in <code>std::pair&lt;double, double&gt; cPhysics::position(double t)</code></p>
<p><a href=""https://i.sstatic.net/5EV3S.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/5EV3S.png"" alt=""enter image description here"" /></a></p>
","2024-01-22 20:49:59","0","Answer"
"77862179","","Simulation: Make a surface based on a function, on which a ball can roll (in 2D)","<p>I am looking for suggestions or ideas on a way in what program/how I can create a surface from a function (e.g. y=x^2) and have objects, like a ball, interact with it. This means that a ball could roll down into the middle of y=x^2, where the function would act as static ground.</p>
<p>My final goal is to be able to track the ball's speed.</p>
<p>Is this possible?</p>
<p>I made a simulation in Godot 4 (not the best choice for optimizing probably) where a surface was made by mapping points from a function. This was however very laggy when the I tried mapping a lot of points. It may be that I did it badly and could optimize something, but this is a very niche thing and I'm not skilled enough to make some complicated system.</p>
<p>I am looking for suggestions on where I can achieve this or tips on how to create this kind of simulation (or whether it is even realistically possible).
Thanks!</p>
","2024-01-22 19:04:17","0","Question"
"77861408","77861375","","<blockquote>
<p>What is the best way to ensure that the request type is a legal input?</p>
</blockquote>
<p>So create the enum states.</p>
<pre><code>import enum
class RequestType(enum.StrEnum):
  GET = enum.auto()
  POST = enum.auto()
  PUT = enum.auto()
  DELETE = enum.auto()
</code></pre>
<p>You could assert that the value is sane. Something along, untested.</p>
<pre><code>def request_wrapper(request_type: RequestType, ...):
     assert isinstance(request_type, RequestType)
</code></pre>
","2024-01-22 16:43:12","0","Answer"
"77861375","","How to ensure that the input of a function is within a list of options?","<p>I want to define a list of possible inputs to a function, similar to an enum. The application is for http requests, and I want to create a wrapper for requests to handle the errors. The wrapper will need a request type parameter, get, put, delete, etc. What is the best way to ensure that the request type is a legal input?</p>
<p>This is the code I've already tried. The response is</p>
<p>request type: request_type_library.request_type
Uknown request type. Defaulted to get. Valid Request types:  {&lt;request_type_library.request_type: 1&gt;: ['GET', 'PUT', 'DELETE']}</p>
<pre><code>import requests
from enum import Enum, auto

class RequestTypeLibrary(Enum):
    request_type = auto()

request_type_dictionary = {RequestTypeLibrary.request_type: [&quot;GET&quot;,&quot;PUT&quot;,&quot;DELETE&quot;]}

class RequestTypeLoader:
    def __init__(self, request_type: RequestTypeLibrary):
        self.request_type = request_type

    def load_request_type(self):
        print(f&quot;loaded request type: {request_type_dictionary[self.request_type]}&quot;)

def request_wrapper(request_type: RequestTypeLibrary,url,timeout=10):
    print(&quot;request type:&quot;, request_type)
    if request_type==&quot;GET&quot;:
        r= requests.get(url,timeout=timeout)
    elif request_type==&quot;PUT&quot;:
        r= requests.put(url,timeout=timeout)
    elif request_type==&quot;DELETE&quot;:
        r= requests.delete(url,timeout=timeout)
    else:
        r= requests.get(url,timeout=timeout)
        print(&quot;Uknown request type. Defaulted to get. Valid Request types: &quot;, request_type_dictionary)
    return r

r = request_wrapper(request_type=RequestTypeLibrary.request_type,url=url,timeout=10,)
</code></pre>
","2024-01-22 16:37:16","0","Question"
"77861304","77861052","","<p>This is what I got by setting b = 0 in the find_b():</p>
<pre class=""lang-py prettyprint-override""><code>In [1]: def find_b(a):
   ...:     b = 0
   ...:     if a == 1:
   ...:         b = 3
   ...:     else:
   ...:         b += 1
   ...:     return b
   ...: 
   ...: if __name__ == '__main__':
   ...:     a = 0
   ...:     for i in range(0, 2):
   ...:         a += 1
   ...:         b = find_b(a)
   ...:     print(b)
   ...: 
1
</code></pre>
<p>Maybe you want this? Rather than increment 'a' within your for loop, just use 'i'. But perhaps I'm not getting what you want to happen.</p>
<pre class=""lang-py prettyprint-override""><code>In [2]: def find_b(a):
   ...:     b = 0
   ...:     if a == 1:
   ...:         b = 3
   ...:     else:
   ...:         b += 1
   ...:     return b
   ...: 
   ...: if __name__ == '__main__':
   ...:     a = 0
   ...:     for i in range(0, 2):
   ...:         b = find_b(i)
   ...:     print(b)
   ...: 
3
</code></pre>
","2024-01-22 16:23:28","-1","Answer"
"77861052","","Why does my if-else statement result in an Unbound Local Error?","<p>When I was writing my code, I ran into an Unbound Local Error when the value should've been assigned within a prior &quot;if&quot; statement :</p>
<blockquote>
<p>UnboundLocalError: cannot access local variable 'b' where it is not associated with a value</p>
</blockquote>
<pre><code>def find_b(a):
    if a == 1:
        b = 3
    else:
        b += 1
    return b

if __name__ == '__main__':
    a = 0
    for i in range(0, 2):
        a += 1
        b = find_b(a)
    print(b)
</code></pre>
<p>I expected b to increment by 1, in this case. However, it caused a Local Unbound Error to occur instead. The only possible solution I saw was to use the global keyword on the variable &quot;b&quot; but since I'm unsure why the error exists, I'd like an explanation.</p>
","2024-01-22 15:42:17","0","Question"
"77860695","77859418","","<p>Gradients in JAX are defined with respect to a function’s explicit inputs. Your <code>child_func</code> does not take <code>x</code> as an explicit input, so you cannot directly differentiate <code>child_func</code> with respect to <code>x</code>. However, you could do so indirectly by calling it from another function that takes <code>x</code>. For example:</p>
<pre class=""lang-py prettyprint-override""><code>def func_to_differentiate(x, y):
  child_func = parent_func(x)
  return child_func(y)

jax.grad(func_to_differentiate, argnums=0)(1.0, 1.0)  # 2.0
</code></pre>
<p>Then if you wish, you could define standard <a href=""https://jax.readthedocs.io/en/latest/notebooks/Custom_derivative_rules_for_Python_code.html"" rel=""nofollow noreferrer"">custom derivative rules</a> for <code>func_to_differentiate</code>.</p>
","2024-01-22 14:47:16","1","Answer"
"77859602","77856241","","<p>As already said by <a href=""https://stackoverflow.com/a/77856808/7111561"">Jens Steenmetz' answer</a> those methods are invoked by the Unity engine itself via a message system. This actually happens deeper in the underlying c++ engine. The c# API level on compile time already pre-caches which of those special message methods are implemented by your component(s).</p>
<hr />
<p>I would definitely discourage from using magic methods and especially Reflection on runtime. Even at editor/compile time it has a huge disadvantage: Your users don't know.</p>
<p>The same stands for those Unity messages - just that most IDEs now have a Unity integration that is aware of those and can recognize and tell you if a method name is one of Unity's special messages or if e.g. the signature is wrong.</p>
<p>In your case you - and most importantly your users - don't have such mechanics and if your users implement a wrong signature it could throw runtime exceptions only - or you would have to cover those cases while compiling. Or e.g. someone just happens to use a method name that matches with one of your magic methods - there is nothing that will prevent that method to be called, but it is not obvious to your user why and where from.</p>
<p>=&gt; At best it is very tricky and error prone - and done wrong extremely slow!</p>
<p>Such as in <a href=""https://stackoverflow.com/a/77858041/7111561"">your approach</a> - iterating all existing components is extremely expensive - and additionally you do it every single time without caching your results anywhere. If now two clients connect you start re-checking all components over and over again.</p>
<p><strong>Do not stick to that!</strong></p>
<hr />
<p>I would say</p>
<ul>
<li>Use (a) certain interface(s)</li>
<li>Have a central &quot;manager&quot;</li>
<li>Have your implementors register themselves</li>
<li>Have the manager simply inform all registered listeners when events occur</li>
</ul>
<p>Look at how e.g. Photon does it - See Photon's <code>MonoBehaviourPunCallbacks</code></p>
<blockquote>
<pre><code>public class MonoBehaviourPunCallbacks : MonoBehaviourPun, IConnectionCallbacks , IMatchmakingCallbacks , IInRoomCallbacks, ILobbyCallbacks, IWebRpcCallback, IErrorInfoCallback
{
    public virtual void OnEnable()
    {
        PhotonNetwork.AddCallbackTarget(this);
    }

    public virtual void OnDisable()
    {
        PhotonNetwork.RemoveCallbackTarget(this);
    }
    
    ...
</code></pre>
</blockquote>
<p>and then have some central manager instance where those registered listeners are collected and informed - they basically more or less just have a type check looking for the interfaces and sort the instances into according lists.</p>
<p>This is Example is way to oversimplified here but just to give you an idea which comes pretty close to what they actually do deep internally:</p>
<pre><code>// Not the actual implementation - but actually pretty close
public static class PhotonNetwork
{
    private readonly static List&lt;ILobbyCallbacks&gt; lobbyListeners = new ();
    private readonly static List&lt;IConnectionCallbacks&gt; connectionListeners = new ();
    ....


    public static void AddCallbackTarget(object listener)
    {
        if(listener is ILobbyCallbacks lobbyListener)
        {
            lobbyListeners.Add(lobbyListener);
        }

        if(listener is IConnectionCallbacks connectionListener)
        {
            lobbyListeners.Add(connectionListener);
        }

        ...
    }

    public static void RemoveCallbackTarget(object listener)
    {
        if(listener is ILobbyCallbacks lobbyListener)
        {
            lobbyListeners.Remove(lobbyListener);
        }

        if(listener is IConnectionCallbacks connectionListener)
        {
            lobbyListeners.Remove(connectionListener);
        }

        ...
    }

    // or maybe it even handles the networking itself
    internal static void ClientConnected(SomeArgs args)
    {
        foreach(var connectionListener in connectionListeners)
        {
            try
            {
                connectionListener.OnClientConnected(args);
            }
            catch(Exception e)
            {
                Debug.LogException(s);
            }
        }
    }
}
</code></pre>
<hr />
<p>There isn't even really the need to maintain your custom lists (like photon does). <code>event</code> itself anyway already basically is a list of callbacks itself so you could as well directly subscribe and unsubscribe.</p>
<p>=&gt; Could even take this a step further and decouple it from <code>MonoBehaviour</code> by having certain event wrapper instances - not a magic message method directly but maybe close enough / even better:</p>
<pre><code>public class ClientConnectedEvent, IDisposable
{
    public ClientConnectedEvent(Action&lt;SomeArgs&gt; callback)
    {
        onClientConnected = callback;
        YourCentralManager.onClientConnected += onClientConnected;
    }

    public void Dispose()
    {
        YourCentralManager.onClientConnected -= onClientConnected;
    }

    private Action&lt;SomeArgs&gt; onClientConnected;
}
</code></pre>
<p>and the manger would simply have e.g.</p>
<pre><code>internal static class YourCentralManager
{
    internal static event Action&lt;SomeArgs&gt; onClientConnected;

    // again or maybe this class already handles the networking itself anyway
    internal static void ClientConnected(SomeArgs args)
    {
        onClientConnected?.Invoke(args);
    }
}
</code></pre>
<p>so your users could simply create one of these in any <code>MonoBehaviour</code> (or other scripts)</p>
<pre><code>public class Example : MonoBehaviour
{
    private ClientConnectedEvent clientConnectedEvent;

    private void OnEnable()
    {
        clientConnectedEvent = new ClientConnectedEvent(OnClientConnected);
    }

    private void OnClientConnected(SomeArgs args)
    {
        // ...
    }

    private void OnDestroy()
    {
        clientConnectedEvent?.Dispose();
    }
}
</code></pre>
<p>and then if you feel like it you could still additionally also provide a base class implementation like mentioned <code>MonoBehaviourPunCallbacks</code> that already implements that stuff as <code>virtual</code> for your users so they only <code>override</code> whatever they need.</p>
","2024-01-22 11:40:56","1","Answer"
"77859418","","Custom JVP and VJP for higher order functions in JAX","<p>I find custom automatic differentiation capabilities (JVP, VJP) very useful in JAX, but am having a hard time applying it to higher order functions. A minimal example of this sort is as follows: given a higher order function:</p>
<pre><code>def parent_func(x):
    def child_func(y):
        return x**2 * y
    return child_func
</code></pre>
<p>I would like to define custom gradients of <code>child_func</code> with respect to x and y. What would be the correct syntax to achieve this?</p>
","2024-01-22 11:12:44","1","Question"
"77858041","77856241","","<p>What I ended up doing was using C# Reflection (as Jens brought up (thanks)) and looking through all Monobehaviour scripts in the scene for a given function.</p>
<p>While it is a bit of a rough implementation, it does get the job done. If I were calling these methods a lot more, changing the inherited class will be the way I go for optimization, but for now this is the method I made:</p>
<pre><code>public void callGlobalMethod(String methodName, object[] perameters = null){
    //get all enabled game object in the scene
    GameObject[] allGameObjects = GameObject.FindObjectsOfType&lt;GameObject&gt;();

    foreach (GameObject gameObject in allGameObjects) {

        //get all monobehaviours on the game object
        MonoBehaviour[] scripts = gameObject.GetComponents&lt;MonoBehaviour&gt;();
        foreach(MonoBehaviour script in scripts){

            //get method info (makes it possible to call private methods)
            MethodInfo methodInfo = script.GetType().GetMethod(methodName, BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.Instance);

            //if the method exists in the Monobehaviour
            if(methodInfo != null){

                //try-catch if parameters don't match up
                try
                {
                    //run the method with optional parameters
                    methodInfo.Invoke(script, perameters);
                }
                catch (Exception e)
                {
                    Debug.LogError(&quot;Error when calling global method: &quot; + e);
                }
            }
        }
    }
}
</code></pre>
<p>I will edit this post when I inevitably optimize this sketchy chunk of code (:</p>
","2024-01-22 06:43:17","0","Answer"
"77857619","77857609","","<p>You can either return an array or a string which will contain word which are palindrome.</p>
<p>You can do this using <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split"" rel=""nofollow noreferrer""><code>split</code></a>, <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"" rel=""nofollow noreferrer""><code>filter</code></a>, <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse"" rel=""nofollow noreferrer""><code>reverse</code></a> and <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join"" rel=""nofollow noreferrer""><code>join</code></a>.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const words = ""a aa aaa aah aahed aahing aah saal aalii aaliis aals aam"";

function aListOfPalindromeWords(words) {
    const result = words.split("" "")
        .filter(word =&gt; word === word.split("""")
            .reverse()
            .join(""""));
  
    // AN ARRAY OF PALINDROME STRING
    return result;
}

console.log(aListOfPalindromeWords(words))</code></pre>
</div>
</div>
</p>
<p>If you want to return string which contains only palindrome words then you can return <code>result.join(&quot; &quot;)</code>, which will return string.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const words = ""a aa aaa aah aahed aahing aah saal aalii aaliis aals aam"";


function aListOfPalindromeWords(words) {
    const result = words.split("" "")
        .filter(word =&gt; word === word.split("""")
            .reverse()
            .join(""""));

    // A STRING WHICH CONTAIN ALL PALINDROME WORDS
    return result.join("" "");
}

console.log(aListOfPalindromeWords(words))</code></pre>
</div>
</div>
</p>
","2024-01-22 04:22:07","0","Answer"
"77857609","","Trying to create a function where you input a list of words as a arugment & the function returns only the words that are a Palindrome. How can I?","<p>I'm trying to solve this issue in javascript. I understand in javascript functions (for the most part) can only return one word. I'm trying to figure out how to return multiply words within a function. If theres another way besides a function that I can solve this i'm open to that too.</p>
<pre><code>function aListOfPalindromeWords (str){


const words = &quot;a aa aaa aah aahed aahing aah saal aalii aaliis aals aam&quot;;

const myWords = words.split(&quot; &quot;);
var reversedStr = &quot;&quot;;

for (let i = 0; i &lt; myWords.length; i++){
for (let j = myWords[i].length; i &gt;=0; i--){
reversedStr += myWords[i];

&gt;   {
if (reversedStr === myWords[i]);
&gt;     {
return myWords[i];

&gt;   }
&gt;  }
&gt;  }
&gt;  }
&gt;  }
console.log(aListOfPalindromeWords ());
</code></pre>
","2024-01-22 04:16:15","0","Question"
"77856808","77856241","","<p>Unity's Monobehaviour class does not implement methods such as <code>Awake</code>, <code>Start</code>, and <code>Update</code>, but instead searches for them and stores them whenever a new Monobehaviour class is loaded. It is not clear how Unity does this exactly, but you can learn a little bit more about it <a href=""https://blog.unity.com/engine-platform/10000-update-calls"" rel=""nofollow noreferrer"">here</a>.</p>
<p>Regarding your desired functionality, there are a few possible ways to achieve that. The most straightforward solution is probably using C# Reflection. However, you would still need some direction as to what classes you look through when looking for your 'universal' method. Unity solves this problem by only looking through Monobehaviour classes. As a consequence, the <code>Awake</code>, <code>Start</code>, and <code>Update</code> methods only work like 'universal' methods inside a class that derives the Monobehaviour class. The easiest would probably be to create your own base class for that. However, in that case, you could also simply make a <code>virtual</code> or <code>abstract</code> method that requires the user to add the keyword <code>override</code> before the method name. A little bit less elegant, but in many cases a perfectly fine solution (on the plus side, this <strong>would</strong> make the method show up in the IDE, as opposed to when you use C# Reflection).</p>
<p>I hope this answers your question.</p>
","2024-01-21 22:09:19","0","Answer"
"77856423","","Access Web Page User Control from a Public Shared Function","<p>I need to access the user controls on a web page from a <strong>shared</strong> function decorated with a WebMethod. That function is being called from jQuery AJAX. When I try I can the error &quot;Cannot refer to an instance of a class from within a shared method or shared member initializer without an explicit instance of the class&quot;.</p>
<p>Snippet of the page. The ajax method is calling the ASP.NET shared function from the page code behind. That function is trying to change the value for TextBox1 on the page.</p>
<pre><code>&lt;form id=&quot;form1&quot; runat=&quot;server&quot;&gt;
    &lt;asp:TextBox ID=&quot;TextBox1&quot; runat=&quot;server&quot;&gt;Default Value&lt;/asp:TextBox&gt;
&lt;/form&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    $(document).ready(function () {
        Handsontable.dom.addEvent(vBUTTONPOST2, 'click', function () {
            $.ajax({
                type: &quot;POST&quot;,
                url: &quot;test.aspx/TestFunctionShared&quot;,
                data: somedata,
                contentType: &quot;application/json; charset=utf-8&quot;,
                dataType: &quot;json&quot;,
                success: function (MyResponse) {
                    var vMYDATA;
                    vMYDATA = MyResponse.d
                    vMYDATA = JSON.stringify(vMYDATA);
                }
            });
        });
    });
&lt;/script&gt;
</code></pre>
<p>Snippet of the page code behind. The shared function is trying to set the value of the Page's textbox.</p>
<pre><code>Partial Class test
    Inherits System.Web.UI.Page

    &lt;System.Web.Services.WebMethod()&gt;
    Public Shared Function TestFunctionShared() As String
        TextBox1.Text = &quot;hello&quot;
    End Function
End Class
</code></pre>
","2024-01-21 19:52:14","0","Question"
"77856241","","Universal function like Start() in Unity C#","<p>I am creating a multiplayer system for unity that is aimed towards people who don't want to mess with anything with networking.</p>
<p>To simplify it, I want to create universal functions (for lack of a better name) such as Start() or Update() that can be called by another script without a reference to the parent script.</p>
<p>I can use Unity's event system, but that requires the user of the function to add a subscription to the universal function (and I don't want this).</p>
<p>Another way is to just search through every script for the function but this has a few problems like functions needing to be public, some complicated system for when scripts are added to gameobjects during runtime, and just being a bit sketchy.</p>
<p>My goal is to be able to put a function like &quot;ClientDisconnected()&quot; in any script, and it be called without any extra lines or references.</p>
","2024-01-21 19:00:49","0","Question"
"77855872","77855417","","<p>Watch your program execute: the error occurs when Reeborg reaches the top of the world and the world border, which is a wall, messes up with you logic. You are trying to do too many things in a complex set of if/while conditions.</p>
<p>Break your code into more separate functions, each function containing either a single if/else set of instructions, or a single while loop.</p>
<p>Try then to string together the following general step:</p>
<ol>
<li>Walk to the bottom of a hurdle.</li>
<li>Turn to face &quot;up&quot;.</li>
<li>Jump over a single hurdle until you reach the bottom facing down.</li>
<li>turn towards the next and move towards it.</li>
</ol>
<p>Repeat steps 1 to 4 until you reach the goal.</p>
","2024-01-21 17:20:54","0","Answer"
"77855828","77855443","","<h2><code>CountIf</code> Sorted</h2>
<p>In <code>L2</code>:</p>
<pre><code>=LET(data,G2:G2000,
    u,UNIQUE(TOCOL(data,1)),
    c,COUNTIF(data,u),
SORT(HSTACK(u,c),2,-1))
</code></pre>
<p><a href=""https://i.sstatic.net/iSIaV.jpg"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/iSIaV.jpg"" alt=""enter image description here"" /></a></p>
","2024-01-21 17:10:04","1","Answer"
"77855756","77855443","","<p>If you are using Google Sheets, you can use the <a href=""https://support.google.com/docs/answer/3093343?hl=en"" rel=""nofollow noreferrer""><code>QUERY</code></a> function:</p>
<pre class=""lang-cpp prettyprint-override""><code>=QUERY(G2:G,&quot;select Col1, count(Col1)
             where Col1 is not null
             group by Col1
             order by count(Col1) desc
             label Col1 'State List', count(Col1) 'Count'&quot;)
</code></pre>
<p><a href=""https://i.sstatic.net/QEFxT.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/QEFxT.png"" alt=""enter image description here"" /></a></p>
","2024-01-21 16:53:34","1","Answer"
"77855725","77855443","","<p>There are many ways to work on this, but in terms of readability maybe use <code>GROUPBY()</code>:</p>
<p><a href=""https://i.sstatic.net/OFFqg.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/OFFqg.png"" alt=""enter image description here"" /></a></p>
<hr />
<pre><code>=GROUPBY(Table1,Table1,COUNTA,0,0,-2)
</code></pre>
<hr />
<p>Or,</p>
<pre><code>=LET(x, Table1, y, UNIQUE(x), SORT(HSTACK(y,COUNTIFS(x,y)),2,-1))
</code></pre>
<hr />
<p><strong>Note:</strong> <code>GROUPBY()</code> or <code>PIVOTBY()</code> functions are presently available in <code>MS365</code> Beta Versions. Also ensure to convert the range into a <code>Structured References</code> aka <code>Tables</code> that helps in automatically adjust thus minimizing the need to update the ranges manually in the formulas, as well as ensures to save time, with less risk of errors.</p>
<p>One more thing, which i have realized from the screenshots you have posted in the OP, it seems like you are using <code>Google Sheets</code> which I have commented above, the above formulas may need some changes. Shown below.</p>
<hr />
<p>• In <code>Google-Sheets</code></p>
<p><a href=""https://i.sstatic.net/z1AGS.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/z1AGS.png"" alt=""enter image description here"" /></a></p>
<hr />
<pre><code>=LET(x, TOCOL(G2:G,1), y, UNIQUE(x), SORT(HSTACK(y,COUNTIFS(x,y)),2,FALSE))
</code></pre>
<hr />
","2024-01-21 16:43:35","1","Answer"
"77855687","77855443","","<p>Try something like this:</p>
<pre><code>=LET(a,A1:A9,U, UNIQUE(a),S,SORTBY(U,MAP(U, LAMBDA(x, COUNTIF(a,x))),-1), HSTACK(S,SORT(MAP(U, LAMBDA(x, COUNTIF(a,x))),,-1)))
</code></pre>
<p>Replace <code>A1:A9</code> with your range.</p>
<p>You'll need Microsoft Office 365 for this to work.</p>
<p><a href=""https://i.sstatic.net/gv56L.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/gv56L.png"" alt=""Excel"" /></a></p>
","2024-01-21 16:31:31","0","Answer"
"77855443","","Sort a COUNTIF function based on a list from the UNIQUE function in Excel","<p>I have a list of events which includes the US state in which they occurred. I used the <code>UNIQUE()</code> function.</p>
<p>[<img src=""https://i.sstatic.net/ZugXC.png"" alt=""enter image description here"" /></p>
<p>to create a summary table, and the COUNTIF function to count occurrences.</p>
<p><img src=""https://i.sstatic.net/ZAlo7.png"" alt=""enter image description here"" /></p>
<p>I would like a formula to sort by the largest number of occurrences (i.e. MN would be second in the list in the image, followed by NE, and so on...)</p>
<p>This list of events is being added to daily, so I would like to find a formula to automatically sort the summary list rather than using a filter. I have tried <code>=SORT(UNIQUE)</code>, (and admittedly I do not entirely understand all the uses of the SORT function) but I am looking to sort by count, not alphabetically.</p>
","2024-01-21 15:26:13","1","Question"
"77855417","","Why reeborg does not working well in Python","<p>I am new to Python and I was trying to train on reeborg website and it went fine، but on hurdle 4 I tried everything I know but The bot still does not working well</p>
<p>This is my code:</p>
<pre class=""lang-py prettyprint-override""><code>def turn_right():
    turn_left()
    turn_left()
    turn_left()


while not at_goal():
    if front_is_clear():
        while front_is_clear():
            if not wall_on_right():
                turn_right()
                move()
                turn_right()

            move()

        if wall_on_right():
            turn_left()

    else:
        if not wall_on_right():
            turn_right()
            move()
            turn_right()

        if wall_on_right():
            turn_left()

        while wall_on_right():
            move()
</code></pre>
<p>Can someone help me?</p>
","2024-01-21 15:17:34","0","Question"
"77854468","77835379","","<p>Create an Object for arguments with a default empty value (<code>{param1, param2, ..., paramx} = {}</code>, aka <a href=""https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"" rel=""nofollow noreferrer"">destructuring assigment</a>).</p>
<p>That way you'll always have named variables. It's a bit more typing calling the function, but it offers better (named) parameter handling,
flexibility (e.g. you can add parameters without breaking/necessarily having to refactor existing calls to the function), the user just has to supply the arguments needed and doesn't need to provide them in a fixed order.</p>
<p>Looks like:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function Time({year,month,day,hour,minutes,options = `dst:0`} = {}) {
  console.log(`your input: ${year ? `year: ${year}` : ``}${
    month ? `, month: ${month}` : ``}${
    day ? `, day: ${day}` : ``}${
    hour ? `, hour: ${hour}` : ``}${
    minutes ? `, minutes: ${minutes}` : ``} (options: ${options})`);
}

Time();
Time({year: 2024, hour: 12, options: `dst:1`});
Time(`this is not available`);
Time({year: 2024, month: 0, day: 21, hour: 12, minutes: 30,});

const now = new Date();
const params = {
  year: now.getFullYear(),
  month: now.getMonth(),
  day: now.getDate(),
  hour: now.getHours(),
  minutes: now.getMinutes(),
  options: `dst:1`
};
Time(params);</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper {
    max-height: 100% !important;
}</code></pre>
</div>
</div>
</p>
","2024-01-21 10:45:01","0","Answer"
"77853949","77835379","","<p>How about a custom arguments parsing approach, covered by a utility/helper function, where one in addition, at a more detailed scale, would decide whether an arguments signature is valid and whether to sanitize some values or throw an error ...</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function isObjectObject(value) {
  return (/^\[object\s+Object\]$/).test(
    Object.prototype.toString.call(value)
  );
}

function parseArgumentsSignature(args) {
  const params = [];
  let options;
  let error;

  args
    .slice(0, 6)

    // every allows an early exit while using a callback function.
    .every((value, idx) =&gt; {
      let proceed = true;

      if (isObjectObject(value)) {

        options = value;
        proceed = false;

      } else if (value == null) {

        params[idx] = undefined;
      } else {
        value = parseInt(value, 10);
        if (Number.isFinite(value)) {

          params[idx] = value;
        } else {
          error = new TypeError('Invalid arguments signature.');

          proceed = false;
        }
      }
      return proceed;
    });

  return (error &amp;&amp; {
    error,
  } || {
    params, 
    ...(options &amp;&amp; { options } || {}),
  });
}

function Time(...args/* year, month, day, hour, minutes, options */) {
  const parsed = parseArgumentsSignature(args);

  if (Object.hasOwn(parsed, 'error')) {
    throw parsed.error;
  }
  const {
    params: [
      year = 0, month = 0, day = 0, hour = 0, minutes = 0,
    ],
    options = null,
  } =
    parsed;

  console.log({
    year, month, day, hour, minutes, options, params: parsed.params,
  });
}

console.log(
  ""Time(...[2024, 06,,, null, null, { fr: 'fr', es: 'es' }]);""
);
Time(...[2024, 06,,, null, null, { fr: 'fr', es: 'es' }]);

console.log(
  ""Time(...[2024, 06,,,, { fr: 'fr', es: 'es' }]);""
);
Time(...[2024, 06,,,, { fr: 'fr', es: 'es' }]);

console.log(
  ""Time(2024, { fr: 'fr', es: 'es' });""
);
Time(2024, { fr: 'fr', es: 'es' });

console.log(
  ""Time(2024, 06);""
);
Time(2024, 06);

console.log(
  ""Time(2024, 'foo bar');""
);
Time(2024, 'foo bar');</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
</div>
</div>
</p>
<p>The easiest way of cause is a change of the function's variadic arguments signature towards a <strong>single object-based configuration-like parameter</strong>.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function Time({
  year = 0, month = 0, day = 0, hour = 0, minutes = 0, options = {},
}) {
  console.log({
    year, month, day, hour, minutes, options
  });
}

console.log(
  ""Time({ year: 2024, month: 6, options: { fr: 'fr', es: 'es' } });""
);
Time({ year: 2024, month: 6, options: { fr: 'fr', es: 'es' } });

console.log(
  ""Time({ year: 2024, options: { fr: 'fr', es: 'es' } });""
);
Time({ year: 2024, options: { fr: 'fr', es: 'es' } });

console.log(
  ""Time({ year: 2024, month: 6 });""
);
Time({ year: 2024, month: 6 });</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.as-console-wrapper { min-height: 100%!important; top: 0; }</code></pre>
</div>
</div>
</p>
","2024-01-21 07:41:46","0","Answer"
"77852687","77852665","","<p><code>MessageBoxA()</code> blocks the calling thread, just like <code>Sleep()</code> does. So, in order for its own dialog window to work correctly, it runs its own message loop internally, receiving and dispatching UI messages. That is why your main UI stays responsive even though the calling thread is blocked.</p>
<p>There is no <code>Sleep</code>-like API function that runs a message loop.  You would have to implement that yourself. For instance, by calling <a href=""https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-msgwaitformultipleobjects"" rel=""nofollow noreferrer""><code>MsgWaitForMultipleObjects()</code></a> in a loop for the duration of your intended sleep interval.  If it detects a pending UI message, use <a href=""https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-peekmessagea"" rel=""nofollow noreferrer""><code>PeekMessage()</code></a> to retrieve the message and <a href=""https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-dispatchmessage"" rel=""nofollow noreferrer""><code>DispatchMessage()</code></a> to let the UI process it, and then go back to waiting for the remaining time left in your sleep interval.</p>
<p>For example:</p>
<pre class=""lang-cpp prettyprint-override""><code>void SleepButHandleMessages(DWORD sleepMs)
{
    while ((sleepMs != 0) &amp;&amp;
           (MsgWaitForMultipleObjects(0, NULL, FALSE, sleepMs, QS_ALLINPUT) == WAIT_OBJECT_0))
    {
        DWORD startTime = GetTickCount();
        MSG msg;
        while (PeekMessage(&amp;msg, NULL, 0, 0, PM_REMOVE))
        {
            TranslateMessage(&amp;msg);
            DispatchMessage(&amp;msg);
        }
        if (sleepMs != INFINITE)
            sleepMs -= (GetTickCount() - startTime);
    }
}
</code></pre>
<p>However, a better solution is to simply not block your UI thread to begin with.  Instead, move any lengthy operations to a separate worker thread that notifies your UI thread of status updates as needed.</p>
","2024-01-20 20:49:09","5","Answer"
"77852665","","Is there a Windows API function like Sleep() that works like MessageBoxA()?","<p>When I use <code>MessageBoxA()</code> in a function, it pauses the function but the main program still runs. When I try with <code>Sleep()</code>, it pauses the whole program, not just the function it is in. Why does this happen?</p>
<p>Is there a Windows API function that works like <code>Sleep()</code> but works like <code>MessageBoxA()</code>, pausing only the function it is in, and not the whole program without showing dialog box?</p>
<p>I tried to use <code>Sleep()</code>, but would like to find another function that works like <code>MessageBoxA()</code>. I also tried <code>WaitMessage()</code> but it doesn't work as well.</p>
","2024-01-20 20:42:06","-3","Question"
"77851557","77851239","","<p>As for your question, you need only those customers who bought both bread and milk but not eggs. I simply filters for the customers who bought both and then again do filtration to remove those who also bought eggs.</p>
<pre><code>SELECT c.customer_id, c.customer_name
FROM customers c
JOIN orders o ON c.customer_id = o.customer_id
WHERE o.product_name IN ('Eggs', 'Milk')
GROUP BY c.customer_id
HAVING COUNT(DISTINCT o.product_name) = 2
   AND COUNT(CASE WHEN o.product_name = 'Bread' THEN 1 END) = 0;
</code></pre>
","2024-01-20 15:18:28","-1","Answer"
"77851239","","SQL Sum() function with a condition","<p>How does this work in SQL <code>sum(o.product_name='Bread') &gt; 0</code>,
e.g if the orders table (o) has product_name column such that the entry is Bread then will the condition
<code>o.product_name='Bread'</code>  return 1 to the sum function and then the sum function will add all these ones ?</p>
<p>The Question is : There are 2 tables customers, orders. Find the customers who bought bread and milk but not eggs</p>
<pre class=""lang-sql prettyprint-override""><code>Select  c.customer_id , c.customer_name
        FROM customers as c 
        left join
           orders as o
           on c.customer_id = o.customer_id
        group by c.customer_id , c.customer_name
        having 
        sum(o.product_name='Bread') &gt; 0 
        and sum(o.product_name='Milk') &gt; 0
        and sum(o.product_name='Eggs') = 0
        order by c.customer_name
</code></pre>
","2024-01-20 13:41:24","-5","Question"
"77851121","77851046","","<h2>1. pass the function, not the result</h2>
<p><code>input1.addEventListener(&quot;change&quot;, updateValue(input1));</code> means that each time <code>input1 element value changes, you call the function that was returned by </code>updateValue(input1)`. If that is a function. Which it is not.</p>
<p>That is just the same code as</p>
<pre><code>let x=updateValue(input1);
input1.addEventListener(&quot;change&quot;, x);
</code></pre>
<p>So it doesn't call <code>updateValue</code> each times you change input1. It calls <code>x</code> each times you change input1. Which (probably. I haven't really read the function, I just surmise from its name, and from what people usually do) makes no sense.</p>
<p>What you want is to have updateValue called</p>
<pre class=""lang-py prettyprint-override""><code>input1.addEventListener(&quot;change&quot;, updateValue);
</code></pre>
<p>Each time you change input1, <code>updateValue</code> is called, with the event as an argument.</p>
<p>And if you need to pass an argument to <code>updateValue</code>, other than the event, then you must first build a function that does that</p>
<pre class=""lang-py prettyprint-override""><code>input1.addEventListener(&quot;change&quot;, function(evt){updateValue(input1);});
</code></pre>
<p>This nameless function takes the event as argument, but don't use it, and instead, call updateValue with input1 as argument.</p>
<p>In such case, if we don't use the event, we can also use a parameter-less function</p>
<pre><code>input1.addEventListener(&quot;change&quot;, function(){updateValue(input1);});
</code></pre>
<p>And with more modern notation (<code>=&gt;</code> notation), we can shorten that a bit</p>
<pre><code>input1.addEventListener(&quot;change&quot;, ()=&gt;{updateValue(input1);});
</code></pre>
<p>And even, because that function is a single call,</p>
<pre><code>input1.addEventListener(&quot;change&quot;, ()=&gt;updateValue(input1));
</code></pre>
<p>But I am not a big fan of that last version: it creates the very confusion that caused your error in the first place.</p>
<h2>2. You don't really need to pass input1</h2>
<p>In reality, if you give a function (without wrapping it in another function), as I first did, it will be call with the event as an argument.
And that even contains <code>input1</code>, it is its <code>target</code> field.</p>
<p>So</p>
<pre><code>input1.addEventListener('change', updateValue);

function updateValue(event){
    // do something with event.target (instead of field)
}
</code></pre>
<p>Would do the same.</p>
","2024-01-20 13:01:22","0","Answer"
"77851046","","Javascript Newbie: use element in function","<p>The script below doesn't work and I need some help to find the reason.
Because the function works as expected if I use it directly with the variable &quot;input1&quot; instead of &quot;field&quot;, I think line 2 is the problem. I think using updateValue(input1) doesn't work, but I don't get any error report in the browser console.</p>
<p>Coloring a text input red or green, if the inserted code is found or not by API call</p>
<pre class=""lang-js prettyprint-override""><code>const input1 = document.getElementById(&quot;voucher1&quot;);
input1.addEventListener(&quot;change&quot;, updateValue(input1));

function updateValue(field) {
  var InputOrgColor = field.style.backgroundColor;
  const apiUrl = 'https://hook.eu1.make.com/wr3p7mnuqokj9...wns2n?voucher-id=' + field.value;
  if (field.value === ``) {
    field.style.backgroundColor = InputOrgColor;
    document.getElementById(&quot;submit&quot;).style.visibility = `visible`;
  } else
    fetch(apiUrl)
    .then(response =&gt; {
      if (response.status === 200) {
        field.style.backgroundColor = `#99ffcc`;
        document.getElementById(&quot;submit&quot;).style.visibility = `visible`;
      } else if (response.status === 201) {
        field.style.backgroundColor = `#ffcccb`;
        document.getElementById(&quot;submit&quot;).style.visibility = `hidden`;
        alert(&quot;Der Gutscheincode wurde nicht gefunden. Bitte überprüfe Deine Eingabe.&quot;);
      } else if (response.status === 202) {
        field.style.backgroundColor = `#ffcccb`;
        document.getElementById(&quot;submit&quot;).style.visibility = `hidden`;
        alert(&quot;Der Gutscheincode wurde zwar gefunden, aber der Gutschein ist entweder unbezahlt oder bereits abgesprungen.&quot;);
      }

    })
};
</code></pre>

","2024-01-20 12:38:25","1","Question"
"77849811","77838307","","<ul>
<li>The problem of the code is how to assign value to <code>specificNames</code>. Both below code lines work well.</li>
</ul>
<pre class=""lang-vb prettyprint-override""><code>specificNames = Range(&quot;rng_Target&quot;).Value
' OR
specificNames = Array(&quot;Sheet1&quot;, &quot;Sheet2&quot;)
</code></pre>
<pre><code>Option Explicit

Sub AdjustTableSize()
    Dim ws As Worksheet
    Dim specificNames As Variant
    ' Set the specific sheet names
    'specificNames = Array(&quot;Sheet1&quot;, &quot;Sheet3&quot;) ' Add your specific sheet names here
    specificNames = Range(&quot;rng_Target&quot;).Value
    ' Loop through each worksheet
    For Each ws In ThisWorkbook.Worksheets
        ' Check if the worksheet name is in the specificNames array
        If IsInArray(ws.name, specificNames) Then
            Debug.Print &quot;Found &quot; &amp; ws.name
        Else
            Debug.Print &quot;Not found &quot; &amp; ws.name
        End If
    Next ws
End Sub
' Function to check if a value is in an array
Function IsInArray(ByVal valueToFind As Variant, ByVal arr As Variant) As Boolean
    Dim element As Variant
    For Each element In arr
        If element = valueToFind Then
            IsInArray = True
            Exit Function
        End If
    Next element
    IsInArray = False
End Function
</code></pre>
<hr />
<p>Let's talk about following code lines:</p>
<pre class=""lang-vb prettyprint-override""><code>myArray = Range(&quot;rng_Target&quot;).Value
specificNames = Array(myArray)  ' w/o inner ()
</code></pre>
<ul>
<li>Assumes <code>rng_Target</code> is a named range A1:A2</li>
<li>The contents of cells: A1 / Sheet1, A2 / Sheet2</li>
<li>The value of <code>myArray</code> is as below</li>
</ul>
<pre class=""lang-vb prettyprint-override""><code> myArray(1)(1) : &quot;Sheet1&quot;
 myArray(2)(1) : &quot;Sheet2&quot;
</code></pre>
<ul>
<li><code>specificNames</code> will be a nested array. The value of <code>specificNames</code> is as below.</li>
</ul>
<pre class=""lang-vb prettyprint-override""><code> specificNames(0)(1,1) : &quot;Sheet1&quot;
 specificNames(0)(2,1) : &quot;Sheet2&quot;
</code></pre>
<ul>
<li>In <code>IsInArray()</code>, argument <code>arr</code> (a nested array) is same as <code>specificNames</code>. <code>element</code> in <code>For</code> loop will be an array. It is no way to compare an array with a string. That is the reason of type mismatch error.</li>
</ul>
<pre class=""lang-vb prettyprint-override""><code>    For Each element In arr
        If element = valueToFind Then
</code></pre>
<ul>
<li>Add a nested <code>For</code> loop to make it work. The purpose of the snippet is just for you to understand the nested array.</li>
</ul>
<pre class=""lang-vb prettyprint-override""><code>' Remember to modify [specificNames = Array(myArray)] in Sub AdjustTableSize() before testing

Function IsInArray(valueToFind As Variant, arr As Variant) As Boolean
    Dim element As Variant, ele As Variant
    For Each element In arr
        For Each ele In element
            If ele = valueToFind Then
                IsInArray = True
                Exit Function
            End If
        Next
    Next element
    IsInArray = False
End Function
</code></pre>
","2024-01-20 04:17:03","0","Answer"
"77848065","77847920","","<p>From what I understand, you need kind of this feature (assuming that you need dropdown as mentioned users will choose)</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;body&gt;
  &lt;div class=""locations"" data-location-container&gt;
    &lt;div class=""mainPlace"" id=""userLocation""&gt;
      &lt;div class=""city""&gt;City&lt;span&gt;,&lt;/span&gt;&lt;/div&gt;
      &lt;div class=""country""&gt;Co&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;select id=""locationDropdown"" onchange=""handleLocation(this)""&gt;
    &lt;option value="""" selected disabled&gt;Select a City&lt;/option&gt;
    &lt;option value=""City1,Country1""&gt;City1&lt;/option&gt;
    &lt;option value=""City2,Country2""&gt;City2&lt;/option&gt;
    &lt;!-- Add more options as needed --&gt;
  &lt;/select&gt;

  &lt;template id=""location-template"" data-location&gt;
    &lt;div class=""mainPlace-template""&gt;
      &lt;div class=""city"" data-city&gt;&lt;/div&gt;&lt;span&gt;,&lt;/span&gt;
      &lt;div class=""country"" data-country&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/template&gt;

  &lt;script&gt;
    function handleLocation(selectedDropdown) {
      const locationContainer = document.querySelector('[data-location-container]');
      const locationTemplate = document.getElementById('location-template');
      const clonedTemplate = locationTemplate.content.cloneNode(true);

      const selectedOption = selectedDropdown.options[selectedDropdown.selectedIndex];
      if (!selectedOption || !selectedOption.value) {
        return; // No valid selection
      }

      const [city, country] = selectedOption.value.split(',');

      setValue(""city"", city, { parent: clonedTemplate });
      setValue(""country"", country, { parent: clonedTemplate });

      // Clear previous content of userLocation and append the cloned template
      locationContainer.innerHTML = '';
      locationContainer.append(...clonedTemplate.childNodes);

      // Reset the dropdown to the default state
      selectedDropdown.selectedIndex = 0;
    }

    function setValue(key, value, options) {
      const element = options.parent.querySelector(`[data-${key}]`);
      if (element) {
        element.innerText = value;
      }
    }
  &lt;/script&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
</p>
","2024-01-19 18:15:34","1","Answer"
"77848010","77847920","","<p>There is a canonical way of doing this, which is to use a common class, and on click, hide all elements of that class and then show the selected one.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>var hide = (elem) =&gt; {
  elem.style.display = ""none"";
}

var hideNShow = (e) =&gt; {
  var cities = document.querySelectorAll("".city"");
  cities.forEach(hide);
  document.getElementById(""City_"" + e.target.value).style.display = ""block"";
}

document.querySelectorAll(""input[type=button]"").forEach((elem) =&gt; elem.addEventListener(""click"", hideNShow));</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;input type=""button"" value=""A"" /&gt;
&lt;input type=""button"" value=""B"" /&gt;
&lt;input type=""button"" value=""C"" /&gt;
&lt;input type=""button"" value=""D"" /&gt;

&lt;div id=""City_A"" class=""city""&gt;City A&lt;/div&gt;
&lt;div id=""City_B"" class=""city""&gt;City B&lt;/div&gt;
&lt;div id=""City_C"" class=""city""&gt;City C&lt;/div&gt;
&lt;div id=""City_D"" class=""city""&gt;City D&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-01-19 18:05:59","1","Answer"
"77847920","","How to update a div value with js?","<p>i need some help,</p>
<p>i need that only the selected template is displayed on the screen, and all others are removed, so the expected result should be that those values:
<code>&lt;div class=&quot;city&quot;&gt;City&lt;span&gt;,&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;country&quot;&gt;Co&lt;/div&gt;</code>
would be replaced from the selected template values.</p>
<p>In short, what I need to do is for the user to choose a city from all those shown and when they click on the desired city, js obtains the values ​​and shows them on the screen, removing all the other options.</p>
<p><a href=""https://i.sstatic.net/Ks1mk.png"" rel=""nofollow noreferrer"">enter image description here</a>
<a href=""https://i.sstatic.net/i5GCR.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const userLocationContainer = document.querySelector(""[data-location-container]"")
const locationTemplate = document.getElementById(""location-template"");

function setValue(selector, value, { parent = document } = {}) {
    parent.querySelector(`[data-${selector}]`).textContent = value
}


userLocationContainer.addEventListener('click', handleLocation);

function handleLocation(location) {
    const clonedTemplate = locationTemplate.content.cloneNode(true);
    setValue(""city"", location.city, { parent: clonedTemplate });
    setValue(""country"", location.country, { parent: clonedTemplate });

    // Clear previous content of userLocation and append the cloned template
    
    userLocationContainer.innerHTML = '';
    selectedLocation.append(...clonedTemplate.childNodes);
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;/div&gt;
      &lt;div class=""locations"" data-location-container&gt;
        &lt;div class=""mainPlace"" id=""userLocation""&gt;
          &lt;div class=""city""&gt;City&lt;span&gt;,&lt;/span&gt;&lt;/div&gt;
          &lt;div class=""country""&gt;Co&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/header&gt;

  &lt;template id=""location-template"" data-location&gt;
    &lt;div class=""mainPlace-template""&gt;
      &lt;div class=""city"" data-city&gt;&lt;/div&gt;&lt;span&gt;,&lt;/span&gt;
      &lt;div class=""country"" data-country&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/template&gt;</code></pre>
</div>
</div>
</p>
<p>Any help will be greatly appreciated.</p>
","2024-01-19 17:44:50","-2","Question"
"77847019","77845538","","<p>You can try to use the event bubbling mechanism <a href=""https://javascript.info/bubbling-and-capturing"" rel=""nofollow noreferrer"">https://javascript.info/bubbling-and-capturing</a></p>
<ol>
<li>Put the event to a top level container</li>
<li>Find the button when the event have triggered</li>
<li>Get an toggling element's id</li>
<li>Switch visibility</li>
</ol>
<pre><code>// https://jsfiddle.net/shiningfinger/b5uxcwpo/4/

const getControlElement = (element) =&gt; {
    if (
        element.tagName === &quot;A&quot; ||
        element.tagName === &quot;BUTTON&quot; ||
        (element.tagName === &quot;INPUT&quot; &amp;&amp;
            (element.type === &quot;submit&quot; || element.type === &quot;button&quot;))
    ) {
        return element;
    }

    const { parentElement } = element;
    if (!parentElement) return false;
    return getControlElement(parentElement);
};

document.addEventListener(&quot;click&quot;, (event) =&gt; {
    const controlElement = getControlElement(event.target);
    // put element id to data-toggling-element-id attribute
    const { togglingElementId } = controlElement.dataset;
    const togglingElement = document.getElementById(togglingElementId);

    if (!togglingElement) return;

    togglingElement.style.visibility =
        togglingElement.style.visibility !== &quot;hidden&quot; ? &quot;hidden&quot; : &quot;visible&quot;;
});

</code></pre>
","2024-01-19 15:04:07","0","Answer"
"77846168","77844220","","<p>Here's a small example of how to plot a function with frame-varied parameters using Pillow, upscaling it 2x using nearest-neighbor interpolation so you can really see the pixels.</p>
<p>It saves the resulting animation as an animated GIF.</p>
<pre><code>import numpy as np
from PIL import Image, ImageDraw


def func(phase):
    &quot;&quot;&quot;
    Compute the x and y coordinates for the function points.

    Return two arrays, one for each dimension.
    &quot;&quot;&quot;
    amp = 0.5
    f = 20

    t = np.linspace(0, np.pi / 2, 1000) + phase
    x = np.sin(t)
    y = amp * np.cos(2 * np.pi * f * t)
    return (x, y)


def rescale(arr, in_min, in_max, out_min, out_max):
    &quot;&quot;&quot;
    Rescale the values in arr from [in_min, in_max] to [out_min, out_max].
    &quot;&quot;&quot;
    return (arr - in_min) * (out_max - out_min) / (in_max - in_min) + out_min


def main():
    images = []
    num_frames = 150
    for frame in range(num_frames):
        img = Image.new(&quot;RGB&quot;, (400, 200), (0, 0, 0))
        draw = ImageDraw.Draw(img)
        phase = frame / num_frames * 2 * np.pi
        xs, ys = func(phase)

        # convert xs/ys into pixel coordinates as [(x, y)] tuples
        coords = list(
            zip(
                rescale(xs, 0, 1, 0, img.width),
                rescale(ys, -1, 1, 0, img.height),
            )
        )

        draw.line(coords, fill=(255, 255, 255), width=1)

        img = img.resize((img.width * 2, img.height * 2), resample=Image.NEAREST)
        images.append(img)
    images[0].save(
        &quot;so77844220.gif&quot;,
        save_all=True,
        append_images=images[1:],
        loop=0,
        duration=50,
    )


if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
<p>For this code, the animation result (sans the upscaling to save SO's bandwidth) is:</p>
<p><a href=""https://i.sstatic.net/QukcZ.gif"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/QukcZ.gif"" alt=""enter image description here"" /></a></p>
","2024-01-19 12:45:02","2","Answer"
"77846114","77841035","","<p>This is how I got it working: First, I tried to get the call to Access VBA running from Excel.</p>
<p><strong>Excel VBA Code:</strong></p>
<pre><code>Public Sub openAccess()

Dim acc As Access.Application
Set acc = New Access.Application
    With acc
        .Application.Visible = True
        .OpenCurrentDatabase &quot;C:\Temp\test.accdb&quot;
         With .Application
            .Eval (&quot;doNothing()&quot;)
         End With
        .Quit
    End With
Set acc = Nothing

End Sub
</code></pre>
<p>Then I could find a solution for Python as well.</p>
<p><strong>Python Code:</strong></p>
<pre><code>import win32api,time
from win32com.client import Dispatch
from datetime import date, datetime
  
destinationName = &quot;C:\Temp\test.accdb&quot;
    
#now get the db object and open the  db
objAccess = Dispatch(&quot;Access.Application&quot;)
objAccess.Visible = True       
objAccess.OpenCurrentDatabase(destinationName)
    
    
#calling a function does work
objAccess.Application.Eval('doNothing()')
    
objAccess.Application.Quit() 
</code></pre>
<p>Now, if we need to use function parameters, note that in this call Eval() does take parameters as string only, e.g. for a date parameter:</p>
<pre><code>strDay = date.today().strftime(&quot;%m/%d/%Y&quot;)
objAccess.Application.Eval('doNothing(&quot;' + strDay + '&quot;)') 
</code></pre>
<p>Hence, afterwards the <strong>Access VBA</strong> code needs to translate the input date string back into a date again:</p>
<pre><code>Public Function doNothing(inputDate As String)
    MsgBox CDate(inputDate) - 10
End Function
</code></pre>
","2024-01-19 12:35:53","0","Answer"
"77845953","77845558","","<p>This error occurs when you're using the same storage account for the 2 or more Function Apps. Make sure you use separate storage account for separate Function apps. When the same storage account is shared between 2 or more functions they all write to the same storage account blob and leases.</p>
<p>Refer my <a href=""https://stackoverflow.com/questions/76960287/azure-functions-deployment-slots-best-practice-another-app-likely-has-the-leas/77006205#77006205""><strong>SO answer1</strong></a> and <a href=""https://stackoverflow.com/questions/77681945/azure-functions-host-was-shutdown-when-an-error-occurs/77689692#""><strong>SO answer2</strong></a> for the same error.</p>
<p>Also, Try creating a separate storage account and mention the File Share location manually with the settings below:-</p>
<pre><code>WEBSITE_CONTENTSHARE:siliconfuxxxx3
</code></pre>
<p><img src=""https://i.imgur.com/OTht1tS.png"" alt=""enter image description here"" /></p>
","2024-01-19 12:08:52","0","Answer"
"77845558","","A collision for Host ID 'functionsv4placeholdertemplatesi' was detected in the configured storage account","<p>We are getting an error message in our function app:</p>
<blockquote>
<p>A collision for Host ID 'functionsv4placeholdertemplatesi' was detected in the configured storage account.</p>
</blockquote>
<p>This error seem to be disappearing on random sometimes, and other times it just reappears. We haven't been able to find out the root cause. We can see that the file that is mentioned in single quotes in the error message exists in the connected storage space. Removing it doesn't resolve the problem either as it gets re-created with the same problem.</p>
<p>Deleting every resource connected to the function and the function itself, sometimes solves the problem but the error message reappears again after a couple of weeks, even though the resource is up and running with no apparent problems at first.</p>
<p>This error doesn't seem to be affecting the overall functionality as far as we can se, so the service works as intended.</p>
<p>The solution from Microsoft is to either change the <code>Function Site Name</code> to a minimum of <code>32 characters</code> or to set a configuration setting for each function name with the setting <code>AzureFunctionsWebHost__hostid</code> <strong>(V2+)</strong> or <code>id</code> <strong>(V1)</strong>.</p>
<p>We have tried both solution rekommendations but still with no positive results.</p>
<p>Anyone encountered this problem before?</p>
","2024-01-19 10:59:24","1","Question"
"77845538","","How to write a function that will handle multiple onclick events which toggle the visibility of a field","<p>Ive not been coding long and I am new to javascript. Im making a simple web page that will show and hide part of a sentence for the purposes of learning foreign language. Is there a way to write one function that when a button is clicked it shows and hides the field.</p>
<p>If I use document.getElementsByClassName() and iterate through each button and get an array of buttons, I don't understand how I feed that array of buttons into one function tat performs the showing and hiding similar to this function below. (I know the below is using getElementById) but im trying to do the same thing but with document.getElementsByClassName().</p>
<pre><code>const a = document.getElementById(&quot;button1&quot;).addEventListener( &quot;click&quot; , function(){
  if(document.getElementById(&quot;para1&quot;).style.visibility === &quot;hidden&quot;){
    document.getElementById(&quot;para1&quot;).style.visibility = &quot;visible&quot;;
  }else{
    document.getElementById(&quot;para1&quot;).style.visibility =&quot;hidden&quot;;
  }
</code></pre>
<p>Ive looked at the questions already on here but they seem very advanced for what i'm trying to do. I know this is simple stuff but any help would be appreciated.</p>
<p>Ive tried the above as explained but I just can't seem to find an example of how to connect one function to multiple buttons.</p>
","2024-01-19 10:56:21","0","Question"
"77844297","77841913","","<p>Creating that index will fail with the error message</p>
<pre class=""lang-none prettyprint-override""><code>ERROR:  functions in index expression must be marked IMMUTABLE
</code></pre>
<p>An index must rely on function results being immutable, that is, the function has to return the same result for the same arguments regardless of the contents of the database, the current time or the configuration of the database. You would have to declare the function <code>IMMUTABLE</code> to promise to PostgreSQL that your function will obey that:</p>
<pre><code>ALTER FUNCTION add_test_prefix(varchar) IMMUTABLE;
</code></pre>
<p>If you redefine the function, you are breaking that promise, and the index will be corrupted. The only way to recover from the corruption is to rebuild the index:</p>
<pre><code>REINDEX INDEX idx_test_prefix;
</code></pre>
","2024-01-19 07:14:22","1","Answer"
"77844220","","Plotting of the sinosuidal functions according to the pixel in Python","<p>I want to plot two sinusoidal functions. The generation of the plotting should be done according to the pixel size, like pixel by pixel. Any help regarding how to do this? The code I used to generate the waveform[ image attached in below]is below:</p>
<pre><code>%matplotlib notebook
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.animation import FuncAnimation
from IPython.display import HTML

amp = 0.5         # 1V        (Amplitude)
f = 20

frame_rate = 100
t = np.linspace(0, np.pi/2, 1000)
x = np.sin(t)
y = amp * (np.cos(2 * np.pi * f * t) + np.pi / 2)

# pixel size in inches (width,height)
dpi = 64
fig, ax = plt.subplots(figsize=(4, 4), dpi=dpi)
line, = ax.step(x, y)

plt.show()

def animate(frame, x, y, line):
    line.set_data(x[:frame], y[:frame])
    y_new = 0.5 * (np.cos(2 * np.pi * 20 * t[:frame]/2) + np.pi / 2)
    line.set_ydata(y_new)
    return line,

interval = 1000 / frame_rate

ani = FuncAnimation(fig, animate, frames=1000, interval=interval, fargs=[x, y, line])

HTML(ani.to_jshtml())

</code></pre>
<p>I thought to use the OpenCV library for this purpose. Is there any other easier option?  Any help with codes, explanations and providing resources would be highly appreciated.</p>
<p><a href=""https://i.sstatic.net/sld9F.png"" rel=""nofollow noreferrer"">enter image description here</a></p>
","2024-01-19 06:55:39","-1","Question"
"77844087","77844069","","<p>What happens if <code>x</code> or <code>y</code> are <code>0</code>? Then none of your conditions are met, and no value is returned from <code>Kata.Quadrant</code>.</p>
<p>If you want to avoid this, ensure you either use <code>else</code> or have an unconditional return at the end of your method.</p>
","2024-01-19 06:18:42","2","Answer"
"77844069","","Codewars says ""not all code paths return a value"" while solving C# problem - I wonder why?","<p>I was trying to solve a problem in Codewars <code>8 kyu</code> and when I'm done writing a solution it says:</p>
<blockquote>
<p>not all code paths return a value</p>
</blockquote>
<p>This is my code</p>
<pre class=""lang-cs prettyprint-override""><code>using System;

public static class Kata
{
  public static int Quadrant(int x, int y)
  {
    if(x &gt; 0 &amp;&amp; y &gt; 0) return 1;
    else if(x &lt; 0 &amp;&amp; y &gt; 0) return 2;
    else if(x &lt; 0 &amp;&amp; y &lt; 0) return 3;
    else if(x &gt; 0 &amp;&amp; y &lt; 0) return 4;
    //else return 0; // works very fine with this condition 
  }
}

/*  
    [TestCase(1, 2, 1)] return 1
    [TestCase(3, 5, 1)] return 1
    [TestCase(-10, 100, 2)] return 2
    [TestCase(-1, -9, 3)] return 3
    [TestCase(19, -56, 4)] return 4
    [TestCase(1, 1, 1)] return 1
    [TestCase(-60, -12, 3)] return 3
*/
</code></pre>
<p>Can someone help me to understand why it's not working?</p>
<p>I tried to google why it's not working and I read that the function has to return something but the compiler found a way to reach the end of the function without returning anything.</p>
","2024-01-19 06:15:35","-3","Question"
"77842797","77836753","","<p>I solve your question adding a function to calculate the volume and using the variables inside the object.</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;

string length;
string width;
string height;
string volume;
string color;

class Cube
{
public:
    float length;
    float width;
    float height;
    float volume;
    string color;
    void display()
    {
        cout &lt;&lt; &quot;The length is: &quot; &lt;&lt; length &lt;&lt; endl;
        cout &lt;&lt; &quot;The width is: &quot; &lt;&lt; width &lt;&lt; endl;
        cout &lt;&lt; &quot;The height is: &quot; &lt;&lt; height &lt;&lt; endl;
        cout &lt;&lt; &quot;The color is: &quot; &lt;&lt; color &lt;&lt; endl;
        cout &lt;&lt; &quot;The volume is: &quot; &lt;&lt; volume &lt;&lt; endl;
    }
    void calculateVolume()
    {
        volume = length * width * height;
    }
};

int main()
{
    int flag = 0;
    cout &lt;&lt; &quot;Enter the cube length: &quot;;
    cin &gt;&gt; length;
    for (int i = 0; i &lt; length.size(); i++)
    {
        if (!isdigit(length[i]))
        {
            flag = 1;
            break;
        }
    }
    if (flag == 1)
        cout &lt;&lt; &quot;Enter a valid number.&quot; &lt;&lt; endl;

    cout &lt;&lt; &quot;Enter the cube width: &quot;;
    cin &gt;&gt; width;
    for (int i = 0; i &lt; width.size(); i++)
    {
        if (!isdigit(width[i]))
        {
            flag = 1;
            break;
        }
    }
    if (flag == 1)
        cout &lt;&lt; &quot;Enter a valid number.&quot; &lt;&lt; endl;

    cout &lt;&lt; &quot;Enter the cube height: &quot;;
    cin &gt;&gt; height;
    for (int i = 0; i &lt; height.size(); i++)
    {
        if (!isdigit(height[i]))
        {
            flag = 1;
            break;
        }
    }
    if (flag == 1)
        cout &lt;&lt; &quot;Enter a valid number.&quot; &lt;&lt; endl;

    cout &lt;&lt; &quot;Enter the cube color: &quot;;
    cin &gt;&gt; color;
    for (int i = 0; i &lt; color.size(); i++)
    {
        if (flag == 1)
            cout &lt;&lt; &quot;Enter a valid color.&quot; &lt;&lt; endl;

        if (!isdigit(color[i]))
        {
            flag = 1;
            break;
        }
    }

    Cube access;
    access.length = stof(length);
    access.width = stof(width);
    access.height = stof(height);
    access.color = color;
    access.calculateVolume();
    access.display();
}

</code></pre>
","2024-01-18 22:38:45","0","Answer"
"77842427","77841913","","<p>As answered in the comments: It needs to be reindexed manually by calling</p>
<p>REINDEX INDEX index_name</p>
","2024-01-18 21:10:17","0","Answer"
"77842080","77841922","","<p>Figured it out in case anyone is curious:</p>
<pre><code>fn_ttest &lt;- function(xvar) {
  df %&gt;%
    t_test(as.formula(paste(xvar, &quot;~ group&quot;)))
}

fn_ttest(&quot;value1&quot;)

# A tibble: 1 × 8
  .y.    group1 group2    n1    n2 statistic    df     p
* &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 value1 A      B          5     5     -1.30  6.25 0.239
</code></pre>
","2024-01-18 19:51:49","0","Answer"
"77842073","77841482","","<p>While there are some great answer here and I particularly like <a href=""https://stackoverflow.com/a/77841630/218663"">the answer by @hai-vu</a>. Building off of it, I want to try to address what I think might be the core of your query, that is</p>
<blockquote>
<p>Should I pass a result of calling <code>c(a)</code> or the method <code>c</code> when
calling <code>d()</code></p>
</blockquote>
<p>There is nothing really wrong with either approach (passing the method or the result of calling the method to <code>d()</code> other than if you know the result of calling <code>c()</code> already then passing <code>c()</code> to recalculate it is extra work. Being able to pass a method can be very useful though so let's take a closer look at that. If you do pass the method and want to avoid duplicate work, then perhaps <code>d()</code> could return a tuple</p>
<pre class=""lang-py prettyprint-override""><code>def get_d(a, b, fn_get_c):
    c = fn_get_c(a)
    d = a + b + c
    return d, c
</code></pre>
<p>Here is what I might start with</p>
<pre class=""lang-py prettyprint-override""><code>def get_c(a):      
    c = 0.1 * a**3 - 0.6 * a**2 
    return c

def get_d(a, b, fn_get_c):
    c = fn_get_c(a)
    d = a + b + c
    return d, c

lista= [5, 3.2, 'Error', 44, 'Error', 35]
listb= [70, 70, 20, 410, 'Error', 4.9]
for i, (a, b) in enumerate(zip(lista, listb)):
    print(f&quot;Case: {i}&quot;)

    if &quot;Error&quot; in [a, b]:
        print(f&quot;\tOne of the values ({a}, {b}) is not a number&quot;)
    else:
        d, c = get_d(a, b, get_c)
        print(f&quot;\tInitial values: ({a}, {b})&quot;)
        print(f&quot;\tFinal values: ({c}, {d})&quot;)

    print(&quot;-----&quot;)
</code></pre>
","2024-01-18 19:50:15","1","Answer"
"77841922","","How do you pass the ""formula"" part of t_test (from Rstatix package) as a variable in a function?","<p>I want to pass the x part of the formula argument (x ~ group) in t_test from rstatix as an argument in a separate function but I'm not sure how to format it in the function.</p>
<p>fn_ttest &lt;- function(xvar){df %&gt;% t_test(formula = xvar ~ group)} does not work and results in the error</p>
<p>Error in <code>mutate()</code>:
ℹ In argument: <code>data = map(.data$data, .f, ...)</code>.
Caused by error in <code>map()</code>:
ℹ In index: 1.
Caused by error in <code>pull()</code>:
! Can't extract columns that don't exist.
✖ Column <code>xvar</code> doesn't exist.</p>
<p>I have also tried:</p>
<p>fn_ttest &lt;- function(xvar){df %&gt;% t_test(formula = .data[[xvar]] ~ group)} which also failed</p>
<p>Sample code:</p>
<pre><code>#dataframe
df &lt;- structure(list(value1 = c(70.0502431525383, 6.59235520497896, 
35.5787350714672, 89.0830702865496, 34.226488200482, 97.126860859571, 
69.1922366039362, 66.3699716343544, 63.877799334703, 47.1427964086179
), value2 = c(67.1878850904759, 48.5704832370393, 57.1540375142358, 
82.6103714043275, 9.8732534640003, 32.9344540028833, 42.5109451573808, 
10.0939717837609, 27.2708899874706, 40.5160438478924), value3 = c(12.4542641534936, 
69.3614622459281, 45.7214235924184, 24.4649752171244, 39.3114057178609, 
27.4378268334549, 47.8188741239719, 28.7748933506664, 46.6750050538685, 
57.547116745729), group = c(&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;B&quot;, 
&quot;B&quot;, &quot;B&quot;, &quot;B&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, -10L
))



#works 
df %&gt;% 
  t_test(value1 ~ group)

# A tibble: 1 × 8
  .y.    group1 group2    n1    n2 statistic    df     p
* &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;int&gt; &lt;int&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 value1 A      B          5     5     0.884  7.99 0.402


#doesnt work
fn_ttest &lt;- function(xvar){df %&gt;% 
    t_test(xvar ~ group)
}

fn_ttest(value1)

Error in `pull()`:
! Can't extract columns that don't exist.
✖ Column `xvar` doesn't exist.
Run `rlang::last_trace()` to see where the error occurred.

</code></pre>
","2024-01-18 19:18:40","0","Question"
"77841913","","postgres function based index update on function change","<p>Will an index be automatically be updated if I change a function that is used in it. e.g.</p>
<pre><code>CREATE OR REPLACE FUNCTION add_test_prefix(input_text VARCHAR)
RETURNS VARCHAR AS
$$
BEGIN
    RETURN 'test_' || input_text;
END;
$$
LANGUAGE plpgsql;
</code></pre>
<p>then create an index with it:</p>
<pre><code>CREATE INDEX idx_test_prefix ON users ((add_test_prefix(username)));
</code></pre>
<p>Now use the index:</p>
<pre><code>SELECT * FROM users
WHERE add_test_prefix(username) = 'test_jon%';
</code></pre>
<p>Will I immediately be able to query for 'newprefix_jon%' if I change the function to</p>
<pre><code>BEGIN
    RETURN 'newprefix_' || input_text;
END;
</code></pre>
<p>or do I have to recreate or somehow trigger an index update for all rows?</p>
","2024-01-18 19:15:40","1","Question"
"77841630","77841482","","<p>By using nested functions, you make your calculation more complicated than necessary. Also, function <code>d</code> is hidden inside function <code>c</code>, so it is not available to your code.</p>
<p>Here is how I would approach this problem:</p>
<pre class=""lang-py prettyprint-override""><code>lista = [5, 3.2, &quot;Error&quot;, 44, &quot;Error&quot;, 35]
listb = [70, 70, 20, 410, &quot;Error&quot;, 4.9]
for i, (a, b) in enumerate(zip(lista, listb)):
    if a == &quot;Error&quot; or b == &quot;Error&quot;:
        print(f&quot; Case {i}&quot;)
        print(&quot; One of the values is not a number&quot;)
        print(&quot;-----&quot;)
    else:
        print(f&quot; Case {i} &quot;)
        print(f&quot; Initial values {a} {b}&quot;)
        c = 0.1 * a**3 - 0.6 * a**2
        d = a + b + c
        print(f&quot; Final values {c} {d}&quot;)
        print(&quot;-----&quot;)
</code></pre>
<p>Note that I used <code>zip</code>, which returns values <code>a</code> and <code>b</code> without the need for such look up as <code>lista[i]</code>. I also use <code>enumerate</code> to provide the case number, <code>i</code>.</p>
","2024-01-18 18:21:41","2","Answer"
"77841603","77841482","","<p>I would look at the scope of the variables being used. Maybe define your functions before the for loop, and make sure to define 'c' prior to 'd'.</p>
<pre><code>#initialize vars
lista= [5,3.2, 'Error', 44, 'Error', 35]
listb= [70, 70, 20, 410,'Error', 4.9]

#functions
def c(a):
  c=0.1*a**3 -0.6*a**2 
  return float(c)
  
def d(a, b, c):       
  return a+b+c(a)

#loop
for i in range(6):
    a= lista[i]
    b= listb[i]
    if a == 'Error' or b == 'Error':
        print(f&quot; Case {i}&quot;)
        print(&quot; One of the values is not a number&quot;)
        print(&quot;-----&quot;)
    else:
        print(f&quot; Case {i} &quot;)
        print(f&quot; Initial values {a} {b}&quot;)
        print(f&quot; Final values {c(a)} {d(a,b,c)}&quot;)
        print(&quot;-----&quot;)
</code></pre>
","2024-01-18 18:14:08","0","Answer"
"77841521","77841482","","<p>Your current code is not correct Python code due to the function <code>d()</code> being defined within the function <code>c()</code> and it is therefore not visible outside of <code>c()</code>. By fixing the indentation of function <code>d()</code>, I get</p>
<pre class=""lang-py prettyprint-override""><code>lista= [5,3.2, 'Error', 44, 'Error', 35]
listb= [70, 70, 20, 410,'Error', 4.9]
for i in range(6):
    a= lista[i]
    b= listb[i]
    if a == 'Error' or b == 'Error':
        print(f&quot; Case {i}&quot;)
        print(&quot; One of the values is not a number&quot;)
        print(&quot;-----&quot;)
    else:
        def c(a):      
            c=0.1*a**3 -0.6*a**2 
            return c
        def d(a,b,c):       
            return a+b+c(a)
        print(f&quot; Case {i} &quot;)
        print(f&quot; Initial values {a} {b}&quot;)
        print(f&quot; Final values {c(a)} {d(a,b,c)}&quot;)
        print(&quot;-----&quot;)
</code></pre>
<p>This code works and also produces your desired output:</p>
<pre class=""lang-none prettyprint-override""><code>Case 0 
 Initial values 5 70
 Final values -2.5 72.5
-----
 Case 1 
 Initial values 3.2 70
 Final values -2.8672 70.3328
-----
 Case 2
 One of the values is not a number
-----
 Case 3 
 Initial values 44 410
 Final values 7356.799999999999 7810.799999999999
-----
 Case 4
 One of the values is not a number
-----
 Case 5 
 Initial values 35 4.9
 Final values 3552.5 3592.4
-----
</code></pre>
<p>I would generally avoid defining functions withing loops and move <code>c()</code> and <code>d()</code> outside of the loop:</p>
<pre class=""lang-py prettyprint-override""><code>def c(a):      
    c=0.1*a**3 -0.6*a**2 
    return c
def d(a,b,c):       
    return a+b+c(a)

lista= [5,3.2, 'Error', 44, 'Error', 35]
listb= [70, 70, 20, 410,'Error', 4.9]

for i in range(6):
    a= lista[i]
    b= listb[i]
    if a == 'Error' or b == 'Error':
        print(f&quot; Case {i}&quot;)
        print(&quot; One of the values is not a number&quot;)
        print(&quot;-----&quot;)
    else:
        print(f&quot; Case {i} &quot;)
        print(f&quot; Initial values {a} {b}&quot;)
        print(f&quot; Final values {c(a)} {d(a,b,c)}&quot;)
        print(&quot;-----&quot;)
</code></pre>
<p>Also try to avoid function names like c and d especially when you also use c as a variable. You save a little bit of typing and loose a lot of readability and are also prone to errors when mixing up functions and variables. Single letter variables and functions should almost always be avoided, except when they stand for established natural constants (c = speed of light, and even then it is debatable) or established variable names for coordinates like x, y, z.</p>
","2024-01-18 18:01:16","2","Answer"
"77841482","","How can i solve a problem by using the outcome of a function as a variable in the following?","<p>I have come up with this code:</p>
<pre><code>lista= [5,3.2, 'Error', 44, 'Error', 35]
listb= [70, 70, 20, 410,'Error', 4.9]
for i in range(6):
    a= lista[i]
    b= listb[i]
    if a == 'Error' or b == 'Error':
        print(f&quot; Case {i}&quot;)
        print(&quot; One of the values is not a number&quot;)
        print(&quot;-----&quot;)
    else:
        def c(a):      
            c=0.1*a**3 -0.6*a**2 
            return c
            def d(a,b,c):       
                return a+b+c(a)
        print(f&quot; Case {i} &quot;)
        print(f&quot; Initial values {a} {b}&quot;)
        print(f&quot; Final values {c(a)} {d(a,b,c)}&quot;)
        print(&quot;-----&quot;)``
</code></pre>
<p>The problem is the second function, which doesn't work. If i erase everything with d and function number two, it's exactly the same as the desired output.
The error i get is: supported operand type(s) for +: 'int' and 'function'
Can somebody please help me?
The desired output:</p>
<p>Case 0
Initial values 5 70
Final values -2.5 72.5</p>
<p>Case 1
Initial values 3.2 70
Final values -2.8672 70.3328</p>
<p>Case 2
One of the values is not a number</p>
<p>Case 3
Initial values 44 410
Final values 7356.799999999999 7810.799999999999</p>
<p>Case 4
One of the values is not a number
Case 5
Initial values 35.0 4.9
Final values 3552.5 3592.4</p>
<p>The number of active lines can't be more than 20.</p>
","2024-01-18 17:53:23","1","Question"
"77841035","","How to run a MS Access sub/function with parameters from Python?","<p>I can run MS Access macros (which then run a MS Access VBA function) with Python as discussed <a href=""https://stackoverflow.com/questions/9177984/how-to-run-a-ms-access-macro-from-python"">here</a>. However, Access macros seem not to be able to use parameters.</p>
<p>Is there any possibility to run a Access VBA sub or function directly from Python and pass parameters to it? I tried <code>application.run</code>.</p>
<p><strong>VBA Code:</strong></p>
<pre class=""lang-vb prettyprint-override""><code>Public Function doNothing()
    MsgBox &quot;Test&quot;
End Function
</code></pre>
<p><strong>Access Macro3:</strong>
Runs exactly this Function</p>
<p><strong>Python</strong>:</p>
<pre><code>import win32api
from win32com.client import Dispatch

objAccess = Dispatch(&quot;Access.Application&quot;)
objAccess.Visible = True
objAccess.OpenCurrentDatabase(destinationName)

#Working with macro: (but no parameters possible)
objAccess.DoCmd.RunMacro('Macro3') 

#Not working: direct function call
#objAccess.Run('doNothing')

#Also not working:
#objDB = objAccess.CurrentDb()
#objDB.Run('doNothing')

objAccess.Application.Quit() 
</code></pre>
","2024-01-18 16:42:13","0","Question"
"77840776","77833380","","<p>You could find the closest year (which might be more valuable than the exam number)  as follows:</p>
<pre><code>outcome_col = &quot;heart_attack_year&quot;
exam_cols = paste0(&quot;exam_&quot;,1:4, &quot;_year&quot;)

f &lt;- \(d) d[-1][which.min(abs(d[1]-d[-1]))]

dt[, cl_exam:=f(as.integer(.SD)),patient_ID, .SDcols = c(outcome_col, exam_cols)]
</code></pre>
<p>Output:</p>
<pre><code>   patient_ID heart_attack_year exam_1_year exam_2_year exam_3_year exam_4_year cl_exam
1:          A              2010        2005        2010        2015        2020    2010
2:          B              2011        2001        2006        2012        2017    2012
3:          C              2016        2002        2010        2011        2017    2017
4:          D              2011        2002        2007        2012        2014    2012
</code></pre>
","2024-01-18 15:59:22","1","Answer"
"77839968","77839537","","<p>This formula requires TEXTSPLIT function</p>
<pre><code>=IF(COUNTA(TRIM(TEXTSPLIT(A1,&quot;,&quot;)))=3,TRIM(TEXTSPLIT(A1,&quot;,&quot;)),TEXTSPLIT(INDEX(TRIM(TEXTSPLIT(A1,&quot;,&quot;)),1,1)&amp;&quot;|&quot;&amp;INDEX(TRIM(TEXTSPLIT(A1,&quot;,&quot;)),1,2)&amp;&quot;, &quot;&amp;INDEX(TRIM(TEXTSPLIT(A1,&quot;,&quot;)),1,3)&amp;&quot;|&quot;&amp;INDEX(TRIM(TEXTSPLIT(A1,&quot;,&quot;)),1,4),&quot;|&quot;))
</code></pre>
<p><a href=""https://i.sstatic.net/t6t7H.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/t6t7H.png"" alt=""enter image description here"" /></a></p>
","2024-01-18 14:01:10","0","Answer"
"77839537","","How to fix this in excel","<p>Hello I have these details in a single cell - 123 road,
1333, road 2, 234-  should be divided into three fixed columns (address 1,address 2 and post code)</p>
<p>I need address 1 (123 road) and ( 1333, road2) in address 2 and post code (2)</p>
<p>And there are some data like this 537 road 1, road 2, 27412
Which is gonna split perfectly into (address 1,address 2 and post code) when we do a text column.</p>
<p>But when I run it I need 1333, Cedar Bluff together in address 2 ( but when I do text to column it shows only 1333 and cedar bluff in the post code since it’s been divided by a (,)
But when i run the second one everything is fixed perfectly
How to deal this with this if there are 100 records</p>
","2024-01-18 12:49:55","0","Question"
"77838973","77836740","","<p>Hope this will help,
if(string1== string2)
That will compare the addresses of the char arrays and these will always be different. Use
if( strcmp( string1, string2 ) == 0 )
instead. strcmp() will compare the contents of two NUL terminated char arrays (&quot;strings&quot; in C).
Commented the wrong code.</p>
<p>Code:</p>
<pre><code>float calculateTotalCost(float*itemCosts, int itemCount);
int main() {
    int itemCount = 0;
    float itemCosts[50];
    char itemName[50];
    char choice[10];
    printf(&quot;Welcome to Grocery Shop\n&quot;);
    do {
        printf(&quot;Enter item name: &quot;);
        scanf(&quot;%s&quot;, itemName);
        printf(&quot;Enter cost for %s: RM&quot;, itemName);
        scanf(&quot;%f&quot;, &amp;itemCosts[itemCount]);
        itemCount++;
        printf(&quot;Do you want to add another item?(yes/no): &quot;);
        scanf(&quot;%s&quot;, choice);
    } while (strcmp( choice, &quot;yes&quot; ) == 0 );
    float totalCost = calculateTotalCost(itemCosts, itemCount);
    printf(&quot;\nTotal cost: RM%.2f\n&quot;, totalCost);
    return 0;
}
float calculateTotalCost(float*itemCosts, int itemCount)
{
    float totalCost = 0;
    int i;
    //int itemCounts[50];
    for (int i = 0; i &lt; itemCount; i++)
    {
            totalCost += itemCosts[i];
    }
    //  for (i = 0; i &lt; itemCount; i++)
    // {
    //     totalCost += itemCounts[i];
    // }

    return totalCost;
}
</code></pre>
","2024-01-18 11:16:33","1","Answer"
"77838374","77838307","","<p><code>myArray</code> is a two-dimensional array as you read it from a range.</p>
<p>Then you put <code>myArray</code> as first element into an one-dimensional array --&gt; <code>specificNames = Array(myArray())</code></p>
<p>When you read from this array the first element is the two-dimensional <code>myArray</code> which can't be compared to a string value.</p>
<p>Pass <code>myArray</code> to <code>isInArray</code> and change the function like this:</p>
<pre class=""lang-vb prettyprint-override""><code>Function isInArray(valueToFind As Variant, arr As Variant) As Boolean
    Dim i As Long
    
    For i = LBound(arr, 1) To UBound(arr, 1)
        If arr(i, 1) = valueToFind Then
            isInArray = True
            Exit Function
        End If
    Next
    isInArray = False
End Function
</code></pre>
<p>Like this the <code>For</code>-loop checks a two-dimensional array.</p>
","2024-01-18 09:43:41","1","Answer"
"77838307","","Type mismatch error while passing function result to sub","<p>I have this procedure and function, where within the function I check if the sheet name is matching the initial array of names (indicated as data typed in by the user in excel section 'rng_Target').</p>
<p>The error occurs at this line of the function :</p>
<pre><code>If element = valueToFind Then
</code></pre>
<p>when it checks if element of the array is equal ws.Name. I believe its the problem with declaration of the variable type but tried changing it multiple time and cannot get it right. Please help!</p>
<pre><code>Sub AdjustTableSize()
    Dim ws As Worksheet
    Dim tbl As ListObject
    Dim lastRow As Long
    Dim specificNames As Variant
    Dim name As Variant
    
    myArray = Range(&quot;rng_Target&quot;).Value
    
    ' Set the specific sheet names
    specificNames = Array(myArray()) ' Add your specific sheet names here
    
    ' Loop through each worksheet
    For Each ws In ThisWorkbook.Worksheets
        ' Check if the worksheet name is in the specificNames array
        If IsInArray(ws.name, specificNames) Then
            ' Set the table on the sheet (assuming there is only one table per sheet)
            Set tbl = ws.ListObjects(1)
            
            ' Get the last row with data in the table
            lastRow = tbl.Range.Rows.Count
            
            ' Check if there is any data in the table
            If lastRow &gt; 1 Then
                ' Delete the rows below the last row with data in the table
                tbl.Range.Resize(lastRow).Offset(1).EntireRow.Delete
            End If
        End If
    Next ws
End Sub

' Function to check if a value is in an array
Function IsInArray(valueToFind As Variant, arr As Variant) As Boolean
    Dim element As Variant
    For Each element In arr
        If element = valueToFind Then
            IsInArray = True
            Exit Function
        End If
    Next element
    IsInArray = False
End Function
</code></pre>
<p>Tried to change Variant to String as ws.Name result will be string however this will tell me within the function check that 'element' and 'valueToFind' have to be of Variant or Object type.</p>
","2024-01-18 09:32:15","1","Question"
"77836787","77836751","","<p>When you declare a variable</p>
<pre><code>length = 2
</code></pre>
<p>You create a space in your computer's memory for the <code>length</code> variable. You then put the value assigned to it, in this case, 2, on the location you just created</p>
<p>When you pass this variable as a parameter of a function</p>
<pre><code>length = 2
def calc_pyramid_volume(base_length)
calc_pyramid_volume(length)
</code></pre>
<p>The function will simply create a reference to the same space in your computer's memory. It's as if it created a secondary name for that space in your memory.</p>
<p>The same space is called <code>length</code> outside of the scope of your function, and <code>base_length</code> inside of the scope. That means your computer doesn't need to &quot;turn&quot; something into &quot;another something&quot;. It just has multiple names for the same thing.</p>
<p>Maybe think of it as two signs that point to the same place, one from the left, the other from the right.</p>
","2024-01-18 03:50:04","0","Answer"
"77836753","","Printing variables with member function does not give correct values","<p>Running the program will take user input and validate, but does not print the expected information.
I can simply enter 5 for each dimension and 'blue' for color but then receive:</p>
<pre><code>The length is: 2.97299e-41
The width is: 2.99205e-41
The height is: 2.99205e-41
The color is: 
The volume is: 0
</code></pre>
<p>Could someone please explain why the input info does not carry to the print stage? Here is the code:</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;string&gt;
using namespace std;
// User is prompted for cube dimensions and color, which is validated. Create class Cube,          calculate volume,
// then display the stored information from Cube.
string length;  // declare variables
string width;
string height;
string volume;
string color;

int main() {
    int flag = 0;                       // flag, duh
    cout &lt;&lt; &quot;Enter the cube length: &quot;;  // user input dimensions &amp; color
    cin &gt;&gt; length;
    for (int i = 0; i &lt; length.size(); i++)  // input validation for integers
    {
        if (!isdigit(length[i])) {
            flag = 1;
            break;
        }
    }
    if (flag == 1) cout &lt;&lt; &quot;Enter a valid number.&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;Enter the cube length: &quot;;
    cin &gt;&gt; length;

    cout &lt;&lt; &quot;Enter the cube width: &quot;;
    cin &gt;&gt; width;
    for (int i = 0; i &lt; width.size(); i++) {
        if (!isdigit(width[i])) {
            flag = 1;
            break;
        }
    }
    if (flag == 1) cout &lt;&lt; &quot;Enter a valid number.&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;Enter the cube width: &quot;;
    cin &gt;&gt; width;

    cout &lt;&lt; &quot;Enter the cube height: &quot;;
    cin &gt;&gt; height;
    for (int i = 0; i &lt; height.size(); i++) {
        if (!isdigit(height[i])) {
            flag = 1;
            break;
        }
    }
    if (flag == 1) cout &lt;&lt; &quot;Enter a valid number.&quot; &lt;&lt; endl;
    cout &lt;&lt; &quot;Enter the cube height: &quot;;
    cin &gt;&gt; height;

    cout &lt;&lt; &quot;Enter the cube color: &quot;;
    cin &gt;&gt; color;
    for (int i = 0; i &lt; color.size(); i++)  // input validation for string
    {
        if (flag == 1) cout &lt;&lt; &quot;Enter a valid color.&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;Enter the cube color: &quot;;
        cin &gt;&gt; color;

        if (!isdigit(color[i])) {
            flag = 1;
            break;
        }
    }
    stof(length);  // string values convert to integer
    stof(width);
    stof(height);

    Cube access;       // create object
    access.display();  // call member function
}
class Cube {
public:
    float length;
    float width;
    float height;
    float volume = length * width * height;  // calculate volume
    string color;
    void display() {  // display Cube information
        cout &lt;&lt; &quot;The length is: &quot; &lt;&lt; length &lt;&lt; endl;
        cout &lt;&lt; &quot;The width is: &quot; &lt;&lt; width &lt;&lt; endl;
        cout &lt;&lt; &quot;The height is: &quot; &lt;&lt; height &lt;&lt; endl;
        cout &lt;&lt; &quot;The color is: &quot; &lt;&lt; color &lt;&lt; endl;
        cout &lt;&lt; &quot;The volume is: &quot; &lt;&lt; volume &lt;&lt; endl;
    }
};
</code></pre>
<p>I tried providing different values, but none go through. Using the input example mentioned above code, I expect:</p>
<pre><code>The length is: 5
The width is: 5
The height is: 5
The color is: blue
The volume is: 125
</code></pre>
","2024-01-18 03:35:52","0","Question"
"77836751","","How are arguments translated to parameters?","<p>I was able to solve this lab after some trial and error but what confuses me is how do the parameters (base_length,base_width) get their information.</p>
<pre><code>def calc_base_area(base_length, base_width):
    return base_length * base_width

def calc_pyramid_volume(base_length, base_width, pyramid_height):
    return calc_base_area(base_length, base_width)  * height * 1/3

length = float(input())
width = float(input())
height = float(input())
print(f'Volume for {length} {width} {height} is: {calc_pyramid_volume(length, width, height):.2f}')
</code></pre>
<p>This part below is the only part that I added, the rest was preset. I am just struggling to understand how the system takes the length, width, and height and turns it into base_length, base_width, and pyramid_height.</p>
<pre><code>def calc_pyramid_volume(base_length, base_width, pyramid_height):
    return calc_base_area(base_length, base_width)  * height * 1/3
</code></pre>
","2024-01-18 03:35:14","0","Question"
"77836740","","c programming grocery calculator","<pre><code>float calculateTotalCost(float*itemCosts, int itemCount);

int main()
{
    int itemCount = 0;
    float itemCosts[50];
    char itemName[50];
    char choice;
    printf(&quot;Welcome to Grocery Shop\n&quot;);

    do {
        printf(&quot;Enter item name: &quot;);
        scanf(&quot;%s&quot;, itemName);
        printf(&quot;Enter cost for %s: RM&quot;, itemName);
        scanf(&quot;%f&quot;, &amp;itemCosts[itemCount]);
        itemCount++;
        printf(&quot;Do you want to add another item?(yes/no): &quot;);
        scanf(&quot;%c&quot;, &amp;choice);
    } while (choice == 'yes' || choice == 'Yes');

    float totalCost = calculateTotalCost(itemCosts, itemCount);
    printf(&quot;\nTotal cost: RM%.2f\n&quot;, totalCost);
    return 0;
}
    
float calculateTotalCost(float*itemCosts, int itemCount)
{
    float totalCost = 0;
    int i;
    int itemCounts[50];

    for (i = 0; i &lt; itemCount; ++i)
    {
        totalCost += itemCounts[i];
    }

    return totalCost;
}
</code></pre>
<p>I want to calculate the grocery items but the output not as expected what I want. Did you know where can i fix my code? I am newbie here</p>
","2024-01-18 03:31:29","0","Question"
"77836116","77835964","","<p>CidrBlock on <a href=""https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html"" rel=""nofollow noreferrer"">AWS::EC2::VPC</a> is a string representing a single CIDR block. It cannot be a list of CIDR blocks, as you're trying to use.</p>
<p>The way to do this is with <a href=""https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpccidrblock.html"" rel=""nofollow noreferrer"">AWS::EC2::VPCCidrBlock</a>, for example create the base VPC with the voice1Octet CIDR and then associate the additional 2 CIDRs via multiple AWS::EC2::VPCCidrBlock resources.</p>
<pre><code>AWSTemplateFormatVersion: 2010-09-09

Description: &gt;
  StackOverflow 77835964

Mappings:
  VPCaddressPrefix:
    values:
      voice1Octet: 10.0.0.0/22
      voice2Octet: 10.3.8.0/23
      voice3Octet: 10.7.12.0/24

Resources:
  Vpc:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: !FindInMap [VPCaddressPrefix, values, voice1Octet]

  cidr2:
    Type: AWS::EC2::VPCCidrBlock
    Properties:
      VpcId: !Ref Vpc
      CidrBlock: !FindInMap [VPCaddressPrefix, values, voice2Octet]

  cidr3:
    Type: AWS::EC2::VPCCidrBlock
    Properties:
      VpcId: !Ref Vpc
      CidrBlock: !FindInMap [VPCaddressPrefix, values, voice3Octet]
</code></pre>
","2024-01-17 23:32:15","0","Answer"
"77835964","","How to add multiple CIDR block for a VPC using FindinMap Function - AWS CF","<p>I am writing a YAML Script with AWS CF deployment.
I have Mappings given with multiple CIDR Blocks and need to add multiple CIDR Blocks for a VPC creation with Function FindinMap
Here is my code:</p>
<pre><code>Mappings:
  VPCaddressPrefix:
    values:
      voice1Octet: '10.0.0.0/22'
      voice2Octet: '10.3.8.0/23'
      voice3Octet: '10.7.12.0/24'

  Vpc:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock:
        - !FindInMap [ VPCaddressPrefix,values,voice1Octet ]
        - !FindInMap [ VPCaddressPrefix,values,voice2Octet]
        - !FindInMap [ VPCaddressPrefix,values,voice3Octet ]
</code></pre>
<p>I am getting error as &quot;Properties validation failed for resource Vpc with message:</p>
<blockquote>
<p><strong>#/CidrBlock: expected type: String, found: JSONArray&quot;</strong></p>
</blockquote>
<p>(<a href=""https://i.sstatic.net/APVcD.png"" rel=""nofollow noreferrer"">https://i.sstatic.net/APVcD.png</a>)</p>
<p>Like to know how to resolve this using Mapping and FindinMap Function. Any Workaround ?</p>
<p>Tried :</p>
<pre><code>Vpc:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock:
        - !FindInMap [ VPCaddressPrefix,values,voice1Octet ]
        - !FindInMap [ VPCaddressPrefix,values,voice2Octet]
        - !FindInMap [ VPCaddressPrefix,values,voice3Octet ]
</code></pre>
<p>Need three CIDR blocks for a VPC using FindinMap Function</p>
","2024-01-17 22:46:42","0","Question"
"77835761","77835379","","<p>Use <code>Array::reduceRight()</code> to check <code>arguments</code>:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function Time(year,month,day,hour,minutes,options) {
  [...arguments].reduceRight((r, arg, idx, arr) =&gt; {
    if(arg === undefined &amp;&amp; arr[idx + 1] !== undefined) throw new Error('An argument cannot be undefined');
  });
}

Time(2024, 3, undefined); // ok
Time(undefined, 2); // an error</code></pre>
</div>
</div>
</p>
","2024-01-17 21:58:48","-1","Answer"
"77835590","77835553","","<p>Using <code>dplyr</code>:</p>
<pre class=""lang-r prettyprint-override""><code>library(dplyr)

data |&gt;
  rename_with(\(x) paste0(&quot;demo&quot;, x))
</code></pre>
<p>A benefit of using <code>dplyr</code> is <code>rename_with</code> allows you to use <a href=""https://tidyselect.r-lib.org/"" rel=""nofollow noreferrer"">tidyselect syntax</a> to only apply these name changes to a subset of columns (e.g. <code>rename_with(\(x) paste0(&quot;demo&quot;, x), where(is.numeric))</code> to only rename numeric columns).</p>
<p>In base R:</p>
<pre class=""lang-r prettyprint-override""><code>names(data) &lt;- paste0(&quot;demo&quot;, names(data))
</code></pre>
","2024-01-17 21:21:17","0","Answer"
"77835553","","paste a string to many column names using a function in R","<p>I would like to rename many variable names using a function. For example, adding 'demo' to each one of the variable names for age, gender, but NOT for zipcode, addresses.</p>
<p>So far, I have:</p>
<pre><code> demo &lt;- function(x)
  {
  data$demo_x &lt;- data$x 
   }
  demo(&quot;age&quot;)
  demo(&quot;gender&quot;)
</code></pre>
<p>I've tried paste0 function and some suggestions below. However, I only want to change some of the variables - not all the variables in my dataset.</p>
","2024-01-17 21:12:56","0","Question"
"77835412","77835379","","<p>Inconvenient, but you could do:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>function Time(...args) {
  if (args.length === 3) {
    const [year, month, options] = args
    console.log({
      year,
      month,
      options
    })
  }
  // other cases
}

Time(2024, 4, {
  extra: 'options'
})</code></pre>
</div>
</div>
</p>
","2024-01-17 20:42:48","1","Answer"
"77835379","","How does one parse argument values from a function with a varying arguments signature?","<p>I have a function called &quot;Time&quot;, it accepts from 0 to 6 arguments.</p>
<pre><code>function Time(year,month,day,hour,minutes,options) {

}
</code></pre>
<p>Parameters month, day, hour and minutes cannot be defined if the previous one isn't defined.</p>
<p>Even if the &quot;options&quot; parameter is optional, if present, it has to be the last parameter.</p>
<p>However, user can define only year and month for example, and then options.</p>
<p>How to avoid the user to have to write this:</p>
<pre><code>var newTimeInstance = Time(2024,06, undefined, undefined, undefined, options {
   fr: {
     // ...
   },
   es: {
     // ...
   }
})
</code></pre>
<p>If it's not possible, is there another way to join options to a function ?</p>
<p>I've tried: <code>var newTimeInstance = Time(2024,01).options({ ... })</code> but then I'm unable to access the other constructor functions in newTimeInstance.</p>
","2024-01-17 20:36:10","0","Question"
"77834699","77834651","","<p>You can use this number format:
<code>0;-0.00;0</code></p>
<p>First part defines the format for positive value, second part for negative value, third part for zero.</p>
<p>If you eg. want two digits for values &lt; 1 then use this number format <code>[&gt;1]0;0.00</code></p>
<p>Btw: there is no reason to have a function only because you call it from within another macro.</p>
<p><strong>-- UPDATE--</strong></p>
<p>To have more than two conditions you will have to use two conditional formatting rules:</p>
<ol>
<li><code>=AND(ABS(A1)&gt;0,ABS(A1)&lt;1)</code> --&gt; 0.00</li>
<li><code>=OR(A1=0,ABS(A1)&gt;=1)</code> --&gt; 0</li>
</ol>
<p><code>ABS</code> is used to have the same logic for negative numbers.</p>
","2024-01-17 18:22:17","1","Answer"
"77834651","","Number formatting based on cell value using vba function","<p>I need to create a VBA as a Function, not a Sub, in Excel to format a range of cells based on the cells value. I call the function elsewhere in macro.</p>
<p>If the cell value is greater than or equal to zero, then display whole number format without decimals (100 or 0).</p>
<p>If the value is less than zero, then put in number format with 2 decimal places (0.05).</p>
<p>This is what I have, but I'm stuck (sorry, new to this):</p>
<pre><code>Function NumberFormats()
    Call the_lastRow(wsX, colA)
    wsX.Range(colP &amp; rowStart, colX &amp; lastRow).NumberFormat = &quot;General&quot; '&quot;#,##0.00&quot;
End Function
</code></pre>
","2024-01-17 18:11:33","0","Question"
"77834374","77834303","","<pre><code>fun ani(name:String){
    val aaha=&quot;hi&quot;+ name println(aaha) 
} 
fun main() {
   ani(&quot;jan&quot;)
}
</code></pre>
<p>Remove 'name' from ani(name:&quot;jan&quot;)</p>
","2024-01-17 17:21:28","1","Answer"
"77834303","","Calling a function with parameter in fun main","<p>Hi could please suggest what is an issue in the below syntax. I am watching a kotlin tutorial and it is working fine in video. When I run it shows error. Thank you</p>
<pre class=""lang-kotlin prettyprint-override""><code>fun ani(name: String) {
    val aaha = &quot;hi&quot; + name
    println(aaha)
}

fun main() {  
    ani(name: &quot;jan&quot;)
}
</code></pre>
","2024-01-17 17:10:57","1","Question"
"77834093","77833380","","<p>An opportunity for <code>max.col()</code>:</p>
<pre><code>dt[, 
   closest := max.col(sapply(.SD, \(x) -abs(x - heart_attack_year))), 
   .SDcols = patterns(&quot;exam_[0-9]_year&quot;)]
#    patient_ID heart_attack_year exam_1_year exam_2_year exam_3_year exam_4_year closest
#        &lt;char&gt;             &lt;num&gt;       &lt;num&gt;       &lt;num&gt;       &lt;num&gt;       &lt;num&gt;   &lt;int&gt;
# 1:          A              2010        2005        2010        2015        2020       2
# 2:          B              2011        2001        2006        2012        2017       3
# 3:          C              2016        2002        2010        2011        2017       4
# 4:          D              2011        2002        2007        2012        2014       3
</code></pre>
<p>Perhaps the data feels better in two tables? This would allow the useof data.table joins:</p>
<pre><code>ATTACKS &lt;- dt[, .(patient_ID, heart_attack_year)]
EXAMS   &lt;- dt[, .SD, .SDcols = patterns(&quot;ID|exam_[0-9]_year&quot;)
              ][, melt(.SD, id.vars = &quot;patient_ID&quot;)]
ATTACKS[,  closest_exam := EXAMS[.SD, 
                                 on = .(patient_ID, value = heart_attack_year), 
                                 variable, 
                                 roll = &quot;nearest&quot;]]
#    patient_ID heart_attack_year closest_exam
#        &lt;char&gt;             &lt;num&gt;       &lt;fctr&gt;
# 1:          A              2010  exam_2_year
# 2:          B              2011  exam_3_year
# 3:          C              2016  exam_4_year
# 4:          D              2011  exam_3_year
</code></pre>
<p>List columns can also be useful:</p>
<pre><code>vars &lt;- sprintf(&quot;exam_%d_year&quot;, 1:4)
dt[, year_exams := list(.(unlist(.SD))), .SDcols = vars, by = patient_ID]
dt[, (vars) := NULL]
dt[, closest := which.min(abs(heart_attack_year - unlist(year_exams)) ), by = patient_ID]

#   patient_ID heart_attack_year          year_exams closest
#        &lt;char&gt;             &lt;num&gt;              &lt;list&gt;   &lt;int&gt;
# 1:          A              2010 2005,2010,2015,2020       2
# 2:          B              2011 2001,2006,2012,2017       3
# 3:          C              2016 2002,2010,2011,2017       4
# 4:          D              2011 2002,2007,2012,2014       3
</code></pre>
","2024-01-17 16:43:30","1","Answer"
"77834064","77833855","","<p>It looks like the source of your data is in HTML.</p>
<p>I would suggest that you keep your data in JavaScript and only reflect information from JavaScript onto HTML.</p>
<p>For example, your cart should look something like this:</p>
<pre class=""lang-js prettyprint-override""><code>const cart = [
  {
    id: 1,
    title: 'Some product',
    quantitty: 2
  },
  {
    id: 2,
    title: 'Second product in cart',
    quantity: 5
  }
]
</code></pre>
<p>and that's where you update quantity +1 or -1, or remove item when it's quantity is 0. And whenever something changes, calculate new total quantity of items and &quot;write&quot; it to HTML element.</p>
","2024-01-17 16:39:33","0","Answer"
"77833855","","Changing quantity as the displayed number","<p>I have a problem with changing quantity as the displayed number. When I add products to the cart, everything works fine. For example, adds 5 products to the cart. However, when I click the trash icon to remove the product, the quantity instead of decreasing by one decreases to zero.</p>
<p>Thank you in advance!</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>let cartQuantityNr = 0;
let cartQuantitySpan = document.querySelector("".cart-quantity"");
let cartQuantitySpanHome = document.querySelector("".cartQuantity"");

// Removing item from cart
const removeCartItem = () =&gt; {
  let removeCartItemBtn = document.querySelectorAll("".cart .rm-item"");
  removeCartItemBtn.forEach(e =&gt; {
    e.addEventListener(""click"", () =&gt; {
      e.parentElement.parentElement.remove();
      cartQuantityNr--;
      console.log(cartQuantityNr);
      cartQuantitySpan.innerHTML = ""("" + cartQuantityNr + "")"";
      cartQuantitySpanHome.innerHTML = cartQuantityNr;
    })
  })
}

// Quantity spans 
const quantitySpans = () =&gt; {
  cartQuantityNr++;
  cartQuantitySpan.innerHTML = ""("" + cartQuantityNr + "")"";
  cartQuantitySpanHome.innerHTML = cartQuantityNr;
}</code></pre>
</div>
</div>
</p>
<p><a href=""https://i.sstatic.net/gs7y4.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/gs7y4.png"" alt=""Quantity span 1"" /></a>
<a href=""https://i.sstatic.net/FHB2T.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/FHB2T.png"" alt=""Quantity span 2"" /></a>
<a href=""https://i.sstatic.net/gB5UB.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/gB5UB.png"" alt=""Console"" /></a></p>
","2024-01-17 16:06:08","0","Question"
"77833539","77833380","","<p>You could subtract <em>heart_attack_year</em> from exam years, then <code>abs</code> and find <code>which.min</code> by row.</p>
<pre><code>&gt; dt[, closest := apply(abs(dt[, 3:6] - unlist(dt[, 2])), 1, which.min)]
&gt; dt
   patient_ID heart_attack_year exam_1_year exam_2_year exam_3_year exam_4_year closest
1:          A              2010        2005        2010        2015        2020       2
2:          B              2011        2001        2006        2012        2017       3
3:          C              2016        2002        2010        2011        2017       4
4:          D              2011        2002        2007        2012        2014       3
</code></pre>
","2024-01-17 15:14:59","1","Answer"
"77833380","","R data table: how can I efficiently pass data row-wise to a function, using a vector of column names?","<p>I've got some data.tables with patient data from a number of exams over the years, as well as a column with the year in which some event happened (let's say a heart attack). Here's a toy example:</p>
<pre><code>dt &lt;- data.table(patient_ID = c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;),
                 heart_attack_year = c(2010, 2011, 2016, 2011),
                 exam_1_year = c(2005, 2001, 2002, 2002),
                 exam_2_year = c(2010, 2006, 2010, 2007),
                 exam_3_year = c(2015, 2012, 2011, 2012),
                 exam_4_year = c(2020, 2017, 2017, 2014))
</code></pre>
<p>I want to know which exam is closest in time to the heart attack for each patient. I've written a function that takes the target year and a list of the years of the different exams (v) as arguments, and returns a label for the closest exam:</p>
<pre><code>which_exam_is_closest &lt;- function(target_year, exam_labels, v){
  return(exam_labels[which.min(abs(target_year - unlist(v)))])
}
</code></pre>
<p>For different data sets, there can be different numbers of exams. The column names for the exam years also differ among data sets. I'd therefore like to be able to refer to the column names with a vector of strings that can be different for each data set.</p>
<p>A for loop can get the list v and call the function for each row of each data set. For the toy data set above, for example, I could write:</p>
<pre><code>exams &lt;- 1:4

closest_exam &lt;- character(0)
for (i in 1:nrow(dt)){
  closest_exam &lt;- c(closest_exam, which_exam_is_closest(dt$heart_attack_year[i], 
                                                        exams, 
                                                        as.list(dt[i,paste0(&quot;exam_&quot;,exams,&quot;_year&quot;), with = F])))
}
dt$closest &lt;- closest_exam
</code></pre>
<p>This gets the desired result:</p>
<pre><code>patient_ID     heart_attack_year exam_1_year exam_2_year exam_3_year exam_4_year closest
A              2010              2005        2010        2015        2020        2
B              2011              2001        2006        2012        2017        3
C              2016              2002        2010        2011        2017        4
D              2011              2002        2007        2012        2014        3
</code></pre>
<p>However, using the for loop seems really ugly and inefficient. Is there a better way to pass the list of relevant data for each patient to the function, using the vector of column names, and getting back the column &quot;closest&quot;?</p>
","2024-01-17 14:55:00","0","Question"
"77832952","77807211","","<p>I solved using a TRIGGER and creating a function to create tables, this is the full code:</p>
<pre><code>CREATE OR REPLACE FUNCTION create_tables(year int)
RETURNS void AS $$
    DECLARE
        table_name_1 text := 'congregational_ministries';
        table_name_2 text := 'individual_ministries';
        table_selected_1 text;
        table_selected_2 text;
    BEGIN
        table_selected_1 := get_table(table_name_1, year);
        table_selected_2 := get_table(table_name_2, year);
        
        IF table_selected_1 IS NOT NULL THEN
            EXECUTE FORMAT('DROP TABLE IF EXISTS %s; CREATE TABLE %s AS SELECT * FROM %s;', table_name_1, table_name_1, table_selected_1);
        END IF;
        
        IF table_selected_2 IS NOT NULL THEN
            EXECUTE FORMAT('DROP TABLE IF EXISTS %s; CREATE TABLE %s AS SELECT * FROM %s;', table_name_2, table_name_2, table_selected_2);
        END IF;
        
        RAISE NOTICE 'Tables created.';
    END;
$$ LANGUAGE plpgsql;


CREATE OR REPLACE FUNCTION create_tables_trigger_function()
RETURNS TRIGGER AS $$
    DECLARE
        _year integer;
    BEGIN
        EXECUTE FORMAT('SELECT yyyy FROM tables_per_year WHERE name LIKE ''%s'' LIMIT 1;', NEW.name) INTO _year;
        
        PERFORM create_tables(_year);

        RETURN NEW;
    END;
$$ LANGUAGE plpgsql;


CREATE OR REPLACE TRIGGER create_tables_trigger
AFTER INSERT ON metabase_table
FOR EACH ROW
WHEN (
    NEW.name LIKE 'csv_congregational_ministries_%' OR NEW.name LIKE 'csv_individual_ministries_%'
)
EXECUTE FUNCTION create_tables_trigger_function();


CREATE OR REPLACE FUNCTION dynamic_query_single_table(_table anyelement, _year int)
RETURNS SETOF anyelement AS $$
    DECLARE
        table_partial_name text;
        table_selected text;
    BEGIN
        table_partial_name := pg_typeof(_table)::text;
        table_selected := get_table(table_partial_name, _year);
        
        RETURN QUERY EXECUTE FORMAT('SELECT * FROM %s;', table_selected);
    END;
$$ LANGUAGE plpgsql;
</code></pre>
<p>Thanks for your advices.</p>
","2024-01-17 13:49:05","1","Answer"
"77832131","77827149","","<p>You can take the difference between two Dates.</p>
<p>However, in case of DateTime and two different times each day, one needs to floor() the timestamp. round() does not work as it rounds to the nearest day, so dt1 could be floored and dt2 ceiled.</p>
<p>In case a commutative behavior is wanted, also take the absolute value of the difference.</p>
<pre><code>using Dates

function is_consecutive_day(dt1::DateTime, dt2::DateTime)
    #floor() is necessary in case dt1 or dt2 are not exactly 86400000 milliseconds apart
    #take abs() to ensure that function is commutative
    diff = abs(floor(dt1, Day) - floor(dt2, Day))
    return diff == Day(1)
end
</code></pre>
","2024-01-17 11:37:03","2","Answer"
"77832070","77764964","","<pre><code>def main(session: snowpark.Session):

     @udf(name='a_plus_b', input_types=[IntegerType(), IntegerType()], return_type=IntegerType(), is_permanent=False, replace=True)
     def a_plus_b(a: int, b: int) -&gt; int: return a+b

     df.with_column('Somme',a_plus_b( col('a'),col('b') ) )

return df
</code></pre>
","2024-01-17 11:26:09","0","Answer"
"77831667","77831072","","<p>You may try</p>
<pre class=""lang-js prettyprint-override""><code>=reduce(tocol(,1),unique(tocol(Data!$A$3:$A,1)),lambda(a,c,vstack(a,
   arrayformula(chooserows(Data!$A$3:$G,
      ARRAY_CONSTRAIN(sort(sequence(countif(Data!$A$3:$A,c)),randarray(countif(Data!$A$3:$A,c)),1)-1,
          roundup(countif(Data!$A$3:$A,c)*0.2),
          1)
   +match(c,Data!$A$3:$A,0))))))
</code></pre>
<p>and you can remove the <code>chooserows</code> to see that the row numbers are always* unique.</p>
<p>* Almost always. See Explanation.</p>
<p>Note 1: Requires your data to be sorted by student names. ie. All test results of a student are grouped in adjacent rows.</p>
<p>Note 2: If the sheet refreshes too quickly, you may need to use a static database of random numbers as opposed to using <code>randarray</code>.</p>
<p><strong>Explanation</strong>: The strategy is to generate as many random numbers as there are tests for each student and then use the generated numbers to <a href=""https://stackoverflow.com/questions/76585201/how-do-i-make-a-random-permutation-function-in-google-sheets"">shuffle</a> the tests. Since we are relatively confident that <code>randarray</code> will produce unique random numbers, we can use the ordering of the generated random numbers to shuffle the tests and truncate it with <code>ARRAY_CONSTRAIN</code>. We truncate at 20% many of <code>countif(data,student_name)</code> rounded up. <code>match</code> identifies the starting rows of each student. (Thus requiring sorted data, which on a second thought can be avoided with <code>filter</code> but above is what first came to mind.) <code>chooserows</code> can be used to pick out rows specified by row index offset. And we use the combination of <code>reduce</code> and <code>vstack</code> to vertically concatenate results for each unique student name. <code>tocol</code> usage to coerce the Google Sheet functions to behave properly with empty rows.</p>
","2024-01-17 10:24:33","0","Answer"
"77831318","77831072",""," 
<p><em>Here's one approach you may test out:</em></p>
<pre class=""lang-js prettyprint-override""><code>=reduce(tocol(,1),unique(tocol(A3:A,1)),lambda(a,c,vstack(a,let(Σ,filter(A3:G,A3:A=c),sortn(Σ,roundup(rows(Σ)*0.2),,lambda(Λ,Λ)(randarray(rows(Σ))),)))))
</code></pre>
<p><em><strong>IMP</strong></em>: <em>randomization is auto-triggered if and when the source data in columns A-G is edited/changed</em></p>
<p><a href=""https://i.sstatic.net/7KcPG.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/7KcPG.png"" alt=""enter image description here"" /></a></p>
","2024-01-17 09:35:54","1","Answer"
"77831072","","Percentage of data to be extracted in a complex query (DIFF)","<p>I have a table with 12 columns. I want to extract 20% of the data for the student in each test.I am using Google sheets.</p>
<p>The data is like</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>Column A</th>
<th>Column B</th>
</tr>
</thead>
<tbody>
<tr>
<td>name1</td>
<td>test1</td>
</tr>
<tr>
<td>name3</td>
<td>test2</td>
</tr>
</tbody>
</table>
</div>
<p>The data in other columns is related to the test. But I would like to extract only 20% of the values of student in each test.</p>
<p>For example if there are 10 test for name1 I want to extract only 2 tests values at random</p>
<p>So, if there were 10 values for name1 then I would like only 2 values for name1 with all the rows related to those values extracted at random.)</p>
<p>=LET(name,TOCOL(Data!A2:A,1),
SORTN(
QUERY(Data!A2:G,&quot;where Col1 is not null&quot;),
ROUNDUP(20%*ROWS(name)),,
RANDARRAY(ROWS(name)),))</p>
<pre><code>
Expected results is mentioned in the link.
I would like 20% of each student. Like there are 8 values for student A and 9 values for student B. I can only get 20% of the total rows. I want 20% of each student. In this case 1.6 (2) and 1.8 (2). So, 4 values 2 each from student A and B. TIA.
</code></pre>
","2024-01-17 08:52:37","1","Question"
"77829844","77829189","","<p>Before <a href=""/questions/tagged/c%2b%2b23"" class=""post-tag"" title=""show questions tagged &#39;c++23&#39;"" aria-label=""show questions tagged &#39;c++23&#39;"" rel=""tag"" aria-labelledby=""tag-c++23-tooltip-container"">c++23</a>, there was a rule that if a <code>constexpr</code> function can never be executed at compile-time, the compilers <em>can</em> (but don't have to) complain even if that's not attempted.</p>
<p>Starting from C++23, <a href=""https://en.cppreference.com/w/cpp/language/constexpr#Notes"" rel=""nofollow noreferrer"">there's no such rule</a> (the compilers are not allowed to complain).</p>
<p>Your <code>logError()</code> can't be executed at compile-time (because of <code>cout</code>), so it was illegal before C++23.</p>
<p>Since your <code>sqrt()</code> always tries to call a non-constexpr function from the <code>if (std::is_constant_evaluated())</code>, it will always cause a compilation error when used at compile-time. (And before C++23 it was illegal even when unusued, see above.)</p>
","2024-01-17 03:39:58","2","Answer"
"77829189","","MSVS community 2022 does not allow a constexpr with cout, but gcc does. Which is correct?","<p>The following code does not compile on msvs community 2022, saying &quot;error C3615: constexpr function 'logError' cannot result in a constant expression.&quot;</p>
<pre><code>
#include &lt;string&gt;
#include &lt;iostream&gt;


constexpr void logError(const std::string&amp; error)
{
    std::cout &lt;&lt; error &lt;&lt; std::endl;
}

constexpr int sqrt(int x)
{
    if (std::is_constant_evaluated())
    {
       logError(&quot;Oh no, this is not constantly evaluated&quot;);
        return 30;

    }
    else
    {
        
        int result{};
        while (result * result &lt;= x) ++result;
        return result - 1;
    }

}


int c = sqrt(9);
int main() { 
    
    
    std::cout &lt;&lt; c;
    
    return 0; }

</code></pre>
<p>I compiled it on godbolt.org with &quot;-std=c++23 -O2&quot;. The code compiled but the <code>else</code> block always runs. <code>logError</code> is never called with <code>if (std::is_constant_evaluated())</code> or <code>if (***!***std::is_constant_evaluated())</code>. Then which compiler is correct?</p>
","2024-01-16 23:17:29","0","Question"
"77827680","77827149","","<p>Just compare the differences</p>
<pre><code>using Dates

function is_consecutive(date1::DateTime, date2::DateTime)
    difference = date2 - date1
    return difference == Day(1)
end

print(is_consecutive(DateTime(2013,7,1,12,30), DateTime(2013,7,2,12,30))) # true
print(is_consecutive(DateTime(2013,7,1,12,30), DateTime(2013,6,30,12,30))) # false
print(is_consecutive(DateTime(2013,6,30,12,30), DateTime(2013,7,1,12,30))) # true
</code></pre>
","2024-01-16 17:38:30","3","Answer"
"77827492","77827237","","<p>If your model is somewhat  <code>dx = f(x, p)</code>, for extra parameter <code>p</code>, please check documentation on this regard: <a href=""https://www.mathworks.com/help/matlab/ref/ode15s.html"" rel=""nofollow noreferrer"">https://www.mathworks.com/help/matlab/ref/ode15s.html</a> .</p>
<p>Your parameters must be either time-constant or a timeseries <code>p(t)</code>. In case of timeseries <code>p(t)</code>, you must use  the closure concept: <a href=""https://www.mathworks.com/matlabcentral/fileexchange/18223-closures-in-the-matlab-language"" rel=""nofollow noreferrer"">https://www.mathworks.com/matlabcentral/fileexchange/18223-closures-in-the-matlab-language</a></p>
","2024-01-16 17:04:03","0","Answer"
"77827237","","MATLAB error using ODE15s: Function must return a column vector in","<p>I am solving system of four differential equations using ODE15s solver in MATLAB. I want to store values of N1 N2 N3 N4 for each seven different values of W and PION. I also want to plot N1 N2 N3 N4 vs time for each W and PION. Here is my MATLAB code:</p>
<pre><code>% Code to solve system of four simultaneous differential equation
</code></pre>
<pre><code>clc

N0 = [9.66e17;0;0;0];   % Intital conditions of N1, N2, N3, N4 (9.66e17,0,0,0)
[T, N] = ode15s(@spl_eq,[0 126e-15], N0);  % Intital conditions of time from 0 to 126e-15
plot(T,N(:,4),T,N(:,3),T,N(:,2),T,N(:,1))   % Plotting of N1 N2 N3 N4 vs Time

function dN = spl_eq( t,N )

t = 126e-15;

dN = zeros(4,7);    % Blank array to store N1 N2 N3 N4 from solution for each values of seven values of W and PION
Q = 10e10;      % Constant value
A = 10e8;       % Constant value
Ppd = 10e10;    % Constant value

% W and PION are not constant and they have seven values as row vectors given below:

W = [0.2716 0.4243 0.6110 0.8317 1.0862 1.3748 1.6972]*1e9;
PION = [0.7072 0.8874 1.0254 1.2375 1.4143 1.5911 1.7679]*1e11;


for j = 1:length(W)
    dN(1) = (-W(j)*N(1)) + ((Q+A)*N(2)) + ((W(j)+Q+A)*N(3)) + 0;            % first equation 
    dN(2) = 0 + (-(Q+A)*N(2)) + ((Q+A)*N(3)) + 0;                             % second equation 
    dN(3) = (W(j)*N(1)) + 0 - (W(j)+(2*Q)+(2*A)+ Ppd + PION(j))*N(3) + 0;     % third equation 
    dN(4) = 0 + 0 + PION(j)*N(3) + 0;                                           % fourth equation 
end

end
</code></pre>
<p>But I am getting the following errors:</p>
<pre><code>Error using odearguments
SPL_EQ must return a column vector.
Error in ode15s (line 148)
    odearguments(odeIsFuncHandle, odeTreatAsMFile, solver_name, ode, tspan, y0, options, varargin);

Error in test_soln_rate (line 6)
[T, N] = ode15s(@spl_eq,[0 126e-15], N0);  % Intital conditions of time from 0 to 126e-15
</code></pre>
","2024-01-16 16:19:30","0","Question"
"77827149","","Test if two dates are consecutive days","<p>In Julia, how can I test if two dates are consecutive days?</p>
<p>For instance:</p>
<pre><code>using Dates
is_consecutive(DateTime(2013,7,1,12,30), == DateTime(2013,7,2,12,30) # true
is_consecutive(DateTime(2013,7,1,12,30), == DateTime(2013,6,29,12,30) # false
</code></pre>
<p>Do I have to implement <code>is_consecutive</code> manually or is there a Julia function for comparing two dates?</p>
<p>What if I would like to know if two different DateTimes are consecutive for the <code>hours</code>, the <code>seconds</code> etc.</p>
","2024-01-16 16:05:28","1","Question"
"77826855","77826512","","<p>2 things you'll want to change:</p>
<ol>
<li>Avoid assignment to the automatic variable <code>$input</code></li>
<li>Use explicit string operators (like <code>-join</code>) for constructing the output string</li>
</ol>
<pre><code># shift action from args
$action,$info = $args

$date = Get-Date -Format &quot;dd-MM-yyyy&quot;

switch ($action) {
    &quot;doing&quot; {
        $logline = @($date;$info) -join ' '
        Add-Content -Path ~/log.txt -Value $logline
        Write-Host &quot;`&quot;$logline`&quot; Written to log&quot;
    }
    &quot;today&quot; {
        Select-String -Path ~/log.txt -Pattern $date
    }
    &quot;yesterday&quot; {
        $yesterday = (Get-Date).AddDays(-1).ToString(&quot;dd-MM-yyyy&quot;)
        Select-String -Path ~/log.txt -Pattern $yesterday
    }
    &quot;todo&quot; {
        if (@($info).Count -eq 0) {
            Get-Content ~/todo.log
        } else {
            $logline = @($date;$info) -join ' '
            Add-Content -Path ~/todo.log -Value $logline
        }
    }
}
</code></pre>
<p>Additionally, <a href=""https://stackoverflow.com/a/77826827/712649"">follow mklement0's splatting suggestion</a> when writing the invoking functions, and it should work as expected</p>
","2024-01-16 15:23:17","3","Answer"
"77826827","77826512","","
<ul>
<li><p>The following is incidental to your problem, but worth noting:</p>
<ul>
<li><strong>Avoid use of the <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Automatic_Variables#input"" rel=""nofollow noreferrer"">automatic <code>$input</code> variable</a> for custom purposes.</strong></li>
</ul>
</li>
<li><p>In order <strong>to <em>relay</em> the positional arguments reflected in the <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Automatic_Variables#args"" rel=""nofollow noreferrer"">automatic <code>$args</code> variable</a> between PowerShell commands, you must use <a href=""https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Splatting"" rel=""nofollow noreferrer""><em>splatting</em></a></strong>, i.e. <strong><code>@args</code></strong>, which ensures that the arguments are passed on <em>individually</em> (and again collected in <code>$args</code> by the target command).</p>
<ul>
<li><p><em>Without</em> splatting, i.e. when using <code>$args</code> as an argument, the collected original arguments are passed <em>as a single, array-valued</em> argument, which results in the <em>target</em> command's <code>$args</code> array having a <em>single</em> element that is an <em>array</em> - this is what you saw.</p>
</li>
<li><p>As an aside: This does <em>not</em> happen when invoking <em>external programs</em>, in which case splatting is <em>implicitly</em> applied (that is, <code>foo.exe $args</code> is in essence the same as <code>foo.exe @args</code>).</p>
</li>
</ul>
</li>
</ul>
<pre class=""lang-bash prettyprint-override""><code># Note the use of @args instead of $args
function doing { &amp; $HOME/mytodo.ps1 doing @args }
function today { &amp; $HOME/mytodo.ps1 today @args }
function yesterday { &amp; $HOME/mytodo.ps1 yesterday @args }
function todo { &amp; $HOME/mytodo.ps1 todo @args }
</code></pre>
","2024-01-16 15:19:43","3","Answer"
"77826512","","PowerShell, using a function to invoke a switch in a script","<p>I'm trying to write a simple logging script to save todo items to a log file that I can quickly reference, I save the following as <code>~\mytodo.ps1</code></p>
<pre><code>$input = $args
$date = Get-Date -Format &quot;dd-MM-yyyy&quot;

switch ($input[0]) {
    &quot;doing&quot; {
        $input = $input[1..($input.Length - 1)]
        Add-Content -Path ~/log.txt -Value &quot;$(Get-Date -Format &quot;dd-MM-yyyy&quot;) $input&quot;
        Write-Host &quot;`&quot;$input`&quot; Written to log&quot;
    }
    &quot;today&quot; {
        Select-String -Path ~/log.txt -Pattern $date
    }
    &quot;yesterday&quot; {
        $yesterday = (Get-Date).AddDays(-1).ToString(&quot;dd-MM-yyyy&quot;)
        Select-String -Path ~/log.txt -Pattern $yesterday
    }
    &quot;todo&quot; {
        $input = $input[1..($input.Length - 1)]
        if ($input -eq &quot;&quot;) {
            Get-Content ~/todo.log
        } else {
            Add-Content -Path ~/todo.log -Value &quot;$date $input&quot;
        }
    }
}
</code></pre>
<p>I find that I can invoke these switches on the console as follows:</p>
<pre><code>&amp; $HOME/mytodo.ps1 doing &quot;add note to the log&quot;
</code></pre>
<p>So I then setup functions in my profile to invoke the switches, thinking these should work</p>
<pre><code>function doing { &amp; $HOME/mytodo.ps1 doing $args }
function today { &amp; $HOME/mytodo.ps1 today $args }
function yesterday { &amp; $HOME/mytodo.ps1 yesterday $args }
function todo { &amp; $HOME/mytodo.ps1 todo $args }
</code></pre>
<p>However, the functions seem to treat the input arguments as objects:
<code>doing 123</code>, or <code>doing &quot;123&quot;</code> both produce the following:</p>
<pre><code>&quot;System.Object[]&quot; Written to log
</code></pre>
<p>How can I make each function invoke the switch in the script without the input string being treated as a string?</p>
","2024-01-16 14:33:39","1","Question"
"77825190","77825139","","<p>There are a few problems with your code.</p>
<p>First off, you've declared <code>b</code> as a local array inside your function. In C, local arrays live on the stack, which means they get cleaned up after your function is done. When you return a pointer to <code>b</code>, you're actually pointing to a spot that's not yours anymore once the function exits.</p>
<p>Second, there's this thing where you're trying to increment <code>b</code>, the array itself. In C, the name of the array is kind of a constant pointer to the first element. You can't move it around like a regular pointer.</p>
<p>Now, how do we fix this? There are a few ways:</p>
<ol>
<li><p>Instead of creating <code>b</code> inside the function, why not create it outside and just pass it in? This way, you manage its life outside the function, and there's no risk of it disappearing after the function ends.</p>
</li>
<li><p>Second solution. Allocate <code>b</code> dynamically using <code>malloc</code>. This puts <code>b</code> on the heap, not the stack, so it sticks around after the function is over. Just remember, what you allocate, you must deallocate. So, you'll need to <code>free</code> this memory when you're done, or else you'll have a memory leak.</p>
</li>
</ol>
<p>Possible solution to your problem:</p>
<pre><code>void h(int *a, int *b, int size) {
    for (int i = 0; i &lt; size; i++) {
        b[i] = a[i];
    }
}

int main() {
    int a[] = {1, 2, 3, 4, 5};
    int b[5]; 
    h(a, b, 5);

    //use b here
}
</code></pre>
","2024-01-16 10:48:48","3","Answer"
"77825139","","C - Return a modified array of integers using pointers","<p>i'm tryng to modify an array of integers in C, and in the end I want to return a pointer to the array, but it seems it doesn't work</p>
<pre><code>int *h(int *a) {
 int b[10];
 while(*a) {
  *b = *a;
  b++;
  a++;
 }
 return b;
}
</code></pre>
<p>I don't know what to do , I'm new to C</p>
","2024-01-16 10:41:38","1","Question"
"77824864","77824824","","<p>You need to pass a reference to the function like this:</p>
<pre><code>sfunc($summary, $fun);
</code></pre>
<p>Live demo: <a href=""https://3v4l.org/tS8DX"" rel=""nofollow noreferrer"">https://3v4l.org/tS8DX</a></p>
<p><strong>Explanation</strong></p>
<p>By writing <code>$fun()</code> (with the brackets) you're not passing in the function reference, you're first <em>executing</em> the function and passing in the <em>result</em> of that function's execution. Since that function doesn't <code>return</code> anything, then that result is <code>null</code> - hence the error message. (N.B. Even if it did return something, passing the returned value still wouldn't achieve what you're trying to do.)</p>
","2024-01-16 09:59:04","0","Answer"
"77824824","","Passing an anonymous function as an argument to another function PHP","<p>I'm trying to pass an anonymous function as an argument to another function, but I'm getting an error: &quot;Value of type null is not callable in&quot;. What am I doing wrong?
The number of passed anonymous functions may vary.</p>
<pre><code>    function sfunc($a, ...$funcs){
        echo '&lt;details&gt; &lt;summary&gt;'. $a . '&lt;/summary&gt;' . PHP_EOL;
        foreach ($funcs as $func)
            $func();
        unset($func);
        echo '&lt;/details&gt;' . PHP_EOL;
    }

    $fun = function (){
        echo &quot;123&quot;;
    };

&lt;?php
    sfunc($summary, $fun() );
?&gt;
</code></pre>
","2024-01-16 09:54:05","-1","Question"
"77823856","77823563","","<h3>Terminology</h3>
<p>The term &quot;stored procedure&quot; is just misleading. A misnomer as far as Postgres is concerned. Typically, you want a function in Postgres, when that term is uttered. But it's just ambiguous. See:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/71897542/struggling-to-create-a-stored-procedure-beyond-insert/71898180#71898180"">Struggling to create a &quot;stored procedure&quot; beyond INSERT</a></li>
</ul>
<p>A trigger in Postgres executes a <strong>function</strong>. The syntax for <code>CREATE TRIGGER</code> still allows the misleading keyword <code>PROCEDURE</code>, but since Postgres 11, the more appropriate term <code>FUNCTION</code> should be used (unless you need to stay compatible with outdated Postgres versions). See:</p>
<ul>
<li><a href=""https://dba.stackexchange.com/a/307500/3684"">Trigger uses a procedure or a function?</a></li>
<li><a href=""https://dba.stackexchange.com/a/118419/3684"">When to use stored procedure / user-defined function?</a></li>
</ul>
<h3>Your code</h3>
<p>The job of &quot;updating the summary table&quot; is split in your code. The function <code>refresh_data()</code> adds an actual summary, the trigger copies individual rows.</p>
<p>Looks syntactically OK (mostly), but needlessly complicated and expensive. Drop the trigger. Do it all in the function. One big multi-row <code>INSERT</code> is much cheaper than triggering a single row <code>INSERT</code> for ever row. Plus, you can do it all in a single command with a CTE. Even cheaper yet.</p>
<p>And since you are not returning anything, nor does it seem to be nested anywhere, it might actually just be a <code>PROCEDURE</code> after all. (But that's optional.)</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE OR REPLACE PROCEDURE refresh_data()
  LANGUAGE plpgsql AS
$func$
BEGIN
   DELETE FROM detailed_table;  -- TRUNCATE? See below!
   DELETE FROM summary_table;

   WITH ins1 AS (
      INSERT INTO detailed_table (inventory_id, location_restaurant, titles_of_recipes, total_recipes)
      SELECT i.inventory_id AS inventory_id
           , location_restaurant(restaurant.restaurant_id) AS location_restaurant  -- see below!
           , film.title AS titles_of_recipes
           , count(*) AS total_recipes
      FROM   recipes   r
      JOIN   inventory i USING (recipe_id)
      JOIN   store     s USING (store_id)
      GROUP  BY 1, 2, 3
      ORDER  BY total_of_recipes DESC
      RETURNING *
      )
   INSERT INTO summary_table
         (  titles_of_recipes,   total_recipes,   location_restaurant)
   SELECT i.titles_of_recipes, i.total_recipes, i.location_restaurant
   FROM   ins1 i
   UNION ALL
   SELECT titles_of_recipes
        , SUM(total_of_recipes) AS total_of_recipes  -- may need a cast! like: SUM(total_of_recipes)::int
        , location_restaurant
   FROM   ins1
   GROUP  BY titles_of_recipes, location_restaurant;
END
$func$;
</code></pre>
<p>Call:</p>
<pre><code>CALL refresh_data();
</code></pre>
<p>See:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/67709708/pl-pgsql-perform-vs-call/67711519#67711519"">PL/pgSQL: PERFORM vs CALL</a></li>
</ul>
<p>Only <code>location_restaurant(restaurant.restaurant_id)</code> does not make sense. There is no table <code>restaurant</code> in the query. Fix that bit.</p>
<p>If your table(s) are big, consider <code>TRUNCATE</code> instead of <code>DELETE</code>. See:</p>
<ul>
<li><a href=""https://stackoverflow.com/questions/13223820/postgresql-delete-all-content/13226257#13226257"">PostgreSQL delete all content</a></li>
</ul>
<p><code>SUM(&lt;bigint column&gt;)</code> returns type <code>numeric</code>. Your code may need an explicit cast. Like:</p>
<pre><code>SUM(total_of_recipes)::bigint AS total_of_recipes
</code></pre>
","2024-01-16 06:41:33","1","Answer"
"77823563","","Do I need a trigger, a function, or a procedure?","<p>This should technically “trigger” and continuously update the summary table as things are added into the detailed table. I think I am missing something in the code?</p>
<p>This should be a stored procedure. Do I just need to change it from <code>FUNCTION</code> to <code>PROCEDURE</code>? It seems to work correctly, but I think right now I have it as a function?</p>
<pre class=""lang-sql prettyprint-override""><code>CREATE OR REPLACE FUNCTION update_restaurant()
RETURNS TRIGGER AS $$
BEGIN
INSERT INTO summary_table (titles_of_recipes, total_recipes, location_restaurant)

VALUES (NEW.titles_of_recipes, NEW.total_recipes, NEW.location_restaurant);
RETURN NULL;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER summary_insert_trigger
AFTER UPDATE
ON detailed_table
FOR EACH ROW
EXECUTE FUNCTION update_restaurant();

CREATE OR REPLACE FUNCTION refresh_data()
RETURNS VOID AS $$
BEGIN

DELETE FROM detailed_table;
DELETE FROM summary_table;

INSERT INTO detailed_table (total_recipes, inventory_id, location_restaurant, titles_of_recipes)
SELECT
    COUNT(recipe.recipe_id) AS total_recipes,
    inventory.inventory_id AS inventory_id,
    location_restaurant(restaurant.restaurant_id) AS location_restaurant,
    film.title AS titles_of_recipes
FROM 
   recipes
JOIN 
    inventory ON recipe.recipe_id = inventory.recipe_id
JOIN 
    store ON inventory.store_id = store.store_id
GROUP BY
    inventory.inventory_id, location_restaurant(restaurant.restaurant_id), film.title
ORDER BY
    total_of_recipes DESC;

INSERT INTO summary_table (titles_of_recipes, total_of_recipes, location_restaurant)
SELECT
    titles_of_recipes,
    SUM(total_of_recipes) AS total_of_recipes,
    location_restaurant
FROM detailed_table
GROUP BY
    titles_of_recipes, location_restaurant;

RETURN;
END;
$$ LANGUAGE plpgsql;

SELECT refresh_data();
</code></pre>
","2024-01-16 05:05:49","0","Question"
"77821923","77821728","","<p>You have two independent <code>quantity</code> variables, one for each button. You'll need a shared one, one for each <code>div.quantity</code>:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>for (const systemElement of document.querySelectorAll("".quantity"")) {
  const number = systemElement.querySelector("".number"");
  const minus = systemElement.querySelector("".minus"");
  const plus = systemElement.querySelector("".plus"");
  
  let quantity = parseInt(number.textContent);

  plus.addEventListener(""click"", () =&gt; {
    quantity++;
    number.textContent = quantity;
  });

  minus.addEventListener(""click"", () =&gt; {
    quantity--;
    number.textContent = quantity;
  });
}</code></pre>
<pre class=""snippet-code-css lang-css prettyprint-override""><code>.quantity {
  display: flex;
}
.quantity .number {
  padding: 5px;
  border: 1px solid black;
}</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;div class=""quantity""&gt;
    &lt;button class=""minus""&gt;-&lt;/button&gt;
    &lt;div class=""number""&gt;1&lt;/div&gt;
    &lt;button class=""plus""&gt;+&lt;/button&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-01-15 19:21:19","1","Answer"
"77821728","","Increasing and decreasing the quantity of products function","<p>I have a problem with my increasing and decreasing quantity function. Increasing the quantity works great, however decreasing it spoils it. I click plus, for example, 19 times, then I click minus and 19 becomes 0.</p>
<p><strong>JAVASCRIPT CODE:</strong></p>
<pre><code>const itemQuantitySystem = () =&gt; {
  let minus = document.querySelectorAll(&quot;.quantity .minus&quot;);
  let plus = document.querySelectorAll(&quot;.quantity .plus&quot;);
  
  plus.forEach(e =&gt; {
    let quantity = 1;
    e.addEventListener(&quot;click&quot;, () =&gt; {
      let number = e.previousElementSibling;
      quantity++;
      number.innerHTML = quantity;
    })
  })
  
  minus.forEach(e =&gt; {
    let quantity = parseInt(e.nextElementSibling.textContent);
    e.addEventListener(&quot;click&quot;, () =&gt; {
      console.log(quantity)
      let number = e.nextElementSibling;
      quantity--;
      number.innerHTML = quantity;
    })
  })
}
</code></pre>
<p><strong>HTML CODE:</strong></p>
<pre><code>&lt;div class=&quot;quantity&quot;&gt;
    &lt;div class=&quot;minus&quot;&gt;-&lt;/div&gt;
    &lt;div class=&quot;number&quot;&gt;1&lt;/div&gt;
    &lt;div class=&quot;plus&quot;&gt;+&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p><a href=""https://i.sstatic.net/dLN7Y.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/dLN7Y.png"" alt=""Increasing"" /></a>
<a href=""https://i.sstatic.net/NJneg.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/NJneg.png"" alt=""Decreasing"" /></a></p>
<p>In the photos, immediately after clicking the minus sign, 19 becomes 0, then -1, -2, then I click the plus button and it becomes 20.</p>
<p>I tried to place variables in other places, but nothing helped.</p>
","2024-01-15 18:34:36","0","Question"
"77821216","77820840","","<p>This is completely normal and correct behavior.  See <a href=""https://stackoverflow.com/questions/6312597/is-inline-without-static-or-extern-ever-useful-in-c99?noredirect=1&amp;lq=1"">Is &quot;inline&quot; without &quot;static&quot; or &quot;extern&quot; ever useful in C99?</a> for an explanation of what happens if you define a function as <code>inline</code>.</p>
<p>Roughly speaking, you have told the compiler that <em>if</em> it wishes to inline the function <code>inline_func()</code>, you have provided it the code with which to do so.  This definition is <em>only</em> used for inlining, and does not by itself cause a standalone copy (or &quot;external definition&quot; in the language of the C standard) of the function to be emitted.</p>
<p>And the compiler is not required to actually inline the function where it is called; it may instead emit a call instruction.  If so, then there has to be a standalone copy of the function somewhere in the program.</p>
<p>gcc and clang, when compiling without optimizations, will never inline a function call (unless it is declared with the non-portable <a href=""https://stackoverflow.com/questions/22767523/what-inline-attribute-always-inline-means-in-the-function""><code>always_inline</code> attribute</a>).  It tries instead to emit a call to the standalone function, which as mentioned above, does not exist in your program.  If you enable optimizations (<code>-O</code>) you will find that the program compiles and links successfully.  (Though in other cases, even with optimization enabled, the compiler may still choose not to inline some functions, if it thinks it is not an overall gain for performance.)</p>
<p>The C standard allows both behaviors.  C17 6.7.4p7 says &quot;It is unspecified whether a call to the function
uses the inline definition or the external definition.&quot;</p>
<p>To get the program to work reliably, you can add the line</p>
<pre><code>extern inline void inline_func(void);
</code></pre>
<p>which tells the compiler to emit a standalone copy of the function, using the same definition given above with plain <code>inline</code>.  Then even if the compiler chooses not to inline the function call, there will exist a standalone copy that it can successfully call.  <a href=""https://godbolt.org/z/EWj7M3bjh"" rel=""nofollow noreferrer"">Try on godbolt.</a></p>
","2024-01-15 16:46:26","3","Answer"
"77821213","77820840","","<blockquote>
<p>why an inline function cannot be compiled by some compilers</p>
</blockquote>
<p>Inline is magic. When you use inline (without <code>extern</code> or <code>static</code>), <em>you</em> are required by the C programming language specification to provide <em>two</em> definitions of the function - one inline definition that you provided, and the other external definition of the same function. Compiler is free to choose <em>either</em> function - the inline or external version of it.</p>
<p>The inline function code you posted cannot be compiled by some compilers, because some compilers choose to use the external definition of the function. You did not provide it. Because you failed to adhere to the rules of C programming in the standard by breaking the requirement of providing two definitions of the function, <em>your code</em> is invalid. <em>You have to</em> provide the external definition of the inline functions, for example by compiling a separate file  and linking with it.</p>
<p>Because today's compilers when compared to 30 years ago are ridiculously fast, sole <code>inline</code> is rather archaic and doesn't make much sense. Use <code>static</code> when you want your function to be inlined. Compiler will inline function no matter if you use <code>inline</code> or not, and he will do better decisions which functions to inline than you. (I use <code>inline</code> in <code>static inline</code> to silence compiler warnings about unused functions in gcc).</p>
<p>From <a href=""https://en.cppreference.com/w/c/language/inline"" rel=""nofollow noreferrer"">https://en.cppreference.com/w/c/language/inline</a> :</p>
<blockquote>
<p>If a function is declared inline in some translation units, it does not need to be declared inline everywhere: at most one translation unit may also provide a regular, non-inline non-static function, or a function declared extern inline. This one translation unit is said to provide the external definition. In order to avoid undefined behavior, one external definition must exist in the program if the name of the function with external linkage is used in an expression, see one definition rule.</p>
</blockquote>
","2024-01-15 16:46:14","4","Answer"
"77821167","77793892","","<p>The <a href=""https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/next-function"" rel=""nofollow noreferrer"">next</a> function can be used to search for sequences.</p>
<pre><code>datatable (t: int, UserPrincipalName: string, OperationOrder: int)[
    1, 'a', 1, 
    2, 'a', 2, 
    3, 'a', 0, 
    4, 'a', 3, 
    5, 'a', 1, 
    6, 'a', 3, 
    7, 'a', 2, 
]
| where OperationOrder != 0
| partition hint.strategy=native by UserPrincipalName ( 
    order by t asc 
    | where OperationOrder == 1
        and next(OperationOrder, 1) == 2
        and next(OperationOrder, 2) == 3
    )
</code></pre>
","2024-01-15 16:38:02","0","Answer"
"77820840","","Why was the C compiler unable to compile code with an inline function?","<p>It looks extremely weird, but I was unable to compile following simple code:</p>
<pre><code>inline void inline_func() {}
static inline void static_inline_func() {}

void some_func()
{
    // THERE IS A PROBLEM with &quot;inline&quot; function
    inline_func();

    // THERE IS NO PROBLEM with &quot;static inline&quot; function
    static_inline_func();
}

int main(int argc, char *argv[])
{
    some_func();
    return 0;
}
</code></pre>
<p>Compiler simply produces error:</p>
<pre><code>$ gcc -Wall -o main main.c
/usr/bin/ld: /tmp/ccs7lKMm.o: in function `some_func':
main.c:(.text+0x15): undefined reference to `inline_func'
collect2: error: ld returned 1 exit status
</code></pre>
<p>I tried this code also with Clang compiler and got similar problem.</p>
<h2>Edit</h2>
<p>I don't think this question is a duplicate. It isn't a question about the difference between <code>inline</code> and <code>static inline</code>. This question is about the reason why an inline function cannot be compiled by some compilers while it is compiled by others (see comments).</p>
<h2>Edit</h2>
<p>This code can be compiled without errors using the <code>-Os</code> optimization argument:</p>
<pre><code>$ gcc -Wall -Os -o main main.c
</code></pre>
","2024-01-15 15:42:01","4","Question"
"77817573","77817324","","<p>There is no need to add importProvider when using provideFirebaseApp.</p>
<p>Remove importProvider from the below code and try:</p>
<pre><code>export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes),
    provideClientHydration(),
      provideFirebaseApp(
        () =&gt; initializeApp(firebaseConfig)
      ), 
      provideFirestore(
        () =&gt; getFirestore()
      ), 
      provideStorage(
        () =&gt; getStorage()
      ), 
      provideAuth(
        () =&gt; getAuth()
      ),
    provideAnimations(),
    provideHttpClient(),
    DatePipe
  ],
};
</code></pre>
","2024-01-15 03:35:40","2","Answer"
"77817324","","How can I use Firebase's signInWithCustomToken method with Angular 17 and @angular/fire 17.0.0?","<p>So, I have some firebase functions and endpoints I want to send requests to from my angular frontend. One of the endpoints creates a custom token via createCustomToken and returns it to the frontend. Then from the frontend I want to use the signInWithCustomToken method to authenticate the token. The issue is I'm getting this error:</p>
<pre><code>AngularFireModule has not been provided in your AppModule (this can be done manually or 
implictly using provideFirebaseApp) or you're calling an AngularFire method outside of 
an NgModule (which is not supported).
</code></pre>
<p>I can't figure it out at all, my app.config.ts is this:</p>
<pre><code>import { ApplicationConfig, importProvidersFrom } from '@angular/core';
import { provideRouter } from '@angular/router';
import { DatePipe } from '@angular/common';
import { routes } from './app.routes';
import { provideClientHydration } from '@angular/platform-browser';
import { initializeApp, provideFirebaseApp } from '@angular/fire/app';
import { getFirestore, provideFirestore } from '@angular/fire/firestore';
import { provideAuth, getAuth } from '@angular/fire/auth';
import { getStorage, provideStorage } from '@angular/fire/storage';
import { firebaseConfig } from '../../firebase.config';
import { provideAnimations } from '@angular/platform-browser/animations';
import { provideHttpClient } from '@angular/common/http';

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes),
    provideClientHydration(),
    importProvidersFrom(
      provideFirebaseApp(
        () =&gt; initializeApp(firebaseConfig)
      ), provideFirestore(
        () =&gt; getFirestore()
      ), provideStorage(
        () =&gt; getStorage()
      ), provideAuth(
        () =&gt; getAuth()
      )),
    provideAnimations(),
    provideHttpClient(),
    DatePipe
  ],
};
</code></pre>
<p>and I'm trying to call the method in my frontend service file like this:</p>
<pre><code>import { getAuth, signInWithCustomToken } from &quot;@angular/fire/auth&quot;;
// rest of component...
signInWithCustomToken(getAuth(), this.getToken())
</code></pre>
","2024-01-15 01:41:37","1","Question"
"77817195","77817095","","<p>You can use bracket indexing as &quot;Some programmer dude&quot; mentioned which will not require changing the pointer. So instead of reassigning the pointer just use <code>p[i]</code>.</p>
<p>Also I am a bit confused as you never modify the pointer, so it is always pointing at the beginning of the array.</p>
<p>Also you have an infinite loop as <code>count=3</code> and is never modified. So <code>count!=0</code> is always true.</p>
","2024-01-15 00:30:58","0","Answer"
"77817095","","How can I make pointer of an array point at the begining of array every time I go in for loop?","<p>So in the main program I have initialized an array, and I pass a pointer of an array to a function.
And in that function I access the same for loop for a certain amount of time.
e.g. Let's say we have an array, and a function that needs to for a certain number has to find 0 (and change it into 1) in that array and return sum of those indexes where they are, but that function also changes that array.
So how can I make the pointer always in for loop start at the beginning of the array (array[0])??</p>
<pre><code>int function(int *pointer){
 int count = 3, sum = 0;

//changes the array, now only few places (but greater than 3) have 0

 while(count != 0){
  for(int i = 0; i &lt; 10; i++){
    if(*(pointer + i) == 0){
       sum+=i;
       *(pointer + i) = 1;
    }
  }
 }
 return sum;
}

int main(void){
 int array[10] = {0};
 int sum = function(array);
 printf(&quot;%d&quot;, sum);
 return 0;
}
</code></pre>
<p>And yes, it's extremally important to do it with the function.<br />
Edit: for anyone asking why for in a while loop, well my actual program is a bit more complicated than what I said here and it requires to go into a for loop until some requirements are met</p>
<p>I have tried to add another variable that keeps the memory address of the beginning of the array
like int temp = pointer, and then after for loop put pointer = temp, but fails if counter is 3 or more. Also I have tried to remember the index it found the zero and keep on going in for loop with that for(int i = index; i &lt; 10; i++) (ofc put at the beginning index = 0), still fails to accurately found the 0</p>
","2024-01-14 23:38:01","0","Question"
"77811386","77810609","","<p><strong>I found the answer myself!</strong> Here is my last working code:</p>
<pre class=""lang-PHP prettyprint-override""><code>if (!$modal) {
    $referer = wp_get_referer();
    $is_from_checkout = strpos($referer, '/checkout/') !== false;

    if (isset($_REQUEST['back'])) {
        $back_url = $is_from_checkout ? home_url('/cart') : &quot;//&quot; . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];
        $back_url = remove_query_arg(array('login', 'type'), $back_url);
    } else {
        $back_url = $is_from_checkout ? home_url('/cart') : $referer;
    }

    $back_title = __('Go Back');
}
</code></pre>
<blockquote>
<p>and I understood that There is no need to use the domain name when addressing. When <code>home_url</code> can be used.</p>
</blockquote>
","2024-01-13 12:16:15","0","Answer"
"77810609","","How to add a new condition (if) to the back button?","<p><strong>I try to add a new condition (if) to the back button in a plugin file.</strong></p>
<p>The back button codes are in the render.php file.</p>
<pre class=""lang-PHP prettyprint-override""><code>    $back_url = '';
    if (!$modal) {
        if (isset($_REQUEST['back'])) {
            $back_url = &quot;//&quot; . $_SERVER['HTTP_HOST'];
        } else {
            $back_url = &quot;//&quot; . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];
            $back_url = remove_query_arg(array('login', 'type'), $back_url);
        }
        $back_title = __('Go Back');
    }
</code></pre>
<p><strong>So I changed these lines to the code I wrote below (but it doesn't work):</strong></p>
<pre class=""lang-PHP prettyprint-override""><code>if (!$modal) {
    if (isset($_REQUEST['back'])) {
        // Check if the user came from the checkout page
        $referer = wp_get_referer();
        $is_from_checkout = strpos($referer, '/checkout/') !== false;

        if ($is_from_checkout) {
            $back_url = &quot;https://example.com/cart&quot;;
        } else {
            $back_url = &quot;//&quot; . $_SERVER['HTTP_HOST'];
        }

        $back_title = __('Go Back');
    } else {
        $back_url = &quot;//&quot; . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];
        $back_url = remove_query_arg(array('login', 'type'), $back_url);
        $back_title = __('Go Back');
    }
}
</code></pre>
<p><strong>Can you check these codes and make the necessary changes, please?</strong></p>
<p>That's why the back button doesn't work there. And for this reason, I want there to be a condition, that if it comes from the checkout page to the login page, the URL will return, not to the same page, but to the cart page. else, return to the same page.</p>
","2024-01-13 07:16:45","1","Question"
"77810397","77809883","","<p>Yes, you can return the entire structure, or just the address of one. You can even return an array of nested things and so on.</p>
<p>You can use of a loop and pass each movie, but that would imply and calling the function for each element and I believe this is not what you want to do.</p>
<h2>About the provided code</h2>
<p>The are many problems in the code, and this is probably not the best way to write this in <code>C</code>.</p>
<blockquote>
<p><strong>I will add below 2 examples: one with some changes to the original code and other using a common way to write this in <code>C</code></strong></p>
</blockquote>
<h3><em>one-of</em> errors</h3>
<pre><code>    for(int i=0; i&lt;=50; i++)
    {
        num[i]=(struct movie *)malloc(1*sizeof(struct movie *));
    }
    InputData(num);
    for(int i=50; i&gt;0; i--)
    {
        free(num[i]);
    }
</code></pre>
<p>The compiler warned you about this: from <code>0</code> to <code>50</code> there are <code>51</code> values. These loops are wrong.</p>
<p>And there is no reason to invert the order to free an array of pointers. You do this when you have pointers to dynamic data <strong>inside</strong> a dynamic structure: then you must free the areas allocated inside and then going up free'ing the <code>struct</code> itself.</p>
<h3><code>InputData()</code></h3>
<pre><code>    void InputData(struct movie *num[50]);
</code></pre>
<p>No, do not return <code>void</code>: it is a waste, many times an error. Here you could simply return the adress of an array of <code>struct movie</code>.</p>
<p>Here <code>InputData</code> gets and array of 50 pointers to <code>struct movie</code>. <code>num</code> is <code>struct movie* [50]</code> as your IDE can probably tell you.</p>
<p>Not entering in religious discussion here, but in <code>C</code> you declare a name for a variable of a type. If the type is a pointer, so be it. If <code>num</code> is a pointer then it is clear that <code>*num</code> is a value of the thing <code>num</code> points to. It is called dereferencing and it is basic <code>C</code>. But it not what you declare.</p>
<p>If <code>num</code> is <code>int*</code> then <code>*num</code> is an <code>int</code>. But you declare <code>num</code>.</p>
<p>So it is easier to reason about this</p>
<pre><code>    struct movie*                   num[50];
</code></pre>
<p>than to read</p>
<pre><code>    struct movie                    *num[50];
</code></pre>
<p>because you are declaring <code>num</code> as <code>struct movie* [50]</code>.</p>
<h3>making <code>InputData()</code> work in the original code</h3>
<p>Anyway, you have in <code>main</code></p>
<pre><code>    struct movie*                  num[50];
</code></pre>
<p>And this is the <code>static</code> data you want <code>InputData</code> to act upon: an array of 50 pointers to a <code>struct</code>. So you need to pass its address to <code>InputData</code> and it is what your compiler is trying to tell you
with something like</p>
<pre class=""lang-none prettyprint-override""><code>warning C4133: 'function': incompatible types - from 'movie *[50]' to 'movie **'
</code></pre>
<p>Changing the argument in <code>InputData()</code> to</p>
<pre><code>    void   InputData(Movie* (*num)[50]);
</code></pre>
<p>would tell the compiler that <code>InputData</code> will receive a pointer to the array of pointers.</p>
<p>The common way of write this is to allocate the array <strong>inside</strong> <code>InputData</code> and return its address. <em>See the second example</em></p>
<p>This code is from the example I will left below:</p>
<pre class=""lang-c prettyprint-override""><code>    Movie* num[50] = {0};
    InputData(&amp;num);
    printf(
        &quot;\
    First movie is \&quot;%s\&quot;, num = %6d, votes = %2d\n\
     Last movie is \&quot;%s\&quot;, num = %6d, votes = %2d\n\
\n&quot;,
        num[0]-&gt;name, num[0]-&gt;curatornum, num[0]-&gt;votes,
        (*num[49]).name, (*num[49]).curatornum, (*num[49]).votes);
</code></pre>
<p>So you see that the array <code>num</code> is declared in <code>main</code> and its address is passed to <code>InputData()</code>. The function uses this area to write the data in. And you see here the 2 common notations in the <code>printf</code> to display the first and last movie of the array.</p>
<h3>Use a <em>factory</em> function</h3>
<p>When writing these kind of code never write interactive code. It makes testing a PITA. See this function:</p>
<pre><code>Movie* factory()
{
    static int num   = 1;
    Movie*     movie = malloc(sizeof(Movie));
    if (movie == NULL) return NULL;  // malloc failed
    int value         = rand();
    movie-&gt;curatornum = num * 1000 + value % 1000;
    movie-&gt;votes      = value % 10;
    sprintf(movie-&gt;name, &quot;Title %07d&quot;, num);
    num += 1;
    return movie;
}
</code></pre>
<p>Anytime you call it you get a <code>Movie</code>, repeatable, reliable. From the example:</p>
<pre><code>void InputData(Movie* (*num)[50])
{
    for (size_t i = 0; i &lt; 50; i += 1)
        (*num)[i] = factory();
}
</code></pre>
<p>this version of <code>InputData()</code> gets the data right away. Always. 50 or 50,000 movies.</p>
<p>Here are the 1st and last movies in a run of the example:</p>
<pre class=""lang-none prettyprint-override""><code>    First movie is &quot;Title 0000001&quot;, num =   1650, votes =  1
     Last movie is &quot;Title 0000050&quot;, num =  50161, votes =  2
</code></pre>
<p>And the math in <code>factory()</code> helps to see if the values are ok.</p>
<h3>use a <code>typedef</code></h3>
<p>You may find it easier to use</p>
<pre><code>typedef struct
{
    char name[50];
    int  curatornum;
    int  votes;
} Movie;
</code></pre>
<p>And reference <code>Movie</code> in code instead of <code>struct movie</code> every time. This is also a religious thing, anyway.</p>
<h2>The example, using the provided code with minimum changes</h2>
<pre><code>// https://stackoverflow.com/questions/77809883/passing-structure-through-function
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

typedef struct
{
    char name[50];
    int  curatornum;
    int  votes;
} Movie;

Movie* factory();
void   InputData(Movie* (*num)[50]);

int main(void)
{
    srand(241012);
    Movie* num[50] = {0};
    InputData(&amp;num);
    printf(
        &quot;\
    First movie is \&quot;%s\&quot;, num = %6d, votes = %2d\n\
     Last movie is \&quot;%s\&quot;, num = %6d, votes = %2d\n\
\n&quot;,
        num[0]-&gt;name, num[0]-&gt;curatornum, num[0]-&gt;votes,
        (*num[49]).name, (*num[49]).curatornum, (*num[49]).votes);
}

void InputData(Movie* (*num)[50])
{
    for (size_t i = 0; i &lt; 50; i += 1)
        (*num)[i] = factory();
}

Movie* factory()
{
    static int num   = 1;
    Movie*     movie = malloc(sizeof(Movie));
    if (movie == NULL) return NULL;  // malloc failed
    int value         = rand();
    movie-&gt;curatornum = num * 1000 + value % 1000;
    movie-&gt;votes      = 1 + value % 10;
    sprintf(movie-&gt;name, &quot;Title %07d&quot;, num);
    num += 1;
    return movie;
}
</code></pre>
<h3>output</h3>
<pre class=""lang-none prettyprint-override""><code>    First movie is &quot;Title 0000001&quot;, num =   1650, votes =  1
     Last movie is &quot;Title 0000050&quot;, num =  50161, votes =  2
</code></pre>
<h2>A second example: use a <em>container object</em></h2>
<p>Here is a common way to write this kind of program, one that is easier and extensible.</p>
<p>Here we have a <code>Movie</code> thing and some functions to operate on <code>Movie</code></p>
<pre><code>typedef struct
{
    char name[50];
    int  curatornum;
    int  votes;
} Movie;

Movie* factory();
int    show_movie(Movie*, const char*);
</code></pre>
<p>But our data is not a <code>Movie</code>, it is a collection of <code>Movie</code>. <em>java</em> uses this name, C++ uses <em>container</em>.</p>
<p>Here we have <code>Movies</code> and some functions to operate <strong>on the collection itself</strong></p>
<pre><code>
typedef struct
{
    size_t  capacity;
    size_t  size;
    Movie** M;  // pointers to movies
} Movies;

Movies* InputData(size_t);
int     show_movies(Movies*, const char*);
Movies* free_movies(Movies*);
</code></pre>
<p>It is easier to understand if <code>InputData</code> returns a set of <code>Movie</code>, but we do not see <code>Movie</code> here. It is the concept of <em>encapsulation</em>: we can change the content of <code>Movies</code> at will.</p>
<pre><code>    Movies* cat = InputData(10);
</code></pre>
<p>returns <code>cat</code> with 10 <code>Movie</code> using <code>factory</code> and it is very easy to follow</p>
<p>Here is <code>main</code> for the second example</p>
<pre><code>int main(void)
{
    srand(241012);
    Movies* cat = InputData(10);
    show_movies(cat, &quot;***** A simple test *****\n\n&quot;);
    free_movies(cat);
    return 0;
}
</code></pre>
<ul>
<li><code>srand()</code>is perfect for testing since it will give always the same sequence during testing</li>
<li><code>InputData</code> will get the address of a collection of <code>Movies</code>.</li>
<li><code>show_movies</code> will do his thing and accepts a handy message for testing</li>
<li><code>free_movies</code> will erase the catalog</li>
</ul>
<h3>output of the example</h3>
<pre class=""lang-none prettyprint-override""><code>***** A simple test *****
  10 of 10 movies:

  0     &quot;Title 0000001&quot;, num =   1650, votes =  1
  1     &quot;Title 0000002&quot;, num =   2399, votes = 10
  2     &quot;Title 0000003&quot;, num =   3107, votes =  8
  3     &quot;Title 0000004&quot;, num =   4023, votes =  4
  4     &quot;Title 0000005&quot;, num =   5744, votes =  5
  5     &quot;Title 0000006&quot;, num =   6209, votes = 10
  6     &quot;Title 0000007&quot;, num =   7350, votes =  1
  7     &quot;Title 0000008&quot;, num =   8950, votes =  1
  8     &quot;Title 0000009&quot;, num =   9856, votes =  7
  9     &quot;Title 0000010&quot;, num =  10703, votes =  4
</code></pre>
<h3>complete code</h3>
<pre><code>// https://stackoverflow.com/questions/77809883/passing-structure-through-function

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

typedef struct
{
    char name[50];
    int  curatornum;
    int  votes;
} Movie;

Movie* factory();
int    show_movie(Movie*, const char*);


typedef struct
{
    size_t  capacity;
    size_t  size;
    Movie** M;  // pointers to movies
} Movies;

Movies* InputData(size_t);
int     show_movies(Movies*, const char*);
Movies* free_movies(Movies*);

int main(void)
{
    srand(241012);
    Movies* cat = InputData(10);
    show_movies(cat, &quot;***** A simple test *****\n\n&quot;);
    free_movies(cat);
    return 0;
}

Movies* InputData(size_t cap)
{
    Movies* cat = malloc(sizeof(Movies));
    if (cat == NULL) return NULL;
    cat-&gt;capacity = cap;
    cat-&gt;size     = cap;  // will return the catalog full
    cat-&gt;M        = (Movie**)malloc(cap * sizeof(Movie*));
    if (cat-&gt;M == NULL)
    {
        free(cat);
        return NULL;
    }
    // get the movies into the catalog
    for (size_t i = 0; i &lt; cap; i += 1)
        cat-&gt;M[i] = factory();
    return cat;
}

int show_movies(Movies* cat, const char* msg)
{ 
    if (cat == NULL) return -1;
    if (msg != NULL) printf(&quot;%s&quot;, msg);  // optional title
    printf(
        &quot;  %llu of %llu movies:\n\n&quot;, cat-&gt;size, cat-&gt;capacity);
    for (size_t i = 0; i &lt; cat-&gt;size; i += 1)
    {
        char index[8];
        sprintf(index, &quot;  %llu\t&quot;, i);
        show_movie(cat-&gt;M[i], index);
    }
    return 0;
}

Movies* free_movies(Movies* cat)
{
    if (cat == NULL) return NULL;
    for (size_t i = 0; i &lt; cat-&gt;size; i += 1)
        free(cat-&gt;M[i]);
    free(cat-&gt;M);
    free(cat);
    return NULL;
}

Movie* factory()
{
    static int num   = 1;
    Movie*     movie = malloc(sizeof(Movie));
    if (movie == NULL) return NULL;  // malloc failed
    int value         = rand();
    movie-&gt;curatornum = num * 1000 + value % 1000;
    movie-&gt;votes      = 1 + value % 10;
    sprintf(movie-&gt;name, &quot;Title %07d&quot;, num);
    num += 1;
    return movie;
}

int show_movie(Movie* m, const char* msg)
{
    if (m == NULL) return -1;
    if (msg != NULL) printf(&quot;%s&quot;, msg);  // optional title
    printf(
        &quot;\&quot;%s\&quot;, num = %6d, votes = %2d\n&quot;, m-&gt;name,
        m-&gt;curatornum, m-&gt;votes);
    return 0;
}
</code></pre>
","2024-01-13 05:24:07","1","Answer"
"77810000","77809981","","<p>You can use list comprehension to iterate over x and get your y_list values.</p>
<pre><code>x = [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
y_list = [x**3 - 3 * x for x in x]

print(f&quot;Resulting y list = {y_list}&quot;)
</code></pre>
<p>Output: <code>Resulting y list = [-970, -702, -488, -322, -198, -110, -52, -18, -2, 2, 0, -2, 2, 18, 52, 110, 198, 322, 488, 702, 970, 1298]</code></p>
","2024-01-13 01:25:56","0","Answer"
"77809981","","How to solve ""TypeError: unsupported operand type(s) for ** or pow(): 'list' and 'int'""","<p>I'm trying to plot a function but power message keeps popping up. I'm trying to raise x to the third power. How to solve?</p>
<pre><code> 14 # use array for arithmetic operation
     15 x = [-10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
---&gt; 16 y_list = x**3 - 3 * X
     17 
     18 plt.grid()

TypeError: unsupported operand type(s) for ** or pow(): 'list' and 'int'
</code></pre>
<p>I looked and tried other ways to resolve but I keep getting the same error</p>
","2024-01-13 01:16:20","0","Question"
"77809891","77809883","","<blockquote>
<p>is it possible to pass an entire structure through a function,</p>
</blockquote>
<p>Yes. Pass by value is the norm which, if you do it carelessly, will do a lot of copying.</p>
<blockquote>
<p>I'm trying to push movie num[1,2,3] etc. through a function ...</p>
</blockquote>
<p>That's the careless copying mentioned above.</p>
<p>You need to pass a pointer and size to the function consuming the data. Copying will ruin the performance.</p>
","2024-01-13 00:23:37","1","Answer"
"77809883","","Pass a structure to a function","<p>I know you can pass specific elements of a structure to a function, but is it possible to pass an entire structure, similar to how you could pass an entire 1 dimensional array?  I'm trying to pass movie num[1,2,3] etc. to a function.  I'm pretty sure you could pass it using a for loop, but is it possible to pass the structure in its entirety without a loop?  My code is below.</p>
<pre><code>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;

void InputData(struct movie *num[50]);

int main()
{
    struct movie
    {
        char name[50];
        int curatornum;
        int votes;
    };

    struct movie *num[50];

    for (int i = 0; i &lt;= 50; i++)
    {
        num[i] = (struct movie *)malloc(1 * sizeof(struct movie *));
    }

    InputData(num);

    for (int i = 50; i &gt; 0; i--)
    {
        free(num[i]);
    }
}

void InputData(struct movie *num[50])
{
    //Compiler gives an error: conflicting types for 'InputData'void InputData(struct movie *num[50]
}
</code></pre>
","2024-01-13 00:16:34","2","Question"
"77808494","77808099","","<p>To write a convenient function <code>f</code> for this job, which might also cover both tasks, you could <code>paste</code> a sequence together and extract a vector with certain start and stop values from it. Sth like</p>
<pre><code>&gt; f &lt;- \(RptYr, from, to) {
+   len &lt;- to/3
+   ssns &lt;- c('Fall', 'Summer', 'Spring')
+   yrsq &lt;- seq.int(RptYr, by=-1, length.out=len)
+   do.call('paste', expand.grid(ssns, yrsq))[from:to]
+ }
&gt; RptYr &lt;- 2023
&gt; f(RptYr - 1, from=3, to=5)
[1] &quot;Spring 2022&quot; &quot;Fall 2021&quot;   &quot;Summer 2021&quot;
&gt; f(RptYr, 1, 7)
[1] &quot;Fall 2023&quot;   &quot;Summer 2023&quot; &quot;Spring 2023&quot; &quot;Fall 2022&quot;   &quot;Summer 2022&quot; &quot;Spring 2022&quot; &quot;Fall 2021&quot; 
</code></pre>
","2024-01-12 18:02:23","1","Answer"
"77808099","","Improve function using loops (simple structure)","<p>I know this is probably a simple fix. I am looking to add a loop in the two functions below. I have a lot of trouble with loops. I think the basic structure is there; I am not seeing it, though. RptYr is a four-digit year (e.g., 2023).</p>
<pre><code>AcaS_Sem &lt;- function(RptYr) {
  AcaS_1 &lt;- paste0(&quot;Spring&quot;, &quot; &quot;, RptYr - 1)
  AcaS_2 &lt;- paste0(&quot;Fall&quot;, &quot; &quot;, RptYr - 2)
  AcaS_3 &lt;- paste0(&quot;Summer&quot;, &quot; &quot;, RptYr - 2)
  AcaS_comb &lt;- c(AcaS_1, AcaS_2, AcaS_3)
  print(AcaS_comb)
}
</code></pre>
<p>The second function is</p>
<pre><code>Enroll_Dem &lt;- function(RptYr) {
  Enroll_Dem_1 &lt;- paste0(&quot;Fall&quot;, &quot; &quot;, RptYr)
  Enroll_Dem_2 &lt;- paste0(&quot;Summer&quot;, &quot; &quot;, RptYr)
  Enroll_Dem_3 &lt;- paste0(&quot;Spring&quot;, &quot; &quot;, RptYr)
  Enroll_Dem_4 &lt;- paste0(&quot;Fall&quot;, &quot; &quot;, RptYr - 1)
  Enroll_Dem_5 &lt;- paste0(&quot;Summer&quot;, &quot; &quot;, RptYr - 1)
  Enroll_Dem_6 &lt;- paste0(&quot;Spring&quot;, &quot; &quot;, RptYr - 1)
  Enroll_Dem_7 &lt;- paste0(&quot;Fall&quot;, &quot; &quot;, RptYr - 2)
  Enroll_vec &lt;- c(Enroll_Dem_1, Enroll_Dem_2, Enroll_Dem_3, Enroll_Dem_4, 
                  Enroll_Dem_5, Enroll_Dem_6, Enroll_Dem_7)
  print(Enroll_vec)
}
</code></pre>
<p>Any insight will be most helpful. Thank you in advance!</p>
","2024-01-12 16:49:00","1","Question"
"77807211","","Can i update a table structure and access it in a plpgsql function?","<p>I'm trying to create a function in PostgreSQL to get data from a table in a dynamic way, but if i update the structure of &quot;my_table_2023&quot;, it will raise the error because the structure doesn't match:</p>
<pre><code>ERROR:  structure of query does not match function result type
DETAIL:  Returned type character varying(255) does not match expected type double precision in column 6.
CONTEXT:  SQL statement &quot;SELECT * FROM csv_congregational_ministries_2023_20240109090450;&quot;
PL/pgSQL function dynamic_query_single_table(anyelement,integer) line 15 at RETURN QUERY
</code></pre>
<p>These are the functions and views used:</p>
<pre><code>CREATE VIEW tables_per_year AS
SELECT DISTINCT ON (basename, yyyy) yyyy, id, name, basename
FROM (
    SELECT
        id,
        created_at,
        name,
        CAST(SPLIT_PART(name, '_', -2) AS INTEGER) AS yyyy,
        LEFT(name, POSITION('_' || CAST(SPLIT_PART(name, '_', -2) AS TEXT) IN name) - 1) AS basename
    FROM &quot;metabase_table&quot;
    WHERE name LIKE 'csv_%'
    ORDER BY created_at DESC
) AS tables_per_year;


CREATE OR REPLACE FUNCTION get_table(_table_name text, year int)
RETURNS text AS $$
    DECLARE
        table_selected text;
    BEGIN
        EXECUTE 'SELECT name FROM tables_per_year WHERE name ILIKE $1 AND  yyyy = $2 LIMIT 1;'
        INTO table_selected
        USING '%' || _table_name || '%', year;

        RETURN table_selected::TEXT;
    END;
$$ LANGUAGE plpgsql;


CREATE OR REPLACE FUNCTION dynamic_query_single_table(_table anyelement, _year int)
RETURNS SETOF anyelement AS $$
    DECLARE
        table_partial_name text;
        table_selected text;
    BEGIN
        table_partial_name := pg_typeof(_table)::text;
        table_selected := get_table(table_partial_name, _year);
        EXECUTE FORMAT('DROP TABLE IF EXISTS %s; CREATE TABLE %s AS SELECT * FROM %s;', table_partial_name, table_partial_name, table_selected);

        RETURN QUERY EXECUTE FORMAT('SELECT * FROM %s;', table_selected);
    END;
$$ LANGUAGE plpgsql;
</code></pre>
<p>Query:</p>
<pre><code>SELECT * FROM dynamic_query_single_table(NULL::my_table, 2023);
</code></pre>
<p>I've tried to run the <strong>DROP</strong> and <strong>CREATE</strong> in a query and call <strong>dynamic_query_single_table</strong> in two different queries and it works fine.</p>
<p>I think it doesn't commit the queries with <strong>DROP TABLE</strong> and <strong>CREATE TABLE</strong> in <strong>dynamic_query_single_table</strong> because it's a single transaction.
Thanks.</p>
","2024-01-12 14:17:59","0","Question"
"77806416","77806354","","<p>You could do sth like</p>
<pre><code>&gt; fnm &lt;- lsf.str()
&gt; res &lt;- list(fun=as.list(fnm[seq_along(fnm)]), 
+      args=lapply(fnm, \(x) names(formals(get(x, .GlobalEnv)))),
+      param=lapply(fnm, \(x) gsub(r'{.*(?&lt;=\()(.*)(?=\)).*}', '\\1', 
+                                  deparse(args(get(x, .GlobalEnv)))[[1]],
+                                  perl=TRUE) |&gt; strsplit(', '))) |&gt;
+   list2DF()
&gt; res
     fun    args    param
1 myfun1    x, w x, w = 1
2 myfun2 x, z, w  x, z, w
</code></pre>
<p>where</p>
<pre><code>&gt; str(res)
'data.frame':   2 obs. of  3 variables:
 $ fun  :List of 2
  ..$ : chr &quot;myfun1&quot;
  ..$ : chr &quot;myfun2&quot;
 $ args :List of 2
  ..$ : chr  &quot;x&quot; &quot;w&quot;
  ..$ : chr  &quot;x&quot; &quot;z&quot; &quot;w&quot;
 $ param:List of 2
  ..$ :List of 1
  .. ..$ : chr  &quot;x&quot; &quot;w = 1&quot;
  ..$ :List of 1
  .. ..$ : chr  &quot;x&quot; &quot;z&quot; &quot;w&quot;
</code></pre>
<p>Note, that there's a <code>utils:::print.ls_str</code>.</p>
<hr />
<p><em>Data:</em></p>
<pre><code>myfun1 &lt;- function(x, w=1) return(x * w)
myfun2 &lt;- function(x, z, w) return(z*(x / w))
</code></pre>
","2024-01-12 12:00:13","4","Answer"
"77806354","","How to find the function arguments of a function within a given environment?","<p>I am trying to build a data frame like,</p>
<pre><code>  fun     args               uses_arg              
1 myfun   function (x, w=1)  function (x, arg)
</code></pre>
<p>where column &quot;fun&quot; contains all the functions in the chosen environment, and args the function arguments. I would like to have the info in a dataframe for further filtering. Consider the following code.</p>
<pre><code>myfun &lt;- function(x, w=1) return(x * w)
 lsf.str()
# myfun : function (x, w)               # info from lsf.str().
# uses_arg : function (x, arg) 

 lsf_text &lt;- lsf.str()
 class(lsf_text)
#  [1] &quot;ls_str&quot;                         # class.
#
 print.default(lsf_text)                # print as is.
#  [1] &quot;myfun&quot;
#  attr(,&quot;envir&quot;)
#  &lt;environment: R_GlobalEnv&gt;
#  attr(,&quot;mode&quot;)
#  [1] &quot;function&quot;
#
# print class 
 print(lsf_text)
#  myfun : function (x, w)     # &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
#  uses_arg : function (x, arg)# &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; 
#-------------------------------------------
</code></pre>
<ul>
<li>Q1: How or where can I find the function call after the semicolon,
i.e. &quot;function (x, w)&quot;, preferably using R base functions.</li>
<li>Q2: Where to find the actual print function used. The function could give a clue.</li>
</ul>
","2024-01-12 11:49:59","1","Question"
"77802910","77802826","","<p>Firstly, func <code>fix_age()</code> has incorrect code. You should add 4 spaces before <code>index = 0</code> because python flow-control clauses rely on spaces.</p>
<pre><code>def fix_age(index):
    if (index &gt;= 13 and index &lt; 15) or (index &gt; 16 and index &lt;= 19):
        index = 0
</code></pre>
<p>Secondly, you can't change variable in this case. You should return new value and apply it to the variable. And thirdly, if you want to print variable, you must return <code>summ</code>, not clause <code>print(summ)</code>.</p>
<pre><code>a = int(input(&quot;Age1: &quot;))
b = int(input(&quot;Age2: &quot;))
c = int(input(&quot;Age3: &quot;))


def fix_age(index):
    if (index &gt;= 13 and index &lt; 15) or (index &gt; 16 and index &lt;= 19):
        index = 0
    return index
def filter_teens(a, b, c):
    a = fix_age(a)
    b = fix_age(b)
    c = fix_age(c)
    summ = a+b+c
    return summ
print(filter_teens(a ,b ,c))
</code></pre>
","2024-01-11 20:37:12","1","Answer"
"77802882","77802826","","<p>As the comments suggested you are not returning a value from your function which syntactically cannot work with what you are trying to do as you have posted your code.</p>
<p>The solution you are likely looking for is here, simply changing the <code>return</code> values of your functions:</p>
<p><strong>Note: I have added comments where I thought important to explain the code changes</strong></p>
<pre><code>try:
    # FYI, this try catches most basically anything 
    # entered that isn't a number/int
    a = int(input(&quot;Age1: &quot;))
    b = int(input(&quot;Age2: &quot;))
    c = int(input(&quot;Age3: &quot;))
except Exception as ex:
    a = 0
    b = 0
    c = 0
    print('Error with initialization :', ex)


def fix_age(index):
    # as the try-catch catches int errors above, hitting
    # issues here seems less likely, plus we catch the calls below.
    if (index &gt;= 13 and index &lt; 15) or (index &gt; 16 and index &lt;= 19):
        index = 0

    # you must return this value from the function if you want to
    # use it logically, there are other ways to use the return of
    # a function as a variable, but this is likely easiest to understand
    # as a new programmer
    return index


def filter_teens(a, b, c):
    # simply catch all calls to see if there are issues, and show them
    try:
        a_fixed = fix_age(a)
    except Exception as a_ex:
        print('error with a', a_ex)
        a_fixed = 0
    try:
        b_fixed = fix_age(b)
    except Exception as b_ex:
        print('error with b', b_ex)
        b_fixed = 0
    try:
        c_fixed = fix_age(c)
    except Exception as c_ex:
        print('error with c', c_ex)
        c_fixed = 0
    summ = a_fixed + b_fixed + c_fixed
    return summ  # smarter to return this val and use it where needed


# print out the call as we are only returning from filter_teens now
print(filter_teens(a, b, c))

</code></pre>
<p>Overall the issue was that, based on my take of your posted code, you were expecting function calls to be 'magical'... haha they are, but they normally need to be assigned to values to use them in other methods/functions as the call is being placed, this is what I am showing.</p>
<p>In my use, I think of functions as pieces of code that operate logic for the app (in your case by altering variables to be used elsewhere). For that to work in your case, you need to pass <code>return</code> values back from your function logic so it can be used where the values are needed/accessed.</p>
","2024-01-11 20:31:01","3","Answer"
"77802826","","Python not getting the result I expect from my Function","<pre><code>a = int(input(&quot;Age1: &quot;))
b = int(input(&quot;Age2: &quot;))
c = int(input(&quot;Age3: &quot;))


def fix_age(index):
    if (index &gt;= 13 and index &lt; 15) or (index &gt; 16 and index &lt;= 19):
    index = 0
     
    

def filter_teens(a, b, c):
    fix_age(a)
    fix_age(b)
    fix_age(c)
    summ = a+b+c
    return print(summ)
filter_teens(a ,b ,c)
</code></pre>
<p>I am trying to change the one of the ages to zero if it is a number between 13 to 19 not including 16 and 15 can not make it, already lost my mind.</p>
<p>What I am doing wrong here?</p>
","2024-01-11 20:22:54","0","Question"
"77802330","77801301","","<p>You can deal with the numbers as digits by converting the price to a floating-point number</p>
<pre><code>// Convert the price to a floating-point number
let priceValue = parseFloat(price.textContent);

      item.innerHTML = 
      `
          &lt;div class=&quot;price-info&quot;&gt;
              &lt;div class=&quot;price&quot;&gt;${priceValue.toFixed(2)}&lt;/div&gt;
          &lt;/div&gt;
      `;

      cart.appendChild(item);

      // Checkout calculation
      let totalPriceDiv = document.querySelector(&quot;.total-price&quot;);
      totalPrice += priceValue;
      totalPriceDiv.innerHTML = totalPrice.toFixed(2);
    });
  });
};
</code></pre>
","2024-01-11 18:36:23","1","Answer"
"77801839","","Dilemma in a swapping question - whose logic is correct?","<blockquote>
<p>Define a function SWAP(SCORES) to swap all those values in the list of SCORES, which are
alternate elements.
For example: If the SCORES contain [200, 456, 300, 100, 234, 678], the output should be displayed as [300, 200, 100, 456, 678, 234].</p>
</blockquote>
<p>Now the pattern of arranging is kinda peculiar, since if [1,2,3,4,5,6] was the order, then the result was in the order [3,1,4,2,6,5].</p>
<pre class=""lang-py prettyprint-override""><code>while True:
    l=eval(input('List: '))
    x=len(l)
    n=x//4
    t=4*n
    l1=l[:t]
    print(l1)
    l2=l[t:]
    print(l2)
    for i in range((len(l1)//2)):
        l1[i],l1[i+2]=l1[i+2],l1[i]
        #l1 shuffling over
    if len(l2)==1:
        l1+=l2
        print('Shuffled list:',l1)
    elif len(l2)&gt;=2:
        l2=l2[::-1]
        l1+=l2
        print('Shuffled list:',l1)
    elif len(l2)==0:
        print('Shuffled list:',l1)
        #treating l2 separately
</code></pre>
<hr />
<p>This was what I tried, and it did work well for me.</p>
<pre class=""lang-py prettyprint-override""><code>================================== RESTART: C:/Users/Harikrishnan/OneDrive/Desktop/peculiar shuffling q.py ==================================
List: [200,456,300,100,234,678]
[200, 456, 300, 100]
[234, 678]
Shuffled list: [300, 100, 200, 456, 678, 234]
List: [1,2,3,4]
[1, 2, 3, 4]
[]
Shuffled list: [3, 4, 1, 2]
List: [1,2,3,4,5]
[1, 2, 3, 4]
[5]
Shuffled list: [3, 4, 1, 2, 5]
List: [1,2,3,4,5,6,7]
[1, 2, 3, 4]
[5, 6, 7]
Shuffled list: [3, 4, 1, 2, 7, 6, 5]
List: [1,2,3,4,5,6,7,8]
[1, 2, 3, 4, 5, 6, 7, 8]
[]
Shuffled list: [3, 4, 5, 6, 1, 2, 7, 8]
List: 
Traceback (most recent call last):
  File &quot;C:/Users/Harikrishnan/OneDrive/Desktop/peculiar shuffling q.py&quot;, line 2, in &lt;module&gt;
    l=eval(input('List: '))
KeyboardInterrupt
</code></pre>
<p>My logic was: upto the 4n-th element, everything was fine. Odd position arguments were swapping, even position arguments were swapping, and after that four cases arose:</p>
<ol>
<li>Nothing was left after the 4n elements.</li>
<li>1 element was left,</li>
<li>2 elements were left,</li>
<li>3 elements were left.</li>
</ol>
<hr />
<p>My friend had another logic:</p>
<blockquote>
<p>i think the pattern is last two elements swapped, last third n last 5th, last 4th n last 6th, last 7 n last 10, last 8 n last 11, last 9 n last 12</p>
</blockquote>
<p>Now I am confused. Who of us is right?</p>
","2024-01-11 17:00:38","0","Question"
"77801694","77801581","","<p>Use <code>substitute</code> on the body:</p>
<pre><code>new_fun &lt;- old_fun
body(new_fun) &lt;- do.call(&quot;substitute&quot;, 
  list(body(old_fun), list(VarA = as.name(&quot;VarB&quot;), VarX = as.name(&quot;VarY&quot;))))
dump(&quot;new_fun&quot;, &quot;new_fun.R&quot;) # write it out


new_fun
## function (x) 
## {
##     VarB &lt;- sum(x)
##     VarB &lt;- 2 * VarB
##     VarY &lt;- VarB%%2
## }
</code></pre>
","2024-01-11 16:38:20","3","Answer"
"77801581","","Replace multiple Instances of a variable name in an R function and save the modified function","<p><strong>Context</strong></p>
<p>Consider the following silly MWE:</p>
<pre><code>old_fun &lt;- function(x) {
  VarA &lt;- sum(x)
  VarA &lt;- 2 * VarA
  VarX &lt;- VarA %% 2

 return(list(&quot;VarA&quot; = VarA, &quot;VarX&quot; = VarX))
}
</code></pre>
<p>I want to replace <code>VarA</code> with <code>VarB</code> and <code>VarX</code> <code>VarY</code> to get:</p>
<pre><code>new_fun &lt;- function(x) {
  VarB &lt;- sum(x)
  VarB &lt;- 2 * VarB
  VarY &lt;- VarB %% 2
  
 return(list(&quot;VarB&quot; = VarB, &quot;VarY&quot; = VarY))
}
</code></pre>
<p>Then I want to save <code>new_fun</code> so I can use it.</p>
<p><strong>My Approach</strong></p>
<p>I was thinking something like</p>
<pre><code># Variables to replace
variables_to_replace &lt;- c(&quot;VarA&quot;, &quot;VarX&quot;)
new_variables &lt;- c(&quot;VarB&quot;, &quot;VarY&quot;)

# Replace variables in the function code
modified_code &lt;- deparse(substitute(old_fun))
for (i in seq_along(variables_to_replace)) {
  modified_code &lt;- gsub(variables_to_replace[i], new_variables[i], modified_code)
}

# Create a new function with replaced variables
new_fun &lt;- eval(parse(text = modified_code))
</code></pre>
<p>However, <code>new_fun</code> is <code>NULL</code> and I'm unsure how best to go about saving it to a folder.</p>
","2024-01-11 16:23:06","0","Question"
"77801363","77801269","","<p>You're not setting the variable <code>fired</code> to true; besides that,<br />
the best option would be to use the <code>removeEventListener(eventName, fn)</code>:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>const myScrollFetch = () =&gt; {

  if (window.scrollY &lt;= 30) return; // Do nothing
  
  // Stop listening to scroll event
  window.removeEventListener(""scroll"", myScrollFetch);
  
  window.scrollY &gt; 30 &amp;&amp; fetch(""https://ip2c.org/self"").then((function(t) {
    t.text().then((function(t) {
      t.includes(""IND"") &amp;&amp; (document.getElementById(""IN"").style.display = ""flex"")
    }));
  }));
}

// Listen to scroll event
window.addEventListener(""scroll"", myScrollFetch);</code></pre>
</div>
</div>
</p>
","2024-01-11 15:50:31","1","Answer"
"77801301","","Problem with calculating the total price in shopping cart","<p>I have trouble calculating the total price after adding products to the cart. Instead of adding numbers, the variable adds characters to create a string.</p>
<p><strong>Add to cart function in Vanilla JS:</strong></p>
<pre><code>const addCartBtn = (section) =&gt; {
  let totalPrice = 0;
  cartBtn.forEach(btn =&gt; {
    btn.addEventListener(&quot;click&quot;, () =&gt; {
      const price = btn.parentElement.parentElement.children[3].children[0];

      let cart = document.querySelector('.cart .items');

      let item = document.createElement(&quot;div&quot;);
      item.classList.add(&quot;item&quot;);
      item.innerHTML = 
      `
          &lt;div class=&quot;price-info&quot;&gt;
              &lt;div class=&quot;price&quot;&gt;${price.textContent}&lt;/div&gt;
          &lt;/div&gt;
      `

    cart.appendChild(item);

    // Checkout calculation
    let totalPriceDiv = document.querySelector(&quot;.total-price&quot;);
    let priceCalc = parseFloat(price.textContent).toFixed(2);
    totalPrice += priceCalc;
    totalPriceDiv.innerHTML = totalPrice;

})
})}
</code></pre>
<p><strong>Result</strong>
<a href=""https://i.sstatic.net/6wvQE.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/6wvQE.png"" alt=""Result on the page"" /></a></p>
<p>I tried creating the totalPrice variable as an empty string, array, but each time the variable creates a string instead of adding the numbers to itself.</p>
<p><em>Thanks for the help in advance</em></p>
","2024-01-11 15:41:43","1","Question"
"77801269","","How to fire window.scrollY only one time","<p>I am trying to fire window.scrollY only one time, currently my below code works fine but fire multiple times.</p>
<p>When i run this code it fired multiple times i want to stop this, only window scroll should fire only one time when we scroll the browser.</p>
<pre><code>window.addEventListener(&quot;scroll&quot;, function() {
    window.scrollY &gt; 30 &amp;&amp; fetch(&quot;https://ip2c.org/self&quot;).then((function(t) {
        t.text().then((function(t) {
            t.includes(&quot;IND&quot;) &amp;&amp; (document.getElementById(&quot;IN&quot;).style.display = &quot;flex&quot;)
        }))
    }))
});
</code></pre>
<p>But when i try to run this code to fire window scroll only one time with help of true/false variable value but it doesn't work check below what i have tried.</p>
<pre><code>var fired = false;
window.addEventListener(&quot;scroll&quot;, function() {
    window.scrollY &gt; 30 &amp;&amp; fired === false &amp;&amp; fetch(&quot;https://ip2c.org/self&quot;).then((function(t) {
        t.text().then((function(t) {
            t.includes(&quot;IND&quot;) &amp;&amp; (document.getElementById(&quot;IN&quot;).style.display = &quot;flex&quot;)
        }))
    }))
}, true)
</code></pre>
<p>Any kind of help or suggestion is highly appreciated.</p>
<p>Is this possible to make window.scrollY fire only onetime.</p>
","2024-01-11 15:36:43","-1","Question"
"77800345","77800190","","<p>You can have, from <code>iomanip</code>, the function <a href=""https://en.cppreference.com/w/cpp/io/manip/setw"" rel=""nofollow noreferrer""><code>std::setw()</code></a> that will set the stream width parameter.</p>
<p>By default, the data will be put in the rightmost side. Since you want to pad from the right, i.e. write your string from the leftmost side, you could make use of <a href=""https://en.cppreference.com/w/cpp/io/manip/left"" rel=""nofollow noreferrer""><code>std::left</code></a> to change the default behaviour to your liking.</p>
<p>You could then write the following function (example):</p>
<pre><code>void write_and_pad(std::string_view sv, unsigned int width, bool newline = false)
{
    std::cout &lt;&lt; std::left &lt;&lt; std::setw(width) &lt;&lt; sv;
    if(newline)
        std::cout &lt;&lt; '\n';
}
</code></pre>
<p>The above function accepts a string to write, a width, and optionally a boolean to choose whether or not you want to add a newline.</p>
<p><kbd><a href=""https://godbolt.org/z/b35jdY1fx"" rel=""nofollow noreferrer"">Live example</a></kbd></p>
","2024-01-11 13:14:46","1","Answer"
"77800190","","how i can give some specific amount of spacing on console after printing a string","<p>lets just say that lenght of string is 10 than put 5 spaces on console after string , but if lenght of string is 5 than put 10 spaces on console some buid in function for this purpose in c++
lets say
string s1 , s2 and int num1 , num2 are taken from user
lets suppose s1 is maham and num1 is 20
s2 is fatima  and num2 is 30
so output should be
maham    20
fatima   30</p>
<p>i mean to say that spacing depend on lenght of string such that if lenght of string plus spaces equal to some specific number</p>
<p>the only solution came to my mid is that
let num store the total lengh lets say num=15
num2 stores lenght of string
printing string than
using a loop num-num2 imes which prints space
than print our required number or anything
but i want a solution in form of function which is build into some header file
for c++</p>
","2024-01-11 12:51:03","0","Question"
"77798761","77798588","","<p>Angular code will only execute when you run it in the angular context. When you use <code>ng-bind-html</code> its generated outside the angular context/scope, so angular events like <code>ng-click</code> do not work, you need to rely on pure JS events like <code>onclick</code> so refrain from these scenarios and just code them directly on angular due to complexity of solution!</p>
<p>We can avoid <code>ng-bind-html</code> when angular events are needed and we need to directly code them in the front end and not from input from databases or other methods</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>var app = angular.module('myApp', []);
app.controller('myCtrl', function ($sce, $scope) {
    $scope.items = [];
    for (var i = 1; i &lt;= 2; i++) {
        $scope.items.push({
            description: $sce.trustAsHtml('&lt;h2 onclick=""console.log(\'hello\')""&gt;with onclick item ' + i + '&lt;/h2&gt;')
        });
    };
    $scope.items2 = [];
    for (var i = 1; i &lt;= 2; i++) {
        $scope.items.push({
            description: $sce.trustAsHtml('&lt;h2 ng-click=""console.log(\'hello\')""&gt; with ng-click item ' + i + '&lt;/h2&gt;')
        });
    };
});</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;script src=""https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"" integrity=""sha512-KZmyTq3PLx9EZl0RHShHQuXtrvdJ+m35tuOiwlcZfs/rE7NZv29ygNA8SFCkMXTnYZQK2OX0Gm2qKGfvWEtRXA=="" crossorigin=""anonymous"" referrerpolicy=""no-referrer""&gt;&lt;/script&gt;

&lt;div ng-app=""myApp""&gt;
&lt;div ng-controller=""myCtrl""&gt;
  &lt;div&gt;
    &lt;div ng-repeat=""item in items"" ng-bind-html=""item.description""&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;hr /&gt;
  &lt;div&gt;
    &lt;div ng-repeat=""item in items2"" ng-bind-html=""item.description""&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</p>
","2024-01-11 08:54:54","1","Answer"
"77798588","","Use function from inserted HTML via ng-bind-html","<p>I get a HTML-String from my database and I want to insert this into my AngularJs application via <code> ng-bind-html</code>. I did it like the following:</p>
<p>HTML:</p>
<pre><code>&lt;div ng-bind-html=&quot;myBindHtml&quot;&gt;&lt;/div&gt;
</code></pre>
<p>JavaScript:</p>
<pre><code>$scope.myBindHtml = $sce.trustAsHtml(htmlStringToInsert);
</code></pre>
<p>My HTML (which I want to insert) looks like this:</p>
<p><code>&lt;button ng-click=&quot;testClickEvent()&quot;&gt;TestButton&lt;/button&gt;</code></p>
<p>The insert works fine.</p>
<p>Now I wrote an function (testClickEvent) which the button should call. This simply outputs a string into the console.</p>
<p>But this part does not work. I guess there is no binding from my inserted HTML to this function. Is there any way to call my function?</p>
","2024-01-11 08:19:59","1","Question"
"77797859","77795718","","<p>I have created Http trigger function with runtime stack javascript in VS Code.</p>
<ul>
<li>While creating function if model4 take that will not give <code>function.josn</code>. Like below:</li>
</ul>
<p><img src=""https://i.imgur.com/1wwlGCu.png"" alt=""enter image description here"" /></p>
<ul>
<li>While creating function will take function model3. it will generate <code>function.json</code> file. check below:</li>
</ul>
<p><img src=""https://i.imgur.com/5IhRXZr.png"" alt=""enter image description here"" /></p>
<ul>
<li>After creating the function by followed above model getting like below:</li>
</ul>
<p><img src=""https://i.imgur.com/sh8X8Ow.png"" alt=""enter image description here"" /></p>
<p><strong>function.json:</strong></p>
<pre><code>{
  &quot;bindings&quot;: [
    {
      &quot;authLevel&quot;: &quot;anonymous&quot;,
      &quot;type&quot;: &quot;httpTrigger&quot;,
      &quot;direction&quot;: &quot;in&quot;,
      &quot;name&quot;: &quot;req&quot;,
      &quot;methods&quot;: [
        &quot;get&quot;,
        &quot;post&quot;
      ]
    },
    {
      &quot;type&quot;: &quot;http&quot;,
      &quot;direction&quot;: &quot;out&quot;,
      &quot;name&quot;: &quot;res&quot;
    }
  ]
}
</code></pre>
<ul>
<li>By using below function code successfully connected and sent data to CosmosDB by using database name and container names.</li>
<li>primary key and Cosmos endpoint find like below:</li>
</ul>
<p><img src=""https://i.imgur.com/EdLF6yv.png"" alt=""enter image description here"" /></p>
<p><strong>Function code:</strong></p>
<pre><code>const { app } = require('@azure/functions');
const { CosmosClient } = require('@azure/cosmos');

const endpoint = 'Your cosmos URI';
const key = 'Your cosmos primary key';
const databaseId = 'sample';
const containerId = 'student';

const cosmosClient = new CosmosClient({ endpoint, key });
const container = cosmosClient.database(databaseId).container(containerId);

app.http('httpTrigger1', {
    methods: ['GET', 'POST'],
    authLevel: 'anonymous',
    handler: async (request, context) =&gt; {
        context.log(`Http function processed request for url &quot;${request.url}&quot;`);

        const name = request.query.get('name') || await request.text() || 'world';

        // Perform Cosmos DB operations
        const newItem = {
            id: Date.now().toString(),
            name: name
        };

        const { resource: createdItem } = await container.items.create(newItem);

        return { body: `Hello, ${createdItem.name}! Item created in Cosmos DB.` };
    }
});

</code></pre>
<p><img src=""https://i.imgur.com/W1DKKLc.png"" alt=""enter image description here"" /></p>
<p>By accessing the above URL getting response below:</p>
<p><img src=""https://i.imgur.com/ZgBoyIo.png"" alt=""enter image description here"" /></p>
<p>The data can be visible in azure. check below:</p>
<p><strong>Output:</strong></p>
<p><img src=""https://i.imgur.com/cBdCPXH.png"" alt=""enter image description here"" /></p>
","2024-01-11 05:32:11","2","Answer"
"77797573","77797548","","<p>This is because a <code>set</code> does not have an order in Python, so even though you've written <code>{2, 3, 5, 8}</code> that could be <em>stored</em> in any order.</p>
<p>So in your case my bet is it is being stored as <code>{8, 2, 3, 5}</code> and then you get <code>1 * 8 + 3 * 2 + 5 * 3 + 7 * 5 = 64</code></p>
","2024-01-11 03:51:41","4","Answer"
"77797548","","SUMPROD over a set and a tuple","<p>In the documentation of Python 3.12, it said that sumprod(p, q) returns the sum of products of values from two iterables p and q.</p>
<p>I tried the following example in IDLE, with a set and a tuple:</p>
<pre><code>ptup = (1, 3, 5, 7)
qset = {2, 3, 5, 8}
math.sumprod(qset, ptup)
64
</code></pre>
<p>It is an error, since 1*2 + 3*3 + 5 * 5 + 7*8 != 64.</p>
<p>I tried the sumprod() with lists and also tuples and they work well. I tried to look up whether set is not an iterable object, but the answer I got is definitely a set is iterable.</p>
<p>So what is the problem here? Can we apply sumprod with set and list or set and tuple?</p>
<p>Please explain for me.</p>
<p>Thank you.</p>
","2024-01-11 03:44:22","0","Question"
"77796581","77796377","","<p>You probably don't want to do this at all!  But you can do:</p>
<pre><code>$ cat a.py; echo
def func1(v):
    global x
    x = v

$ cat b.py; echo
#!/usr/bin/env python
import a
try: print(a.x)
except Exception as e: print(f&quot;caught: {e}&quot;)
a.func1(3)
print(f'a.x = {a.x}')

$ PYTHONPATH=. ./b.py
caught: module 'a' has no attribute 'x'
a.x = 3
</code></pre>
<p>That is, if you try 'from a import x' before a.func1 is called, you will throw an Exception.  You could wrap the import in a try/except, but probably the better approach is to provide a value for x outside of any function so that you can do that import.  You could delay the import until after a.func1 is called, but it's a bit weird.  If for some reason you want to delay adding <code>x</code> to the namespace until <code>func1</code> is called, you just need to reference it as <code>a.x</code>.</p>
","2024-01-10 21:51:51","0","Answer"
"77796447","77796377","","<p>In my experience, global variables are (by definition) defined outside of functions. That said, can you do the following?</p>
<pre><code>def func1():
    x = 2
    return x
</code></pre>
<pre><code>from a.py import func1

x = func1()

add = 5 + x
</code></pre>
","2024-01-10 21:23:39","0","Answer"
"77796377","","Using variables created in a function that is defined in another file","<p>I have two .py files, let's say a.py and b.py. In a.py I have a bunch of functions, in these functions variables are created and declared as global:</p>
<pre><code>def func1():
    
    global x

    x = 2

    return x
</code></pre>
<p>In b.py I want to use this function and later its variable, so I import the function:</p>
<pre><code>from a.py import func1

func1()

add = 5 + x
</code></pre>
<p>When I do this I get the error; name 'x' not defined. Why do I get this error and how can I make this work?</p>
<p>I don't know how to make this work whatsoever as I thought &quot;global [variable]&quot; and &quot;from [file] import [function]&quot; would suffice. It did not.</p>
","2024-01-10 21:08:34","-1","Question"
"77795920","77795799","","<p>Functional Interface in java is an interface that contains exactly one abstract method.</p>
<p>Now, in your code, <strong>setId</strong> method actually expecting a String value. But when you are writing a lambda function instead, the expected data type is not matching. As in java, lambda function doesn't have a return type, and basically used to implement a functional interface.</p>
<p>Example of Functional interface :</p>
<pre><code>interface Show{
 void display(String name);
}
....
Show s = (name) -&gt; System.out.println(name);
s.display(&quot;John Doe&quot;);
</code></pre>
<p>For your code, you can simply use ternary condition -</p>
<pre><code>dto.setId(internalState ? value : null);
</code></pre>
","2024-01-10 19:24:10","0","Answer"
"77795799","","Using lambda expression for setting values in Java","<p>This is a question just for curiosity.</p>
<p>Let's say I have a Java POJO class</p>
<pre class=""lang-java prettyprint-override""><code>@Data
public class MyDto{
  private String id;
}
</code></pre>
<p>We can set the values using <code>setId(value)</code>, but the question is, can we use lambda in any way to set the value?</p>
<p>I tried using following</p>
<pre class=""lang-java prettyprint-override""><code>public class Service{
  Boolean internalState = false;

  ...
  public void someMethod(String value){
    MyDto dto = new MyDto();
    
    // based on some logic, i want to assign a value (just an example)
    dto.setId((internalState) -&gt; internalState ? value : null);

    // I know i can do this
    if(internalState){
      dto.setId(value);
    }
    else {
      dto.setId(null);
    }
    ...
  }

  ...
}
</code></pre>
<p>I tried using above but it my IDE yelled at me with this error &quot;Target type of a lambda conversion must be an interface&quot;. I looked for this error and found this has to do something with Function Interface in java.</p>
<p>I know this may not be any actual use case, but to understand Functional Interface deeper, how can we achieve this? Is this even possible?</p>
","2024-01-10 18:57:24","0","Question"
"77795718","","Azure Function with Javascript as http trigger language - missing function.json when generated via VS Code","<p>I had created Azure Function with Javascript as the platform language. It works and deploys just fine. However, it's missing function.json. Is it expected to generated as I seen other posts having it. The reason I am asking this is because I need to add other dependencies (import modules) to write the code to connect to Azure Cosmo DB as an example.</p>
<p>Please let me point me the right path as I tried searching around but no luck for Azure Function with Javascript and if I do found them, they are older posts with function.json created automatically.</p>
<p>Thanks in advance.</p>
<p>I created a boilerplate using VS Code but missing function.json. Is this expected to be generated? It was shown on other tutorials and posts.</p>
<p>Answer: I fixed the function.json. It works for v3. I will try with v4 without using function.json and post it here if it works.</p>
<p>function.json for v3</p>
<pre><code>{
  &quot;bindings&quot;: [
    {
      &quot;authLevel&quot;: &quot;anonymous&quot;,
      &quot;type&quot;: &quot;httpTrigger&quot;,
      &quot;direction&quot;: &quot;in&quot;,
      &quot;name&quot;: &quot;req&quot;,
      &quot;methods&quot;: [
        &quot;get&quot;,
        &quot;post&quot;
      ]
    },
    {
      &quot;type&quot;: &quot;http&quot;,
      &quot;direction&quot;: &quot;out&quot;,
      &quot;name&quot;: &quot;res&quot;
    },
    {
      &quot;type&quot;: &quot;cosmosDB&quot;,
      &quot;direction&quot;: &quot;out&quot;,
      &quot;name&quot;: &quot;outputDocument&quot;,
      &quot;databaseName&quot;: &quot;test_DB&quot;,
      &quot;collectionName&quot;: &quot;test_container&quot;,
      &quot;createIfNotExists&quot;: &quot;false&quot;,
      &quot;connectionStringSetting&quot;: &quot;CosmosDbConnectionString&quot;
    }
  ]
}
</code></pre>
","2024-01-10 18:43:08","2","Question"
"77793892","","Assistance with Kusto Query Language (KQL) for Identifying Specific Patterns in User Login Attempts","<p>I'm currently working on analyzing login attempts in Azure AD B2C using Kusto Query Language (KQL). I have a specific pattern of malicious activity where an attacker is using the same sequence of operations during login attempts.</p>
<pre><code>AuditLogs
| extend OperationOrder = case(
    OperationName == &quot;Validate local account credentials&quot;, 1,
    OperationName == &quot;Update user&quot;, 2,
    OperationName == &quot;Reset user password&quot;, 3,
    OperationName == &quot;Update StsRefreshTokenValidFrom Timestamp&quot;, 4,
    0
)
| project OperationOrder, Resource, TargetResources
| extend UserPrincipalName = tostring(parse_json(TargetResources)[0].userPrincipalName)
| summarize Count1 = countif(OperationOrder == 1),
            Count2 = countif(OperationOrder == 2),
            Count3 = countif(OperationOrder == 3),
            Count4 = countif(OperationOrder == 4)
            by UserPrincipalName
| where Count1 &gt; 0 and Count2 &gt; 0 and Count3 &gt; 0 and Count4 &gt; 0
| project-away Count1, Count2, Count3, Count4
</code></pre>
<p>I've tried writing a KQL query to identify users who have undergone this specific sequence of operations but it does not seems to work as I am not getting the correct sequence.</p>
<p>Can I get some insight on how to modify the code so that it takes the correct sequence needed?</p>
<p>When I run the query, it shows results for individual operations, not requiring them to happen in a specific sequence. I want the query to only display entries where all specified operations occur in order</p>
","2024-01-10 13:55:07","1","Question"
"77792988","77792803","","<p>Set in <code>postgresql.conf</code>:</p>
<pre class=""lang-none prettyprint-override""><code>shared_preload_libraries = 'auto_explain'
auto_explain.log_min_duration = 1s  # or whatever else you want
auto_explain.log_analyze = on
auto_explain.log_buffers = on
auto_explain.log_nested_statements = on
</code></pre>
<p>Then restart PostgreSQL. That will write the execution plan of all long running statements to the log, so that you can analyze the problem.</p>
<p><strong>Warning:</strong> <code>auto_explain.log_analyze = on</code> causes a notable performance impact.</p>
","2024-01-10 11:24:19","2","Answer"
"77792803","","i have function to update but its take too long time execution","<p>hy, i have a function to update data table in my postgresql but to execution the function is take too long time. however, when I run it as a regular update statement query it doesn't take any long time.</p>
<p>my function is</p>
<pre><code>CREATE OR REPLACE FUNCTION &quot;public&quot;.&quot;f_ranking&quot;()
  RETURNS &quot;pg_catalog&quot;.&quot;trigger&quot; AS $BODY$BEGIN
    
UPDATE t_personal_stat
set &quot;RANKG&quot; = rr.rk
FROM
    (
SELECT
rank() over (order by PS.&quot;PONTOT&quot; DESC, P.&quot;NAM&quot; ASC ) as rk,
PS.&quot;USCD&quot;,PS.&quot;LEVL&quot;,PS.&quot;PONTOT&quot;
FROM
t_personal_stat PS JOIN t_personal P ON P.&quot;USCD&quot;=PS.&quot;USCD&quot;
)rr
WHERE
t_personal_stat.&quot;USCD&quot;=rr.&quot;USCD&quot;;

    RETURN NEW;
END$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100
</code></pre>
<p>I hope to reduce the execution time to be faster</p>
","2024-01-10 10:52:09","0","Question"
"77791726","77785716","","<p>You missed the semicolon (;) in the end of SELECT and RETURN statements.
Try like this:</p>
<pre><code>CREATE OR REPLACE FUNCTION TOTALSALARY
RETURN NUMBER
IS 
TOTAL_SAL  NUMBER := 0;

BEGIN
  SELECT NVL(SUM(SALARY),0) INTO TOTAL_SAL FROM EMPLOYEE;
  RETURN TOTAL_SAL;
END TOTALSALARY;
/
</code></pre>
","2024-01-10 08:03:06","0","Answer"
"77791439","77791397","","<p>Try this, you have added reset post data at wrong place that part of code never gets executed.</p>
<pre><code>function wpb_postsbycategory2() {
// the query
$the_query = new WP_Query( array(
'post__not_in'=&gt;array(get_the_ID()),
'category_name' =&gt; 'news',
'posts_per_page' =&gt; 1
) );


if ( $the_query-&gt;have_posts() ) {

while ( $the_query-&gt;have_posts() ) {
$the_query-&gt;the_post(); {
$string .= '&lt;div class=&quot;block inline-group &quot; data-widget-id=&quot;inline-group-0-no-images&quot;&gt;
    &lt;ul&gt;
        &lt;li&gt;&lt;a href=&quot;' . get_the_permalink() .'&quot; rel=&quot;bookmark&quot;&gt;' . get_the_title() .'&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;';
}
}
}

/* Restore original Post Data */
wp_reset_postdata();
return $string;


}

add_shortcode('categoryposts2', 'wpb_postsbycategory2');

add_action('inline_group_0', function () {
echo do_shortcode('[SHORTCODE2]');
}, 10);


// SECOND USAGE
function wpb_postsbycategory() {
// the query
$the_query = new WP_Query( array(
'post__not_in'=&gt;array(get_the_ID()),
'category_name' =&gt; 'news',
'posts_per_page' =&gt; 2
) );


if ( $the_query-&gt;have_posts() ) {
$string .= '&lt;ul class=&quot;result-grid desktop-2 mobile-2&quot;&gt;';
    while ( $the_query-&gt;have_posts() ) {
    $the_query-&gt;the_post();
    if ( has_post_thumbnail() ) {
    $string .= '&lt;li&gt;
        &lt;div class=&quot;recoinc&quot;&gt;';
            $string .= '&lt;a href=&quot;' . get_the_permalink() .'&quot; rel=&quot;bookmark&quot;&gt;' . get_the_post_thumbnail($post_id, array( 450, 300) ) . get_the_title() .'&lt;/a&gt;
    &lt;/li&gt;';
    } else {
    // if no featured image is found
    $string .= '&lt;li&gt;&lt;a href=&quot;' . get_the_permalink() .'&quot; rel=&quot;bookmark&quot;&gt;' . get_the_title() .'&lt;/a&gt;&lt;/li&gt;';
    }
    }
    } else {
    // no posts found
    $string .= '';
    }
    $string .= '&lt;/ul&gt;';
/* Restore original Post Data */
wp_reset_postdata();
return $string;


}
// Add a shortcode
add_shortcode('categoryposts', 'wpb_postsbycategory');

add_action('after_feed_block_0', function () {
echo do_shortcode('[SHORTCODE1]');
}, 20);
</code></pre>
","2024-01-10 06:59:29","1","Answer"
"77791397","","Same function twice only works once","<p>I can't find the solution although I'm sure there is one. I use post__not_in. But I need it twice in my functions.php (Wordpress). If I use the first one only, it works. If I use the second one only, it works, too. But if I use both, the second post__not_in gets ignored. The functions rest works like a charm. I'm sure to most of you this is completely clear. I am getting crazy about it. Do you have an Idea to share? Best regards and thank you so much!</p>
<pre><code>
function wpb_postsbycategory2() {
// the query
$the_query = new WP_Query( array( 
    'post__not_in'=&gt;array(get_the_ID()),
    'category_name' =&gt; 'news', 
    'posts_per_page' =&gt; 1
) ); 
    

if ( $the_query-&gt;have_posts() ) {

    while ( $the_query-&gt;have_posts() ) {
        $the_query-&gt;the_post(); { 
            $string .= '&lt;div class=&quot;block inline-group &quot; data-widget-id=&quot;inline-group-0-no-images&quot;&gt;
&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;' . get_the_permalink() .'&quot; rel=&quot;bookmark&quot;&gt;' . get_the_title() .'&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;';
        }
    }
}

    
return $string;
    
/* Restore original Post Data */
wp_reset_postdata();
}

add_shortcode('categoryposts2', 'wpb_postsbycategory2');

add_action('inline_group_0', function () {
    echo do_shortcode('[SHORTCODE2]');
}, 10);


// SECOND USAGE
function wpb_postsbycategory() {
// the query
$the_query = new WP_Query( array( 
    'post__not_in'=&gt;array(get_the_ID()),
    'category_name' =&gt; 'news', 
    'posts_per_page' =&gt; 2
) ); 
    

if ( $the_query-&gt;have_posts() ) {
    $string .= '&lt;ul class=&quot;result-grid desktop-2 mobile-2&quot;&gt;';
    while ( $the_query-&gt;have_posts() ) {
        $the_query-&gt;the_post();
            if ( has_post_thumbnail() ) {
            $string .= '&lt;li&gt;&lt;div class=&quot;recoinc&quot;&gt;';
            $string .= '&lt;a href=&quot;' . get_the_permalink() .'&quot; rel=&quot;bookmark&quot;&gt;' . get_the_post_thumbnail($post_id, array( 450, 300) ) . get_the_title() .'&lt;/a&gt;&lt;/li&gt;';
            } else { 
            // if no featured image is found
            $string .= '&lt;li&gt;&lt;a href=&quot;' . get_the_permalink() .'&quot; rel=&quot;bookmark&quot;&gt;' . get_the_title() .'&lt;/a&gt;&lt;/li&gt;';
            }
            }
    } else {
    // no posts found
 $string .= '';
}
$string .= '&lt;/ul&gt;';
    
return $string;
    
/* Restore original Post Data */
wp_reset_postdata();
}
// Add a shortcode
add_shortcode('categoryposts', 'wpb_postsbycategory');

add_action('after_feed_block_0', function () {
    echo do_shortcode('[SHORTCODE1]');
}, 20);

</code></pre>
","2024-01-10 06:52:06","0","Question"
"77789995","","DRY: don't repeat yourself in Lua","<p>There is a way to not rewrite the same part (the cycle <code>for i = 1...end</code>) twice?</p>
<pre><code>local function myfunc(frame,method)
    if frame:IsShown() then
        for i = 1, #frame.buttons do
            frame.buttons[i]:HookScript(&quot;OnMouseDown&quot;, method)
        end
    else
        frame:SetScript(
            &quot;OnShow&quot;,
            function(frame)
                for i = 1, #frame.buttons do
                    frame.buttons[i]:HookScript(&quot;OnMouseDown&quot;, method)
                end
            end
        )
    end
end
</code></pre>
<p>Where</p>
<ul>
<li><code>IsShown()</code>, <code>HookScript()</code> and <code>SetScript()</code> are all in-game API</li>
</ul>
<p>EDIT</p>
<p>Maybe a recursive function? It seems to work:</p>
<pre><code>local function myfunc(frame,method)
    if frame:IsShown() then
        for i = 1, #frame.buttons do
            frame.buttons[i]:HookScript(&quot;OnMouseDown&quot;, method)
        end
    else
        frame:SetScript(
            &quot;OnShow&quot;, --when &quot;OnShow&quot; is fired, IsShown() become true
            function()
                myfunc(frame,method)
            end
        )
    end
end
</code></pre>
","2024-01-09 22:11:58","0","Question"
"77789964","77789945","","<p>It's not possible with this function signature. You can't extract size of array after it has decayed to a pointer (and <code>A triplet(T array[])</code> is exactly the same as <code>A triplet(T* array)</code>).</p>
<p>You can accept the array by reference though, and that comes with length included:</p>
<pre><code>template &lt;std::size_t N&gt;
A triplet(T(&amp;array)[N])
{
    static_assert(N &gt;= 3, &quot;Array must have at least 3 elements&quot;);
    // ...
    return {};
}
</code></pre>
","2024-01-09 22:03:25","3","Answer"
"77789945","","How do I control the minimum length of an array passed to a function using templates?","<p>I would like to create a constructor for a template class that holds 3 members of type <code>T</code>, that receives an array of type <code>T</code> and assigns the first 3 values to the members.</p>
<p>However, I also want to make sure the array is at least 3 members long.</p>
<p>The constructor syntax must be as follows:</p>
<p><code>A&lt;T&gt; triplet(T array[])</code></p>
<p>How do I make sure the array has 3 or more values, without passing additional parameters?</p>
<p>I tried to calculate the array size in the function, but because it is passed as a parameter, the <code>sizeof(array)</code> is the <code>sizeof(T*)</code> which doesn't work.</p>
","2024-01-09 21:58:02","0","Question"
"77789359","77789201","","<p>It's fine for your <code>passValidation</code> to print out useful statements indicating how the password is invalid, but ultimately it should <code>return</code> <code>True</code> or <code>False</code> to indicate password validity.</p>
<p>Second, you don't necessarily have to enter into a loop if the first input password is fine in the first place. Instead of immediately jumping into a while loop, prompt for a password then enter into the loop if it's invalid. This makes it clearer what your <code>while</code> condition should be rather than using <code>while True</code> with a <code>break</code> statement.</p>
<pre><code>def passValidation(password):
    if len(password) &lt; 8 :
        print('ur password must be at least 8 char :')
        return False
    elif password.isnumeric():
        print('ur password must have one letter')
        return False
    elif password.isalpha():
        print('ur password must have one number')
        return False
    else:     
        print('ur password is true')
        return True

password = input('enter ur password:')

while not passValidation(password):
    password = input('enter ur password:')
</code></pre>
","2024-01-09 19:44:22","0","Answer"
"77789201","","how to stop while loop used in function?","<p>in this piece of code the program is asking to enter the password,password must have at least 8 char and with numbers and letters,if any of these condition did not meet so the program give warning and ask again to enter the password! so when the password is met the condition ,the loop does not stop and ask again!!
I'd like to know how can I stop it when the password is correct?</p>
<pre><code>def passValidation(password):

   if len(password) &lt; 8 :
     print('ur password must be at least 8 char :')
   elif password.isnumeric():
     print('ur password must have one letter')
   elif password.isalpha():
     print('ur password must have one number')
   else :     
     print('ur password is true')
    
while True :
  password = input('enter ur password:')     
  passValidation(password)
</code></pre>
","2024-01-09 19:13:50","-2","Question"
"77785716","","Warning: Function created with compilation error in PL/SQL","<pre><code>CREATE OR REPLACE FUNCTION TOTALSALARY
RETURN NUMBER
IS 
TOTAL_SAL  NUMBER := 0;

BEGIN
  SELECT NVL(SUM(SALARY),0) INTO TOTAL_SAL FROM EMPLOYEE
  RETURN TOTAL_SAL
END TOTALSALARY;
/
</code></pre>
<p>Here is the ques</p>
<p>Write a PL/SQL function that should return the total salary of all the employees.</p>
<p>Functional Requirement:</p>
<p>Function Name: TOTALSALARY</p>
<p>EMPLOYEE:</p>
<pre><code>Column name Data type   Constraints
EMP_ID  NUMBER(5)   PK
FIRST_NAME  VARCHAR2(25)    NOT NULL
LAST_NAME   VARCHAR2(25)     
DEPT    VARCHAR2(25)
SALARY                  NUMBER
</code></pre>
","2024-01-09 09:38:42","0","Question"
"77785539","77772436","","<p>To me this looks like a bug in <code>doFuture</code>. The <code>%dofuture%</code> operator does record the environment where it was called, and passes it to <code>doFuture:::doFuture2</code> which actually does all the work, but somewhere along the line the environment isn't being used. Henrik Bengtsson (the author of <code>doFuture</code>) knows what he is doing, so he could possibly fix this if you report it to him as an &quot;issue&quot; at <a href=""https://github.com/HenrikBengtsson/doFuture/issues"" rel=""nofollow noreferrer"">https://github.com/HenrikBengtsson/doFuture/issues</a>.  However, it may be a design flaw in <code>foreach</code> that <code>doFuture</code> has no way to work around.</p>
<p>Edited to add a new method:</p>
<p>I managed to construct a workaround, and here's a way to run the code without the error message you saw, and to obtain the results.  Change your <code>myFunction3</code> by putting the
code executed in the <code>foreach</code> loop into a local function.  Instead of trying to save results by assignment to your local variables, return them from the function, and process them afterwards.  Here's code to do those things:</p>
<pre class=""lang-r prettyprint-override""><code>
library(foreach)
library(doFuture)
library(dplyr)

myFunction1 = function(x){
  
  y = x + 1
  return(y)
}

myFunction2 = function(x, y){
  
  z = x + y
  return(z)
}

myFunction3 = function(function_var4, function_var5, function_var6){
  
  # Claim some local variables
  local_var1 = vector(&quot;list&quot;, length = ncol(function_var4))
  local_var2 = vector(&quot;list&quot;, length = ncol(function_var4))
  local_var3 = function_var5 %&gt;% pull(function_var6)
  local_var4 = data.frame(Var = seq(min(local_var3), max(local_var3), length.out = 10000))
  
  # Do some parallel calculation
  plan(multisession, workers = parallel::detectCores() - 2)
  
  loopcode &lt;- function(i) {
    
    data_glm = data.frame(Var = local_var3,
                          PreAbs = function_var4[,i])
    
    mod_glm = glm(PreAbs ~ poly(Var, 3), family = binomial, data = data_glm)
    
    # Result of the calculation
    local_local_var1 &lt;- predict(mod_glm, newdata = local_var4, se = F, type = &quot;response&quot;)
    
    # Some simple calculation using local_local_var1
    # Return the result
    list(return_var1 = mean(local_local_var1), 
         return_var2 = myFunction1(local_local_var1),
         return_local = local_local_var1)    
  }
  
  res &lt;- foreach (i = 1:ncol(function_var4)) %dofuture% loopcode(i)
  
  # Close multisession workers by switching plan
  plan(sequential)

  # Use the final value of local_local_var1
  local_var5 =  myFunction2(res[[ncol(function_var4)]]$return_local, function_var5)

  # Extract all values of the others
  local_var1 &lt;- lapply(res, function(x) x$return_var1)
  local_var2 &lt;- lapply(res, function(x) x$return_var2)
  
  return(list(opt = unlist(local_var1),
              nw = unlist(local_var2),
              miv = unlist(local_var5)))
}


global_var1 = matrix(sample(c(0, 1), size = 10000, replace = T), ncol = 4) %&gt;%
  as.data.frame()
global_var2 = data.frame(C1 = rnorm(100))
global_var3 = &quot;C1&quot;

result = myFunction3(function_var4 = global_var1, function_var5 = global_var2, function_var6 = global_var3)

</code></pre>
","2024-01-09 09:09:41","0","Answer"
"77783852","77783514","","<p>I found a solution for my problem by adding the following code to my functions.php</p>
<pre><code>add_filter( 'woocommerce_add_to_cart_redirect', 'custom_redirect_function' );
    function custom_redirect_function() {
    return get_permalink( wc_get_page_id( '#' ) );
}
</code></pre>
","2024-01-09 00:51:28","1","Answer"
"77783514","","Add product to cart with URL slug Woocommerce sends me directly to checkout page","<p>I want to add a product to cart from a URL slug, I found a common proper way default by Woocommerce to achieve this. But unfortunately the URL send me directly to the checkoutpage. I also changed settings in Woocommerce to disable send me to cart.</p>
<pre><code>https://example.com/page-slug/?add-to-cart=25&amp;quantity=1
</code></pre>
<p>and tried</p>
<pre><code>https://example.com/page-slug/?add-to-cart=25
</code></pre>
<p>Does someone have any idea what goes wrong. This is the source:</p>
","2024-01-08 22:39:33","1","Question"
"77782733","77780066","","<p><strong>The concerns in the comments are fully valid.</strong></p>
<p>That said, using an order by in your select statement would put them in the order you list. Because your prefix is always 3 characters, you can pull everything on the right - 3 to use the number (cli<strong>001</strong>) to sort by.</p>
<pre><code>select
    *
from ppm_schema.dim_source
order by RIGHT(source_id, LEN(source_id)-3)
</code></pre>
<p><strong>Results</strong></p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>source_id</th>
<th>source_name</th>
</tr>
</thead>
<tbody>
<tr>
<td>cli001</td>
<td>clinical</td>
</tr>
<tr>
<td>qiv002</td>
<td>qivia</td>
</tr>
<tr>
<td>abx003</td>
<td>ab</td>
</tr>
<tr>
<td>bxx004</td>
<td>b</td>
</tr>
</tbody>
</table>
</div>
<p>If that is everything that your function does, you could put it into a single query.</p>
<pre><code>create function ppm_schema.generatesourceid
    (@SourceName varchar(50))
returns varchar(50)
as
begin
    return (SELECT 
            LEFT(LEFT(@SourceName, 3) + 'xxx', 3) 
                + RIGHT('000' + CAST(COUNT(*) + 1 AS varchar(3)), 3)
        FROM ppm_schema.dim_source)
end
</code></pre>
<p>Beyond the scope of the question: The generated ids that I have seen tend to use a sequencer, sequencer table, or at least a lock followed by direct insert.</p>
","2024-01-08 19:15:46","1","Answer"
"77781514","77781369","","<p>This is because of how implicit declarations were defined in C89.  Only a bare identifier qualifies as an implicit declaration.</p>
<p>This is spelled out in section 3.3.2.2 of the <a href=""http://port70.net/%7Ensz/c/c89/c89-draft.html"" rel=""noreferrer"">C89 standard</a>:</p>
<blockquote>
<p>If the expression that precedes the parenthesized argument list in a
function call consists solely of an identifier, and if no declaration
is visible for this identifier, the identifier is implicitly declared
exactly as if, in the innermost block containing the function call,
the declaration</p>
<pre><code>     extern int  identifier();
</code></pre>
<p>appeared.</p>
</blockquote>
<p>Since in this case:</p>
<pre><code>(func)(a);
</code></pre>
<p>The expression preceding the parenthesized arguments is not <em>just</em> an identifier, it does not qualify as an implicit declaration.</p>
<p>As for why gcc still seems to allow this even in C99 and later mode with <code>-pedantic</code>, I'd chalk that up to either an extension or a bug.</p>
","2024-01-08 15:17:47","5","Answer"
"77781369","","Why does enclosing the function name in parenthesis disable implicit declaration?","<p>This is the construct in question:</p>
<pre><code>int main (void)
{
    int a = 5;
    
    (func)(a);

    return 0;
}
</code></pre>
<p>Compiled with GNU GCC C99 the following will happen:</p>
<ul>
<li>If <code>func</code> was defined as a function before <code>main()</code> the function will be executed.</li>
<li>If <code>func</code> was not defined as a function before <code>main</code> the compiler issues &quot;func undeclared&quot; error</li>
</ul>
<p>However, if I remove the braces around <code>func</code> the function will be implicitly declared so even if it is defined in another translation unit, it will execute, which is the behavior I would always expect.</p>
<p>A recursive-descent parser identifies a function call expression (also according to the standard) by the presence of <code>(arguments)</code> which is why code like <code>3(a);</code> would issue an error: &quot;called object is not a function or function pointer&quot;. And just like other similar operations such as the suffix increment, what comes before <code>(arguments)</code> is expected to be a subexpression - in this case the constraint demands an operand that is a function or a function pointer. With every other operation you can freely add as many brackets as you like: <code>((a))++</code> and that wouldn't change a thing, however with function calls it does not look quite like that.</p>
<p>Why would that code behave differently, is it a language feature that I didn't know of, or a result from some carefully crafted parsing design choice?</p>
","2024-01-08 14:56:28","5","Question"
"77780066","","Don't sort the result set of function in SQL Server","<p>I have table in SQL Server called <code>source</code> with <code>source_id</code> as primary key and <code>source_name</code>.</p>
<p>This is my function which is generating an incorrect result.</p>
<p>This is insert statement using below function:</p>
<pre><code>insert into ppm_schema.dim_source (source_id, source_name)
values (ppm_schema.generatesourceid('clinical'), 'clinical');

insert into ppm_schema.dim_source (source_id, source_name)
values (ppm_schema.generatesourceid('qivia'), 'qivia');

insert into ppm_schema.dim_source (source_id, source_name)
values (ppm_schema.generatesourceid('ab'), 'ab');

insert into ppm_schema.dim_source (source_id, source_name)
values (ppm_schema.generatesourceid('b'), 'b');
</code></pre>
<pre><code>create function ppm_schema.generatesourceid
    (@SourceName varchar(50))
returns varchar(50)
as
begin
    declare @count varchar(50);
    declare @ide varchar(50);
    declare @maxid varchar(50);
    declare @prefix varchar(20);
    declare @id varchar(20);

    with cte as
    (
        select top 1 
            count(*) + 1 as number
        from 
            ppm_schema.dim_source 
    )
    select @count = number from cte;

    select @prefix = left(@SourceName, 3);

    if len(@SourceName) &gt;= 3
    begin
        select @ide = @prefix + right('000' + cast(@count as varchar(3)), 3)
    end
    else if len(@SourceName) &gt;= 2
    begin
        select @ide = @prefix + 'x'+ right('000' + cast(@count as varchar(3)), 3)
    end
    else if len(@SourceName) &gt;= 1
        select @ide = @prefix + 'xx' + right('000' + cast(@count as varchar(3)), 3)

    return @ide
end
</code></pre>
<p>Result of this function:</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>source_id</th>
<th>source_name</th>
</tr>
</thead>
<tbody>
<tr>
<td>abx003</td>
<td>ab</td>
</tr>
<tr>
<td>bxx004</td>
<td>b</td>
</tr>
<tr>
<td>cli001</td>
<td>clinical</td>
</tr>
<tr>
<td>qiv002</td>
<td>qivia</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>I need the result to be</p>
<div class=""s-table-container"">
<table class=""s-table"">
<thead>
<tr>
<th>source_id</th>
<th>source_name</th>
</tr>
</thead>
<tbody>
<tr>
<td>cli001</td>
<td>clinical</td>
</tr>
<tr>
<td>qiv001</td>
<td>qivia</td>
</tr>
<tr>
<td>abx003</td>
<td>ab</td>
</tr>
<tr>
<td>bxx004</td>
<td>b</td>
</tr>
</tbody>
</table>
</div>","2024-01-08 12:31:43","-2","Question"
"77778520","77777559","","<p>I am quite sure &quot;remove special character that length of byte &gt;= 2&quot; is more a dirty hack than a solution of your actual problem.</p>
<p>Anyway, when you set your <code>NLS_LANG</code> properly, i.e. that it matches the character set of your application, then it works well:</p>
<pre><code>SELECT SUBSTR('AÜHLKÖ',3,1)
FROM DUAL;
   
SUBSTR('AÜHLKÖ',3,1)
--------------------
H 
</code></pre>
<p>As an alternative try <a href=""https://docs.oracle.com/database/121/SQLRF/functions196.htm#SQLRF06114"" rel=""nofollow noreferrer"">SUBSTRC</a></p>
<p>If you really need to remove &quot;special characters&quot; - which I doubt - then this function should work:</p>
<pre><code>REGEXP_REPLACE(ASCIISTR('ABÄCöE'), '\\[[:xdigit:]]{4}', ' ')
</code></pre>
","2024-01-08 09:43:58","1","Answer"
"77777874","77777559","","<p>Your problem is different character set in different database.</p>
<p>In my database with <strong>NLS Settings = 'AMERICAN.AMERICA.AL32UTF8'</strong></p>
<pre><code>WITH CTE AS (SELECT 'Aöasd' STR FROM DUAL)
SELECT SUBSTR(STR,LEVEL,1) AS NEW_ST, 
       LENGTHB(SUBSTR(STR,LEVEL,1)) AS NEW_ST_LB 
  FROM CTE
CONNECT BY LEVEL &lt;= LENGTH(STR);

N  NEW_ST_LB
- ----------
A          1
ö          2
a          1
s          1
d          1
</code></pre>
<p>Now, I tried the same query in my other DB with German character set and result is 1 for all characters. (<code>WE8ISO8859P15</code>)</p>
<pre><code>N  NEW_ST_LB
- ----------
A          1
ö          1 --&lt;--- See this
a          1
s          1
d          1
</code></pre>
<p>The thing is in <code>WE8ISO8859P15</code> character set, It takes only 1 byte to store it rather then 2 Bytes.</p>
<h2><strong>Solution</strong>:</h2>
<p>Use the <code>CONVERT</code> function to convert each character to <code>UTF8</code> and then check the length of the character in terms of byte and replace it if it is greater than 1.</p>
<p><strong>Query:</strong></p>
<pre><code>WITH CTE AS (SELECT 'Aöasd' STR FROM DUAL)
SELECT CONVERT(SUBSTR(STR,LEVEL,1), 'UTF8' ) AS NEW_ST, 
       LENGTHB( CONVERT(SUBSTR(STR,LEVEL,1), 'UTF8' )) AS NEW_ST_LB 
  FROM CTE
CONNECT BY LEVEL &lt;= LENGTH(STR);
</code></pre>
<p>Result in DB with <strong>NLS Settings = 'AMERICAN.AMERICA.AL32UTF8'</strong></p>
<pre><code>NEW_ST                NEW_ST_LB
-------------------- ----------
A                             1
ö                             2
a                             1
s                             1
d                             1
</code></pre>
<p>Result in DB with <strong>NLS Settings = 'German.Germany.AL32UTF8'</strong></p>
<pre><code>NEW_S  NEW_ST_LB
----- ----------
A              1
Ã¶             2
a              1
s              1
d              1
</code></pre>
","2024-01-08 08:04:18","1","Answer"
"77777559","","Oracle NLS Settings Special Characters Replacement Handling","<p>I found a weird situation in Oracle</p>
<p>Situation Faced</p>
<ul>
<li><p>I used substr to split the character one by one and if the byte of length &gt;= 2 then replace it with spacing.</p>
</li>
<li><p>It work successfully in my session but it not work in the Oracle Job.
I found that it would possibility that replace more characters like
Aöasd
It will return with value
A sd</p>
</li>
</ul>
<p>For my further testing, I think this is because the NLS Settings</p>
<ul>
<li>Database's NLS Settings = 'German.Germany.AL32UTF8'</li>
<li>User's Session's NLS Settings = 'AMERICAN.AMERICA.AL32UTF8'</li>
</ul>
<p>In German.Germany.AL32UTF8 the substr function unable to grab the correct character especially after the German Special Character. However it is work in User's Session</p>
<p>Besides that, I also had try to use regex_replace but it is also not work for the Oracle Job it unable to replace it.</p>
<p>string:= REGEXP_REPLACE(ps_string, '[äöüßÄÖÜ]', ' ');</p>
<p>Instead of changing on the NLS Settings is there have any other solution for this?</p>
","2024-01-08 07:33:54","0","Question"
"77777370","77767121","","<p>You can achieve this by adding <code>BindableProperty</code> of type <code>ICommand </code> to your <code>ContentView</code> and you can also pass data to the command by adding <code>BindableProperty</code> of type <code>object</code>.</p>
<p>I achieved this function on my side,And I also added a common property <code>YourName</code> to my ContentView.</p>
<p>Please refer to the following code:</p>
<p><strong>MyControl.xaml</strong></p>
<pre><code>public partial class MyControl : ContentView 
{
    public String YourName
    {
        get
        {
            String value = (String)GetValue(YourNameProperty);
            return value;
        }
        set
        {
            SetValue(YourNameProperty, value);
        }
    }

    public static readonly BindableProperty YourNameProperty = BindableProperty.Create(nameof(YourName)
    , typeof(String)
    , typeof(MyControl), defaultBindingMode: BindingMode.TwoWay, propertyChanged: OnYourNameChanged);

    static void OnYourNameChanged(BindableObject bindable, object oldValue, object newValue)
    {
        Console.WriteLine(&quot;-----------------&gt; &quot; + newValue);
    }

   // add BindableProperty:ChildCommandProperty

    public static readonly BindableProperty ChildCommandProperty =
            BindableProperty.Create(nameof(ChildCommand), typeof(ICommand), typeof(MyControl));

    public ICommand ChildCommand
    {
        get =&gt; (ICommand)GetValue(ChildCommandProperty);
        set =&gt; SetValue(ChildCommandProperty, value);
    }


   // add BindableProperty:ChildCommandParameterProperty

    public static BindableProperty ChildCommandParameterProperty =
        BindableProperty.Create(nameof(ChildCommandParameter), typeof(object), typeof(MyControl));

    public object ChildCommandParameter
    {
        get =&gt; (object)GetValue(ChildCommandParameterProperty);
        set =&gt; SetValue(ChildCommandParameterProperty, value);
    }

    public MyControl()
      {
            InitializeComponent();
      }
}
</code></pre>
<p><strong>MyControl.xaml.cs</strong></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; 
&lt;ContentView xmlns=&quot;http://schemas.microsoft.com/dotnet/2021/maui&quot;
             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;
             x:Class=&quot;MauiMyContentViewApp.Controls.MyControl&quot;
             
               x:Name=&quot;TestControlView&quot;
             &gt;
    &lt;ContentView.Content&gt;
        &lt;VerticalStackLayout&gt;
            &lt;Label   Text=&quot;{Binding Source={x:Reference TestControlView}, Path=YourName}&quot; x:Name=&quot;NameLabel&quot;  Margin=&quot;10&quot;
            VerticalOptions=&quot;Center&quot; 
            HorizontalOptions=&quot;Center&quot; /&gt;


            &lt;Button Text=&quot;Do Something&quot;
                Command=&quot;{Binding Source={x:Reference TestControlView}, Path= ChildCommand}&quot;  
                CommandParameter=&quot;{Binding Source={x:Reference TestControlView}, Path= ChildCommandParameter}&quot;
                 /&gt;
        &lt;/VerticalStackLayout&gt;
    &lt;/ContentView.Content&gt;
&lt;/ContentView&gt;
</code></pre>
<p><strong>Usage example:</strong></p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; 
&lt;ContentPage xmlns=&quot;http://schemas.microsoft.com/dotnet/2021/maui&quot;
             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;
             x:Class=&quot;MauiMyContentViewApp.MainPage&quot;
             xmlns:controls=&quot;clr-namespace:MauiMyContentViewApp.Controls&quot;
             xmlns:viewmodels=&quot;clr-namespace:MauiMyContentViewApp.ViewModels&quot;
             x:Name=&quot;mainpage&quot;
             &gt;

    &lt;ContentPage.BindingContext&gt;
        &lt;viewmodels:TestViewModel&gt;&lt;/viewmodels:TestViewModel&gt;
    &lt;/ContentPage.BindingContext&gt;

        &lt;VerticalStackLayout
            Padding=&quot;30,0&quot;
            Spacing=&quot;25&quot;&gt;
            &lt;controls:MyControl BackgroundColor=&quot;Yellow&quot;  YourName=&quot;HanMeimei&quot;
                               ChildCommand=&quot;{Binding DoSomethingCommand}&quot;
                               ChildCommandParameter = &quot;test123&quot;
                               &gt;
            &lt;/controls:MyControl&gt;
        &lt;/VerticalStackLayout&gt;
&lt;/ContentPage&gt;
</code></pre>
<p><strong>TestViewModel.cs</strong></p>
<pre><code>public class TestViewModel
{

    public ICommand DoSomethingCommand =&gt; new Command(doSomethingMethod);

    private void doSomethingMethod(object obj)
    {
        System.Diagnostics.Debug.Write(&quot;-----&gt;do something and the passed parameter is : &quot; + obj.ToString());
    }


}
</code></pre>
","2024-01-08 07:00:57","0","Answer"
"77776553","77776534","","<blockquote>
<p>I want to type cast the string into character array because fstream takes character array.</p>
</blockquote>
<p>Your assumption that <code>fstream</code> only takes a character array is <strong>wrong</strong>. Starting from C++11, it also has a ctor that takes a <code>std::string</code>. So you don't need to use <code>c_str</code> or any cast as you can just directly use <code>std::string</code>.</p>
<p>From <a href=""https://en.cppreference.com/w/cpp/io/basic_fstream/basic_fstream"" rel=""nofollow noreferrer"">std::fstream</a>:</p>
<pre><code>explicit basic_fstream( const std::string&amp; filename,

                        std::ios_base::openmode mode
                            = std::ios_base::in | std::ios_base::out );
</code></pre>
<hr />
<p><a href=""https://stackoverflow.com/questions/32332/why-dont-the-stdfstream-classes-take-a-stdstring"">Why don't the std::fstream classes take a std::string?</a></p>
","2024-01-08 04:44:04","2","Answer"
"77776534","","Does fstream take a constant character array as a parameter or a dynamic one?","<p>I am trying to send an <code>fstream</code> object to a function, and I provided the name of the file as a string. Now I want to type-cast the string into a character array because <code>fstream</code> takes a character array. However, I am wondering whether to make it static or constant or not. Also, if I wanted to make it static, should I use <code>static_cast&lt;const char*&gt;</code> or should I just use <code>str.c_str()</code>?</p>
<p>I searched the Internet but wasn't successful finding the answer I needed.</p>
","2024-01-08 04:39:41","0","Question"
"77776299","77775089","","<p>There are several problems with the code as described below:</p>
<h4>Problem 1</h4>
<p>The problem is that <code>PrintWholeField</code> has an <code>int(*)[7]</code> as its first parameter but you're passing <code>Feld[i][j]</code>(which has type <code>int</code>) as an argument. Thus to solve this, replace the call with:</p>
<pre><code>//--------------vvvv------------&gt;removed the indices[i][j]
PrintWholeField(Feld, i , j)
</code></pre>
<p><strong>Additionally</strong> the program has UB for <strong>reasons</strong>:</p>
<h4>Problem 2</h4>
<p>First, because you're using an uninitialized variable <code>i</code>. To solve this first issue, just initialize <code>i</code>.</p>
<h4>Problem 3</h4>
<p><strong>Array indexing starts with</strong> <code>0</code> in C++, this means that you're going out of bounds of the array when you wrote <code>Feld[i][j]</code>.</p>
","2024-01-08 03:59:30","0","Answer"
"77775089","","error: invalid conversion from 'int' to 'int (*)[7]' [-fpermissive]","<p>When I try to use my functions with 2d arrays, I get this error:</p>
<blockquote>
<p>error: invalid types 'int [7][7][int*]' for array subscript</p>
</blockquote>
<p>I wrote many functions that use the same array. An example is:</p>
<pre><code>void PrintWholeField(int FeldV[7][7], int i , int j){
    for (int k = 0 ; k &lt; i ; k++ ){
        for (int m = 0 ; m &lt; j ; m++ ){
            cout &lt;&lt; FeldV[k][m];
        }
        cout &lt;&lt; endl;
    }
}
</code></pre>
<p>Initially, the first size was left empty (I put in 7 because maybe then it would work - it didn't).</p>
<p>I wanted to test it like this:</p>
<pre><code>int main ()
{
    int i, j = 7;
    int Feld[7][7];
    for (int k = 0 ; k &lt; i ; k++ ){
        for (int m = 0 ; m &lt; j ; m++ ){
            Feld[k][m]= 0;
        }
    }
    PrintWholeField(Feld[i][j], i , j);
    return 0;
}
</code></pre>
<p>But it gave me the error:</p>
<blockquote>
<p>error: invalid conversion from 'int' to 'int (*)[7]' [-fpermissive]</p>
</blockquote>
<p>All functions give the same error, and I don't know how to fix it.</p>
","2024-01-07 21:53:58","-1","Question"
"77774602","77774298","","<p>No need for a loop:</p>
<pre class=""lang-r prettyprint-override""><code>shelves &lt;- c(6, 4, 6, 4)
n_books &lt;- 15

# count number of filled shelves
sum(cumsum(shelves) &lt; n_books)
#&gt; [1] 2
</code></pre>
<p><sup>Created on 2024-01-07 with <a href=""https://reprex.tidyverse.org"" rel=""noreferrer"">reprex v2.0.2</a></sup></p>
","2024-01-07 19:47:25","5","Answer"
"77774403","77774195","","<p>Dot notation
is used when calling a method that is associated with an object. The method is invoked on the object and usually operates on the data contained within that object.</p>
<p>Non-dot notation
is used when calling a function that is not bound to a specific object. It typically takes the object as an argument and performs some operation on it.</p>
","2024-01-07 18:52:05","0","Answer"
"77774298","","Function or a loop for counting - R studio","<p>I am practicing my R skills and I want to know if someone is skilled in functions or loops for counting. My idea is quite vague, but I can give an example.</p>
<p>For an example:</p>
<p>I have 4 book-shelves each above the other. The first (bottom) one can carry 6 books, the second shelf 4 books, the third shelf 6 books and the fourth shelf 4 books.</p>
<p>How can I make a function/loop where my input is a number of books I buy, and the output is how many shelves are full. I want the system to start at the bottom and work it's way up.</p>
<p>I have thought of finding the average number of books that can fit on the shelves, but if the input is 5 the program would think the first shelf is full when it isn't.</p>
","2024-01-07 18:21:07","-1","Question"
"77774195","","Аrrangement of functions in relation to the object","<p>For what reason some functions are set after the dot and some are not?
For instance:</p>
<pre><code>number = '150'
alist = number.split()
a2ndlist = int(number)
</code></pre>
<p>The same object, but different arrangements. I'm just wondering.</p>
<p>My guess is related to Python's class and object system, but I can't be sure.</p>
","2024-01-07 17:56:00","0","Question"
"77774037","77750393","","<p>Try not to worry about the recursion.</p>
<p>A factorial function looks something like this:</p>
<pre><code>int fact ( int n ) {
    if ( n &lt;= 1 ) return 1;
    return fact ( n-1 ) * n;   // or, return n * fact ( n-1 );
}
</code></pre>
<p>and the MIPS translation is:</p>
<pre><code>fact:
    ble $a0, 1, EndIf1
    addiu $sp, $sp, -8       # allocate 8 bytes of stack space
    sw $a0, 4($sp)           # store n into the stack for later use in multiplication
    sw $ra, 0($sp)           # store return address for later use by return
    addi $a0, $a0, -1        # compute n-1 and pass to fact as parameter
    jal fact                 # fact function result (return value) is in $v0
    lw $a0, 4($sp)           # restore n from stack location, previously saved
    mul $v0, $v0, $a0        # perform multiplication sending result to $v0
    lw $ra, 0($sp)           # load return address
    addiu $sp, $sp, 8        # deallocate the 8 bytes previously allocated
    jr $ra                   # return to caller
EndIf1:
    li $v0, 1
    jr $ra        
</code></pre>
<p>It is important to realize that in assembly language, a return address is the machine code value that refers to the location of the instruction one past caller's call site, which should be resumed when the function completes.  The return address is hidden in C code and other high level languages, whereas it is necessarily exposed in machine code/assembly language.</p>
<p>The <code>jr $ra</code> instruction transfers control to back to the caller by using the return address (while the return value is shared with the caller in the <code>$v0</code> register).  The <code>jal</code> instruction automatically sets the <code>$ra</code> register, which can be thought of as an additional parameter to the function (the place to return upon completion).  Since <code>jal</code> repurposes/overwrites <code>$ra</code>, if there is an important value in there (there is), it must be moved somewhere else that will survive the function call, so that it can be used later upon return.</p>
<p>The same is also true for <code>$a0</code> — we need to put <code>n-1</code> into <code>$a0</code> in order to make the call to <code>fact</code>, however, we need <code>n</code> after the call to fact, so also save <code>n</code> (from <code>$a0</code>) into the stack and restore after the call.</p>
<hr />
<p>Ok, so here's a non-recursive version (that relies on the above <code>fact</code>):</p>
<pre><code>int non_recursive_fact ( int n ) {
    if ( n &lt;= 1 ) return 1;
    return fact ( n-1 ) * n;   // or, return n * fact ( n-1 );
}
    
</code></pre>
<p>and the assembly code for that:</p>
<pre><code>non_recursive_fact:
    ble $a0, 1, EndIf1
    addiu $sp, $sp, -8
    sw $a0, 4($sp)
    sw $ra, 0($sp)
    addi $a0, $a0, -1
    jal fact
    lw $a0, 4($sp)
    mul $v0, $v0, $a0
    lw $ra, 0($sp)
    addiu $sp, $sp, 8
    jr $ra
EndIf1:
    li $v0, 1
    jr $ra        
</code></pre>
<p>So, you see the code for each of these function can be identical, even though the former is recursive and the latter not.</p>
<hr />
<p>The above are both written using the standard calling convention.  Non-standard calling convention optimizations are possible when the implementation of the code for both caller and callee are known, but not shown here since the point is to share the normal approach.  The advantage of the normal approach is that the caller and callee can exist in (the same or) different compilation units, and in order to make a call, all that is needed is to know the callee's function signature, not its internal machine code implementation.</p>
","2024-01-07 17:10:11","0","Answer"
"77773035","77771872","","<p>In order to use Custom Handler refer this <a href=""https://github.com/Azure-Samples/functions-custom-handlers"" rel=""nofollow noreferrer""><strong>Github sample</strong></a>:-</p>
<p><em><strong>Sample Http Golang Custom handler:-</strong></em></p>
<p>Reference <a href=""https://github.com/groovy-sky/azure-func-go-handler#azure-functions-custom-handler-in-go"" rel=""nofollow noreferrer""><strong>here</strong></a>.</p>
<p><strong><code>GoCustomHandler.go:-</code></strong></p>
<pre class=""lang-golang prettyprint-override""><code>package main

import (
    &quot;fmt&quot;
    &quot;net/http&quot;
    &quot;log&quot;
    &quot;os&quot;
    &quot;strings&quot;
)

func httpTriggerHandler(w http.ResponseWriter, r *http.Request) {
    if r.Header.Get(&quot;X-Forwarded-For&quot;) != &quot;&quot; {
        w.Write([]byte(strings.Split(r.Header.Get(&quot;X-Forwarded-For&quot;),&quot;:&quot;)[0]))
    } else if r.Header.Get(&quot;Host&quot;) != &quot;&quot; {
        w.Write([]byte(strings.Split(r.Header.Get(&quot;Host&quot;),&quot;:&quot;)[0]))
    } else if r.RemoteAddr != &quot;&quot; {
        w.Write([]byte(strings.Split(r.RemoteAddr,&quot;:&quot;)[0]))
    }
}

func main() {
    httpInvokerPort, exists := os.LookupEnv(&quot;FUNCTIONS_HTTPWORKER_PORT&quot;)
    if exists {
        fmt.Println(&quot;FUNCTIONS_HTTPWORKER_PORT: &quot; + httpInvokerPort)
    }
    mux := http.NewServeMux()
    mux.HandleFunc(&quot;/httptrigger&quot;, httpTriggerHandler)
    log.Println(&quot;Go server Listening...on httpInvokerPort:&quot;, httpInvokerPort)
    log.Fatal(http.ListenAndServe(&quot;:&quot;+httpInvokerPort, mux))
}
</code></pre>
<p><em><strong>Built this code with the command below:-</strong></em></p>
<pre class=""lang-bash prettyprint-override""><code>go build GoCustomHandler.go
</code></pre>
<p><code>GoCustomHandler.exe</code> will be created and then add it in the <code>host.json</code> like below:-</p>
<pre class=""lang-json prettyprint-override""><code>{
    &quot;version&quot;: &quot;2.0&quot;,
    &quot;extensionBundle&quot;: {
        &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,
        &quot;version&quot;: &quot;[1.*, 2.0.0)&quot;
    },
    &quot;customHandler&quot;: {
        &quot;description&quot;: {
            &quot;defaultExecutablePath&quot;: &quot;GoCustomHandler.exe&quot;,
            &quot;workingDirectory&quot;: &quot;&quot;,
            &quot;arguments&quot;: []
        },
        &quot;enableForwardingHttpRequest&quot;: true
    }

}
</code></pre>
<p>As you have already tried using <strong><code>Powershell core</code></strong>, Directly create a Http Trigger and tweak it for Http Primitive use case like below:-</p>
<p><strong><code>run.ps1:-</code></strong></p>
<pre><code># Azure Function PowerShell Script for HTTP Trigger

param($req, $TriggerMetadata)

# HTTP trigger function processed a request.
Write-Host &quot;PowerShell HTTP trigger function processed a request.&quot;

# Interact with query parameters or the body of the request.
$name = $req.Query.Name
if (-not $name) {
    if ($req.Body) {
        $reqBody = $req.Body | ConvertFrom-Json
        $name = $reqBody.Name
    }
}

# Prepare the response body
if ($name) {
    $body = &quot;Hello, $name. This HTTP triggered function executed successfully.&quot;
} else {
    $body = &quot;This HTTP triggered function executed successfully. Pass a name in the query string or in the request body for a personalized response.&quot;
}

# Create a response object using HTTP primitives
$response = [System.Net.Http.HttpResponseMessage]::new([System.Net.HttpStatusCode]::OK)
$responseContent = [System.Net.Http.StringContent]::new($body)
$response.Content = $responseContent

# Return the response
$response
</code></pre>
<p><strong>Output:-</strong></p>
<p><img src=""https://i.imgur.com/0OcoAV7.png"" alt=""enter image description here"" /></p>
<p><strong>function.json:-</strong></p>
<pre class=""lang-json prettyprint-override""><code>{
  &quot;bindings&quot;: [
    {
      &quot;authLevel&quot;: &quot;anonymous&quot;,
      &quot;type&quot;: &quot;httpTrigger&quot;,
      &quot;direction&quot;: &quot;in&quot;,
      &quot;name&quot;: &quot;req&quot;,
      &quot;methods&quot;: [&quot;get&quot;, &quot;post&quot;]
    },
    {
      &quot;type&quot;: &quot;http&quot;,
      &quot;direction&quot;: &quot;out&quot;,
      &quot;name&quot;: &quot;res&quot;
    }
  ]
}
</code></pre>
","2024-01-07 12:25:20","0","Answer"
"77772436","","R Variable scoping issue of parallel calculation (%dofuture%) in a nested function","<p>I have a variable scoping issue when I try to do the parallel calculation using <code>%dofuture%</code> in a nested function.</p>
<p>Here is the error message I get:</p>
<blockquote>
<p>Error in eval(quote({ : object 'opt' not found</p>
</blockquote>
<p>Here is my code (object <code>opt</code> is substituted by <code>local_var1</code>):</p>
<pre><code>myFunction1 = function(x){
  
  y = x + 1
  return(y)
}
</code></pre>
<pre><code>myFunction2 = function(x, y){
  
  z = x + y
  return(z)
}
</code></pre>
<pre><code>myFunction3 = function(function_var4, function_var5, function_var6){
  
  # Claim some local variables
  local_var1 = vector(&quot;list&quot;, length = ncol(function_var4))
  local_var2 = vector(&quot;list&quot;, length = ncol(function_var4))
  local_var3 = function_var5 %&gt;% pull(function_var6)
  local_var4 = data.frame(Var = seq(min(local_var3), max(local_var3), length.out = 10000))
  
  # Do some parallel calculation
  plan(multisession, workers = parallel::detectCores() - 2)
  
  foreach (i = 1:ncol(function_var4)) %dofuture% {
    
    data_glm = data.frame(Var = local_var3,
                          PreAbs = function_var4[,i])
    
    mod_glm = glm(PreAbs ~ poly(Var, 3), family = binomial, data = data_glm)
    
    # Result of the calculation
    local_local_var1 = predict(mod_glm, newdata = local_var4, se = F, type = &quot;response&quot;)
    
    # Some simple calculation using local_local_var1
    # Save the result
    local_var1[[i]] = mean(local_local_var1)  # &lt;---- I guess this cause the error
    local_var2[[i]] = myFunction1(local_local_var1)    
  }
  
  # Close multisession workers by switching plan
  plan(sequential)
  
  local_var5 =  myFunction2(local_local_var1, function_var5)
  
  return(list(opt = unlist(local_var1),
              nw = unlist(local_var2),
              miv = unlist(local_var5)))
}
</code></pre>
<p>I get the error message when run the code:</p>
<pre><code>library(foreach)
library(doFuture)
library(dplyr)

global_var1 = matrix(sample(c(0, 1), size = 10000, replace = T), ncol = 100) %&gt;%
  as.data.frame()
global_var2 = data.frame(C1 = rnorm(100))
global_var3 = &quot;C1&quot;
  
result = myFunction3(function_var4 = global_var1, function_var5 = global_var2, function_var6 = global_var3)
</code></pre>
<p>I guess the error is because that <code>%dofuture%</code> can get only the variables and settings from global environmental but it can't get the variables and settings from local environment. Is there any possible way to solve the problem?</p>
","2024-01-07 08:50:36","0","Question"
"77771996","77771972","","<p>Inside of <code>STATUS()</code>, <code>$1</code> does not refer to the script's first argument but to the function's. When you call the function you'll need to forward the script's arguments so it can read them.</p>
<p><code>&quot;$@&quot;</code> does that. It expands to <code>&quot;$1&quot; &quot;$2&quot; &quot;$3&quot; ...</code> for however many arguments there are, and with them properly quoted so spaces and other special characters are retained.</p>
<pre><code>STATUS &quot;$@&quot;
</code></pre>
","2024-01-07 05:22:21","3","Answer"
"77771972","","Checking script's arguments in a function","<p>I am having difficulty trying to get an if statement working inside a function. I am using a very simple example like below to echo the $1 variable after script execution:</p>
<p>Logic inside script</p>
<pre><code>STATUS() {

if [[ $1 == &quot;-s&quot; ]];then
   echo &quot;--------------------------------------------------------&quot;
   echo &quot;Test success at: `date`:&quot;
   echo &quot;--------------------------------------------------------&quot;
else
   echo &quot;--------------------------------------------------------&quot;
   echo &quot;Test fail at: `date`:&quot;
   echo &quot;--------------------------------------------------------&quot;
fi
}

STATUS
</code></pre>
<p>Example Execution:</p>
<pre><code>ksh chris_test.sh -s
</code></pre>
<p>Expected Output:</p>
<pre><code>--------------------------------------------------------
Test success at: Sun Jan  7 06:59:34 GMT 2024:
--------------------------------------------------------
</code></pre>
<p>What I am getting:</p>
<pre><code>--------------------------------------------------------
Test fail at: Sun Jan  7 06:59:34 GMT 2024:
-------------------------------------------------------- 
</code></pre>
<p>I have attempted to escape the double quotes and the dollar sign, including the square brackets even trying to make square brackets single makes no difference. Still seeing fail. Where am I going wrong here?</p>
","2024-01-07 05:09:22","0","Question"
"77771872","","Configuration values for azure function app environment","<p>You are developing an Azure Function App. You develop code by using a language that is not supported by the Azure Function App host. The code language supports HTTP primitives.
You must deploy the code to a production Azure Function App environment.
You need to configure the app for deployment.
Which configuration values should you use?</p>
<p>please advise whether it should be
Code -&gt; Custom Handler -&gt; custom
or
Docker container -&gt; power shell core -&gt; 7.0</p>
<p>tried Docker container -&gt; power shell core -&gt; 7.0 but did not work</p>
","2024-01-07 04:07:59","0","Question"
"77771667","77771479","","<p>Thank you to everyone who responded. It turns out I was just running the first line of code and not the subsequent lines. I believe my issue was using the REPL terminal in VS Code and attempting to highlight a single line of code in my function with the assumption that the remaining code block would run. This was not the case and instead i needed to highlight the entire block and then run the function.</p>
","2024-01-07 02:02:42","1","Answer"
"77771635","77771479","","<p>There must be another problem, as suggested in the comments. I tried to run your code with no problem. Please see my code block and try that one.</p>
<pre><code>def Calculate_total(a,b):   #Parameters: a and b
    total = a + b           #Task Addition
    return total            #Output Sum of a and b\

def main():
    print(Calculate_total(1,2))

if __name__ == &quot;__main__&quot;:
    main()
</code></pre>
","2024-01-07 01:41:13","1","Answer"
"77771601","77771479","","<p>Python relies on proper indentation to define blocks of code. Make sure that the code inside your function is indented correctly. Here's a corrected version of your code:</p>
<pre><code>def Calculate_total(a, b):   # Parameters: a and b
    total = a + b            # Task: Addition
    return total             # Output: Sum of a and b
</code></pre>
","2024-01-07 01:18:42","-1","Answer"
"77771479","","I cannot figure out why i am getting an indention error for my functions","<p>I am getting the following error when running my function in python 3.</p>
<p>IndentationError: expected an indented block after function definition on line 1</p>
<p>Here is my very simple function</p>
<pre><code>def Calculate_total(a,b):   #Parameters: a and b
    total = a + b           #Task Addition
    return total            #Output Sum of a and b\
</code></pre>
","2024-01-07 00:05:52","-1","Question"
"77769655","77768827","","<p>In your first attempt</p>
<pre class=""lang-js prettyprint-override""><code>var c2 = board.create('circle',[f2, A.Dist(f1)+A.Dist(f2)]);
</code></pre>
<p>the radius of the circle <code>c2</code> is set to the static value <code>A.Dist(f1)+A.Dist(f2)</code>, which is evaluated when <code>board.create('circle',...)</code> is executed.
In order to make the radius dynamic, one simple has to supply a function wich returns this value, like</p>
<pre class=""lang-js prettyprint-override""><code>var c2 = board.create('circle',[f2, () =&gt; A.Dist(f1)+A.Dist(f2)]);
</code></pre>
<p>Then the distance is evaluated at each update of the board.
Here is the full code (additionally the point names are strings):</p>
<pre class=""lang-js prettyprint-override""><code> var f1 = board.create('point',[4,0],{name:'f1'});
 var f2 = board.create('point',[-4,0],{name:'f2'});
 var A = board.create('point',[0,3], {name: 'A'});              
 var ell = board.create('ellipse',[f1,f2,A]);

 var P = board.create('point',[-6,6], {name: 'P'});
 var c2 = board.create('circle',[f2, () =&gt; A.Dist(f1)+A.Dist(f2)]);
</code></pre>
<p>See it live at <a href=""https://jsfiddle.net/p8suedgt/"" rel=""nofollow noreferrer"">https://jsfiddle.net/p8suedgt/</a></p>
","2024-01-06 13:47:15","0","Answer"
"77769226","77769116","","<p>You can't. What would the result type of this call be?</p>
<pre><code>let o = A::new(random_bool());
</code></pre>
","2024-01-06 11:36:40","-1","Answer"
"77769116","","Rust, write a generic function that define itself a type","<p>If I want a generic function to return a generic struct with a type defined based on some parameter, how can I implement that?<br>
I have something like the following:</p>
<ul>
<li>Struct from other crate (outside of my control)</li>
</ul>
<pre><code>struct Foo{
   data_type: String,
   data_int32: Vec&lt;i32&gt;,
   data_int64: Vec&lt;i64&gt;,
   data_int32: Vec&lt;f32&gt;,
   data_int64: Vec&lt;f64&gt;,
   data_raw: Vec&lt;u8&gt;
}
</code></pre>
<ul>
<li>My struct</li>
</ul>
<pre><code>struct A&lt;T&gt;{
    data: Vec&lt;T&gt;,
}

impl&lt;T&gt; A&lt;T&gt;{
    fn new(data: T) -&gt; Self{
        A{
            data: data
        }
    }
}

impl&lt;T&gt; From&lt;Foo&gt; for A&lt;T&gt;{
    fn from(foo: Foo) -&gt; Self{
        match foo.data_type{
            &quot;i32&quot; =&gt; A::new(foo.data_i32),
            &quot;i64&quot; =&gt; A::new(foo.data_i64),
            &quot;f32&quot; =&gt; A::new(foo.data_f32),
            &quot;f64&quot; =&gt; A::new(foo.data_f64),
            _ =&gt; A::new(foo.data_raw)
        }
    }
}
</code></pre>
<p>This return me the following error: <code>expected struct A&lt;T&gt; found struct A&lt;i32&gt;</code> or <code>expected struct A&lt;T&gt; found struct A&lt;f32&gt;</code> ecc...<br>
I tried varius differrent solution like restricting the generic value with <code>T: From::&lt;...&gt;</code> but nothing works and I always fall back to this kind of error.<br>
How can I resolve this problem?</p>
","2024-01-06 10:57:16","0","Question"
"77768827","","JSXGraph: Distance between points is not updating","<p><strong>Short version</strong> How do I enter a circle whose radius is a function of the distances between three moveable points?  For example:</p>
<pre class=""lang-js prettyprint-override""><code>board.create('circle',[A,A.Dist(B)+A.Dist(C)]);
</code></pre>
<p>As the points are moved around, the centre changes, but the radius stays fixed.</p>
<hr />
<p><strong>Longer version</strong> I am trying to write a function to compute tangents to an ellipse from an external point, using the construction given at</p>
<p><a href=""http://whistleralley.com/conics/conic_construction/tangent_to_conic/"" rel=""nofollow noreferrer"">http://whistleralley.com/conics/conic_construction/tangent_to_conic/</a></p>
<p>Among other things, this requires me to produce a circle, centred at a focus, whose radius is equal to the ellipse's major axis.  This is (part of) what I have so far:</p>
<pre class=""lang-js prettyprint-override""><code> var f1 = board.create('point',[4,0],{name:f1});
 var f2 = board.create('point',[-4,0],{name:f2});
 var A = board.create('point',[0,3]);              
 var ell = board.create('ellipse',[f1,f2,A]);

 var P = board.create('point',[-6,6]);
 var c2 = board.create('circle',[f2, A.Dist(f1)+A.Dist(f2)]);
</code></pre>
<p>This works fine until I start moving points around - if the initial points which define the ellipse are changed, the circle's radius is not changed.  Its center follows f2 wherever that point is moved, but the radius is not changed.  Clearly this is because the radius needs to be defined as a function.  But how?  This, for example, doesn't work:</p>
<pre class=""lang-js prettyprint-override""><code>var c2 = board.create('circle',[f2, function(f1,f2,A){return A.Dist(f1)+A.Dist(f2)}]);
</code></pre>
<p>This throws a type-error (in the Console): &quot;TypeError: Cannot read properties of undefined (reading 'Dist')&quot;.</p>
<p>I <em>could</em> write an ellipse function by hand (using <code>curve</code>), using parameters given by sliders.  But that seems like overkill, when there is already an ellipse function.</p>
<p>I also could write three listening functions:</p>
<pre class=""lang-js prettyprint-override""><code>A.on('drag', ()=&gt; {   });
f1.on('drag', ()=&gt; {   });
f2.on('drag', ()=&gt; {   });
</code></pre>
<p>which update the radius whenever one of those points is moved.  But again, this seems like overkill.</p>
<p>What is my best option here?  Many thanks!</p>
","2024-01-06 09:12:59","0","Question"
"77767945","77767186","","<p>If you want to simply add Models to this list based on variables, you can create a function like this:</p>
<pre><code>void addIngredients(){

List&lt;add_ingredients_list&gt; added_ingredients_list =  [];


 add_ingredients_list instance1 = add_ingredients_list(&quot;Ingredient1Name&quot;, &quot;IngredientMass&quot;, &quot;IngredientUnit&quot;) //create an example instance of the class

  added_ingredients_list.add(instance1);

 }
</code></pre>
<p>If you want to get the list, you can make the function type of List&lt;add_ingredients_list&gt; and return your list.</p>
<p>If you want to say retrieve values and then add, you can add parameters to your function and then use those values in that instance created.</p>
<pre><code>void addIngredients(String? name, String? mass, String? massUnit)
{
    //add these values to the list
 }
</code></pre>
<p>Note, this is just a very basic example of it.
If you want a specific solution, you would need to provide more context for your problem.</p>
","2024-01-06 01:24:14","2","Answer"
"77767186","","how can i add Models to a list by a fuction in flutter","<p>Let's assume we have a Model class like this:</p>
<pre><code>`class add_ingredients_list {
   String? Ingredient_name;
   String? Ingredient_mass; 
   String? Ingredient_mass_unit;


   add_ingredients_list(
   this.Ingredient_name,
   this.Ingredient_mass, 
   this.Ingredient_mass_unit,
   );

  }`
</code></pre>
<p>and this <code>List&lt;add_ingredients_list&gt; added_ingredients_list =  [];</code></p>
<p>now I want to use a function to add Models to this list based on variables for<br />
Ingredient_name,
Ingredient_mass,
Ingredient_mass_unit</p>
<p>can anyone give me a sample Code snipped with random values? How the function would look like?</p>
","2024-01-05 20:58:13","0","Question"
"77767121","","Functions as Bindable properties in .NET MAUI ContentView","<p>Can a Bindable property in a ContentView be of type <code>Func&lt;bool&gt;</code>?  That is, something like this:</p>
<pre><code>public partial class MyControl : ContentView
{
    public static readonly BindableProperty DoSomethingProperty = BindableProperty.Create(
            nameof(DoSomething),
            typeof(Func&lt;bool&gt;),
            typeof(MyControl);

    public Func&lt;bool&gt; DoSomething
    {
        get =&gt; (Func&lt;bool&gt;)GetValue(DoSomethingProperty);
        set =&gt; SetValue(DoSomethingProperty, value);
    }
}
</code></pre>
<p>Then you could use it in a page like such:</p>
<pre><code>&lt;ContentPage xmlns=&quot;http://schemas.microsoft.com/dotnet/2021/maui&quot;
             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;
             xmlns:controls=&quot;clr-namespace:MauiPlayground.Controls&quot;
             x:DataType=&quot;vm:MainPageViewModel&quot;
             x:Class=&quot;MauiPlayground.MainPage&quot;&gt;
    &lt;ContentPage.Content&gt;
        &lt;VerticalStackLayout&gt;
            &lt;controls:MyControl DoSomething=&quot;{Binding ViewModelDoSomething}&quot; /&gt;
        &lt;/VerticalStackLayout&gt;
    &lt;/ContentPage.Content&gt;
&lt;/ContentPage&gt;
</code></pre>
<p>And the MainPageViewModel would contain this method:</p>
<pre><code>public bool ViewModelSoSomething()
{
    return true;
}
</code></pre>
<p>(This isn't actual code, just wondering if this can be done in theory.  If, for example, you want to pass a callback function or method to the ContentView)</p>
<p>I tried doing something like this and the compiler didn't complain, but the value of the DoSomething property was never set.  Maybe there's another way of doing this?</p>
","2024-01-05 20:42:35","0","Question"
"77766465","77766402","","<p>The function <code>f()</code> takes two integers, <code>x</code> by value, and <code>y</code> <a href=""https://en.cppreference.com/w/cpp/language/reference"" rel=""nofollow noreferrer""><strong>by reference</strong></a>. This means that in the function, <code>x</code> is a new copy of whatever gets passed in, and <code>y</code> is another name for the original variable. Which is <code>b</code> in this case.</p>
<p>So in your <code>main()</code>, the line <code>c = f(a, b);</code> is <code>c = f(1, 5);</code>.</p>
<p>In <code>f()</code>, <code>x</code> is a copy, meaning that <code>a</code> will remain unaffected. We know your sum is <code>1 + b + c</code>.</p>
<p>Back to <code>f()</code>. <code>x</code> is immediately reassigned to <code>1 + 5</code>, so the copy <code>x</code> has a value of 6.</p>
<p><code>y</code> gets reassigned, to <code>6 + 2</code>, 8. But remember that <code>y</code> was passed as a reference to <code>b</code>, so the value of <code>b</code> is also now 8. So the sum is <code>1 + 8 + c</code>.</p>
<p>Now we consider the return statement in <code>f()</code> which assigns to <code>c</code>. <code>x</code> is 6, and <code>6 + 5</code> is 11. So back in <code>main()</code>, the line <code>c = f(a, b);</code> assigns 11 to <code>c</code>.</p>
<p>The sum is <code>1 + 8 + 11</code>, which evaluates to 20.</p>
","2024-01-05 18:13:11","3","Answer"
"77766462","77766402","","<p>In the function, &quot;f&quot;, the argument &quot;int x&quot; means a copy is made for whatever is passed as the first argument. This means that whatever changes you make to &quot;x&quot; during the function call will not last once the function returns because they are being done to a copy of x and not the original. However, the second argument is passed by reference, hence &quot;int&amp; y&quot;. This means that changes made to the second argument will last once the function returns. So now let's step through the code.</p>
<p><code>x = x + y</code> means &quot;x&quot; = 6 (i.e. 1 + 5). On the next line, we see
<code>y = x + 2</code> where &quot;y&quot; = 6 + 2, which means that b is now set to 8.
Finally, we have that <code>c = 6 + 5</code>, which means
<code>a + b + c = 1 + 8 + 11 = 20.</code></p>
","2024-01-05 18:12:44","0","Answer"
"77766404","77766228","","<p>I also found out that this solution also works:</p>
<pre class=""lang-py prettyprint-override""><code>mt_trades[&quot;pl_gap&quot;] = mt_trades.apply(
    lambda row: (
        row[&quot;close_price&quot;] - row[&quot;open_price&quot;]
        if row[&quot;type&quot;] == &quot;BUY&quot;
        else row[&quot;open_price&quot;] - row[&quot;close_price&quot;]
    ),
    axis=1,
)
</code></pre>
","2024-01-05 18:01:25","0","Answer"
"77766402","","Does using & in the parameters of a C++ program change how it runs?","<ol start=""13"">
<li>Consider the following program:</li>
</ol>
<pre><code>#include &lt;iostream&gt;
using namespace std;
int f(int x, int&amp; y)
{
    x = x + y;
    y = x + 2;
    return (x + 5);
}
int main()
{
    int a = 1;
    int b = 5;
    int c = 30;
    c = f(a, b);
    cout &lt;&lt; a + b + c &lt;&lt; endl;
    return 0;
}
</code></pre>
<p>Which number is output by this program? Select exactly one.</p>
<p>A) 12</p>
<p>B) 15</p>
<p>C) 17</p>
<p>D) 19</p>
<p>E) 20</p>
<p>F) 24</p>
<p>G) 25</p>
<p>H) 27</p>
<p>I) 36</p>
<p>J) 37</p>
<p>K) 38</p>
<p>L) 39</p>
<p>M) 41</p>
<p>N) 43</p>
<p>O) 51</p>
<p>I got 17, but the answer is listed as 20.</p>
<p>17 made sense to me as x=x+y would assign 6 to x, then the function would return (x+5), or 11, this is then added to 1 and 5 in the main function to print 17.</p>
<p>But the answer is listed as 20. Any help please thanks.</p>
<p>I thought 17 would be output, but 20 was actually output.</p>
","2024-01-05 18:01:15","-8","Question"
"77766327","77766228","","<pre><code>def pl_gap(row):
    if row['type'] == 'BUY':
        return row['close_price'] - row['open_price']
    else:
        return row['open_price'] - row['close_price']

mt_trades['pl_gap'] = mt_trades.apply(lambda row: pl_gap(row), axis=1)
</code></pre>
","2024-01-05 17:43:07","1","Answer"
"77766228","","Insert a column with a conditional function into a dataframe","<p>I want to calculate the difference between open and close price but taking to account if a trade is a Buy/Sell.</p>
<p>I have the conditional function below; but l do not know how to insert a new column with the results into the original dataframe which has a list of trades and l am getting an error with this function.</p>
<p>def pl_gap(type):
if type in mt_trades['type'] == 'BUY':
mt_trades['close_price'] - mt_trades['open_price']<br />
else:
mt_trades['open_price'] - mt_trades['close_price']</p>
<p>mt_trades['pl_gap'] = mt_trades.apply(pl_gap)</p>
","2024-01-05 17:22:27","2","Question"
"77764964","","Snowflake snowpark python worksheet udf","<p>@udf(name='a_plus_b', input_types=[IntegerType(), IntegerType()], return_type=IntegerType(), is_permanent=False, replace=True)
def a_plus_b(a: int, b: int) -&gt; int:
return a+b</p>
<p>def main(session: snowpark.Session):</p>
<pre><code>df.with_column('Somme',a_plus_b( col('a'),col('b') ) )

return df
</code></pre>
<p>here is the error in my @udf registration.
Traceback (most recent call last): Worksheet, line 8, in &lt;module&gt; File &quot;snowflake/snowpark/functions.py&quot;, line 6693, in udf session = session or snowflake.snowpark.session._get_active_session() File &quot;snowflake/snowpark/session.py&quot;, line 179, in _get_active_session raise SnowparkClientExceptionMessages.SERVER_NO_DEFAULT_SESSION() snowflake.snowpark.exceptions.SnowparkSessionException: (1403): No default Session is found. Please create a session before you call function 'udf' or use decorator '@udf'.</p>
<p>can someone helpme me please.</p>
","2024-01-05 13:38:52","0","Question"
"77763252","77762848","","<p>You can use simple dictionary with method get. In latest python versions, You can use the optional argument to return prepared response if You try to ask for nonfind key value.</p>
<pre><code>def check_names(name: str) -&gt; str:
    data = {'tom': 'name0', 'nick': 'name1', 'juli': 'name2'}

    response = data.get(name, 'Reading all the names')
    return response


if __name__ == '__main__':
    print(check_names('nick'))
    print(check_names('Olaf'))
</code></pre>
","2024-01-05 08:11:19","-1","Answer"
"77763093","77762848","","<p>Your code is unnecessarily complex.</p>
<pre><code>def fun(name=None):
    names = [&quot;tom&quot;, &quot;nick&quot;, &quot;juli&quot;]
    if name is None:
        return [[name] for name in names]
    if name in names:
        return [name]
    raise Exception(f&quot;{name} is not in list of known names&quot;)

print(fun(&quot;nick&quot;))
print(fun())
print(fun(&quot;banana&quot;))
</code></pre>
<p><strong>Output:</strong></p>
<pre><code>['nick']
[['tom'], ['nick'], ['juli']]
Traceback (most recent call last):
  File &quot;/Users/CtrlZ/Python/Jan05.py&quot;, line 41, in &lt;module&gt;
    print(fun(&quot;banana&quot;))
          ^^^^^^^^^^^^^
  File &quot;/Users/CtrlZ/Python/Jan05.py&quot;, line 37, in fun
    raise Exception(f&quot;{name} is not in list of known names&quot;)
Exception: banana is not in list of known names
</code></pre>
<p>Using this pattern makes it easy to add names to the <em>names</em> list without writing additional if/else code</p>
","2024-01-05 07:35:43","1","Answer"
"77762949","77762848","","<p>It looks like there's an issue with your code. The <code>raise Exception</code> block is being triggered even when <code>name</code> is provided. This might be due to the indentation of the block. Try adjusting the indentation like this:</p>
<pre class=""lang-py prettyprint-override""><code>def fun(name=None):
    data = [['tom'], ['nick'], ['juli']]
    
    name0 = data[0]  # tom
    name1 = data[1]  # nick
    name2 = data[2]  # juli
    if name is not None:
        if name == 'tom':
            Name = name0
        elif name == 'nick':
            Name = name1
        elif name == 'juli':
            Name = name2
    else:
        print('Reading all the names')
        Name = data

    return Name
</code></pre>
<p>This should resolve the error. Additionally, I replaced the separate <code>if</code> statements for each name with <code>elif</code> to make the code more concise.</p>
","2024-01-05 07:01:52","1","Answer"
"77762908","77762848","","<p>Try this:</p>
<pre><code>def fun(name=None):
    if not name:
        raise Exception('arguments cannot be empty. Either pass one single name or None')
    data = [['tom'], ['nick'], ['juli']]
    if name=='tom':
        return data[0]
    if name=='nick':
        return data[1]
    if name=='juli':
        return data[2]
    print('Reading all the names')
    return data

print(fun('tom'))
</code></pre>
<p>Result:</p>
<pre><code>['tom']
</code></pre>
","2024-01-05 06:47:08","0","Answer"
"77762848","","Scripting if-else nesting to select a string type from a list, as python function argument","<p>I have a <code>python</code> function defined as such:</p>
<pre><code>def fun(name=None):
    data = [['tom'], ['nick'], ['juli']]
    
    name0 = data[0]  # tom
    name1 = data[1]  # nick
    name2 = data[2]  # juli
    if name is not None:
        if name=='tom':
            Name=name0
        if name=='nick':
            Name=name1
        if name=='juli':
            Name=name2

    if name is None:
        print('Reading all the names')
        Name=data
    else:
        raise Exception('arguments cannot be empty. Either pass one single name or None')
    return Name
</code></pre>
<p>This is a simplified represenation of my actual script. For my workflow I need to call such a function for a specific <code>string type</code> argument <code>Name</code> that is being stored as a list <code>data</code>. Now when I call this function for <code>tom</code>:</p>
<pre><code>fun('tom')
</code></pre>
<p>I get the following error:</p>
<pre><code>---------------------------------------------------------------------------
Exception                                 Traceback (most recent call last)
Cell In[28], line 26
     23         raise Exception('arguments cannot be empty. Either pass one single name or None')
     24     return Name
---&gt; 26 fun('tom')

Cell In[28], line 23, in fun(name)
     21     Name=data
     22 else:
---&gt; 23     raise Exception('arguments cannot be empty. Either pass one single name or None')
     24 return Name

Exception: arguments cannot be empty. Either pass one single name or None 
</code></pre>
<p>As you can see the <code>if</code> tree is being skipped and either working with <code>None</code> or the <code>else</code> part is being executed. Why this function is skipping the <code>if</code> tree. Because in one of my earlier script such a logic worked. What am I doing wrong? Thanks in advance.</p>
","2024-01-05 06:33:39","0","Question"
"77757864","77746861","","<p>An <code>ArrayIndexOutOfBoundsException</code> happens when you try to index an array with an index less than 0 or more than its {size minus 1}. In your case, the loop correctly goes through all valid indices of <code>helped_answer</code>, so that's not the source of the problem. The only remaining possibility is an exception being thrown by <code>ViewGroup.getChildAt</code> because you're passing it an invalid index value.</p>
<p>Note that the index you're passing to <code>getChildAt</code> doesn't vary inside the loop; so, for clarity and readability, it would help to take it outside of the loop.</p>
<p>Consider what should be done if an invalid index is passed to your <code>check_letter_row</code> function. Should it throw an exception, return true or return false? This is something only you can decide, depending on how you want to use this function.</p>
<p>Try the following, which is functionally equivalent to your original code:</p>
<pre><code>private fun check_letter_row(v:ViewGroup, i: Int): Boolean {

    if (i !in 0..v.getChildCount() - 1) {
        // TODO: decide what to do here. Example:
        return false // or throw IllegalArgumentException
    }

    val childView = v.getChildAt(i)
    val childViewTag = childView.tag.toString().lowercase()
    helped_answer = helped_answer.lowercase()

    if (childViewTag.length == 1 &amp;&amp; childViewTag in helped_answer) {
        childView.visibility = View.GONE
        return true
    }
    return false
}
</code></pre>
","2024-01-04 11:14:16","0","Answer"
"77756765","77756573","","<p>Using <code>max.col</code> to subset the <code>names</code>, create a <code>data.frame</code> out of it with corresponding <code>rownames</code>.</p>
<pre><code>&gt; (res &lt;- data.frame(fruit=names(df1)[max.col(df1)]) |&gt; `rownames&lt;-`(rownames(df1)))
       fruit
one   banana
two   cherry
three   date
four   apple
five  banana
six    apple
seven banana
eight cherry
nine    date
ten    apple
&gt; all.equal(df2, res)
[1] TRUE
</code></pre>
<h2>Benchmark</h2>
<p>Seems <em>user2974951</em>'s <a href=""https://stackoverflow.com/a/77756667/6574038"">solution</a> (denoted as <em>arr.ind</em>) is fastest (despite some strange outliers).</p>
<pre><code>&gt; arr.ind1 &lt;- \(df1) {
+   df2 &lt;- as.data.frame(which(df1 == 1, arr.ind=TRUE))
+   df2 &lt;- df2[order(df2$row), ]
+   df2$fruit &lt;- colnames(df1)[df2$col]
+   df2[, 3, drop=FALSE]
+ }
&gt; arr.ind2 &lt;- \(df1) {
+   df2 &lt;- as.data.frame(which(df1 == 1, arr.ind=TRUE))
+   df2 &lt;- df2[order(df2$row), ]
+   df2$fruit &lt;- colnames(df1)[df2$col]
+   subset(df2, select=fruit)
+ }
&gt; library(dplyr) |&gt; suppressPackageStartupMessages()
&gt; library(tidyr) |&gt; suppressPackageStartupMessages()
&gt; set.seed(42)
&gt; DF1 &lt;- df1[sample.int(nrow(df1), 1e4, replace=TRUE), ]
&gt; options(width=200)
&gt; (mb &lt;- microbenchmark::microbenchmark(
+   arr.ind1=arr.ind1(DF1),
+   arr.ind2=arr.ind2(DF1),
+   max.col=data.frame(fruit=names(DF1)[max.col(DF1)]) |&gt; `rownames&lt;-`(rownames(DF1)),
+   max.col2=data.frame(fruit=names(DF1)[max.col(DF1)], row.names=rownames(DF1)),
+   max.col3=setNames(as.data.frame(names(DF1)[max.col(DF1)], row.names=rownames(DF1)), 'fruit'),
+   max.col4=setNames(as.data.frame(names(DF1)[max.col(DF1)]), 'fruit') |&gt; `rownames&lt;-`(rownames(DF1)),
+   tidy=DF1 %&gt;%
+     transmute(across(apple:date, ~case_when(. == 1 ~ cur_column()), .names = 'new_{col}')) %&gt;% 
+     unite(fruit, starts_with('new'), na.rm = TRUE, sep = ' '),
+   check='equivalent'))
</code></pre>
<p></p>
<pre><code>$ Rscript --vanilla foo.R
Unit: milliseconds
     expr       min        lq      mean    median        uq        max neval  cld
 arr.ind1  2.838674  2.891762  3.122499  2.944602  3.135042  11.327219   100 a   
 arr.ind2  3.360616  3.417063  3.731845  3.471011  3.681735  13.014652   100 ab  
  max.col  4.823824  4.911244  5.049284  5.002576  5.132965   5.571004   100  bc 
 max.col2  5.209733  5.407884  5.542997  5.453691  5.604758   6.110364   100   c 
 max.col3  4.502090  4.573133  4.668055  4.610790  4.696504   5.486427   100  bc 
 max.col4  4.766816  4.832869  5.235595  4.887230  5.033407  32.472803   100  bc 
     tidy 66.249594 69.793587 73.463189 71.997308 73.727147 145.391572   100    d


&gt; x11(); microbenchmark:::boxplot.microbenchmark(subset(mb, expr != 'tidy') |&gt; transform(expr=droplevels(expr)))
</code></pre>
<p><a href=""https://i.sstatic.net/V2YGE.png"" rel=""nofollow noreferrer""><img src=""https://i.sstatic.net/V2YGE.png"" alt=""enter image description here"" /></a></p>
<hr />
<p><em>Data:</em></p>
<pre><code>&gt; dput(df1)
structure(list(apple = c(&quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, 
&quot;0&quot;, &quot;1&quot;), banana = c(&quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, 
&quot;0&quot;, &quot;0&quot;), cherry = c(&quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;, 
&quot;0&quot;, &quot;0&quot;), date = c(&quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;, 
&quot;0&quot;)), class = &quot;data.frame&quot;, row.names = c(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, 
&quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;, &quot;ten&quot;))
</code></pre>
","2024-01-04 08:18:25","2","Answer"
"77756667","77756573","","<p>Using <code>apply</code>.</p>
<pre><code>&gt; apply(df1 == 1, 1, function(x) {colnames(df1)[x]})
     one      two    three     four     five      six    seven    eight     nine      ten 
&quot;banana&quot; &quot;cherry&quot;   &quot;date&quot;  &quot;apple&quot; &quot;banana&quot;  &quot;apple&quot; &quot;banana&quot; &quot;cherry&quot;   &quot;date&quot;  &quot;apple&quot;
</code></pre>
<p>another option using <code>which</code></p>
<pre><code>&gt; df2 &lt;- as.data.frame(which(df1 == 1, arr.ind=TRUE))
&gt; df2 &lt;- df2[order(df2$row), ]
&gt; df2$fruit &lt;- colnames(df1)[df2$col]
      row col  fruit
one     1   2 banana
two     2   3 cherry
three   3   4   date
four    4   1  apple
five    5   2 banana
six     6   1  apple
seven   7   2 banana
eight   8   3 cherry
nine    9   4   date
ten    10   1  apple
</code></pre>
","2024-01-04 07:57:19","2","Answer"
"77756644","77756573","","<p>Here is <code>tidyverse</code> way using <code>transmute</code> and <code>unite</code>:</p>
<pre><code>library(dplyr)
library(tidyr)

df1 %&gt;%
  transmute(across(apple:date, ~case_when(. == 1 ~ cur_column()), .names = 'new_{col}')) %&gt;% 
  unite(fruit, starts_with('new'), na.rm = TRUE, sep = ' ')
</code></pre>
<pre><code>       fruit
one   banana
two   cherry
three   date
four   apple
five  banana
six    apple
seven banana
eight cherry
nine    date
ten    apple
</code></pre>
","2024-01-04 07:53:16","1","Answer"
"77756573","","Collapse multiple columns into one column based on values in R","<p>I have <code>data.frame</code> <code>df1</code>:</p>
<pre><code> df1 &lt;- data.frame(apple = c('0', '0', '0', '1', '0', '1', '0', '0', '0', '1'),
      banana = c('1', '0', '0', '0', '1', '0', '1', '0', '0', '0'),
      cherry = c('0', '1', '0', '0', '0', '0', '0', '1', '0', '0'),
      date = c('0', '0', '1', '0', '0', '0', '0', '0', '1', '0'))
 rownames(df1) &lt;- c('one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten')
</code></pre>
<p>How can I substitute all 'ones' in each column with the column name and then collapse the column into one new column? Expected result is <code>df2</code>:</p>
<pre><code> df2 &lt;- data.frame(fruit = c('banana', 'cherry', 'date', 'apple', 'banana', 
      'apple', 'banana', 'cherry', 'date', 'apple'))
 rownames(df2) &lt;- c('one', 'two', 'three', 'four', 'five', 
      'six', 'seven', 'eight', 'nine', 'ten')
</code></pre>
<p>I found the second step here (<a href=""https://stackoverflow.com/questions/47763452/r-collapsing-data-from-multiple-columns-into-one"">r collapsing data from multiple columns into one</a>) but I don't quite get there yet.</p>
","2024-01-04 07:37:17","2","Question"
"77756268","77754620","","<p>Create your function with parameters of String title.</p>
<pre><code>Ingridients_Selected_x(String title){
  //
}
</code></pre>
<p>then invoke your function on tap and pass the title value to it.</p>
<pre><code> onTap:(){
      Ingridients_Selected_x(displayed_add_ingridients_to_meal[index].Ingridient_title!)
 }
</code></pre>
","2024-01-04 06:27:18","2","Answer"
"77755267","77755090","","<p>Does this do what you want? (I can't quite figure out what you want to do when <code>QType</code> is &quot;Test&quot; ...)</p>
<pre class=""lang-r prettyprint-override""><code>DF &lt;- DF %&gt;%
  filter(QType == &quot;Set&quot;) %&gt;%
  mutate(correct = (varA == 1 &amp; varB == 1 &amp; varC == 2))
</code></pre>
","2024-01-04 00:15:20","2","Answer"
"77755090","","loop, function, conditional statements (etc.) to look at 3 columns to determine accuracy (e.g., x = correct if colA=1, colB=1, & colC=2","<p>I struggle immensely with writing loops and functions. I have successfully avoided them by relying on if_else() and ifelse, the structure of which makes sense to me. Until now.</p>
<p>I am working with cognitive task data. Each trial asks participants to provide a response for three variables; variableA, variableB, variableC. My df has a column for each variable per trial. To determine correctness I need to see if variableA == 1, variableB == 1, AND variableC == 2. Some of the trials have different 'correct answers' but for simplicity's sake, the 'correct answer' for the 'Set' trials is A=1,B=1,C=2.</p>
<p>I'm able to filter the rows by 'Set' and &quot;Test', but I'm struggling to write something that basically does &quot;if A == 1, B == 1, &amp; C == 2 then Y&quot; (or 1, True, or some other way of just indicating accuracy).</p>
<pre><code>DF &lt;- data.frame(QType = c(&quot;Set&quot;,&quot;Set&quot;,&quot;Set&quot;,&quot;Set&quot;,&quot;Set&quot;,&quot;Test&quot;), 
                 varA = c(&quot;1&quot;,&quot;1&quot;,&quot;2&quot;,&quot;1&quot;,&quot;1&quot;,&quot;2&quot;),
                 varB = c(&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;), 
                 varC = c(&quot;2&quot;,&quot;1&quot;,&quot;2&quot;,&quot;2&quot;,&quot;2&quot;,&quot;2&quot;), 
                 correct = &quot;&quot;)
</code></pre>
<pre><code>DF$correct &lt;- DF %&gt;%
  filter(QType == &quot;Set&quot;) %&gt;%
  if_else(c(varA == 1 &amp; varB == 1 &amp; varC == 2), 1, 0)

SetCorrect &lt;- c(DF$varA == 1 &amp; DF$varB == 1 &amp; DF$varC == 2) 
DF$correct &lt;- DF %&gt;%
  filter(QType == &quot;Set&quot;) %&gt;%
  if_else(SetCorrect, 1, 0)

DF %&gt;%
  filter(QType == &quot;Set&quot;) %&gt;%
  mutate(correct = case_when(varA == &quot;1&quot; ~ &quot;1&quot;,
                             varB == &quot;1&quot; ~ &quot;1&quot;,
                             varC == &quot;1&quot; ~ &quot;1&quot;))
</code></pre>
","2024-01-03 23:11:12","0","Question"
"77754649","77754620","","<p>Just accept the String that you want to pass into your function:</p>
<pre class=""lang-dart prettyprint-override""><code>void Ingridients_Selected_x(String ingredientTitle) {
  // ... Your code...
}
</code></pre>
<p>And in your Listview.builder use an anonymous <code>() =&gt;</code> function :</p>
<pre class=""lang-dart prettyprint-override""><code>Expanded(
  child: ListView.builder(
    itemCount: displayed_add_ingridients_to_meal.length,
    itemBuilder: (context, index) =&gt; ListTile(
      onTap: () =&gt; Ingridients_Selected_x(displayed_add_ingridients_to_meal[index].Ingridient_title!),
      title: Text(displayed_add_ingridients_to_meal[index].Ingridient_title!),
    ),
  ),
)
</code></pre>
<p>Or, to make it simpler, without the anonymous function:</p>
<pre class=""lang-dart prettyprint-override""><code>Expanded(
  child: ListView.builder(
    itemCount: displayed_add_ingridients_to_meal.length,
    itemBuilder: (context, index) =&gt; ListTile(
      onTap: () {
        Ingridients_Selected_x(displayed_add_ingridients_to_meal[index].Ingridient_title!);
      },
      title: Text(displayed_add_ingridients_to_meal[index].Ingridient_title!),
    ),
  ),
)

</code></pre>
","2024-01-03 21:04:47","1","Answer"
"77754620","","how can i get the String value of the title from the ListTile which was pressed by the user?","<p>I need the String value of the tapped title from the ListTile</p>
<p>here is my code from the Listviewbuilder:</p>
<pre><code>Expanded(
        child: ListView.builder(
          itemCount: displayed_add_ingridients_to_meal.length,
          itemBuilder: (context, index) =&gt; ListTile(
            onTap: Ingridients_Selected_x(),
            title: Text(displayed_add_ingridients_to_meal[index].Ingridient_title!),
          )
         )
         )
</code></pre>
<p>Ingridients<em>Selected</em>_x is a function in which I want to give the searched String value</p>
<p>I guess u have to call some argument in the onTap: method</p>
","2024-01-03 20:58:46","0","Question"
"77751600","77748619",""," 
<p><em>You may try:</em></p>
<pre class=""lang-js prettyprint-override""><code>=indirect(CONCATENATE(MID((FORMULATEXT(A2));2;6);&quot;P3&quot;))
</code></pre>
","2024-01-03 11:37:09","0","Answer"
"77751159","77750655","","<p>You could have/use something like:-</p>
<pre><code>@Query(&quot;SELECT * FROM mots WHERE defMot = :def AND mot &lt;&gt; :mot&quot;)
fun allOrtho(mot: String, def: String): LiveData&lt;List&lt;Mot&gt;&gt;
</code></pre>
<ul>
<li>i.e. as you already have</li>
</ul>
<p>in conjunction with:-</p>
<pre><code>@Query(&quot;&quot;) /* not really needed */
fun allOrthoMain(mot: Mot): LiveData&lt;List&lt;Mot&gt;&gt; {
   return allOrtho(mot.mot,mot.defMot)
}
</code></pre>
<ul>
<li>reason <code>@Query(&quot;&quot;)</code> is that if the body of the function is more complex then <code>@Transaction</code> can be used, the dummy query fooling room into thinking it is a query. Hence habitually <code>@Query(&quot;&quot;) is used</code>.
<ul>
<li>example <a href=""https://stackoverflow.com/questions/70478991/room-android-ignores-query-conditions-in-dao-class-strange/70479199#70479199"">Room Android ignores @Query conditions in Dao class (Strange)</a></li>
</ul>
</li>
</ul>
<p>Obviously you can then use <code>allOrthoMain</code> <em>(name of the function can be whatever suits)</em> with the Mot object as the parameter.</p>
<p>Otherwise <strong>no</strong> you cannot pass custom objects directly and use fields of that in the SQL (bar Lists for use in and IN clause where Room will do the necessary conversion of the list into a suitable CSV of the values).</p>
","2024-01-03 10:17:55","0","Answer"
"77750655","","Is it not possible to call a Dao-Room function passing the whole object as parameter rather than each member?","<p>I have a table of words that contains words with their definition.</p>
<p>The class is Mot, the word is Mot.mot (primary key) and its definition is Mot.defMot.</p>
<p>I want to find all words that have the same definition as my word (but different spellings). My first plan was to write a Dao function passing mot as an object to find all words with same definition (same mot.defMot but different mot.mot).</p>
<p>But the use of object members in SQLite query is rejected by the IDE. The only way seems to pass two parameters (mot, defMot) and use them for the query.</p>
<p>Can someone confirm that ?</p>
<p>Rejected form (the first dot is wavy red underlined):</p>
<pre><code>@Query(&quot;SELECT * FROM mots WHERE defMot = :mot.defMot AND mot &lt;&gt; :mot.mot&quot;)
fun allOrtho(mot: Mot): LiveData&lt;List&lt;Mot&gt;&gt;
</code></pre>
<p>Solution ?:</p>
<pre><code>@Query(&quot;SELECT * FROM mots WHERE defMot = :def AND mot &lt;&gt; :mot&quot;)
fun allOrtho(mot: String, def: String): LiveData&lt;List&lt;Mot&gt;&gt;
</code></pre>
","2024-01-03 08:48:34","0","Question"
"77750393","","Recursive Funcion Calls in MIPS (with Stacks)","<p>Can Someone explain the recursive function calls that gets stored in the stack and loads back? It's really confusing.</p>
<p>Thanks Beforhand.</p>
<p>For Example, I'm trying to understand the factorial function (recursive) from C to MIPS. But I can't.</p>
","2024-01-03 07:52:05","-1","Question"
"77749565","","Is there a way to write to a file in C with data from another function?","<p>I've been developing a rendition of the Oware Abapa game in C, and was wondering if there is a way for me to take data from one function and write it on a save file with that information.</p>
<p>My two functions are <code>show()</code> and <code>saveFile()</code>, and are presented as follows</p>
<pre class=""lang-c prettyprint-override""><code>void show( int player, t_Pit p[], t_Pit s[], int win ) {
    int a = player, o = !a; // 'a'ctive &amp; 'o'pponent

    int x = a ? 0 : 6;
    int y = a ? 6 : 0;
    char *str = win ? &quot;Wins the game\n\n&quot; : &quot;Select pit (1-6)\nSave board state (0): &quot;;
    printf(
            &quot;\n&quot;
            &quot;----+-----player%d-----+\n&quot;
            &quot;%2d  |%2d|%2d|%2d|%2d|%2d|%2d|\n&quot;
            &quot;----+-----------------+\n&quot;
            &quot;%2d  |%2d|%2d|%2d|%2d|%2d|%2d|\n&quot;
            &quot;----+-----player%d-----+\t&quot;

            &quot;\nPlayer %d %s&quot;,
            o,  s[o], p[y+5], p[y+4], p[y+3], p[y+2], p[y+1], p[y+0], // NB: custom indexing
            s[a], p[x+0], p[x+1], p[x+2], p[x+3], p[x+4], p[x+5], a,
            a, str
    );
}

void saveFile(const t_Pit pit[], int nPit) {
    char fName[26];
    printf(&quot;Input a name for the save file:&quot;);scanf(&quot;%s&quot;, &amp;fName);
    FILE *save = fopen(fName, &quot;w&quot;);
    if (save == NULL) {
        perror(&quot;Error opening file for writing&quot;);
        return;
    }

    fprintf(save, &quot;deposit1\n&quot;);
    fprintf(save, &quot;info about player 1's pits&quot;);
    
    fprintf(save, &quot;\ndeposit0\n&quot;);
    fprintf(save, &quot;info about player 0's pits&quot;);
    
    fclose(save);printf(&quot;file '%s' saved.&quot;, fName);

}
</code></pre>
<p>Please note that the <code>fprintf()</code> statements should write as is in <code>show()</code>, I'm just unsure of how I could code such.
Furthermore, all user input is being done in the <code>main()</code> function, along with the code to progress in the game itself</p>
","2024-01-03 03:18:59","0","Question"
"77749117","77749047","","<p>No, the number of functions in a class does not change the performance. After JIT Compilation the MethodTable is not needed any more to call a function.</p>
<p>Things are changing of course if you use reflection to call a function!</p>
<p>You can read more here:
<a href=""https://learn.microsoft.com/en-us/archive/msdn-magazine/2005/may/net-framework-internals-how-the-clr-creates-runtime-objects"" rel=""nofollow noreferrer"">https://learn.microsoft.com/en-us/archive/msdn-magazine/2005/may/net-framework-internals-how-the-clr-creates-runtime-objects</a></p>
","2024-01-03 00:01:48","2","Answer"
"77749047","","Performance of calling a function from class","<p>Does calling a function from a class with hundreds of functions run slower than calling a function from a class with one function?</p>
","2024-01-02 23:35:00","-2","Question"
"77748619","","Google sheet - using a value from a function as a reference to another cell","<ol>
<li><p>In google sheet i have created a formula <code>=CONCATENATE(&quot;=&quot;;MID((FORMULATEXT(A2));2;6);&quot;P3&quot;).</code></p>
</li>
<li><p>This formula takes a refernce value from cell A2 (reference to a cell E2 in sheet 2) and combines part of it (using MID function) with a string &quot;P3&quot; which is a cell from sheet2. The resulting value after executing the formula is &quot;='P01':P3&quot; in cell D2 of sheet 1</p>
</li>
</ol>
<p>The problem is that value &quot;='P01':P3&quot; is presented in cell D2 as text, but I want it to be a reference to cell P3 in another sheet.</p>
<p>How can i tell google sheets to use the result of a formula as a reference and not present it as plain text.</p>
<ol start=""3"">
<li>What I want to accomplish is to auto-populate some cells in Sheet 1 with values from Sheet 2.</li>
</ol>
<p>For example, sheet 1 has columns
A1 - name<br />
D1 - start date</p>
<p>Sheet 2 have cells<br />
E2 - Project name<br />
P3 - start date</p>
<p>So when I reference A1 of Sheet 1 to E2 in Sheet 2 the formula in cell D2 from sheet 1 will use MID function to extract the name of the sheet and then use CONCATENATE to add the cell number (in this case P3) to be able to get the value from cell P3 in Sheet 2 (the start date).</p>
<p>I have tried with INDIRECT function but with no success.</p>
<p>this is the link to google sheet
<a href=""https://docs.google.com/spreadsheets/d/1PUxxiaAIROPG8LMO-goeL-BIklpH0y6y8lqHkjtus2E/edit?usp=sharing"" rel=""nofollow noreferrer"">https://docs.google.com/spreadsheets/d/1PUxxiaAIROPG8LMO-goeL-BIklpH0y6y8lqHkjtus2E/edit?usp=sharing</a></p>
<p>Thanks</p>
<p>I have tried to find an answer on multiple Google Docs forums and explored various Google functions but with no success</p>
","2024-01-02 21:24:28","0","Question"
"77748582","77746469","","<blockquote>
<p>In short, can I initialize the size of a 2D array by calling for two functions in which the user enters the size of the board (?)</p>
</blockquote>
<p>No.<br />
Perhaps in the next version of C (<a href=""https://en.wikipedia.org/wiki/C23_(C_standard_revision)"" rel=""nofollow noreferrer"">C24</a>)?</p>
<p><code>int arr[starting_rows()][starting_columns()]</code> is a <a href=""https://en.wikipedia.org/wiki/Variable-length_array"" rel=""nofollow noreferrer"">variable length array (VLA)</a>.  C presently does not allow initialization of VLAs.</p>
<p>Zero fill it with <code>memset(arr, 0, sizeof arr)</code>. <a href=""https://stackoverflow.com/questions/77746469/is-it-possible-to-initialize-a-2d-array-by-calling-two-functions-example-array/77748582#comment137065436_77746469"">@Weather Vane</a></p>
<p>Alternatively, define and initialize a maximal sized array: <code>int arr[25][25] = { 0 }</code> and use a subset of it. <a href=""https://stackoverflow.com/questions/77746469/is-it-possible-to-initialize-a-2d-array-by-calling-two-functions-example-array/77748582#comment137064067_77746469"">@Lundin</a></p>
<hr />
<p>For OP, I suggest the 2nd approach.  Get user input and handle potential out-of-range values, incomplete input, input errors, etc. and <em>then</em>, if all is good, proceed to array declaration.</p>
","2024-01-02 21:13:15","1","Answer"
"77746861","","Kotlin function won't return false, returns nothing when expecting false","<pre><code>private fun check_letter_row(v:ViewGroup, i: Int):Boolean {

    helped_answer = helped_answer.lowercase()

    for (a in 0..helped_answer.length - 1) {
        if (v.getChildAt(i).tag.toString().lowercase() == helped_answer[a].toString()) {
            v.getChildAt(i).visibility = View.GONE
            return true
        }
    }
    return false
}
</code></pre>
<p>Can't get this function to return false. It returns true or returns nothing. I want it to return false so I can check other rows when it returns false. Where am I doing wrong? I am getting &quot;ArrayIndexOutOfBoundsException&quot; instead of getting false. But when it's true, there is no exception.</p>
","2024-01-02 15:01:32","0","Question"
"77746469","","Is it possible to initialize a 2D array by calling two functions? example: array[starting_rows()][starting_columns()]","<p>I'm in the process of programming the game 4-in-a-row in C language, the user is supposed to enter the size of the board, the maximum 2D array (board) that I'm allowed to accept is 25X25.</p>
<p>In short, can I initialize the size of a 2D array by calling for two functions in which the user enters the size of the board. I'm receiving the error</p>
<blockquote>
<p><code>Variable-sized object may not be initialized</code></p>
</blockquote>
<p>on the line</p>
<pre><code>int arr[starting_rows()][starting_columns()] = { 0 };
</code></pre>
","2024-01-02 13:45:23","3","Question"
"77746068","77745840","","<p><strong>Sloppy mode vs Strict Mode</strong></p>
<p>It has to do with strict and quirks mode in modern browsers, and that the effect of defining a function (which used to be always hoisted to the scope of the the function it's in) inside a block statement.</p>
<ol>
<li>In modern browsers in strict mode, the function is defined with block scope only, and the value of <code>a</code> is modified by the assignment. Outside the block <code>a</code> remains undefined.</li>
</ol>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>""use strict"";
{
  function a() {}
  a = ""test"";
  console.log(""Inside strict mode block after assignment:"")
  console.log(a);
}

console.log(""Outside block a is undefined"");
console.log(a);</code></pre>
</div>
</div>
</p>
<ol start=""2"">
<li>In quirks mode however (without &quot;use strict&quot;), browsers seem to hoist the function definition to function scope, but still keep a binding for <code>a</code> <em>inside the block</em>. The practical effect is that the hoisted function definition remains in place outside the block, while inside the block, the local value of <code>a</code> is updated by the assignment.</li>
</ol>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>{
  function a() {}
  a = ""test"";
  console.log(""Inside block after assignment:"")
  console.log(a);
}

console.log(""Outside block a is the hoisted function"");
console.log(a);</code></pre>
</div>
</div>
</p>
<hr />
<p>I believe the behavior in quirks mode was arrived at to maintain some similarity with browser behavior prior to the introduction possibly block scoping variables - _if you don't overwrite the function name with</p>
<p>Bottom line? _The handling of defining functions within the block of a conditional or loop statement (using <code>{</code> and <code>}</code> delimiters) prior to ES5 was not standardized. Many people would not have done it for stylistic reasons - why define a function name that will be hoisted inside a block. Which left the door open to not hoist function names outside the block in strict mode.</p>
<p>Moral of the story - don't write serious code in sloppy mode :-)</p>
","2024-01-02 12:28:05","2","Answer"
"77746042","77745840","","<p>Our code works in the non-strict mode so some quirk things happen (it's legacy).</p>
<p>Please use the strict mode only, which throws an error and prohibits such strange effects that lead to bugs.</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>{
  /* in the non-strict mode a function is declared in a block
     (creating a local variable)
     but also hoisted to the global scope 
  */
  function a() {} 
  a = ""test""; // this assigns to the local variable, not affecting the hoisted one
}

console.log(a); // prints the hoisted variable</code></pre>
</div>
</div>
</p>
<p>The strict mode:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>'use strict';
{
  function a() {} 
  a = ""test""; 
}

console.log(a);</code></pre>
</div>
</div>
</p>
","2024-01-02 12:21:29","2","Answer"
"77745840","","Hoisting, scope and function declaration","<p>Here are the simple code:</p>
<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>{
  function a() {}
  a = ""test"";
}

console.log(a);</code></pre>
</div>
</div>
</p>
<p>I expected to get &quot;test&quot; but got &quot;ƒ a() {}&quot; in console. Why is that? Can anyone explain this behaviour?</p>
","2024-01-02 11:39:10","2","Question"
"77743454","77743323","","<p>It's clear what you are trying to achieve, but consider what happens for a simpler case, calling your function with <code>kochCurve(10, 3)</code>:</p>
<ul>
<li>First call, <code>degree</code> is not <code>0</code>, and <code>length</code> is <code>10</code>, so <code>&gt;= 3</code>; that's as expected, length gets divided by <code>3</code> and the function is called with <code>kochCurve(3.33.., 2)</code></li>
<li>Second call, <code>degree</code> is <code>2</code> and still not <code>0</code>, and <code>length</code> is still greater than <code>3</code>, so the function is called again with <code>kochCurve(1.11.., 1)</code></li>
<li>However, <code>degree</code> still isn't <code>0</code>, but <code>length</code> no longer is greater than or equal to <code>3</code> the function does nothing and returns. The next instruction is to turn the cursor.</li>
</ul>
<p>This process continues. The function either does nothing because neither condition is <code>True</code>, or it proceeds to turn the cursor - which is exactly the behaviour you're describing.</p>
<p>The main problem is your recursive function doesn't have a proper base case.</p>
<p>However, there's a second problem: since you divide <code>length</code> by 3 on every recursive call, the value of <code>length</code> quickly diminishes below <code>1</code>. Although the Python turtle does allow movement smaller than a pixel (which may not be true for any turtle program out there), the progress will be very hard to see initially and still resemble a spinning cursor.</p>
<p>Try running your code with more reasonable parameters like <code>kochCurve(1000, 4)</code> first.</p>
<p>There's several ways of fixing your code. Removing the <code>if length &gt;= 3</code> easiest, but you probably wanted to limit the recursion depth for lengths that get arbitrarily small?</p>
<p>If you do want to keep the explicit degree, but also limit by length:</p>
<pre><code>def kochCurve(length, degree):
    if degree == 0 or length &lt; 3:
        t.forward(length)
    else:
        length = length / 3
        degree = degree - 1
        kochCurve(length, degree)
        t.right(60)
        kochCurve(length, degree)
        t.right(240)
        kochCurve(length, degree)
        t.right(60)
        kochCurve(length, degree)
</code></pre>
<p>A final remark on style: <code>kochCurve</code> is not the preferred naming in Python, consider using <code>koch_curve</code> instead. We all have preferences, but it makes the most sense to use the preferences of whoever wrote the language.</p>
","2024-01-01 21:49:22","-1","Answer"
"77743369","77743323","","<p>For a recursive function you only need one base case. You can use <code>if length &gt; &lt;value&gt;:</code></p>
<p>This program produces something like a Koch curve:</p>
<pre class=""lang-py prettyprint-override""><code>import turtle as t

def kochCurve(length):
    if length &gt;= 3:
        length = length/3
        kochCurve(length)
        t.right(60)
        kochCurve(length)
        t.right(240)
        kochCurve(length)
        t.right(60)
        kochCurve(length)
    else:
        t.forward(length)


kochCurve(100)
</code></pre>
<p><strong>Update:</strong></p>
<p>So the <code>degree</code> parameter really isn't useful because <code>length</code> works well.</p>
<p>Using this calling code, you get the so-called Koch snowflake:</p>
<pre><code>kochCurve(100)
t.left(120)
kochCurve(100)
t.left(120)
kochCurve(100)
t.hideturtle()
t.done()
</code></pre>
","2024-01-01 21:11:42","-1","Answer"
"77743323","","Why isn't my algorithm to make a Koch curve working?","<pre><code>import turtle as t

def kochCurve(length,degree):
    if degree == 0:
        t.forward(length)
    else:
        if length &gt;= 3:
            length = length/3
            degree = degree - 1
            kochCurve(length,degree)
            t.right(60)
            kochCurve(length,degree)
            t.right(240)
            kochCurve(length,degree)
            t.right(60)
            kochCurve(length,degree)
            

kochCurve(100,50)
</code></pre>
<p>When I run this code it opens the turtle window and the arrow just spins around before the program stops, why is this?</p>
","2024-01-01 20:54:51","-1","Question"
"77741294","77740785","","<p>Consider these two symbols: <code>y1 = sy.symbols('y')</code> and <code>y2 = sy.symbols('y')</code>. Even though they are created at different times, they are equals: they have the same name and the same assumptions (none in this case, they are just complex symbols). Now consider <code>y3 = sy.symbols('y', real=True)</code>, which has the same name but different assumptions. So <code>y3</code> is different from <code>y1, y2</code>.</p>
<p>Going back to your first example, the substitution doesn't work because the symbol you created inside the function is different from the symbol you created outside. Said differently, the symbol you created outside is not contained in the expression.</p>
<p>Because you are dealing with an expression containing only one symbol, one possible solution is to retrieve it from the set of symbols contained in the symbolic expression, like this:</p>
<pre class=""lang-py prettyprint-override""><code>import sympy as sy
def addtwo(y = sy.symbols('y', reals = True)):
    return y + 2

x = addtwo()
# .free_symbols returns a set of symbols contained in the symbolic expression
my_y = x.free_symbols.pop()
print(type(x))
print(x)
print(x.subs(my_y,1))
</code></pre>
","2024-01-01 07:59:37","1","Answer"
"77740785","","Trying to write a python function with a default sympy symbol","<p>I am trying to write a function that has a sympy symbol with a default value, but am not getting what I expect.</p>
<p>Here is my code</p>
<pre><code>import sympy as sy
def addtwo(y = sy.symbols('y', reals = True)):
    return y + 2

y = sy.symbols('y')
x = addtwo()
print(type(x))
print(x)
print(x.subs(y,1))
</code></pre>
<p>with output</p>
<pre><code>&lt;class 'sympy.core.add.Add'&gt;
y + 2
y + 2
</code></pre>
<p>However, the code</p>
<pre><code>y = sy.symbols('y')
x = addtwo(y)
print(x)
print(x.subs(y,1))
</code></pre>
<p>gives the expected output</p>
<pre><code>y + 2
3
</code></pre>
","2024-01-01 02:01:47","0","Question"