today's video is going to be a visual effects breakdown of the solar surfing animation that i made a few weeks ago and i'm also going to be doing a demo of this cool little product over here called the toolbox neo which i'll get into more in a bit i've got my gopro just off camera here you can kind of see it there it's recording my hand as you can see now so you'll be able to see the buttons i'm pressing on the toolbox and as we go through i'll talk about how i've been using this for the last few weeks um as part of my workflow for doing visual effects so let's get into the video i've chosen this shot to do the demo on because this is my favorite shot from the video and it has kind of everything in it except for the sail transition which i'll show separately but we've got the animation stuff going on here it's a good demonstration of how the rig works and there's also some cheeky particles from sparks coming off of here we've got some cloth simulations and stuff going on in the background so let's talk about that first of all the environment i've made a couple of videos about this now so you've probably kind of seen the general workflow basically i made all of the stuff in this as assets that i then dragged into the scene and built this whole environment out of for every shot so i actually have a master environment saved separately that i then link into all of the shots so that if i update anything it changes in all of them and i was really happy with how it turned out i think all the cables and stuff hanging down is a really cool look so the main workflow for the animation and the camera is i have two curves going through the whole scene like this for the most part i animated the entire scene in one large master file and then brought it into separate files and cut up the frame ranges so for example this starts at frame 205 ends at 300. so i can basically take sections of the master animation and split them up into separate shots so yeah there's two curves in the scene um obviously the camera and the character are following those curves they're slightly different shapes just to make it a bit more interesting this is done with a couple of constraints so on the rig i have a follow path constraint which makes the rig follow the curve and then the same for the camera so the camera has a follow path constraint on it as well and then to make it actually move you select the path go into the path settings and come down to path animation and then under evaluation time you can keyframe it and then depending on where you keyframe it it will change where the object is on the path at that point in time the nice thing about doing it with curves is that i can change the shape of the curve or the path very easily without having to fiddle around with keyframes and stuff too much so for example if i wanted him to go a bit further back on this pipe i can just move the curve back slightly and it makes it very very interactive in the way that you can animate it which is nice i've talked about the rig that i made before in a separate video but i'll just demonstrate it again very quickly basically the way i set it up is that um the hands and feet are ik systems so wherever the core moves the hands and feet will still stay stuck to the board which means that i had to do very little animation to actually make this all work and then on top of that the core actually has a noise modifier on it that will make the position of it go up and down randomly using a curve so if we go to the graph editor and i look at some of the keyframes on these you can see the keyframes for the x y and z locations all have noise modifiers on them this makes the animation look a bit more organic because the character is constantly moving instead of just stuck in a really rigid position and then i would just go in and add keyframes and stuff for like when he's bending his knees just to do like a master position and the rest of the kind of really fine micro detail in the animation was done procedurally just punch my microphone the actual rig for the solar surface is a separate rig all the kind of rotations and stuff are controlled by this root bone and then i also have a control for the sail rotation which is here and you can see again when i'm moving this the arms actually move with it which is really cool then at the back over here i have two sliders for when the sail folds up so this one makes all the stuff fold up and then this one controls the scale so it all shrinks down into the bottom of the board so that is pretty much how i did all of the shots the process of the animating was basically just getting it on the curve and then blocking out the master positions and getting the timings right and then once all the positions and stuff were blocked out i would then go in and add keyframes onto the smaller things like the position of the board and the angle and the rotation stuff to make it all look nice and realistic it kind of felt like i was editing some sort of skateboarding montage when he was doing the grinds and stuff on this it was quite fun as i mentioned i have the particle simulation going on here it's all coming from a small emitter that's just parented to the board and it's just emitting some particles that fire out keyframed it to start about here and then they've got some velocity in the y and z axis just to make them shoot in the direction i wanted so now on to something about the toolbox which is down here this thing's really cool it's basically like a little macro keyboard it's marketed as being for pretty much any artistic software so you can use it for like photoshop 2d painting 3d artwork whatever all of the buttons are completely customizable so they don't come assigned with anything and you use the software which is down here to basically assign any macro keys and stuff you want to all of the buttons it's really really simple to set up a new shortcut you just go to whichever button it is click on it and then you can press a button so for example shift and it will assign that control the way i did it is i didn't immediately assign shortcuts i just started using blender with it and then every time i wanted to have a feature that i could do in one button press i assigned to something on here it's really tactile all of the buttons are kind of different shapes and sizes which makes it really fun this one is really good for jogging through so i've assigned this to the left and right arrow keys and if i spin this dial it can go backwards and forwards on the timeline it feels a lot more organic than using the arrow keys to go back and forward or scrubbing through because you can actually sort of spin the wheel which is really fun i've assigned this mouse wheel thing to zooming in and out usually i do this by holding ctrl on the keyboard and then using my graphics tablet to zoom in and out but it's nice to be able to do it without having to use both hands which is quite cool this scrolly thing also does the same thing i mostly use this for zooming in and out on the timeline again it feels a lot more precise than doing the control click and drag thing which i really like and these two buttons are some of my favorite that i use the most in blender i've set these to switching between the compositor and the 3d view and you can also do shader editor and stuff with these as well so if i press this one once it jumps to the compositor and i think this is really important because i do lots of stuff with multiple render passes in blender so when i get to the stage where i want to be rendering stuff out i'm constantly coming back to the compositor tab and i can use these two buttons to switch between the 3d view and then the compositor really really quickly and actually what i end up usually doing is having two like this so when i get to the stage i want to do some compositing i do this press this button and then i'm in the compositor the shortcut for this is actually shift f3 and that's the shortcut that takes you to the compositor and if you keep pressing it it will do things like the shader editor or the texture node editor so if i press this a few times i can go through all of them so for example i know that four presses takes me to the shader editor i've then assigned this one on the top to be the uv editor or the image editor this is great for quickly jumping in to change some uvs and stuff i can go very quickly between the 3d viewport and the uv editor i've assigned the button on the side to replace the shift key so i can use this for when i'm looking around in the viewport and then the d-pad here i've assigned for jumping between keyframes so if i select something that has keyframes on it pressing up and down will jump between the keyframes so it goes to the next one no matter how far it is which is really handy the whole thing is great i really like how tactile it is compared to just using a normal keyboard because of all the different kind of shapes and sizes of the buttons and the different functions they have like the scrolling so that's pretty much all the blender stuff i'm going to jump into nuke now and show the compositing for this video and also how i use the toolbox differently in nuke okay so this is the new script i had a very very similar setup for all the shots so i basically had a bit of a template that i bought in and worked in a very similar way because all the shots are pretty similar so let's start at the top the first thing i'm using is an hdri for the cloud so i'm using this to generate the sky essentially the blender render looks like this so i have no sky in it and i'm doing all the skies and stuff in nuke just because it's a bit easier to control them separately i then take this and put it on a very big sphere in nuke so this basically works the same way as an environment texture and blender just kind of wraps it around your entire scene then i bring in the camera from blender so this is the animated alembic and i basically just filmed this massive sphere using the camera and this generates a sky for me the same way it would in blender so it comes out looking like this and then i do a bit of stuff like grading the saturation and the exposure to make it a bit more photorealistic one mistake that lots of beginners make when they add skies and stuff into shots is they try and keep everything the correct exposure in this i deliberately made the sky quite overexposed because i wanted the camera to be exposing for the character and the environment and if you did that in real life the sky would be blown out so i'm trying to keep this looking fairly realistic and then after that i'm adding a little 3d projection of a cliff in the background as you can see in the blender scenes back here there's actually nothing it just cuts off so the environment just kind of disappears i left that bit because in most of the shots you don't see it but when i rendered it i realized in a couple of the renders you can actually see that gap so instead of rendering the whole shot again i basically made a little cliff to go back there so i took this photo from textures.com again did a little bit of color correction stuff to it cut it out so it looks like this and then once i had that i put it on a card in 3d space here and i filmed it using the camera again and that will just fill the gap that's left in the render and once everything goes on top of it it will bed in nicely then the next thing that goes on top is all of the cg so that looks something like this because the film is essentially full cg i didn't render lots of different passes i just rendered everything into one main render but i did use a kryptomat which allows me to separate out loads of stuff and grade it independently if i want to which i did for most of the shots in terms of the comp work on this it starts out looking something like this and then i'm just unpromoting it and doing a few different grades onto it mostly just fiddling around with the brightness of some of the elements in the shot then after that i add some light wrap and hazing onto this that's coming because the sky is very bright so i wanted it to kind of interact with all the stuff in the shot so the first thing i do is make a kind of hazing effect you can do this very easily by taking the background and then minusing the alpha of the render from it so it looks something like this and then if you add a few levels of blur onto it you get this stuff where the background kind of bleeds over the edges of the alpha and then you can put this back on top of the render which looks something like this and you can see that it's bleeding into the edges of the render which looks really nice all of the extra bit of the sky is going to disappear in a sec when we copy the alpha back in and then pre-molt it so you can see this is before the hazing and this is after and it will be more apparent what that's doing in a sec when i put it on top i've also got a couple of levels of light wrap there's a quite harsh one and then a much softer one like this and then i put this back on top of the background of the sky and so just to show you what the hazing and stuff looks like on the actual render this is before and after haze you can see it adds a kind of like nice glow effect when the stuff in the background is really bright it makes it feel a little bit more like it was shot through a real camera and you get the kind of artifacts of what happens when you fire bright lights into a lens so that's before any hazing or light wrap and that's after as you can see it makes it look a lot nicer then after that i put some glow on the sails using the emission pass so i separate out the emission i've got the sparks and stuff in here as well i use a cryptomat just to isolate the different things i want to have the glow on so for example here i just isolate the sail i put a bit of a grade on it to make it a bit brighter then i put a glow on top of that and this goes on top of the sail and i guess this just makes it feel more like it's kind of that futuristic solar surfing energy vibe so that looks something like this it's quite subtle but that's the before and after just kind of enhances the sale a bit then on top of that we have the sparks so i'm also adding some glows onto the sparks they start off with the emission and then i use the kryptomat to just isolate the sparks as well that looks like this glow on the sparks plus that on top again it's quite subtle that's before and after so i'm just glowing the sparks then i do some lens distortion stuff so all renders come out of cg software undistorted what i want to do is add some lens distortion back in so you get the edges curving and stuff like a real camera so that's what that looks like it's pretty subtle but it just helps it to make it feel a bit more organic as opposed to the straight out of a render kind of vibe then i had a lens flare on top of that which looks something like this i put the lens flare up where the sun should be and then you kind of have this streaky flare coming across the character which looks quite cool then one of the last things i put on top is some lens dirt so you can see here when the very bright sparks are going towards the camera they're actually kind of lighting up what is simulating some dirt on the lens which gives you this cool effect again this is just one of those artifacts that you get when you film through a real camera and this always helps to make cg feel a little bit less cg you can get this effect by taking some sort of lens dirt overlay or image uh i did a bit of grading to it so it looks like this and then transformed it around a little bit and then i took the render of the sparks graded it and blurred it quite a bit so it looks like this and then you can multiply that over the top of the image and what that does is nuke says whatever's bright here make that like a mask almost for where the lens dirt should be so it makes it that color and it also makes it only the area that the sparks are lighting up so that's before and that's with it multiplied on top and then this gets screened on top of the render quite subtly so it looks like that really really cool and then finally down here i'm just adding a really tiny bit of chromatic aberration onto the edges of the frame it's pretty subtle you can hardly even see it there you can probably just see the shift of the pixels ever so slightly and chromatic aberration is another one of the kind of artifacts that you get when you film through a lens towards the edges of the frame especially you get that kind of separating of the color channels which looks really cool it's really easy to over egg this so i've tried to do it really subtly and i've also only done it at the edges of the frame so i used a radial in nuke to make this mask and then inverted it and so in the center of the frame it doesn't do any and then as it gets closer to the edges it adds more and more chromatic aberration and that is the final shot so now very briefly how do i use the toolbox in nuke the thing i really like about the toolbox is you can use um different presets for different pieces of software so if i open the menu for it i've got auto switch turned on which basically means when you open different pieces of software it will automatically change what the buttons do depending on what you assign them to i've got a preset for google chrome i use an online photo editor to do all of my thumbnails which is similar to photoshop but it's free so i've got a load of presets set up for that then i have one for blender which is the one i was showing earlier i have one for davinci resolve which is really cool it's very very similar to my blender setup i can use this dial to basically scrub backwards and forwards in the timeline which i really like in nuke it's a little bit different originally i wasn't sure how useful i was going to find this in nuke because it's quite shortcut specific and i usually just have my hand on the keyboard but the more i thought about it the more i found that for doing roto or paint work is actually a really really cool tool so if i turn off my zoom in on the camera quickly on my webcam i'll show you what i mean let me point the camera down slightly so this is a bit of a strange angle but basically when you're doing painting and nuke you're going through frame by frame and doing lots of detailed work so my hand is on the arrow keys over here and i'm using the wacom tablet here and so my arms are kind of crossing over each other and get in the way and especially when i'm at work and i'm doing quite a detailed shot you can spend quite a lot of time doing painting so you can be doing this for quite a long time and it's a bit of a strange position so after a couple of days of using it i actually found i can remap all of the controls onto here and do all of the flicking backwards and forwards in the frames with this hand and then have this arm completely unrestricted for when i'm doing the stuff with the wacom tablet i didn't actually do any paintwork in this shot but i'll give an example of how it works so on the toolbox like the other ones i've assigned the wheel to go through and actually change uh what frame number i'm on so this is essentially mimicking the left and right arrow keys same with the left and right on the d-pad these are backwards and forwards as well these are a bit more precise in the dial if you just want to go one frame the up and down arrow keys like blend that jump between the keyframes which is quite nice so these are assigned to alt left and alt right then if i'm doing some painting i've assigned this button here to be the keyboard shortcut c which will open either the reveal tool or the clone tool and if i press it again i can switch between the tools as you can see here and then these two buttons here next to my thumb control the size of the brush like this so this button here is basically shift and when i use the wacom cursor it will then change the size of the brush and then this one here is essentially control and this changes where you're cloning from and where you're painting it too i don't know if you can see there's a button here next to the scroll wheel i've assigned this to be the keyboard shortcut h which resets your viewer to fill the screen this one's really handy and i press that loads as well and again i've assigned the button on the side to be ctrl z so i can undo the paint strokes with one button which is really easy i find that it's really easy when my hands aren't crossing over each other and i can have one hand completely off the keyboard off to the side and one hand doing the stuff with the wacom tablet it's a much more comfortable position when you're doing lots of paint work so the toolbox now lives on my desk full time okay and lastly i wanted to jump into one of the sail transition shots because they're quite cool so this is shot 12 and this is one of the shots where the sail transitions and opens up you can probably see the new script looks kind of similar if i look at the blender scene it starts off where at the beginning of the shot the sail is actually fully closed and as the shots begins these sliders animate to open and close which makes the sail pop out so if i go forward a bit the sail pops out and then you see a few frames later these uh rods and stuff kind of fold down back into place and even though you can see the geometry of the sails here they're actually not always there in the render because i use a transparent shader on the mix with a noise texture that makes them appear so i go into the shader editor i've got a setup on them that looks like this basically it's a noise texture that's animated with a color ramp to go from really extreme crunchy black so fully black and then over the course of about 10 frames the color ramp animates to become white and then this goes into a mix shader that's mixing between the actual shader of the sail and a transparent shader and using this as a factor essentially so it's saying when it's fully black this should be transparent and then here what's black is the transparency what's white is the sail shader and then at this point it transitions into basically being the full shader of the sails and then it flies off but as you can probably see here this effect isn't very interesting and in the film they have this really cool like flash of light as the sail opens that makes it look really awesome and i really wanted to mimic that effect so the way i did it was i actually rendered that mask that i was showing in blender so i have this black and white mask that's then dissolving the sail on and then what i did is i used an edge detect node on this to basically find the edges of the texture which gives me this then i took the actual alpha of the sails and eroded it down slightly and blurred it and then i used that as a mask just to take away the edges because as you can probably see here it was also detecting the edge of the sails which i didn't really want i just wanted the inside of it so i used the slightly eroded alpha to basically cut off the edges and then once i had that i added a glow onto this and then graded it to be that kind of orangey color of the sails and then put this on top and this does a great job of making the sail opening feel more powerful and it makes you notice it more because it's a really bright flash as opposed to it just dissolving on so this is before and this is after makes a massive difference obviously and this is what it looks like on the run so you can see it's a really quick effect it happens so quickly that you don't really notice it unless you're looking for it but i really love these frames where you can see it in the middle where it's transitioning between them so that's how all the 3d was done and also how i composited it hopefully this was a cool insight into the workflow as i said with the text at the end of the last video this took absolutely ages to do i spent about two months on and off in my evenings after work and stuff um building all the assets especially the environment and then doing all the animations and stuff took a couple of weeks so yeah that was a lot of effort for a 56 second video whatever it was lots of people said they were interested in seeing how it was done so hopefully this was a cool look behind the curtain at the process and also a little look at the toolbox neo i've always wanted something like this but they've always been about five or six hundred dollars the ones that i've looked at so i've always shied away from it just because i didn't think they were worth that much money the toolbox is a lot more affordable which makes it a lot more accessible to people like me that are interested but didn't want to spend the extra money to get one of the really expensive ones it's really well made it's got a really nice weight to it so it feels nice and heavy all the buttons feel really high quality they're like really satisfying to press and everything's really tactile about it which i absolutely love if you're interested i'll leave a link to their website in the description and they've also kind of given me a code for you guys so you can get yourself a bit of a discount if you're interested in picking one up find yourself plug before the video ends if you want any of the treasure planet project files i'm putting them all on patreon there's already a few on there and i'm going to be uploading the rest of the shots over the course of the next few weeks and i'm also working on making new scripts available for anyone that's interested thank you for watching the video hopefully you've enjoyed and i'll see you in the next one [Music] please say it ain't so