there's something i don't think we've ever actually talked about on computer file and it is this the humble mouse you've got disco mics they've got lights on the bottom this is like a kind of save yourself from repetitive strain injury version and this is more classic but probably not as classic as what you're holding mine's from a rollerball disco the way to think about a mouse is to break it down into three chunks i mean there's the sensing technology which you've got at the bottom of the mouse as you say detects the movement as you move it around on the surface so you need some sort of technology to detect how the mouse is moving you've then got well effectively the cable that comes out of the mouse you need some way of sending that information from the mouse to the computer and then you need to draw the actual pointer on screen and then have it move around now the pointer on screen that's that's probably the simplest thing you're going to get data from the mouse telling it how it's moved and so you can just update its location on screen and redraw it we weren't considering that that's more of a graphics problem you do the same thing to draw sprites in a game or any sort of movement of something within the screen so we'll ignore that for now what we'll concentrate on is how do we sense the mouse's movement and then how do we actually send the data over the cable to the computer or i guess these days over bluetooth or some sort of wireless link to the computer what i thought we'd also do is it's probably easiest to start at the beginning so we'll start by looking at a rollerball mouse and see how that worked and then we'll sort of take the discussion up and look at how the optical mics we have today work and also how the optical mice that were sort of existed in the past also worked as well because optical mice as we know today appeared around 2000 around the turn of the millennium but there were optical mice all the way through the 80s and 90s as well but they required special mouse mats that they had to run on if you didn't have one of them then your mouse wouldn't work of course if you've got a modern optical mice if you try and run it on a shiny surface and you may well have exactly the same problem with certain implementations so they all sort of have their limitations of technology so let's start with this one what we end up having in the mouse is a little steel ball with a rubber coating on it and that sort of moves as you push the mouse moves around on the surface of inside the mouse you've got two rollers or three rollers but two rollers which are touching the ball and as it moves it causes those rollers to move so let's just take the mouse apart try not to lose any bits i'm not too worried about this one because this one has interesting up and down works fine horizontal motion works fine going in one direction and if you push it in the other direction it still goes in the same direction which is quite odd but we can talk about why that might be the case when we come to understand how this sort of mouse works so let me just undo the screw what you used to have to do occasionally was clear all the fluff out of it of course because you'd have yeah the mechanics would get gummed up and that wasn't the pleasant thing but it was quite satisfying when you've done it yeah so exactly we can have a look at how that would happen as well so inside the mouse this is an atari st or an amiga mouse depending on which way the switch here is set i've got it set for the atari st of course we've got one ic on the mouse's circuit but all that's doing is just taking the signals from the rest of the circuit and sort of conditioning them so that when we send them over the cable they're nice clear digital signals with no sort of bounces or anything on them and so then what we have is we have this arrangement here we've got these two rollers that we said let me just deconstruct this mouse a bit further and we'll get to see all the fluff there we go so we can get that bit out so this is the bit that gets in contact with the mouse balls we've got these two things and you should be able to see that there are two wheels here that turn in relation as i move the ball so as we move the ball it's in contact with these rollers and so these wheels turn so that's why this one isn't actually working because as we turn it in one direction the wheel turns as we turn it in the other the wheels not turning at all so i can fix that later so the ball is in contact with two rollers and as the ball moves it makes these uh discs move now these discs are interesting because they are have a sort of serrated edge and they've got a sort of hook like structure if i use the ipad i can sort of draw a diagram of what that would look like so you've got this sort of lightning bolt type shape in there and so that's what's on the edge of the disc and the reason why you've got that is because as these rotate they pass between a couple of sensors and these are a lightweight diode which probably gives off something like infrared light and there's no need for it to be anything else but it's all enclosed and then you've got a photo transistor or a couple of photo transistors so as this wheel just sort of spins that shape breaks the light signal so you'll get a signal being generated which will be on off on off on off on off and that movement will be in sympathy to the way that the mouse ball is turning so as you turn the ball faster those things will that signal will change fast dirty turn it slow it will change slower so we can work out how fast the mouse is moving by counting those pulses if i draw a diagram again we can see the sort of signal we'll get so it'll start off when the thing's blocked as being zero volts because there's no light going through and then as the light comes through it'll become one and then as it changes it'll become zero again and it'll become one then it'll become zero again and you'll get what there's a sort of pulses of signals and if you count those pulses you know how far the mouse is moved and the sort of rate at which that changes tells you how fast the mouse is moving and so you can take that data send it to the computer and then you can move the pointer on screen in sympathy to what's happening you're getting a signal telling you how fast it's moving and you know whether that's along the horizontal or along the vertical based on which of the rotating discs it is that you've got there we've got two of them one for vertical one for horizontal so we can get how fast it's moving but we also need to know which direction it's moving and that's why we have that sort of lightning sort of shape in there because actually what happens is we don't have one sensor we actually have two and they're sort of stacked vertically on top of each other and because we've got that sort of lightning shape with that second sensor the signal is delayed slightly so we've got this first signal here but the second sensor would be sort of delayed by a certain amount so actually the pulses would change delayed compared to the other one as hopefully you can see in the diagram i'm drawing very badly here and so on so you'd have two sets of pulses one delayed from the other it's what we call quadrature encoding we can actually derive from that which direction the signal is moving in so the speed of those pulses tell us the rate we know which direction it is because we know which roller it's coming from and we can look at those pulses and if the pulse appears on the first sensor first then we know it's moving in one direction but if it appears on the second sensor first we know it's moving in the other direction so by comparing the two pulse trains because they are offset from each other we can also work out which direction the mouse is moving in so the first part of our problem can be solved with this sort of arrangement we can work out which direction the mouse is in because we've got the two pulse trains and we can compare them and see which one of them the pulses arrive first on the rate of the pulses tell us how fast it is and we know whether it's up or down or left or right based on which of the sensors in our mouse is actually detecting the movement and they can both detect at the same time which gives us a sort of diagonal movement and because the ray can change between moving faster slowly we can not just draw straight diagonal lines we can do curves and things as we move the mouse around now if we go back to these discs again if we look at them they're quite closely spaced together and the closer to the spacing would determine the resolution of the mouse if you had smaller gaps your pulses would appear quicker because it would rotate at the same speed so you'd have more transitions for the same movement and so you'll be able to move the mouse less to move more distance on screen conversely if you had larger gaps between the sections of the disc you'd end up having to move it further to move the same distance on screen so the sort of resolution of the mouse that you've got depended on the sort of discs that were had that span between those sensors so the their sort of original rollerball mouse were quite simple you have these sensors that detect the movement in the way we've sent you've got some simple electronics to sort of clean up that signal to get a nice digital signal which you could then send up to the computer over the cable we come to the second thing which is how do we actually send that data to the computer so that we can deal with it now with some of the original computers things like the original macintosh the original atari st and the amiga for example you literally just sent those pulse trains up the cable into the computer and the computer the software or hardware inside the computer decoded those signals it's relatively straightforward as we said just to detect which one of them which one of the signals the pulses are appearing on first and you can then work out how the mouse is moving at the speed the direction and so on and then transmit it so for a lot of mice they literally just send those quadrature signals straight up the cable into the computer and let the computer deal with it but that's not the case with the ibm pc when the ibm pc was originally designed you didn't have a mouse port on it the macintosh the amiga the atari st were all designed to support graphical user interfaces they were all designed with a mouse interface in there and so you could just send those signals but the ibm pc wasn't at the time it was designed ibm thought it would just have a command line interface and so when you wanted to introduce a mouse you had to sort of introduce it using the ports that are already available on there and so what they did was that they used the serial port the serial port allowed you to send data in the serial form to the computer so they just co-opted one of the serial ports to receive the data from the mouse so but that means we need to format the data from the mouse not just in the sort of pulse trains that are coming from the rollers and things but we actually need to convert it into data that we can send in a serial form so what happened with the original ibm mice and then ps2 mouse did something very very similar the same thing happened with apple desktop bus where mice were connected on that and of course with usb now what happens is that now rather than trying to work out from the sort of pulse trains what's happening inside the computer inside the mouse you had a slightly more complicated circuit which would decode those quadrature encoded signals into the direction and the velocity which the mouse was moving and it would then convert that into a series of three bytes on the original ibm mice that were sent over the serial port to the computer that it could then decode to tell it how it was moving and so those three bytes the first one would tell you which of the buttons were pressed the buttons are dead simple they're literally just switches that open or closed to send the data tell you which ones are open or closed and it would also tell you the direction whether it was moving up or down or not or left or right or not and then you would send you the velocity of it was moving along the x direction and the velocity was moving along the y direction as i would constantly send that data those three bytes continuously after each other so that the computer could receive the information about how the mouse was moving so whereas the original mice were sort of taking the data and offloading it to the computer to sort of process and get the information on the pc and the mice we have today the processing is done inside the mouse and the pc the computer is just receiving the data that it can then use to update the position of the pointer on the screen are these disco mice the same actually this one's not even plugged in so you're getting no red light from that let's try that with one that is are these uh flashy mouse mice do they work the same apart from the mechanics how does the optical bit work that's a good question an optical master probably been around longer than most people realize there were optical mice in the 80s and 90s particularly on sun workstations but these used a slightly different technology you had to have a special mouse pad for them which had a grid of dots printed on it and as you move the mouse over there that grid of dots would have had the same sort of effect as the sort of spinning wheel and created the pulse train just so you've been able to track it what i think you're talking about is the sort of modern sort of optical mice i've got one here where you've got a sort of red light shining at the bottom of it and if you look you can just see there's a sort of very tiny camera sensor in the bottom of there as well these work in a very different way but if we think about if we backtrack from what we need the computer to receive we can start to understand how they might work there's literally a little camera photographing several thousand times a second the desk or however fast the camera's refreshing and then as you move the mouse the image will change and then it's doing a comparison of the two images to sort of work out how they've been shifted the same sort of comparison you would do in a video compression algorithm to work out how to move one bit to another and once you know how far you have to move the image from the previous frame that you took to the next frame you know how the mouse has moved and so you can send that data to the computer now the problem you need to do there is you need to sort of get a really good image of the actual desk so that you can sort of see the structure of it so you can actually track things moving about and the way that they do that if i use my phone as an example here the light is sort of shining across the desk so it highlights all the sort of pits and troughs of the desk and so you can see the structure of it which is why it doesn't work so well if you have a very very flat or smooth surface because it's not highlighting anything and of course glass it would just shine straight through and so the mouse wouldn't work at all so you end up using to use some sort of lasers to try and get the same effect but what you're basically doing is you've got a camera pointing down at the desk you've lit it and you've illuminated it in such a way that you can actually really see the structure so as it moves you can see how things are moving around and then you're just comparing the images to see just how much the image has moved and so and then you can get that data and send it to the computer and the mouse pointer would then move in the same way this sort of technique was developed by hp and the sort of microsoft were the first people to release a mouse that used this technology um in the very early 2000s i think it's around 2002 i first got one that worked in this sort of fashion and so on and so it was much smoother you didn't have to clear your you roll the ball out um when it got all sort of lint and things you didn't get fluff around the rollers you had to clean out and things so it's much better it's much better at tracking things you didn't get quite scenario so many errors as you move the mouse around and so it was a much better experience for sort of moving your mouse and sort of keeping things going so yeah definite improvement on the old rollerball sort of technology that you get blue that's also got cheaper paths now i think you or i can see looking at that that we've now got the cheapest cost passed for everything so yeah they're very different to the originals and the important thing is that we don't know what went into here right we know