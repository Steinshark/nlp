Meshtastic is an open source project that allows you to create your very own private off-grid decentralized mesh network and it's designed to run on super affordable low-powered devices. But why would you want to set up your own off-grid mesh network? Well let's talk about some potential use cases. What if you're running an event such as a music festival or the Baja 500 you know in some remote place where there's a ton of people but not a lot of cell coverage. Cellular congestion may make SMS communication difficult but if you have your own network of meshtastic devices you can communicate with your team away from the cellular network. How about for camping hiking or mountain climbing? Now again if you're in a super remote area where you have no cellular coverage but you need to communicate across long distances you could set up a meshtastic network and then have a portable node with a battery in your pack for communication with the base camp. Or let's say you have 100 acres of farmland and you need to receive information from IOT devices that are measuring temperature and soil moisture or even motion detection and you want those IOT devices to communicate back to a central server. Since the meshtastic hardware is relatively cheap and it's designed for low power consumption you could set up a huge network of devices with just tiny solar panels and batteries. And what about asset tracking? Say you're working on that same huge farm but you slap a meshtastic node onto every truck tractor and piece of farm equipment. With the onboard GPS you can now monitor exactly where everything is at any given time. So I love this project and I'm sure there are a ton more use cases that I haven't even thought of. I'd love to hear about your ideas down in the comments below. But for now let's hand this video off to Crosstalk's own David Barger who went through the full meshtastic learning curve in order to provide us with a deep dive into the amazing open source meshtastic project. Take it away Dave. Over the past few weeks I've been diving into meshtastic and today I'm going to walk you through the entire process. We'll cover everything from choosing the right hardware to assembling it and flashing it. We'll finish things off with testing its range over a local college town to see exactly what it would take to cover the entire downtown area with meshtastic coverage. But first let's kick things off with the hardware selection. There are a lot of equipment options for the meshtastic system. I was actually overwhelmed at first. I went through the official documentation and they actually recommended a starter kit. So I picked up three of these. They're from a company called Rack Wireless. I believe they're about 20 or 30 bucks a piece. Let me show you what's included and what you need to purchase additionally to this. So to start off with the main piece of this is the baseboard. So this is the Rack 19007. This is this big chipset here that kind of holds everything together. Think of it as a motherboard. On the other side is where they put the additional chips. Now these come assembled if you select them that way. If you order this piece in the the starter kit these already come attached. You don't have to do anything fancy. The first chipset here is actually the LoRaWAN module. I'm in the US so this is a 900 megahertz chip. Down below is a GPS module. So if you're going to be using this for tracking where it goes you want to get this put on there. However it is a little bit power hungry so if you are going to be very power conscious you may be wise not to go with that. And I did choose an option to get a screen. This is actually pretty nifty. If you're just starting out you can choose to have the the headers actually soldered on. So you can just snap this right in place on the baseboard. If your enclosure that you're using has the the actual screen mounted away from the board you probably don't want these on there. You want to have these unsoldered so you can solder your own wires and go ahead and put them wherever they need to go. What's also included are the antennas. So we have here the GPS antenna. Of course if you didn't buy the GPS module you will not get this. You have the Bluetooth low energy module. So this is actually another piece of this 1900 megahertz chip. There's also this 900 megahertz integrated antenna that you can put on there. Most folks don't use this from what I'm reading. They use something like this. This is a bulkhead. This actually unscrews and you can put a little hole in your case, mount this guy in there and put an external antenna on it. The battery is not included so if you want to run this off the battery you got to purchase this. I believe anywhere you buy meshtastic equipment you can add this on for about two or three bucks. You got to make sure here that the battery adapter fits the battery piece on the baseboard because if you see here the baseboard actually has here a battery connection and a solar panel. This one here will fit the solar panel but you don't want to put that there. I actually have different ends I'm going to put on this battery to connect in. Some other things that aren't included. The actual cases themselves. This is kind of where you get creative with this project so you can just go to, like me, I went to a local camping store and I picked up this Pelican case. It's 26 bucks. Chris actually printed this for me. This is actually one of the ones that their official documentation recommended. Finally, mounts. I just 3D printed this mount here because if I want to put it in this case, how am I going to attach it inside of here? I'm going to use a 3D printed mount. This just attaches into the case with screws or VHB tape or something. Then you go ahead and screw this down on top of it. It works pretty well. If you don't want to 3D print a mount, Rack Wireless has their own. These are really nice. Only a couple bucks. I think they're injection molded. Let's go ahead and get one of these set up and programmed and we're going to try it out. This is the first node that I set up here and it was using that 3D printed case. It came out pretty good. I wanted to show you how that's set up and kind of the downfall of this 3D printed case. This is what it looks like. Overall, pretty sleek design. You can see here the antenna. This is not a stock antenna. I went ahead and upgraded that. Let's take it apart here. I'll show you how it's put together. You can see here that this top piece just pops off. This top piece contains the display board. You'll see here I didn't use the headers. I had to solder on these wires. Now I'm not the king of soldering but I did an okay job as a beginner. I think this is very easy and I just want to point out why. If we take a look at how the default board headers come. If we just pop this right in and if we were kind of to overlay with this 3D print where this screen went, it goes here. You can see that does not line up here on this side at all. Not a huge deal but you got to be aware of that. To continue down this, I want to point out when you assemble this you need to have the antennas hooked up to it before you power it on. If you don't do that you could fry some stuff. They mentioned this a few times on the on the actual official documentation so make sure you do that. Back here I have the battery set up. Overall, this is a pretty compact unit. You can probably see my wires are a bit too long. Honestly, this is just a hobby setup. I've been happy with it so far. Battery life is pretty good without the GPS but let's go ahead and set up one here in this very simple enclosure. This one here is going to be built on this Pelican case. This is a very simple example. A nice waterproof setup. Let's actually look at this and lay it out. I would always say go ahead and just do a rough in on this. We're going to go ahead and connect the screen. It simply just pops right in and then we can go down here and try to think of the best place to put this. I assume we're probably going to put the battery up here and we'll just connect the antennas where necessary. First things first, let's go ahead and get this mount put in here. I'm just using some VHB tape. Is that the right answer here? Probably not but for the purpose of this it's going to work just fine. Press that in and we got back out these screws and we'll get the board put on. Okay so we got that mounted up. Let's go ahead and get the battery put in. I'm actually going to go ahead and just hook this in with hook and loop simply because if we need to swap the battery out later I don't want to have to pull out VHB or something like that. So let's go ahead and get that set up. We're going to actually remove the screen so we can access the antenna ports a little bit easier. If you've never used these really tiny connectors they're very delicate so be careful. All right so we got the basics all laid out here and something I mentioned before is this battery connection does not fit the battery terminal here so I got to solder that out and put a new one in. Actually this case would be good for one of your solar setups. You know if you bought the little solar panel you could place it right here, plug it right in, and this thing could be just maybe left in the woods up on a mountain somewhere and it'd probably run for quite a long time. Let me go ahead and get that soldered in, power it on, and we'll go ahead and Let me go ahead and get that soldered in, power it on, and we'll go ahead and get it set up. Heat shrink tubing. How many times have you assembled something, soldered it, and realized I forgot to put the heat shrink tubing on first? Happens to me all the time. Tell me about it down in the comments. Yes I know I should be using a heat gun but I'm not dragging out my heat gun just for two pieces of heat shrink. Okay so we got the new lens attached here for the battery. It is plenty long enough, probably too long, and my my soldering is adequate. We'll leave it at that but let's go and get this powered up. We'll go ahead and get it flashed, programmed, and we'll see how far we can get with these guys. The software side of the Meshtastic system is actually really easy to use. What I have set up here is I just plug this in via USB to my laptop and I pull it up flasher.meshtastic.org. You want to make sure you're using a Chrome based browser but easy enough this is what we got to do. We've got to click on this little auto detect device. It's going to try to connect to the serial port. We're going to allow that. We'll select the firmware we want the most recent stable and we'll click flash. So it's going to give you all of the information about this firmware. Hit continue. We're going to put it in DFU mode and what this does is it basically connects it to your PC as a USB drive. You should be able to see that. We'll show you in a moment but we're going to download the file and what we need to do here is pull up the unit as a USB device and we're simply just going to drag this into the unit. Now we're ready to actually start using the Meshtastic unit. There are iOS and Android apps that work fairly well for this but I'm going to use the web-based one just for simplicity's sake. If you use a Chrome based browser and go to client.meshtastic.org you can click new connection. We'll click serial and we'll click on this one here and we'll connect right up to it. Now if you look at the screen of this device it's immediately asking you to set the location and that's something you have to do right off the bat or it will not work. Let me show you where you do set that up and it's under configuration radio config and then over under laura at the moment it's set to unset so it will not work at this moment. So we'll go ahead and click here change it to my locale which is the us and we'll save that up at the top. This is a pretty major setting change so it likely will reboot when this happens it will come right back up and we can get back into it and here we go. Before we go too much further let me talk about the few major settings you have to be concerned about. The first one is actually the channels themselves so by default you have this primary channel here there's primary channel one through seven. Now the one that almost everybody uses right out the gate is primary it doesn't have a pre-shared key you have this aq equal equal eight bit that just means there's nothing there and then down below there are some settings for uplink enabled which basically means you can connect this to like an internet relay and it will connect to that. Now there are other options here for example channel one we could enable this maybe as a secondary type of channel then add a pre-shared key that we could share with our friends and then we have a bit more protection on the information we're sending across. Beyond that if we go back here to config there are two major groups of configurations inside of here there's radio config and module config. The big things you need to be worried about are right here so under radio config there's the rule and there's a lot of rules here and I actually suggest you do look at their documentation for this but the long and short of it is likely you'll either use client router or client mute. There are a lot of fun things here but the basic is a client and that's meshtastic client where you can send and receive messages but you also relay messages and that's the difference between the client and the client mute. The client mute can send messages and receive them but it will never relay a message for another device maybe you just don't want to use your air time for that so you could set it to that. And the third one router is basically a meshtastic unit that you strategically place to extend your coverage you can see that whenever you do trace routes and all that stuff so if you don't want to see that router there's repeater which won't show up in there but take a look at all of these and check it out there's a lot you can do here I'm just giving you the basics so you can hit the ground running and of course we have a lot more settings such as position this is your GPS stuff if you have a GPS chip you can enable it here you can set the pins if it doesn't automatically find that there's power settings shutdown delays all that stuff network if you do decide to connect this to some sort of wi-fi and have it as a repeater that goes onto an online system this would be how you do that display now the display I have automatically figured it out this starter kit is really nice for that I didn't have to go in here and change all of this around or mess with any of the screen settings it just worked and of course here we have those laura settings which we already took a little bit of a look at by setting the us location down below here is a major setting so this is the modem preset so how this guy communicates there's a really good wiki online about how all of these options work the default is long fast some of these transmit data much faster but they don't go as far and that's always a trade-off here so if you want to play around with that you could try that as a beginner I would just leave this at long fast and go ahead and try it out and see what type of distances you get and then of course there are bluetooth settings if you have bluetooth here you can use this to connect to your phone it works extremely well the other section here is module config if you have a specific use case here you're trying to make this work with like mqtt likely will be inside of here like I said mqtt is a way for industrial iot devices to send information in a message format that's primarily what laura was used for initially and this is something you can still use this here for it works well a few of my other favorite modules are the range test if you can get your gps chip working you can use that information to see how far you can go and just kind of drive around and then of course the packs counter the bluetooth low energy module in here can actually count the number of devices it sees around it so that way you can kind of get an idea of how many folks have moved around by this device it could be kind of cool if you're using this at like a music festival or something you kind of see how many folks or bluetooth devices were in your area at a certain time but this is just the modules going back here to actual messaging if we're on the primary channel of course everybody has access to this let's send the test so we'll send a test message now in a moment this should change to a check mark if there's a device listening in and able to send an acknowledgement now right here you can see it got a little exclamation point which means it didn't receive an acknowledgement from anybody that's because there's nobody in my neighborhood who has this and i have my other radio turned off let me go ahead and turn it on and i'll show you what it looks like when somebody does respond here we go and now it does take a minute for this whole transaction to happen but you do see that check mark that means somebody received that message and we got an acknowledgement now doesn't mean they're going to reply to us but at least we know somebody got it now this isn't some extreme test just sending a message across my room so let's go ahead and take this outside and see how far we can get so we have our meshtastic device here that we assembled and i did make a slight modification i went ahead and put the bulkheads on this because i wouldn't have the external antennas i just drilled a hole and went ahead and threaded them through what we're going to do here is we're going to try to cover my small town with meshtastic coverage so what i have here is a large 915 megahertz antenna and we're standing on top of the largest parking garage we have here so i'm going to leave my car parked here because this mag mount will not hold this while we drive around but we're going to mount it here and we're going to walk around the city and see how far we can get so we're about a block away not very far this should be well within the range of it and look at that immediately i'm hitting it i did a trace route and it hit it just immediately let's go even further and really put this through its paces so i've been walking around for a bit and i think the fringe of the coverage zone is about seven or eight city blocks where i'm at here now this is going to vary from place to place in my city we have some larger buildings apartment complexes as well as parking structures in the way i've noticed if i go into a location that doesn't have many of those between me and the actual piece on top of the parking structure where we parked i have better distances now if i was planning this out for my city that kind of cover this entire thing i would space these out about seven maybe even six blocks away as high as possible and this should build out a pretty nice relay node and that's the thing about meshtastic there are different modes this thing can run in i have mine just in a standard mode here you can set these up just as repeaters so they just sit and listen and repeat messages that's probably what i would do if i was trying to cover this area overall i'm pretty impressed with this it hasn't been entirely smooth sailing with meshtastic and i want to point that out here so if you're just getting into this you may run into a few issues here or there especially because this is a beta product you know when you download the firmware it has beta after it the one thing i ran into was well one evening when i was testing this in my neighborhood i was using it it was working fine and i left the units on overnight to do a battery drain test they were still up and running but they would not communicate with each other i spent a good hour or two going through the logs and seeing what was going on and they were transmitting the message but the other end was never getting it i spent a lot of time troubleshooting that and eventually i just factory defaulted the units that fixed them i have no idea what that was but hey that's just something with a product like this i'm sure they're going to iron those issues out and the second thing was gps and this could be specific to the hardware i use i could see the gps unit talking to the actual board inside of it via the logs but it would never lock on and i know there were a lot of people saying hey just let this sit outside for a bit you know a clear view of the sky it never would but it is important to note your phone's gps can actually sync with this unit to transmit that data so if you're connected to this with your phone you can share your gps that way now that won't be ideal if you're trying to use this as like an inventory or an asset management system of putting these in a vehicle you'd want that gps to be standalone overall though this has been a really fun project if you have any questions about this make sure you put it down the comments thanks for watching crosstalk solutions