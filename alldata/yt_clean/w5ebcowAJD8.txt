- When QR codes first came never going to catch on. This is a flow chart from the time that really resonated with me. The problem as I saw it and they mean nothing to people. I would rather just see a website or a word that I could Google. QR codes are a language for But I was wrong. QR codes obviously turned that they are now ubiquitous, used in everything from tickets to restaurant menus and advertising. In some countries, they're the most common And the story of QR codes The origin of these checkerboard back to our first efforts In 1825, there was a renowned painter who lived in New Haven, Connecticut, with his wife and two kids. His big break came one to paint a portrait of a hero of the American Revolution. Even though his wife was expecting their third child any day, the opportunity was too good to pass up, and he hastily set off for Washington DC where Lafayette was waiting. There the painter wrote to his wife describing his signing off with the words, &quot;Will write again soon. Love to all the children. In the greatest haste, but with the same ardent thy loving husband.&quot; After a few days with no reply, a courier delivered a letter which said his wife was Worried, the painter rushed home. He traveled by horse and managing to arrive back in (melancholic music) But it was far too late. His wife had died. Not only that, he had missed the funeral. Her body was already buried in the ground. The painter's name was (inquisitive music) From that day forward, Morse to communicate over long distances. He got a job at New York University where he attended lectures on electricity, a rapidly developing field at the time. In 1836, along with Joseph he devised a machine that could send electrical This was not the first electric telegraph, but it was the simplest. In the UK, another team had to move five magnetic needles to point at letters and numbers. Morse's system required but the simplicity of the apparatus demanded a cleverer method On the circuit, you could Morse turned these into dots and dashes. The most common letters could be sent with a single key press, a dot for an E and a dash for a T. The other letters were and assigned increasingly complex codes. These symbols were meant to be printed at the receiver on a paper strip, but operators soon realized they could recognize the (Morse code beeping) This sped up the rate at which information could so Morse code became an for rapid messaging. (Morse code rapidly beeping) Widely used in the military, maritime communications, and aviation, the universally recognized what does it stand for? Nothing, it just happens and recognize in Morse code. Morse code revolutionized communication, but in the next century, it would transform a (mellow jazz music) In the late 1940s, Bernard Silver was an engineering student at Drexel University in Pennsylvania. One day, he overheard the president of a local supermarket chain to find a way to speed At that time, cashiers and its price by hand. A process so tedious and repetitive that many cashiers had developed Silver told his friend about the problem, and together, they began experimenting. After several false starts, And one day on the beach, he drew some dots and dashes something he was very He recalls, &quot;I just extended and made narrow lines and and thus the first barcode was created. From this humble beginning, evolved the universal capable of storing a simple It's read by scanning a laser across it and checking how much light is reflected to read the black and white lines, essentially as dots and dashes. A pair of vertical lines are placed at the beginning, middle, and end to ensure the scanner The code is divided into Numbers at either side have their black and white lines flipped so that the scanner can even while reading upside down. When viewed upright, the numbers typically specify and the product on the right. Manufacturers actually to reserve a given amount so that they can exclusively (scanner beeps) In this way, the 12 digits every single grocery This jar of Jif peanut butter is identified by the same in the world it's found. And all forms of peanut no-stir, sugar-free, low-sodium across all brands get Will we ever run out of barcodes? Well, 12 digits could combine that is a trillion different That should be more than enough, even if companies keep making and Flaming Hot Mountain Dew. But there is a catch. The last digit is not The barcode creators were aware stained, or tampered with, so to verify that the barcode is complete. Take any barcode and sum the digits at multiply this result by three, add the digit sum at even-numbered and take the remainder when If this remainder is zero, Otherwise, the check digit (bright electronic music) If a scanner is unable to read it can use the final digit to back-calculate what it But if two digits are damaged, In that case, we have to type in the numbers So without that last digit, the number of unique or 100 billion options. To date, 1.24 billion a number that is rising every day, so they won't last us forever. (scanner beeping) But that's not why people began to look for alternatives to barcodes. It was really the amount of information a single 12 digits by themselves could But what if someone wanted like where that product came from? (brooding music) In 1986, cattle in the of a curious brain disease, bovine spongiform encephalopathy, or mad cow disease for short. It is spread when cattle ate feed containing and if people ate beef containing tissue from the brain or spinal they could contract a that literally turns Now, as no test could detect millions of cattle were culled. Health officials sought in imports of beef. But with all the information for any one piece of beef, American inventor David Allais by stacking many barcodes The result, Code 49, This is actually the a code often used on But Code 49 didn't solve At best, it multiplied the by a handful. A more efficient way was to extend barcodes creating a data matrix. NASA tried this in 1994 with Vericode, used to track and identify This code was read by early digital cameras and was initially proprietary. Around the same time, Masahiro Hara, an engineer at a Japanese auto was getting frustrated at for filling in the same - Hara set out to develop He took inspiration - To understand how information I am going to build one myself in the way Masahiro Hara with a Go board. I have the usual black and white stones. White represents zero. And we're going to encode the link to our YouTube channel on this board. So the first step is to convert www.youtube.com/veritasium into ones and zeros, and we'll By encoding uses ASCII, which itself has roots in Morse code. Every character is assigned Then we convert the ASCII Since 256 is 2 to the power of 8, we can use the eight to represent all ASCII characters. These eight bits make up (upbeat techno music) The letter W is assigned or 01110111. Doing the same for all characters in www.youtube.com/veritasium, this is what the string This is 26 characters long, so it takes up 26 bytes of information. Now, our board is 25 by 25. This is known as a version 2 QR code, but there are many different sizes, all readable by your phone. Hara's version 1 QR code was 21 by 21, and the largest version That is large enough to hold Just 26 of these would've been enough to store all the information to send humans to the moon. (bright music) One programmer (MattKC) even coded into a version 40 QR code. (bright music) The region around a QR code must be empty and of uniform color. This is the quiet zone. A distinguishing feature of QR codes is the three square These position squares allow the reader to identify the orientation of the code. Now, almost all QR codes in the last corner, but it's smaller and, This is the alignment pattern. It's used to rescale the QR code when it's read from varying distances or from crazy oblique angles. The relative size and distance with respect to the position to rescale it into a proper square. Next to the position squares that isolate them from And these are timing strips, zebra pedestrian crossings which connect the top left position square with the other two. Every QR code has these You should look out for them. QR codes of all sizes so this tells your phone and, therefore, how much data to expect. If there are five alternating If there are nine, it's And next to those are format strips that contain rules for I'm placing red stones in the There is another feature This one pixel adjacent to the it is always dark. I asked Hara-san if it had but he said no. All of this remaining Data inside a QR code always starts at the bottom right corner. Here, the first four that specify the data format: 0001 if it's just numbers; 0010 if it's alphanumeric, so 0100 if it's information stored in bytes; and 1000 for Japanese kanji. The following eight bits are used to indicate in our message. So since we have 26 characters, that should be 00011010. Next, we start arranging our bytes for youtube.com/veritasium starting in eight-bit, two-column cells;. They follow a zigzag pattern that snakes its way to the top left. Within each cell that represents a byte, the most significant bit, corresponding to two to the And the least significant, is at the opposite end. 01110111 for w will hence be filled like this. And we'll follow along with the rest. Once we fill in the bytes for www.you, we encounter the alignment To put in the next T, we simply for any of the other Thus, we keep filling in our data in the same zigzag pattern. After we complete www.youtube.c, the cells start looking less But the way we put the stones byte after byte remains the same. (hopeful music) And there go the last eight But wait a minute, we've only covered about Well, that's because this is reserved for redundancy. These extra bytes of to reconstruct information (menu whooshing) For a fully intact QR code, error correction makes putting a company logo at the center, just like the sponsor Now, I travel a lot. Recently, I was in Germany. Right now, I'm in Australia, and soon, I'm going to the UK. But wherever you are, you Either you pay your home or you have to find a place put it in the phone, and hope it works. This video's sponsor Saily makes it easy to set up a cell plan and data You can pick how much data you want and how long you want it for. And it is so much cheaper than roaming. I'm actually going to the UK really soon, and here's how quickly I can All I have to do is click on the country, select a plan, and activate the e-SIM. Then when I land, I'll to a local network with no hidden charges. That's it. There's no need And you don't have to stand in line at the airport to get a physical SIM. With Saily, you set it up once, and you'll always be connected. And if you find out that your phone isn't compatible with e-SIMs, So to check out Saily for free, or click the link in the description. Use the code VERITASIUM to get an exclusive 15% That's Saily.com/veritasium, or you can scan this handy So I wanna thank Saily for sponsoring this part of the video, and now back to building our own QR code. (playful music) QR codes offer four levels low, which can still be read medium, which can handle 14%; quartile, 25%; and high, up to 30%. This means a QR code could even with nearly 1/3 of it missing. Higher levels require more So knowing how much of the code is error correction is vital. This information is protected in two ways. First, the level of error correction is indicated in the format strip, which is present The simplest way to avoid errors is to duplicate the information. Here we'll choose the M and one yellow stone here at the top left. So what if this part gets damaged? We have a copy in the second format strip starting at the bottom left. The format strip contains three more bits of important information So for now, I'm just gonna in both copies. But what about all the Well, this is the second These other 10 bits are all just designed to correct mistakes in So how does this work? Let's say I only wanted of error correction to you, low or high. If one of the bits flips in transmission to 01 or 10, it's easy to know but no way to know which An easy way to fix this So 000 for low, 111 for high. Now, these are at opposite ends of a cube, and hence, they are further apart. If you then receive 011, it's more likely that the so it's easy to correct. In this scheme, the are 000 and 111. The rest act as disallowed buffers to indicate errors in transmission. The allowed code words should Here, they are three vertices apart. This is known as the Hamming distance, after Richard Hamming who pioneered the field For a Hamming distance of N, you can correct up to N - 1 over 2 errors in a binary string, so one bit flip in the previous example. So back to the five bits If I only wanted to communicate I could place them at opposite corners of a five-dimensional hypercube. However, our string includes combinations of ones and So to provide buffers like before, we can extend the 5-bit And now the 32 valid code words are each separated by seven vertices, or a Hamming distance of seven, which means we can correct The easiest way to do this The table takes a slightly misread vertex and finds the closest valid vertex, likely the intended code word. But for our main QR code data, we need a far more efficient scheme, one that doesn't require lookup tables or doubling or tripling our data size. (bright music) Let's say I wanna send you a message that is the four numbers 1, -2, 3 and 5. If I just send these numbers, one of them could get and you wouldn't know or which digit was wrong. So before I send the message, First, instead of sending you The first four are my actual message, and the last two, A and B, will help you check if Now, I want you to treat these six numbers as the coefficients of a and I will pick the values of A and B so that this polynomial in the form of a degree-three times (x - 1)(x - 2). Now, we could set these last two terms to be x minus any number, but for simplicity, let's That way, when you receive my polynomial, you know that if you you should get zero for both because that's how I And if you don't get zero, you know there has been They are called syndromes. Which is an apt term since syndromes are defined as a group of signs that occur together and characterize a particular abnormality. If the message polynomial is not 0 at any of the syndrome values then there is an error in the code. So how do I find the values Well, I take the and divide it by x - 1, x - 2. I get a degree-three polynomial, which is what I want, but of 37x - 30. So I can move this to the left-hand side. For the polynomial 'a' must be negative 37 and 'b' positive 30. So I send the message 1, -2, 3, 5, - 37, and 30. You can plug in x = 1 and x = 2, and if you get zero for both, you know the message was sent correctly. But what if there was an Say at position four, the Well, now if you evaluate at x = 1 and 2, the polynomial is no longer zero. To figure out where the error occurred, one at a time, you set each Then find the value of that variable, setting the polynomial You repeat this for x = 2. And what you find is that This indicates that the second coefficient was not the error. You find the same for all except when you reach the Here, not only are the two values equal, they're also equal to the That is, five. So this method allows us both to check and correct errors with only a (inquisitive music) This is a toy example of a Reed-Solomon error correcting code, developed by mathematicians Irving S. Reed and Gustav Solomon in 1960. (upbeat music) (QR code whooshing) The job of decoding Reed-Solomon as we described, can In fact, as the Voyager spacecraft floated into the outer solar system, NASA engineers knew their would get incredibly small. But the promise of that they put an experimental wagering that that smarter would follow in the next decade. And that's exactly what happened. To this day, we can make out Voyager's thanks to Reed-Solomon codes. These codes also ensure that your old CDs or DVDs can still play your favorite songs and movies despite multiple scratches. And they are the reason why QR codes still work when damaged. In a QR code, the entire data, starting from the data our message bytes, and final padding, are laid out in a line and converted back into ASCII decimals. Fitting a high-degree can easily make the coefficients blow up. Hence, Reed-Solomon encoding Galois fields, to obtain These, converted back into binary, are used to fill out (bright music) And there we have our complete QR code. But why can't we scan it yet? See how these regions here Well, sometimes the encoded and blank spaces just by chance. These can confound the readers which expect to see a noisy checkerboard. They think maybe it's a big damage patch, or maybe it's not a QR code at all. But there is a way to fix this. Remember the three blue stones I put in for masking in the format string? Well, they specify one of eight ways to reshuffle the appearance to make them seem truly jumbled. Now, this particular mask says, flip the pixels so white becomes black and black becomes white for But this does not apply to the functional elements of the code. They remain unchanged. (bars whooshing) (QR code beeping) The QR code standard specifies the use of eight masking patterns. In principle, when combined all eight forms of the code are readable, which is why some QR code generators will return different looking codes for the same input string. But which one works best? Well, every continuous and each mask gets assigned a score. The mask with the lowest It's easiest for any reader to scan. (confetti cannon pops) (audience applauds) For our handmade QR code, I'm going to use the simplest mask. And now we have a working QR code. Try it out. (bright music) And moment of truth. - Ahh, it worked. You know, going through this why I hate QR codes. They're not meant for people. I made all kinds of mistakes while I was trying to put down This was really hard to get this perfect. I guess it didn't have to be perfect, but it had to be close enough, all right. Initially, QR codes had But it wasn't long before the value of their data storage In 2002, mad cow disease 179 people died from and people panicked. They wanted to know exactly and how it was stored before This time, the QR code It was one of the first instances where the curious checkerboards started to appear in common use. But why are QR codes so successful? There are plenty of other Well, one reason is that to exercise patent rights on QR codes. We made the patent open to everyone, which made the QR code so popular. DENSO instead opted to monetize Of course, with the rise of smartphones, most people would soon in their pocket. But initially, QR code reading apps were third-party and rather niche. But then in 2017, Android and Apple built into their camera apps, so the use of these codes took off. The COVID-19 pandemic also gave Suddenly, restaurants and to hand out menus and product information. Contactless payment in India and China. Today, India sees over 12 billion QR code-enabled QR codes also proved handy and personal health But their enormous spread A question about QR code safety: In recent years, some to try to defraud people who read them. Do you have concerns about these uses? So as with anything on the internet, you have to pay extra attention to safety. Check where a scanned before actually clicking on a link. So I wanna know about What is next for QR codes? Now, if the possibility of running out of UPC barcodes is remote, for QR codes, it is impossible. The number of unique version 1 QR codes using the lowest redundancy This is about 10 times the total number of legal chessboard configurations, which is also why a random distribution of pixels filled into a QR code pattern generally cannot be You have scanned countless QR codes, and when you scan your next one, you'll have a better idea of how it works. But have you ever thought about What is your favorite (space tones beeping)