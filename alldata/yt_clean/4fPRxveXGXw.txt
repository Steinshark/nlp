Hey kids, remember SOAP? We've curly braces. It's the OpenAPI programming language-agnostic, APIs. Jeff Hollan is here to Function from an OpenAPI Management to secure it, monitor it. Today on Azure Friday. Hey friends, it's Azure talking about Azure Functions. little bit deeper and we're We're ready, Sir? Let's do it! In with is our old friend or maybe Swagger or the OpenAPI concept to folks watching this, Is sound in something that I'm traction and questions around writing that first line of code, This is going to be some calling this API, whether it's company, inside my team, inside calling. There's a contract API definition. Is this open that as an artifact, so you're contract is. You can publish it, understand without ever calling code. OK, I understand the size wanted to talk some about that definition in that design serverless APIs with Azure I can understand this. I could brand new super company API, I and I could give it to you any teeth, they're just word programmatically do anything You didn't follow the specification. This is one with I have that I can assert it. I generate stuff off of it. I can anything 'cause it ain't a Word document. All of that, that's what this can look like today. tools that you can use to build my favourites is just using they give you this little design said OK, I want an API, it's and it's going to have two put message and tried to find here, you know, get message is And then I even able to come in have like this query parameter. it's going to have, so I can you know, here's an example of like. I'm using this visual generating for me behind the definition. This word doc that doc you could share with anyone the size and shape of the Azure what's growing increasingly Design first APIs. Meaning code. Maybe I'm just going to is the ideal contract. What is the ideal request type so I can ready to go, I could go ahead management. And here's our definition and you can choose with curly braces with Jason or and spaces of Yamil? Both have their own quirks, but the document version, not very but very much machine readable handy in a bit. No, not too bad Endpoint has to get this is what response that it's ending. So and you would do this. You said have an idea and I'm not even just going to talk about like. Will worry about how to organize details of this, but the Yes, yeah, and the idea being plans of the House that this is matter if the thing that message get is an Azure it's a container in Kubernetes out what's the right thing to change is this contract. The API. Let's lock on that first whatever tool makes sense for us. Cool. So if I do choose as I choose. Hey, maybe Azure get message thing or an Azure put, there's a new capability integrates these service APIs So to show you that, I'll go and I'll say I want to create a I could use the CLI if I'm not Visual Studio. But here I'm code Ann. I could choose any sharp for now. 'cause I love C screen at the very bottom. This triggers using an OpenAPI the kind of size and shape of choose that here. It's going to API definition? So go ahead and Ordered from API management and asking my name space. Let's just Short stencil is the name of using this tool. This open generate for us an Azure Azure Function app. If I open up attributes like. Here's the trigger, but the cool thing here API. That matches the spec that API management portal wow, and Is that a good looking bunch of hear bout auto generating where generate a bunch of other stuff, this? We tried to keep it pretty point. What is great C sharp for start for you, so there's a few consider best practices in Azure Functions. By default, if I use these being static methods, going to pop in this constructor going to initialize my own feel is a good, flexible pattern We've generated some of those message in response message that well, but to your point, like we so that if you have your own a universally accepted way much auto generated code, it's When I push at 5 here to run the size and shape of an app compliant? Does it do what it in whatever I need to do at this point? Yeah, and just to show this. Let's initialize this for here that will add the ads now. 'cause VS code is this happy? OK worry about why OK? Size and shape thing yes, yeah, gotten this up and running, code with actual code that I'm publish this into my Function could back this API management. Now there's a number want to continue to use API published the function. It's generating tool. It can actually valuable features, so if I have case this is pointing to an the API. This case I've actually some actual work, and I want to thing that hits, so when someone management API management then why, why would I want that extra just tell people to call my the world would I want to bring So a few things here. The first that maybe today this post Function, maybe a month from now Functions isn't working well for environment we need a bit more GPU's were going to move this have to tell any of your clients nothing changes for them. They API management. Maybe I just that's one reason I might want In this case acting as a reverse proxy? Yes, Yep, which is one of management, is just acting as some added flexibility as you reason that I see a lot of value Azure Functions and I failed to But one thing to know for those management before sometimes are nice, but a pain management. it super expensive? There are definitely some premium. Shoes expensive, but I am here using management, which means I only I get like a million calls a costs are more or less scale that you're running this Yeah, now I notice that there output processing. Could I cash that this was the last thing I policies. You can set 01 here this. I can say you know what? function might be able to scale somebody to get the URL to my times that they're going to some downstream services going things to be secured. I can limit where without touching my thing. In this case every 90 calls per caller. Making all seconds, so I could demo this thing? The six time. It doesn't management is just like no. rate limit here that I've fit that when I want and then processing so I could say like that response or set some it is to short cut some of this logic without having to touch my to this API management layer and of my APIs. Interesting, this beaten path, but could I use API things like Azure search service specific? It would be a little if I wanted that level of power use this to front an existing Azure API? Yes, and it's not a see. There's a few reasons we One of them is if you're doing platform world of Microsoft, Power BI, every single thing consumed by power apps or flow. service that's not even mine, Azure search, maybe it's some Because I have that surface in use it for my power app even if connector. The other one is and consumption consumption skew a higher skew, you also get this be a catalog of all of the APIs use, and so in that world it your search API to show up even though one of them is your search. Because as a developer I have fully managed service in just want that single catalog of there are folks who do exactly This sounds like a very very serverless catalog. Yes, interested in design for stapes, this thing first. Those powerful will help jumpstart that the shape of it and then get the the routes in the query you need. But then even on top with the Azure Functions is value to give you some really APIs in the cloud. Very cool. Functions in API Management Today. On Azure Friday. Hey, episode of Azure Friday. Now I it, tell your friends, retweet