If you have a Synology NAS and want to securely access it from outside your home network, then how would you do that today? Well, one option is to put your NAS, and by extension your data, onto the public internet, poking holes in your firewall or port forwarding perhaps. This is a big no-no from a security perspective though, not to mention totally unnecessary with Tailscale, which creates a private and secure network of devices that we call a tailnet. Tailscale creates a private mesh network between all of your devices, even ones behind firewalls using our NAT traversal technology and encrypted wireguard tunnels behind the scenes. This means that you, and only you, can connect to your Synology whether you're at home, at the office, on the train, or even on vacation and want to back up your holiday photos. Pretty much anywhere you have an internet connection, Tailscale can establish a direct, secure connection back to your Synology at home, or wherever it happens to be, without exposing anything to the wilds of the public internet. So in today's video, I'll show you how to get started with Tailscale for free and configure it on your Synology. We'll also configure auto-updates and how to create an HTTPS certificate with the ts.net domain name that every tailnet gets for free. If you're brand new to Tailscale, I'm just going to take a second to tell you that you can create clients not only for Synology, but also for Mac, Windows, Linux, iOS, Android, Fire TVs, Apple TVs, it can even run on a robot vacuum. Pretty much anywhere you can think of, there is a Tailscale client available. The advantage of installing Tailscale directly on each client is that you can establish direct device-to-device connections without any complicated networking rules. You can also then pick that device up and take it to a different physical network, from this house to a parent's house or something, and the two will just find each other and connect over the tailnet. But today's video is all about Synology. So I'm going to be using DSM 7, and I think this is the latest update at the time of recording for my particular Synology box, the DS1621+. I'm running DSM 7.2.1 69057 Update 5. No idea if that's important. I'm not exactly a Synology power user, but I do know that this is up to date, and when I checked for updates, there were no more available. So first thing we want to do is jump into the Synology Package Center. I have mine on the desktop, but you can just as easily open up your package search thing that Synology has in the browser and look under the Package Center for Tailscale. Funny story, this is actually how I first interacted with Tailscale as a user before I worked here many years ago now. Installing is really easy. You just search for it and click on the Install button, wait for it to download and install, which only takes a moment. Then we're going to need to authenticate this node to your tailnet. So you're going to need a tailnet in order for this to work. So whilst that's installing in the background, let's jump over to tailscale.com and just see what's required. Up here in the top right-hand corner, you can see there's a button here that says Admin Console. That only shows up because I've already got a tailnet created and logged in. If I log out and go to tailscale.com--this might be you if you're completely brand new-- you'll see a Log In button. That's fine. You can go ahead and sign up here with your Google account, Microsoft, GitHub, whatever you want to use as your authentication provider. Tailscale deliberately doesn't want your password. So we hand off that authentication piece to what are called OIDC providers. Again, that's an implementation detail. It's not terribly important. But just know that your credentials live with these providers and not Tailscale directly. The private keys on Tailscale devices also never leave the device themselves. So everything is completely secure from that perspective too. The sign-in process is quite straightforward. So I'm going to click Sign In with Google. I'm already logged in in this Chrome session with my Google account, as I imagine most people are. You'll see this Choose an Account option, and then you can see I've got five devices currently in my tailnet. What we're going to do is add this Synology NAS into my existing tailnet where I've already got the handful of other devices. So I go back to this other tab and click on the Open button. This is going to open another tab where it's going to ask us to re-authenticate this node. In actual fact, we're not re-authenticating, we're just authenticating. It's just a terminology weirdness there. Click on the Re-authenticate button, and this is going to take you into your Tailscale console Connect device page. If you're happy with everything, you can just check any of the node keys, the host names, the operating system, etc. Just click on the big blue Connect button. What you'll notice is that your Synology node, in my case OctoNAS, now shows up as a node in your tailnet, connected, running the client version 1.58.2 on the Linux kernel 4.4. Each node gets a dedicated IP address in the 100.ip namespace. It also gets an IPv6 address, if you care about that kind of thing. We also give you a fully qualified domain name, which we'll come on to a little bit later, as well as a short DNS name. I can now access my Synology over Tailscale without doing anything further because I am logged in as a client device on this laptop in this tailnet. So at tailinscales@gmail.com, I already authenticated my Mac by installing Tailscale on my Mac, doing the same login dance that we just did on the Synology. Now I can connect these two devices together. Wherever my laptop is, I can now connect to that Synology, regardless of what firewalls are in the way, what Wi-Fi I'm connected to, etc. etc. I just need to make sure I'm connected to this tailnet. You can see that this device, Baldrick, is in this tailnet here. MBP Baldrick is connected, as is Octonaz. And that's how the two talk together. Okay, so that's the basics of installing the Tailscale client on your Synology box taken care of. What we want to do now is set up an auto-updating task so that you always have the most up-to-date version of the Tailscale client on your Synology box. Sometimes the updates on the Synology App Store can take a few days or weeks behind what we've made available upstream. Now in order to work around that, what we can do is create a user-defined script to automatically update the Tailscale client in the background for us. This will keep it in sync with what we've released upstream and not be beholden to the version that's currently in the Synology App Store. So jump into your control panel and then look for Task Scheduler down here. We want to create a brand new scheduled task. Click up here in the top left, Create Scheduled Task, and then a User-Defined Script. In here, I'm going to call this Tailscale Update. The user needs to be root because Tailscale is running as root. Next, click on Schedule, and we want to set this to just something regular, so weekly should be absolutely fine. I'm going to have this just run on the weekend of Sunday. Why not? It doesn't really matter what day you pick. Just pick one day a week and just have this task run once a week. Next, we want to run under the Task Settings. We want to put the command in of Tailscale Update --yes. What this will do is it will go out to the Tailscale service, check for an update, and install it if one is available. The --yes allows for unattended updates if you're not physically present, which you won't be when the script is running behind the scenes. And that's it. We just need to click OK, and it's going to give us a big warning saying, &quot;Modifying system configurations blah, blah, blah. Please make sure you are aware of the consequences before execution.&quot; I've just explained those for you. So I'm just going to put in my root password or my username for my DSM account and click on the Submit button. Next, I actually want to just run this action right now just to show you what happens. If I click on Run and then OK, behind the scenes, this is going to be running that Tailscale Update command for us. And right away, the Tailscale client jumped from version 1.58 to 1.76. So in this section, we're going to cover creating a certificate backed by Tailscale and Let's Encrypt to access your Synology NAS securely from anywhere with a trusted TLS HTTPS certificate. Now, we created in the last chapter, we created the Tailscale Update command. This is important. You have to make sure that you're on at least client version 1.60-- I'm sorry, I have to check my notes-- 1.64 or newer. We're on 1.76, so we're all good to go there. But you do need to make sure you've got these regular updates taken care of before we proceed. Now, the next thing we want to do is on our tail there, we want to make sure we've got a couple of things set up first of all. So jump over to your Tailscale Admin Console, get logged in at tailscale.com. Up here along the top, there is a DNS option. We need to jump all the way down to the bottom of this page and make sure that Magic DNS is enabled and also make sure that HTTPS certificates are enabled as well. Then at the top of the page, I've already done this, but your name, if it's a brand new tail net, will be like tail-fac123 or something .ts.net. Click on the Rename Tail Net button, and then you can see-- actually, this is what my original name was, tails-6e-5bf.ts.net. I much prefer velociraptor-noodlefish. So you can go ahead and re-roll your DNS names as many times as you would like, in the initial phase at least, to find a name that better suits what you want it to be. Remember, this is a free service that Tailscale provides. It doesn't cost you anything, but it means that you can actually access your Synology with a fully qualified domain name, which is a necessity if you want to have a TLS certificate. The entire purpose of a TLS certificate is to verify identity, to make sure that I'm talking to who I think I'm talking to on the other end, and that that certificate gets signed by a certificate issuer. In this case, let's encrypt. Say, yes, Alex definitely owns that velociraptor-noodlefish.ts.net. So we've gone ahead and done that. We can now either connect via SSH, but I'm not going to do that here, because I want to do everything automatically for you moving forward. We're going to create another user-defined script. So jump back to your control panel, and then look for the-- what was it called?--Task Scheduler. Then under Create Scheduled Task, we're just going to create another user-defined script. I'm just going to call this one Tailscale Cert, and set the execution user to be root again. Now, scheduling-wise, let's encrypt certificates only last 90 days. So I'm going to run this task every month, which should be more than sufficient for what we need to do here. So I'm going to do Run on the following days, Monthly, and then I'm just going to set--again, I'm just going to set the first Monday of the month here. So once your scheduling page looks like this, this is going to run obviously now on the first Monday of every month. Under Task Settings, we need to put in the required field of what the command is we want to actually execute. So in our case, we're going to do Tailscale configure Synology-cert. This is a special command that Tailscale created just for this purpose to run on the Synologies. I'm going to click OK, and again, it's going to give me that warning about making sure that I'm not going to explode some kittens or something. I'm going to click on Submit. When that's done, I'm just going to run this action. Now, this might take a couple of minutes to come back to the Let's Encrypt API to generate the certificate that's required. Now we need to jump over to a different area of the control panel under Security. We want to go and find that certificate that was just generated and install it into our Synology DSM software. As you can see, the certificate has been issued successfully and is valid until the 13th of January 2025. Oh, we're almost at 25. Oh, well. Now we've generated the certificate. We can tell Synology to use it. Click on Action and then Edit and then Set as Default Certificate. If you want to, you can set this on a per-service basis, but for my purposes, I want to create a nice simple tutorial, so I think just setting it as the default certificate is probably going to be the most sane thing for most people watching this video. Now, in order to get this new certificate actually working, I ended up having to delete the default certificate under this page here. So even though I'd set the velociraptor.ts.net certificate as the default, for some reason it was still going back to my self-signed Synology certificate. I actually don't know why. But if you run into that issue, just try deleting the default certificate and hopefully everything will just work like it has for me. So in this other tab over here, look, we can see that I've now got a secure connection to OctoNAS Velociraptor Noodlefish with a secure connection and a valid certificate. You can see it's issued by ElectEncrypt until Monday, January 13, 2025. And of course, the automation we set up to renew that certificate every month on the first Monday of every month should take care of that renewing before January 13. Now, those of you that have noticed there's a port number still on the end of this thing here will know that I don't really like that. And typically, I would recommend at this point that you use something like Tailscale Serve to expose this with essentially what's a built-in reverse proxy into Tailscale to the rest of your tail net without worrying about port numbers. But with Asynology, it redirects anyway. So I don't actually know how much value you gain from doing Tailscale Serve on Asynology. I'll put a link to a card. I always get the wrong slide. It's up here. It's definitely up here. I have a video about Tailscale Serve and Funnel if you're curious about that kind of thing. And there's a whole bunch more stuff you can do with Tailscale which we don't have time to get into in today's video. Check out all of the other videos and playlists and things we have here. I have a bunch of live streams as well. So if you want to come and join me on a live stream every couple of weeks and ask your questions, it can be about Asynology, it can be about anything to do with Tailscale and networking, I'll do my best to answer those for you in the live stream as well. So I hope today's video was useful. If you're a Asynology user, let us know down in the comments what you want to see from Tailscale on Asynology and we'll do our best to make that happen for you. And until next time, thank you so much for watching. I've been Alex from Tailscale.