Today we will build a true Wi-fi mesh with One is the TP-Link Archer C7 and the other one is get both in the 20 to 50 Dollars range each and far below 100 Dollars. You may of course use my affiliate links in the description The mesh configuration on OpenWrt is done in two or three clicks really. But we First off, you should make sure that your In order to do this, you would need to ssh into If you are however using one of those devices Let's go and configure the first router. This will The gateway of our mesh. I use the Archer C7 for port and we plug in our PC on the LAN port. By over DHCP in the 192.168.1.x range and the router are using DHCP on your PC so you should get Next we need to check on the software is called luci, this is done under System and router does not have a lot of memory. Therefore, are installed on it strive to be rather small The software packages that provide Wi-fi on there is one that is already installed and also features such as - you may have guessed - mesh. on "Update lists". The ones that provide mesh here wpad-mesh packages here. So we need to chose one Now, when you try to install this and you did not then you might get an error message saying installed package. So we need to on the "installed" tab here. Please - when you device with a wire as this will kill the Wi-fi. Then go back to the "Available" tab Perfect. All done. At this point the safest bet then reboot. The reason is that the old On the command line you could do a combination opkg remove on the obsolete packages and an opgk and wifi up. You may do that if you can't reboot (logo) Cool, my first Wi-fi router has rebooted and it in the Software section again then we can see the the amount of free space that you have available package. OpenWrt has not freed up the memory for normal and related to the fact that the firmware package is just put into a read-write partition that in mind when you install software on a Awesome, now let's configure the mesh. We want to use and click on add here. I will use course also use the 5 GHz radio or we can later I'll talk about the pros and cons of the two bands select 802.11s in the mode field. IEEE 802.11s Next we give it a name or ID - that will be and we have to select a network. Now - the to the names of interfaces that you can see on the on my main router - so the mesh will be bridged to like I showed in my previous videos then you would here - do NOT select multiple networks here. the second and third episode. For the time Last but not least I will have to and chose the encryption. For the mesh we have SAE is short for Simultaneous Authentication of If we chose none then the If we want to have encryption then the only choice could also use WPA2 and add the SAE encryption That's it - save and apply. Now let's go to the Xiaomi mi router which I have bought for one of as a so called dumb access point, so it should not functionality. Therefore we will need which in fact have nothing to do with Wi-fi mesh The reason I will do this is so that I can you have followed my previous videos then I wanted to provide the newcomers with a working For your convenience I am providing a script that So you could as well just ssh into the router That will come in handy if you want to configure Both routers by default have the 192.168.1.1 the configuration, please do now disconnect your PC to a LAN port of the second router. Now we log into luci and go to network-interfaces. to give the LAN interface a different IP address to do this we have two possibilities. We could for example 192.168.1.2. In this case we would in the IPv4 gateway field and we would and tick the box "Ignore Interface". Or - we The advantage of this is that we get all the etc. from the main router. The disadvantage IP address which it gets from the main Let's do that. Change the protocol to DHCP "Save" and then "Save and apply" the router will now lose connectivity. If we did nothing, then the Now we have 90 seconds to reconnect before luci cable going to the LAN port of your main router so in other words please connect the LAN ports of If you now browse to the 192.168.1.1 the first router. And down here somewhere Browse to the IP address that is shown there. You should now get a message saying Cool. We're nearly done with preparations. stuff from the second Access point such as the WAN Under network-Interfaces I can now delete all and WAN6 interface. So now we only have the later be connected to the mesh directly. The WAN connected to the Internet. Actually we can now to the lan interface. In order to do this we go next to the br-lan bridge. Add the wan port things and we are done with housekeeping on the all zones. Then go to System-Startup and click and firewall. These operations disable Save and apply. To make sure that they are really Awesome. This part was really just related to point. We don't want it to act as a router but and ultimately in our Wi-Fi mesh network. Now let's follow exactly the same procedure install the new one, go to wireless, add Again - make sure that you are on the same band click on "Save and Apply" then we should see the list. If you don't see the other mesh point quickly reboot both routers in order to make sure In addition to that, you could ssh while you restart the interfaces in order Awesome. Now we have the two routers Let's remove the wire between the two routers Go to Network - then Diagnostics - and ping the If that goes OK then try to ping OpenWrt.org. If Just one more thing here. When you reboot the assigned a new IP address because the MAC address of the Ethernet interface. Please do double Mine got the dot 132 address over the Ethernet and Just another remark here - the meshes show Xiaomi but they should be encrypted. On my Archer a bug in luci. Actually that leads me to a CALL am not using Mesh here at home a lot - so I can't performant etc. So I would be curious to learn and if you can say anything about long term a comment and also tell me which hardware you Perfect! Now we have the main router side and to the mesh on the LAN side. The which is bridged to all ports The last thing that we need to do is to actually Let's go to Network - then Wireless and add a add it to the lan network, select wpa2-psk as You may actually add that Wi-fi to all adapters well then just tick the box next to 802.11r fast all devices and change the FT protocol to FT over config on both devices and all additional devices channels on the radio band that is NOT connected 2.4 GHz band, I could therefore serve Wi-fi to my If everything went well then you can now actually you may remove the from the second access point - it can now run with fast roaming capabilities. In a nutshell, my fast roaming video - just now the access points Awesome. If you want to add a third, fourth or fifth access point then Alternatively use the script from my github Why have I chosen the 2.4 GHz band as a back band ? Well, the 2.4 GHz band might be crowded situations it does have a number of advantages. other obstacles. So if there is a concrete wall better connectivity on the lower frequencies of might even use a directional antenna to improve 99 cents Yagi Uda antenna made of paperclips and up here. To me it doesn't matter because as I am and 11 on the other side for many many years all have moved to other channels over the years. As makes that channels look crowded to others. Also so the 2.4 GHz is totally OK as a backbone for me. is not very high where I live - if you live in totally different situation and It might be better Last but not least let's talk about some basic can't associate then the best thing to do is password and the like plus in order to get more logread -f command to see log messages. They will router might help as well just to make sure that That's it for today. In the next episodes we will concept of this episode. In fact we can not use if we want to build a guest Wi-Fi over the mesh to the second access point. We will do this in the into more advanced options using the batman-adv with some additional use cases such as a make sure that you bookmark my channel page so you will be notified if a new episode comes watching. Likes and comments are appreciated