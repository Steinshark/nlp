All right packet heads, welcome back to the do is take a closer look at retransmissions. one. But how can we understand it and All right so in this video we're going to No lie, as a packet analyst, I spend a lot and no doubt you as you've looked through running into different flavors of retransmissions, So I thought we could start with a basic tcp look at also what to do about it. What does that the network that's carrying that flow? So go ahead download the pcap and you can follow right along. see we have a simple tcp thread - SYN, SYN/ACK, We can see that the client is sending out our server. Let me just adjust this a little just a little bit, and i'm going to readjust set to - if we come to view time display So this is basically my running total of time. not sure how to set up that delta time you can basic setup of what you see here on my wireshark into problems, right. We see a lot of black lines What can we learn?? Why do we see all these tcp can see in packet four that the client's trying And this is where for me in this profile, length. You see I have 214 there. So instead ethernet frame, like seeing that full length up I like actually to see how much payload is there. just empty acknowledgments and which ones are just come down to tcp - pick any packet - and you you can apply as column to add that as a column. easier to spot which packets are carrying data and can tell we're capturing client-side because of back and we're capturing on 101. That's where our 214 bytes, and here's the deal, we never get We don't hear anything from the other side. So these bytes out - the tcp sender - what it does is It goes &quot;You know what? I sent out those and when that retransmission timer expires, I'm how long is that retransmission timer? Well that What some of its default settings are. But as a retransmission timer, it's typical to see it initial round trip time in the handshake. it's not uncommon to see the amount of a multiple of that, at least three or four What that does is it gives the data opportunity to back. Uh what if we took a different path? What if other data, or some on some other connection does give some leeway time there before we just here our RTO or retransmission timeout right So there's our first retransmission. Well what we see is that the other side goes Now that number is around the network round milliseconds up here. So that was about the time this does is it tells us that our data got there, notice tcp previous segment not captured. This is the other side sending back to me, if I come down So i'm going to come down to sequence number. jumped. The last time that I heard data coming if I go back to packet 2, it's the last time I saw advanced from 0 to 1 in the handshake, so the very that other side should have started at one, but and that's why wireshark is flagging - whoa whoa on the other side thinks that it was able He's like hey, I sent you 4067 bytes I've moved forward in my sequence numbers. This Wireshark's going whoa wait a second, we saw a advertised that it was at 4067, but it backs up goes - oh this is a retransmitted segment. are going on here. First of all this is segment size 536. In fact we can look into the but basically this is basically the tcp minimum lower than 536. This is basically the min. stack that's saying you know what let me And sure enough it does. This packet makes it it. So what happened here? Well likely what we see is that the other side tried to Likely see it was thinking okay, I got a larger don't i go ahead and send segments of 1460 across Those probably got dropped on the other side. Retransmit. And some mtu problem happened in the what before i give up on this and just reset this i'm allowed to. Let's just try 536 before we give so then we acknowledge and then the other side great! Okay here's another packet that was client says sweet we're good we're talking. Here's tell us? Well first of all, our client hello first one but the problem is is that the sender on than the network can handle. There was probably interesting trace to take from the opposite side. captures, one in the client, one on the server, maybe even 1440s and then we get that feedback send this on but the do not fragment bit was set, router and that would tell me what link is having this is just one form of retransmission we hear. and we also saw retransmissions coming from data that likely was due to an mtu problem. A lot to make sure to cover those topics in other videos and even more. So thanks for stopping by forward, share, all the things to your friends