Welcome to Jeremy's IT Lab. This is a free, complete course for the CCNA. If you like these videos, please subscribe Also, please like and leave a comment, and of videos. Thanks for your help. In this video we will continue our study of version called rapid spanning tree. More specifically, we'll be looking at Cisco's You saw in the previous lecture that classic to 50 seconds for the network to converge As the name implies, rapid spanning tree improves to changes in the network. Because rapid spanning tree is superior to most devices now, and the CCNA exam topics However I think it is important to understand about classic spanning tree, rapid spanning Let's take a look at what we'll cover First up, let's take a few minutes to compare In the past few videos I've mentioned multiple multiple spanning tree. Just so there is no confusion, I will summarize standards and the Cisco proprietary versions. Then the rest of the video will be all about which operates on Cisco switches, rapid per-VLAN Also, make sure to watch until the end of a bonus question from Boson Software's ExSim the CCNA which I highly recommend. Ask anywhere on the Internet for CCNA practice to recommend Boson. If you want to get a copy of ExSim to prepare description. Let's start by summarizing the different On the left I will list the industry standard On the right I will list the Cisco proprietary standard versions. First up, the classic spanning tree protocol, This is the original spanning tree protocol, in 1990, although the original spanning tree standardized. In classic STP, all VLANs share one STP instance. Therefore, we cannot load balance using classic cannot block different ports in each VLAN So, Cisco decided to improve upon this. They developed Per-VLAN Spanning Tree Plus. Actually, before that they developed regular before only supported ISL trunk encapsulation, since everyone uses dot1q for their trunk It's Cisco's upgrade to 802.1D. Each VLAN In the previous lab video when we configured command, for example spanning-tree vlan 1 That's because a separate STP instance is Why is this good? Well, as you know already, we can load balance in each STP instance. We can use our network bandwidth more effectively, totally unused, just waiting for another connection Now, as you also know, classic spanning tree The max age timer is 20 seconds, and the listening it can take up to 50 seconds to respond to That's simply not fast enough for modern This was solved in rapid spanning tree protocol, It is much faster at converging and adapting like 802.1D, the industry standard rapid spanning shared by all VLANs. Therefore, it also cannot load balance. Cisco once again developed an improved version Tree Plus, or Rapid PVST+. It is Cisco's upgrade to 802.1w, featuring a separate STP instance for each VLAN. Therefore, it can load balance by blocking previous PVST+. The final version is Multiple Spanning Tree It uses modified RSTP mechanics. But the main improvement is that it can group example if there are 10 VLANs, VLANs 1 to 2, to perform load balancing. Finally an industry standard version of STP superior to Cisco's rapid-PVST. If you have many VLANs, let's say 200, in root bridges in each VLAN is a lot of work. However, with MSTP, all you have to do is 101 to 200 to instance 2, and then configure instance 1 and instance 2, so its much easier Actually, Cisco hasn't developed their own the industry standard 802.1s. For large networks, it's best to use MSTP, a huge number of VLANs, Cisco's Rapid PVST+ and that's the version we'll be focusing It's also the version that is mentioned Also, all of this information here applies version that runs on Cisco switches. The good news is, since you already understand to learn rapid STP and rapid PVST+ by comparing Let's get started. Before getting in to the details, here is RSTP is not a timer-based spanning tree algorithm over the 30 seconds or more that 802.1D takes The heart of the protocol is a new bridge-bridge move directly to forwarding. So, that's the big difference between RSTP determine when it's safe to move to the to ensure that no loops are accidentally created Back when the original STP was created, it 50 seconds to react to a change and start However that's no longer the case. So, RSTP uses a 'handshake' mechanism, with other switches and move ports immediately Okay, now I will introduce some of the specifics By the way, I will probably say RSTP sometimes, Really, I'm talking about the same thing. Cisco's Rapid PVST+ operates the same as instance for each VLAN, so I will use the Let's summarize some similarities between First of all, RSTP serves the same purpose Layer 2 loops. RSTP elects a root bridge with the same rules I'm sure you know it by now, the switch bridge. RSTP also elects root ports with the same So, the interface with the lowest root cost neighbor bridge ID and then neighbor port You studied this in day 20's video, our Finally, RSTP elects designated ports with So, the interface on the switch with the lowest on the other switch will be non-designated. If there is a tie, the switch with the lowest Cisco has said that RSTP isn't a 'revolution' It made some major improvements to speed up as you can see here. Now let's look at some of the differences First up, port costs were updated for rapid Classic spanning tree defines port speeds than this are all given a cost of 1. To accommodate for faster speeds, RSTP's 2 million for 10 mbps, 2 hundred thousand for 10 gbps, 200 for 100 gbps, and 20 for Beyond this, a 10 terabit-per-second interface Use the flashcards to remember the port costs Here's a slide from day 21, the different Hopefully you remember these states, which traffic, which ones learn MAC addresses, etc. However, rapid spanning tree simplifies the three of these states into one. The three states that are combined into one Actually, a more accurate way is to say the into one, and the listening state is simply So, the listening state is gone, and the blocking state. If a port is administratively disabled, meaning it will be in a discarding state in RSTP. This was previously the disabled state. If a port is enabled but blocking traffic discarding state. This was previously the blocking state. Next, how about port roles? Remember, the three original port roles are The root port role remains unchanged in RSTP. The port that is closest to the root bridge Of course, 'closest' means the port with Also, the root bridge is the only switch that So, these points are the same as what you The designated port role also remains unchanged The port on a segment (which is another name BPDU is that segment's designated port, per segment. The other port on the segment is either a spanning tree. However, the non-designated port role was Those are the alternate port role and the Let's break down those two roles. First up, the alternate port role. The RSTP alternate port role is a discarding switch. This is the same as what you've already learned In our little topology down here, SW1 is the When BPDUs are sent in this topology, SW3 It's superior because the bridge ID of SW2 So, SW2's interface is designated, and SW3's An alternate port basically functions as a If the root port fails, the switch can immediately as the new root port. If SW3's root port fails, its alternate port, with no transitional states. This immediate move to forwarding state functions UplinkFast. Because it is built into RSTP, you do not PVST+. We didn't look at UplinkFast in the previous list, but try to remember that its functions get asked about that on the exam. So, UplinkFast is one STP optional feature Since I just mentioned one, I'd like to into RSTP. Neither of these are on the exam topics list but just be aware of their general functionality, One more STP optional feature that was built Let's say SW2's root port is cut off, bridge. It will then assume it is the root bridge, However, SW3 is now receiving BPDUs from both they have a higher bridge ID. Without this backbonefast functionality, SW3 it's non-designated port, in classic STP, forwards the superior BPDUs to SW2, which However, BackboneFast allows SW3 to expire forward the superior BPDUs to SW2. This functionality is built into RSTP, so So, that's a very basic explanation of BackboneFast. Let's look at a quick summary on the next UplinkFast and BackboneFast are two optional They must be configured to operate on the to do so for the CCNA. Both features are built into RSTP, so if the configure them. They operate by default on all switches running Finally, You do not need to have a detailed I recommend that you know their names and ports move to forwarding without delay. If you want to learn more, do a Google search tree backbonefast'. Learning how to effectively search on Google a good network engineer, to be honest. We Google things all the time in our daily when preparing these videos. So, if you ever want to learn more about a to improve your Google skills and try to search Okay, after that little detour, let's look We just saw the alternate port role, which we saw in the previous lectures. Next up lets look at the backup port role. The RSTP backup port role is a discarding interface on the same switch. This only happens when two interfaces are a hub. Notice that there is now an ethernet hub connected When BPDUs are sent in this nework, the BPDU by the hub, and as you can see here it receives That's why this interface is a backup port, However, I've already told you that hubs probably not encounter an RSTP backup port. It's still something you should know. RSTP backup ports function as a backup for If SW2's designated port fails, its backup as a designated port. Now, as for how the switch chooses which port be the backup port, the interface with the port, and the other will be the backup port. Before moving on let's try out a quiz question. Identify the root bridge, and the RSTP port By the way, the hub doesn't participate Hubs aren't sophisticated enough to use it receives. Okay, pause the video here to find the answer. Okay, let's check the answer. The root bridge is SW1, because all switches MAC address, it is elected as the root. Its interfaces are designated ports. These are the root ports for each switch. SW2 and SW3's root ports are obvious, they How about SW4's root port? The hub doesn't participate in STP so it did SW4 choose G0/1 over G0/0? It's because the neighbor bridge ID is lower than SW3. SW2's G0/1 connected to SW4's G0/1 becomes Now, how about the connection between SW3 First of all, which switch sets its interface Well, SW3 has a lower root cost, so one of Which one? G0/0 has the lower port ID, so it will be How about SW3's G0/1 and SW4's G0/0? SW3's G0/1 receives the superior BPDU, with it's a backup port. SW4's G0/0 receives the superior BPDU from port. Okay, those are the answers. Hopefully you answered correctly. If not, don't worry, there will be more Now let's take a quick look at the CLI, As I showed you in the last video, there are MST, PVST, and rapid-PVST. Rapid-PVST is the default on modern Cisco use this command, but I entered SPANNING-TREE pvst mode. Then I used SHOW SPANNING-TREE to confirm. Notice that it says 'Spanning tree enabled Previously when we were using classic STP, Although it says 'rstp', this is in fact Now, the only other difference I want to point As shown in the network diagram, SW3's G0/1 The status is still listed as BLK for 'blocking', in rapid STP. I used the SHOW SPANNING-TREE command on SW4 As in the network diagram, SW4's G0/0 interface Once again, this command lists the status STP name for this state is actually 'discarding'. Just one note about running different STP STP. The interface, or interfaces, on the rapid STP-enabled switch will operate in classic to listening to learning to forwarding state So, if you have a really old switch that doesn't of rapid STP-enabled switches, they will adjust to match the slower switch. So, in our network diagram, if SW4 was running interfaces run in classic STP mode, but their rapid STP mode. Next let's look at the updated BPDU for Here on the left is the classic STP BPDU for the rapid STP BPDU better. Most of the BPDU remains unchanged, but there As I mentioned last time, you don't need than is required for the CCNA. You just need to know a few aspects of it The first difference to know between these has a protocol version of 2, whereas classic Remember these version numbers for the exam, The rapid STP BPDU also has a BPDU type of Now, the next difference is here. The classic STP BPDU uses only two bits of However, the rapid STP BPDU uses all 8 bits. These flags are used in the negotiation process than classic STP. That's all you really need to know about previous version. But there is one more major difference. In classic STP, only the root bridge originated BPDUs they received. In rapid STP, ALL switches originate and send Let's go through a few other differences. First, as I just said, all switches running Switches also 'age' the BPDU information In classic STP, a switch waits 10 hello intervals, In rapid STP, a switch considers a neighbor It will then 'flush', meaning delete, Why does it do this? Because the neighbor is down, it knows it any more. For example, in this network traffic from But what if this connection is cut off? This switch will think: I can't reach this I'll clear all entries for this interface from become the root port. Then, if PC1 wants to send traffic to PC2 of flooding until it learns the MAC address follow this path. That's just a quick look at how topology There is a lot of depth that we could go into CCNA. If you want to go on to get your CCNP and processes more in depth. Before I summarize everything and move on RSTP you should know, the RSTP link types. RSTP distinguishes between three different The first type is edge. An edge port is a port that is connected to It moves directly to forwarding without negotiation. Does this sound similar? It sounds like portfast. Well, the portfast functionality was built So, there's another STP optional feature and now PortFast. The next link type is point-to-point. This is used for direct connections between However, there is one more type, although That type is shared. This is a connection to a hub, like we saw These connections must operate in half-duplex Don't confuse these link types with the Basically, the point-to-point and shared link connections, and the edge type is a port that Okay, let's take a quick look at each type. As I said, edge ports are connected to end Because there is no risk of creating a loop, without the negotiation process. They function like a classic STP port with In fact, you configure an edge port simply Here is the command, just like in classic So really, portfast and an RSTP edge port In this network down here, which ports should Pause the video if you want to think about Got the answer? All of these ports, the ones connected to Next up, point-to-point. These ports connect directly to another switch. Because they connect to a switch, not a hub, You don't need to configure the interface to detect that it is connected directly to as a point-to-point port. However, if you want to explicitly configure SPANNING-TREE LINK-TYPE POINT-TO-POINT. So, which connections in the diagram are point-to-point? Pause the video to think about it. Did you find the answer? It's these three, the direct connections Finally, shared ports connect to a hub. Due to the nature of hubs and the likelihood half duplex. Once again, you don't need to configure detect it. However, to manually configure it, use this Although you should be aware of this type probably never actually see this link type that have been fully replaced by switches. So, which connections in the diagram are shared I think the answer is fairly obvious now, to the hub. So, these connections here are shared links. Before moving on to the quiz, let's summarize First up, we compared the different versions The classic STP is 802.1D, and Cisco's upgrade instance for each VLAN. Then the next standard version is 802.1w, Cisco's version of this is Rapid PVST+, VLAN. Then there is one more industry standard, create multiple spanning tree instances, and There is no Cisco version of MSTP, Cisco switches Then we looked at Rapid PVST+, but actually to the industry standard RSTP as well. RSTP is an evolution of classic STP. Instead of using timers, it uses a negotiation ports to a forwarding state, and rapidly adjust I didn't mention any specifics of the negotiation for the CCNA. I told you about the port states in RSTP, Discarding, Learning, and Forwarding. The listening state was deemed unnecessary, due to the built-in features of rapid STP, We talked about RSTP port roles, there are Root and designated ports are the same, but in the discarding state. Alternate ports are discarding ports which this is the usual case. Backup ports, on the other hand, receive a switch. This only occurs if connected to a hub, which hubs are no longer used. I also mentioned some optional features of First I showed you UplinkFast and BackboneFast, edge port function. Although you have to know PortFast for the of UplinkFast and BackboneFast. I briefly showed you the RSTP BPDU, just remember is 2, whereas in classic STP it's 0. Also remember the important point that in root bridge. Finally, I showed you the RSTP link types. Edge ports are connected to end hosts, and on the interface. Point-to-point means it is connected directly connected to a hub, and must use half-duplex. As I said before, hubs aren't really used link type in any real networks. Okay let's move on to the quiz. After a few quiz questions, let's take a for the CCNA, Boson Software's ExSim. Back before I started this YouTube channel, and CCNP exams, and I really think ExSim played the first try. The questions are very similar to the questions depth explanations which really help deepen Okay, now continuing on from quiz question go to quiz question 2. Which IEEE 802.1D optional features were built ports to move rapidly to the forwarding state? Select three. A, root guard, B, portfast. C, BPDU guard. D, uplinkfast. E, backbonefast. F, loop guard. Or G, rootfast. Pause the video to think about your answers. The answers are B, portfast. D, uplinkfast, and e, backbonefast. A, root guard, C BPDU guard, and F, loop guard, are not features built in to RSTP that allow G, rootfast, is not a real STP optional feature. B, portfast, allows edge ports, connected state. D, uplinkfast, and E, backbonefast, allow cases of interface failure. Let's go to question 3. You want to configure an 802.1w edge port, begin sending traffic over the network immediately. Which command should you use? A, spanning-tree link-type edge. B, spanning-tree mode edge. C, spanning-tree link-type portfast. Or D, spanning-tree portfast. Pause the video to think about your answer. The answer is D, spanning-tree portfast. Although 'edge' is a link type in RSTP, command to configure it, and the command doesn't To configure an RSTP edge port, simply configure SPANNING-TREE PORTFAST. Okay, let's do one more quiz question. Identify the root bridge in this network. What is the RSTP port role of each switch What is the appropriate RSTP link type of This is a pretty long question, I recommend and link types on the screenshot so you can Pause the video now to find the answers. Okay, hopefully you solved it. The root bridge is SW1, it has the lowest How about all of the root ports in the network? Here they are. SW4 picked it's G0/0 interface because SW3 they have the same root cost because the hub So, these are the designated ports. Why was an interface on SW2 and not SW4 Because SW2 has the lower root cost. Finally, the discarding interfaces. Notice that there is one backup interface, This is because it receives a superior BPDU G0/1 interface. Now, how about the link types? All of these ports connected to end hosts All of these full-duplex connections between half-duplex connections with the hub are shared If you had trouble with this, you should review and if you still don't understand feel free Okay, now let's check out a question from Okay, for today's Boson ExSim practice question, something you just learned about. So here's the question. Which of the following optional STP features edge ports into a forwarding state? Select the best answer. So there are five options. A, root guard. B, BPDU guard. C, PortFast. D, BPDU filter. And E, loop guard. Pause the video to think about your answer. Okay, did you find your answer? So, first of all what is an edge port? Well it's a port at the edge of the network, not the internal network between the switches. So, which optional feature places ports connected state? You should know the answer by now, it is C, If you're actually doing a practice exam you but let's check the answer, show answer. Okay, and we are correct. So you can see it gives quite a detailed explanation, ExSim, about their practice exams. Not only does it tell you why PortFast is a brief summary of each of these other optional Loop guard, root guard, BPDU guard and BPDU So you can know why they are not the correct After all that it gives some references to chapter 9, optional STP features. And then also some Cisco documentation that another great study resource by the way, Cisco's Okay, if you want to get a copy of Boson ExSim video description. I used Boson ExSim myself for my CCNA and in helping me pass all of my exams on the So once again, please click that link in the ExSim. There are supplementary materials for this There is a flashcard deck to use with the link in the description and use the flashcards video. There will also be a packet tracer practice That will be in the next video. Before finishing today's video I want to Thank you to tibi, vikram, Joyce, Marek, Samil, Yousif, Kone, Boson Software, the creators Lito, Yonatan, Mike, Aleksander, Vance, and Sorry if I pronounced your name incorrectly, One of you is still displaying as Channel me know and I'll see if YouTube can fix This is the list of JCNP-level members at 2020, if you signed up recently and your name in future videos. Thank you for watching. Please subscribe to the channel, like the with anyone else studying for the CCNA. If you want to leave a tip, check the links I'm also a Brave verified publisher and accept Brave browser. That's all for now.