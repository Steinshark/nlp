Welcome to Jeremy's IT Lab. This is a complete course for the CCNA, Cisco In this video we will cover static routing, CCNA exam. In the previous video we looked at the basics packets. And we looked at two types of routes: Local Those routes are automatically added to a an IP address on an interface. Local routes provide a route to the router's a route to the network the interface is connected However, if you want the router to be able directly connected to the router itself, Local Today's topic, static routes, enable routers aren't directly connected to the router Here's what we'll cover in this video. First we'll briefly review connected and the network topology I introduced in the last Then I will introduce static routes, and how how to forward packets. And of course we'll see how to configure Unlike Connected and Local routes, static routing table and must be manually configured. Finally, I will also explain the concept of So, first up let's review Connected and the routers and checking their routing tables. In the last video I showed R1, so for this I configured IP addresses on G0/0 and G0/1 Remember, if an interface is disabled the won't appear in the routing table. Now, before I show the routing table I want be in the routing table. There should be one connected route and one routes. Remember, these routes are added automatically interfaces. So, what will the destination of each route Well, the connected routes are routes to the So, there should be one route to 192.168.12.0/24 And then the local routes are to the exact so there should be a route to 192.168.12.2/32 Okay, here are the routes. Note that, for the sake of space, I'm not at the top of the output. Remember, C means connected and L means local. Anyway, as expected R2 has two connected routes: Also it has two local routes, one to 12.2/32 So, to summarize: R2 knows how to reach its networks, but it doesn't know how to reach By 'remote' networks, I mean networks So, R2 knows how to reach destinations in including its own IP addresses in those networks. But it doesn't know how to reach any of If R2 receives packets destined for hosts them. R2 doesn't know where it should send them. And here's R3's configurations. 192.168.13.3/24 So, which routes will it have in its routing As you should know by now, it has two Connected So, like on R2, R3 knows how to reach its and destinations in its connected networks, know how to reach destinations in remote networks. So, it knows how to reach 192.168.13.0/24, knows 34.0/24, including its own IP of 34.3/32. It doesn't know how to reach any of the So, for example, if it receives a packet and R3 wouldn't be able to forward the packet. It would have to drop it. And here's R4's configurations. Note that R4 has three interfaces in use, table? The answer is six, three Connected and three Same as R2, R3, and also R1 which we looked reach its own IP addresses and destinations reach destinations in remote networks. These are the networks it knows, and these For example, if it receives a packet destined so it would be able to forward the packet However, if it receives a packet destined routes that match that destination IP, so So, all of these routers have connected and Now let's start looking at how we can configure Notice that I've colored the interface labels names for PC1 and PC4. PC1 and PC4 are Linux hosts, and their default These colors will make things easier to understand the network. So, first we are going to look at the concept End hosts like PC1 and PC4 can send packets network. PC1 is connected to 192.168.1.0/24, so it in that network, and PC4 is connected to 4.0/24, in that network. However, to send packets to destinations outside packets to their 'default gateway'. Gateway is an old term for router, so it means So, these are the configs on PC1 and PC4. In Linux, the interface configurations are On PC1 for example, there is the line 'address address as 1.10 with a prefix length of /24. And below that is the default gateway configuration, So, to send packets to destinations outside to R1. The default gateway configuration is also Basically, it's a route to 0.0.0.0/0. All netmask bits are set to 0, none of the 0.0.0.0/0 includes all addresses from 0.0.0.0 It's a route that includes everything. Remember the concept of 'most specific' Well, the default route is the 'least specific' addresses. 0.0.0.0/0 includes over 4 billion IP addresses. On the other hand, a /32 route like a local because it specifies only one IP address. For example 192.168.1.1/32 specifies only So, the default route says 'if there aren't don't drop it. Send it via this route instead'. Later we'll see how to configure a default used for, but for now just understand how End hosts usually have no need for any more They just need to know: to send packets outside my default gateway. So, if PC1 wants to send a packet to PC4, 192.168.1.10, PC1's IP. And the destination IP is 4.10, PC4's IP. Now here's a major point: what will the the Ethernet header? This is where you can start to really understand At Layer 3, PC1 wants to send the packet to However it has to first forward this packet So, it will encapsulate the packet in a frame MAC address. Now, how does it know R1 G0/2's MAC address? To learn it, PC1 will first send an ARP request I will show this part of the process in more 'Life of a Packet'. To keep things a bit simpler in this video, its neighbors' MAC addresses, I won't So, PC1 sent that frame to its default gateway, When R1 receives the frame, it will de-encapsulate and trailer, and look at the inside packet. It will then check the routing table for the It has to make a decision about what it will So, here is R1's routing table at the moment, Do any of these routes match the destination No, R1 has no matching routes in its routing So what will it do with the packet? It has no choice but to drop it. In its current state, R1 doesn't know how To forward it, R1 needs a route to the destination Remember, routes are instructions. R1 needs a route to say: to send a packet forward the packet to next hop Y. Now, we know the destination, the 4.0/24 network, What is the next router in the path to the Actually, there are two possible paths that One is the path via R3. PC1 to R1 to R3 to R4 to PC4. The other path is the one via R2. PC1 to R1 to R2 to R4 to PC4. In this video we will use the path via R3, So, we won't actually use R2 much in this The reason I included R2 in the diagram is are multiple paths to the destination, you Now, it is possible to configure the routers Instead of choosing one path, they can 'load-balance' That means some packets will take path 1 and Or they could, for example, use path 1 as You will learn about these techniques later In this video, we will only use path 1, the Now, to ensure PC1 and PC4 can communicate another route. Each router in the path needs two routes: and a route to 4.0/24, PC4's network. This ensures two-way reachability, which means can send packets to PC1. If, for example, all routers had routes to be able to send packets to PC4, but PC4's R4 would drop the reply because it would have So, we want two-way reachability. It's worth noting that, routers don't the destination. For example, R1 doesn't need a route to It just needs to know: to send packets to R3 will take care of the packets after that. And likewise, R4 doesn't need a route to R4 just needs to know: To send packets to R3 will take care of the packets after that. Okay, continuing on: R1 already has a connected route to 4.0/24. However, the other routes must be manually Before we get into actually configuring static configure. Here's a chart of the routes R1, R3, and with each other. In blue are R1 and R4's connected routes, Then, in red are the static routes we have I will show the answers, but before that I what the next hop IP address should be for Now let's check. For R1 to send a packet to the 4.0/24 network, Remember, we're using the path via R3 for The answer is 192.168.13.3, the IP address R1 has a connected route to 192.168.13.0/24, It can then use that IP address as a next-hop Okay next one, what next-hop IP should R3 network? The answer is 192.168.13.1, R1's G0/0 interface. And how about 4.0/24? It should send packets to 192.168.34.4, R4's Finally, what next hop should R4 use to send The answer is 192.168.34.3, the IP address Okay, we've planned the static routes we To allow PC1 and PC4 to communicate with each these static routes on R1, R3, and R4. First up, let's configure R1's route to Here is the format of the command. From global config mode, IP ROUTE, followed next-hop IP. So, for R1's route to the 4.0/24 network 255.255.255.0 192.168.13.3. That's it, fairly simple. I then checked R1's routing table. Notice I highlighted the code for static routes, And I've also highlighted the route itself Notice in square brackets there are two numbers: What do those numbers mean? They are the route's "administrative distance" We will cover these concepts later in the for now. I'm just pointing them out in case you're Okay, that's all we have to configure on It now knows that, to reach PC4's network, R3. Next up, R3. It needs two routes, one to 1.0/24 and one The format of the command is the same as on If you can, pause the video and try to figure Here is the route to the 192.168.1.0/24 network, And here is the route to 4.0/24, with R4 as And then I checked R3's routing table too. Again, you can see both routes there with To reach 192.168.1.0/24, send packets to R1. To reach 4.0/24, send packets to R4. And finally, let's configure R4's route Again, try to pause the video and figure out Here is the answer. IP ROUTE 192.168.1.0 255.255.255.0 192.168.34.3, the next hop. And here is R4's routing table now. So, we have now configured all of the static Let's test it out and see if they can actually To test it out, I pinged from PC1 to PC4, As I've highlighted, it says 5 packets transmitted, If the ping is successful, that means there PC1 can reach PC4, and PC4 can reach PC1. If PC1 could reach PC4, but PC4 couldn't work. So, the configurations were successful. Now, let me briefly show how a packet from and re-encapsulated in different frames as We will examine this process step-by-step up soon, so this is just a brief preview. You don't have to think too much about the As you saw earlier, when PC1 sends a message IP address, 192.168.4.10. However, at Layer 2 the destination is PC1's Now R1 has the packet and its R1's job to To do so, it encapsulates the packet in a This time the destination of the frame is R3's G0/0 interface. Now R3 has the packet and must forward it To do that, it once again encapsulates the of that frame is the MAC of R4's G0/1 interface. Now R4 has the packet, and since its directly forward the packet to PC4. It does that by encapsulating the packet in This is the only time in the journey that device. The destination IP is PC4's IP, and the This process is very important to understand, in another video. For now, just understand that the source and throughout the journey, but each time the the source and destination MAC addresses are Okay, now I want to introduce another option We haven't configured any routes on R2 yet, When configuring static routes, instead of 'exit-interface' instead. That means you specify which interface this than telling it the actual IP address of the For example if R2 wants to send packets to the packets to R1. What interface should R2 send packets out G0/0, because that interface is connected So, here's the command: IP ROUTE 192.168.1.0 You can type out the whole interface name is fine. Now, before we check the routing table there You can specify both the exit interface and So, if R2 wants to send packets to the 192.168.4.0/24 And which interface should it send packets G0/1, because its connected to R4. And what is the next-hop IP address? It's 192.168.24.4, the IP of R4's G0/0 So here's the command. IP ROUTE 192.168.4.0 255.255.255.0 G0/1 192.168.24.4. Okay, and here is R2's routing table now, An interesting point is that, when you specify it says the destination network 'is directly Look at the route I've highlighted in blue, That network is not directly connected to table when you configure only the exit interface. Static routes in which you specify only the ARP' to function. This is usually not a problem, but generally or both exit-interface and next-hop. Neither configuration method is necessarily you prefer. Note that Proxy ARP is beyond the scope of it here. However, you should know that, when configuring the exit-interface, or both. Okay, for the final topic I'll introduce router. I introduced the concept of default routes works, but let's review. A default route is a route to 0.0.0.0/0. /0 means that all bits of the netmask are fixed. They can all change to be either 0 or 1. So, 0.0.0.0/0 is the least specific route IP address. If the router doesn't have any more specific IP address, the router will forward the packet So, a default route is often used to direct In the network below, R1 is connected to R2 same business. More specific routes are used for destinations destinations connected to R2 and R3. However traffic to destinations outside of using the default route. This isn't the only way to use a default Okay, I added some IP addresses to the diagram, which I'm not showing here. I then checked R1's routing table. First, notice the part I've highlighted. Gateway of last resort is not set. This means that no default route has been 'Gateway of last resort' is another name Now, in R1's routing table there is a route a route to 172.16.0.0/16 with R3 as the next Perhaps these are networks used internally Now let's tell R1 to send all other traffic Here's how to configure a default route. The structure of the command is the same as netmask should both be all 0s, 0.0.0.0. And that's it, R1 now has a default route. I checked R1's routing table. Let me point out a few things. First, here's the route. 0.0.0.0 via 203.0.113.2. Notice, next to the S code indicating that What does that mean? In the codes legend it says that the asterisk It means this route is a candidate to become It's possible to have multiple candidates. In this case there's only this one, and 203.0.113.2 to network 0.0.0.0", so the Okay, that's all we'll cover about default The configuration is the same as a regular address and netmask are both 0.0.0.0. We will use default routes in many future with them throughout the course. Here's what we covered in this video. We reviewed connected and local routes by R4. Then we looked static routes and how to enable After that we configured the static routes I've listed the commands to configure static Usually I just use the first option, specifying know the other options too. And the final topic was default routes. We looked at default routes earlier in the gateways, and then at the end we looked at router. Okay, now let's go to the quiz to test your Here's quiz question 1. Which of the following commands configures Pause the video now to select the best answer. Okay, the answer is A, IP ROUTE 0.0.0.0 0.0.0.0 When configuring a static route on a Cisco with a slash, you must write out the netmask. So, B and D are incorrect. And in a default route, all bits of the netmask In C the bits are all 1, making it 255.255.255.255. That is not correct. Okay, let's go to question 2. Examine R1's routing table. Which interface will it use to forward packets Pause the video now to think about the answer. Okay, the answer is C, gigabitethernet0/2. The only route that matches destination 8.8.8.8 This route doesn't specify an interface, So, if you look at the route for 203.0.113.0/24, G0/2. So, R1 will send packets destined for 8.8.8.8 Okay, let's go to question 3. Examine the network below. Complete the graph with the static routes with each other. Pause the video now to think about the answers. Okay, let's check. Note that the graph specifies R1, R2, and We're not using the path via R3 this time. So, each router in the path needs a route R1 has a connected route to 1.0/24, so it as a next hop. As for R2, it needs this route to 1.0/24, hop 24.4. R4 has a connected route to 4.0/24, so it 192.168.24.2. Okay, with these routes on R1, R2, and R4, with each other. Let's go to question 4. Examine the following static route in R1's What command was used to configure this route? Pause the video now to think about the answer. Okay, the answer is D, IP ROUTE 172.20.0.0 The route states that the network is directly route added automatically by configuring an is wrong for two reasons. First, the route has the code 'S', so A connected route would have a code of C. You can't configure a network address on option B would not work. When you configure a static route and specify appears as directly connected in the routing Then, a technique called Proxy ARP is used Proxy ARP is beyond the scope of the CCNA, Okay, let's go to question 5. Examine the diagram below. How many static routes would you have to configure Pause the video now to think about the answer. Okay, the answer is D, four routes. R3 knows its connected networks, 192.168.13.0/24 For it to know all destination networks in four additional routes, to 192.168.1.0/24, Okay, that's all for the quiz and this video. I hope it was helpful, thanks for watching.