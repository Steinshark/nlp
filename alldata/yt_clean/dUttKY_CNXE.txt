Welcome to Jeremy's IT Lab. This is a free, videos, please subscribe to follow along with the and share the video to help spread this In this video we will cover extended ACLs, access about the purpose of ACLs, how they work, how for extended ACLs. The only difference is that than standard ACLs, which can only match As a reminder, ACLs are topic which states that you must be able to configure you'll know everything you need to know to Here's what we'll cover in today's video. configure numbered ACLs. This applies Then I'll show you how to edit ACLs, in entries in a specific order. Finally I'll Although the commands are a little longer the configuration method in general As always, watch until the end of the quiz for Software. Boson ExSim simulates the difficulty other practice exams. If you want to get Boson Let's get started. In day 34 you learned that mode. For example, here's a simple ACL denying The entries of ACL 1 are configured directly from You also learned that named ACLs are configured Here's the same ACL, configured as a named ACL. The IP ACCESS-LIST STANDARD command is used and then subcommands within that mode However, in modern Cisco IOS you can also named ACLs. Here's a numbered ACL, configured Be aware that this is just a different but if you check the ACL in the running was configured using the traditional Let me demonstrate. From global config then checked the options. Notice that both So, I configured ACL 1 using the named ACL 1 and then the two separate entries. However, as if I configured it using the traditional from global config mode. If it ends up being it in named ACL config mode? Well, there are Let me show you those advantages. First, you the command NO, followed by the entry number. ACCESS-LISTS, and you can see an ACL that I have numbers 10, 20, 30, and 40. These are the default by 10, but remember that in named ACL config mode Okay, then I used the command NO 30 Then I checked the ACL again, and now you This is very convenient for editing using the traditional numbered ACL Let's see how it works. Here's the same ACL, out in the running-config. Then I tried to delete by using NO in front of the command. NO did that delete that entry? I checked with SHOW sure I checked the running-config, but again but I didn't just delete that entry. I deleted numbered ACLs from global config mode, you can't the entire ACL. So, if you want to edit it you If an ACL has many entries, this is obviously not definitely should use named ACL config mode. Note ACL in global config mode, and then just use named Okay, so that's the first advantage even if you're configuring numbered ACLs. followed by the entry number. Here's another other entries by specifying the sequence number. you can't specify the sequence number. The and the sequence number is automatically set to 10 However from named ACL config mode you can new entries in the middle of an ACL. Let's after deleting entry 30. Let's configure So, I used 30 DENY 192.168.2.0 0.0.0.255 to create Then I checked the ACL, and you can see the new and it has the sequence number of 30 that I and notice as I showed you before that it in global config mode, and the new entry was those are a couple advantages of using named ACL Let me show you one more There is a resequencing The command is IP ACCESS-LIST RESEQUENCE, followed and then the starting sequence number and the sequence numbers. Okay, that might be hard to Here's an ACL, but notice the sequence numbers. It the entries 1, 2, 3, 4, and 5. Note that the just because of what I explained in the previous So, what's bad about these entry numbers? Well, the other entries. For example, maybe you want to However, it's impossible because there Let's use the resequence command to fix this. 10 10. 1 is the ACL number, what is the starting sequence number. It means, change How about the second 10 of the command? every entry after that, after the first and the ACL has been resequenced. Note that the then DENY 3.1, then DENY 2.1, then DENY 4.1, and have been changed, starting at 10 for the top That's how ACL resequencing works. Now it's simple Note that this command is done from global config standard and extended ACLs, so all ACLs. Okay, let's get to the main part of this mostly the same as standard ACLs. They can be If you configure an extended numbered 100 to 199, and 2000 to 2699. You definitely Make sure you know the standard ACL ranges Extended ACLs are processed from top However, here's the big difference. They so they are more precise, and You can really specify exactly what traffic to permit, specific kinds of traffic from For the purpose of this video, we will Layer 4 protocol and port number, source IP an extended numbered ACL entry from global config Make sure this number is in one of the ranges PERMIT or DENY. After that you can specify the IP address and the destination IP address. It starts with IP ACCESS-LIST EXTENDED, and then extended numbered ACLs can also be Once you're in extended named ACL config mode, the protocol, source and destination, etc. Because and named ACL configuration, I will just focus on Just don't forget that you can configure extended Now, as I wrote above, extended ACLs are There are lots of different variations and the access list entries. I'll just show you some but I won't explore every possible option that can try it out in a lab and use the question First I'll explain how extended ACLs can match config mode, I entered DENY and used the question First up, you can use an IP protocol Think back to Day 10 of this course, about the identifies the protocol that is encapsulated So, you can identify the protocol by Or, you can use the name of the protocol, options since it's easier to remember, but if you want to IP protocol number 1 is ICMP, 6 is TCP, I briefly mentioned some of these earlier in they might come up somewhere on the exam. But name in ACLs. Here you can see EIGRP, ICMP, to block OSPF messages on an interface, for However, for this lesson we are going to focus That is IP itself. If you use the IP option, when we don't care about the protocol, we just if you want to put a 'permit any' statement at the Now let's see how to add the source and I selected TCP as the protocol. So, any IP packets the entry. However, we still have to specify the Note that, in extended ACLs to specify a /32 option or specify the wildcard mask. You can't In standard ACLs that is Okay, so I decided to use ANY to match all the destination IP address. There are many more but I'll cover that later. So, for the the destination address, ANY, or HOST to specify destination 10.0.0.0, and now I have to enter the and now this entry is complete. So, what is the that encapsulate a TCP segment, from any source This is just a single entry, of course, to more entries after this, but now I want you to Here are a few practice questions. just individual entries so you can If you can, pause the video and try to write out Okay, let's check each one, number 1 first. permits all traffic? The answer is PERMIT IP and then we can use ANY for both the source This is like PERMIT ANY in a standard ACL. from sending UDP traffic to 192.168.1.1/32. HOST 192.168.1.1. Instead of HOST, another the end instead, 0.0.0.0. Next let's from pinging hosts in 192.168.0.0/24. What DENY ICMP, that's the protocol for ping. I but still make sure you're aware that ICMP 192.168.0.0 0.0.0.255. Again, instead of Okay, we'll do some more practice later So let's talk about matching TCP and UDP port protocol to match, you can optionally specify the This is optional, if you just specify all port numbers will be matched. So, here's numbers. I chose 'DENY TCP', but of course this If you want to specify the source TCP or IP address and wildcard mask like this. EQ, For example, EQ 80 means equal to port Another option is GT, greater than. For example so 81 and up. There is also LT, less than. so 79 and below. NEQ is not equal, so for The final option is RANGE, for example RANGE After the destination IP address, the same port number. Although you should know these most common choice is EQ, to match traffic for a port numbers from Day 30 of the course. If not, I So, in this example I didn't specify the host straight to the destination IP, HOST 1.1.1.1. Then see the options below. You can enter the specific such as WWW to match HTTP, which is port 80. Lots you can use, though, so make sure you learn the What is the effect of this ACL entry? It denies TCP port 80. Okay, in the next I'll have but let me say one more point. After the port numbers, there are many more options These aren't necessary to learn for the CCNA, but FIN, to match the TCP FIN flag. TTL, to match packets with a specific TTL, time to packets with a specific DSCP, differentiated Finally, note that if you specify the protocol, destination port, etc, a packet must match ALL it matches all except one of the parameters, So, extended ACLs let you be very specific Okay, here's some more practice for writing pausing the video to try to solve these yourself, traffic from 10.0.0.0/16 to access the server at PERMIT TCP, because we need to match HTTPS, 10.0.0.0/16, and we don't need to specify a source I used a /32 wildcard mask, but you can Finally, I used EQ 443 to match only HTTPS, which number 2. Prevent all hosts from using from accessing the server at 3.3.3.3/32. And 30000 HOST 3.3.3.3. So, this matches all packets with a destination of 3.3.3.3. Okay, finally TCP source port greater than 9999 to access all Here's the answer. The protocol is the source port is anything greater than 9999, the port is anything except 23. Quite a specific Okay, let's return to our network from Day 34 Here are the requirements. Hosts in Host in 192.168.2.0/24 can't access 10.0.2.0/24. or 2.0/24 can ping 10.0.1.0/24 or 2.0/24. requirements, and in this case they will all configure an ACL for this requirement, hosts in Here's the ACL. After entering extended named matches TCP traffic coming from 192.168.1.0/24. SRV1, and the destination port is 443, which Then I used PERMIT IP ANY ANY to allow all other to apply it to an interface. Which interface For standard ACLs, the rule is to apply them Why is that? It's because standard they only match the source IP address. So, if you block more traffic than intended. Because the rule is the opposite. Extended ACLs should to limit how far the packets travel in the network specific, if configured correctly there isn't much So, you should apply them close to the processing packets that will just be dropped. where is the source? We should apply it inbound on tries to access SRV1 using HTTPS, the Next up, let's fulfill that second requirement, Again, I'll create a new ACL on R1. Of course, and try to write out the ACL yourself. But Specifying IP as the protocol basically IP header. Then I simply specified the source, Finally I added PERMIT IP ANY So, which interface should this ACL be applied close to the source as possible. In this case, ACL inbound on R1's G0/2 interface. Okay, now Finally, the third requirement. None of the hosts or 2.0/24. So, what protocol does ping use? We to specify each source and destination. Pause the solution. So, I created three deny entries that but only one for 192.168.2.0/24. Why is that? It's traffic from 192.168.2.0/24 to 10.0.2.0/24, If you included it, it's not a problem of it's not necessary. At the end of the ACL, I once Which interface should this ACL be applied to, in both 192.168.1.0/24 and 2.0/24 from reaching option is here, outbound on G0/0. This way the So, here are the three ACLs I just configured. As I have said before, ACL configuration only solution that works. Actually, this is If you want a challenge, try to make a more less entries, and fulfills the requirements. If Finally, here's how to check which The command is SHOW IP INTERFACE, then the BRIEF, but the regular version of the command is just part of the output, it's quite long so I Here you can see which ACL is applied or if there is no applied ACL it you can also check in the running config, both for the exam and for 'real-world' purposes. Before moving on to the quiz, let's First I showed you another way to configure numbered ACLs in named ACL config mode. What is Named ACL config mode lets you delete individual new entries to insert them in the middle of an ACLs. Extended ACLs are much more powerful than protocol, source and destination IP addresses, This makes them more complex to configure, but with them. Remember to watch until the end of by Boson Software, the best practice exams for the Which ACL, when applied outbound on R1's G0/0, permits only PC1 to access the TFTP server 100, 101, 102, and 103. Pause the Okay, the answer is 103. Entry 10 permits TFTP, on SRV1. Note that, I actually entered the port number of 69, Then, entry 20 denies all other hosts from sending permits all other traffic. ACL 102 is similar, but SRV1, it specifies the source port, which What effect will the following command have on 10.0.2.0 0.0.0.255. And here is ACL1. A, B, ACL 1 will be deleted. C, the command traffic to 10.0.2.0/24 will be permitted. The answer is B, ACL 1 will be deleted. mode does not allow you to delete individual the NO command, the entire ACL will be deleted. you'll need to use named ACL config Which command was used to resequence ACL 199? Here's ACL 199 before being resequenced. which one was used to resequence ACL 199? The answer is C, IP ACCESS-LIST RESEQUENCE you must specify the name, the new sequence number to increase the sequence number of the the router to use 5 for the first entry, and so from 1, 2, 3, 4, and 5 it became 5, 15, Which of the following ACLs would prevent Below are ACLs 110 to 113. Pause the The answer is ACL 112. Its first entry PERMIT IP ANY ANY is added to allow other so R1 won't forward OSPF packets protocol number 88 from ACLs 111 and 113 is EIGRP, ACL 150 isn't having the intended HTTP and HTTPS traffic from 192.168.1.0/24 Select two. Okay, so you can see ACL 150 and the A, swap the source and destination IPs. to the beginning of the ACL. C, apply D, apply the ACL inbound on G0/0, not G0/1. Or F, the port numbers should be 88 and 404. Pause The answers are C and E. The ACL should be traffic entering the G0/1 interface from the HTTP and HTTPS both use TCP as their Layer Okay, that's all for the quiz. Now let's do Okay, here's today's Boson ExSim practice to the Internet. We have Router1, and three and a web server. Here's the question. You have You need to limit access from the Internet and Music Server2. These two servers should The web server is not subject to this policy on the 10.10.10.0/24 subnet should not You have already issued the access-list 101 applied the access list outbound on the F0/0 permit TCP any host 10.10.10.20, satisfies this subject to this policy and should not be fulfilled. So, what requirement do we have limit access from the Internet to the music allow only FTP connections from the Internet. C, and D. So, pause the video, look at these four Okay, let's check. So, I think the correct answer FTP connections to Music Server1 and Music address, so anything from the Internet, so connect Music Server1 and Music Server2. But it 'equals FTP', so that allows FTP connections after that on this access list there would be a So I think that satisfies the requirements. We are and we are allowing only FTP connections to Music deny blocks all other traffic. Okay, so let's And that is correct. So, You can pause the video here if you want to As I have said before, this is one of Okay, so that's the explanation. There Cisco's official cert guide and some Okay, that's Boson ExSim for the follow the link in the video description. These Once again, follow that link There are supplementary materials for this video. There is a flashcard deck to There will also be a packet tracer practice That will be in the next video. Sign up for my and I'll send you all of the flashcards Before finishing today's video I want To join, please click the 'Join' button under the TheGunguy, Njabulo, Benjamin, Tshepiso, Apogee, Marko, Flodo , Daming, Joshua, Marek, Velvijaykum, C Mohd, Mark, Yousif, Sidi, Sorry if I pronounced your name incorrectly, This is the list of JCNP-level members at the time you signed up recently and your name isn't on Thank you for watching. Please like the video, leave a comment, and share the If you want to leave a tip, check the links in the and accept BAT, or Basic Attention Token, tips