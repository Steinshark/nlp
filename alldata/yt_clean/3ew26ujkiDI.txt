Welcome to Jeremy's IT Lab. This is a free, these videos, please subscribe to follow along a comment, and share the video to help spread help. Today we will finish our studies of OSPF for in much greater depth than RIP and EIGRP. CCIE level, you'll see that there is much, purpose of this CCNA course we'll finish here is exam topic 3.4, which covers OSPF. ready to take on OSPF questions on the CCNA First let's look at what we'll cover in These refer to the different kinds of connections influence OSPF's behavior. Next up we will In day 2 we covered the process routers use actually look at the requirements for a successful at a few of the LSA, Link State Advertisement, be aware of a few for the CCNA. Make sure for a bonus question from Boson ExSim for Before we get into those topics I want to a little bit. In previous videos I've mentioned them in the past few lab videos, but let me is a virtual interface in the router. You you manually shut it down). So, this means dependent on a physical interface. Physical fail, however that can't happen to a loopback So, it provides a consistent IP address that Sometimes you need to send traffic directly interface at the moment, and R4 receives a address of its G1/0 interface. It might forward What if R1's G1/0 interface goes down for for R1 at 10.0.13.1, it will not be able to How about if R1 has a loopback interface, of 10.0.13.1? Even if a physical interface for R1's loopback interface it will still why it's a good idea to configure a loopback with an IP address that is always up, and the router. Now let's move on to look at the different refers to the type of connection between OSPF behaves in some ways. The most common type of course. There are three main OSPF network type, which is enabled by default on Ethernet and you don't need to spend time learning flashcards for OSPF network types, you might the exam, that the OSPF broadcast network network type, which is enabled by default to learn PPP and HDLC in depth for the current later in this video. The last main network on Frame Relay and X.25 interfaces. Again, types for the exam, but I will include them OSPF network types. Take a look at the OSPF network type, and 3.4c mentions the Broadcast we will focus on now. First up, the broadcast network type. As I on Ethernet and FDDI interfaces by default. and in the previous videos all of the OSPF Broadcast network type, because they are all above, these are all Ethernet connections, and therefore these connections between the type. Now let's cover a few characteristics dynamically discover neighbors by sending the multicast address 224.0.0.5. You already you how OSPF routers become neighbors. However, neighbors like this. We won't cover this network type you must manually configure neighbors. and BDR, backup designated router, must be the G1/0 interface of R1, R3, R4, and R5 where a DR, no BDR. Routers which aren't the DR I've heard a few ways to pronounce that, at the network above. Each subnet needs a neighbors so each router becomes the DR for between R1 and R2? In the next slide I'll say R2 is the DR. So, R1 becomes the BDR for subnet that R2, R3, R4, and R5 connect to? and then R2 and R3 become DROthers. You're and what the purpose of the DR and BDR is. So, here's how the DR and BDR are elected. router with the highest OSPF interface priority However, all interfaces have the same priority OSPF router IDs. The router with the highest the election becomes the DR for the subnet, default OSPF interface priority is 1 on all with the highest router ID will become the Here's some partial output from SHOW IP ID. I configured a loopback interface on each interface became the router ID. State DR, the highest router ID of the routers connected the DR. Down here the DR, R5 itself, and BDR, their router IDs and the interface IP address And here's the same output for R2. The main of DROTHER. Now, what if I want to make R2 see how to change the OSPF interface priority. The command to change the OSPF priority of by the priority, with a range of 0 to 255. a side note, if you set the OSPF interface for the subnet, no matter what. So, let's That's strange. R2's state is still DROTHER, is that? It's because the DR/BDR election about 'preemption' in Day 29 when we learn what 'non-preemptive' means is that once role until OSPF is reset, the interface fails/is idea to do in a live network, I'll go reset happens. So, I reset the OSPF process on R5, and you Then R2 and R4 returned to the FULL state, for that, you'll learn soon. Then I used the neighbor state of R5's neighbors. Look OSPF we can learn by analyzing this section. the BDR. What can we learn from that? We can becomes the new DR. Then an election is held stepped up to be the new DR, and then an election next BDR. R2 has the highest priority, 255, is a DROther, and is stable in the 2-way state. can we learn from this? We can learn that with the DR and BDR of the subnet. The neighbor gives us a hint to the purpose of the DR and But remember these two points, that the BDR even if it doesn't have the highest priority. with other DROthers, they remain in the 2-way To repeat, in the broadcast network type, with the DR and BDR of the segment. Therefore, BDR. DROthers will not exchange LSAs with routers haven't shared LSAs with each other LSDB, but this reduces the amount of LSAs If 6 routers are connected to the same segment will end up like this. A whole lot of LSAs if we use a DR and BDR? If routers only exchange LSAs with the DR flooding around the network is reduced. To not a big deal in most cases, but it still By the way, when routers need to send messages 224.0.0.6. This is different than the OSPF Here's a quick review of the OSPF neighbor steps involve becoming neighbors? So, when are OSPF neighbors. Connections between two only continue on to exchange LSAs and form So, to summarize, this means that the DR and in the subnet, including the DROthers. And the DR/BDR. I showed you this command, SHOW IP OSPF INTERFACE is a DROther. Notice the neighbor count on of full adjacencies, and C indicates the total with R2 and R4. But it has three total neighbors, For more detail, here is SHOW IP OSPF INTERFACE here, 'Neighbor Count is 3', that's neighbor count is 2', those are the neighbors it, its two adjacent neighbors are listed. enough for the Broadcast network type for Now let's take a look at the 'point-to-point' between R1 and R2 to a 'serial' connection. connections in the next slide, but first let connection type. This network type is enabled encapsulations by default. PPP and HDLC are except they are used on serial connections. dynamically discover neighbors by sending/listening 224.0.0.5. However, here's a difference. As the network type name implies, these encapsulations between two routers. Therefore there is no will form a Full adjacency with each other, Okay, let me give a very brief overview of serial connections are an old technology which but Ethernet is much more dominant. In fact, the exam topics except for the OSPF 'point-to-point' tested directly on knowledge of serial interfaces, This photo shows some serial interfaces and cables are different than Ethernet cables. To explain serial connections, I'll show You don't need a deep understanding of this here. First up, one side of a serial connection Equipment. The other side functions as DTE, Why is this significant? Well, on serial connections, which is the speed, of the connection. So, and therefore needs to tell R2 what speed is 'clock rate', and then you can see of these are in bits per second, by the way. second, aka 64 kilobits per second, added an important point. Ethernet interfaces use operating speed. Serial interfaces use the Let's continue. I checked the interface encapsulation is HDLC. On Cisco routers, the is HDLC. Actually, it's Cisco's own version as just 'HDLC' in the CLI. Once again, except it's used on serial connections. from Wikipedia. You don't need to learn a look. One thing to note is that there is aren't used. I mentioned the PPP encapsulation to use that encapsulation instead. Simply Note that if you change the encapsulation, will go down. If they use two different encapsulations languages, they won't be able to communicate. see the encapsulation has changed to PPP. is up. Here's the configuration I did on R1. The default, so I only configured the clock rate, is on R2, with no CLOCK RATE command because Now you're probably wondering, how can I to show you I had to recreate this connection these lectures, doesn't handle physical, display as DCE. Anyway, the command to view ID. As you can see R1 is the DCE side, and I used the same command on R2, and you can the Tx, transmit, and Rx, receive clocks from So, that's a very basic overview of serial should know. The default encapsulation on them to use PPP encapsulation instead with the encapsulation on one side, remember to connection is DCE and the other is DTE. You DTE with this command: SHOW CONTROLLERS, followed configure the clock rate, the speed of the CLOCK RATE, followed by the clock rate in Let's return to the OSPF point-to-point IP OSPF NEIGHBOR on R2. Notice that R2 has BDR, or DROTHER, a dash is displayed. This doesn't use DRs or BDRs, as I mentioned Final point on this topic, you can manually The command is IP OSPF NETWORK, followed by type that I haven't mentioned, that is the more of a 'sub-type'. You don't need to do a Google search if you're curious. type? For example, if two routers are directly diagram below, there is no need for a DR/BDR. type in this case, although you don't have all link types. For example, a serial link is because serial links don't support Layer the broadcast network type. Okay here's a chart for quick review. One is that point-to-point networks use the same default Hello timer is 10 seconds and the have to learn this network type, but just type uses a default Hello timer of 30 seconds move on. Now let's move on to look at some requirements will become OSPF neighbors without issue, that can occur. I already mentioned some of First requirement, the area number must match We'll use this small topology of two routers OSPF is enabled on G0/0 in area 0. However, IP OSPF NEIGHBOR on both devices, they have I changed the network command on R2 to use became OSPF neighbors. So, that's the first rule. For two routers the same area. But we already covered that in the same subnet to become OSPF neighbors. demonstrate it. Notice that R1 and R2's G0/0 interfaces OSPF on both of the interfaces. But when I I once again configured R2's interface in to edit the network command so that OSPF is are OSPF neighbors again. Next up, here's one we haven't covered You can actually 'shutdown' the OSPF process OSPF operation, without removing the OSPF Here's how to do it. From OSPF configuration a message is displayed indicating that its no neighbors are displayed in SHOW IP OSPF SHUTDOWN, A message indicates the neighbor OSPF NEIGHBOR. That one won't be a problem unless you manually not a problem. Next requirement, the OSPF Let's see how that works. I haven't configured configured any loopback interfaces, so each its router ID, 192.168.1.1 for R1 and 192.168.1.2 router ID, the same as R1's. As I have shown or use CLEAR IP OSPF PROCESS for the new router PROCESS. Immediately the neighbor goes down instead of the neighbor coming back up, this router-id 192.168.1.1 from 192.168.1.1 on neighbor stays down. So, let's fix this. with NO ROUTER-ID. Note that you don't actually the command. NO ROUTER-ID has the same effect command. This time, without having to reset to 192.168.1.2 and the neighbor comes up again. I actually didn't expect this, but I realized at the time, so the router was free to change effecting other neighbors. So, watch out for duplicate router IDs. Next match. In both of the network types we looked defaults are 10 seconds and 40 seconds. But The Hello and Dead timers are configured directly the Hello timer. IP OSPF HELLO-INTERVAL, followed Then the Dead timer. IP OSPF DEAD-INTERVAL, then goes down. Note that I changed both values, if you only change one the neighbor will still OSPF HELLO-INTERVAL and NO IP OSPF DEAD-INTERVAL Notice the method I used to return them to router ID. I didn't have to actually specify 20 to remove the commands. Anyway, now that neighbor is back up. So, remember to check the Hello and Dead intervals Next up, authentication settings must match. an OSPF password, and then the router will a matching OSPF password. Let's take a look. The OSPF password is configured directly on followed by a password of 'jeremy'. Note on the interface. The password is configured, So, I used IP OSPF AUTHENTICATION to enable down, because R1 isn't providing R2 a matching OSPF authentication on R1 yet, so it's not fix this we could either configure the same authentication from R2. I removed them from Okay, there are two more things to mention. interfaces must match. The IP MTU is the maximum of the interface. The default is usually 1500 this requirement and the next one are special, can become OSPF neighbors, but OSPF won't You can configure the IP MTU of an interface MTU in bytes. I changed it to 1400 on R2's 1500 on R1's G0/0. I waited a minute and actually remained neighbors. Then I reset but no message came indicating that the neighbors neighbor table again, and it was stuck in a few more messages were displayed, and these OSPF isn't functioning properly. I used value, and then finally R1 and R2 reached So, if your OSPF neighbors are having trouble the MTU settings. Okay, last one. The OSPF happens if they don't. So, to demonstrate this problem I configured and advertised it to R1. Then I changed the R1's G0/0 is still using the default broadcast the neighbor went down, but then it went right FULL in SHOW IP OSPF NEIGHBOR. So what's Here's R1. R2 appears in the neighbor table is working fine. But look at the routing table. routing table, but it's not. This is what match. It can be tricky to troubleshoot because like everything is working fine. Make sure OSPF. Okay, I'll leave it there. There is of course plenty for the CCNA. Make sure to remember them as a list, but make sure that if you to identify and fix them. The final topic for today's video is LSA the exam topics list, so I'm just going overview of some basic LSA types. To do so, modified it, adding an Internet link on R4. I use DEFAULT-INFORMATION ORIGINATE to make let's talk about LSAs. As you already know, in the same OSPF area share the same LSDB. 3 you should know for the CCNA. Those are 'network LSA'. And type 5, the 'AS external type. First up is type 1, the router LSA. Every LSA. The router LSA identifies the router networks attached to the router's OSPF-activated LSA. It is generated by the DR of each 'multi-access' is an Ethernet network using the broadcast which are attached to the multi-access network. LSA. This type of LSA is generated by ASBRs of the autonomous system, the OSPF domain. Here's a look at the LSDB on R1, using the doesn't actually matter which router I use because all routers in the area have the same a Type 1 Router LSA identifying itself. This but each of these router LSAs contains information to. Notice that there is only one Type 2 Network subnet. Even though R1, R3, and R5 are DRs are connected to the interfaces so no Type Type 5 AS-External LSA is generated by R4. with the other routers. Okay, that's all stated in the exam topics list, but I just some of the basic LSA types you will encounter. I told you we were going to cover OSPF in these past three days we definitely did that. sure you understand the material in these to, and feel free to ask questions in the covered in today's video and then move on types, focusing on the two you need to know Because Ethernet connections are dominant be using the Broadcast network type. But also and the basics of serial interfaces that I some requirements for OSPF neighbors and adjacencies. but make sure you can identify them all and the three most basic OSPF LSA types. Type And Type 5, the AS-External LSA. Make sure question from Boson ExSim for CCNA, my favorite question 1 of the quiz. Which option states a characteristic of the than the OSPF broadcast network type? A, DR elections are not held. C, Neighbors are dynamically discovered. Pause the video to think about The answer is B. In the OSPF point-to-point held. C, neighbors are dynamically discovered, network type, but it is also true about the Let's go to question 2. There is an OSPF broadcast network with 5 interface. How many FULL OSPF adjacencies BDR. B, 2 with the DR and BDR. C, 4 with all to the segment. Pause the video to think about The answer is C. The DR forms a FULL adjacency segment, so C is correct. It doesn't form so B and D are incorrect. A is incorrect because neighbors, not all four. Let's go to question Which of the following are requirements for A, Hello and Dead timers must match. B, OSPF must match. D, Interfaces must be in the same Or F, interfaces must be in different subnets. select two. The answers are A and D. For two routers to timers on their interfaces must match. They here are the requirements for OSPF neighbors go to question 4. Which of the following OSPF LSA types is generated such as the broadcast network type? A, type the video to think about your answer. The answer is B, type 2. Type 2 is the 'Network' network. It lists the routers which are attached the Router LSA type. D, Type 5, is the AS-External in this video. It's called the 'Summary' 5. R1 is connected to an OSPF Broadcast network segment and R3 is the BDR. All routers on You issue the ip ospf priority 100 command the following statements are true about the two. A, R1 is the DR. B, R1 is the BDR. C, isn't high enough. D, if you issue the clear the BDR. E, if you issue the clear ip ospf DR. And F, the DR and BDR of the network are your answers, select two. The answers are D and F. The default OSPF entering the command R1's G0/0 interface It's still a DROther, but priority isn't give up their positions, so R1 will not become and F is correct. If you issue the CLEAR IP R3, will automatically become the DR, not you issue that command, when R3 becomes the Since R1 has the highest priority, it will correct. That's all for the quiz. Let's for CCNA. Okay, here's today's Boson ExSim practice FASTETHERNET 0/1 command on Router1 and receive the command, and here's the question. Which the best answer. Okay, pause the video now. best answer. Okay, let's check. So, I believe the correct options and then I'll go on to D. First up, Well it says right here, Router1's state is connected to a point-to-multipoint network. so that's incorrect. C, Router1 is configured the timers here, they are the defaults. Also, think there is any problem with Router1's higher than 50. You can see here that Router1's BDR doesn't necessarily have a priority higher Router1, 50, but a higher router ID. So E The key to this question is knowing the difference those words are used to mean the same thing, different. Look here in the output. Neighbor So, although Router1 has 5 OSPF neighbors, in the OSPF FULL neighbor state. This number the DR and BDR, but also Router1's DROTHER the 2-way state with another DROTHER. So, OSPF broadcast network. And DROTHERs can only 2 routers. So, I chose this question because between a neighbor and a full OSPF adjacency. is correct. Okay, pause the video now if you notice that it includes a reference to some INTERFACE command. And this Cisco documentation, and it's another great study resource. Okay, please follow the link in the video description. exams I used when studying for both my CCNA once again, follow that link in the video There are supplementary materials for this the software 'Anki'. There will also be some hands-on practice. That will be in the the link in the description, and I'll send lab files for the course. Before finishing today's video I want to I've noticed an increase in the number of all of you, both JCNA and JCNP-level members. JCNP-level members one by one, but the list list up here. Your support helps me keep making I'm really grateful for your support. This of recording by the way, August 23rd 2020, on here don't worry, you'll be in future Thank you for watching. Please subscribe to and share the video with anyone else studying check the links in the description. I'm also or Basic Attention Token, tips via the Brave